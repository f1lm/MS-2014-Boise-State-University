(function(){var h=document,i=window,b=true,a="tcb-1.0",c;function j(m,o,d){var n=h.ce(m);n.className=o;if(d){n.id=d;}return n;}function e(){if(!c){_ate.track.apc(a);c=1;}}addthis.box=function(m,d){l(m,d,f);};var l=function(x,q,z){if(!(x instanceof Array)){x=_ate.util.select(x);}for(var w=0;w<x.length;w++){var m=x[w];q=q||{};e();if(!m.getAttribute("atid")||m.getAttribute("atid")!=w){m.setAttribute("atid",w);}m.conf=q;var p=q.pubid||_ate.pub(),E=q.domain||null,B=q.feed_type||"trending",r=q.feed_period||"week",s=q.feed_service||null,D=q.tag||null,o=m.getAttribute("addthis:pubid")||p,u=m.getAttribute("addthis:domain")||E,t=m.getAttribute("addthis:feed_type")||B,y=m.getAttribute("addthis:feed_period")||r,v=m.getAttribute("addthis:feed_service")||s,A=m.getAttribute("addthis:tag")||D,C={pubid:o,callback:_ate.util.bind(z,m),period:y,type:t},n=i.addthis_feed_url||"//q.addthis.com/feeds/1.0/",d;if(u!=null&&u.length){C.domain=u;}if(v!=null&&v.length){C.service=v;}if(A!=null&&A==="false"){C.tag=false;}else{C.pco=a;}if(b&&((!q.feed_service&&!q.feed_period&&!q.feed_type)||(_ate.pamp>0))){_ate.feeds.recommend(C);}else{_ate.ajs([n,"trending.json?pubid=",p,(C.period?"&period="+C.period:""),(C.service?"&service="+C.service:""),(C.domain?"&domain="+E:""),"&callback=",_ate.util.scb("fds",p,function(){clearTimeout(d);C.callback.apply(this,arguments);})].join(""),1,true,true,null,true);d=setTimeout(function(){C.callback([]);},4500);}}};var k=function(m,d){if(!m){return"";}m=m.replace(new RegExp(String.fromCharCode(160),"g")," ");var n=m.indexOf(d);if(n!=-1){if(n==0){m=m.slice(d.length);}else{if(n==(m.length-d.length)){m=m.slice(0,n);}}}return m;};var g=function(r,d,w,q){var n=false;r=(r||"").replace(new RegExp(String.fromCharCode(160),"g")," ");if(w!=null&&w instanceof Array){for(var s in w){var m=d.lastIndexOf("#"),p=w[s].toLowerCase(),o=d.toLowerCase();if(p===o){n=true;break;}else{if(m>0&&p===o.substr(0,m)){n=true;break;}}}}else{if(w!=null&&typeof w==="string"){if(w.toLowerCase()===d.toLowerCase()){n=true;}}}if(q!=null&&q instanceof Array){for(var v in q){if(q[v]===r||v===feedItem.title){n=true;break;}}}else{if(q!=null&&typeof q==="string"){if(q===r||q===feedItem.title){n=true;}}}return n;};var f=function(E){var r=this.conf,C=r.num_links||5,w=r.width||"300",t=r.height||"auto",B=r.remove||null,D="feed_title"in r?r.feed_title:"",v=r.link_target||"_top",z=r.background||null,x=r.border||null,m=r.scroll||"auto",o=r.url_filter||null,p=r.title_filter||null,s=r.transform||function(F){return F;},A=E instanceof Array?E:E.urls||E;C=this.getAttribute("addthis:num_links")||C;w=this.getAttribute("addthis:width")||w;t=this.getAttribute("addthis:height")||t;B=this.getAttribute("addthis:remove")||B;D=this.getAttribute("addthis:feed_title")||D;v=this.getAttribute("addthis:link_target")||v;z=this.getAttribute("addthis:background")||z;x=this.getAttribute("addthis:border")||x;m=this.getAttribute("addthis:scroll")||m;o=this.getAttribute("addthis:url_filter")||o;p=this.getAttribute("addthis:title_filter")||p;s=this.getAttribute("addthis:transform")||s;if(w!="auto"&&isNaN(w)){w="300";}if(t!="auto"&&isNaN(t)){t="auto";}this.className="addthis_trendingcontent";this.innerHTML="";this.style.overflow=m;this.style.backgroundColor=z||"";this.style.border=x!=null?"1px solid "+x:"none";if(w!="auto"){this.style.width=w+"px";}else{this.style.width="";}if(t!="auto"){this.style.height=t+"px";}else{this.style.height="";}if(D&&D!=""){var n=j("P","addthis-content-title");n.innerHTML=D;this.appendChild(n);}var d=0,q=this,y=_ate.feeds.decorator({pco:a,total:(q.conf||{}).num_links||5});_ate.util.each(A,function(L,H){if(d==C){return false;}var M=k(H.title,B),J=H.url,G=g(M,J,o,p),F=s({url:J,title:M});if(G===false&&F!==null&&F!==false){J=F.url||J;M=F.title||M;J=y({url:J,pos:L});var I=j("DIV","addthis-content-row"),K=j("A","addthis-content-link");K.href=J;K.title=K.innerHTML=M;K.target=v;if(K.addEventListener){K.addEventListener("click",function(){_ate.ed.fire("addthis.trending.click",K,{url:J});},false);}else{K.attachEvent("onclick",function(){_ate.ed.fire("addthis.trending.click",K,{url:J});});}I.appendChild(K);q.appendChild(I);d++;}});var u=j("DIV","addthis-content-footer");u.innerHTML="Powered by <a class=\"at-whatsthis at-logo at-trending-logo\" target=\"_blank\" href=\"//www.addthis.com/?utm_source=tcb&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main\" id=\"atlogo-sm\">AddThis</a>";this.appendChild(u);if(d>0){_ate.track.apc(a);this.style.display="block";_ate.ed.fire("addthis.trending.render",this,{config:r,container:this});_ate.track.avp(q,a,"ttnl="+C);}else{this.style.display="none";_ate.ed.fire("addthis.trending.empty",this,{});}};addthis.box.ost=1;})();