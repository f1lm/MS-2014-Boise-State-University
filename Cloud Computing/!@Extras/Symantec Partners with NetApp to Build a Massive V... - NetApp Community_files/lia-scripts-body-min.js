
if(jQuery.isLithium!==true){jQuery=LITHIUM.jQuery;}
;(function($LITH){LITHIUM.InformationBox=function(params){var component=$LITH(params.componentSelector);var $doc=$LITH(document);if(params.faceLinkUrl){component.click(function(){window.location.href=params.faceLinkUrl;});}
if(params.closeLinkSelector){var closeLink=$LITH(params.closeLinkSelector);if(closeLink.exists()){closeLink.click(function(){component.remove();return false;});}}
if($doc.data('li-information-box-hide-init')===undefined){$doc.data('li-information-box-hide-init',true);$doc.on(params.updateFeedbackEvent,function(event){$LITH(params.feedbackSelector).hide();});}};})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.AjaxFeedback=function(feedbackSelector,hideFeedbackEvent){if(LITHIUM.AjaxFeedback.init!==true){LITHIUM.AjaxFeedback.init=true;$LITH(document).on(hideFeedbackEvent,function(){$LITH(feedbackSelector).children().hide();});}}})(LITHIUM.jQuery);
;(function($){$.fn.extend({autocomplete:function(urlOrData,options){var isUrl=typeof urlOrData=="string";options=$.extend({},$.Autocompleter.defaults,{url:isUrl?urlOrData:null,data:isUrl?null:urlOrData,delay:isUrl?$.Autocompleter.defaults.delay:10},options);options.highlight=options.highlight||function(value){return value;};options.formatMatch=options.formatMatch||options.formatItem;return this.each(function(){new $.Autocompleter(this,options);});},autocompleteResult:function(handler){return this.bind("autocompleteResult",handler);},autocompleteReceiveData:function(handler){return this.bind("autocompleteReceiveData",handler);},autocompleteSearch:function(handler){return this.trigger("autocompleteSearch",[handler]);},autocompleteFlushCache:function(){return this.trigger("autocompleteFlushCache");},autcompleteSetOptions:function(options){return this.trigger("autcompleteSetOptions",[options]);},autocompleteRemove:function(){return this.trigger("autocompleteRemove");},autocompleteDisable:function(){return this.trigger("autocompleteDisable");},autocompleteEnable:function(){return this.trigger("autocompleteEnable");}});$.Autocompleter=function(input,options){var useWrapper=(typeof options.wrapperId!="undefined");var wrapper="";if(useWrapper){wrapper=$(input).parent().find('.'+options.wrapperContainerId);}
var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var $input=$(input).attr("autocomplete","off").addClass(options.inputClass);var timeout;var previousValue="";var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false,whichMouse:null};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var enabled=!options.disabled;select.init();var blockSubmit;$.browser.opera&&$(input.form).bind("submit.autocomplete",function(){if(blockSubmit){blockSubmit=false;return false;}});$input.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(event){hasFocus=1;lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:event.preventDefault();if(select.visible()){select.prev();}else{onChange(0,true);}
break;case KEY.DOWN:event.preventDefault();if(select.visible()){select.next();}else{onChange(0,true);}
break;case KEY.PAGEUP:event.preventDefault();if(select.visible()){select.pageUp();}else{onChange(0,true);}
break;case KEY.PAGEDOWN:event.preventDefault();if(select.visible()){select.pageDown();}else{onChange(0,true);}
break;case options.multiple&&$.trim(options.multipleSeparator)==","&&KEY.COMMA:case KEY.TAB:case KEY.RETURN:if(selectCurrent()){event.preventDefault();event.stopImmediatePropagation();blockSubmit=true;return false;}
break;case KEY.ESC:select.hide();if(useWrapper){wrapper.hide();}
break;default:clearTimeout(timeout);timeout=setTimeout(onChange,options.delay);break;}}).focus(function(event,internal){if(!options.triggerTextLength){hasFocus++;var fromInternal=internal?internal:false;if(select.useHeader()&&!fromInternal&&enabled===true){setTimeout(function(){if(hasFocus==1){if(useWrapper){wrapper.show();}
select.show();}},10);}}}).keyup(function(event,internal){if(options.triggerTextLength){var fromInternal=internal?internal:false;if(select.useHeader()&&!fromInternal&&enabled===true){setTimeout(function(){if($input.val().length>options.triggerTextLength){if(useWrapper){wrapper.show();}
select.show();}else{var textLength=$input.val().length;if(textLength==options.triggerTextLength){select.reset();if(useWrapper){wrapper.show();}
select.show();}else if(textLength>options.triggerTextLength){if(useWrapper){wrapper.show();}
select.show();}else{hideResults();}};},10);}}}).blur(function(){hasFocus=0;if(!config.mouseDownOnSelect){hideResults();}
if(config.whichMouse!==1){hideResults();}}).click(function(){if(hasFocus++>1&&!select.visible()){onChange(0,true);}}).bind("autocompleteSearch",function(){var fn=(arguments.length>1)?arguments[1]:null;function findValueCallback(q,data){var result;if(data&&data.length){for(var i=0;i<data.length;i++){if(data[i].result.toLowerCase()==q.toLowerCase()){result=data[i];break;}}}
if(typeof fn=="function"){fn(result)}else{$input.trigger("autocompleteResult",result&&[result.data,result.value])};}
$.each(trimWords($input.val()),function(i,value){request(value,findValueCallback,findValueCallback);});}).bind("autocompleteFlushCache",function(){cache.flush();select.reset();}).bind("autcompleteSetOptions",function(){$.extend(options,arguments[1]);if("data"in arguments[1])
cache.populate();}).bind("autocompleteRemove",function(){select.unbind();$input.unbind();$(input.form).unbind(".autocomplete");}).bind("autocompleteDisable",function(){enabled=false;}).bind("autocompleteEnable",function(){enabled=true;});function selectCurrent(cursorAt){var selected=select.selected();if(!selected)
return false;var v=selected.result;previousValue=v;if(options.multiple){var words=trimWords($input.val());if(words.length>1){var seperator=options.multipleSeparator.length;var cursorAt=cursorAt||$(input).selection().start;var wordAt,progress=0;$.each(words,function(i,word){progress+=word.length+1;if(cursorAt<=progress){wordAt=i;return false;}
progress+=seperator;});words[wordAt]=v;v=words.join(options.multipleSeparator+" ");}
v+=options.multipleSeparator+" ";}
$input.val(v);hideResultsNow();$input.trigger("autocompleteResult",[selected.data,selected.value]);return true;}
function onChange(crap,skipPrevCheck){if(lastKeyPressCode==KEY.DEL||enabled===false){select.hide();if(useWrapper){wrapper.hide();}
return;}
var currentValue=$input.val();if(!skipPrevCheck&&currentValue==previousValue)
return;previousValue=currentValue;currentValue=lastWord(currentValue);if(currentValue.length>=options.minChars){startLoading();if(!options.matchCase){currentValue=currentValue.toLowerCase();}
request(currentValue,receiveData,hideResultsNow);}else{stopLoading();if(select.useHeader()){select.reset();}else{select.hide();if(useWrapper){wrapper.hide();}}}};function trimWords(value){if(!value)
return[""];if(!options.multiple)
return[$.trim(value)];return $.map(value.split(options.multipleSeparator),function(word){return $.trim(value).length?$.trim(word):null;});}
function lastWord(value){if(!options.multiple)
return value;var words=trimWords(value);if(words.length==1)
return words[0];var cursorAt=$(input).selection().start;if(cursorAt==value.length){words=trimWords(value)}else{words=trimWords(value.replace(value.substring(cursorAt),""));}
return words[words.length-1];}
function autoFill(q,sValue){if(options.autoFill&&(lastWord($input.val()).toLowerCase()==q.toLowerCase())&&lastKeyPressCode!=KEY.BACKSPACE){$input.val($input.val()+sValue.substring(lastWord(previousValue).length));$(input).selection(previousValue.length,previousValue.length+sValue.length);}};function hideResults(){clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200);};function hideResultsNow(){var wasVisible=select.visible();select.hide();if(useWrapper){wrapper.hide();}
clearTimeout(timeout);stopLoading();if(options.mustMatch){$input.autocompleteSearch(function(result){if(!result){if(options.multiple){var words=trimWords($input.val()).slice(0,-1);$input.val(words.join(options.multipleSeparator)+(words.length?options.multipleSeparator:""));}
else{$input.val("");$input.trigger("autocompleteResult",null);}}});}};function receiveData(q,data){if(data&&data.length&&hasFocus){select.display(data,q);stopLoading();autoFill(q,data[0].value);if(useWrapper){wrapper.show();}
select.show();}else if(options.emptyText!==false){select.emptyList();select.setEmptyText();}else{hideResultsNow();}
$input.trigger("autocompleteReceiveData",data);};function request(term,success,failure){if(!options.matchCase)
term=term.toLowerCase();var data=cache.load(term);if(data&&data.length){success(term,data);}else if((typeof options.url=="string")&&(options.url.length>0)){var extraParams={timestamp:+new Date()};$.each(options.extraParams,function(key,param){extraParams[key]=typeof param=="function"?param():param;});$.ajax({mode:"abort",port:"autocomplete"+input.name,dataType:options.dataType,url:options.url,data:$.extend({q:lastWord(term),limit:options.max},extraParams),beforeSend:function(data){$input.trigger("autocompleteSearchServer",data);},success:function(data){var parsed=options.parse&&options.parse(data)||parse(data);cache.add(term,parsed);success(term,parsed);}});}else{select.emptyList();failure(term);}};function parse(data){var parsed=[];var rows=data.split("\n");for(var i=0;i<rows.length;i++){var row=$.trim(rows[i]);if(row){row=row.split("|");parsed[parsed.length]={data:row,value:row[0],result:options.formatResult&&options.formatResult(row,row[0])||row[0]};}}
return parsed;};function stopLoading(){$input.removeClass(options.loadingClass);select.stopLoading();};function startLoading(){$input.addClass(options.loadingClass);select.startLoading();}};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",hasResultsClass:"ac_has_results",loadingClass:"ac_loading",activeClass:"ac_over",oddRowClass:"ac_odd",evenRowClass:"ac_event",headerClass:"ac_header",footerClass:"ac_footer",listWrapperClass:"ac_content",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:1000,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(row){return row[0];},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");},scroll:true,scrollHeight:180,defaultText:false,loadingText:false,successText:false,emptyText:false,footerContent:false};$.Autocompleter.Cache=function(options){var data={};var length=0;function matchSubset(s,sub){if(!options.matchCase)
s=s.toLowerCase();var i=s.indexOf(sub);if(options.matchContains=="word"){i=s.toLowerCase().autocompleteSearch("\\b"+sub.toLowerCase());}
if(i==-1)return false;return i==0||options.matchContains;};function add(q,value){if(options.cacheLength>0){if(length>options.cacheLength){flush();}
if(!data[q]){length++;}
data[q]=value;}}
function populate(){if(!options.data)return false;var stMatchSets={},nullData=0;if(!options.url)options.cacheLength=1;stMatchSets[""]=[];for(var i=0,ol=options.data.length;i<ol;i++){var rawValue=options.data[i];rawValue=(typeof rawValue=="string")?[rawValue]:rawValue;var value=options.formatMatch(rawValue,i+1,options.data.length);if(value===false)
continue;var firstChar=value.charAt(0).toLowerCase();if(!stMatchSets[firstChar])
stMatchSets[firstChar]=[];var row={value:value,data:rawValue,result:options.formatResult&&options.formatResult(rawValue)||value};stMatchSets[firstChar].push(row);if(nullData++<options.max){stMatchSets[""].push(row);}};$.each(stMatchSets,function(i,value){options.cacheLength++;add(i,value);});}
setTimeout(populate,25);function flush(){data={};length=0;}
return{flush:flush,add:add,populate:populate,load:function(q){if(!options.cacheLength||!length)
return null;if(!options.url&&options.matchContains){var csub=[];for(var k in data){if(k.length>0){var c=data[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub.push(x);}});}}
return csub;}else
if(data[q]){return data[q];}else
if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var c=data[q.substr(0,i)];if(c){var csub=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub[csub.length]=x;}});return csub;}}}
return null;}};};$.Autocompleter.Select=function(options,input,select,config){var listItems,active=-1,data,term="",needsInit=true,element,header,footer,list,currentCursorAt;var useWrapper=(typeof options.wrapperId!="undefined");var wrapper="";if(useWrapper){wrapper=$(input).parent().find('.'+options.wrapperContainerId);}
function init(){if(!needsInit)
return;element=$("<div/>").hide();if(useWrapper){$('#'+options.wrapperId).addClass(options.resultsClass).css("position","absolute")
element.insertAfter($('#'+options.wrapperId));}else{element.insertAfter(input).addClass(options.resultsClass).css("position","absolute");}
if(useHeader()){header=$("<div/>").addClass(options.headerClass).html(options.defaultText).appendTo(element);}
list=$("<ul/>").appendTo(element).mouseover(function(event){if(target(event).nodeName&&target(event).nodeName.toUpperCase()=='LI'){active=$("li",list).removeClass(options.activeClass).index(target(event));$(target(event)).addClass(options.activeClass);}}).click(function(event){$(target(event)).addClass(options.activeClass);select(currentCursorAt);$(input).trigger("focus",true);$(input).val($(input).val());return false;}).mousedown(function(e){currentCursorAt=$(input).selection().start;config.mouseDownOnSelect=true;config.whichMouse=e.which;}).mouseup(function(){config.mouseDownOnSelect=false;});if(options.footerContent!==false){footer=$("<div/>").addClass(options.footerClass).appendTo(element);$.each(options.footerContent,function(i,footerContent){footer.append(footerContent.content)
eval(footerContent.scripts);});}
if(options.width>0)
element.css("width",options.width);needsInit=false;$(list).wrap($("<div>").addClass(options.listWrapperClass));}
function target(event){var element=event.target;while(element&&element.tagName!="LI")
element=element.parentNode;if(!element)
return[];return element;}
function moveSelect(step){listItems.slice(active,active+1).removeClass(options.activeClass);movePosition(step);var activeItem=listItems.slice(active,active+1).addClass(options.activeClass);if(options.scroll){var offset=0;listItems.slice(0,active).each(function(){offset+=this.offsetHeight;});if((offset+activeItem[0].offsetHeight-list.scrollTop())>list[0].clientHeight){list.scrollTop(offset+activeItem[0].offsetHeight-list.innerHeight());}else if(offset<list.scrollTop()){list.scrollTop(offset);}}};function movePosition(step){active+=step;if(active<0){active=listItems.size()-1;}else if(active>=listItems.size()){active=0;}}
function limitNumberOfItems(available){return options.max&&options.max<available?options.max:available;}
function fillList(){list.empty();var max=limitNumberOfItems(data.length);for(var i=0;i<max;i++){if(!data[i])
continue;var formatted=options.formatItem(data[i].data,i+1,max,data[i].value,term);if(formatted===false)
continue;var li=$("<li/>").html(options.highlight(formatted,term)).addClass(i%2==0?options.evenRowClass:options.oddRowClass).appendTo(list)[0];$.data(li,"ac_data",data[i]);}
listItems=list.find("li");if(options.selectFirst){listItems.slice(0,1).addClass(options.activeClass);active=0;}
if($.fn.bgiframe)
list.bgiframe();}
function useHeader(){return options.defaultText!==false||options.loadingText!==false;}
return{init:function(){init();},display:function(d,q){data=d;term=q;options.fillList?options.fillList(data):fillList();},next:function(){moveSelect(1);},prev:function(){moveSelect(-1);},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active);}else{moveSelect(-8);}},pageDown:function(){if(active!=listItems.size()-1&&active+8>listItems.size()){moveSelect(listItems.size()-1-active);}else{moveSelect(8);}},hide:function(){element&&element.hide();if(useWrapper){wrapper.hide();}
listItems&&listItems.removeClass(options.activeClass);active=-1;element.removeClass(options.hasResultsClass)},visible:function(){var hasHeaderAndItems=true;if(useHeader()){hasHeaderAndItems=(typeof listItems!="undefined");}
return element&&element.is(":visible")&&hasHeaderAndItems;},current:function(){return this.visible()&&(listItems.filter("."+options.activeClass)[0]||options.selectFirst&&listItems[0]);},show:function(){var offset=(element.offsetParent().size()==0)?$(input).offset():$(input).position();if(useWrapper){wrapper.show();}
element.css({width:typeof options.width=="string"||options.width>0?options.width:$(input).innerWidth(),top:offset.top+input.offsetHeight,left:offset.left}).show();if(list.find("li").size()>0){element.addClass(options.hasResultsClass);}else{element.removeClass(options.hasResultsClass);}
if(options.scroll){list.scrollTop(0);list.css({maxHeight:options.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var listHeight=0;listItems.each(function(){listHeight+=this.offsetHeight;});var scrollbarsVisible=listHeight>options.scrollHeight;list.css('height',scrollbarsVisible?options.scrollHeight:listHeight);if(!scrollbarsVisible){listItems.width(list.width()-parseInt(listItems.css("padding-left"))-parseInt(listItems.css("padding-right")));}}}},selected:function(){var selected=listItems&&listItems.filter("."+options.activeClass).removeClass(options.activeClass);return selected&&selected.length&&$.data(selected[0],"ac_data");},emptyList:function(){element.removeClass(options.hasResultsClass);list&&list.empty();},unbind:function(){element&&element.remove();},useHeader:function(){return useHeader();},startLoading:function(){if(options.loadingText!==false){header.html(options.loadingText);}},stopLoading:function(){if(listItems){if(options.successText!==false&&listItems.length>0){header.html(options.successText);}else if(options.defualtText!==false&&listItems.length==0){header.html(options.defualtText);}}},setEmptyText:function(){header.html(options.emptyText);},reset:function(){if(list){list.empty();}
header.html(options.defaultText);}};};$.fn.selection=function(start,end){if(start!==undefined){return this.each(function(){if(this.createTextRange){var selRange=this.createTextRange();if(end===undefined||start==end){selRange.move("character",start);selRange.select();}else{selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select();}}else if(this.setSelectionRange){this.setSelectionRange(start,end);}else if(this.selectionStart){this.selectionStart=start;this.selectionEnd=end;}});}
var field=this[0];if(field.createTextRange){var range=document.selection.createRange(),orig=field.value,teststring="<->",textLength=range.text.length;range.text=teststring;var caretAt=field.value.indexOf(teststring);field.value=orig;this.selection(caretAt,caretAt+textLength);return{start:caretAt,end:caretAt+textLength}}else if(field.selectionStart!==undefined){return{start:field.selectionStart,end:field.selectionEnd}}};})(jQuery);
;(function($LITH){LITHIUM.AutoComplete=function(params){$LITH.extend($LITH.Autocompleter.defaults,{inputClass:"lia-autocomplete-input",resultsClass:params.options.defaultText?"lia-autocomplete-container":"lia-autocomplete",hasResultsClass:"lia-autocomplete-has-results",loadingClass:"lia-autocomplete-input-loading",activeClass:params.activeClass,oddRowClass:"lia-autocomplete-list-odd-row",evenRowClass:"lia-autocomplete-list-even-row",headerClass:"lia-autocomplete-header",footerClass:"lia-autocomplete-footer",listWrapperClass:"lia-autocomplete-content",scroll:false,selectFirst:false,highlight:false,matchSubset:false});$LITH.extend(params.options,{parse:function(data){return $LITH.evalJSON(data);}})
var inputField=$LITH(params.inputSelector);inputField.autocomplete(params.url,params.options);inputField.bind(($LITH.browser.opera?"keypress":"keydown")+".autocomplete",function(event){if(event.which==13){$LITH(this).trigger("autocompleteResultEnter",event);}});inputField.autocompleteReceiveData(function(){inputField.trigger(params.resizeImageEvent);});if(params.redirectToItemLink===true){inputField.bind("autocompleteResult",function(event,row,data){window.open(data.url,'_blank');});}}})(LITHIUM.jQuery);

(function($){$.tools=$.tools||{version:'1.2.5'};$.tools.tooltip={conf:{effect:'toggle',fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:['top','center'],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:'<div/>',tipClass:'tooltip'},addEffect:function(name,loadFn,hideFn){effects[name]=[loadFn,hideFn];}};var effects={toggle:[function(done){var conf=this.getConf(),tip=this.getTip(),o=conf.opacity;if(o<1){tip.css({opacity:o});}
tip.show();done.call();},function(done){this.getTip().hide();done.call();}],fade:[function(done){var conf=this.getConf();this.getTip().fadeTo(conf.fadeInSpeed,conf.opacity,done);},function(done){this.getTip().fadeOut(this.getConf().fadeOutSpeed,done);}]};function getPosition(trigger,tip,conf){var top=conf.relative?trigger.position().top:trigger.offset().top,left=conf.relative?trigger.position().left:trigger.offset().left,pos=conf.position[0];top-=tip.outerHeight()-conf.offset[0];left+=trigger.outerWidth()+conf.offset[1];if(/iPad/i.test(navigator.userAgent)){top-=$(window).scrollTop();}
var height=tip.outerHeight()+trigger.outerHeight();if(pos=='center'){top+=height/2;}
if(pos=='bottom'){top+=height;}
pos=conf.position[1];var width=tip.outerWidth()+trigger.outerWidth();if(pos=='center'){left-=width/2;}
if(pos=='left'){left-=width;}
return{top:top,left:left};}
function Tooltip(trigger,conf){var self=this,fire=trigger.add(self),tip,timer=0,pretimer=0,title=trigger.attr("title"),tipAttr=trigger.attr("data-tooltip"),effect=effects[conf.effect],shown,isInput=trigger.is(":input"),isWidget=isInput&&trigger.is(":checkbox, :radio, select, :button, :submit"),type=trigger.attr("type"),evt=conf.events[type]||conf.events[isInput?(isWidget?'widget':'input'):'def'];if(!effect){throw"Nonexistent effect \""+conf.effect+"\"";}
evt=evt.split(/,\s*/);if(evt.length!=2){throw"Tooltip: bad events configuration for "+type;}
trigger.bind(evt[0],function(e){clearTimeout(timer);if(conf.predelay){pretimer=setTimeout(function(){self.show(e);},conf.predelay);}else{self.show(e);}}).bind(evt[1],function(e){clearTimeout(pretimer);if(conf.delay){timer=setTimeout(function(){self.hide(e);},conf.delay);}else{self.hide(e);}});if(title&&conf.cancelDefault){trigger.removeAttr("title");trigger.data("title",title);}
$.extend(self,{show:function(e){if(!tip){if(tipAttr){tip=$(tipAttr);}else if(conf.tip){tip=$(conf.tip).eq(0);}else if(title){tip=$(conf.layout).addClass(conf.tipClass).appendTo(document.body).hide().append(title);}else{tip=trigger.next();if(!tip.length){tip=trigger.parent().next();}}
if(!tip.length){throw"Cannot find tooltip for "+trigger;}}
if(self.isShown()){return self;}
tip.stop(true,true);var pos=getPosition(trigger,tip,conf);if(conf.tip){tip.html(trigger.data("title"));}
e=$.Event();e.type="onBeforeShow";fire.trigger(e,[pos]);if(e.isDefaultPrevented()){return self;}
pos=getPosition(trigger,tip,conf);tip.css({position:'absolute',top:pos.top,left:pos.left});shown=true;effect[0].call(self,function(){e.type="onShow";shown='full';fire.trigger(e);});var event=conf.events.tooltip.split(/,\s*/);if(!tip.data("__set")){tip.bind(event[0],function(){clearTimeout(timer);clearTimeout(pretimer);});if(event[1]&&!trigger.is("input:not(:checkbox, :radio), textarea")){tip.bind(event[1],function(e){if(e.relatedTarget!=trigger[0]){trigger.trigger(evt[1].split(" ")[0]);}});}
tip.data("__set",true);}
return self;},hide:function(e){if(!tip||!self.isShown()){return self;}
e=$.Event();e.type="onBeforeHide";fire.trigger(e);if(e.isDefaultPrevented()){return;}
shown=false;effects[conf.effect][1].call(self,function(){e.type="onHide";fire.trigger(e);});return self;},isShown:function(fully){return fully?shown=='full':shown;},getConf:function(){return conf;},getTip:function(){return tip;},getTrigger:function(){return trigger;}});$.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(i,name){if($.isFunction(conf[name])){$(self).bind(name,conf[name]);}
self[name]=function(fn){if(fn){$(self).bind(name,fn);}
return self;};});}
$.fn.tooltip=function(conf){var api=this.data("tooltip");if(api){return api;}
conf=$.extend(true,{},$.tools.tooltip.conf,conf);if(typeof conf.position=='string'){conf.position=conf.position.split(/,?\s/);}
this.each(function(){api=new Tooltip($(this),conf);$(this).data("tooltip",api);});return conf.api?api:this;};})(jQuery);
;(function($LITH){LITHIUM.Tooltip=function(params){var tooltip=$LITH(params.tooltipElementSelector);var tooltipContent=$LITH(params.tooltipContentSelector);var trigger=$LITH(params.triggerSelector);var originalWidth=null;trigger.tooltip({predelay:750,delay:params.delay,position:params.position,relative:false,tip:params.tooltipElementSelector,events:params.events,onBeforeShow:function(event,position){originalWidth=tooltip.width();tooltip.width(originalWidth);if(position.left<0){var adjustedWidth=trigger.offset().left;tooltip.width(adjustedWidth);tooltipContent.width(adjustedWidth);}},onHide:function(event){tooltip.width(originalWidth);tooltipContent.width(originalWidth);}});if(trigger.get(0).nodeName.toLowerCase()==="a"){trigger.click(function(event){return false;});}
tooltip.hide();if(LITHIUM.Loader.isLoaded()===true){tooltip.appendTo(params.bodySelector);}else{LITHIUM.Loader.onLoad(function(){tooltip.appendTo(params.bodySelector);});}};})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.SearchAutoCompleteToggle=function(params){var container=$LITH(params.containerSelector);var inputs=container.find(params.autoCompleteSelector);container.bind(params.enableAutocompleteSuccessEvent,function(){container.find(params.enableAutoCompleteSelector).hide();container.find(params.disableAutoCompleteSelector).show();inputs.autocompleteEnable();inputs.not(":hidden").focus();});container.bind(params.disableAutocompleteSuccessEvent,function(){container.find(params.disableAutoCompleteSelector).hide();container.find(params.enableAutoCompleteSelector).show();inputs.autocompleteDisable();});}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.SearchForm=function(params){var form=$LITH(params.formSelector);var selectElements=form.find(params.selectSelector);var buttonElements=form.find(params.buttonSelector);var activeInput=form.find("input[type='text']").not(":hidden");var inputs=form.find(params.inputSelector);var isSearching=false;var isFormSubmit=false;var updateAutoCompleteContext=function(context){if(params.useAutoComplete===true){activeInput.autcompleteSetOptions({extraParams:{searchContext:context}});}};selectElements.change(function(){var currentOptionValue=selectElements.val();if(params.nodesModel.hasOwnProperty(currentOptionValue)){var selectedItem=params.nodesModel[currentOptionValue];buttonElements.attr("title",selectedItem.title);activeInput.hide();activeInput=form.find(selectedItem.inputSelector).val(activeInput.val()).show();updateAutoCompleteContext(currentOptionValue);};});if(params.useAutoComplete===true){updateAutoCompleteContext(selectElements.val());form.bind("autocompleteResult",function(event,row,data){window.location=data.url;});form.bind("autocompleteSearchServer",function(){isSearching=true;});form.bind("autocompleteReceiveData",function(){isSearching=false;if(isFormSubmit===true){buttonElements.click();}});form.submit(function(event){activeInput.trigger("autocompleteDisable");if(isSearching===true){event.stop();isFormSubmit=true;}
isSearching=true;});}};})(LITHIUM.jQuery);
;(function($LITH){if(LITHIUM.DropDownMenu){return;}
LITHIUM.DropDownMenu=function(params){if(LITHIUM.DropDownMenu.init!==true){LITHIUM.DropDownMenu.init=true;var menus=[];var menuOpenedDataKey="LITHIUM.DropDownMenu.opened";var menuItemsDataKey="LITHIUM.DropDownMenu.menuItems";LITHIUM.DropDownMenu.createMenu=function(event){var menu=$LITH(event.target).closest(params.menuElementSelector);var menuItems=menu.find(params.menuItemsSelector);menu.data(menuItemsDataKey,menuItems);menus.push(menu);return menu;}
LITHIUM.DropDownMenu.openMenu=function(menu){LITHIUM.DropDownMenu.closeAllMenus();menu.data(menuOpenedDataKey,true).addClass(params.menuOpenCssClass);menu.data(menuItemsDataKey).shim()
menu.trigger(params.menuOpenedEvent);}
LITHIUM.DropDownMenu.closeAllMenus=function(){$LITH.each(menus,function(){var menu=$LITH(this);if(menu.data(menuOpenedDataKey)===true){menu.data(menuOpenedDataKey,false).removeClass(params.menuOpenCssClass).data(menuItemsDataKey).shim(false);menu.trigger(params.menuClosedEvent);}});}
LITHIUM.DropDownMenu.clickCloseMenus=function(event){if(event.currentTarget===document){LITHIUM.DropDownMenu.closeAllMenus();}}
$LITH(document).on("click",params.clickElementSelector,function(event){var menu=LITHIUM.DropDownMenu.createMenu(event);if(menu.data(menuOpenedDataKey)!==true){LITHIUM.DropDownMenu.openMenu(menu);$LITH(document).bind(params.closeMenuEvent+" "+"click",LITHIUM.DropDownMenu.clickCloseMenus);}else{LITHIUM.DropDownMenu.closeAllMenus();$LITH(document).unbind(params.closeMenuEvent+" "+"click",LITHIUM.DropDownMenu.clickCloseMenus);}
return false;});$LITH(document).on(params.hoverLeaveEvent,params.clickElementSelector,LITHIUM.DropDownMenu.closeAllMenus);LITHIUM.DropDownMenu.mouseoverCloseMenus=function(event){if(event.currentTarget===document&&$LITH(event.target).closest(params.menuItemsSelector).length==0){var menu=$LITH(event.target).closest(params.menuElementSelector);if(menu.length==0||(menu.length>0&&menu.not(event.data.menu).length!=0)){LITHIUM.DropDownMenu.closeAllMenus();$LITH(document).unbind(params.closeMenuEvent+" "+"mouseover",LITHIUM.DropDownMenu.mouseoverCloseMenus);}}}
$LITH(document).on("click",params.mouseoverElementSelector,function(event){return false;});$LITH(document).on("mouseover",params.mouseoverElementSelector,function(event){var menu=LITHIUM.DropDownMenu.createMenu(event);if(menu.data(menuOpenedDataKey)!==true){LITHIUM.DropDownMenu.openMenu(menu);$LITH(document).bind(params.closeMenuEvent+" "+"mouseover",{menu:menu},LITHIUM.DropDownMenu.mouseoverCloseMenus);}
return false;});}}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.ResizeImages=function(maxWidth,elementCssSelector,maxWidthCssClass){$LITH(elementCssSelector).each(function(){if(this.width>maxWidth){$LITH(this).attr({width:maxWidth,height:this.clientHeight*(maxWidth/this.clientWidth),"class":maxWidthCssClass});}});}})(LITHIUM.jQuery);
