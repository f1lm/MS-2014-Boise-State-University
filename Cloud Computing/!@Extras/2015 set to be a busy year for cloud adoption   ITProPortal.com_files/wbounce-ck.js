!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):e.ouibounce=n()}(this,function(e,n,o){return function t(e,n){function o(e,n){return"undefined"==typeof e?n:e}function t(e){var n=24*e*60*60*1e3,o=new Date;return o.setTime(o.getTime()+n),"; expires="+o.toUTCString()}function i(){h.addEventListener("mouseleave",u),h.addEventListener("mouseenter",r),h.addEventListener("keydown",c)}function u(e){e.clientY>k||d(L,"true")&&!p||(D=setTimeout(s,T))}function r(e){D&&(clearTimeout(D),D=null)}function c(e){N||d(L,"true")&&!p||e.metaKey&&76===e.keyCode&&(N=!0,D=setTimeout(s,T))}function d(e,n){return m()[e]===n}function m(){for(var e=document.cookie.split("; "),n={},o=e.length-1;o>=0;o--){var t=e[o].split("=");n[t[0]]=t[1]}return n}function a(e){return"number"==typeof e&&e%1===0}function f(e){(!d(L,"true")||p)&&(D=setTimeout(s,T))}function s(){l(),b()}function l(){e&&(e.style.display="block"),v()}function v(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(x=t(e.cookieExpire)),e.sitewide===!0&&(g=";path=/"),"undefined"!=typeof e.cookieDomain&&(w=";domain="+e.cookieDomain),"undefined"!=typeof e.cookieName&&(L=e.cookieName),document.cookie=L+"=true"+x+w+g,h.removeEventListener("mouseleave",u),h.removeEventListener("mouseenter",r),h.removeEventListener("keydown",c)}var n=n||{},p=n.aggressive||!1,k=o(n.sensitivity,20),y=o(n.timer,1e3),E=o(n.autoFire,null),T=o(n.delay,0),b=n.callback||function(){},x=t(n.cookieExpire)||"",w=n.cookieDomain?";domain="+n.cookieDomain:"",L=n.cookieName?n.cookieName:"viewedOuibounceModal",g=n.sitewide===!0?";path=/":"",D=null,h=document.documentElement;setTimeout(i,y);var N=!1;return a(E)&&null!==E&&setTimeout(f,E),{fire:l,disable:v}}});