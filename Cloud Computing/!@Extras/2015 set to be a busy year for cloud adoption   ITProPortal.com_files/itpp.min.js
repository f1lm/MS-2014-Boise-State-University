var DEBUG=!1;if(Inline&&Inline.env&&"development"==Inline.env&&(DEBUG=!0),!DEBUG){window.console||(window.console={});for(var methods=["log","debug","warn","info"],i=0;i<methods.length;i++)console[methods[i]]=function(){}}var ITPP=function(e){"use strict";var t=e(window),i=e(document),o={lastScrollTop:0,winWidth:t.width(),winHeight:t.height(),iniHeight:i.outerHeight(),scrollPos:t.scrollTop(),scrollDir:"down",desktop:1500,tablet:989,mobileWide:750,mobile:650,gridWidth:e("main.grid").width(),desktopWidth:990,tabletWidth:750,mobileWidth:320,init:function(){o.events(),e(".to-top").on("click",function(){o.toTop()}),e("select").each(function(){var t=e(this).attr("placeholder");e(this).minimalect({placeholder:t})}),o.latestNewsPencilInit(),o.authorRecentArticles(),e(".itpp-item-dropdown, .search-wrap .drop-wrap").on("mouseleave",function(){e(".filter-set-submenu, .search-wrap .drop-wrap ul").removeClass("filter-set-click")}),e(".itpp-item-dropdown, .search-wrap .drop-wrap").on("click",function(){e(".filter-set-submenu").is(":visible")&&e(".filter-set-submenu").addClass("filter-set-click"),e(".search-wrap .drop-wrap ul").is(":visible")&&e(".search-wrap .drop-wrap ul").addClass("filter-set-click")})},events:function(){t.on("resize",function(){ITPP.UI.resize()}),t.on("scroll",function(){o.scrollPos=t.scrollTop(),o.updateScrollDir(),o.fixFooter()})},offsets:function(){o.iniHeight=i.outerHeight(),e(".post").length&&(d.headOffset=d.$headImg.offset(),d.entryOffset=d.$entryContent.offset(),p.offset=p.$wrap.offset(),h.offset=h.$wrap.offset())},resize:function(){o.winWidth=t.width(),o.winHeight=t.height(),o.gridWidth=e("main.grid").width()},updateScrollDir:function(){var e=t.scrollTop();o.scrollDir=e>o.lastScrollTop?"down":"up",o.lastScrollTop=e},toTop:function(){e("html, body").animate({scrollTop:0},400)},startLoader:function(e,t){var i=e.outerWidth(),o=e.outerHeight(),n=o/2-t/2,a=i/2-t/2,s='<img class="ajax-loader" src="'+Inline.theme_url+'/assets/img/ajaxloader.gif" style="margin:'+n+"px 0 0 "+a+'px" alt="" width="'+t+'" height="'+t+'">';e.html(s)},stopLoader:function(e){e.find(".ajax-loader").remove()},fixCenter:function(e){var t=e.outerWidth(),i=e.outerHeight(),n=(o.winHeight-i)/2,a=(o.winWidth-t)/2;e.css({position:"fixed",top:n+"px",left:a+"px"})},fixFooter:function(){o.scrollPos+o.winHeight>=o.iniHeight?(e(".footer").addClass("fixed"),e("#main").addClass("padded-bottom")):(e(".footer").removeClass("fixed"),e("#main").removeClass("padded-bottom"))},latestNewsPencilInit:function(){if(e(".live-blog-pencil .latest-news").hover(function(){e(this).data("hover",!0)},function(){e(this).data("hover",!1)}),e(".live-blog-pencil .latest-news a").length){var t=!1,i=function(){if(!t){t=!0;var i=e(".live-blog-pencil .latest-news a:visible"),o=i.next();o.length&&o.is("a")||(o=e(".live-blog-pencil .latest-news a:first")),o.css("margin-top","80px"),o.css("display","inline-block"),i.animate({marginTop:-80},800,function(){t=!1,i.hide()}),o.animate({marginTop:0},800,function(){})}},o=function(){if(!t){t=!0;var i=e(".live-blog-pencil .latest-news a:visible"),o=i.prev();o.length&&o.is("a")||(o=e(".live-blog-pencil .latest-news a:last")),o.css("margin-top","-80px"),o.css("display","inline-block"),i.animate({marginTop:80},800,function(){t=!1,i.hide()}),o.animate({marginTop:0},800,function(){})}};setInterval(function(){e(".live-blog-pencil .latest-news").data("hover")||i()},3500),e(".live-blog-pencil .latest-news .next").click(function(){i()}),e(".live-blog-pencil .latest-news .prev").click(function(){o()})}},authorRecentArticles:function(){if(e(".post").length){var t=e(".entry-avatar");t.hover(function(){if(!(o.winWidth<=o.tablet||t.data("ajax-triggered")||(t.data("ajax-triggered",1),t.hasClass("loaded")))){var i=t.find(".recent-articles");i.addClass("loading");var n=t.data("articles-url");e.get(n,function(o){if(t.addClass("loaded"),i.removeClass("loading").addClass("loaded"),o.success){var n=e("<ul>");for(var a in o.data)if(o.data.hasOwnProperty(a)){var s=o.data[a];n.append('<li><img src="'+s.img+'" height="36px"/><p><a href="'+s.url+'">'+s.title+"</a><br><i>"+s.time+"</i></p></li>")}i.find(".wrapper").append(n)}},"json")}})}}},n={init:function(e){n.insert(e),n.events()},showLoader:function(){var t='<img class="ajax-loader" src="'+Inline.theme_url+'/assets/img/ajaxloader.gif" width="50" height="50">';n.insert(t),e(".lightbox .js-closebox").remove()},events:function(){t.resize(function(){o.fixCenter(e(".lightbox"))}),t.on("orientationchange",function(){o.fixCenter(e(".lightbox"))}),e(".js-closebox").on("click",function(){n.remove()}),i.keyup(function(e){27==e.keyCode&&n.remove()})},insert:function(t){n.remove(!0),e("body").append('<div class="lightbox"><div class="js-closebox close" title="Close"></div><div class="lightbox-content"></div></div>'),e(".lightbox").hide().fadeIn(200),e(".lightbox-content").html(t),o.fixCenter(e(".lightbox")),e(".position-select").minimalect({placeholder:"Position"}),e(".industry-select").minimalect({placeholder:"Industry"})},remove:function(t){return t===!0?void e(".lightbox").remove():void e(".lightbox").fadeOut(200,function(){e(".lightbox").remove()})}},a={mobileclosing:!1,articleLoaded:!1,seriesLoaded:!1,linksLoaded:!1,init:function(){a.$button=e(".site-menu"),a.$close=e(".menu-close"),a.$mobileback=e(".mega-mobile-back"),a.$mobilesearch=e(".search-icon-mobile"),a.$mobilecats=e("#mega-categories .menu-categories-menu-container"),a.$mobileseries=e("#mega-series .menu-series-menu-container"),a.$mobiletypes=e("#mega-content-type .menu-types-menu-container"),a.$mobileabout=e("#mega-about .menu-footer-menu-container"),a.$article=e(".menu-article:first"),a.$seriesWrap=e(".series-wrap"),a.$secondArticle=e(".menu-article:last"),a.$sponsored=e("#mobile-menu .sponsored-links"),a.$search=e(".search-icon"),a.events(),o.winWidth<=o.mobile&&e(".mega-drop").css({height:o.winHeight+"px"}),a.highlightOOO()},events:function(){var i;a.$button.on("mouseenter",function(){e(this).data("clicked")||o.winWidth>o.mobile&&(i=setTimeout(function(){a.$button.addClass("active"),a.load(),console.log("loaded")},250))}),a.$button.on("mouseleave",function(){e(this).data("clicked")||o.winWidth>o.mobile&&(clearTimeout(i),a.$button.removeClass("active"))}),a.$button.on("click",function(){clearTimeout(i);var t=a.$button.data("clicked");a.$button.data("clicked",!0),(!a.$button.hasClass("active")||t)&&(a.$button.toggleClass("active"),a.load(),e(".header.alternative").is(":visible")||o.winWidth<=o.mobile&&(e("#mobile-site-mask").css("height",parseInt(e("#main").css("height"))+200),e("#mobile-site-mask").show(),e(".mega-mask").show(),e("body").css("overflow","hidden"),e(".mega-drop-upd").css({height:o.winHeight+70+"px"}),e(".mega-mask").css({height:o.winHeight+90+"px"}),e(".mega-drop-cover").css({height:o.winHeight+140+"px"}),a.$mobileseries.hide(),a.$mobilecats.hide(),a.$mobiletypes.hide(),a.$mobileabout.hide(),a.$mobilesearch.show(),e(".header").addClass("mobile-hidden"),e("#mega-about h4, #mega-content-type h4, #mega-series h4, #mega-categories h4, .column-arrow").show(),e("#mega-about h4, #mega-content-type h4, #mega-series h4, #mega-categories h4, .column-arrow").removeClass("no-border")))}),a.$button.on("touchend",function(e){e.stopPropagation()}),a.$button.find(".mega-column ul li a").click(function(e){e.stopPropagation()}),e("#mobilesearch").on("focus",function(){a.mobileclosing=!1,e(".mega-drop-upd").css("height","50px"),e(".mega-drop-upd").css("overflow","hidden"),e("#mobile-site-mask").removeClass("mobile-nav-transparent"),e("#mobile-site-mask").addClass("mobile-nav-solid")}),e("#mobilesearch").on("blur",function(){setTimeout(function(){0==a.mobileclosing&&(e(".mega-drop-upd").css("height","auto"),e(".mega-drop-upd").css("overflow-y","auto"),e("#mobile-site-mask").removeClass("search-solid"),e("#mobile-site-mask").addClass("mobile-nav-transparent"),e("#mobile-search-form").submit())},100)}),e(".mega-mask, .menu-close").on("click",function(t){a.mobileclosing=!0,e("#mobile-site-mask").hide(),e(".mega-mask").hide(),a.$button.toggleClass("active"),a.$button.data("clicked",!1),o.winWidth<=o.mobile&&(e(".header").removeClass("mobile-hidden"),e("body").css("overflow","scroll"),setTimeout(function(){e(".menu-series-menu-container").show(),a.$mobilecats.show(),a.$mobiletypes.show(),a.$mobilesearch.hide(),a.$mobileback.hide()},500)),t.stopPropagation()}),a.$mobileback.on("click",function(){e("#mega-about, #mega-content-type, #mega-series, #mega-categories").toggleClass("no-border"),e("#mega-about h4, #mega-content-type h4, #mega-series h4, #mega-categories h4, .column-arrow").show(),a.$mobilecats.hide(),a.$mobiletypes.hide(),a.$mobileabout.hide(),a.$mobileseries.hide(),a.$mobilesearch.show(),a.$mobileback.hide(),e(".mega-mask").css({height:o.winHeight+90+"px"}),e(".mega-drop-cover").css({height:o.winHeight+140+"px"})}),e("#mega-content-type").on("click",function(){o.winWidth>=o.mobile||a.hideMobileTopLevel(a.$mobiletypes)}),e("#mega-categories").on("click",function(){o.winWidth>=o.mobile||a.hideMobileTopLevel(a.$mobilecats)}),e("#mega-series").on("click",function(){o.winWidth>=o.mobile||a.hideMobileTopLevel(a.$mobileseries)}),e("#mega-about").on("click",function(){o.winWidth>=o.mobile||a.hideMobileTopLevel(a.$mobileabout)}),a.$button.on("click",".mega-drop, .mega-drop-cover",function(e){e.stopPropagation()}),t.on("resize",function(){o.winWidth<=o.mobile?(e(".header").hasClass("mobile-hidden")&&a.$close.click(),e(".mega-drop").css({height:o.winHeight-60+10+"px"})):e(".mega-drop, .mega-drop-upd, .mega-mask, .mega-drop-cover").css({height:"auto"})}),e(".header.alternative").is(":visible")&&t.on("scroll",function(){e(this).scrollTop()>100?e(".header").addClass("scrolled"):e(".header").removeClass("scrolled")})},hideMobileTopLevel:function(t){e("#mega-about, #mega-content-type, #mega-series, #mega-categories").toggleClass("no-border"),e("#mega-about h4, #mega-content-type h4, #mega-series h4, #mega-categories h4, .column-arrow").hide(),t!=a.$mobileabout&&a.$mobileabout.hide(),t!=a.$mobilecats&&a.$mobilecats.hide(),t!=a.$mobiletypes&&a.$mobiletypes.hide(),t!=a.$mobileseries&&a.$mobileseries.hide(),t.is(":visible")?(t.hide(),a.$mobilesearch.show(),a.$mobileback.hide()):(t.show(),a.$mobilesearch.hide(),a.$mobileback.show(),t.height()+110>o.winHeight?(e(".mega-drop-cover").css("height",t.height()+110),e(".mega-mask").css("height",t.height()+60)):(e(".mega-mask").css({height:o.winHeight+90+"px"}),e(".mega-drop-cover").css({height:o.winHeight+140+"px"})))},load:function(){e(".header.alternative").is(":visible")||(a.articleLoaded===!1&&o.winWidth>o.tablet&&a.loadArticle(),a.seriesLoaded===!1&&a.loadSeries(),a.linksLoaded===!1&&a.getSponsored(),a.resizeSponsored())},loadArticle:function(){o.startLoader(a.$article,48),e.ajax({url:Inline.ajaxurl+"?action=menu_article",type:"get",dataType:"json"}).done(function(t){if(t.success===!0){var i=0;for(var o in t.data)if(t.data.hasOwnProperty(o)){var n=t.data[o],s='<h4>Featured Article</h4><a href="'+n.link+'">'+n.thumb+'</a><p class="title"><a href="'+n.link+'">'+n.title+'</a></p><p class="date">'+n.date+"</p>",r=e(e("div.menu-article").get(i));r.hide().html(s).fadeIn(150),++i}a.articleLoaded=!0}}).fail(function(){}).always(function(){o.stopLoader(a.$article)})},loadSeries:function(){o.startLoader(a.$seriesWrap,48),e.ajax({url:Inline.ajaxurl+"?action=series_articles",type:"get",dataType:"json"}).done(function(t){if(t.success===!0){var i='<h4>Series</h4><div class="column-arrow"></div><div class="menu-series-menu-container"><ul class="single-column">';console.log(t);for(var o in t.data){var n=t.data[o];i+='<li><a href="'+n.link+'">'+n.title+"</a></li>"}i+="</ul></div>",a.$seriesWrap.hide().html(i).fadeIn(150),a.seriesLoaded=!0,a.$mobileseries=e("#mega-series .menu-series-menu-container"),a.$mobileseries.find("ul li a").click(function(e){e.stopPropagation()})}}).fail(function(){a.$seriesWrap.html("<p>Articles failed to load.</p>")}).always(function(){o.stopLoader(a.$seriesWrap)})},getSponsored:function(){a.linksLoaded=!0,e.ajax({url:Inline.ajaxurl+"?action=sponsored_links",type:"get",dataType:"json"}).done(function(e){e.success===!0&&a.insertSponsored(e)}).fail(function(){a.linksLoaded=!1})},insertSponsored:function(t){e.each(t.data,function(e,t){var i="";t.window&&(i="_blank");var o='<li class="sponsored-link"><a href="'+t.url+'" target="'+i+'"><img src="'+t.icon+'" alt=""> <span>'+t.title+"</span></a></li>";a.$sponsored.append(o)}),a.resizeSponsored()},resizeSponsored:function(){var t=e("#mobile-menu .sponsored-link"),i=t.length;t.css({width:100/i+"%"})},highlightOOO:function(){e('.menu-item a:contains("Out of Office")').addClass("ooo")}},s={init:function(){e(".grid-filter .search-field").click(function(){e(this)[0].setSelectionRange(0,9999)}),s.alternative=e(".header.alternative").is(":visible")?!0:!1,s.$button=e(".header .search-icon"),s.$wrap=e(".header .site-search"),s.alternative?s.eventsAlternative():s.events()},events:function(){var e;s.$button.on("mouseenter",function(){o.winWidth>o.mobile&&(e=setTimeout(function(){s.$button.addClass("active")},250))}),s.$button.on("mouseleave",function(){o.winWidth>o.mobile&&(clearTimeout(e),s.$button.removeClass("active"))}),s.$button.on("click",function(){s.$wrap.find("input").focus(),o.winWidth<o.mobile&&s.$button.toggleClass("active")}),s.$wrap.on("click",function(e){e.stopPropagation()})},eventsAlternative:function(){s.$wrap2=e(".header .bottom-bar-wrapper .site-search"),s.$button2=e(".header .bottom-bar-wrapper .search-icon"),s.$button2.on("click",function(){setTimeout(function(){s.$wrap2.find("input.search-field").focus()},200)}),s.$wrap.on("click",function(e){e.stopPropagation()}),s.$button.on("click",function(){var e=s.$wrap.find(".search-field").val();return s.$wrap.find("input").focus(),s.$button.hasClass("active")&&e?void s.$wrap.find("form").submit():void s.$button.toggleClass("active")})}},r={doubleMPU:!1,init:function(){r.$wrap=e(".grid"),r.$searchGrid=e(".search-result"),r.$searchGrid.length||r.checkMPU(),e("body").hasClass("home")&&l.init()},checkMPU:function(){var t=e(".fixed-ad"),i=e(".fixed-ad img"),o=i.height();600===o?(t.css({height:"696px"}),r.doubleMPU=!0):t.css({height:"338px"})}},l={html:"",loaded:!1,lastState:!1,init:function(){l.loaded===!1&&l.get(),l.resize()},get:function(){e.ajax({url:Inline.ajaxurl+"?action=popular_guides",type:"get",dataType:"json"}).done(function(e){e.success===!0&&(l.loaded=!0,l.build(e))})},build:function(t){l.html='<div id="popular-guides" class="popular"><h3>Popular Guides</h3><ul>',e.each(t.data,function(e,t){l.html+='<li><div class="thumb-wrap"><a href="'+t.url+'">'+t.thumbnail+'</a></div><p><a href="'+t.url+'">'+t.title+"</a></p></li>"}),l.html+="</ul></div>",l.insert()},insert:function(){var t=function(t,i){i!==l.lastState&&(e("#popular-guides").remove(),r.$wrap.find(".grid-post").eq(t).after(l.html))},i="";return o.gridWidth>o.desktopWidth?(i+="wideDesktop",r.doubleMPU?(i+="double",t(6,i)):t(7,i),void(l.lastState=i)):o.gridWidth>o.tabletWidth?(i+="desktop",r.doubleMPU?(i+="double",t(4,i)):t(5,i),void(l.lastState=i)):o.gridWidth>o.mobileWidth?(i+="tabletDesktop",r.doubleMPU?(i+="double",t(2,i)):t(3,i),void(l.lastState=i)):void e("#popular-guides").remove()},resize:function(){t.resize(function(){l.insert()})}},c={init:function(){if(c.$home=e(".trending-home"),c.$sidebar=e(".trending-sidebar"),c.$sidebar.length&&!c.$sidebar.hasClass("loaded")&&c.$sidebar.is(":visible")&&(c.$sidebar.hasClass("top-videos")?c.insertVideos(c.$sidebar,c.get(5,!0)):c.insert(c.$sidebar,c.get(10))),c.$home.length&&!c.$home.hasClass("loaded")){if(!c.$home.is(":visible"))return;c.insert(c.$home,c.get(5))}},get:function(t,i){var o=Inline.ajaxurl+"?action=trending_articles&limit="+t;return"undefined"!=typeof i&&i&&(o+="&video=1"),e.ajax({url:o,type:"get",dataType:"json"})},insert:function(t,i){var o="";i.done(function(i){if("undefined"!=typeof i&&i.success){var n=window.location.href;e.each(i.data,function(e,t){n.indexOf(t.url)>-1||(o+='<li><a href="'+t.url+'">'+t.title+"</a></li>")}),t.append("<h3>Trending <span>Articles</span></h3><ul>"+o+"</ul>").addClass("loaded")}})},insertVideos:function(t,i){var o="";i.done(function(i){if("undefined"!=typeof i&&i.success){var n=window.location.href,a=e(".video-feature").height();a||(a=e(".video-transcript").height()+e(".headline-video").height()),t.append("<h3>Trending <span>Videos</span></h3><ul></ul>").addClass("loaded");var s=t.find("ul"),r=!0,l=65;e.each(i.data,function(i,c){if(r&&!(n.indexOf(c.url)>-1)){if(t.height()+l>=a){var d=a-t.height();return d>0?t.find("li:last").css("padding-bottom",d+8):e(".video-background").css("padding-bottom",-d+2),void(r=!1)}o="<li>",o+=c.thumb?'<a href="'+c.url+'"><img height="45" width="85" src="'+c.thumb+'" /></a>':'<a href="'+c.url+'"><div class="video-default"></div></a>',o+='<a class="top-videos-href" href="'+c.url+'">'+c.title+'</a><div class="clearfix"></div></li>',s.append(o)}})}})}},d={init:function(){if(d.$wrap=e(".post"),d.$headImg=e(".headline-image"),0==d.$headImg.length)d.$headImg=e(".video-container");else if(o.winWidth>o.tablet){var t=d.$headImg.find("img");t.attr("src",t.attr("data-full-url"))}d.$entryContent=e(".entry-content"),0==d.$entryContent.length&&(d.$entryContent=e(".video-content")),u.init(),h.init(),p.init(),d.events(),d.relatedInit(),d.prepare()},events:function(){e(".specs-header").on("click",function(){d.toggleSpecs(e(this))}),t.on("scroll",function(){o.scrollPos>=60&&o.winWidth<o.mobile?(e(".mobile-share").addClass("active"),e(".site-logo").addClass("mobile-share")):(e(".mobile-share").removeClass("active"),e(".site-logo").removeClass("mobile-share"))})},relatedInit:function(){if(e(".OUTBRAIN").length){var t='<script src="http://widgets.outbrain.com/outbrain.js"></script>';postscribe(e("#main .related-articles"),t,{error:function(e){console.log("Error: "+t),console.log(e)},done:function(){OBR.extern.oldReturnedHtmlData=OBR.extern.returnedHtmlData,OBR.extern.returnedHtmlData=function(t,i){if(t.response&&"undefined"!=typeof t.response.html&&(t.response.html=t.response.html.replace(/177x126/g,"400x300").replace(/259x184/g,"400x300")),0==i){var o=e(t.response.html),n=o.find("a.item-link-container:first").attr("href"),a=o.find("a.item-link-container:first .strip-rec-link-title").text(),s=[];"undefined"!=typeof n&&n.length&&s.push({title:a,url:n}),n=o.find("a.item-link-container:nth-child(2)").attr("href"),a=o.find("a.item-link-container:nth-child(2) .strip-rec-link-title").text(),"undefined"!=typeof n&&n.length&&s.push({title:a,url:n}),d.insertSeeAlso(s)}OBR.extern.oldReturnedHtmlData(t,i)}}})}},insertSeeAlso:function(t){var i=function(t,i){return window.location.href.indexOf("beta.itproportal.com")>-1&&(i=i.replace("www.itproportal.com/","beta.itproportal.com/")),e('<p class="see-also">SEE ALSO: <a href="'+i+'">'+t+"</a></p>")};if(e(".entry-content").length)var o=".entry-content";else var o=".video-content";var n=e(o+" > p"),a=e(".see-also-placeholder");if(a.length)return void a.each(function(){var i=e(this),o={};if(o.url=i.data("url"),o.title=i.data("title"),!o.url)var o=t.shift();o&&"undefined"!=typeof o.url&&o.url&&(i.text("SEE ALSO: "),i.append(e('<a href="'+o.url+'"> '+o.title+" </a>")))});for(var s=["Read more:","More:","Related:","See also:","See more:"],r=0;r<s.length;r++)if(e(o).text().indexOf(s[r])>0)return;if(t[0]){var l=t[0],c=i(l.title,l.url);n.eq(1).after(c)}if(t[1]){var l=t[1],c=i(l.title,l.url);n.eq(n.length-2).before(c)}},prepare:function(){e(".email.mailto").each(function(){var t=e(this);if(t.data("content")){var i=t.data("content").replace(/[a-zA-Z]/g,function(e){return String.fromCharCode(("Z">=e?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}),o=e('<a href="mailto:'+i+'">'+i+"</a>");t.append(o)}})},toggleSpecs:function(t){var i=e(".specs-table");t.hasClass("expanded")?(t.removeClass("expanded"),i.slideUp(300)):(t.addClass("expanded"),i.slideDown(300))}},u={calculateOffsets:function(t){"boolean"!=typeof t&&(t=!1),u.$wrap=e(".sidebar"),u.$fixer=e(".sidebar .fixer"),(!u.$fixer.hasClass("fixed")||t)&&(u.iniHeight=u.$wrap.outerHeight(),u.iniOffset=u.$wrap.offset())},init:function(){e(".in-article-mpu-first").css("height",e(".headline-image").height()+65),u.calculateOffsets(!0),u.listItems=[],e.each(e(".top-stories li"),function(t,i){var o=[];o.item=e(i),o.position=e(i).position().top,u.listItems.push(o)}),u.setHeight(),u.scrollEvents(),t.on("scroll",function(){u.scrollEvents()}),t.on("resize",function(){u.setHeight()}),e(".entry-share").css("top",-(e(".headline-image").outerHeight()+10)),e(".headline-image img").load(function(){u.setHeight(),e(".entry-share").css("top",-(e(".headline-image").outerHeight()+10))})},scrollEvents:function(){var t=window.navigator.userAgent;if(!t.match(/iPad/i)&&!t.match(/iPhone/i)){var i=e(".header").outerHeight()+20,n=d.$entryContent.outerHeight(),a=d.$entryContent.offset().top,s=a+n,r=e(".headline-image");if(0!=r.length){r.offset().top-o.scrollPos-i+40<=0?(e(".entry-share").addClass("fixed"),e(".entry-share").removeClass("stuck"),e(".top-stories").removeClass("stuck"),o.scrollPos>u.iniOffset.top-i-190&&(e(".entry-share").addClass("stuck"),e(".top-stories").addClass("stuck"))):(e(".entry-share").removeClass("fixed"),e(".entry-share").removeClass("stuck")),o.scrollPos>u.$wrap.offset().top-75?u.$fixer.addClass("fixed"):u.$fixer.removeClass("fixed");var l=100;l=u.$fixer.find(".top-stories").is(":visible")?u.$fixer.outerHeight():u.$fixer.find(".entry-share").outerHeight(),o.scrollPos+l+i>=s?u.$fixer.removeClass("fixed").addClass("absolute").css({"margin-top":n-u.$fixer.outerHeight()-i}):o.scrollPos>u.$wrap.offset().top-75&&u.$fixer.removeClass("absolute").addClass("fixed").css({"margin-top":"0"})}else{var r=e(".video-container");if(0!=r.length&&parseInt(e(".video-transcript").css("height"))>350){var c=parseInt(e(".video-container").css("height"));o.scrollPos>u.$wrap.offset().top+c-30?(e(".entry-share").addClass("fixed"),e(".entry-share").css("position","fixed")):(e(".entry-share").removeClass("fixed"),e(".entry-share").css("position","absolute")),o.scrollPos+i+260>=s?(e(".entry-share").removeClass("fixed").addClass("absolute").css({"margin-top":parseInt(e(".video-transcript").height())-260}),e(".entry-share").css("position","absolute")):o.scrollPos>u.$wrap.offset().top+c-30&&(e(".entry-share").removeClass("absolute").addClass("fixed").css({"margin-top":"0"}),e(".entry-share").css("position","fixed"))}}}},setHeight:function(){if(e(".sidebar").length){e(".entry-share").css("top",-(e(".headline-image").outerHeight()+10)),e(".in-article-mpu-first").css("height",e(".headline-image").height()+65),u.iniOffset=u.$wrap.offset();var t=e(".header").outerHeight()+20,i=e(".entry-share").outerHeight();if(u.iniHeight>o.winHeight-t){var n=o.winHeight-t-i-30;e(".top-stories").css({height:n+"px"}),e.each(u.listItems,function(t,i){i.position>n+20?e(i.item).addClass("hidden"):e(i.item).removeClass("hidden")})}}}},h={loaded:!1,disqus_shortname:"itpp",init:function(){h.$wrap=e(".entry-comments"),h.events()},events:function(){t.scroll(function(){h.offset=h.$wrap.offset(),"undefined"!=typeof h.offset&&o.scrollPos>=h.offset.top-o.winHeight-500&&h.loaded===!1&&(h.load(),ITPP.LumaAds.onScrollLoad())})},load:function(){h.loaded=!0,window.disqus_identifier="article-"+Inline.disqus_id;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+h.disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}},p={loaded:!1,init:function(){p.$wrap=e(".twitter-wrap"),p.$placeholder=e(".twitter-timeline"),p.$placeholder.length&&p.onscroll()},onscroll:function(){t.scroll(function(){"undefined"!=typeof p.offset&&o.scrollPos>=p.offset.top-o.winHeight-500&&p.loaded===!1&&p.load()})},load:function(){p.$placeholder.length&&(e.getScript("http://platform.twitter.com/widgets.js"),p.loaded=!0)}},m={loaded:!1,init:function(){m.$footLink=e(".menu-item-680 a"),m.$footLink.length||(m.$footLink=e('#menu-footer-menu .menu-item a:contains("Contact")')),m.$boxLink=e(".js-contact"),m.events()},events:function(){m.$footLink.on("click",function(){return m.lightbox(),!1}),m.$boxLink.on("click",function(){return m.lightbox(),!1})},getForm:function(){return n.showLoader(),e.ajax({url:Inline.base_url+"contact/",type:"GET"})},lightbox:function(){var t=m.getForm();t.done(function(t){var i=e(t).find("#contact-wrap");"object"==typeof i&&(n.init(i),m.loaded=!0)})}},f={loaded:!1,init:function(){if(f.$boxLink=e(".js-subscribe"),f.$boxLink.on("click",function(){var t=!1;return e(this).hasClass("alternative")&&(t=!0),f.load("lightbox",t),!1}),e(".post").length){if("accepted"===e.cookie("no-subscribe"))return;t.on("scroll",function(){var e=o.scrollPos+o.winHeight,t=d.$entryContent.offset().top+d.$entryContent.outerHeight();e>=t&&f.loaded===!1&&f.load("slideup")}),e("body").on("click",".subscribe-slide-close",function(){f.slideHide(),e.cookie("no-subscribe","accepted",{expire:365,path:"/",domain:"itproportal.com"}),e.cookie("no-subscribe","accepted",{expire:365,path:"/"})})}},load:function(t,i){f.loaded=!0,"lightbox"===t&&n.showLoader(),e.ajax({url:Inline.base_url+"subscribe/",type:"GET"}).done(function(o){var a=e(o).find("#subscribe-wrap");i&&a.find("form").addClass("alternative"),"object"==typeof a?("lightbox"===t&&n.init(a),"slideup"===t&&f.slideShow(a)):f.loaded=!1}).fail(function(){f.loaded=!1})},slideShow:function(t){var i='<div class="subscribe-slide"><img class="subscribe-slide-close" src="'+Inline.theme_url+'/assets/img/subscribe_close.png" alt="" title="Close"><div class="follow">'+e("header .social-links").html()+"</div><h4>Subscribe to get the latest tech news</h4>"+t.find("#form-wrapper").html()+"</div>";e("body").append(i),setTimeout(function(){e("header .newsletter-icon").hasClass("alternative")&&e(".subscribe-slide").addClass("alternative"),e(".subscribe-slide").addClass("visible"),e(".position-select").minimalect({placeholder:"Position"}),e(".industry-select").minimalect({placeholder:"Industry"})},500)},slideHide:function(){e(".subscribe-slide").removeClass("visible"),setTimeout(function(){e(".subscribe-slide").remove()},2e3)}},g={shareUrl:"",init:function(){},pinButton:function(){var t=encodeURIComponent(Inline.page_url),i=encodeURIComponent(Inline.post_title);e(".entry-img-link").each(function(){var o=e(this),n=encodeURIComponent(o.attr("href")),a=o.find("img");if("undefined"!==n&&a){var s=a.width()/2-5+"px",r=e('<span class="pin-button" style="margin-left:-'+s+'"><a href="//pinterest.com/pin/create/button/?url='+t+"&media="+n+"&description="+i+'" data-pin-do="buttonPin"data-pin-config="beside"><img src="//assets.pinterest.com/images/pidgets/pin_it_button.png"></a></span>');r.click(function(e){e.stopPropagation()}),o.append(r)}})}},b={init:function(){e.cookie("itpp_cookies")||b.msg(),e(".cookie-close").on("click",function(){b.close()}),setTimeout(function(){b.close()},8e3)},msg:function(){var t='<div class="cookie-msg"><div><p>We use cookies to improve your online experience. If you continue browsing this site, you consent to these cookies. <a href="'+Inline.base_url+'cookie-policy/">Find out more</a></p><span class="cookie-close" title="Accept and close"></span></div></div>';e("body").prepend(t),setTimeout(function(){e(".cookie-msg").addClass("visible"),e("body").addClass("cookie-msg-active")},500)},close:function(){e(".cookie-msg").removeClass("visible"),e("body").removeClass("cookie-msg-active"),e.cookie("itpp_cookies","accept",{expire:365,path:"/"})}},v={ads:[],slots:[],process:function(){e(".luma-ad").each(function(){var t=e(this),i={name:t.attr("data-id"),kv:t.data("kv"),size:t.data("size"),c:t.data("c"),display:t.data("display")},o=[i];if(!t.data("luma-processed")){t.data("luma-processed",!0);var n=v.checkDeviceType();if(!t.data("hide-"+n)){v.slots.push(i),t.data("show-after")&&t.hide();var a='<script src="http://d.lumatag.co.uk/tag?w=2&c='+i.c+("undefined"!=typeof get_ltap?get_ltap(o):"")+'"></script>';v.ads.push({elem:t,script:a})}}})},prep:function(t){var i=v.slots,o="http://d.lumatag.co.uk/tag?w=2&c="+t+("undefined"!=typeof get_ltap?get_ltap(i):""),n=function(){console.log("googletag"),googletag.events=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(t){console.log("slotRenderEnded");var i=t.slot.getSlotId().getDomId();if(console.log(i),"luma-mpu2"==i&&(t.size[1]>300?(e("#luma-mpu2").parent().parent().addClass("double"),e("main.grid .grid-mpu2").first().remove(),r.doubleMPU=!0,e("#popular-guides").length&&jQuery(window).resize()):ITPP.LumaAds.onScrollLoad()),"luma-bb"==i){console.log("luma-bb loaded");var o=e("div[data-id=luma-bb]");o.show(),u.setHeight()}if("luma-lb1"==i){var o=e("div[data-id=luma-lb1]");o.show(),u.setHeight()}})})},a='<script src="'+o+'"></script>',s=function(){var t='<script type="text/javascript">var gptadslots=[];var googletag = googletag || {};googletag.cmd = googletag.cmd || [];googletag.cmd.push(function() {googletag.pubads().enableSingleRequest();});</script>';postscribe(e("body"),t),postscribe(e("body"),a,{error:function(e){console.log("Error: "+a),console.log(e)},done:n})};s()},load:function(){for(var e in v.ads){var t=v.ads[e];t.elem.data("luma-loaded")||(postscribe(t.elem,t.script,{error:function(e){console.log("Error: "+t.script),console.log(e)}}),t.elem.data("luma-loaded",!0))}},onScrollLoad:function(){e(".onscroll-ad").each(function(){var t=e(this);if(!t.data("onscroll-loaded")){t.data("onscroll-loaded",!0);var i=t.attr("data-code"),o=v.onScrollPrepare(i),n="<script>"+o+'</script><script src="http://cdn.onscroll.com/onscroll.ms.js"></script>';postscribe(t,n,{error:function(e){console.log("Error: "+n),console.log(e)}})}})},onScrollPrepare:function(e){return"onScrOll = new Object();                     onScrOll.code = '"+e+"';                     onScrOll.margin=0;                     onScrOll.mode='basic';                     onScrOll.height=250;                    onScrOll.width=300;                    onScrOll.reload=false;                     onScrOll.campaignId='51cc56b9707d4e2513000002';                     onScrOll.creativeId='51cc57e2707d4e2513000006';                     onScrOll.accountId='51cc5687707d4e2513000001';                     var ltslot=[{name: 'luma-mpu2-inline', size:'300x250', kv:'pos:inline'}];                     var ltap=(typeof get_ltap!='undefined')?get_ltap(ltslot):'';                     onScrOll.vars={ltz:ltz,ltkv:ltkv,ltui:ltui,ltap:ltap};"},checkDeviceType:function(){var e={mobile:{min:0,max:650},tablet:{min:650,max:970},desktop:{min:970,max:0}},t=document.documentElement,i=window.innerWidth||t.clientWidth,o="mobile";return i>=e.desktop.min?o="desktop":i>=e.tablet.min&&(o="tablet"),o}},w={init:function(){window.Tynt=window.Tynt||[],window.Tynt.push("dzbKrmqimr3RzQab7jrHcU");var t='<script src="http://tcr.tynt.com/ti.js"></script>';postscribe(e("body"),t,{error:function(e){console.log("Error: "+t),console.log(e)}})}},k={init:function(){if(e("#main .main-content").hasClass("powerlinks")){var t='<script src="http://adserver.powerlinks.com/serve?id=821"></script>';postscribe(e("#main .main-content"),t,{error:function(e){console.log("Error: "+t),console.log(e)}})}}},$={init:function(){if(window._qoptions={qacct:"p-bcQkOXWREf02g"},e("#main .main-content").hasClass("powerlinks")){var t='<script src="http://edge.quantserve.com/quant.js"></script>';postscribe(e("#main .main-content"),t,{error:function(e){console.log("Error: "+t),console.log(e)}})}}},x={init:function(){"undefined"!=typeof ga&&(x.observeElements(),x.trackPosition())},trackPosition:function(){if(e("article.post").length){var t=100,i=150,o=0,n=!1,a=!1,s=!1,r=0,l=new Date,c=l.getTime(),d=0;x.trackEvent("ArticleReading","ArticleLoaded");var u=function(){var t=e(window).height()+e(window).scrollTop(),o=e(document).height();if(t>e(window).height()+i&&!n){var l=new Date;r=l.getTime();var u=Math.round((r-c)/1e3);x.trackEvent("ArticleReading","StartReading",u),n=!0
}if(t>=e("article").offset().top+e("article").innerHeight()&&!a){var l=new Date,h=l.getTime(),p=Math.round((h-r)/1e3);x.trackEvent("ArticleReading","ContentBottom",p),a=!0}if(t>=o&&!s){var l=new Date,m=l.getTime();d=Math.round((m-r)/1e3),x.trackEvent("ArticleReading","PageBottom",d),s=!0}};e(window).scroll(function(){o&&clearTimeout(o),o=setTimeout(u,t)})}},observeElements:function(){var t=!1;e("body").hasClass("alternative")?(t=!0,x.trackEvent("MenuLoaded","Alternative")):x.trackEvent("MenuLoaded","Standard"),e("section.featured a").click(function(){x.trackClick("FeaturedWidgetClicks","Page - "+window.location.pathname,"Link - "+e(this).attr("href"))}),e(".live-blog-pencil a").click(function(){x.trackClick("LiveBlogClicks","Page - "+window.location.pathname,e(this).attr("href"))}),e("div.related-articles").on("click",".OUTBRAIN a",function(){x.trackClick("OutbrainWidgetClicks","Page (H) - "+window.location.pathname,"Link - "+e(this).attr("href"))}),e(".entry-topics a").click(function(){x.trackClick("TopicsPanelClicks","Page - "+window.location.pathname,"Topic - "+e(this).text()+", Link - "+e(this).attr("href"))}),e("header.site-header .social-links a.newsletter-icon").click(function(){var e="SubscribeButtonClicks";t&&(e="Alternative"+e),x.trackClick(e,"Page - "+window.location.pathname,"Header subscribe button")}),e("header.entry-header .entry-author a").click(function(){x.trackClick("ViewBioLinkClicks","Page - "+window.location.pathname,e(this).text())}),e("footer a").click(function(){x.trackClick("FooterLinksClicks","Page - "+window.location.pathname,e(this).text())}),e(".mega-wrap .mega-column a").click(function(){var i="FirstLevelNavClicks";t&&(i="Alternative"+i),x.trackClick(i,"Page - "+window.location.pathname,e(this).text())}),e("header.site-header .social-links a[rel=publisher]").click(function(){var i="FollowPanelClicks";t&&(i="Alternative"+i),x.trackClick(i,"Page - "+window.location.pathname,e(this).attr("title"))}),e(".sponsored-links a").click(function(){var i="SponsoredNavLinkClicks";t&&(i="Alternative"+i),x.trackClick(i,"Page - "+window.location.pathname,e(this).attr("href"))}),e(".site-switch li.active").click(function(){var i="SiteSwitchClicks";t&&(i="Alternative"+i),x.trackClick(i,"Page - "+window.location.pathname,e(this).text())}),e("article .top-stories a").click(function(){x.trackClick("TopWidgetClicks","Page (V) - "+window.location.pathname,"Link - "+e(this).attr("href"))}),e(document).on("click","#popular-guides a",function(){x.trackClick("PopularGuidesWidgetClicks","Page (H) - "+window.location.pathname,"Link - "+e(this).attr("href"))}),e(document).on("click",".trending-home a",function(){x.trackClick("TrendingWidgetClicks","Page (H) - "+window.location.pathname,"Link - "+e(this).attr("href"))})},trackClick:function(e,t,i,o){ga("send","event",e,t,i,o||void 0)},trackEvent:function(e,t,i){var o="Page - "+window.location.pathname;ga("send","event",e,t,o,i)}};return{UI:o,Trending:c,LumaAds:v,Lightbox:n,PopGuides:l,bootstrap:function(){a.init(),s.init(),m.init(),f.init(),b.init(),k.init(),w.init(),$.init(),c.init(),x.init(),e(".grid").length&&r.init(),e(".post").length&&(d.init(),g.init())}}}(jQuery);ITPP.LumaAds.process(),ITPP.LumaAds.prep(894),ITPP.LumaAds.load(),jQuery(document).ready(function(){ITPP.UI.init(),ITPP.bootstrap(),socialshare()}),jQuery(window).load(function(){ITPP.UI.offsets()});