
/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/ssid_settings.js?t=1415322278 */
var CNBC_SSID_Settings={};(function($){CNBC_SSID_Settings.isTablet=(/tablet|sch-i800|nexus 7|kindle|nexus 10|ipad|blackberry|opera mini/i.test(navigator.userAgent.toLowerCase()));CNBC_SSID_Settings.isMobile=(/android|webos|iphone|ipod|blackberry|iemobile|opera mini|symbianos|bb10/i.test(navigator.userAgent.toLowerCase()));CNBC_SSID_Settings.isHomePage=CNBC_SSID_Settings.isXfinityPage=CNBC_SSID_Settings.isVideoGalleryPage=-1;$templateName=$('body').attr('id');if($templateName){CNBC_SSID_Settings.isHomePage=$templateName.indexOf('home_page_redesign');CNBC_SSID_Settings.isXfinityPage=$templateName.indexOf('xfinity_page');CNBC_SSID_Settings.isVideoGalleryPage=$templateName.indexOf('video_gallery');}
CNBC_SSID_Settings.tabletPostFix='_tab';CNBC_SSID_Settings.mobilePostFix='_hh';CNBC_SSID_Settings.XfinitySSID='cnbc_xfinitycobrand_';CNBC_SSID_Settings.SSID=null;if(window.activePartnerExperience=='xfinity'){if(CNBC_SSID_Settings.isTablet){if(CNBC_SSID_Settings.isHomePage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'cnbc_homepage_vod'+CNBC_SSID_Settings.tabletPostFix;}
else if(CNBC_SSID_Settings.isVideoGalleryPage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'permalink_vod'+CNBC_SSID_Settings.tabletPostFix;}
else if(CNBC_SSID_Settings.isXfinityPage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'xfinity_section_front_vod'+CNBC_SSID_Settings.tabletPostFix;}
else{CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'embed_vod'+CNBC_SSID_Settings.tabletPostFix;}}
else if(CNBC_SSID_Settings.isMobile){if(CNBC_SSID_Settings.isHomePage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'cnbc_homepage_vod'+CNBC_SSID_Settings.mobilePostFix;}
else if(CNBC_SSID_Settings.isVideoGalleryPage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'permalink_vod'+CNBC_SSID_Settings.mobilePostFix;}
else if(CNBC_SSID_Settings.isXfinityPage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'xfinity_section_front_vod'+CNBC_SSID_Settings.mobilePostFix;}
else{CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'embed_vod'+CNBC_SSID_Settings.mobilePostFix;}}
else{if(CNBC_SSID_Settings.isHomePage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'cnbc_homepage_vod';}
else if(CNBC_SSID_Settings.isVideoGalleryPage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'permalink_vod';}
else if(CNBC_SSID_Settings.isXfinityPage>0){CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'xfinity_section_front_vod';}
else{CNBC_SSID_Settings.SSID=CNBC_SSID_Settings.XfinitySSID+'embed_vod';}}}
else{if(CNBC_SSID_Settings.isTablet){if(CNBC_SSID_Settings.isHomePage>0){CNBC_SSID_Settings.SSID='cnbc_inline_homepage_vod'+CNBC_SSID_Settings.tabletPostFix;}
else if(CNBC_SSID_Settings.isVideoGalleryPage>0){CNBC_SSID_Settings.SSID='cnbc_permalink_vod'+CNBC_SSID_Settings.tabletPostFix;}}
else if(CNBC_SSID_Settings.isMobile){if(CNBC_SSID_Settings.isHomePage>0){CNBC_SSID_Settings.SSID='cnbc_inline_homepage_vod'+CNBC_SSID_Settings.mobilePostFix;}
else if(CNBC_SSID_Settings.isVideoGalleryPage>0){CNBC_SSID_Settings.SSID='cnbc_permalink_vod'+CNBC_SSID_Settings.mobilePostFix;}}
else{if(CNBC_SSID_Settings.isHomePage>0){CNBC_SSID_Settings.SSID='cnbc_inline_homepage_vod';}
else if(CNBC_SSID_Settings.isVideoGalleryPage>0){CNBC_SSID_Settings.SSID='cnbc_permalink_vod';}}}})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/ThePlatForm/video_state.js?t=1415322278 */
var CNBC_VideoStates={};(function($){CNBC_VideoStates.pdkObjs=[];CNBC_VideoStates.currentPlayerObj=null;CNBC_VideoStates.videoPlaying=[];CNBC_VideoStates.setCookieVal={};CNBC_VideoStates.cookieName='playerStatus';CNBC_VideoStates.showEndSlate=false;CNBC_VideoStates.$mainImgContainer=null;CNBC_VideoStates.IS_IPAD=navigator.userAgent.match(/iPad/i)!=null;CNBC_VideoStates.IS_IPHONE=(navigator.userAgent.match(/iPhone/i)!=null)||(navigator.userAgent.match(/iPod/i)!=null);CNBC_VideoStates.playerController=null;CNBC_VideoStates.errorMsgContainerHTML='<div class="player-error-placeholder"><div class="error-msg"><p>YOUR BROWSER IS NOT SUPPORTED.</p><p><strong><a href="http://cnbcllca.custhelp.com/app/answers/detail/a_id/335/" target="_blank">Please upgrade to watch video.</a></strong></p></div></div>';CNBC_VideoStates.videoErrorMsgContainerHTML='<div class="player-error-placeholder"><div class="error-msg"><p>The requested video is unable to play.</p><p>The video does not exist in the system.</p></div></div>';CNBC_VideoStates.init=function(args){if(args){this.showEndSlate=args.showEndSlate||false;this.errorMsgContainerHTML=args.errorMsgContainerHTML||this.errorMsgContainerHTML;this.videoErrorMsgContainerHTML=args.videoErrorMsgContainerHTML||this.videoErrorMsgContainerHTML;this.$mainImgContainer=args.mainImgContainer;if(this.$mainImgContainer){this.setContainer(this.$mainImgContainer);this.initLazyLoadingEvents();}}
this.getpdkObjs();this.initpdkEventsAllPlayers();};CNBC_VideoStates.setContainer=function(container){var type=typeof container;if(type=='string'){this.$mainImgContainer=$('#'+container);}else if(type=='object'&&container.length==1){this.$mainImgContainer=container;}else{this.$mainImgContainer=$(container);}};CNBC_VideoStates.initLazyLoadingEvents=function(){var self=this;var $videoPlayer;if(self.IS_IPAD||self.IS_IPHONE){$videoPlayer=$('iframe.player-lazy-loaded');if($videoPlayer.length){var playerId=$videoPlayer.attr('id');if(CNBC_SSID_Settings.SSID){$videoPlayer.attr('data-src',$videoPlayer.attr('data-src')+'&ssid='+CNBC_SSID_Settings.SSID);}
$videoPlayer.attr('src',$videoPlayer.attr('data-src'));var $playerClone=$('iframe.player-lazy-loaded').clone();$playerClone.css({"position":"absolute","z-index":"100000","display":"block","opacity":"0"});$('iframe.player-lazy-loaded').remove();$('.top-news.cnbcvideo').find('.module-header').after($playerClone);self.playerController=$pdk.bind(playerId);self.initpdkEvents(self.playerController,1);}}
self.$mainImgContainer.unbind().click(function(e){self.$mainImgContainer.click();e.stopPropagation();});self.$mainImgContainer.unbind().click(function(e){e.preventDefault();$(this).hide();$videoPlayer=$(this).parent().find('iframe.player-lazy-loaded');$videoPlayer.show().css('display','block');if($videoPlayer.length){var playerId=$videoPlayer.attr('id');if(CNBC_SSID_Settings.SSID){$videoPlayer.attr('data-src',$videoPlayer.attr('data-src')+'&ssid='+CNBC_SSID_Settings.SSID);}
$videoPlayer.attr('src',$videoPlayer.attr('data-src'));self.initpdkEvents($pdk.bind(playerId),1);}
e.stopPropagation();return false;});};CNBC_VideoStates.getpdkObjs=function(){var self=this;$('iframe.player').each(function(){if(CNBC_SSID_Settings.SSID){$(this).attr('data-src',$(this).attr('data-src')+'&ssid='+CNBC_SSID_Settings.SSID);}
var playerId=$(this).attr('id');if($pdk&&$pdk.controller){if(CNBC_Utils.isSupportedBrowser()){$(this).attr('src',$(this).attr('data-src'));if(playerId){self.pdkObjs.push($pdk.bind(playerId));}}
else{$(this).replaceWith(self.errorMsgContainerHTML);}}
else{$(this).replaceWith(self.errorMsgContainerHTML);}});};CNBC_VideoStates.onPlayerLoaded=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnPlayerLoaded",function(e){var playerCookieData=CNBC_Utils.readCookie(self.cookieName,1);var playerStatus=JSON.parse(playerCookieData);if(playerStatus&&playerStatus.mute){pdkObj.mute(true);}
if(playerStatus&&playerStatus.volume){pdkObj.setVolume(playerStatus.volume);}});};CNBC_VideoStates.onSetVolume=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnSetVolume",function(e){self.setCookieVal.volume=e.data;CNBC_Utils.createCookie(self.cookieName,JSON.stringify(self.setCookieVal),null,1);});};CNBC_VideoStates.onMute=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnMute",function(e){var muteStatus=e.data;if(muteStatus){muteStatus=1;}else{muteStatus=0;}
self.setCookieVal.mute=muteStatus;CNBC_Utils.createCookie(self.cookieName,JSON.stringify(self.setCookieVal),null,1);});};CNBC_VideoStates.onMediaPlay=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnMediaPlay",function(e){if(self.currentPlayerObj&&(pdkObj.iframe.id!=self.currentPlayerObj.iframe.id)){self.currentPlayerObj.pause(true);}
self.currentPlayerObj=pdkObj;self.videoPlaying[i]=1;});};CNBC_VideoStates.onMediaStart=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnMediaStart",function(e){var globalInfo=e.data;var vidTitle=globalInfo.baseClip.title;var containerId=$('#'+pdkObj.iframe.id).parent().prev().attr('id');if(containerId=='show-title'&&vidTitle&&vidTitle!=null){$('#'+pdkObj.iframe.id).parent().prev().html(vidTitle);}
if(self.currentPlayerObj&&(pdkObj.iframe.id!=self.currentPlayerObj.iframe.id)){self.currentPlayerObj.pause(true);}
self.currentPlayerObj=pdkObj;self.videoPlaying[i]=1;});};CNBC_VideoStates.onReleaseStart=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnReleaseStart",function(e){if(self.IS_IPAD||self.IS_IPHONE){if($('iframe.player-lazy-loaded').length){$('iframe.player-lazy-loaded').css({"opacity":"1"});}}
var globalInfo=e.data;var vidTitle=globalInfo.title;var containerId=$('#'+pdkObj.iframe.id).parent().prev().attr('id');if(containerId=='show-title'&&vidTitle&&vidTitle!=null){$('#'+pdkObj.iframe.id).parent().prev().html(vidTitle);}});};CNBC_VideoStates.onMediaUnpause=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnMediaUnpause",function(e){if(self.currentPlayerObj&&(pdkObj.iframe.id!=self.currentPlayerObj.iframe.id)){self.currentPlayerObj.pause(true);}
self.currentPlayerObj=pdkObj;self.videoPlaying[i]=1;});};CNBC_VideoStates.onMediaEnd=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnMediaEnd",function(e){self.videoPlaying[i]=0;});};CNBC_VideoStates.onReleaseEnd=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnReleaseEnd",function(e){self.videoPlaying[i]=0;if(!self.showEndSlate){var $currPlayerIframe=$(pdkObj.iframe);var playerLazyLoaded=$currPlayerIframe.attr('class');if(playerLazyLoaded=='player-lazy-loaded'){if(self.IS_IPAD||self.IS_IPHONE){var playerId=$currPlayerIframe.attr('id');var $playerClone=$currPlayerIframe.clone();$playerClone.css({"position":"absolute","z-index":"100000","display":"block","opacity":"0"});$currPlayerIframe.remove();$('.top-news.cnbcvideo').find('.module-header').after($playerClone);$playerClone.attr('src',$currPlayerIframe.attr('data-src'));self.playerController=$pdk.bind(playerId);self.initpdkEvents(self.playerController,1);}
else{$currPlayerIframe.hide();$currPlayerIframe.parent().parent().find('div.promo').show();$currPlayerIframe.attr('src','about:blank');self.removepdkEvents(pdkObj);}}}});};CNBC_VideoStates.onMediaError=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnMediaError",function(e){if(self.currentPlayerObj&&(pdkObj.iframe.id==self.currentPlayerObj.iframe.id)){$('#'+pdkObj.iframe.id).replaceWith(self.videoErrorMsgContainerHTML);}});};CNBC_VideoStates.onReleaseError=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnReleaseError",function(e){if(self.currentPlayerObj&&(pdkObj.iframe.id==self.currentPlayerObj.iframe.id)){$('#'+pdkObj.iframe.id).replaceWith(self.videoErrorMsgContainerHTML);}});};CNBC_VideoStates.onMediaPause=function(pdkObj,i){var self=this;pdkObj.addEventListener("OnMediaPause",function(e){self.videoPlaying[i]=0;if(self.currentPlayerObj&&(pdkObj.iframe.id==self.currentPlayerObj.iframe.id)){self.currentPlayerObj=null;}});};CNBC_VideoStates.initpdkEvents=function(pdkObj,index){this.onPlayerLoaded(pdkObj,index);this.onSetVolume(pdkObj,index);this.onMute(pdkObj,index);this.onReleaseStart(pdkObj,index);this.onMediaPlay(pdkObj,index);this.onMediaStart(pdkObj,index);this.onMediaUnpause(pdkObj,index);this.onMediaEnd(pdkObj,index);this.onMediaPause(pdkObj,index);this.onReleaseEnd(pdkObj,index);this.onMediaError(pdkObj,index);this.onReleaseError(pdkObj,index);};CNBC_VideoStates.initpdkEventsAllPlayers=function(){var self=this;$.each(self.pdkObjs,function(i,value){self.initpdkEvents(self.pdkObjs[i],i);});};CNBC_VideoStates.removepdkEvents=function(pdkObj){pdkObj.removeEventListener("OnPlayerLoaded");pdkObj.removeEventListener("OnSetVolume");pdkObj.removeEventListener("OnMute");pdkObj.removeEventListener("OnMediaPlay");pdkObj.removeEventListener("OnReleaseStart");pdkObj.removeEventListener("OnMediaStart");pdkObj.removeEventListener("OnMediaUnpause");pdkObj.removeEventListener("OnMediaEnd");pdkObj.removeEventListener("OnMediaPause");pdkObj.removeEventListener("OnReleaseEnd");pdkObj.removeEventListener("OnMediaError");pdkObj.removeEventListener("OnReleaseError");};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/jquery/plugins/jquery.hashchange.min.js?t=1415322278 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/jquery/plugins/jquery.base64.min.js?t=1415322278 */
(function($){var keyString="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var uTF8Encode=function(string){string=string.replace(/\x0d\x0a/g,"\x0a");var output="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){output+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){output+=String.fromCharCode((c>>6)|192);output+=String.fromCharCode((c&63)|128);}else{output+=String.fromCharCode((c>>12)|224);output+=String.fromCharCode(((c>>6)&63)|128);output+=String.fromCharCode((c&63)|128);}}return output;};var uTF8Decode=function(input){var string="";var i=0;var c=c1=c2=0;while(i<input.length){c=input.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}else if((c>191)&&(c<224)){c2=input.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=input.charCodeAt(i+1);c3=input.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}return string;};$.extend({base64Encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=uTF8Encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}output=output+keyString.charAt(enc1)+keyString.charAt(enc2)+keyString.charAt(enc3)+keyString.charAt(enc4);}return output;},base64Decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=keyString.indexOf(input.charAt(i++));enc2=keyString.indexOf(input.charAt(i++));enc3=keyString.indexOf(input.charAt(i++));enc4=keyString.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}if(enc4!=64){output=output+String.fromCharCode(chr3);}}output=uTF8Decode(output);return output;}});})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/jquery/plugins/jquery.cookie.js?t=1415322278 */
jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Mordenizr/customModernizr.js?t=1415322278 */
;window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return!!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}return!1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.7.1",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.csstransforms=function(){return!!F("transform")},q.csstransitions=function(){return F("transition")};for(var G in q)y(q,G)&&(v=G.toLowerCase(),e[v]=q[G](),t.push((e[v]?"":"no-")+v));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)y(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/jquery/plugins/jquery.hammer.min.js?t=1415322278 */
/* Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(t,e){"use strict";function n(){if(!i.READY){i.event.determineEventTypes();for(var t in i.gestures)i.gestures.hasOwnProperty(t)&&i.detection.register(i.gestures[t]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect),i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect),i.READY=!0}}var i=function(t,e){return new i.Instance(t,e||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in t,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=document,i.plugins={},i.READY=!1,i.Instance=function(t,e){var r=this;return n(),this.element=t,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),e||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),i.event.onTouch(t,i.EVENT_START,function(t){r.enabled&&i.detection.startDetect(r,t)}),this},i.Instance.prototype={on:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.addEventListener(n[i],e,!1);return this},off:function(t,e){for(var n=t.split(" "),i=0;n.length>i;i++)this.element.removeEventListener(n[i],e,!1);return this},trigger:function(t,e){var n=i.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var r=this.element;return i.utils.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this}};var r=null,o=!1,s=!1;i.event={bindDom:function(t,e,n){for(var i=e.split(" "),r=0;i.length>r;r++)t.addEventListener(i[r],n,!1)},onTouch:function(t,e,n){var a=this;this.bindDom(t,i.EVENT_TYPES[e],function(c){var u=c.type.toLowerCase();if(!u.match(/mouse/)||!s){(u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===c.which)&&(o=!0),u.match(/touch|pointer/)&&(s=!0);var h=0;o&&(i.HAS_POINTEREVENTS&&e!=i.EVENT_END?h=i.PointerEvent.updatePointer(e,c):u.match(/touch/)?h=c.touches.length:s||(h=u.match(/up/)?0:1),h>0&&e==i.EVENT_END?e=i.EVENT_MOVE:h||(e=i.EVENT_END),h||null===r?r=c:c=r,n.call(i.detection,a.collectEventData(t,e,c)),i.HAS_POINTEREVENTS&&e==i.EVENT_END&&(h=i.PointerEvent.updatePointer(e,c))),h||(r=null,o=!1,s=!1,i.PointerEvent.reset())}})},determineEventTypes:function(){var t;t=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=t[0],i.EVENT_TYPES[i.EVENT_MOVE]=t[1],i.EVENT_TYPES[i.EVENT_END]=t[2]},getTouchList:function(t){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,e,n){var r=this.getTouchList(n,e),o=i.POINTER_TOUCH;return(n.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,n))&&(o=i.POINTER_MOUSE),{center:i.utils.getCenter(r),timeStamp:(new Date).getTime(),target:n.target,touches:r,eventType:e,pointerType:o,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var t=this,e=[];return Object.keys(t.pointers).sort().forEach(function(n){e.push(t.pointers[n])}),e},updatePointer:function(t,e){return t==i.EVENT_END?this.pointers={}:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e),Object.keys(this.pointers).length},matchType:function(t,e){if(!e.pointerType)return!1;var n={};return n[i.POINTER_MOUSE]=e.pointerType==e.MSPOINTER_TYPE_MOUSE||e.pointerType==i.POINTER_MOUSE,n[i.POINTER_TOUCH]=e.pointerType==e.MSPOINTER_TYPE_TOUCH||e.pointerType==i.POINTER_TOUCH,n[i.POINTER_PEN]=e.pointerType==e.MSPOINTER_TYPE_PEN||e.pointerType==i.POINTER_PEN,n[t]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.utils={extend:function(t,n,i){for(var r in n)t[r]!==e&&i||(t[r]=n[r]);return t},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){for(var e=[],n=[],i=0,r=t.length;r>i;i++)e.push(t[i].pageX),n.push(t[i].pageY);return{pageX:(Math.min.apply(Math,e)+Math.max.apply(Math,e))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.pageY-t.pageY,i=e.pageX-t.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.pageX-e.pageX),r=Math.abs(t.pageY-e.pageY);return n>=r?t.pageX-e.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:t.pageY-e.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(t,e){var n=e.pageX-t.pageX,i=e.pageY-t.pageY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==i.DIRECTION_UP||t==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,e){var n,i=["webkit","khtml","moz","ms","o",""];if(e&&t.style){for(var r=0;i.length>r;r++)for(var o in e)e.hasOwnProperty(o)&&(n=o,i[r]&&(n=i[r]+n.substring(0,1).toUpperCase()+n.substring(1)),t.style[n]=e[o]);"none"==e.userSelect&&(t.onselectstart=function(){return!1})}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:i.utils.extend({},e),lastEvent:!1,name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);for(var e=this.current.inst.options,n=0,r=this.gestures.length;r>n;n++){var o=this.gestures[n];if(!this.stopped&&e[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==i.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var e=this.current.startEvent;if(e&&(t.touches.length!=e.touches.length||t.touches===e.touches)){e.touches=[];for(var n=0,r=t.touches.length;r>n;n++)e.touches.push(i.utils.extend({},t.touches[n]))}var o=t.timeStamp-e.timeStamp,s=t.center.pageX-e.center.pageX,a=t.center.pageY-e.center.pageY,c=i.utils.getVelocity(o,s,a);return i.utils.extend(t,{deltaTime:o,deltaX:s,deltaY:a,velocityX:c.x,velocityY:c.y,distance:i.utils.getDistance(e.center,t.center),angle:i.utils.getAngle(e.center,t.center),direction:i.utils.getDirection(e.center,t.center),scale:i.utils.getScale(e.touches,t.touches),rotation:i.utils.getRotation(e.touches,t.touches),startEvent:e}),t},register:function(t){var n=t.defaults||{};return n[t.name]===e&&(n[t.name]=!0),i.utils.extend(i.defaults,n,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},i.gestures=i.gestures||{},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,e){switch(t.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==i.detection.current.name&&e.trigger("hold",t)},e.options.hold_timeout);break;case i.EVENT_MOVE:t.distance>e.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,e){if(t.eventType==i.EVENT_END){var n=i.detection.previous,r=!1;if(t.deltaTime>e.options.tap_max_touchtime||t.distance>e.options.tap_max_distance)return;n&&"tap"==n.name&&t.timeStamp-n.lastEvent.timeStamp<e.options.doubletap_interval&&t.distance<e.options.doubletap_distance&&(e.trigger("doubletap",t),r=!0),(!r||e.options.tap_always)&&(i.detection.current.name="tap",e.trigger(i.detection.current.name,t))}}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,e){if(t.eventType==i.EVENT_END){if(e.options.swipe_max_touches>0&&t.touches.length>e.options.swipe_max_touches)return;(t.velocityX>e.options.swipe_velocity||t.velocityY>e.options.swipe_velocity)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(n.options.drag_max_touches>0&&t.touches.length>n.options.drag_max_touches))switch(t.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(t.distance<n.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name,(i.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=t.distance)&&(t.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;t.drag_locked_to_axis&&r!==t.direction&&(t.direction=i.utils.isVertical(r)?0>t.deltaY?i.DIRECTION_UP:i.DIRECTION_DOWN:0>t.deltaX?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),n.trigger(this.name+t.direction,t),(n.options.drag_block_vertical&&i.utils.isVertical(t.direction)||n.options.drag_block_horizontal&&!i.utils.isVertical(t.direction))&&t.preventDefault();break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",t),this.triggered=!1,e;if(!(2>t.touches.length))switch(n.options.transform_always_block&&t.preventDefault(),t.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var r=Math.abs(1-t.scale),o=Math.abs(t.rotation);if(n.options.transform_min_scale>r&&n.options.transform_min_rotation>o)return;i.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",t),this.triggered=!0),n.trigger(this.name,t),o>n.options.transform_min_rotation&&n.trigger("rotate",t),r>n.options.transform_min_scale&&(n.trigger("pinch",t),n.trigger("pinch"+(1>t.scale?"in":"out"),t));break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",t),this.triggered=!1}}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,n){return n.options.prevent_mouseevents&&t.pointerType==i.POINTER_MOUSE?(t.stopDetect(),e):(n.options.prevent_default&&t.preventDefault(),t.eventType==i.EVENT_START&&n.trigger(this.name,t),e)}},i.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==i.EVENT_END&&e.trigger(this.name,t)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=i:(t.Hammer=i,"function"==typeof t.define&&t.define.amd&&t.define("hammer",[],function(){return i}))})(this),function(t,e){"use strict";t!==e&&(Hammer.event.bindDom=function(n,i,r){t(n).on(i,function(t){var n=t.originalEvent||t;n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n.target||(n.target=t.target),n.which===e&&(n.which=n.button),n.preventDefault||(n.preventDefault=t.preventDefault),n.stopPropagation||(n.stopPropagation=t.stopPropagation),r.call(this,n)})},Hammer.Instance.prototype.on=function(e,n){return t(this.element).on(e,n)},Hammer.Instance.prototype.off=function(e,n){return t(this.element).off(e,n)},Hammer.Instance.prototype.trigger=function(e,n){var i=t(this.element);return i.has(n.target).length&&(i=t(n.target)),i.trigger({type:e,gesture:n})},t.fn.hammer=function(e){return this.each(function(){var n=t(this),i=n.data("hammer");i?i&&e&&Hammer.utils.extend(i.options,e):n.data("hammer",new Hammer(this,e||{}))})})}(window.jQuery||window.Zepto);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SWFObject/swfobject.2.2.js?t=1415322278 */
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Common/common_utils.1.js?t=1415322278 */
var CNBC_Common={};(function($){CNBC_Common.NewsDefaultView='regular';CNBC_Common.gotoPage=function(url){if(url!=""){setTimeout('window.location.href = "'+url+'"',0);}};CNBC_Common.openWindow=function(url,windowName,options){if(windowName==''){windowName="print";};var x=window.open(url,windowName,options);x.focus();};CNBC_Common.isNull=function(str){if(typeof str=='undefined'||str==''||str==null){return true;};return false;};CNBC_Common.ConsoleLog=function(msg){if(typeof(console)!='undefined'&&typeof console.log=='function'){console.log(msg);}
else if(typeof(window)!='undefined'&&typeof window.log=='function'){window.log(msg);}
else{}}
CNBC_Common.validateStr=function(str,replace){replace=replace||"--";if(typeof str==='undefined'||str==''||str===null){return replace;};return str;};CNBC_Common.focus=function($el,defaultText){if(CNBC_Common.checkForDefault($el.val(),defaultText)){$el.val('');}};CNBC_Common.blur=function($el,defaultText,checkEmpty){var val=$.trim($el.val());if(CNBC_Common.checkForDefault(val,defaultText,checkEmpty)){$el.val(defaultText);}};CNBC_Common.checkForDefault=function(val,defaultText,checkEmpty){var flag=(val==defaultText);if(checkEmpty&&!flag){flag=val=='';};return flag;};CNBC_Common.isArray=function(array){return(array!==null&&array instanceof Array);};CNBC_Common.formatDecimalZeros=function(num,digits){var digits=digits||2;var stringRepeat=function(str,num){return new Array(isNaN(num)?1:++num).join(str);}
var result=num;var n=String(num);if(n.lastIndexOf('.')>0){var lastDec=n.substr(n.lastIndexOf('.'));var decimals=lastDec.length-1;if(decimals<digits){var diff=digits-decimals;result=num+stringRepeat("0",diff);}}
else{result=num+'.00';}
return result;};})(jQuery);var CNBC_Utils={};(function($){CNBC_Utils.loaderText='Loading ...';CNBC_Utils._fontSizeLabel='USERFONTSIZE';CNBC_Utils._domain='.cnbc.com';CNBC_Utils._path='/';CNBC_Utils.currUserAgent=navigator.userAgent.toLowerCase();CNBC_Utils.nonSupportedBrowsers=['msie 8'];CNBC_Utils.isSupportedBrowser=function(){var matched=true;if(this.nonSupportedBrowsers&&this.nonSupportedBrowsers.length){for(var i in this.nonSupportedBrowsers){if(this.currUserAgent.indexOf(this.nonSupportedBrowsers[i])>=0){matched=false;break;}}}
return matched;};CNBC_Utils.equalColumnHeight=function($container){var group=$container||$("section.cols2 > div.unit"),groupLength=group.length,tallest=0,thisHeight=0;for(i=0;i<groupLength;++i){$group=$(group).eq(i);$group.height('auto');thisHeight=$group.height();if(thisHeight>tallest){tallest=thisHeight;}}
if(tallest){for(i=0;i<groupLength;++i){$group=$(group).eq(i);thisHeight=$group.height();if(thisHeight<tallest){$group.height(tallest);}}}}
CNBC_Utils.pageControl={};CNBC_Utils.initEvents=function(){$('table.data tbody tr').bind('mouseover',function(){CNBC_Utils.highlightRow($(this),true);}).bind('mouseout',function(){CNBC_Utils.highlightRow($(this));});CNBC_Utils.pageControl.initEvents();};CNBC_Utils.showLoader=function(el,text,loaderClass){if(el){var $el=(typeof el==='string')?$('#'+el):el;if($el.find("div.loader").length==0){text=text||CNBC_Utils.loaderText;loaderClass=loaderClass||"";var div=$('<div class="loader '+loaderClass+' contain"><span class="loading">&nbsp;</span><span class="loadingTxt">'+text+'</span></div>');var pos=$el.position();div.css('top',pos.top+'px').css('left',pos.left+'px').css('width',$el.outerWidth()+'px').css('height',$el.outerHeight()+'px');$el.append(div);return div;}}};CNBC_Utils.hideLoader=function($div,$container){if($div){$div.remove();}else if($container&&$container.length==1){$('div.loader',$container).remove();}};CNBC_Utils.isStorageAvailable=function(){if(CNBC_Utils.isStorage===undefined){try{if('Storage'in window&&window['Storage']!==null){CNBC_Utils.isStorage=true;}else{CNBC_Utils.isStorage=false;}}catch(e){CNBC_Utils.isStorage=false;}}
return CNBC_Utils.isStorage;};CNBC_Utils.createLocalStorage=function(name,value){if(CNBC_Utils.isStorage){localStorage.setItem(name,value);}};CNBC_Utils.readLocalStorage=function(name){var result=null;if(CNBC_Utils.isStorage){result=localStorage.getItem(name);}
return result;};CNBC_Utils.eraseLocalStorage=function(name){if(CNBC_Utils.isStorage){localStorage.removeItem(name);}};CNBC_Utils.createCookie=function(name,value,h,checkLocalStorage){if(!checkLocalStorage||!CNBC_Utils.isStorageAvailable()){var expires="";if(!CNBC_Common.isNull(h)){var date=new Date();date.setTime($.now()+(h*60*60*1000));expires="; expires="+date.toGMTString();};document.cookie=name+"="+value+expires+";domain="+this._domain+";path="+this._path;}else{CNBC_Utils.createLocalStorage(name,value);}};CNBC_Utils.readCookie=function(name,checkLocalStorage){var result=null;if(!checkLocalStorage||!CNBC_Utils.isStorageAvailable()){var nameEQ=name+"=";var result=CNBC_Utils.parseCookieValues(nameEQ,document.cookie.split(';'));if(result==null){var unescaped=unescape(document.cookie);result=CNBC_Utils.parseCookieValues(nameEQ,unescaped.split(';'));};}else{result=CNBC_Utils.readLocalStorage(name);}
return result;};CNBC_Utils.parseCookieValues=function(name,data){for(var i=0,len=data.length;i<len;i++){var c=data[i];while(c.charAt(0)==' '){c=c.substring(1,c.length);};if(c.indexOf(name)==0){return c.substring(name.length,c.length);}};return null;};CNBC_Utils.eraseCookie=function(name,p,d,checkLocalStorage){if(!checkLocalStorage||!CNBC_Utils.isStorageAvailable()){if(CNBC_Utils.readCookie(name)){var params=name+"=;path="+this._path+";domain="+this._domain+";expires=Thu, 01-Jan-1970 00:00:01 GMT";document.cookie=params;}}else{CNBC_Utils.eraseLocalStorage(name);}};CNBC_Utils.deleteAllLoginCookies=function(){var allCNBCCookies=["c_sna","c_ipb_pass_hash","c_ipb_session_id","c_ipb_member_id","snas","c_ws","SUBSCRIBERINFO3","SUBSCRIBERINFO2","SUBSCRIBERINFO","CASTOKEN","c_enc"];for(var i=0,len=allCNBCCookies.length;i<len;i++){var name=unescape(allCNBCCookies[i]);CNBC_Utils.eraseCookie(name,this._path,this._domain);};window.location.reload();};CNBC_Utils.saveData=function(key,value,expirationTime,forceLocalStorage){if(forceLocalStorage&&CNBC_Utils.isStorageAvailable()){if(expirationTime){var date=new Date();var schedule=Math.round(date.setSeconds(date.getSeconds()+(expirationTime*60*60))/1000);localStorage.setItem(key,JSON.stringify({data:value,expiration:schedule}));}else{sessionStorage.setItem(key,value);}}else{var expirationTime=expirationTime||1;var expires="";if(!CNBC_Common.isNull(expirationTime)){var date=new Date();date.setTime($.now()+(expirationTime*60*60*1000));expires="; expires="+date.toGMTString();};document.cookie=key+"="+value+expires+";domain="+this._domain+";path="+this._path;}};CNBC_Utils.readData=function(key){var data=null;if(CNBC_Utils.isStorageAvailable()){dataStorage=JSON.parse(localStorage.getItem(key));if(dataStorage){var date=new Date();var current=Math.round(+date/1000);var storedTime=dataStorage.expiration;if(storedTime==undefined||storedTime=='null'){var storedTime=0;}
if(storedTime>current){data=dataStorage.data;}}}
if(data==null&&CNBC_Utils.isStorageAvailable()){data=sessionStorage.getItem(key);}
if(data==null){var nameEQ=key+"=";var data=CNBC_Utils.parseCookieValues(nameEQ,document.cookie.split(';'));if(data==null){var unescaped=unescape(document.cookie);data=CNBC_Utils.parseCookieValues(nameEQ,unescaped.split(';'));};}
return data;};CNBC_Utils.deleteData=function(key){var isSuccessful=false;if(CNBC_Utils.isStorageAvailable()&&localStorage.getItem(key)){localStorage.removeItem(key);isSuccessful=true;}
if(CNBC_Utils.isStorageAvailable()&&sessionStorage.getItem(key)){sessionStorage.removeItem(key);isSuccessful=true;}
if(CNBC_Utils.readData(key)){var params=key+"=;path="+this._path+";domain="+this._domain+";expires=Thu, 01-Jan-1970 00:00:01 GMT";document.cookie=params;isSuccessful=true;}
return isSuccessful;};CNBC_Utils.initFontSizeEvents=function(){if($('div.font-content').length>0){CNBC_Utils.setFontSize();$('a.icon-font').live('click',function(){CNBC_Utils.toggleFontSize($(this).attr('data-font'));});}};CNBC_Utils.toggleFontSize=function(dir,val){var $text=$('div.font-content');var style=$text.attr('style');var font=style?parseFloat(style.split(':')[1]):val;var newFont=(val)?val:(dir=='+')?(font+0.25):(font-0.25);if(newFont>=0.75&&newFont<=1.50){$text.css('font-size',newFont+'em');document.cookie=CNBC_Utils._fontSizeLabel+'='+newFont;}};CNBC_Utils.setFontSize=function(){var font=CNBC_Utils.getFontSizeCookie()||1;CNBC_Utils.toggleFontSize(null,font);};CNBC_Utils.getFontSizeCookie=function(){var search=CNBC_Utils._fontSizeLabel;var cookie=document.cookie;if(cookie.length>0&&cookie.indexOf(search)!=-1){var crumb=cookie.split(';');for(var i=0,len=crumb.length;i<len;++i){var key=crumb[i];if(key.match(search)){var font=key.split('=');return parseFloat(font[1]);}}}};CNBC_Utils.toolTipShow=function(id,parentid,$container,info,adjustTop,adjustLeft){$container.append('<div id="'+id+'"></div>');var $tooltipDiv=$('#'+id);var offset=$('#'+parentid).offset();$tooltipDiv.html(info);$tooltipDiv.offset({top:offset.top+adjustTop,left:offset.left+adjustLeft});};CNBC_Utils.toolTipHide=function(id){$container=$('#'+id);if(!CNBC_Common.isNull($container)){$container.remove();}};CNBC_Utils.highlightRow=function($el,highlight){var cName='hlight';$el.siblings('tr').removeClass(cName);if(highlight){$el.addClass(cName);}else{$el.removeClass(cName);}};CNBC_Utils.pageControl.host_url=location.host;CNBC_Utils.pageControl.initEvents=function(){var parent=$("#article-tools");if(!CNBC_Common.isNull(parent)){$("a.print",parent).bind("click",function(){CNBC_Utils.pageControl.print($(this).attr("data-nodeID"));});$("a.email",parent).bind("click",function(){CNBC_Utils.pageControl.email($(this).attr("data-nodeID"));});}};CNBC_Utils.pageControl.print=function(nodeID){var url="http://"+this.host_url+"/id/"+nodeID+"/print";CNBC_Common.openWindow(url,'print','width=800,height=600,scrollbars=1,resizable=1');};CNBC_Utils.pageControl.email=function(nodeID){var data=this.getEmailData(nodeID);document.location.href="mailto:?subject="+data.subject+"&body="+data.body+"%0d%0a%0d%0a Read More: "+data.loc;};CNBC_Utils.pageControl.getEmailData=function(nodeID){var title=$("h1.title","div.story").text();var etitle=title.replace(/\u2013/g,'-').replace(/\u2014/g,'-').replace(/\u2018/g,'\'').replace(/\u2019/g,'\'').replace(/\u201C/g,'"').replace(/\u201D/g,'"');etitle=escape($.trim(etitle).replace(/\s+/gi,' '));var ebody=$("#article_description").text();var encodeBody=ebody.replace(/\u2013/g,'-').replace(/\u2014/g,'-').replace(/\u2018/g,'\'').replace(/\u2019/g,'\'').replace(/\u201C/g,'"').replace(/\u201D/g,'"');encodeBody=escape($.trim(encodeBody).replace(/\s+/gi,' '));encodeBody=etitle+'%0D%0A%0D%0A'+encodeBody;return{subject:"CNBC.com Article: "+etitle,pubdate:$("#publish-date","div.story").text(),body:encodeBody,loc:encodeURIComponent('http://'+location.host+"/id/"+nodeID+'/')};};CNBC_Utils.pageControl.showPrintMenu=function(){window.print();};CNBC_Utils.execute=function(){var con=window.console,isWarnOk=(con&&typeof con.warn=="function"),warn=function(msg){if(isWarnOk){console.warn(msg);}};return function(component,func){try{func();}catch(e){warn("error initializing "+component);}}}();CNBC_Utils.getElement=function(selector,context,property){var prop='_$';prop+=property||selector;if(CNBC_Common.isNull(context._elements)||!CNBC_Common.isArray(context._elements)){context._elements=[];};if(!context._elements[prop]){context._elements[prop]=$(selector);};return context._elements[prop];};CNBC_Utils.initEvents();CNBC_Utils.adjustHeight=function(container){var type=typeof container;var $container;if(type=='string'){$container=$('#'+container);}else if(type=='object'&&container.length==1){$container=container;}else{$container=$(container);}
var maxHeight=parseInt($container.height()),$lastSubSection=$('div.subsection:last',$container),$li=$lastSubSection.children('ul').children('li'),$liFirst=$lastSubSection.children('ul').children('li:first');$lastSubSection.removeClass('hide');$li.each(function(){var $currLi=$(this);$currLi.removeClass('hide');var pos=$currLi.position().top,height=parseInt($currLi.outerHeight(true));if((pos+height)>maxHeight){$currLi.addClass('hide');}});if($liFirst.is(':hidden')){$lastSubSection.addClass('hide');}};CNBC_Utils.getQueryStringParams=function(){var queryString=window.location.search.substring(1);var paramPairs=queryString.split('&');var params={};for(var i=0,n=paramPairs.length;i<n;i++)
{var paramPair=paramPairs[i].split('=');params[paramPair[0]]=paramPair[1];}
return params;};CNBC_Utils.getQueryStringParamValue=function(queryStringParamName){return CNBC_Utils.getQueryStringParams()[queryStringParamName];};CNBC_Utils.replaceBrowserUrl=function(url){if(typeof window.history==='object'&&window.history.length&&typeof window.history.pushState==='function'){window.history.replaceState('windowPushState',"",url);}};CNBC_Utils.removeUrlParam=function(url,paramName){var result,urlArr,paramsArr,newParamsArr;result=url;urlArr=url.split('?');if(urlArr[1]){paramsArr=urlArr[1].split('&');newParamsArr=[];$.each(paramsArr,function(index,value){if(value.indexOf(paramName+'=')!=0){newParamsArr.push(value);}})
if(newParamsArr.length==0){result=urlArr[0];}else{urlArr[1]=newParamsArr.join('&');result=urlArr.join('?');}}
return result;};CNBC_Utils.removeUrlParams=function(url,paramNames){var result,urlArr,paramsArr;result=url;if(paramNames&&paramNames.length>0){urlArr=url.split('?');if(urlArr[1]){paramsArr=urlArr[1].split('&');$.each(paramNames,function(paramNameIndex,paramName){$.each(paramsArr,function(urlParamIndex,urlParam){if(urlParam.indexOf(paramName+'=')==0){paramsArr.splice(urlParamIndex,1);return false;}});});if(paramsArr.length==0){result=urlArr[0];}else{urlArr[1]=paramsArr.join('&');result=urlArr.join('?');}}}
return result;};CNBC_Utils.quickView=function(args){var cookie_name='news_default_view_'+args.nid;var quickViewCookie=CNBC_Utils.readCookie(cookie_name);if(CNBC_Common.isNull(quickViewCookie)){CNBC_Common.NewsDefaultView='regular';CNBC_Utils.createCookie(cookie_name,'regular',10*365*24);}
else{CNBC_Common.NewsDefaultView=quickViewCookie;}
$('div.top-news li.quickView').click(function(){CNBC_Utils.createCookie(cookie_name,'quick',10*365*24);document.location.reload();return false;});$('div.top-news li.regularView').click(function(){CNBC_Utils.createCookie(cookie_name,'regular',10*365*24);document.location.reload();return false;});};CNBC_Utils.isTouchEnabled=function(){return"ontouchend"in document;};CNBC_Utils.showRedirectPopup=function(paramName){var paramValue,popup,options,domString,logMsg,url;paramValue=CNBC_Utils.getQueryStringParamValue(paramName);if(paramValue=="1"){url=CNBC_Utils.removeUrlParam(window.location.href,paramName);CNBC_Utils.replaceBrowserUrl(url);domString='<div id="cnbc-popup-background">'+'<div id="cnbc-popup-lightbox">'+'<a id="cnbc-popup-close-btn">x</a>'+'<div id="cnbc-popup-content">'+'<p><img src="http://fm.cnbc.com/applications/cnbc.com/staticcontent/img/login-cnbc-logo.png"></p>'+'<p>We are sorry, the page you requested is no longer available.</p>'+'<p>Close message for related content, or go to <a id="cnbc-popup-inner-link" href="/">www.cnbc.com</a> for the latest business news.</p>'+'</div>'+'</div>'+'</div>';$('body').append(domString);popup=new CNBC_Popup();options={};options.closeOnBackgroudClick=true;popup.init(options);popup.execute();}};CNBC_Utils.viewMobileVersionLink=function(){var override=CNBC_Utils.readCookie('X-UA-Rewrite-Override');if(override){var link=$('.cnbc-new-footer .sec-footer-content .view-mobile');link.css('display','block');link.click(function(){if(CNBC_Utils&&CNBC_Utils.eraseCookie){CNBC_Utils.eraseCookie('X-UA-Rewrite-Override');window.location.href=window.location.href;}});}};CNBC_Utils.viewMobileVersionLink();CNBC_Utils.showBrowserUpgradeMsg=function(msg){if(!document.addEventListener&&CNBC_Utils.readCookie("old_browser_msg",true)!="dismissed"){$('header#cnbc-new-header').prepend('<div class="brwsr-up-ban"><div class="brwsr-up-msg"><a href="javascript:void(0);" class="brwsr-up-close">&times;</a>'+msg+'</div></div>');}
$(".brwsr-up-ban .brwsr-up-close").click(function(){CNBC_Utils.createCookie("old_browser_msg","dismissed",10*365*24,true);$(".brwsr-up-ban").remove();});}
CNBC_Utils.urlParam=function(name,url){if(!url){url=window.location.href;}
var results=new RegExp('[\\?&]'+name+'=([^&#]*)',"i").exec(url);return(results===null)?null:(results[1]||0);};CNBC_Utils.isMobile=function(){return navigator.userAgent.toLowerCase().match(/iphone|ipad|ipod|android|webos|palm|googletv|silk|windows phone|trident.*wp[1-9]|blackberry|bb10/)?true:false;};CNBC_Utils.getPlatform=function(){return CNBC_Utils.isMobile()?'Mobile':'PC';};CNBC_Utils.track={nav:function(data,label){if(window.s!==undefined){s.linkTrackVars='eVar48,prop48';s.eVar48=s.prop48=data;s.tl(this,'o',label);}},symbolLookup:function(data){if(window.s!==undefined){s.linkTrackVars='prop7';s.prop7=data;s.linkTrackEvents='event43';s.events='event43';s.tl(this,'o','Quote search');}}};CNBC_Utils.isEmailAddress=function(val){val=$.trim(val);var regExp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/igm;var result=regExp.test(val);return result;}})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Common/domTools.1.js?t=1415322278 */
var domToolsName="CNBC_domTools";window["tracking_"+domToolsName]={enterFrame:{},instances:0,framerate:30};;window[domToolsName]=(function(){var docObjectConst=function(elems,fdDOM){var elems=elems||document.body;if(elems.length){if(typeof elems==="object"){this.collection=Array.prototype.slice.call(elems);}else{this.collection=[document.getElementById(elems)];}}else{this.collection=[elems];}
this.forceDefaultDOM=fdDOM||false;this.self=this.collection[0];return this;};var docObject=function(elems,fdDOM){if(typeof elems==="string"&&elems.charAt(0)==="#"){return document.getElementById(elems.slice(1))||document.documentElement;}
return new docObjectConst(elems,fdDOM);};docObjectConst.prototype.checkCssProps=function(props){var elm=document.documentElement;if(typeof props=="string"&&!!props.length){if(typeof elm.style[props]=="string"){return props;}}else if(typeof props=="object"){var propsLength=props.length,i;for(i=0;i<propsLength;i++){if(typeof elm.style[props[i]]=="string"){return props[i];}}}
return false;};docObjectConst.prototype.insertText=function(text){var elm=this.collection[0],txt=text.toString()||"";if(document.body.innerText){elm.innerText+=txt;}else{elm.innerHTML+=txt.replace(/\&lt;br\&gt;/gi,"\n").replace(/(&lt;([^&gt;]+)&gt;)/gi,"");}
return this;};docObjectConst.prototype.hex3to6=function(h4){if(h4.charAt(0)==="#"&&h4.length===4){return"#"+h4.charAt(1)+h4.charAt(1)+h4.charAt(2)+h4.charAt(2)+h4.charAt(3)+h4.charAt(3);}
return h4;};docObjectConst.prototype.averageHexColor=function(c1,c2){if(c1.charAt(0)==="#"&&c2.charAt(0)==="#"){if(c1.length===4){c1=this.hex3to6(c1);}
if(c2.length===4){c2=this.hex3to6(c2);}
var c1_1=parseInt(c1.substr(1,2),16),c1_2=parseInt(c1.substr(3,2),16),c1_3=parseInt(c1.substr(5,2),16),c2_1=parseInt(c2.substr(1,2),16),c2_2=parseInt(c2.substr(3,2),16),c2_3=parseInt(c2.substr(5,2),16),color=[(~~((c1_1+c2_1)/2)).toString(16),(~~((c1_2+c2_2)/2)).toString(16),(~~((c1_3+c2_3)/2)).toString(16)];for(var n=0;n<=2;n++){if(color[n].length===1){color[n]="0"+color[n];}}
return"#"+color.join("");}else{return"#000000";}};docObjectConst.prototype.rgbToHex=function(rgb){var color=(typeof rgb==="string"&&rgb.length>9)?rgb:"rgb(0, 0, 0)";color=color.slice(4).split(", ");color[0]=parseInt(color[0]).toString(16);color[1]=parseInt(color[1]).toString(16);color[2]=parseInt(color[2]).toString(16);return"#"+color.join("");};docObjectConst.prototype.hexToRgb=function(hex){};docObjectConst.prototype.applyCustomStyles=function(CSSrules){if(CSSrules.length&&typeof CSSrules==="string"){var ssheet=document.getElementById("custom_gui")||document.createElement('style'),sheet=CSSrules||"";ssheet.setAttribute("type","text/css");ssheet.id="custom_gui";document.getElementsByTagName('head')[0].appendChild(ssheet);if(ssheet.styleSheet){ssheet.styleSheet.cssText=sheet;}else{ssheet.appendChild(document.createTextNode(sheet));}}
return this;};docObjectConst.prototype.dashToCamelCase=function(dashedString){if(typeof dashedString==="string"&&dashedString.length){var dsArr=dashedString.split("-"),dsArrLength=dsArr.length,dsArrN,dsArr_0,newStringCased,n;for(n=1;n<dsArrLength;n++){dsArrN=dsArr[n];dsArr_upperFirstChar=dsArrN.charAt(0).toUpperCase();dsArr[n]=dsArr_upperFirstChar+dsArrN.slice(1);}
newStringCased=dsArr.join("");}
return newStringCased||"";};docObjectConst.prototype.getBackgroundColor=function(){return this.computedStyle("background-color")||"#000000";};docObjectConst.prototype.computedStyle=function(styleKey){var elm=this.collection[0],padMarComplete=false;if(typeof elm==="object"){if(document.defaultView&&document.defaultView.getComputedStyle){var elmStyles=document.defaultView.getComputedStyle(elm,'');if(styleKey==="padding"){if(!elmStyles.getPropertyValue("padding").length){padMarComplete=elmStyles.getPropertyValue("padding-top")+" "+elmStyles.getPropertyValue("padding-right")+" "
+elmStyles.getPropertyValue("padding-bottom")+" "+elmStyles.getPropertyValue("padding-left");}
return padMarComplete||elmStyles.getPropertyValue(styleKey);}}else if(document.uniqueID&&elm.currentStyle){return elm.currentStyle[this.dashToCamelCase(styleKey)];}}
return"";};docObjectConst.prototype.average=function(){var numbers=(typeof arguement[0]==="object"&&arguement[0].length)?arguement[0]:arguement;var n=0,average=0,numbersLength=numbers.length;if(numbers.length){for(n=0;n<numbersLength;n++){numbersN=numbers[n];average+=(typeof numbersN==="number")?numbersN:0;}
return average/n;}
return 0;};docObjectConst.prototype.protectType=function(data,type){var returnData;if(type==="undefined"||type==="object"||type==="boolean"||type==="number"||type==="string"||type==="function"){if(typeof data===type){returnData=data;}else{switch(type){case"undefined":returnData=null;break;case"object":returnData={};break;case"boolean":returnData=!!data;break;case"number":returnData=Number(!!data);break;case"string":returnData=(!!data)?data.toString():"";break;case"function":returnData=function(){};break;default:returnData=null;break;}}}else{returnData=null;}
return returnData;};docObjectConst.prototype.enterFrame=function(func){var tracking=window["tracking_"+domToolsName];tracking.func=func;tracking.efFunc=function(){var efTracking=window["tracking_"+domToolsName],start=(new Date()).getTime();efTracking.func();var framerate=(new Date()).getTime()-start;window.clearTimeout(efTracking.enterFrame);efTracking.enterFrame=window.setTimeout(efTracking.efFunc,framerate+5);};tracking.efFunc();};docObjectConst.prototype.bindEvent=function(type,eventHandle){if(typeof type==="string"&&typeof eventHandle==="function"){type=type.toLowerCase();var elm=(type==="resize"||type==="onresize")?window:this.collection[0],onType;if(type.charAt(0)==="o"&&type.charAt(1)==="n"){type=type.slice(2);}
onType="on"+type;if(elm.addEventListener){elm.addEventListener(type,eventHandle,false);}else if(elm.attachEvent){elm.attachEvent(onType,eventHandle);}else{elm[onType]=eventHandle;}}
return this;};docObjectConst.prototype.applyRadius=function(csArgu){var supportRadius=this.checkCssProps(['MozBorderRadius','borderRadius','WebkitBorderRadius']),cornerSize=csArgu;var multiVals=(typeof cornerSize==="object"&&cornerSize.length)?true:false,elm=this.collection[0];var offSetPadding=0,ToffSetPadding=0,BoffSetPadding=0,elmPadding;elmPadding=[parseInt(this.computedStyle("padding-left")),parseInt(this.computedStyle("padding-right"))];var expGr=(multiVals)?[(2-cornerSize[0]/25),(2-cornerSize[1]/25),(2-cornerSize[2]/25),(2-cornerSize[3]/25)]:(2-cornerSize/25);if(!supportRadius||this.forceDefaultDOM){var bgColor=this.getBackgroundColor(),top=[],bottom=[],contWrap;var styleSheet=".CSS2rounded {display:block;background:"+bgColor+" top left repeat fixed "+this.computedStyle("background-image")+";height:1px;font-size:0;"
+"border-right:thin solid;border-left:thin solid;overflow:hidden}";this.applyCustomStyles(styleSheet);var borderColor=this.averageHexColor("#111",bgColor);if(multiVals){var cornerSize0=cornerSize[0],cornerSize1=cornerSize[1],cornerSize2=cornerSize[2],cornerSize3=cornerSize[3];var border="border:"+borderColor+";border-right-width:1px;border-left-width:1px;";while(Math.max(cornerSize0,cornerSize1)>0.5){if(!tl&&cornerSize0<.8){var tl=true;border="border-left:none 0;border-right:none 0;";}
if(!tr&&cornerSize1<.8){var tr=true;border="border-left:none 0;border-right:none 0;";}
top.push("<div class=\"CSS2rounded\" style=\""+border+";margin:0 "+~~cornerSize0+"px 0 "+~~cornerSize1+"px \"></div>");cornerSize0/=expGr[0];cornerSize1/=expGr[1];ToffSetPadding++;}
var border="border:"+borderColor+";border-right-width:1px;border-left-width:1px;";while(Math.max(cornerSize2,cornerSize3)>0.5){if(!bl&&cornerSize2<.8){var bl=true;border="border-left:none 0;border-right:none 0;";}
if(!br&&cornerSize3<.8){var br=true;border="border-left:none 0;border-right:none 0;";}
bottom.push("<div class=\"CSS2rounded\" style=\""+border+";margin:0 "+~~cornerSize2+"px 0 "+~~cornerSize3+"px \"></div>");cornerSize2/=expGr[2];cornerSize3/=expGr[3];BoffSetPadding++;}}else{while(cornerSize>0.5){top.push("<div class=\"CSS2rounded\" style=\"border-color:"+borderColor+";margin:0 "+~~cornerSize+"px \"></div>");cornerSize/=expGr;offSetPadding++;}
bottom=top;}
contWrap=this.sandwhich(top.join(""),bottom.reverse().join(""));document.getElementById(contWrap).style.padding=ToffSetPadding+"px "+elmPadding[1]+"px "+BoffSetPadding+"px "+elmPadding[0]+"px";elm.style.padding="0";}else if(multiVals){elm.style[supportRadius]=cornerSize.join("px ")+"px";}
return this;};docObjectConst.prototype.applyShadow=function(bsArgu){var nativeShadow=this.checkCssProps(['MozBoxShadow','boxShadow','WebkitBoxShadow']),nativeFilter=this.checkCssProps('filter'),shadowStrength=bsArgu||4,elm=this.collection[0];if(!nativeShadow&&nativeFilter){var shadDiv=document.createElement("DIV");shadDiv.className="playerRollShadow";shadDiv.style[nativeFilter]="progid:DXImageTransform.Microsoft.Blur(pixelRadius="+shadowStrength+")";elm.parentNode.insertBefore(shadDiv,elm);}
return this;};docObjectConst.prototype.randomIdendifier=function(srt){var startString=(typeof str==="string"&&str.length)?srt:"cnbc_";return startString+Math.floor(Math.random()*10000000000);};docObjectConst.prototype.sandwhich=function(pre,app,dynId){var elm=this.collection[0],wrapDiv=document.createElement("DIV");var id=dynId||this.randomIdendifier("sandwhich");wrapDiv.style.backgroundColor=this.getBackgroundColor();wrapDiv.innerHTML=elm.innerHTML;wrapDiv.id=id;wrapDiv.className=id;elm.innerHTML=(pre||"");elm.style.backgroundColor="transparent";elm.appendChild(wrapDiv);elm.innerHTML+=(app||"")
return(dynId)?this:id;};docObjectConst.prototype.wrap=function(dynId,erase){var elm=this.collection[0],wrapDiv=document.createElement("DIV");var id=dynId||this.randomIdendifier("wrap"),cNode,elmParent=elm.parentNode;if(!erase){cNode=elm.cloneNode(true);wrapDiv.appendChild(cNode);}
wrapDiv.id=id;wrapDiv.className=dynId||this.randomIdendifier("wrap");elmParent.insertBefore(wrapDiv,elm);elmParent.removeChild(elm);this.collection[0]=wrapDiv;return(dynId)?this:id;};docObject.func=docObjectConst.prototype;return docObject;})();


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/PageState/pagestate.1.js?t=1415322278 */
function CNBC_PageState(){};(function($){CNBC_PageState.prototype._callback=null;CNBC_PageState.prototype._context=null;CNBC_PageState.prototype._forceCallback=false;CNBC_PageState.prototype._isJson=false;CNBC_PageState.prototype.init=function(args){args=args||{};this._setCallback(args);this._initEvent();if(!CNBC_Common.isNull(this.getHash())||this._forceCallback){this.initCallback();this._forceCallback=false;}};CNBC_PageState.prototype.getHash=function(){var hash=$.base64Decode(window.location.hash).replace(/#/,'');if(!CNBC_Common.isNull(hash)){return(this._isJson)?JSON.parse(hash):hash;}};CNBC_PageState.prototype.setHash=function(data){if(!CNBC_Common.isNull(data)){window.location.hash=this.createHash(data);}};CNBC_PageState.prototype.createHash=function(data){var hash=data;if(!CNBC_Common.isNull(data)){if(typeof data==='object'){this._isJson=true;hash=JSON.stringify(data);}
return $.base64Encode(hash);}};CNBC_PageState.prototype._setCallback=function(args){if(args.callback){this._callback=args.callback;if(args.context){this._context=args.context;}}else{};if(args.forceCallback){this._forceCallback=args.forceCallback;};if(args.isJson){this._isJson=args.isJson;};};CNBC_PageState.prototype.initCallback=function(){var hash=this.getHash();if(!CNBC_Common.isNull(hash)||this._forceCallback){this._callback.call(this._context,hash);}};CNBC_PageState.prototype._initEvent=function(){var self=this._context;$(window).hashchange(function(){self.pageState.initCallback();});};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SearchBox/searchbox.1.js?t=1415322278 */
function CNBC_Searchbox(){};(function($){CNBC_Searchbox.prototype._defaultText='Enter Keywords';CNBC_Searchbox.prototype._inputSelector;CNBC_Searchbox.prototype._buttonSelector;CNBC_Searchbox.prototype._searchURL;CNBC_Searchbox.prototype._callback=null;CNBC_Searchbox.prototype._context=null;CNBC_Searchbox.prototype._inputCallback=null;CNBC_Searchbox.prototype._keyword=null;CNBC_Searchbox.prototype._flag=false;CNBC_Searchbox.prototype.init=function(args){args=args||{};this._setCallback(args);this._setVariables(args);if(this._flag){alert("Missing required field(s)");}else{this.resetInput();this.initEvents();this.initSubmitButton();}};CNBC_Searchbox.prototype._setCallback=function(args){if(args.callback){this._callback=args.callback;if(args.context){this._context=args.context;};if(args.inputCallback){this._inputCallback=args.inputCallback;};}};CNBC_Searchbox.prototype._setVariables=function(args){if(args.id){this._inputSelector=args.id;}else{this._flag=true;};if(args.button){this._buttonSelector=args.button;}else{this._flag=true;};if(args.defaultText){this._defaultText=args.defaultText;};if(args.url){this._searchURL=args.url;}else if(!args.callback){this._flag=true;};};CNBC_Searchbox.prototype.initEvents=function($input){var self=this;var $input=this.getKeywordInput();$input.bind('focus',function(){CNBC_Common.focus($(this),self._defaultText);}).bind('blur',function(){CNBC_Common.blur($(this),self._defaultText,1);}).bind('keyup',function(e){if(self._inputCallback){self._inputCallback.call(self._context,e);}else{if(e.keyCode==13){self.getButtonSubmit().click();}}});};CNBC_Searchbox.prototype.initSubmitButton=function(){var self=this;this.getButtonSubmit().bind('click',function(e){e.preventDefault();var val=self.getKeywordInput().val();if(self._callback){if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){self._callback.call(self._context,e);}}else{if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){var url=self._searchURL+encodeURIComponent(val);CNBC_Common.gotoPage(url);}}});};CNBC_Searchbox.prototype.resetInput=function(){this.getKeywordInput().val(this._defaultText).blur();};CNBC_Searchbox.prototype.getKeywordInput=function(){if(!this._$keywordInput){this._$keywordInput=$('#'+this._inputSelector);};return this._$keywordInput;};CNBC_Searchbox.prototype.getButtonSubmit=function(){if(!this._$submitButton){this._$submitButton=$('#'+this._buttonSelector);};return this._$submitButton;};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SymbolLookup/lookup.1.js?t=1415322278 */
function CNBC_Lookup(){};(function($){CNBC_Lookup._initCount=0;CNBC_Lookup._hoverClass='hover';CNBC_Lookup._hiddenClass='hidden';CNBC_Lookup.prototype._defaultText='Enter Symbols';CNBC_Lookup.prototype._noResultsTxt='There are no results for ';CNBC_Lookup.prototype._inputSelector='cnbc_hdqbox';CNBC_Lookup.prototype._buttonSelector='btn-adv-lookup';CNBC_Lookup.prototype._lookupURL='http://symlookup.cnbc.com/symlookup.do';CNBC_Lookup.prototype._advancedURL='http://www.cnbc.com/id/15837272?q=';CNBC_Lookup.prototype._quoteURL='http://data.cnbc.com/quotes/';CNBC_Lookup.prototype._resultPositionSet=false;CNBC_Lookup.prototype._resetPosition=false;CNBC_Lookup.prototype._timeoutIDs=[];CNBC_Lookup.prototype._maxResults=10;CNBC_Lookup.prototype._keyword=null;CNBC_Lookup.prototype._multiSupport=true;CNBC_Lookup.prototype._isAdvanced=0;CNBC_Lookup.prototype._callback=null;CNBC_Lookup.prototype._context=null;CNBC_Lookup.prototype._callbackResultUpdate=null;CNBC_Lookup.prototype._keepPageState=false;CNBC_Lookup.prototype._elements=[];CNBC_Lookup.prototype._resultContainer=null;CNBC_Lookup.prototype._jsonpCallback='symbolLookUp';CNBC_Lookup.prototype._showPagination=true;CNBC_Lookup.prototype.init=function(args){args=args||{};this._setCallback(args);this._setOverrides(args);this.setResultContainer(args.resultContainer);CNBC_Lookup._initCount=CNBC_Lookup._initCount++;var $input=$('#'+this._inputSelector);if(args.advanced){this._setMultiSupport(false);this._initAdvanced($input);}else if($input.attr('type')!='hidden'){this._setMultiSupport(args.multi);this._initSuggestiveEvents();}else{this._initAdvancedLinkEvent();};if(!this.pageState){this._initAutoLookup();}};CNBC_Lookup.prototype._setCallback=function(args){this._context=this;if(args.callback){this._callback=args.callback;if(args.context){this._context=args.context;}}
if(args.callbackResultUpdate){this._callbackResultUpdate=args.callbackResultUpdate;}};CNBC_Lookup.prototype._setMultiSupport=function(support){this._multiSupport=(support||support==false)?support:true;};CNBC_Lookup.prototype._setOverrides=function(args){if(args.id){this._inputSelector=args.id;};if(args.button){this._buttonSelector=args.button;};if(args.max){this._maxResults=args.max;};if(args.pagestate){this._keepPageState=args.pagestate;};if(args.positionReset){this._resetPosition=args.positionReset;};if(args.defaultText){this._defaultText=args.defaultText;};if(args.advancedURL){this._advancedURL=args.advancedURL;};if(args.lookupURL){this._lookupURL=args.lookupURL;};if(args.quoteURL){this._quoteURL=args.quoteURL;};if(args.showPagination!==undefined){this._showPagination=args.showPagination;};};CNBC_Lookup.prototype._initAdvanced=function($input){this._isAdvanced=1;this._initAdvancedEvents($input);if(this._keepPageState){this.pageState=new CNBC_PageState();this.pageState.init({callback:this.updateState,context:this._context});}};CNBC_Lookup.prototype.setResultContainer=function(container){var type=typeof container;if(type=='string'){this._resultContainer=$('#'+container);}else if(type=='object'&&container.length==1){this._resultContainer=container;}else{this._resultContainer=this.getResultDiv();}};CNBC_Lookup.prototype._initAutoLookup=function(){var val=this.getElement('#'+this._inputSelector).val();if(!CNBC_Common.checkForDefault(val,this._defaultText,1)){this.setKeyword(val);this.initLoadAdvanced();}};CNBC_Lookup.prototype._initSuggestiveEvents=function(){var cnbc_searchbox=new CNBC_Searchbox();cnbc_searchbox.init({defaultText:this._defaultText,id:this._inputSelector,button:this._buttonSelector,inputCallback:this.initLoad,callback:this._loadSubmit,context:this._context});this._initAutoCloseEvents();this._initAdvancedLinkEvent();};CNBC_Lookup.prototype._loadSubmit=function(e){var self=this;e.preventDefault();var val=self.getElement('#'+this._inputSelector).val();self.hide();if(self._callback){if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){self._callback.call(self._context,e);}}else{var url=self._advancedURL;if(!CNBC_Common.checkForDefault(val,self._defaultText,1)){url=self._quoteURL+val;}
var isEmailAddress=CNBC_Utils.isEmailAddress(val);if(!isEmailAddress){CNBC_Common.gotoPage(url);}}};CNBC_Lookup.prototype._initAdvancedEvents=function($input){var cnbc_advSearchbox=new CNBC_Searchbox();cnbc_advSearchbox.init({defaultText:this._defaultText,id:this._inputSelector,button:this._buttonSelector,callback:this.initLoadAdvanced,context:this._context});};CNBC_Lookup.prototype._initAdvancedLinkEvent=function(){var self=this;$('a',this.getAdvanedLink()).bind('click',function(){var keyword=escape(self.getSearchTerm().html());CNBC_Common.gotoPage(self._advancedURL+keyword);});};CNBC_Lookup.prototype._initAutoCloseEvents=function(){var self=this;var $div=this._resultContainer;$div.bind('mouseover',function(){self.resetAutoClose();}).bind('mouseout',function(){self.initHide(self);}).bind('click',function(){self.hide(self);});};CNBC_Lookup.prototype._initResultEvents=function($container){$container=($container&&$container.length==1)?$container:this._resultContainer;var self=this;$('tbody tr',$container).bind('click',function(e){if(self._callback){self._callback.call(self._context,e);}else{self.gotoPage(e);}}).bind('mouseover mouseout',function(e){self.hover(e);});};CNBC_Lookup.prototype.getElement=function(selector,property){var prop='_$';prop+=property||selector;if(!this._elements[prop]){this._elements[prop]=$(selector);}
return this._elements[prop];};CNBC_Lookup.prototype.getElContainer=function(){if(!this._$containerDiv){this._$containerDiv=this.getLookupContainer(this.getElement('#'+this._inputSelector));}
return this._$containerDiv;};CNBC_Lookup.prototype.getLookupContainer=function($el){var $parent=$el.parent();while($parent.length==1&&!$parent.hasClass('lookup-container')&&$parent[0].tagName!='BODY'){$parent=$parent.parent();}
return $parent;};CNBC_Lookup.prototype.getResultDiv=function(){if(!this._$resultDiv){this._$resultDiv=$('div.lookup-results',this.getElContainer());};return this._$resultDiv;};CNBC_Lookup.prototype.getResultTable=function(){if(!this._$resultTable){var resultDiv=this._resultContainer;this._$resultTable=$('table',resultDiv);if(this._$resultTable.length==0){resultDiv.append('<table></table>');this._$resultTable=$('table',resultDiv);}}
return this._$resultTable;};CNBC_Lookup.prototype.getSearchTerm=function(){if(!this._$searchTerm){this._$searchTerm=$('span.keyword',this.getAdvanedLink());};return this._$searchTerm;};CNBC_Lookup.prototype.getAdvanedLink=function(){if(!this._$advanedLink){this._$advanedLink=$('p.advancedlink',this.getElContainer());};return this._$advanedLink;};CNBC_Lookup.prototype._getRow=function(target){var $el=$(target);while($el[0].tagName!='TR'){$el=$el.parent();};return $el;};CNBC_Lookup.prototype.getSymbol=function(el){var $el=$(el);if($el.hasClass('btn')||$el.parent('a.btn').length==1||el.tagName=='INPUT'){return this._keyword;}else{return this._getRow(el).attr('symbol');}};CNBC_Lookup.prototype.hover=function(e){var $el=this._getRow(e.target);if($el.hasClass(CNBC_Lookup._hoverClass)){$el.removeClass(CNBC_Lookup._hoverClass);}else{var $parent=this._resultContainer;$('tbody tr',$parent).removeClass(CNBC_Lookup._hoverClass);$el.addClass(CNBC_Lookup._hoverClass);}};CNBC_Lookup.prototype.gotoPage=function(e){var sym=this.getSymbol(this._getRow(e.target));if(sym&&sym!=""){CNBC_Common.gotoPage(this._quoteURL+sym);}};CNBC_Lookup.prototype.getLastSymbol=function(){var str=this._keyword;if(!CNBC_Common.isNull(str)){var strArr=str.split(',');if(strArr&&strArr.length>1){str=strArr[strArr.length-1];}};return $.trim(str);};CNBC_Lookup.prototype.setKeyword=function(val){this._keyword=val||this.getElement('#'+this._inputSelector).val();};CNBC_Lookup.prototype.initLoad=function(e){var code=e.keyCode;this.setKeyword();if(code==13){this.hide();var isEmailAddress=CNBC_Utils.isEmailAddress(this._keyword);if(!CNBC_Common.isNull(this._keyword)&&!isEmailAddress){if(this._callback){this._callback.call(this._context,e);}else{CNBC_Common.gotoPage(this._quoteURL+encodeURIComponent(this._keyword));}}}else if(code==188){this.hide();}else if(code==38||code==40){this.highlightRow(code==40);}else if((code>=48&&code<=57)||(code>=65&&code<=90)||(code>=187&&code<=192)||code==8||code==46||code==222){var sym=this.getLastSymbol();if(CNBC_Common.isNull(sym)){this.hide();}else{this.load(sym);}}};CNBC_Lookup.prototype.initLoadAdvanced=function(){this._lastPage=1;this._paging=null;this.loadAdvanced(1);};CNBC_Lookup.prototype.loadAdvanced=function(page){this._currentPage=Number(page);var val=this.getElement('#'+this._inputSelector).val();this.load(val);};CNBC_Lookup.prototype.load=function(keyword){var self=this;if(keyword&&keyword!=""&&keyword!=this._defaultText){var args=self.setLoadArgs(keyword);$.ajax({url:self._lookupURL,type:'get',dataType:'jsonp',jsonpCallback:self._jsonpCallback+CNBC_Lookup._initCount,cache:true,data:args,success:function(json){self.update(json);},error:null});}};CNBC_Lookup.prototype.setLoadArgs=function(keyword){var args={output:'jsonp',prefix:keyword};if(this._isAdvanced){args.pgok=1;args.pgsize=this._perPage;args.pg=this._currentPage;}else{args.maxresults=this._maxResults;};return args;};CNBC_Lookup.prototype.position=function($el){if(!this._resultPositionSet){var $input=this.getElement('#'+this._inputSelector);var $div=$el||this._resultContainer;var height=$input.height();var offset=$input.offset();var position=$input.position();$div.css({top:offset.top+(height+9),left:position.left});if(!this._resetPosition){this._resultPositionSet=true;}}};CNBC_Lookup.prototype.resetAutoClose=function(){for(var i=0,len=this._timeoutIDs.length;i<len;++i){clearTimeout(this._timeoutIDs[i]);}
this._timeoutIDs=[];};CNBC_Lookup.prototype.initHide=function(self){self=self||this;var id=setTimeout(function(){self.hide(self);},2000);this._timeoutIDs.push(id);};CNBC_Lookup.prototype.hide=function(self){self=self||this;self.getResultTable().empty();self._resultContainer.addClass('hide');};CNBC_Lookup.prototype.show=function($div){this.resetAutoClose();var $div=$div||this._resultContainer;$div.removeClass('hide');};CNBC_Lookup.prototype.resetInput=function(){this.getElement('#'+this._inputSelector).val(this._defaultText).blur();};CNBC_Lookup.prototype.setTotals=function(obj){this._totals=obj;};CNBC_Lookup.prototype.update=function(result){if(this._isAdvanced){this.updateAdvanced(result);}else{this.updateSuggestive(result);}
this.setSearchTerm();};CNBC_Lookup.prototype.highlightTerm=function(str){if(str!=""&&typeof str==='string'){try{var strMatch=(this._isAdvanced)?this.getElement('#'+this._inputSelector).val():this.getLastSymbol();var regex=new RegExp(strMatch,"i");return str.replace(regex,'<span class="hlight">$&</span>');}catch(e){}}
return str;};CNBC_Lookup.prototype.updateSuggestive=function(result){if(result&&result.length>1){var $div=this._resultContainer;this.position($div);this.getResultTable().html(this.renderTableData(result));this.show();this._initResultEvents();}else{this.hide();}};CNBC_Lookup.prototype.highlightRow=function(desc){var $rows=$('tr',this.getResultTable());var $selected=$rows.filter('.'+CNBC_Lookup._hoverClass);var $nextSelect=$rows.first();var isHighlighted=($selected.length==1)?true:false;if($rows.length>0){if(isHighlighted){if(desc){$nextSelect=$selected.next();if($nextSelect.length==0){$nextSelect=$rows.first();}}else{$nextSelect=$selected.prev();if($nextSelect.length==0){$nextSelect=$rows.last();}}}
$rows.removeClass(CNBC_Lookup._hoverClass);$nextSelect.addClass(CNBC_Lookup._hoverClass);this.updateSearchTerm($nextSelect.attr('symbol'));}};CNBC_Lookup.prototype.updateSearchTerm=function(str){var text=(this._multiSupport)?', ':'';this.getElement('#'+this._inputSelector).val(str+text);this.setKeyword();};CNBC_Lookup.prototype.setSearchTerm=function(){var $el,keyword=this._keyword;if(this._isAdvanced){$el=this.getElement('#adv-keyword');keyword=this.getElement('#'+this._inputSelector).val();$el.parent().removeClass('hide');}else{$el=this.getSearchTerm();};$el.html(keyword);};CNBC_Lookup.prototype.updateAdvanced=function(result){var $div=this._resultContainer;this.setTotals(result[0]);if(result&&result.length>1){if(this._callbackResultUpdate){this._callbackResultUpdate.call(this,result.length);}
if(CNBC_Common.isNull(this._paging)){this.renderTable($div,result);}else{this.updateTable($div,result);this._initResultEvents();}}else{$div.html(this.renderNoResults(this.getElement('#'+this._inputSelector).val()));}};CNBC_Lookup.prototype.renderTable=function($el,data){var html=['<table cellspacing="0">'];html.push('<thead>');html.push('<tr>');html.push('<th>Symbol</th>');html.push('<th>Name</th>');html.push('<th>Exchange</th>');html.push('<th>Country</th>');html.push('</tr>');html.push('</thead>');html.push(this.renderTableData(data));html.push('</table>');$el.html(html.join(''));if(this._showPagination){var pagination='<div id="pagination"></div>';$pagination=$(pagination);$el.append($pagination);}
this._initResultEvents($el);if(this._showPagination){this.initPagination($pagination);}};CNBC_Lookup.prototype.updateTable=function($el,data){this._paging.updatePaging(this._totals.CurrentPage);var $table=$('table',$el);$('tbody',$table).remove();$table.append(this.renderTableData(data));};CNBC_Lookup.prototype.initPagination=function($el){this._paging=new CNBC_Pagination();var args={container:$el,context:this,callback:this.loadAdvanced,total:this._totals.TotalMatchAvailable,start:this._currentPage};this._paging.init(args);};CNBC_Lookup.prototype.renderTableData=function(result){var html=['<tbody>'];var obj,sym,country;for(var i=1,len=result.length;i<len;++i){obj=result[i];sym=obj.symbolName;country=obj.countryCode;html.push('<tr symbol="'+sym+'">');html.push('<td class="col-symbol">');html.push(this.highlightTerm(sym));html.push('</td>');html.push('<td>');html.push(this.highlightTerm(obj.companyName));html.push('</td>');if(this._isAdvanced){html.push('<td class="col-exchange">'+obj.exchangeName+'</td>');}
html.push('<td class="last">');html.push(CNBC_Common.validateStr(country));html.push('</td>');html.push('</tr>');}
html.push('</tbody>');return html.join('');};CNBC_Lookup.prototype.renderNoResults=function(str){return'<div class="error">'+this._noResultsTxt+'"'+escape(str)+'"</div>';};CNBC_Lookup.prototype.updateState=function(){var hash=String(this.pageState.getHash()).split('-');this.getElement('#'+this._inputSelector).val(hash[0]);if(hash.length>1){this.loadAdvanced(hash[1]);}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Pagination/pagination.1.js?t=1415322278 */
function CNBC_Pagination(){};(function($){CNBC_Pagination._hiddenClass='hidden';CNBC_Pagination._prevClass='leftPagCol';CNBC_Pagination._nextClass='rightPagCol';CNBC_Pagination._pageNumClass='centerPagCol';CNBC_Pagination.prototype._showNumItems=false;CNBC_Pagination.prototype._totalItems;CNBC_Pagination.prototype._perPage=20;CNBC_Pagination.prototype._currentPage=1;CNBC_Pagination.prototype._lastPage=1;CNBC_Pagination.prototype._maxPages=5;CNBC_Pagination.prototype._context=null;CNBC_Pagination.prototype._callback=null;CNBC_Pagination.prototype._container=null;CNBC_Pagination.prototype._divider='&nbsp;|&nbsp;';CNBC_Pagination.prototype._textLinks=['&laquo;&nbsp;First','&laquo;&nbsp;Previous','Next&nbsp;&raquo;','Last&nbsp;&raquo;'];CNBC_Pagination.prototype.init=function(args){args=args||{};if(args.callback!=null&&args.container!=null&&args.total!=null){this.setContainer(args.container);if(Number(args.total)>0){this.setOptionalOverrides(args);this.setTotals(args.total);this.setCallback(args.callback,args.context);this.render();this.toggleAdvanceLinks();this.initEvents();}else{this._container.empty();}}else{}};CNBC_Pagination.prototype.setTotals=function(total){this._totalItems=total;this.calculatePages();this.updateLastLink();};CNBC_Pagination.prototype.setCallback=function(callback,context){if(context){this._context=context;};this._callback=callback;};CNBC_Pagination.prototype.setContainer=function(container){var type=typeof container;if(type=='string'){this._container=$('#'+container);}else if(type=='object'&&container.length==1){this._container=container;}else{this._container=$(container);}};CNBC_Pagination.prototype.setCurrentPage=function(index){this._currentPage=Number(index);};CNBC_Pagination.prototype.setOptionalOverrides=function(args){var textLinks=args.textLinks;if(textLinks&&textLinks instanceof Array&&textLinks.length==4){this._textLinks=textLinks;};var divider=args.divider;if(divider&&typeof divider=='string'){this._divider=divider;};if(args.maxPages){this._maxPages=args.maxPages;};if(args.start){this.setCurrentPage(args.start);};if(args.perPage){this._perPage=args.perPage;};if(args.showItems){this._showNumItems=args.showItems;};};CNBC_Pagination.prototype.initEvents=function(){this.addPageLinkEvents();this.addAdvanceLinkEvents();}
CNBC_Pagination.prototype.getElLeftCol=function(){if(!this._$leftCol){this._$leftCol=$('div.'+CNBC_Pagination._prevClass,this._container);}
return this._$leftCol;}
CNBC_Pagination.prototype.getElRightCol=function(){if(!this._$rightCol){this._$rightCol=$('div.'+CNBC_Pagination._nextClass,this._container);};return this._$rightCol;};CNBC_Pagination.prototype.addPageLinkEvents=function(){var self=this;$('div.centerPagCol a',this._container).bind('click',function(e){e.preventDefault();self.initNewPage($(this).attr('page'));});}
CNBC_Pagination.prototype.addAdvanceLinkEvents=function(){var self=this;$('div.quickPagJump a',this._container).bind('click',function(e){e.preventDefault();var page=$(this).attr('page');if(page=='+'){page=Number(self._currentPage)+1;}else if(page=='-'){page=Number(self._currentPage)-1;}
self.initNewPage(page);});};CNBC_Pagination.prototype.initNewPage=function(index){this.setCurrentPage(index);this._callback.call(this._context,index);};CNBC_Pagination.prototype.render=function(){var html=['<div class="paging-container"><div class="pagination contain">'];html.push('<div class="quickPagJump '+CNBC_Pagination._prevClass+'">');html.push('<a page="1" href="javascript:void(0);">'+this._textLinks[0]+'</a>'+this._divider);html.push('<a page="-" href="javascript:void(0);">'+this._textLinks[1]+'</a>');html.push('</div>');html.push('<div class="'+CNBC_Pagination._pageNumClass+'">')
html.push(this.renderPageLinks());html.push('</div>');html.push('<div class="quickPagJump '+CNBC_Pagination._nextClass+'">');html.push('<a page="+" href="javascript:void(0);">'+this._textLinks[2]+'</a>'+this._divider);html.push('<a class="lastLink" page="'+this._lastPage+'" href="javascript:void(0);">'+this._textLinks[3]+'</a>');html.push('</div>');html.push('</div></div>');this._container.empty();this._container.append(html.join(''));};CNBC_Pagination.prototype.updatePaging=function(index){if(index!=this._currentPage){this.setCurrentPage(index);};this.toggleAdvanceLinks();$('div.'+CNBC_Pagination._pageNumClass,this._container).html(this.renderPageLinks());this.addPageLinkEvents();};CNBC_Pagination.prototype.renderPageLinks=function(){var html=[];var start=this.calculateStart();var end=this.calculateEnd(start);for(var i=start;i<=end;++i){html.push(this.renderLink(i,end));}
html.push(this.renderTotalCount());return html.join('');};CNBC_Pagination.prototype.calculatePages=function(){var pages=this._totalItems/this._perPage;if(!pages.isNaN){this._lastPage=Math.ceil(pages);}}
CNBC_Pagination.prototype.calculateStart=function(){var index=1;var start=index;var endCheck=this._lastPage-this._maxPages+1;if(this._currentPage>index){if(this._currentPage+this._maxPages>=this._lastPage){index=(this._currentPage+this._maxPages)-this._lastPage;}
start=this._currentPage-index;};if(this._currentPage>endCheck){start=endCheck;};if(this._currentPage==start){start-=1;};if(start<=0){start=1;};return start;};CNBC_Pagination.prototype.calculateEnd=function(start){var end=this._lastPage;if(start+this._maxPages<=this._lastPage){end=start+this._maxPages-1;};return end;};CNBC_Pagination.prototype.updateLastLink=function(){$('a.lastLink',this._container).attr('page',this._lastPage);}
CNBC_Pagination.prototype.renderLink=function(page,end){var str;if(page==this._currentPage){str='<span>'+page+'</span>';}else{str=this.renderHrefLink(page);};if(page!=end){str+=this._divider;};return str;};CNBC_Pagination.prototype.renderHrefLink=function(index){return'<a page="'+index+'" href="javascript:void(0);">'+index+'</a>';};CNBC_Pagination.prototype.toggleAdvanceLinks=function(){var rVisible=true,lVisible=true;if(this._currentPage==1&&this._lastPage<=1){lVisible=false;rVisible=false;}else if(this._currentPage==1){lVisible=false;}else if(this._currentPage==this._lastPage&&this._lastPage>1){rVisible=false;};this.setVisibility(this.getElLeftCol(),lVisible);this.setVisibility(this.getElRightCol(),rVisible);};CNBC_Pagination.prototype.setVisibility=function($el,isVisible){var view=(isVisible)?'visible':'hidden';$el.css('visibility',view);}
CNBC_Pagination.prototype.renderTotalCount=function(){if(this._lastPage>this._maxPages&&this._currentPage<this._lastPage){var html=['<span class="pageCount">of '];html.push(this.renderHrefLink(this._lastPage));html.push(this.renderNumItems());html.push('</span>');return html.join('');}};CNBC_Pagination.prototype.renderNumItems=function(){if(this._showNumItems){return'<span class="pagNumItems">('+this._totalItems+' Items)</span>';}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/SignIn/signin_surf.js?t=1415322278 */
var CNBC_Signin={};(function($){CNBC_Signin._domain="cnbc.com";CNBC_Signin._CASTOKEN="CASTOKEN";CNBC_Signin._ACEGI_SECURITY="ACEGI_SECURITY_HASHED_REMEMBER_ME_COOKIE";CNBC_Signin._SUBSCRIBERINFO="SUBSCRIBERINFO";CNBC_Signin._SUBSCRIBERINFO3="SUBSCRIBERINFO3";CNBC_Signin._MemberCenterURL="https://register.cnbc.com/memberCenter.do";CNBC_Signin._UserCheckURL="https://login.cnbc.com/cas/checkCasTicket?";CNBC_Signin._SignInURL='https://register.cnbc.com/refreshlogin.jsp';CNBC_Signin._SignOutURL='https://login.cnbc.com/cas/logout';CNBC_Signin._CookieUser='Guest';CNBC_Signin.UserCheckTimeout=(3*60*60*1000);CNBC_Signin.isRegister=false;CNBC_Signin.isValidUser=false;CNBC_Signin.signInCont=null;CNBC_Signin.isCreated=false;CNBC_Signin.Disqus={};CNBC_Signin.Disqus._publicKeyEndpoint='https://register.cnbc.com/rs/sso/publicKey/view.js';CNBC_Signin.Disqus._publicKeyCookie='disqusPublicKey';CNBC_Signin.Disqus._payloadEndpoint='https://register.cnbc.com/rs/sso/payLoad/view.js';CNBC_Signin.Disqus._payloadCookie='disqusSSOPayload';CNBC_Signin.Disqus._payloadCookieExpire=1;CNBC_Signin.init=function(args){};CNBC_Signin.initSettings=function(args){var globalsettings=args.baseurls;CNBC_Signin._MemberCenterURL=globalsettings.register_base+'/memberCenter.do';CNBC_Signin._UserCheckURL=globalsettings.login_base+'/cas/checkCasTicket?';CNBC_Signin._SignInURL=globalsettings.register_base+'/refreshlogin.jsp';CNBC_Signin._SignOutURL=globalsettings.login_base+'/cas/logout';CNBC_Signin.Disqus._publicKeyEndpoint=globalsettings.register_base+'/rs/sso/publicKey/view.js';CNBC_Signin.Disqus._payloadEndpoint=globalsettings.register_base+'/rs/sso/payLoad/view.js';};CNBC_Signin.initElements=function(){this.$container=$('#login-container');this.$regState=$('#reg-user');this.$unregState=$('#unreg-user');this.$signInBtn=this.$unregState.find("li.last a");this.isRegister=CNBC_Signin.isRegistered();this.isValidUser=CNBC_Signin.isLoggedIn();};CNBC_Signin.initEvents=function(){if(typeof window.activePartnerExperience!='undefined'&&window.activePartnerExperience=='xfinity'){return;}
$('#signin').click(function(event){event.preventDefault();event.stopPropagation();CNBC_Signin.signInPopup(CNBC_Signin._SignInURL,'?source=new-header&service=url');});$('#signout').click(function(event){event.preventDefault();CNBC_Signin.gotoRegistrationURL(CNBC_Signin._SignOutURL,'?service=url');});$('body').bind('click',function(event){var $target=$(event.target);if(!$target.is('#signInDiv')){CNBC_Signin.hideOverLay();}});$('#toPopup div.close').bind('click',function(event){CNBC_Signin.disablePopup();});$(window).resize(function(){});};CNBC_Signin.isRegistered=function(){return((CNBC_Utils.readCookie(CNBC_Signin._CASTOKEN))||CNBC_Utils.readCookie(CNBC_Signin._ACEGI_SECURITY));};CNBC_Signin.isLoggedIn=function(){var loggedIn=false;var SessionCookie=CNBC_Utils.readCookie(CNBC_Signin._SUBSCRIBERINFO);if(!CNBC_Common.isNull(SessionCookie)){CNBC_Signin._CookieUser=SessionCookie;loggedIn=true;$.ajax({url:CNBC_Signin._UserCheckURL,data:"output=json",dataType:'jsonp',success:function(data){},error:function(data){}});};return loggedIn;};CNBC_Signin.GetStaleResponseHandler=function(data){if(data!=null&&data!='null'&&data!=''){if(data["cnbc-global-login-response"]==1){CNBC_Utils.deleteAllLoginCookies("/");}}else{CNBC_Utils.deleteAllLoginCookies("/");};setTimeout("CNBC_Signin.isLoggedIn()",CNBC_Signin.UserCheckTimeout);};CNBC_Signin.showUserInfo=function(){var text,isValidUser=CNBC_Signin.isLoggedIn();if(isValidUser&&this.isRegister){var subscriberInfoCookie=CNBC_Utils.readCookie(CNBC_Signin._SUBSCRIBERINFO);var acegiCookie=CNBC_Utils.readCookie(CNBC_Signin._ACEGI_SECURITY);if(!CNBC_Common.isNull(acegiCookie)){CNBC_Signin._CookieUser=acegiCookie.split(":")[0];}else if(!CNBC_Common.isNull(subscriberInfoCookie)){CNBC_Signin._CookieUser=subscriberInfoCookie;}
text='Welcome, '+CNBC_Signin._CookieUser;if(text.length>25){text=text.substr(0,22)+"...";}};this.$container.find('span').html(text);};CNBC_Signin.toggleUserLinks=function(signin){this.$signInBtn.removeClass('btn');if(signin){this.$regState.addClass('hide');this.$signInBtn.addClass('btn');this.$unregState.css("margin-top","0px");}else if(this.isRegister){this.$regState.removeClass('hide');this.$unregState.addClass('hide');}else{this.$regState.addClass('hide');this.$unregState.removeClass('hide');}};CNBC_Signin.signInPopup=function(url,params){var finalURL=this.createRegistrationURL(url,params);if(finalURL!=""){this.toggleUserLinks(true);if(!this.isCreated){this.renderPopup();$('#signInFrame').attr('src',finalURL);this.isCreated=true;}
else{$("#toPopup").fadeIn(0500);$("#backgroundPopup").css("opacity","0.7");$("#backgroundPopup").fadeIn(0001);popupStatus=1;}}};CNBC_Signin.renderPopup=function(){var overLayCode='<div class="contentDiv"><iframe id="signInFrame" name="signInFrame" frameborder="0" scrolling="no" width="460px" height="313px"></iframe></div>';var overlayShadow=$('#signInDivHidden').html();var overLayElm=$('<div id="signInDiv" class="signInDiv">'+overLayCode+'</div>');$('#toPopup #popup_content').html(overLayElm);$("#toPopup").fadeIn(0500);$("#backgroundPopup").css("opacity","0.7");$("#backgroundPopup").fadeIn(0001);popupStatus=1;};CNBC_Signin.positionPopup=function(){this.signInCont=$('#signInDiv');var pos=this.$unregState.offset();this.signInCont.css({'top':(pos.top+30),'left':(pos.left-140)});};CNBC_Signin.hideOverLay=function(){var overlay=this.$unregState;if(overlay.length>0&&!overlay.hasClass('hide')){this.toggleUserLinks();if(!CNBC_Common.isNull(this.signInCont)){this.signInCont.addClass('hide');}}};CNBC_Signin.createRegistrationURL=function(url,params){var cnbc_curURL=location.href;var index=params.indexOf("url");var cnbc_index=cnbc_curURL.indexOf(CNBC_Signin._domain);if(index!=-1){if(cnbc_index!=-1){url=url+params.replace(/url/,encodeURIComponent(cnbc_curURL));return url;}else{var qindex=cnbc_curURL.indexOf("?");var serviceURL=cnbc_curURL;if(qindex!=-1){serviceURL=cnbc_curURL.substring(0,index);}
return url+params.replace(/url/,encodeURIComponent(serviceURL));}};return"";};CNBC_Signin.disablePopup=function(){if(popupStatus==1){$("#toPopup").fadeOut("normal");$("#backgroundPopup").fadeOut("normal");popupStatus=0;}};CNBC_Signin.gotoRegistrationURL=function(url,params){var finalURL=this.createRegistrationURL(url,params);if(finalURL!=""){window.location=finalURL;}};CNBC_Signin.displayUsername=function(addtext,id){if(this.isRegistered()){var CookieUser=CNBC_Utils.readCookie(CNBC_Signin._SUBSCRIBERINFO3);document.getElementById(id).innerHTML=addtext+CookieUser;}};CNBC_Signin.Disqus.login=function(payloadTimeout){var deferred=$.Deferred();var disqusData=CNBC_Utils.readCookie(CNBC_Signin.Disqus._payloadCookie,true);if(disqusData!==null){disqusData=JSON.parse(disqusData);if(disqusData.timestamp-(new Date().getTime())>0){deferred.resolveWith(this,[disqusData.value]);return deferred.promise();}else{CNBC_Utils.eraseCookie(CNBC_Signin.Disqus._payloadCookie,null,null,true);}}
$.ajax({url:CNBC_Signin.Disqus._payloadEndpoint,dataType:'jsonp'}).fail(function(){deferred.reject();}).done(function(data){if(payloadTimeout==undefined||payloadTimeout===null){payloadTimeout=CNBC_Signin.Disqus._payloadCookieExpire;}
data={payload:data['cnbc-payload'],publicKey:data['cnbc-public-key']};var disqusData={value:data,timestamp:new Date().getTime()+parseFloat(payloadTimeout)*3600000};disqusData=JSON.stringify(disqusData);CNBC_Utils.createCookie(CNBC_Signin.Disqus._payloadCookie,disqusData,null,true);deferred.resolveWith(this,[data]);});return deferred.promise();};CNBC_Signin.Disqus.logout=function(){CNBC_Utils.eraseCookie(CNBC_Signin.Disqus._payloadCookie,null,null,true);};CNBC_Signin.Disqus.getPublicKey=function(payloadTimeout){var deferred=$.Deferred();var disqusData=CNBC_Utils.readCookie(CNBC_Signin.Disqus._publicKeyCookie,true);if(disqusData!==null){disqusData=JSON.parse(disqusData);if(disqusData.timestamp-(new Date().getTime())>0){deferred.resolveWith(this,[disqusData.value]);return deferred.promise();}else{CNBC_Utils.eraseCookie(CNBC_Signin.Disqus._publicKeyCookie,null,null,true);}}
$.ajax({url:CNBC_Signin.Disqus._publicKeyEndpoint,dataType:'jsonp'}).fail(function(){deferred.reject();}).done(function(data){if(payloadTimeout==undefined||payloadTimeout===null){payloadTimeout=CNBC_Signin.Disqus._payloadCookieExpire;}
data={publicKey:data['cnbc-public-key']};var disqusData={value:data,timestamp:new Date().getTime()+parseFloat(payloadTimeout)*3600000};disqusData=JSON.stringify(disqusData);CNBC_Utils.createCookie(CNBC_Signin.Disqus._publicKeyCookie,disqusData,null,true);deferred.resolveWith(this,[data]);});return deferred.promise();};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Comments/disqus.js?t=1415322278 */
var CNBC_Disqus={};(function($){CNBC_Disqus._API_VERSION="3.0";CNBC_Disqus.component=function(settings){window.disqus_identifier=settings.disqus.identifier;window.disqus_title=settings.disqus.title;window.disqus_url=settings.disqus.url;window.disqus_config=function(){if(settings.sso!==undefined){this.sso=settings.sso;}
if(settings.sso_payload!==undefined){this.page.remote_auth_s3=settings.sso_payload.payload;this.page.api_key=settings.sso_payload.publicKey;}
if(settings.eventTracking!==undefined&&$.isPlainObject(settings.eventTracking)==true){for(var e in settings.eventTracking.events){if(this.callbacks[e]!==undefined){this.callbacks[e].push(function(){settings.eventTracking.callback(settings.eventTracking.events[e]);});}}}};(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='//'+settings.disqus.shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();};CNBC_Disqus.counts=function(disqusThreads,settings){var self=this;var deferred=$.Deferred();if(disqusThreads.length){self._api({url:settings.provider.apiEndpoint+'/api/'+self._API_VERSION+'/threads/set.jsonp',data:{api_key:settings.provider.apiKey,forum:settings.disqus.shortname,thread:disqusThreads},dataType:"jsonp",cache:true,jsonpCallback:'countsHandler'}).fail(function(){deferred.reject();}).done(function(data){var counts=self._extractCounts(data.response);deferred.resolveWith(this,[counts]);});}else{deferred.reject();}
return deferred.promise();};CNBC_Disqus._api=function(settings){return $.ajax(settings).fail(function(){$.error('Disqus API request failed');}).done(function(data){if(data.code!=0){$.error('Disqus API response code !zero');}});};CNBC_Disqus._extractCounts=function(apiResponse){var counts={};$.each(apiResponse,function(key,value){counts[value.identifiers]=value.posts;});return counts;};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Comments/comments.js?t=1415322278 */
function CNBC_Comments(){};(function($){CNBC_Comments.prototype._provider=null;CNBC_Comments.prototype._settings={};CNBC_Comments.prototype._identifiers=[];CNBC_Comments.prototype.component=function(settings){var self=this;if(this._init(settings)){self._settings.eventTracking={callback:self._omnitureTrackLink,events:{onNewComment:'event56'}};if(CNBC_Signin.isLoggedIn()){if(window.activePartnerExperience!==undefined&&window.activePartnerExperience==="xfinity"){self._settings.sso.logout=CNBC_Xfinity_Experience.getLogoutUrl();}
CNBC_Signin.Disqus.login(self._settings.provider.authTimeout).fail(function(){}).done(function(data){self._settings.sso_payload={};self._settings.sso_payload.payload=data.payload;self._settings.sso_payload.publicKey=data.publicKey;}).always(function(){self._provider.component(self._settings);});}else{CNBC_Signin.Disqus.logout();this._provider.component(self._settings);}}};CNBC_Comments.prototype.counts=function(settings){var self=this;if(self._init(settings)){CNBC_Signin.Disqus.getPublicKey().fail(function(){$.error('Unable to get public key');}).done(function(data){self._settings.provider.apiKey=data.publicKey;var scope=null;if(self._settings.scope){scope=self._settings.scope;}
self.getCounts(scope);self.initEvents();});}};CNBC_Comments.prototype.getCounts=function(scope){var self=this;var disqusThreads=self._getIDs(scope);self._provider.counts(disqusThreads,self._settings).done(function(data){self._renderCounts(data);});};CNBC_Comments.prototype._init=function(settings){try{this._settings=settings;this._provider=window[this._settings.provider.lib];return true;}catch(e){$.error('comments provider library: '+this._settings.provider.lib+' not found');return false;}};CNBC_Comments.prototype._getIDs=function(scope){var self=this;if(self._settings.anchorAttrName!==undefined){var threads=$("a["+self._settings.anchorAttrName+"]",scope);var list=[];self._identifiers={};$.each(threads,function(index,value){var identifier=$(this).attr(self._settings.anchorAttrName);if(self._identifiers[identifier]==undefined){self._identifiers[identifier]=[];}
self._identifiers[identifier].push(this);});$.each(self._identifiers,function(key,value){list.push('ident:'+key);});return list;}else{return null;}};CNBC_Comments.prototype._renderCounts=function(data){var self=this;var subset={};var label='';if(self._settings.label&&self._settings.label.showZero){subset=self._identifiers;}else{$.each(data,function(key,value){if(value>0){subset[key]=value;}});}
for(iii in subset){var templates='templates';if($(subset[iii])[0].hasAttribute('data-comments-label')){templates='templates'+$(subset[iii]).attr('data-comments-label');}
var count=parseInt(data[iii])||0;switch(count){case 0:label=self._settings.label[templates].zero;break;case 1:label=self._settings.label[templates].singular;break;default:label=self._settings.label[templates].plural;}
if(count>99999){count=parseInt(count/1000000)+'M';}else if(count>999){count=parseInt(count/1000)+'K';}
label=label.replace('$COUNT$',count);for(jjj in this._identifiers[iii]){$(this._identifiers[iii][jjj])[self._settings.label.position](label);}}};CNBC_Comments.prototype._omnitureTrackLink=function(e){s.linkTrackVars='events,prop56';s.linkTrackEvents=e;s.prop56=s.pageName;s.events=e;s.tl(this,'o','Disqus Comment');};CNBC_Comments.prototype.initEvents=function(){$('div.cnbc-body').delegate('#discussion','click',function(){if($('#disqus_thread').length){$('html, body').stop().animate({scrollTop:$('#disqus_thread').position().top},500);}
CNBC_Gigya_Omniture.disqusDiscussionScroll();});};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/AbstractQuoteRenderer.js?t=1415322278 */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.AbstractQuoteRenderer=function(){this.symbolDomMap={};};(function($){"use strict";var AbstractQuoteRenderer=CNBC_Quotes.AbstractQuoteRenderer;function panic(msg){}
AbstractQuoteRenderer.prototype.parseData=function(jsonData){panic("parseData() needs to be overriden!");}
AbstractQuoteRenderer.prototype.renderDomElt=function($elt,data){panic("renderDomElt() needs to be overriden!");};AbstractQuoteRenderer.prototype.attachEvents=function(){};AbstractQuoteRenderer.prototype.updateTickerColor=function($elt,value,classes){if($elt&&classes&&classes.length==2){var color;$elt.removeClass(classes.join(' '));if(typeof value==="number"&&!isNaN(value)&&value!==0){color=(value>0)?classes[0]:classes[1];$elt.addClass(color);}}}
AbstractQuoteRenderer.prototype.getFieldValue=function(data,field){var value=null;if(field){var parts=field.split('.');value=data;for(var i=0;i<parts.length;i++){value=value[parts[i]];}
if(typeof value==='object'){value='---';}}
return value;};AbstractQuoteRenderer.prototype.setChartApiUrl=function(chartapi){this.chartApiUrl=chartapi;};AbstractQuoteRenderer.prototype.updateChartImage=function($flexChart,symbol,regSymbol,companyName){var $img=$('img',$flexChart);var chartparams=$img.data('chartparams');var loc=this.chartApiUrl+"?"+chartparams+"&symbol="+symbol;$img.attr('src',loc);$img.attr('symbol',regSymbol);if(companyName){var $note=$('p.note',$flexChart);$note.text(companyName);}};AbstractQuoteRenderer.prototype.setEventImage=function($flexChart,quoteBaseURL){var $img=$('img',$flexChart);$img.unbind('click');$img.click(function(){window.location.href=quoteBaseURL+encodeURIComponent($img.attr('symbol'));});};AbstractQuoteRenderer.prototype.getSymbols=function(){var symbols=[];for(var s in this.symbolDomMap){symbols.push(s);}
return symbols;};AbstractQuoteRenderer.prototype.collectSymbols=function(){var selector=this.symbolSelector;if(!selector){if(typeof console!=='undefined'){console.error(">>>> Missing this.symbolSelector in QuoteRenderer!");}}
var self=this;this.selector=selector;var attrSelector="["+this.selector+"]";var $symbols=$(attrSelector);$symbols.each(function(i,elt){var $elt=$(this);var symbol=$elt.attr(selector);if(symbol){self.addSymbolToDomMap(symbol,$elt);}
else{panic("Couldn't find symbol in selector: "+selector);}});};AbstractQuoteRenderer.prototype.addSymbolToDomMap=function(symbol,$elt){var domList=this.symbolDomMap[symbol];if(!domList){domList=this.symbolDomMap[symbol]=[];}
domList.push($elt);};AbstractQuoteRenderer.prototype.onRender=function(data,quoteBaseURL){var quoteDataMap=this.parseData(data);if(quoteDataMap){var nonStreamableSymbolListTemp=[];var streamableSymbolListTemp=[];for(var symbol in this.symbolDomMap){var domList=this.symbolDomMap[symbol];for(var i=0;i<domList.length;i++){var $row=domList[i];var sym=$row.attr(this.selector);var quote=quoteDataMap[sym];if(quote){if($.trim(quote.streamable)=="0"){nonStreamableSymbolListTemp[nonStreamableSymbolListTemp.length||0]=symbol;}else{streamableSymbolListTemp[streamableSymbolListTemp.length||0]=symbol;}
this.renderDomElt($row,quote);}}}
if(streamableSymbolListTemp.length>0){CNBC_Quotes.streamableSymbolList=streamableSymbolListTemp;}
if(nonStreamableSymbolListTemp.length>0){CNBC_Quotes.nonStreamableSymbolList=nonStreamableSymbolListTemp;}
this.attachEvents(quoteBaseURL);}};AbstractQuoteRenderer.prototype.getQuoteDataForSingleAjaxRequest=function(data,getter){var quoteData=data;for(var i=0;i<getter.length;i++){if(quoteData[getter[i]]!=undefined){quoteData=quoteData[getter[i]];}}
return quoteData;};AbstractQuoteRenderer.prototype.getQuoteDataList=function(data,getter){var quoteData=[];for(var i=0;i<data.length;i++){var qd=this.getQuoteDataForSingleAjaxRequest(data[i],getter);quoteData=quoteData.concat(qd);}
if(!$.isArray(quoteData)){quoteData=[quoteData];}
return quoteData;};AbstractQuoteRenderer.prototype.getQuoteDataMap=function(data,params){var quoteData=this.getQuoteDataList(data,params);var map={};for(var i=0;i<quoteData.length;i++){var quote=quoteData[i];var sym=quote.symbol;map[sym]=quote;}
return map;};AbstractQuoteRenderer.prototype.renderArrow=function($elt,change){var $sel=$('div.icon',$elt).removeClass();if(change>0){$sel.addClass('icon arrow_up').html('&nbsp;');}else if(change<0){$sel.addClass('icon arrow_down').html('&nbsp;');}else{$sel.addClass('icon unch').text('---');}};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/InlineQuoteRenderer.js?t=1415322278 */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.InlineQuoteRenderer=function(){this.symbolSelector='data-inline-quote-symbol';};(function($){"use strict";var InlineQuoteRenderer=CNBC_Quotes.InlineQuoteRenderer;InlineQuoteRenderer.prototype=new CNBC_Quotes.AbstractQuoteRenderer();InlineQuoteRenderer.prototype.parseData=function(data){return this.getQuoteDataMap(data,["QuickQuoteResult","QuickQuote"]);};InlineQuoteRenderer.prototype.init=function(settings){this.settings=settings;};InlineQuoteRenderer.prototype.renderDomElt=function($elt,quote){var quoteFields=this.settings.quoteFields;this.mapInlineQuotes($elt,quote,quoteFields);if(this.settings){var chartParams=this.settings.chartParams;var chartImgUrl=this.chartApiUrl+'?'+chartParams;var quoteUrl=this.settings.quoteUrl;if(chartImgUrl&&quoteUrl){this.generatePopup(quote,chartImgUrl,quoteUrl);}
else{}}};InlineQuoteRenderer.prototype.mapInlineQuotes=function($elt,quote,quoteFields){var qcObj=[];var qd=quote;var $assocSym=$elt;var sym=qd.symbol;$assocSym.find('span.data-name').html(qd.name);var $assocSymData=$assocSym.find('span.inlineQuoteData');if($assocSymData.length==0){$assocSym.append("<span class='inlineQuoteData'></span>");$assocSymData=$assocSym.find('span.inlineQuoteData');}
var qf=quoteFields;if(qf!=null&&qf.length>0){var qfLen=qf.length;qcObj.push(" [");qcObj.push("<span class='quote_sym'>"+sym+"</span>");var arrowFlag=false;var price=qd.change;var negpos="",qfObj,chng,pctChng,arrow;for(var k=0;k<qfLen;k++){negpos="";qfObj=qf[k];if((qfObj=="change"||qfObj=="change_pct")){negpos=" neg";arrow=" arrowDwn";if(price>0){arrow=" arrowUp";negpos=" pos";}
else if(price<0){arrow=" arrowDwn";negpos=" neg";}
else{arrow='';negpos='';arrowFlag=true;}
if(!arrowFlag){qcObj.push('<span class="icon arrow'+arrow+'">&nbsp;</span>');arrowFlag=true;}}
qcObj.push('<span class="quote_'+qfObj+negpos+'">');if(qfObj=="change_pct"){if(qd[qfObj]){qcObj.push("("+qd[qfObj]+"%)");}}
else{qcObj.push(qd[qfObj]);}
qcObj.push('</span>');}
if(qd.realTime==true){qcObj.push('<span class="quote_sym_rt">&nbsp;</span>');}
qcObj.push("]");$assocSymData.html(qcObj.join(''));}};InlineQuoteRenderer.prototype.generatePopup=function(qd,chartImgUrl,quoteURL){var popupStr=[];var sym=qd.symbol;sym=this.removeSpecialChars(sym);var id="quotes_popup_"+sym;var imgSrc=chartImgUrl+"&symbol="+qd.altSymbol;var ref=quoteURL+escape(sym);var price=parseFloat(qd.change);if(!$("#"+id).length){popupStr.push('<div id="'+id+'" class="inline_quotes_popup">');popupStr.push('<div class="popup_header">');popupStr.push('<div class="popup_header_exch">');popupStr.push('<span class="popup_sym_abr">');popupStr.push(sym);popupStr.push('</span>');popupStr.push('<span class="popup_sym_exch">');popupStr.push(qd.exchange);popupStr.push('</span>');popupStr.push('</div>');popupStr.push('<div class="popup_header_price">');popupStr.push('<span class="popup_sym_name">');popupStr.push(qd.name);popupStr.push('</span>');popupStr.push('<span class="popup_sym_last">');popupStr.push(qd.last);popupStr.push('</span>');if(price<0){popupStr.push('<span class="popup_sym_price neg">');}
else if(price>0){popupStr.push('<span class="popup_sym_price pos">');}
else{price='UNCH';}
popupStr.push(price);popupStr.push('</span>');if(price<0){popupStr.push('<span class="popup_sym_perc_chng neg">');}
else if(price=='UNCH'){popupStr.push('<span class="popup_sym_perc_chng">');}
else{popupStr.push('<span class="popup_sym_chng pos">+');}
popupStr.push(qd.change_pct+'%');popupStr.push('</span>');popupStr.push('</div>');popupStr.push('</div>');popupStr.push('<div class="popup_chart">');popupStr.push('<img src="'+imgSrc+'" />');popupStr.push('</div>');popupStr.push('<div class="popup_footer">');popupStr.push('<ul class="popup_footer_links">');popupStr.push('<li class="first"><a class="popup_footer_quote" href="'+ref+'">Quote</a></li>');popupStr.push('<li><a class="popup_footer_chart" href="'+ref+'/tab/2">Chart</a></li>');popupStr.push('<li><a class="popup_footer_news" href="'+ref+'/tab/3">News</a></li>');popupStr.push('<li><a class="popup_footer_profile" href="'+ref+'/tab/4">Profile</a></li>');popupStr.push('</ul>');popupStr.push('</div>');popupStr.push('</div>');$("body").append(popupStr.join(''));}
else{$("#"+id+' .popup_sym_price').text(price);$("#"+id+' .popup_sym_chng').text(qd.last);$("#"+id+' .popup_sym_perc_chng').text(qd.change_pct+'%');$("#"+id+' .popup_chart img').attr('src',imgSrc);if(price<0){$("#"+id+' .icon').removeClass('arrowUp unch').addClass('arrow arrowDwn').html('');$("#"+id+' .popup_sym_chng').removeClass('pos').addClass('neg');$("#"+id+' .popup_sym_perc_chng').removeClass('pos').addClass('neg');}
else if(price>0){$("#"+id+' .icon').removeClass('arrowDwn unch').addClass('arrow arrowUp').html('');$("#"+id+' .popup_sym_chng').removeClass('neg').addClass('pos');$("#"+id+' .popup_sym_perc_chng').removeClass('neg').addClass('pos');}
else{$("#"+id+' .icon').removeClass('arrow arrowUp arrowDwn').addClass('unch').html('---');$("#"+id+' .popup_sym_chng').removeClass('neg pos').html('UNCH');$("#"+id+' .popup_sym_perc_chng').removeClass('neg pos').html('0');}}}
InlineQuoteRenderer.prototype.removeSpecialChars=function(sym){if(sym&&sym!=undefined&&sym!=null){sym=sym.replace(/[^a-zA-Z 0-9]+/g,'');return sym;}
return false;}
InlineQuoteRenderer.popupInterval=2000;InlineQuoteRenderer.canHidePopup=true;InlineQuoteRenderer.prototype.attachEvents=function(){var self=this;var $iq=$("a["+this.symbolSelector+"]");var $popups=$("div.inline_quotes_popup");$popups.live("mouseenter",function(){InlineQuoteRenderer.canHidePopup=false;$(this).show();});$popups.live("mouseleave",function(){$popups.hide();InlineQuoteRenderer.canHidePopup=true;});$iq.bind('mousemove',function(){$popups.hide();self.showPopup($(this));});$iq.mouseleave(function(){self.hidePopup($(this));});};InlineQuoteRenderer.prototype.getPopup=function($inlineQuote){var sym=$inlineQuote.attr(this.symbolSelector);sym=this.removeSpecialChars(sym);var $popup=$('#quotes_popup_'+sym);return $popup;};InlineQuoteRenderer.prototype.showPopup=function($inlineQuote){var $popup=this.getPopup($inlineQuote);var offset=$inlineQuote.offset();offset.top+=$inlineQuote.height();$popup.css(offset);$popup.show();};InlineQuoteRenderer.prototype.hidePopup=function($inlineQuote){var $popup=this.getPopup($inlineQuote);setTimeout(function(){if(InlineQuoteRenderer.canHidePopup){$popup.hide();}},InlineQuoteRenderer.popupInterval);};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/TableChartRenderer.js?t=1415322278 */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.TableChartRenderer=function(){this.symbolSelector='data-table-chart-symbol';};(function($){"use strict";var TableChartRenderer=CNBC_Quotes.TableChartRenderer;var formatPercent=function(num){var result='';if(num==0){result='0';}
else{result=Number(num).toFixed(2);}
return result;}
TableChartRenderer.prototype=new CNBC_Quotes.AbstractQuoteRenderer();TableChartRenderer.prototype.parseData=function(data){return this.getQuoteDataMap(data,["QuickQuoteResult","QuickQuote"]);};TableChartRenderer.prototype.renderDomElt=function($row,quote){var self=this;var company=quote.name;$row.data('company-name',company);var realTime="true";if(quote.realTime!=undefined){realTime=quote.realTime;}
var isFirstRow=($row.index()===0);if(isFirstRow){var $flexChart=$row.closest('.flex_chart');var $name=$('[data-field="company-name"]',$flexChart);$name.text(company);}
var $td_fields=$row.children();$td_fields.each(function(i,elt){var $elt=$(elt);var name=$elt.data('field');if(name){var isArrow=(name.indexOf('_arrow')>0);if(isArrow){var idx=name.indexOf('_arrow');var value=quote[name.substr(0,idx)];var change=parseFloat(value);self.renderArrow($elt,change);}
else{switch(name){case'symbol':if(realTime==="false"){$elt.addClass("delayed_quotes");}
break;case'change':var value=(quote[name]==0)?'UNCH':((quote[name])?(CNBC_Common.formatDecimalZeros(quote[name])):'---');$elt.text(value);break;case'change_pct':var value=(quote[name])?(formatPercent(quote[name])+'%'):'---';$elt.text(value);break;default:var value=(quote[name])?(quote[name]):'---';if(typeof value!="object"){$elt.text(value);}else{$elt.text('');}
break;}}}});};TableChartRenderer.prototype.getFlexCharts=function(){var $flexCharts=$('div.flex_chart[data-quote-type="quick-quote"]');return $flexCharts;};TableChartRenderer.prototype.attachEvents=function(){var self=this;var $flexCharts=this.getFlexCharts();$flexCharts.each(function(i,elt){var $flexChart=$(this);var $symLinks=$('table tbody tr a',$flexChart);$symLinks.mouseenter(function(){var $this=$(this);var $row=$this.closest('tr');if($row){var symbol=$row.data('table-chart-alt-symbol');self.updateChartImage($flexChart,symbol);var companyName=$row.data('company-name');if(companyName){var $company=$('[data-field="company-name"]',$flexChart);$company.text(companyName);}}});});};TableChartRenderer.prototype.loadImage=function(){var self=this;var $flexCharts=this.getFlexCharts();$flexCharts.each(function(i,elt){var $flexChart=$(this);var symbol=$flexChart.data('symbol');var imgSrc=$('img',$flexChart).attr('src')||false;if(!imgSrc){$('table tbody tr:first',$flexChart).each(function(i,elt){var $firstRow=$(this);var symbol=$firstRow.data('table-chart-alt-symbol');self.updateChartImage($flexChart,symbol);return false;});}});};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/FutureTableChartRenderer.js?t=1415322278 */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.FutureTableChartRenderer=function(){this.symbolSelector='data-future-table-chart-symbol';};(function($){"use strict";var FutureTableChartRenderer=CNBC_Quotes.FutureTableChartRenderer;FutureTableChartRenderer.prototype=new CNBC_Quotes.AbstractQuoteRenderer();FutureTableChartRenderer.prototype.parseData=function(data){return this.getQuoteDataMap(data,["FairValueQuoteResult","FairValueQuote"]);};FutureTableChartRenderer.prototype.renderDomElt=function($elt,quote){var self=this;var isInlineSpan=($elt.get(0).tagName.toLowerCase()==="span");if(isInlineSpan){renderInline($elt,quote);}
else{renderRow($elt,quote);}
function renderRow($row,quote){var $fields=$row.children();$fields.each(function(i,elt){var $elt=$(elt);var name=$elt.data('field');if(name){var isArrow=(name.indexOf('_arrow')>0);if(isArrow){var idx=name.indexOf('_arrow');var value=quote[name.substr(0,idx)];var change=parseFloat(value);self.renderArrow($elt,change);}
else{var value=(quote[name])?(quote[name]):'---';if(name==='change'||name=='fv_change'){var formatted=value;if(formatted!=='---'){formatted=CNBC_Common.formatDecimalZeros(value);}
$elt.text(formatted);changeColor($elt,value);}
else{$elt.text(value);}}}});}
function changeColor($elt,value){$elt.removeClass('pos neg');value=parseFloat(value);if(value){var cls="";if(value>0)cls="pos";if(value<0)cls="neg";if(cls){$elt.addClass(cls);}}}
function getTimestamp(quote){var lastTimeMsec=Number(quote['last_time_msec']);var lastTimeDate=quote['last_timedate'];var dtObj=new Date(lastTimeMsec);var dnum=dtObj.getDate();var year=dtObj.getFullYear().toString();var dt=new Date(lastTimeMsec).toDateString();var dtParts=dt.split(' ');var dddd=dtParts[0];var month=dtParts[1];var day=dddd+", "+dnum+" "+month+" '"+year.substr(2);var lastSpaceIdx=lastTimeDate.lastIndexOf(' ');var hour=lastTimeDate.substr(0,lastSpaceIdx);var timeStamp=day+" | "+hour+" ET";return timeStamp;};function renderInline($elt,quote){var field=$elt.data('field'),value=quote[field];if(field&&quote[field]){if(field==='fv_spread'){value='('+value+')';}
else if(field==='last_time'){try{value=getTimestamp(quote);}
catch(e){}}
$elt.text(value);}}};FutureTableChartRenderer.prototype.loadImage=function(){var self=this;var $flexCharts=$('div.flex_chart[data-quote-type="future-quote"]');$flexCharts.each(function(i,elt){var $flexChart=$(this);$('table tbody tr:first',$flexChart).each(function(i,elt){var $firstRow=$(this);var symbol=$firstRow.data('future-table-chart-alt-symbol');self.updateChartImage($flexChart,symbol);return false;});});};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/MarketsRenderer.js?t=1415322278 */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.MarketsRenderer=function(){this.symbolSelector='data-markets-symbol';};(function($){"use strict";var MarketsRenderer=CNBC_Quotes.MarketsRenderer;MarketsRenderer.prototype=new CNBC_Quotes.AbstractQuoteRenderer();MarketsRenderer.prototype.parseData=function(data){return this.getQuoteDataMap(data,["QuickQuoteResult","QuickQuote"]);};MarketsRenderer.prototype.renderDomElt=function($row,quote){var self=this;var prefix="";var company=quote.name;var realTime="true";$row.data('company-name',company);var $fields=$row.find('[data-field]');if(quote.assetType){$row.addClass(quote.assetType.toLowerCase());}
var getField=function(field){return self.getFieldValue(quote,field);};var change_pct=parseFloat(getField('change_pct'));var change=parseFloat(getField('change'));$row.removeClass('hide');$fields.each(function(i,elt){var $elt=$(elt);var value;var name=$elt.data('field');if(name){switch(name){case'change_pct':value=(getField(name))?(Number(getField(name)).toFixed(2)):'---';if(Number(value)>0)
$elt.text("+"+value+'%');else
$elt.text(value+'%');break;case'change':value=getField(name)?getField(name):'---';self.updateTickerColor($row,change,['green','red']);self.renderArrow($row,change);if(Number(value)>0)
$elt.text("+"+value);else if(Number(value)==0)
$elt.text("UNCH");else
$elt.text(value);break;case'last':value=getField(name)?getField(name):'---';$elt.text(value);if(quote.realTime==="false")
$elt.addClass('astricks');break;default:value=getField(name)?getField(name):'---';$elt.text(value);break;}}});};MarketsRenderer.prototype.attachEvents=function(quoteBaseURL){var self=this;var $marketCharts=$("[data-quote-type='ticker-quotes']").find("div.tickers");$marketCharts.each(function(i,elt){var $tickersChart=$(this);$tickersChart.mouseenter(function(){var strSymbol=$(this).attr("data-markets-alt-symbol");var strRegSymbol=$(this).attr("data-markets-symbol");var companyName=$(this).data("company-name");self.updateChartImage($(this).parent().parent(),encodeURIComponent(strSymbol),strRegSymbol,companyName);});self.setEventImage($tickersChart.parent().parent(),quoteBaseURL);});$("[data-quote-type='ticker-quotes']").delegate('div.tickers','click',function(){var strSymbol=$(this).attr("data-markets-symbol");window.location.href=quoteBaseURL+encodeURIComponent(strSymbol);});$("[data-quote-type='ticker-quotes']").delegate('div.tickers','tap',function(){var strSymbol=$(this).attr("data-markets-symbol");window.location.href=quoteBaseURL+encodeURIComponent(strSymbol);});this.loadImageChart();};MarketsRenderer.prototype.loadImageChart=function(){var self=this;var $marketCharts=$('[data-quote-type="ticker-quotes"]');$marketCharts.each(function(i,elt){var $flexChart=$(this);var imgSrc=$('img',$flexChart).attr('src')||false;if(!imgSrc){$('.tickers:first',$flexChart).each(function(i,elt){var strSymbol=$(this).attr("data-markets-alt-symbol");var strRegSymbol=$(this).attr("data-markets-symbol");var companyName=$(this).data("company-name");self.updateChartImage($flexChart,strSymbol,strRegSymbol,companyName);return false;});}
$('img',$flexChart).css('visibility','visible');});};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/QuoteRetriever.js?t=1415322278 */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:{};CNBC_Quotes.QuoteRetriever=function(){};(function($){"use strict";CNBC_Quotes.QuoteRetriever.ajaxCounter=0;var QuoteRetriever=CNBC_Quotes.QuoteRetriever;$.ajaxSetup({timeout:120000});QuoteRetriever.prototype.init=function(url,listeners,settings){if(!url||!listeners||!settings){throw new Error("QuoteRetriever() constructor: expecting <url, listeners, settings>");}
this.url=url;this.listeners=listeners;this.settings=settings;this.urlList=[];this.resetAjax();};QuoteRetriever.prototype.run=function(){if(this.listeners.length){this.setSymbols(this.listeners);this.getData();var s=this.settings;if(s&&s.streamingInterval){this.streamData();}}};function QuoteUrl(path){var idx=path.indexOf('&symbols=');if(idx<0||(idx!=path.length-'&symbols='.length)){throw new Error('&symbols needs to be the last argument');}
this.getUrl=function(symbols){var encodedSymbols=[];for(var i=0;i<symbols.length;i++){encodedSymbols.push(encodeURIComponent(symbols[i]));}
var symbolUrl=encodedSymbols.join('|');var url=path+symbolUrl;return url;};}
QuoteRetriever.prototype.setSymbols=function(listeners){var symbols=[];for(var i=0;i<listeners.length;i++){if(listeners[i]!=null){var list=listeners[i].getSymbols();symbols=symbols.concat(list);}}
this.getSymbolList(symbols);};QuoteRetriever.prototype.getSymbolList=function(symbols){var symbols=this.removeDuplicateSymbols(symbols);var maxSymbols=this.settings.maxSymbolsPerRequest||30;var splitLists=this.splitSymbols(symbols,maxSymbols);var quoteUrl=new QuoteUrl(this.url);this.urlList=[];for(var i=0;i<splitLists.length;i++){var symbols=splitLists[i];var url=quoteUrl.getUrl(symbols);this.urlList.push(url);}}
QuoteRetriever.prototype.removeDuplicateSymbols=function(symbols){var uniqueMap={};for(var i=0;i<symbols.length;i++){var s=symbols[i];uniqueMap[s]=1;}
var unique=[];for(var s in uniqueMap){unique.push(s);}
return unique;};QuoteRetriever.prototype.splitSymbols=function(symbols,maxSymbolsPerRequest){var result=[];var start=0;var maxSyms=maxSymbolsPerRequest;var numRequests=Math.ceil(symbols.length/maxSyms);for(var i=0;i<numRequests;i++){result[result.length]=symbols.slice(start,start+maxSyms);start+=maxSyms;}
return result;};QuoteRetriever.prototype.resetAjax=function(){this.ajaxInProgress=false;this.numAjaxRequests=0;this.ajaxData=[];};QuoteRetriever.prototype.getData=function(callback){var self=this;var urlList=self.urlList;if(!self.ajaxInProgress){self.resetAjax();self.ajaxInProgress=true;for(var i=0;i<urlList.length;i++){CNBC_Quotes.QuoteRetriever.ajaxCounter++;var deferred=$.ajax({url:urlList[i],dataType:'jsonp',jsonpCallback:'quoteHandler'+CNBC_Quotes.QuoteRetriever.ajaxCounter,cache:true,async:true});deferred.done(function(data){if(callback){callback(data);}
else{self.collectData(data,urlList.length);}
self.ajaxInProgress=false;});deferred.fail(function(data){self.resetAjax();});}}};QuoteRetriever.prototype.collectData=function(data,urlListLength){this.ajaxData.push(data);this.numAjaxRequests++;if(this.numAjaxRequests===urlListLength){this.onRender(this.ajaxData);this.resetAjax();}};QuoteRetriever.prototype.onRender=function(data){var listeners=this.listeners;for(var i=0;i<listeners.length;i++){if(listeners[i]!=null){listeners[i].onRender(data,this.settings.detailedQuoteBase);}}};QuoteRetriever.prototype.streamData=function(){var self=this;var interval=this.settings.streamingInterval;if(interval>=5000){this.streamingInterval=setInterval(function(){try{CNBC_Quotes.QuoteRetriever.ajaxCounter=0;self.getSymbolList(CNBC_Quotes.streamableSymbolList);self.getData();self.urlList=[];}
catch(e){if(typeof console!=='undefined'){console.error("Something happened in streamData");}}},interval);}};QuoteRetriever.prototype.stopStreamingData=function(){if(this.streamingInterval){clearInterval(this.streamingInterval);this.streamingInterval=null;}};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Quotes/Quotes.js?t=1415322278 */
var CNBC_Quotes=(typeof CNBC_Quotes!=="undefined")?CNBC_Quotes:function(){};CNBC_Quotes.QuoteRetrivers={};CNBC_Quotes.streamableSymbolList=[];CNBC_Quotes.nonStreamableSymbolList=[];CNBC_Quotes.init=function(chartapi,services){for(var i=0;i<services.length;i++){var s=services[i];for(var j=0;j<s.listeners.length;j++){var renderer=s.listeners[j];if(renderer!=null){renderer.setChartApiUrl(chartapi);renderer.collectSymbols();if(typeof renderer.loadImage==="function"){renderer.loadImage();}}}
var retriever=new CNBC_Quotes.QuoteRetriever();retriever.init(s.url,s.listeners,s.settings);retriever.run();CNBC_Quotes.QuoteRetrivers[renderer.symbolSelector]=retriever;}};CNBC_Quotes.reRender=function(nonStreamable){for(var i in CNBC_Quotes.QuoteRetrivers){if(CNBC_Quotes.QuoteRetrivers[i]!=null){if(nonStreamable){CNBC_Quotes.QuoteRetrivers[i].getSymbolList(CNBC_Quotes.nonStreamableSymbolList);}else{CNBC_Quotes.QuoteRetrivers[i].getSymbolList(CNBC_Quotes.streamableSymbolList);}
CNBC_Quotes.QuoteRetrivers[i].getData();}}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/BreakingNews/BreakingNews.1.js?t=1415322278 */
CNBC_BreakingNews={};(function($){CNBC_BreakingNews._callback='breakingNews';CNBC_BreakingNews._pageContainerId='cnbc-body';CNBC_BreakingNews.URL='http://www.cnbc.com/franchise/20991458';CNBC_BreakingNews.interval=30000;CNBC_BreakingNews.count=1;CNBC_BreakingNews.mode='breaking_news';CNBC_BreakingNews._container=null;CNBC_BreakingNews.init=function(args){this.args=args||{};if(this.args.interval&&this.args.url){this.interval=parseInt(this.args.interval)*1000;this.URL=this.args.url;this.setContainer();if(this._container.length){this.poll();}}}
CNBC_BreakingNews.setContainer=function(){var thisObj=this;var container=(this.args&&this.args.container)?this.args.container:$('#cnbc-new-bn');var type=typeof container;if(type=='string'){container=$('#'+container);}else if(type=='object'&&container.length==1){container=container;}else{container=$(container);}
thisObj._container=container;};CNBC_BreakingNews.poll=function(){if(this.interval>5000){setInterval('CNBC_BreakingNews.getData()',this.interval);}}
CNBC_BreakingNews.getData=function(){var self=this;$.ajax({url:self.URL,type:'get',dataType:'jsonp',jsonpCallback:self._callback,cache:true,data:{mode:self.mode},success:function(data){self.render(data);}});}
CNBC_BreakingNews.render=function(data){var self=this;var nid=parseInt(self.getNodeId());var headline=String(self.getHeadline());var latestNid=parseInt(data.id);var latestHeadline=$.trim(data.headline);if(!latestNid||!latestHeadline){if(self._container.is(':visible')){self._container.fadeOut('slow',function(){$(this).css({visibility:'hidden'});});}
self._container.addClass('hide');}
else if(nid!==latestNid||headline!==latestHeadline){self._container.removeClass('hide');if(self._container.is(':visible')){self._container.fadeOut('slow',function(){$(this).css({visibility:'hidden'});});}
self._container.find('h2').html('<a href="'+data.url+'" data-nodeID="'+latestNid+'">'+latestHeadline+'</a>');self._container.fadeIn('slow',function(){$(this).css({visibility:'visible'});});}}
CNBC_BreakingNews.getNodeId=function(){return $('a',this._container).attr('data-nodeID')||"";}
CNBC_BreakingNews.getHeadline=function(){return $.trim($('a',this._container).text())||"";}})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/FragmentUpdater/fragmentUpdater.1.js?t=1415322278 */
function CNBC_fragmentUpdater(){};(function($){CNBC_fragmentUpdater.prototype.fragmentRefreshMode=0;CNBC_fragmentUpdater.prototype.nodeId=null;CNBC_fragmentUpdater.prototype.fragmentId="";CNBC_fragmentUpdater.prototype.showLoader=false;CNBC_fragmentUpdater.prototype.showLoaderContainer="";CNBC_fragmentUpdater.prototype._context=null;CNBC_fragmentUpdater.prototype.fragment_refresh=1;CNBC_fragmentUpdater.prototype._refreshURL="";CNBC_fragmentUpdater.prototype.updateMethod="replace";CNBC_fragmentUpdater.prototype._createURL=function(){this._refreshURL="/id/"+this.nodeId+"/fragment/";}
CNBC_fragmentUpdater.prototype.init=function(args){var args=args||{};if(args.fragmentId){this.fragmentId=args.fragmentId;}
if(args.showLoader){this.showLoader=args.showLoader;}
if(args.showLoaderContainer){this.showLoaderContainer=args.showLoaderContainer;}
this.setCallback(args.callback,args.context);if(args.nodeId){this.nodeId=args.nodeId;this._createURL();}else{return null;}
if(args.updateMethod){this.updateMethod=args.updateMethod;}
if(args.refresh!=null&&args.refresh===0){this.fragment_refresh=args.refresh;}
if(args.fragmentRefreshMode!=undefined&&args.fragmentRefreshMode!=null&&args.fragmentRefreshMode==1){this.fragmentRefreshMode=1;this._setIntervalDataRefresh();}
else{this.fragmentRefreshMode=0;}};CNBC_fragmentUpdater.prototype.setCallback=function(callback,context){if(context){this._context=context;};this._callback=callback;};CNBC_fragmentUpdater.prototype._callAjax=function(container,url){var self=this;var loaderContainer=this.showLoaderContainer||container;var $loaderContainer=$("#"+loaderContainer);if(this.showLoader){CNBC_Utils.showLoader(loaderContainer,"","fragmentLoader");}
var ajaxURL=this._refreshURL+container;if(this.fragmentRefreshMode!=1&&url!=undefined){ajaxURL=url;}
var $container=$("#"+container);if($container.length){$.ajax({url:ajaxURL,success:function(data){if(!($.trim($container.text())==$.trim($(data).text()))){if(self.updateMethod=="append"){$container.find('li').each(function(){$(this).removeClass('last');});var tmp=$(data);$container.append(tmp.html());}else{$container.replaceWith(data);}}},complete:function(){if(self.showLoader){CNBC_Utils.hideLoader(null,$loaderContainer);}
if(self._callback){self._callback.call(self._context);}}});}};CNBC_fragmentUpdater.prototype._setIntervalDataRefresh=function(){var $this,id;var self=this;$("div[data-refresh]").each(function(){$this=$(this);var id=$this.attr("id");var datarefresh=parseInt($this.attr("data-refresh"))*1000;if(datarefresh>5000){var interval=setInterval(function(){if(id!=undefined){self._callAjax(id);}
if(!self.fragment_refresh){clearInterval(interval);}},datarefresh);}});};CNBC_fragmentUpdater.prototype.updateFragment=function(url){if(this.fragmentId){this._callAjax(this.fragmentId,url);}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Poll/poll.2.js?t=1415322278 */
function CNBC_Poll(){};(function($){CNBC_Poll._callback='pollReqHandl';CNBC_Poll.errorString="This poll is currenly unavailable. Please check back again later";CNBC_Poll.surveyText='Not a Scientific Survey. Results may not total 100% due to rounding.';CNBC_Poll.polls_settings;CNBC_Poll.polls=[];CNBC_Poll.pollServiceBase="http://cnbc.com/services/polls";CNBC_Poll.jsonpCount=0;CNBC_Poll.init=function(p_s){CNBC_Poll.getPollIds();CNBC_Poll.pollServiceBase=p_s.pollservicebaseurl||CNBC_Poll.pollServiceBase;if(CNBC_Poll.polls.length>0){CNBC_Poll.updateDiv();}};CNBC_Poll.getPollIds=function(){$("div[data-pollId]").each(function(i,val){CNBC_Poll.polls[i]=$(this).attr("data-pollId");});}
CNBC_Poll.updateDiv=function(){var polls=CNBC_Poll.polls;var currPoll,pid,pCookie,hasPid;var pollLen=polls.length;for(var i=0;i<pollLen;i++){currPoll=polls[i];pCookie=CNBC_Utils.readCookie('CNBC_poll_config',true);if(pCookie){hasPid=pCookie.indexOf(currPoll);if(hasPid>=0){this.showPollResults(currPoll);}else{this.showPollTable(currPoll);}}else{this.showPollTable(currPoll);}}};CNBC_Poll.showPollResults=function(pollId){var url=CNBC_Poll.pollServiceBase+"/"+pollId;var pollObject;$.ajax({url:url,type:"get",dataType:"jsonp",jsonpCallback:CNBC_Poll._callback+CNBC_Poll.jsonpCount++,cache:true,success:function(response){pollObject=CNBC_Poll.getPollObject(response);if(pollObject){$("#"+pollId+" .poll-question").html(pollObject.data.node.title);CNBC_Poll.getResultsHtml(pollObject,null,pollId);}},error:function(request,error){CNBC_Poll.populateError();}});};CNBC_Poll.getPollObject=function(response){var responseText=JSON.stringify(response);var pollObject=eval('('+responseText.replace(/#/g,"")+')');if(pollObject.error==true){CNBC_Poll.populateError();return false;}
return pollObject;};CNBC_Poll.showPollTable=function(pollId){var url=CNBC_Poll.pollServiceBase+"/"+pollId;var votesObject,total_votes,pollObject;$.ajax({url:url,type:"get",dataType:"jsonp",jsonpCallback:CNBC_Poll._callback+CNBC_Poll.jsonpCount++,cache:true,success:function(response){pollObject=CNBC_Poll.getPollObject(response);if(pollObject){votesObject=pollObject.data.votes;$("#"+pollId+" .container-options").css('display',"block");if($("#"+pollId).length){$("#"+pollId+" .poll-question").html(pollObject.data.node.title);$("#"+pollId+" .poll-options").html(CNBC_Poll.getPollOptionsHtml(pollObject.data.node,pollId));$("#"+pollId+" .poll-control a").attr("href","javascript:CNBC_Poll.performVote('"+pollId+"')");}}},error:function(request,error){CNBC_Poll.populateError();}});};CNBC_Poll.performVote=function(pId){var flag=0;var rad_val,currOpt;var formObj=document.getElementById("pollform_"+pId);var opt=formObj.pollOptions;var optLen=opt.length;for(var i=0;i<optLen;i++){currOpt=opt[i];if(currOpt.checked){rad_val=currOpt.value;flag=1;}}
if(flag==0){alert('Please select an option to vote');return;}
var url=CNBC_Poll.pollServiceBase+"/"+pId+"/"+rad_val+"/"+pId;$.ajax({url:url,type:"get",dataType:"jsonp",success:function(response){var pollObject=CNBC_Poll.getPollObject(response);if(pollObject){CNBC_Poll.getResultsHtml(pollObject,rad_val,pId);CNBC_Poll.setCookie(pollObject.data.node.nid);}},error:function(request,error){CNBC_Poll.populateError();}});};CNBC_Poll.setCookie=function(nid){var cookieValue=nid;var c=CNBC_Utils.readCookie('CNBC_poll_config',true);if(!CNBC_Common.isNull(c)){cookieValue=c+','+nid;}
CNBC_Utils.createCookie('CNBC_poll_config',cookieValue,10000,true);}
CNBC_Poll.getLabel=function(resultObj,myoffset){var label;$.each(resultObj,function(xx,yy){if(myoffset==yy['vote_offset']){label=yy.label;}});return label;};CNBC_Poll.getPollOptionsHtml=function(pollObject,pollId){var tableHtml=[];tableHtml.push('<form name="pollform_'+pollId+'" id="pollform_'+pollId+'">');$.each(pollObject.choice,function(i,c){tableHtml.push('<div class="optionWrapper">');tableHtml.push('<input type="radio" name="pollOptions" value='+c['vote_offset']+'>');tableHtml.push(c.label);tableHtml.push('</input>');tableHtml.push('</div>');});tableHtml.push('</form>');return tableHtml.join('');};CNBC_Poll.getTotalVotes=function(votesObject){var total_votes=0;if(!CNBC_Common.isNull(votesObject)){$.each(votesObject,function(i,j){total_votes+=parseInt(j);});}
return total_votes;};CNBC_Poll.getResultsHtml=function(pollObject,rad_val,pId){var self=this;var total_votes=0;var percent=0;var votesObject=pollObject.data.votes||{};var results_html=[];var currVotes;total_votes=CNBC_Poll.getTotalVotes(votesObject);if(rad_val!=null){++total_votes;}
var pChoice=pollObject.data.node.choice||[];if(total_votes){var index=0;$.each(pChoice,function(i,j){index=i+1;currVotes=pollObject.data.votes[index];if((!currVotes&&rad_val&&index!=rad_val)||(!currVotes&&!rad_val)){percent=0;}else if(!currVotes&&rad_val&&index==rad_val){percent=CNBC_Poll.getPercentage(total_votes,1.00);}else if(rad_val&&index==rad_val){percent=CNBC_Poll.getPercentage(total_votes,parseFloat(currVotes)+1);}else{percent=CNBC_Poll.getPercentage(total_votes,parseFloat(currVotes));}
CNBC_Poll.displayBar(results_html,j.label,percent);});}else{$.each(pChoice,function(i,j){CNBC_Poll.displayBar(results_html,j.label,percent);});}
$("#"+pId+" .container-result .pollTotalVotes .poll-count").html(total_votes);$("#"+pId+" .container-options").css('display',"none");$("#"+pId+" .container-result").css('display',"block");if($("#"+pId+" .container-result .graph").length){$("#"+pId+" .container-result .graph").html(results_html.join('')).fadeIn("slow",function(){CNBC_Poll.animateResults(this);});}};CNBC_Poll.getPercentage=function(total_votes,currVotes){return Math.round((currVotes/total_votes)*100);}
CNBC_Poll.displayBar=function(results_html,label,percent){results_html.push('<p class="bar-title">');results_html.push(label);results_html.push('</p><div class="pollPercentText">'+percent+'%</div><div class="bar-container">');results_html.push('<div class="pollBar" data-percent="'+percent+'"></div></div>');};CNBC_Poll.animateResults=function($obj){var percentage,$this;$("div.pollBar",$obj).each(function(){$this=$(this);percentage=$this.attr('data-percent')+"%";$this.css({width:"0%"}).animate({width:percentage},'slow');});};CNBC_Poll.populateError=function(){var errorDiv='<div class="pollerror">'+CNBC_Poll.errorString+'</div>';if($('#polltable').length){$('#polltable').html(errorDiv);}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/tabs/tab.1.js?t=1415322278 */
function CNBC_Tab(){};(function($){CNBC_Tab.prototype._container=null;CNBC_Tab.prototype._callback=null;CNBC_Tab.prototype._tabIndex=1;CNBC_Tab.prototype.$tabContainer=null;CNBC_Tab.prototype._tabPrefix='tab_';CNBC_Tab.selectedTabClass='selected';CNBC_Tab.prototype.init=function(args){var thisObj=this;var args=args||{};if(args.container!=null){thisObj.setContainer(args.container);thisObj.setOptionalOverrides(args);thisObj.initElements();thisObj.showDefaultTab();thisObj.initEvents();}
else{CNBC_Common.ConsoleLog('Missing Arguments in Tab Library...');}};CNBC_Tab.prototype.setOptionalOverrides=function(args){var thisObj=this;if(args.tabIndex){thisObj._tabIndex=args.tabIndex;}
if(args.callback){thisObj.setCallback(args.callback,args.context);}
if(args.tabPrefix){thisObj._tabPrefix=args.tabPrefix;}};CNBC_Tab.prototype.setCallback=function(callback,context){var thisObj=this;if(context){thisObj._context=context;};thisObj._callback=eval(callback);};CNBC_Tab.prototype.setContainer=function(container){var thisObj=this;var type=typeof container;var container;if(type=='string'){container=$('#'+container);}else if(type=='object'&&container.length==1){container=container;}else{container=$(container);}
thisObj._container=container;};CNBC_Tab.prototype.showDefaultTab=function(){var thisObj=this;if(thisObj._tabIndex){var sizeTabs=thisObj.$tabs.children().length;if(thisObj._tabIndex>sizeTabs){thisObj._tabIndex=1;}
thisObj.toggleTab($('ul >:eq('+(thisObj._tabIndex-1)+')',thisObj._container));}
else{thisObj.$tabs.removeClass(CNBC_Tab.selectedTabClass);}};CNBC_Tab.prototype.initEvents=function(){var thisObj=this;thisObj.$tabs.click(function(){thisObj.toggleTab($(this));if(thisObj._callback){thisObj._callback.call(thisObj._context);}
return false;});};CNBC_Tab.prototype.initElements=function(){var thisObj=this;thisObj.$tabs=$('>:eq(0) > li',thisObj._container);thisObj.$tabContainer=$('>:eq(1)',thisObj._container);thisObj.$listContents=$('> li',thisObj.$tabContainer);};CNBC_Tab.prototype.toggleTab=function($el){var thisObj=this;var $selectedTab=$('>:eq('+$el.index()+')',thisObj.$tabContainer);$el.siblings().removeClass(CNBC_Tab.selectedTabClass);$el.addClass(CNBC_Tab.selectedTabClass);thisObj.$listContents.removeClass('show');if($selectedTab!=undefined&&$selectedTab!=null&&$selectedTab){$selectedTab.addClass('show');}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Carousel2/CNBC_Animation.js?t=1415322278 */
var CNBC_Animation=function(){};(function(){CNBC_Animation.prototype={targetElement:null,animationType:'slide',animationStep:1,animationInterval:10,wiggleDistance:35,wiggleLonger:false,initialSpeed:0,onAnimationStarting:null,onAnimationComplete:null,wiggleOnAnimationComplete:null,_animating:false,_tmpAnimationStep:0,_animationIntervalID:0,_animationSpeed:0,_tempAnimateFinalPos:null,_swipeHalfDistance:0,_beforeAnimationPos:0,_pixelsToAnimate:0,_currentPos:0,init:function(args){for(var param in args){eval('this.'+param+' = args.'+param+';');}},slideAnimation:function(pixelsToAnimate,initialSpeed,onAnimationComplete,ignoreIsAnimatingCheck){if(this._animating==true&&typeof(ignoreIsAnimatingCheck)=='undefined')
return;this._animating=true;this.onAnimationComplete=(onAnimationComplete==null)?this.onAnimationComplete:onAnimationComplete;this._currentPos=this._beforeAnimationPos=this.targetElement.position().left;this._pixelsToAnimate=pixelsToAnimate;this.animateFinalPos=pixelsToAnimate+this._currentPos;this._swipeHalfDistance=pixelsToAnimate/2;this._animationSpeed=this.initialSpeed=(pixelsToAnimate>0)?initialSpeed:-initialSpeed;this._slideAnimationWillStart();},_slideAnimationWillStart:function(){var self=this;if(this.onAnimationStarting!=null)
this.onAnimationStarting();this._animationIntervalID=setInterval(function(){self._slideAnimate()},this.animationInterval);},_slideAnimate:function(){var self=this;this._currentPos=this._currentPos+this._animationSpeed;var relativeOffset=this._currentPos-this._beforeAnimationPos;if(relativeOffset<this._swipeHalfDistance)
this._animationSpeed=this._animationSpeed+this.animationStep;else
this._animationSpeed=this._animationSpeed-this.animationStep;if(this._pixelsToAnimate>0){if(this._currentPos>=this.animateFinalPos||this._animationSpeed<0){this._slideAnimationFinishing();return;}}
else{if(this._currentPos<=this.animateFinalPos||this._animationSpeed>0){this._slideAnimationFinishing();return;}}
var newPos=Math.round(this._currentPos)+'px';this.targetElement.css('left',newPos);},_slideAnimationFinishing:function(){clearInterval(this._animationIntervalID);if(this._tempAnimateFinalPos==null){this._tempAnimateFinalPos=this.animateFinalPos;this._tmpAnimationStep=this.animationStep;}
this._adjustFinalPosition();if(this.wiggleOnAnimationComplete){this.wiggleOnAnimationComplete();return;}
if(this.initialSpeed!=0){this._wiggle();}
else{this._slideAnimationFinished();}},_slideAnimationFinished:function(){this._adjustFinalPosition();this._animationSpeed=0;if(this.onAnimationComplete!=null){this.onAnimationComplete();}
this._animating=0;},_wiggle:function(){var self=this;var currentAnimationStep=this.animationStep;var distance=(this._pixelsToAnimate>0)?this.wiggleDistance:-this.wiggleDistance;if(this.wiggleLonger==true)
this._wiggleLonger(distance);else
this._wiggleShorter(distance);},_wiggleShorter:function(distance){var self=this;this._wiggleOnAnimationCompleted(distance,2,3,function(){self.animationStep=0.5;var newDistance=-distance;self._wiggleOnAnimationCompleted(newDistance,1,0,function(){self._wiggleFinished();})});},_wiggleLonger:function(distance){var self=this;this._wiggleOnAnimationCompleted(distance,2,3,function(){self.animationStep=0.8;var newDistance=-(distance*2)+1;self._wiggleOnAnimationCompleted(newDistance,1,2,function(){self.animationStep=0.2;var newDistance=(distance/2)-2;self._wiggleOnAnimationCompleted(distance,1,0,function(){self._wiggleFinished();})})});},_wiggleFinished:function(){this.animationStep=this._tmpAnimationStep;this.animateFinalPos=self._tempAnimateFinalPos;this.wiggleOnAnimationComplete=null;this._tempAnimateFinalPos=null;this._slideAnimationFinished();},_wiggleOnAnimationCompleted:function(distance,initialSpeed,animationStep,onAnimationComplete){this.wiggleOnAnimationComplete=onAnimationComplete;this.slideAnimation(distance,initialSpeed,null,true);},_adjustFinalPosition:function(){this.targetElement.css('left',this.animateFinalPos);}}})($);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Carousel2/CNBC_Carousel.js?t=1415322278 */
function CNBC_Carousel(){};(function($){CNBC_Carousel.prototype.carouselWrapper=null;CNBC_Carousel.prototype.transitionType='fading';CNBC_Carousel.prototype.pageType='dot';CNBC_Carousel.prototype.transitionSpeed=2;CNBC_Carousel.prototype.autoTransitionInterval=7000;CNBC_Carousel.prototype.smartPageJump=1;CNBC_Carousel.prototype.disableFreeSwipe=false;CNBC_Carousel.prototype.initialSpeed=0;CNBC_Carousel.prototype.swipeInitialSpeed=0;CNBC_Carousel.prototype.wiggleLonger=false;CNBC_Carousel.prototype.swipeThreshold=3;CNBC_Carousel.prototype.screensSpacing=30,CNBC_Carousel.prototype._isSlidePlaying=true;CNBC_Carousel.prototype.beforeTransition=null;CNBC_Carousel.prototype.afterTransition=null;CNBC_Carousel.prototype.callBackPlay=null;CNBC_Carousel.prototype.callBackPause=null;CNBC_Carousel.prototype.onMouseOut=null;CNBC_Carousel.prototype.$_carouselElements=null;CNBC_Carousel.prototype.$_carouselUL=null;CNBC_Carousel.prototype._autoTransition=null;CNBC_Carousel.prototype._inTransition=0;CNBC_Carousel.prototype._activeElementIndex=0;CNBC_Carousel.prototype._lastActiveElementIndex=0;CNBC_Carousel.prototype._elementsCount=0;CNBC_Carousel.prototype._initialSpeed=0;CNBC_Carousel.prototype._freeSwipeX=0;CNBC_Carousel.prototype._animation=null;CNBC_Carousel.prototype._swipe=null;CNBC_Carousel.prototype._initialDirection=0;CNBC_Carousel.prototype._$pageButtons=null;CNBC_Carousel.prototype.disableVerticalOutOfBoundariesCheck=0;CNBC_Carousel.prototype.init=function(args){var self=this;for(var param in args){eval('this.'+param+' = args.'+param+';');}
if(this.carouselWrapper){self.setContainer();this.$_carouselElements=self.carouselWrapper.find('div.carousel_body ul.slide > li');this.$_carouselUL=this.carouselWrapper.find('div.carousel_body > ul');this._animation=new CNBC_Animation();this._animation.init({animationStep:this.transitionSpeed,wiggleLonger:this.wiggleLonger,targetElement:this.$_carouselUL});this._swipe=new CNBC_Swipe();this._swipe.init({swipeTarget:this.$_carouselUL,onSwiped:function(pos,direction){direction=(direction.horizontal>0)?1:-1;var distance=Math.abs(pos.xx);var li_width=self.carouselWrapper.find('li').outerWidth();if(direction!=self._initialDirection||distance<li_width/self.swipeThreshold)
self.freeswipeSwipeBack()
else{self._initialSpeed=self.swipeInitialSpeed;self.beginTransition(direction);}
self._initialDirection=0;},onSwiping:function(pos,direction){if(direction.horizontal!=0&&self._initialDirection==0){self._initialDirection=(direction.horizontal>0)?1:-1;}
if(self.disableFreeSwipe==true||self.transitionType!='sliding')
return;self.freeSwipe(pos);}});this._elementsCount=this.$_carouselElements.length;this._initialSpeed=this.initialSpeed;var li_class=this.transitionType+'_li';this.$_carouselElements.each(function(key,element){$(element).addClass(li_class);});eval("this._"+this.transitionType+"Initialize()");this.carouselWrapper.find('.left_scroll_btn').click(function(){self.beginTransition(1);});this.carouselWrapper.find('.right_scroll_btn').click(function(){self.beginTransition(-1);});if(!CNBC_Utils.isTouchEnabled()){this.carouselWrapper.mouseenter(function(){self._mouseOverMarket=true;if(self._autoTransition!=null){clearInterval(self._autoTransition);self._autoTransition=null;}});this.carouselWrapper.mouseleave(function(){self._mouseOverMarket=false;if(self.autoTransitionInterval!=0){self._setAutoTransition();}});}
this.$_playButton=this.carouselWrapper.find('.small-button');this.$_playButton.click(function(){if(self._isSlidePlaying){self._isSlidePlaying=false;self.$_playButton.find('.icon').removeClass('pause').addClass('play');if(CNBC_Utils.isTouchEnabled()){if(self._autoTransition!=null){clearInterval(self._autoTransition);self._autoTransition=null;}}}else{self._isSlidePlaying=true;self.$_playButton.find('.icon').removeClass('play').addClass('pause');self.beginTransition(-1);if(CNBC_Utils.isTouchEnabled()){if(self.autoTransitionInterval!=0){self._setAutoTransition();}}}
if(self.callBackControl!=null){self.callBackControl(self._isSlidePlaying,self._activeElementIndex);}});this.$_carouselUL.mouseout(function(e){eval("self._"+self.transitionType+"OnMouseOut(e)");if(self.onMouseOut!=null)
self.onMouseOut();});if(this.autoTransitionInterval!=0){this._setAutoTransition();}
if(this.carouselWrapper.find('.pager_box').length!=0)
{this._drawPagerBox();}
if(this.transitionType=='sliding'){self._swapImages(1);}}};CNBC_Carousel.prototype.setPlayPause=function(isSlidePlaying,index){if(!isSlidePlaying){this._isSlidePlaying=false;if(this._autoTransition!=null){clearInterval(this._autoTransition);this._autoTransition=null;}
this.$_playButton.find('.icon').removeClass('pause').addClass('play');this.pageBtnClicked(index);}};CNBC_Carousel.prototype.setContainer=function(){var type=typeof this.carouselWrapper;var container=this.carouselWrapper;if(type=='string'){container=$('#'+container);}else if(type=='object'&&container.length==1){container=container;}else{container=$(container);}
this.carouselWrapper=container;};CNBC_Carousel.prototype.pageBtnClicked=function(selectedElementIndex){if(this._inTransition==1||this._activeElementIndex==selectedElementIndex){return;}
var step=this._activeElementIndex-selectedElementIndex;if(this.smartPageJump==1){var pagesToScroll=this._activeElementIndex-selectedElementIndex;if(Math.abs(pagesToScroll)>(this._elementsCount/2)){step=this._elementsCount-Math.abs(pagesToScroll);if(pagesToScroll>0)
step=step*-1;}}
this.beginTransition(step);};CNBC_Carousel.prototype.beginTransition=function(steps){if(steps=='left')
steps=-1;else if(steps=='right')
steps=1;if(this._inTransition==1)
return;this._lastActiveElementIndex=this._activeElementIndex;steps=(typeof(steps)=='undefined'?1:steps);if(this.beforeTransition!=null){this.beforeTransition();}
this._inTransition=1;eval("this._"+this.transitionType+"Transition("+steps+")");if(!this._mouseOverMarket)
this._setAutoTransition();};CNBC_Carousel.prototype.transitionFinished=function(){this._pagerBoxSetActivePage();if(this.afterTransition!=null)
this.afterTransition(this._activeElementIndex);this._inTransition=0;};CNBC_Carousel.prototype._drawPagerBox=function(){var self=this;var htmlText='';self.$_carouselElements.each(function(i){if(self.pageType!="tab"){var className=i==0?' class="active"':'';htmlText+='<li'+className+'><a href="javascript:"><span>&#9679;</span></a></li>';}});if(self.pageType!="tab"){htmlText='<ul>'+htmlText+'</ul>';self.carouselWrapper.find('div.pager_box').html(htmlText);}
self._$pageButtons=this.carouselWrapper.find('div.pager_box ul li');self.$_carouselElements.each(function(i){self._$pageButtons.eq(i).click(function(){self.pageBtnClicked(i);self._pagerBoxSetActivePage();});});};CNBC_Carousel.prototype._pagerBoxSetActivePage=function(){if(this.carouselWrapper.find('div.pager_box').length!=0){if(this.pageType=="tab"){this._$pageButtons.eq(this._lastActiveElementIndex).removeClass('selected');this._$pageButtons.eq(this._activeElementIndex).addClass('selected');}else{this._$pageButtons.eq(this._lastActiveElementIndex).removeClass('active');this._$pageButtons.eq(this._activeElementIndex).addClass('active');}}};CNBC_Carousel.prototype._setAutoTransition=function(){if(this.autoTransitionInterval==0||!this._isSlidePlaying){return;}
var self=this;if(this._autoTransition!=null){clearInterval(this._autoTransition);}
this._autoTransition=setInterval(function(){self.beginTransition(-1);},this.autoTransitionInterval);};CNBC_Carousel.prototype._slidingInitialize=function(){};CNBC_Carousel.prototype._slidingTransition=function(step){var self=this;step=typeof(step)=='undefined'?1:step;var orientation=Math.abs(step)>1?0:step;var w=this.$_carouselElements.outerWidth()-(this._freeSwipeX*orientation);w=w*step;var offset=w;this._activeElementIndex=this._activeElementIndex-step;if(this._activeElementIndex<0){this._activeElementIndex=this._elementsCount-(step-this._lastActiveElementIndex);}
else if(this._activeElementIndex>this._elementsCount-1){this._activeElementIndex=-(this._elementsCount+(step-this._lastActiveElementIndex));}
if(step<0){}
else{this._swapImages(step)}
this._freeSwipeX=0;this._animation.slideAnimation(offset,this._initialSpeed,function(){self._slidingTransitionFinished(step);});this._initialSpeed=this.initialSpeed;},CNBC_Carousel.prototype._slidingTransitionFinished=function(step){if(step<0){this._swapImages(step)}
else{}
this.transitionFinished();};CNBC_Carousel.prototype._swapImages=function(step,disableShift){disableShift=typeof(disableShift)!='undefined'||disableShift==true?true:false;var absoluteStep=Math.abs(step);for(var q=0;q<absoluteStep;q++){if(step<0){this.$_carouselUL.find('li:last').after(this.$_carouselUL.find('li:first'));}
else{this.$_carouselUL.find('li:first').before(this.$_carouselUL.find('li:last'));}}
if(disableShift==false){var w=this.carouselWrapper.find('.carousel_ul li').outerWidth();var x=this.carouselWrapper.find('.carousel_ul').position().left;if(step<0){w=x+(w*absoluteStep);w=w+'px';this.$_carouselUL.css('left',w);}
else{w=(x-(w*absoluteStep))
w=w+'px';this.$_carouselUL.css('left',w);}}};CNBC_Carousel.prototype._slidingOnMouseOut=function(e){if(this._freeSwipeX!=0){var wrapper=this.carouselWrapper;var elementWidth=this.$_carouselElements.outerWidth();var elementHeight=this.$_carouselElements.outerHeight();var px=e.pageX-wrapper.offset().left;var py=e.pageY-wrapper.offset().top;if(px<5||py<5||px>elementWidth-5-this.screensSpacing||py>elementHeight-5){this._outOfBoundariesAction();}}};CNBC_Carousel.prototype._outOfBoundariesAction=function(){if(this._swipe.swipeLength>this.$_carouselElements.outerWidth()/this.swipeThreshold){direction=(this._swipe._orientation.horizontal>0)?1:-1;this._initialSpeed=this.swipeInitialSpeed;this.beginTransition(direction);this._swipe.clearCurrentSwipeEvent();}
else{this.freeswipeSwipeBack();}};CNBC_Carousel.prototype.freeSwipe=function(pos){if(this._inTransition==1)
return;this._setAutoTransition();var elementWidth=this.$_carouselElements.outerWidth();var elementHeight=this.$_carouselElements.outerHeight();var px=pos.x+pos.xx;var py=pos.y+pos.yy;if(this.disableVerticalOutOfBoundariesCheck==0){if(px<1||px>elementWidth-1||py<1||py>elementHeight-1){this._outOfBoundariesAction();return;}}
else{if(px<1||px>elementWidth-1){this._outOfBoundariesAction();return;}}
this._freeSwipeX=pos.xx;var xx=(this._freeSwipeX-elementWidth)+'px';this.$_carouselUL.css('left',xx);};CNBC_Carousel.prototype.freeswipeSwipeBack=function(){var self=this;this._inTransition=1;if(this._freeSwipeX==0){this._inTransition=0;return;}
this._swipe.clearCurrentSwipeEvent();var offset=-this._freeSwipeX;this._animation.slideAnimation(offset,5,function(){self._freeSwipeX=0;self._inTransition=0;});};CNBC_Carousel.prototype._fadingInitialize=function(){};CNBC_Carousel.prototype._fadingTransition=function(step){var self=this;var currentActiveElement=this._activeElementIndex;this._activeElementIndex=this._activeElementIndex-step;if(this._activeElementIndex<0){this._activeElementIndex=this._elementsCount-(step-this._lastActiveElementIndex);}
else if(this._activeElementIndex>this._elementsCount-1){this._activeElementIndex=-(this._elementsCount+(step-this._lastActiveElementIndex));}
var fadingOutEl=this.$_carouselElements.eq(currentActiveElement);var fadingInEl=this.$_carouselElements.eq(this._activeElementIndex);fadingOutEl.fadeOut(this.transitionSpeed,function(){});fadingOutEl.removeClass('active');fadingInEl.fadeIn(this.transitionSpeed,function(){self.transitionFinished();});fadingInEl.addClass('active');}
CNBC_Carousel.prototype._fadingOnMouseOut=function(){}})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Carousel2/CNBC_Swipe.js?t=1415322278 */
var CNBC_Swipe=function(){};(function(){CNBC_Swipe.prototype={swipeTarget:null,minSwipeDistance:20,swipeLength:0,isTouchDevice:false,onSwiped:null,onSwiping:null,_startEvent:null,_moveEvent:null,_endEvent:null,_swipeStartedTime:0,_orientation:{'horizontal':'','vertical':''},_swipeStartedX:0,_swipeStartedY:0,_swipeX:0,_swipeY:0,_swipeLastX:0,_swipeLastY:0,_offsetLeft:0,_offsetTop:0,_verticalCount:0,_horizontalCount:0,_verticalLastValues:null,_horizontalLastValues:null,_preventVerticalSwiping:false,_vertical:0,_horizontal:0,_count:0,init:function(args){var self=this;for(var param in args){eval('this.'+param+' = args.'+param+';');}
this._offsetTop=this.swipeTarget.offset().top;this._offsetLeft=this.swipeTarget.offset().left;var touch="ontouchend"in document,_startEvent=(touch)?'touchstart':'mousedown',_moveEvent=(touch)?'touchmove':'mousemove',_endEvent=(touch)?'touchend':'mouseup';this.isTouchDevice=touch;this.swipeTarget.bind(_startEvent,function(e){if(!("ontouchend"in document))
e.preventDefault();self._swipeStartedTime=e.timeStamp;self._swipeStartedX=self._getRelativeMousePos(e).left;self._swipeStartedY=self._getRelativeMousePos(e).top;self._orientation.horizontal=0;self._orientation.vertical=0;self._count=0;self.horizontal=0;self.vertical=0;});this.swipeTarget.bind(_moveEvent,function(e){if(self._swipeStartedTime!=0){self._swipeY=self._getRelativeMousePos(e).top-self._swipeStartedY;self._swipeX=self._getRelativeMousePos(e).left-self._swipeStartedX;self.swipeLength=Math.max(Math.abs(self._swipeY),Math.abs(self._swipeX));if(self.swipeLength>self.minSwipeDistance||self._swipeStarted==1){self._swipeStarted=1;self.lastOrientation=self._getSwipeOrientation();if(self.onSwiping!=null){self.onSwiping({'x':self._swipeStartedX,'y':self._swipeStartedY,'xx':self._swipeX,'yy':self._swipeY},self.lastOrientation);}
self._swipeLastX=self._swipeX;self._swipeLastY=self._swipeY;}}
var h=Math.abs(self._swipeX);var v=Math.abs(self._swipeY);if(h>v){self._preventVerticalSwiping=true;}
if(self._preventVerticalSwiping){e.preventDefault();}
else{self.clearCurrentSwipeEvent();}});this.swipeTarget.bind(_endEvent,function(e){var swipeTime=e.timeStamp-self._swipeStartedTime;if(self.swipeLength<self.minSwipeDistance){self.clearCurrentSwipeEvent();}
else{self._swipeEventCompleted();self.clearCurrentSwipeEvent();}});},clearCurrentSwipeEvent:function(){this._swipeStartedX=0;this._swipeStartedY=0;this._swipeStartedTime=0;this.swipeLength=0;this._swipeStarted=0;this._horizontalCount=0;this._verticalCount=0;this._horizontalCount=this._horizontal=0;this._vertical=this._verticalCount=0;this._preventVerticalSwiping=false;},_getSwipeOrientation:function(){this._horizontalCount+=(this._swipeX>this._swipeLastX)?1:((this._swipeX<this._swipeLastX)?-1:((this._horizontalCount>0)?-1:(this._horizontalCount<0)?1:0));this._verticalCount+=(this._swipeY>this._swipeLastY)?1:((this._swipeY<this._swipeLastY)?-1:((this._verticalCount>0)?-1:(this._verticalCount<0)?1:0));if(this._count>1){this._horizontal=this._horizontalCount;this._vertical=this._verticalCount;this._horizontalCount=0;this._verticalCount=0;this._count=0;}
else
this._count++;this._orientation={'horizontal':this._horizontal,'vertical':this._vertical};return this._orientation;},_swipeEventCompleted:function(){this.lastOrientation=this._getSwipeOrientation();if(this.onSwiped!=null){this.onSwiped({'x':this._swipeStartedX,'y':this._swipeStartedY,'xx':this._swipeX,'yy':this._swipeY},this.lastOrientation);}},_getRelativeMousePos:function(event){var px,py;if(this.isTouchDevice==true){px=event.originalEvent.touches[0].pageX;py=event.originalEvent.touches[0].pageY;}
else{px=event.pageX;py=event.pageY;}
var result={top:(py-this._offsetTop),left:(px-this._offsetLeft)}
return result;}}})($);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Carousel3/carousel3.js?t=1415322278 */
function CNBC_Carousel3(){};(function($){var ifIE=$.browser.msie&&$.browser.version.substr(0,1)<9;CNBC_Carousel3.prototype.settings={container:"carouselWrapper",itemsPerPage:1,itemsPerTransition:1,noOfRows:1,pagination:false,nextPrevLinks:true,speed:'normal',easing:'swing',autoSpeed:1000,enableAuto:false,swipable:false,spaceBetweenElements:0,leftArrow:"leftArrow",rightArrow:"rightArrow",slideIndicator:"slideIndicator",cStartOver:"carouselSO",sliderContainer:"carouselSlider",itemIndex:0,overlayButtons:false,lazyLoad:false,lazyLoadNext:false};CNBC_Carousel3.prototype.init=function(options){var self=this;this.options=$.extend({},this.settings,options);this.container=$("#"+this.options.container);this.container.css({display:"block"});this.itemIndex=this.getCurrentNodeIndex();this.liItem=this.container.find('li');this.liItem.css("visibility","visible");self.container.on("dragstart",function(){return false;});this.runner=this.container.find('ul');this.items=this.runner.children('li');this.noOfItems=this.items.length;if(this.options.lazyLoad){this.initLazyLoad();}else{this.lazyLoadImg(0,this.noOfItems);}
this.itemWidth=this.items.outerWidth(true);this.setWidth();this.container.on('selectstart dragstart',function(){return false});if(this.noOfItems<=this.options.itemsPerPage){this.insertMask();this.container.removeAttr("style");return false;}
this.insertMask();this.noOfPages=Math.ceil((this.noOfItems-this.options.itemsPerPage)/this.options.itemsPerTransition)+1;if(this.options.nextPrevLinks){this.leftA=$(this.container).find('.'+self.options.leftArrow);this.rightA=$(this.container).find('.'+self.options.rightArrow);this.insertNextPrevLinks();}
this.setContainerWidth();this.attachClickHandlers();if(this.options.pagination){this.insertPagination();}
if(this.options.pagination){this.updateBtnStyles();}
if(this.options.enableAuto){this.startAuto();this.hoverPause();}
if(this.options.swipable){this.handleTouch();}
this.sIndicator=$(this.container).find('.'+self.options.slideIndicator);this.updateBtnStyles();this.startOverElement=$(this.container).find('.'+self.options.cStartOver);this.startOver();this.updateIndicator();if(this.itemIndex!=0){this.animate(0);}
this.container.removeAttr("style");this.container.css('height','auto');};CNBC_Carousel3.prototype.getCurrentNodeIndex=function(){var currentNode,result;result=this.options.itemIndex;if(this.options.currentNodeClass){currentNode=this.container.find('.'+this.options.currentNodeClass);if(currentNode.length==1){result=currentNode.index();}}
return result;};CNBC_Carousel3.prototype.insertMask=function(){var self=this;this.runner.wrap('<div class="mask" />');this.mask=this.container.find('div.mask');var itemWidth=this.items.outerWidth();var space=this.itemWidth-itemWidth;var maskWidth=this.itemWidth*this.options.itemsPerPage-space;this.mask.width(maskWidth);};CNBC_Carousel3.prototype.setWidth=function(){this.noOfItems=Math.round(this.noOfItems/this.options.noOfRows);var width=this.items.outerWidth(true)*this.noOfItems;this.runner.width(width);};CNBC_Carousel3.prototype.startOver=function(){var self=this;this.startOverElement.on('click',function(){if(!(self.leftA.hasClass('disabled'))){self.itemIndex=(-1)*self.options.itemsPerTransition;self.prevItem();};});};CNBC_Carousel3.prototype.setContainerWidth=function(){if(this.options.overlayButtons){var containerWidth=this.mask.width();this.container.width(containerWidth);}else{var containerWidth=this.leftA.outerWidth(true)+this.rightA.outerWidth(true)+this.mask.outerWidth(true);this.container.width(containerWidth);}};CNBC_Carousel3.prototype.initLazyLoad=function(){if(this.itemIndex>0){this.lazyLoadImg(0,this.itemIndex);}
if(this.options.lazyLoadNext){this.lazyLoadImg(this.itemIndex,this.itemIndex+this.options.itemsPerPage*2);}else{this.lazyLoadImg(this.itemIndex,this.itemIndex+this.options.itemsPerPage);}};CNBC_Carousel3.prototype.lazyLoadImg=function(from,to){if(to>this.noOfItems){to=this.noOfItems;}
for(var i=from;i<to;i++){this.items.eq(i).find('img').prop('src',function(){if($(this).attr('data-img-src')){return $(this).attr('data-img-src');};}).removeAttr('data-img-src');}};CNBC_Carousel3.prototype.attachClickHandlers=function(){var self=this;this.leftA.on('mousedown',function(){if(!($(this).hasClass('disabled'))){$(this).addClass('lclick');};}).on('mouseup',function(){$(this).removeClass('lclick');});this.rightA.on('mousedown',function(){if(!($(this).hasClass('disabled'))){$(this).addClass('rclick');};}).on('mouseup',function(){$(this).removeClass('rclick');});this.leftA.on('mouseover mousemove',function(){if(!($(this).hasClass('disabled'))){$(this).addClass('lclick');};}).on('mouseout',function(){$(this).removeClass('lclick')});this.rightA.on('mouseover mousemove',function(){if(!($(this).hasClass('disabled'))){$(this).addClass('rclick');};}).on('mouseout',function(){$(this).removeClass('rclick')});};CNBC_Carousel3.prototype.insertPagination=function(){var i,links=[];this.paginationLinks=$('<ol class="pagination-links" />');for(i=0;i<this.noOfPages;i++){links[i]='<li><a href="#item-'+i+'">'+(i+1)+'</a></li>';}
this.paginationLinks.append(links.join('')).appendTo(this.container).find('a').bind('click.carousel',$.proxy(this,'paginationHandler'));};CNBC_Carousel3.prototype.paginationHandler=function(e){this.itemIndex=e.target.hash.substr(1).split('-')[1]*this.options.itemsPerTransition;this.paginationAnimate();return false;};CNBC_Carousel3.prototype.insertNextPrevLinks=function(){this.prevLink=this.leftA.bind('click',$.proxy(this,'prevItem'));this.nextLink=this.rightA.bind('click',$.proxy(this,'nextItem'));};CNBC_Carousel3.prototype.nextItem=function(){if(!(this.rightA.hasClass('disabled'))){if(this.options.lazyLoad){if(this.options.lazyLoadNext){this.lazyLoadImg(this.itemIndex+this.options.itemsPerTransition*2,this.itemIndex+this.options.itemsPerTransition*3);}else{this.lazyLoadImg(this.itemIndex+this.options.itemsPerTransition,this.itemIndex+this.options.itemsPerTransition*2);}}
this.itemIndex=this.itemIndex+this.options.itemsPerTransition;this.animate(this.options.speed);return false;};};CNBC_Carousel3.prototype.prevItem=function(){if(!(this.leftA.hasClass('disabled'))){this.itemIndex=this.itemIndex-this.options.itemsPerTransition;this.animate(this.options.speed);return false;};};CNBC_Carousel3.prototype.updateBtnStyles=function(){if(this.options.pagination){this.paginationLinks.children('li').removeClass('current').eq(Math.ceil(this.itemIndex/this.options.itemsPerTransition)).addClass('current');}
if(this.options.nextPrevLinks){this.nextLink.add(this.prevLink).removeClass('disabled');if(this.itemIndex===(this.noOfItems-this.options.itemsPerPage)){this.nextLink.addClass('disabled');}else if(this.itemIndex===0){this.prevLink.addClass('disabled');}}};CNBC_Carousel3.prototype.startAuto=function(){var self=this;if(this.options.enableAuto){this.timer=setInterval(function(){self.nextItem();},self.options.autoSpeed);}};CNBC_Carousel3.prototype.hoverPause=function(){var self=this;if(this.options.enableAuto){this.container.hover(function(){clearInterval(self.timer);},function(){self.timer=setInterval(function(){self.nextItem();},self.options.autoSpeed);});}};CNBC_Carousel3.prototype.handleTouch=function(){var self=this;var hammertime=Hammer(self.container,{transform_always_block:true,transform_min_scale:0,drag_block_horizontal:true,drag_block_vertical:true,drag_lock_to_axis:true,drag_min_distance:0});hammertime.on("touchstart swipeleft swiperight dragup dragdown swipeup swipedown",function(e){switch(e.type){case'touchstart':if(self.options.enableAuto){clearInterval(self.timer);}
break;case'swiperight':e.gesture.preventDefault();self.prevItem();e.gesture.stopDetect();break;case'swipeleft':e.gesture.preventDefault();self.nextItem();e.gesture.stopDetect();break;case'dragup':e.gesture.stopDetect();break;case'dragdown':e.gesture.stopDetect();break;}});};CNBC_Carousel3.prototype.updateIndicator=function(){var self=this;var from=this.itemIndex+1;var to=this.itemIndex+this.options.itemsPerPage;$(".slideIndicator").text(from+"-"+to+" of "+self.noOfItems);};CNBC_Carousel3.prototype.animate=function(animationSpeed){var nextItem,pos,self=this;if(this.options.beforeTransitionCallback){this.options.beforeTransitionCallback();}
if(this.itemIndex>(this.noOfItems-this.options.itemsPerPage)){this.itemIndex=this.noOfItems-this.options.itemsPerPage;}
if(this.itemIndex<0){this.itemIndex=0;}
nextItem=this.items.eq(this.itemIndex);pos=nextItem.position();this.updateIndicator();if(Modernizr&&Modernizr.csstransforms&&Modernizr.csstransitions){animationSpeed=animationSpeed/1000;pos=(-1)*pos.left;this.runner.css({'transform':'translateX('+pos+'px)','-webkit-transform':'translateX('+pos+'px)','-o-transform':'translateX('+pos+'px)','-moz-transform':'translateX('+pos+'px)','-ms-transform':'translateX('+pos+'px)','transition':'All '+animationSpeed+'s ease','-webkit-transition':'All '+animationSpeed+'s ease','-o-transition':'All '+animationSpeed+'s ease','-moz-transition':'All '+animationSpeed+'s ease','-ms-transition':'All '+animationSpeed+'s ease'});}else{this.runner.stop(false,true).animate({left:-pos.left},animationSpeed,this.options.easing,function(){if(self.options.afterTransitionCallback){self.options.afterTransitionCallback();}});}
this.updateBtnStyles();};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Partner/xfinity_experience_surf.js?t=1415322278 */
var CNBC_Xfinity_Experience={};(function($){var XfinityURLs;CNBC_Settings=(typeof CNBC_Settings!='undefined'?CNBC_Settings:{});CNBC_Settings.baseurls=(typeof CNBC_Settings.baseurls!='undefined'?CNBC_Settings.baseurls:{});CNBC_Settings.baseurls.cnbc_base=(typeof CNBC_Settings.baseurls.cnbc_base!='undefined'?CNBC_Settings.baseurls.cnbc_base:'');CNBC_Xfinity_Experience.SSID='cnbc_xfinitycobrand_';CNBC_Xfinity_Experience.isInitialized=false;if(window.location.href.indexOf('qa.watchlist.cnbc.com')!=-1){CNBC_Settings.baseurls.cnbc_base='http://qa.pub.cnbc.com';}else if(window.location.href.indexOf('watchlist-stage.cnbc.com')!=-1){CNBC_Settings.baseurls.cnbc_base='http://stg-pub.cnbc.com';}
if(window.location.href.indexOf('stage.cnbcapps.cnbc.com/portfolio/')!=-1){CNBC_Settings.baseurls.cnbc_base='http://stg-pub.cnbc.com';}
if(window.location.href.indexOf('stage.data.cnbc.com/quotes')!=-1){CNBC_Settings.baseurls.cnbc_base='http://stg-pub.cnbc.com';}else if(window.location.href.indexOf('qa.data.cnbc.com/quotes')!=-1){CNBC_Settings.baseurls.cnbc_base='http://qa.pub.cnbc.com';}
if(CNBC_Settings&&CNBC_Settings.baseurls){XfinityURLs={register:CNBC_Settings.baseurls.register_base,login:CNBC_Settings.baseurls.login_base,fm:CNBC_Settings.baseurls.sc_base_protocol_agnostic,pub:CNBC_Settings.baseurls.pub_base_protocol_agnostic,watchlist:CNBC_Settings.baseurls.watchlist_base};CNBC_Xfinity_Experience.optionalOptin=CNBC_Settings.baseurls.optional_optin;}
else{XfinityURLs={register:'https://register.cnbc.com',login:'https://login.cnbc.com',fm:'//fm.cnbc.com',pub:'//www.cnbc.com',watchlist:'http://watchlist.cnbc.com'};CNBC_Xfinity_Experience.optionalOptin='101';}
CNBC_Xfinity_Experience.modules=[];CNBC_Xfinity_Experience.moduleNames=[];CNBC_Xfinity_Experience.optinDomains=['apps.cnbc.com/portfolio','watchlist.cnbc.com','watchlist-qa.cnbc.com','stage.cnbcapps.cnbc.com/portfolio/','watchlist-stage.cnbc.com'];CNBC_Xfinity_Experience.init=function(args){if(CNBC_Xfinity_Experience.isInitialized){return false;}
if(window.activePartnerExperience=='xfinity'){this.prepareHeader();this.prepareOptin();this.getModuleList();if(this.modules.length!=0){$('head').append('<link rel="stylesheet" href="'+XfinityURLs.fm+'/applications/cnbc.com/staticcontent/styles/xfinity.css" type="text/css" />');this.fetchModules();}
this.switchPlayerVars();this.switchURLs();this.performPassiveAuth();this.setPromoPackageMedium();CNBC_Xfinity_Experience.isInitialized=true;}};CNBC_Xfinity_Experience.setPromoPackageMedium=function(){if($('#promo_medium_section_top').length){var promoHTML=$('#promo_medium_section_top').html();$('#promo_medium_section_top').remove();$('#promo_medium_section_bottom').html(promoHTML);}};CNBC_Xfinity_Experience.prepareHeader=function(){var headerEl='<div id="prtnr_mod_header"></div>';$('body').prepend(headerEl);};CNBC_Xfinity_Experience.isUserOptedIn=function(){var i;var option;if(window.SURF&&window.SURF.globals&&window.SURF.globals.user&&window.SURF.globals.user.brand_data&&window.SURF.globals.user.brand_data.option){option=(typeof SURF.globals.user.brand_data.option=='string')?JSON.parse(SURF.globals.user.brand_data.option):SURF.globals.user.brand_data.option;if(option.length<1){return false;}
for(i=0;i<option.length;i++){if(option[i]=='XFINITY-CNBC'){return true;}}}
return false;};CNBC_Xfinity_Experience.prepareOptin=function(){if(window.SURF&&window.SURF.globals&&window.SURF.globals.user){var isUserOptedIn=CNBC_Xfinity_Experience.isUserOptedIn();if(!isUserOptedIn&&this.doesDomainMatch()){var overlayEl='<div id="prtnr_mod_overlay"></div>';$('body').prepend(overlayEl);}};};CNBC_Xfinity_Experience.doesDomainMatch=function(){for(var i=0,len=CNBC_Xfinity_Experience.optinDomains.length;i<len;i++){if(window.location.href.indexOf(CNBC_Xfinity_Experience.optinDomains[i])!=-1){return true;}}
return false;}
CNBC_Xfinity_Experience.getModuleList=function(){var thisObj=this;var $availableModules=$('[id^="prtnr_mod_"]');$availableModules.each(function(){var $availableModule=$(this);var moduleName='xfinity_'+$availableModule.attr('id').substring(10);thisObj.modules.push({'id':moduleName,'element':$availableModule});thisObj.moduleNames.push(moduleName);});};CNBC_Xfinity_Experience.fetchModules=function(){var thisObj=this;var url=XfinityURLs.pub+'/recirculationmodules/get?p=xfinity_partner&c='+this.moduleNames.join('|');var ajaxCall=$.ajax({url:url,dataType:'jsonp',jsonpCallback:'recirculationHandler',cache:true,async:false,success:function(data){thisObj.paintModules(data)
thisObj.initOptin();thisObj.initCarouselLib();}});};CNBC_Xfinity_Experience.initCarouselLib=function(){var $xfinityVideoContainer=$('#xfinity_videos_tab');if($xfinityVideoContainer.length){var myCarousel_prtnr_mod_videos=new CNBC_Carousel3();myCarousel_prtnr_mod_videos.init({itemsPerPage:5,itemsPerTransition:5,speed:500,swipable:true,nextPrevLinks:true,container:'prtnr_mod_videos',currentNodeClass:'currentNode',lazyLoad:true,lazyLoadNext:true});$xfinityVideoContainer.css({display:'inline-block'});if(myCarousel_prtnr_mod_videos.leftA!=undefined){myCarousel_prtnr_mod_videos.leftA.on('click',function(){s.linkTrackVars='eVar48,prop48';s.eVar48='videogallerycarousel:xfinity:tab:left:'+CNBC_Settings.pageNodeId;s.prop48='videogallerycarousel:xfinity:tab:left:'+CNBC_Settings.pageNodeId;s.tl(this,'o','Video Gallery Carousel Module');});}
if(myCarousel_prtnr_mod_videos.rightA!=undefined){myCarousel_prtnr_mod_videos.rightA.on('click',function(){s.linkTrackVars='eVar48,prop48';s.eVar48='videogallerycarousel:xfinity:tab:right:'+CNBC_Settings.pageNodeId;s.prop48='videogallerycarousel:xfinity:tab:right:'+CNBC_Settings.pageNodeId;s.tl(this,'o','Video Gallery Carousel Module');});}}};CNBC_Xfinity_Experience.paintModules=function(data){for(var i=0,len=CNBC_Xfinity_Experience.modules.length;i<len;i++){var module=CNBC_Xfinity_Experience.modules[i];module.element.html(data[module.id]);}};CNBC_Xfinity_Experience.switchPlayerVars=function(){if(typeof CNBC_Player!='undefined'&&CNBC_Player.prototype&&CNBC_Player.prototype.drawPlayer){var draw=CNBC_Player.prototype.drawPlayer;var brandedSiteSection='cnbc_xfinitycobrand_embed';var nid=CNBC_Partner_Experience.pageNodeId;if(CNBC_Partner_Experience.partnerHomeNodes.indexOf(nid)!=-1){brandedSiteSection='cnbc_xfinitycobrand_money';}else if(typeof CNBC_Settings!='undefined'&&CNBC_Settings.pageNodeId=='100746233'){brandedSiteSection='cnbc_xfinitycobrand_homepage';}
CNBC_Player.prototype.drawPlayer=function(){this._args.flashVars.branded_player='Xfinity Money';this._args.flashVars.branded_site_section=brandedSiteSection;draw.call(this);};}};CNBC_Xfinity_Experience.switchURLs=function(){var registerLink=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent('https:'+CNBC_Settings.baseurls.pub_base_protocol_agnostic+'/application/auth/xfinity-active?endpoint='+window.location.href.split('?')[0]);var signInLink=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent('https:'+CNBC_Settings.baseurls.pub_base_protocol_agnostic+'/application/auth/xfinity-active?endpoint='+window.location.href.split('?')[0]);var memberCenterLink='http://xfinity.comcast.net/profile';var signoutLink=XfinityURLs.login+'/cas/logout?targetService='+encodeURIComponent(''+XfinityURLs.register+'/sauth/rs/logout/20035')+'&service='+encodeURIComponent('https:'+CNBC_Settings.baseurls.pub_base_protocol_agnostic+'/application/auth/logout?service='+window.location.href.split('?')[0]);this.signoutLink=signoutLink;$('#unreg-user li.first a').attr('href',registerLink);$('#unreg-user li.cnbcRegister a').attr('href',registerLink);$('#unreg_user a.cnbcRegister').attr('onClick','');$('#unreg_user a.cnbcRegister').attr('href',registerLink);$('#signin').unbind();$('#signin').click(function(event){window.location.href=signInLink;});$('#unreg_user a.cnbcSignIn').attr('onClick','');$('#unreg_user a.cnbcSignIn').attr('href',signInLink);$('#reg-user li.first a').attr('href',memberCenterLink);$('#reg_user a.cnbcRegister').attr('onClick','');$('#reg_user a.cnbcRegister').attr('href',memberCenterLink);$('#signout').unbind();$('#signout').click(function(event){window.location.href=signoutLink;});$('#reg_user a.cnbcSignIn').attr('onClick','');$('#reg_user a.cnbcSignIn').attr('href',signoutLink);var navs=$('#unreg_user a');for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase()=='REGISTER'){$nav.attr('href',registerLink);}
if($nav.text().toUpperCase()=='SIGN IN'){$nav.attr('onClick','');$nav.attr('href',signInLink);}}
var navs=$('#reg_user a');for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase()=='MEMBER CENTER'){$nav.attr('href',memberCenterLink);}
if($nav.text().toUpperCase()=='SIGN OUT'){$nav.attr('onClick','');$nav.attr('href',signoutLink);}}
var pwLinks=[];pwLinks[0]=$('nav#menu-main #nav a');pwLinks[1]=$('#pageHeadNav a');pwLinks[2]=$('#subnav_15839069 a');pwLinks[3]=$('#cnbc-footer #site-links table a');pwLinks[4]=$('.FOOTLL_B .ll_bullet a');pwLinks[5]=$('nav.cnbc-menu #nav a');pwLinks[6]=$('.cnbc-new-footer table a');$.each(pwLinks,CNBC_Xfinity_Experience.changePWLinks);};CNBC_Xfinity_Experience.getLogoutUrl=function(){return this.signoutLink;};CNBC_Xfinity_Experience.changePWLinks=function(index,navs){var portfolio=''+XfinityURLs.login+'/authproxy/portfolio/auth.do?Action=portfolio';var portfolioURL=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent(portfolio);var watchlistURL=XfinityURLs.register+'/sauth/rs/authenticate/20035?target='+encodeURIComponent(XfinityURLs.watchlist);for(i=0;i<navs.length;i++){var $nav=$(navs[i]);if($nav.text().toUpperCase().indexOf('PORTFOLIO')!=-1){$nav.attr('href',portfolioURL);}
if($nav.text().toUpperCase().indexOf('WATCHLIST')!=-1){$nav.attr('href',watchlistURL);}}}
CNBC_Xfinity_Experience.initOptin=function(){var thisObj=this;if($('#prtnr_mod_overlay').length!=0){$("#xfinity_overlay_background").height($(document).height());var $ov=$("#xfinity_overlay");var top=$(window).scrollTop()-($ov.outerHeight()/2);$ov.css("margin-top",top);$('#overlayClose').click(function(e){if(document.referrer!=''&&document.referrer.indexOf('register.cnbc.com')==-1&&document.referrer.indexOf('watchlist.cnbc.com')==-1){window.location.href=document.referrer;}else{window.location.href=''+XfinityURLs.pub+'/id/100291100';}});$('#noThanks').click(function(e){if(document.referrer!=''&&document.referrer.indexOf('register.cnbc.com')==-1&&document.referrer.indexOf('watchlist.cnbc.com')==-1){window.location.href=document.referrer;}else{window.location.href=''+XfinityURLs.pub+'/id/100291100';}});$('#submitOptin').click(function(e){e.preventDefault();thisObj.submitOptin();});}};CNBC_Xfinity_Experience.submitOptin=function(){var thisObj=this;var rulesAccepted=false,offersAccepted=false;if($('#acceptRules').is(':checked')){rulesAccepted=true;$('#rulesErrMsg').hide();}else{rulesAccepted=false;$('#rulesErrMsg').show();$('#acceptRules').change(function(){$('#rulesErrMsg').toggle();});return;}
if($('#acceptOffers').is(':checked')){offersAccepted=true;}else{offersAccepted=false;}
if(rulesAccepted){thisObj.recordOptin(offersAccepted);}};CNBC_Xfinity_Experience.recordOptin=function(offersAccepted){if(CNBC_Xfinity_Experience.isUserOptedIn()){CNBC_Xfinity_Experience.closeOverlay();return false;};if(!SURF||!SURF.globals||!SURF.globals.session||!SURF.globals.session.uid){return false;}
var uid=SURF.globals.session.uid,signature='',updateObj={},option=(SURF.globals.user.brand_data)?SURF.globals.user.brand_data.option:'',option_date=(SURF.globals.user.brand_data)?SURF.globals.user.brand_data.option_date:'',optionArray=(option)?JSON.parse(option):'',option_dateArray=(option_date)?JSON.parse(option_date):'',optLength=optionArray.length,newOptData,newOptDateData,user_data;if(optLength&&optionArray.indexOf("XFINITY-CNBC")==-1){optionArray.push('XFINITY-CNBC');option_dateArray.push('XFINITY-CNBC|'+new Date().getTime());newOptData=optionArray;newOptDateData=option_dateArray;}else if(optLength==0){newOptData=['XFINITY-CNBC'];newOptDateData=['XFINITY-CNBC|'+new Date().getTime()];};user_data={'option':JSON.stringify(newOptData),'option_date':JSON.stringify(newOptDateData)};updateObj.uid=uid;updateObj.signature=signature;updateObj.user_data=user_data;SURF.event.bind(SURF.events.EDIT_ACCOUNT,function(event,user){CNBC_Xfinity_Experience.closeOverlay();});SURF.update(updateObj);return true;}
CNBC_Xfinity_Experience.closeOverlay=function(){$("#xfinity_overlay_background").remove();$("#xfinity_overlay").remove();};CNBC_Xfinity_Experience.getYPosition=function(){var y;if(self.pageYOffset){y=self.pageYOffset;}else if(document.documentElement&&document.documentElement.scrollTop){y=document.documentElement.scrollTop;}else if(document.body){y=document.body.scrollTop;}
return y;};CNBC_Xfinity_Experience.checkBrowser=function(){var N=navigator.appName,ua=navigator.userAgent,tem;var M=ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(M&&(tem=ua.match(/version\/([\.\d]+)/i))!=null)M[2]=tem[1];M=M?[M[1],M[2]]:[N,navigator.appVersion,'-?'];return M;};CNBC_Xfinity_Experience.performPassiveAuth=function(){if(CNBC_Xfinity_Experience.checkBrowser().indexOf('MSIE')!=-1){return;}
var thisObj=this;var override=false;if(CNBC_Partner_Experience.checkReferrer(document.referrer)){override=true;}
var xfinity_passive_authenticated=CNBC_Partner_Experience.readCookie('xfinity_passive_authenticated');if(xfinity_passive_authenticated==''||override){var authSrc=''+XfinityURLs.register+'/sauth/rs/authenticate/20035?passive=true&target='+encodeURIComponent('https:'+CNBC_Settings.baseurls.pub_base_protocol_agnostic+'/application/auth/xfinity-passive');CNBC_Partner_Experience.createCookie('xfinity_passive_authenticated','',0);var iframeEl='<iframe scrolling="no" frameborder="no" src="'+authSrc+'" style="height:0;width:0;"></iframe>';$('body').append(iframeEl);var authPoll=setInterval(function(){xfinity_passive_authenticated=CNBC_Partner_Experience.readCookie('xfinity_passive_authenticated');if(xfinity_passive_authenticated!=''){clearInterval(authPoll);}
if(xfinity_passive_authenticated=='true'){if(window.CNBC_Surf_Mediator){CNBC_Surf_Mediator.updateHeader();}}},900);setTimeout(function(){clearInterval(authPoll);},45000);}};CNBC_Xfinity_Experience.changeLoginState=function(){var userName=CNBC_Partner_Experience.readCookie('SUBSCRIBERINFO');userName=userName?userName:"Guest";var welcomeTxt='Welcome, '+userName;$('#login-container > span').text(welcomeTxt);$('#cnbc_username').text(welcomeTxt);$('#unreg-user').hide();$('#reg-user').removeClass('hide').show();$('#unreg_user').hide();$('#reg_user').removeClass('hide').show();if(typeof CNBC_Signin!='undefined'){CNBC_Signin.hideOverLay=function(){};}};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/TableSorter/table_sorter.1.js?t=1415322278 */
(function($){$.fn.CNBC_table_sorter=function(options){var defaults={exclude:{'class':['arrow'],'tag':['img']},minRows:3},arUpDown='<span class="ar-up-down"><span class="icon arrow_up ar-up"></span><span class="icon arrow_down ar-down"></span></span>',arUp='<span class="ar-up-only"><span class="icon arrow_up"></span></span>',arDown='<span class="ar-down-only"><span class="icon arrow_down"></span></span>';return this.each(function(){var $tbl=$(this),$tbody=$tbl.find('tbody'),$tbodyTr=$tbody.find('tr'),$tbodyClone,$tbodyTrClone,$thead=$tbl.find('thead'),opts=$.extend({},defaults,options),exlcudedCols=[],$theadTr=$thead.find('tr');init();function init(){if($tbodyTr.length<opts.minRows){return false;};$tbl.addClass('table-sorter');checkSortability();setHeaderArrows();clsHeadersReset();attachEvents();};function clsHeadersReset(){$theadTr.children().each(function(i,e){$(e).removeClass('sortable');if($.inArray(i,exlcudedCols)==-1){$(e).removeClass('dir asc desc').addClass('sortable');}else{$(e).removeClass('dir asc desc').addClass('none-sortable');};});};function setHeaderArrows(){$theadTr.children().each(function(i,e){$(e).find('div.chart-text-container').append(arUpDown).append(arUp).append(arDown);});};function checkSortability(){var $tbodyClone=$tbody.clone(),$tbodyTrClone=$tbodyClone.find('tr'),emptyCellsCount={},rows=$tbodyTrClone.length;$tbodyTrClone.each(function(i,e){var topIndex=i;$(e).children().each(function(i,e){var cellIndex=i;if($.inArray(cellIndex,exlcudedCols)==-1){$.each(opts.exclude.tag,function(ind,el){if($(e).find(el).length>0){exlcudedCols.push(cellIndex);};});$.each(opts.exclude['class'],function(ind,el){if($(e).hasClass(el)){exlcudedCols.push(cellIndex);};});if(!$.trim($(e).text())){if(topIndex==0){emptyCellsCount[i]=0;};emptyCellsCount[i]+=1;emptyCellsCount[i]+=1;};};});});for(var p in emptyCellsCount){if(emptyCellsCount.hasOwnProperty(p)&&typeof emptyCellsCount[p]=='number'&&emptyCellsCount[p]==rows){exlcudedCols.push(p*1);};};clsHeadersReset();};function attachEvents(){$theadTr.on('click',function(e){var target=e.target;var cellIndex;if(target.tagName!='TH'){while(target.tagName!='TH'){target=target.parentNode;};};cellIndex=target.cellIndex;if($.inArray(cellIndex,exlcudedCols)==-1){$tbodyClone=$tbody.clone();$tbodyTrClone=$tbodyClone.find('tr');sort(cellIndex,getSetDirection(target));};});};function getSetDirection(el){var $el=$(el);if(!$el.hasClass('dir')){clsHeadersReset(exlcudedCols);$el.addClass('dir asc');return'asc';}else{if($el.hasClass('asc')){clsHeadersReset(exlcudedCols);$el.addClass('dir desc');return'desc';}else if($el.hasClass('desc')){clsHeadersReset(exlcudedCols);$el.addClass('dir asc');return'asc';}};};function sort(cellIndex,direction){var sortedRes;var tempFragment=$tbody.clone();if(isNum($($($tbodyTrClone[0]).children()[cellIndex]).text())){sortedRes=sortNumber($tbodyTrClone,direction,cellIndex);}else{sortedRes=sortDefault($tbodyTrClone,direction,cellIndex);};sortedRes.each(function(i,e){$(tempFragment.children()[i]).replaceWith($(e));});$tbody.html(tempFragment.html());};function isNum(val){var val=val.replace(new RegExp(/[$]/g),"");return!isNaN(parseFloat(val))};function sortDefault(node,direction,cellIndex){node.sort(function(a,b){var $a=$(a);var $b=$(b);var aText=$.trim($($a.children()[cellIndex]).text());var bText=$.trim($($b.children()[cellIndex]).text());if(direction=='asc'){return((aText<bText)?-1:((aText>bText)?1:0));}else if(direction=='desc'){return((bText<aText)?-1:((bText>aText)?1:0));};});return node;};function sortNumber(node,direction,cellIndex){node.sort(function(a,b){var $a=$(a);var $b=$(b);var aText=$.trim($($a.children()[cellIndex]).text()).replace(new RegExp(/[$]/g),"");var bText=$.trim($($b.children()[cellIndex]).text()).replace(new RegExp(/[$]/g),"");aText=parseFloat(aText);bText=parseFloat(bText);aText=(isNaN(aText))?0:aText;bText=(isNaN(bText))?0:bText;if(direction=='asc'){return aText-bText;};if(direction=='desc'){return bText-aText;};});return node;};});};}(jQuery));


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/International/internationlization.2.js?t=1415322278 */
var CNBC_Regional={};(function($){CNBC_Regional._config={"USA":{"edition":"USA","nid":"100746233","link":"/","name":"United States","msgName":"U.S.","mobileMsgName":"U.S.","mobileAlternate":"WORLD","menuName":"U.S."},"WORLD":{"edition":"WORLD","nid":"100746255","link":"/id/100746255","name":"International","msgName":"new international","mobileMsgName":"International","mobileAlternate":"USA","menuName":"INTL"}};CNBC_Regional._defaultEdition='USA';CNBC_Regional._cnbcBaseURL='';CNBC_Regional._region=CNBC_Utils.getQueryStringParamValue('region');CNBC_Regional._msg='<span>Based on your location, the $msgName$ edition will be set as your cnbc.com home page&nbsp;&nbsp;</span>';CNBC_Regional._links='<li><a href="$link$"$selected$ data-edition="$edition$">$name$</a></li>';CNBC_Regional._radio='<input type="radio" name="region" value="$edition$"$checked$>$name$&nbsp;&nbsp;';CNBC_Regional._cookieName='geo_cookie';CNBC_Regional.$_linksContainer=$('ul#home-geo-container');CNBC_Regional.$_msgContainer=$('#regions-msg-container');CNBC_Regional.$_msgContainerHome=$('#site-set');CNBC_Regional.$_linksContainerHome=$('#home-geo-container');CNBC_Regional._radioHome='<li><label><input type="radio" name="region-home" value="$edition$"$checked$><span class="radio-site-type">$name$</span></input></label></li>';CNBC_Regional.$_navHome=$('#site-set #homeLabel');CNBC_Regional._navAHome='HOME ';CNBC_Regional.init=function(args){args=args||{};this._config=args.config||this._config;this._nid=args.nid||'100746233';this._defaultEdition=args.defaultEdition||this._defaultEdition;var edition=null;var cookieEdition=CNBC_Utils.readCookie(this._cookieName);this._cnbcBaseURL=args.cnbc_base_url||this._cnbcBaseURL;if(cookieEdition==null||cookieEdition==''){edition=this.prepareEditionForRegion();if(edition!=null){CNBC_Utils.createCookie(this._cookieName,edition,87658);this.renderMessage(edition);}}else{edition=cookieEdition;}
if(this._config[edition]['navAHome']!==undefined){this._navAHome=this._config[edition]['navAHome']+' ';}
this.renderHome(edition);this.attachEventsHome(edition);};CNBC_Regional._getEdition=function(){var edition=null;var cookieEdition=CNBC_Utils.readCookie(this._cookieName);if(cookieEdition==null||cookieEdition==''){edition=this.prepareEditionForRegion();if(edition!=null){CNBC_Utils.createCookie(this._cookieName,edition,87658);this.renderMessage(edition);}}else{edition=cookieEdition;}
return edition;}
CNBC_Regional.getHomepageUrl=function(){var edition=this._getEdition();var homeurl=this._config[edition].link;return homeurl}
CNBC_Regional.prepareEditionForRegion=function(){var edition=null;var nodeEdition=this.getEditionForNode(this._nid);if(nodeEdition!=this._defaultEdition){edition=this.getEditionForRegion(nodeEdition);}else{edition=nodeEdition;}
return edition;};CNBC_Regional.getEditionForNode=function(nid){nid=nid||this._nid;var edition=null;$.each(this._config,function(index,el){if(nid==el.nid){edition=index;}});return edition;};CNBC_Regional.getEditionForRegion=function(region){var region=region||this._region;var edition=null;if(region){var editionConfig=this._config[region.toUpperCase()];if(editionConfig){edition=editionConfig.edition;}}
else{edition=this._defaultEdition;}
return edition;};CNBC_Regional.renderHome=function(edition){var $this=this;var homeHtnl='';if(edition==null){edition=this._defaultEdition;}
$.each(this._config,function(index,el){if(index==edition){el['checked']=' checked="checked"';}else{el['checked']='';}
homeHtnl+=$this.processHTML($this._radioHome,el);});this.$_navHome.html(this._navAHome+this._config[edition]['menuName']);this.$_linksContainerHome.append(homeHtnl);};CNBC_Regional.renderMessage=function(edition){var $this=this;var msg=this.processHTML(this._msg,this._config[edition]);$.each(this._config,function(index,el){if(index==edition){el['checked']=' checked="checked"';}else{el['checked']='';}
msg+=$this.processHTML($this._radio,el);});this.$closeButton=$('a.close',this.$_msgContainer);$('.regions-msg',this.$_msgContainer).prepend(msg);this.attachEvents(edition);this.$_msgContainer.removeClass('hide');};CNBC_Regional.attachEvents=function(ed){var $this=this;this.$closeButton.click(function(){$this.$_msgContainer.remove();});$('a.save',this.$_msgContainer).click(function(){var edition=$("input[name=region]:checked",$this.$_msgContainer).val();CNBC_Utils.createCookie($this._cookieName,edition,87658);if(edition!=ed){window.location.href=$this._cnbcBaseURL+$this._config[edition]['link'];}else{$this.$_msgContainer.remove();}});};CNBC_Regional.attachEventsHome=function(ed){var $this=this;$('li',this.$_linksContainer).click(function(clickEvent){var edition=$("input[name=region-home]",this).val();CNBC_Utils.createCookie($this._cookieName,edition,87658);if(edition!=ed){window.location.href=$this._cnbcBaseURL+$this._config[edition]['link'];}});};CNBC_Regional.processHTML=function(text,obj){$.each(obj,function(index,el){var key='$'+index+'$';text=text.replace(key,el);});return text;};})(jQuery);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Touch/CNBC_TabletFriendlyTouch.js?t=1415322278 */
var CNBC_TabletFriendlyTouch=function(){};(function(){CNBC_TabletFriendlyTouch.prototype={targetElements:null,dataWasClicked:'data-wc',dataClickEventAttribName:'data-onclick',init:function(args){var self=this;for(var param in args){eval('this.'+param+' = args.'+param+';');}
for(var groupID in this.targetElements){this.targetElements[groupID].each(function(key,element){var dataClickEvent=$(element).attr(self.dataClickEventAttribName);if(typeof(dataClickEvent)!='undefined'){self._attachClickEvent($(element),groupID);}});}},clearClickedAttrib:function(groupID){var self=this;this.targetElements[groupID].each(function(key,element){var dataClickEvent=$(element).attr(self.dataClickEventAttribName);if(typeof(dataClickEvent)!='undefined'){$(element).attr(self.dataWasClicked,'false');}});},_attachClickEvent:function(element,groupID){var self=this;var thisElement=element;var thisGroupID=groupID;element.click(function(e){var wasClicked=thisElement.attr(self.dataWasClicked)||'false';self.clearClickedAttrib(thisGroupID);if(wasClicked=='false'){thisElement.attr(self.dataWasClicked,'true');e.stopImmediatePropagation();return false;}});}};if(CNBC_Utils.isTouchEnabled()==true){var tabletFriendlyTouch1=new CNBC_TabletFriendlyTouch();tabletFriendlyTouch1.init({targetElements:{'1':$('.cnbc-menu').find('a'),'2':$('.tickers-container').find('.tickers')}});}})($);


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/twitter/widgets.js?t=1415322278 */
(function(e,t){function y(e){for(var t=1,n;n=arguments[t];t++)for(var r in n)e[r]=n[r];return e}function b(e){return Array.prototype.slice.call(e)}function E(e,t){for(var n=0,r;r=e[n];n++)if(t==r)return n;return-1}function S(){var e=b(arguments),t=[];for(var n=0,r=e.length;n<r;n++)e[n].length>0&&t.push(e[n].replace(/\/$/,""));return t.join("/")}function x(e,t,n){var r=t.split("/"),i=e;while(r.length>1){var s=r.shift();i=i[s]=i[s]||{}}i[r[0]]=n}function T(){}function N(e,t){this.id=this.path=e,this.force=!!t}function C(e,t){this.id=e,this.body=t,typeof t=="undefined"&&(this.path=this.resolvePath(e))}function k(e,t){this.deps=e,this.collectResults=t,this.deps.length==0&&this.complete()}function L(e,t){this.deps=e,this.collectResults=t}function A(){for(var e in r)if(r[e].readyState=="interactive")return c[r[e].id]}function O(e,t){var r;return!e&&n&&(r=l||A()),r?(delete c[r.scriptId],r.body=t,r.execute()):(f=r=new C(e,t),a[r.id]=r),r}function M(){var e=b(arguments),t,n;return typeof e[0]=="string"&&(t=e.shift()),n=e.shift(),O(t,n)}function _(e,t){var n=t.id||"",r=n.split("/");r.pop();var i=r.join("/");return e.replace(/^\./,i)}function D(e,t){function r(e){return C.exports[_(e,t)]}var n=[];for(var i=0,s=e.length;i<s;i++){if(e[i]=="require"){n.push(r);continue}if(e[i]=="exports"){t.exports=t.exports||{},n.push(t.exports);continue}n.push(r(e[i]))}return n}function P(){var e=b(arguments),t=[],n,r;return typeof e[0]=="string"&&(n=e.shift()),w(e[0])&&(t=e.shift()),r=e.shift(),O(n,function(e){function s(){var i=D(b(t),n),s;typeof r=="function"?s=r.apply(n,i):s=r,typeof s=="undefined"&&(s=n.exports),e(s)}var n=this,i=[];for(var o=0,u=t.length;o<u;o++){var a=t[o];E(["require","exports"],a)==-1&&i.push(_(a,n))}i.length>0?H.apply(this,i.concat(s)):s()})}function H(){var e=b(arguments),t,n;typeof e[e.length-1]=="function"&&(t=e.pop()),typeof e[e.length-1]=="boolean"&&(n=e.pop());var r=new k(B(e,n),n);return t&&r.then(t),r}function B(e,t){var n=[];for(var r=0,i;i=e[r];r++)typeof i=="string"&&(i=j(i)),w(i)&&(i=new L(B(i,t),t)),n.push(i);return n}function j(e){var t,n;for(var r=0,i;i=H.matchers[r];r++){var s=i[0],o=i[1];if(t=e.match(s))return o(e)}throw new Error(e+" was not recognised by loader")}function I(){return e.using=h,e.provide=p,e.define=d,e.loadrunner=v,F}function q(e){for(var t=0;t<H.bundles.length;t++)for(var n in H.bundles[t])if(n!=e&&E(H.bundles[t][n],e)>-1)return n}var n=e.attachEvent&&!e.opera,r=t.getElementsByTagName("script"),i=0,s,o=t.createElement("script"),u={},a={},f,l,c={},h=e.using,p=e.provide,d=e.define,v=e.loadrunner;for(var m=0,g;g=r[m];m++)if(g.src.match(/loadrunner\.js(\?|#|$)/)){s=g;break}var w=Array.isArray||function(e){return e.constructor==Array};T.prototype.then=function(t){var n=this;return this.started||(this.started=!0,this.start()),this.completed?t.apply(e,this.results):(this.callbacks=this.callbacks||[],this.callbacks.push(t)),this},T.prototype.start=function(){},T.prototype.complete=function(){if(!this.completed){this.results=b(arguments),this.completed=!0;if(this.callbacks)for(var t=0,n;n=this.callbacks[t];t++)n.apply(e,this.results)}},N.loaded=[],N.prototype=new T,N.prototype.start=function(){var e=this,t,n,r;return(r=a[this.id])?(r.then(function(){e.complete()}),this):((t=u[this.id])?t.then(function(){e.loaded()}):!this.force&&E(N.loaded,this.id)>-1?this.loaded():(n=q(this.id))?H(n,function(){e.loaded()}):this.load(),this)},N.prototype.load=function(){var t=this;u[this.id]=t;var n=o.cloneNode(!1);this.scriptId=n.id="LR"+(++i),n.type="text/javascript",n.async=!0,n.onerror=function(){throw new Error(t.path+" not loaded")},n.onreadystatechange=n.onload=function(n){n=e.event||n;if(n.type=="load"||E(["loaded","complete"],this.readyState)>-1)this.onreadystatechange=null,t.loaded()},n.src=this.path,l=this,r[0].parentNode.insertBefore(n,r[0]),l=null,c[n.id]=this},N.prototype.loaded=function(){this.complete()},N.prototype.complete=function(){E(N.loaded,this.id)==-1&&N.loaded.push(this.id),delete u[this.id],T.prototype.complete.apply(this,arguments)},C.exports={},C.prototype=new N,C.prototype.resolvePath=function(e){return S(H.path,e+".js")},C.prototype.start=function(){var e,t,n=this,r;this.body?this.execute():(e=C.exports[this.id])?this.exp(e):(t=a[this.id])?t.then(function(e){n.exp(e)}):(bundle=q(this.id))?H(bundle,function(){n.start()}):(a[this.id]=this,this.load())},C.prototype.loaded=function(){var e,t,r=this;n?(t=C.exports[this.id])?this.exp(t):(e=a[this.id])&&e.then(function(e){r.exp(e)}):(e=f,f=null,e.id=e.id||this.id,e.then(function(e){r.exp(e)}))},C.prototype.complete=function(){delete a[this.id],N.prototype.complete.apply(this,arguments)},C.prototype.execute=function(){var e=this;typeof this.body=="object"?this.exp(this.body):typeof this.body=="function"&&this.body.apply(window,[function(t){e.exp(t)}])},C.prototype.exp=function(e){this.complete(this.exports=C.exports[this.id]=e||{})},k.prototype=new T,k.prototype.start=function(){function t(){var t=[];e.collectResults&&(t[0]={});for(var n=0,r;r=e.deps[n];n++){if(!r.completed)return;r.results.length>0&&(e.collectResults?r instanceof L?y(t[0],r.results[0]):x(t[0],r.id,r.results[0]):t=t.concat(r.results))}e.complete.apply(e,t)}var e=this;for(var n=0,r;r=this.deps[n];n++)r.then(t);return this},L.prototype=new T,L.prototype.start=function(){var e=this,t=0,n=[];return e.collectResults&&(n[0]={}),function r(){var i=e.deps[t++];i?i.then(function(t){i.results.length>0&&(e.collectResults?i instanceof L?y(n[0],i.results[0]):x(n[0],i.id,i.results[0]):n.push(i.results[0])),r()}):e.complete.apply(e,n)}(),this},P.amd={};var F=function(e){return e(H,M,F,define)};F.Script=N,F.Module=C,F.Collection=k,F.Sequence=L,F.Dependency=T,F.noConflict=I,e.loadrunner=F,e.using=H,e.provide=M,e.define=P,H.path="",H.matchers=[],H.matchers.add=function(e,t){this.unshift([e,t])},H.matchers.add(/(^script!|\.js$)/,function(e){var t=new N(e.replace(/^\$/,H.path.replace(/\/$/,"")+"/").replace(/^script!/,""),!1);return t.id=e,t}),H.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(e){return new C(e)}),H.bundles=[],s&&(H.path=window.__twttrLoadRunnerPath||s.getAttribute("data-path")||s.src.split(/loadrunner\.js/)[0]||"",(main=s.getAttribute("data-main"))&&H.apply(e,main.split(/\s*,\s*/)).then(function(){}))})(this,document);window.__twttrlr=loadrunner.noConflict();__twttrlr(function(using,provide,loadrunner,define){provide("util/util",function(e){function t(e){return e&&String(e).toLowerCase().indexOf("[native code]")>-1}function n(e){return o(arguments,function(t){s(t,function(t,n){e[t]=n})}),e}function r(e){return s(e,function(t,n){v(n)&&(r(n),m(n)&&delete e[t]),(n===undefined||n===null||n==="")&&delete e[t]}),e}function s(e,t){for(var n in e)(!e.hasOwnProperty||e.hasOwnProperty(n))&&t(n,e[n]);return e}function c(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function h(e,t){return e==c(t)}function p(e,t,n){return n=n||[],function(){var r=a(arguments,function(e){return e});return e.apply(t,n.concat(r))}}function v(e){return e===Object(e)}function m(e){if(!v(e))return!1;if(Object.keys)return!Object.keys(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function g(e,t){window.setTimeout(function(){e.call(t||null)},0)}var i=function(){var e=Array.prototype.indexOf;return t(e)?function(t,n){return t?e.apply(t,[n]):-1}:function(e,t){if(!e)return-1;for(var n=0,r=e.length;n<r;n++)if(t==e[n])return n;return-1}}(),o=function(){var e=Array.prototype.forEach;return t(e)?function(t,n){if(!t)return;if(!n)return;e.apply(t,[n])}:function(e,t){if(!e)return;if(!t)return;for(var n=0,r=e.length;n<r;n++)t(e[n],n)}}(),u=function(){var e=Array.prototype.filter;return t(e)?function(t,n){return t?n?e.apply(t,[n]):t:null}:function(e,t){if(!e)return null;if(!t)return e;var n=[],r=0,i=e.length;for(;r<i;r++)t(e[r])&&n.push(e[r]);return n}}(),a=function(){var e=Array.prototype.map;return t(e)?function(t,n){return t?n?e.apply(t,[n]):t:null}:function(e,t){if(!e)return null;if(!t)return e;var n=[],r=0,i=e.length;for(;r<i;r++)n.push(t(e[r]));return n}}(),f=function(){var e=Array.prototype.reduce;return t(e)?function(t,n,r){return t?n?e.apply(t,[n,r]):r:null}:function(e,t,n){if(!e)return null;if(!t)return n;var r=n,i=0,s=e.length;for(;i<s;i++)r=t(r,e[i],i,e);return r}}(),l=function(){var e=String.prototype.trim;return t(e)?function(t){return t&&e.apply(t)}:function(e){return e&&e.replace(/(^\s+|\s+$)/g,"")}}(),d=t(Object.create)?Object.create:function(e){function t(){}return t.prototype=e,new t};e({aug:n,async:g,compact:r,forIn:s,forEach:o,filter:u,map:a,reduce:f,trim:l,indexOf:i,isNative:t,isObject:v,isEmptyObject:m,createObject:d,bind:p,toType:c,isType:h})});provide("util/events",function(e){using("util/util",function(t){var n={bind:function(e,t){return this._handlers=this._handlers||{},this._handlers[e]=this._handlers[e]||[],this._handlers[e].push(t)},unbind:function(e,n){if(!this._handlers[e])return;if(n){var r=t.indexOf(this._handlers[e],n);r>=0&&this._handlers[e].splice(r,1)}else this._handlers[e]=[]},trigger:function(e,n){var r=this._handlers&&this._handlers[e];n.type=e,t.forEach(r,function(e){t.async(t.bind(e,this,[n]))})}};e({Emitter:n})})});provide("$xd/json2.js",function(exports){window.JSON||(window.JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)r=rep[n],typeof r=="string"&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();exports();loadrunner.Script.loaded.push("$xd/json2.js")});provide("util/querystring",function(e){function t(e){return encodeURIComponent(e).replace(/\+/g,"%2B").replace(/'/g,"%27")}function n(e){return decodeURIComponent(e)}function r(e){var n=[],r;for(r in e)e[r]!==null&&typeof e[r]!="undefined"&&n.push(t(r)+"="+t(e[r]));return n.sort().join("&")}function i(e){var t={},r,i,s,o;if(e){r=e.split("&");for(o=0;s=r[o];o++)i=s.split("="),i.length==2&&(t[n(i[0])]=n(i[1]))}return t}function s(e,t){var n=r(t);return n.length>0?e.indexOf("?")>=0?e+"&"+r(t):e+"?"+r(t):e}function o(e){var t=e&&e.split("?");return t.length==2?i(t[1]):{}}e({url:s,decodeURL:o,decode:i,encode:r,encodePart:t,decodePart:n})});provide("util/twitter",function(e){using("util/querystring",function(t){function u(e){return typeof e=="string"&&n.test(e)&&RegExp.$1.length<=20}function a(e){if(u(e))return RegExp.$1}function f(e,n){var r=t.decodeURL(e);n=n||!1,r.screen_name=a(e);if(r.screen_name)return t.url("https://twitter.com/intent/"+(n?"follow":"user"),r)}function l(e){return f(e,!0)}function c(e){return typeof e=="string"&&o.test(e)}function h(e,t){t=t===undefined?!0:t;if(c(e))return(t?"#":"")+RegExp.$1}function p(e){return typeof e=="string"&&r.test(e)}function d(e){return p(e)&&RegExp.$1}function v(e){return i.test(e)}function m(e){return s.test(e)}var n=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?(?:\/intent\/(?:follow|user)\/?\?screen_name=|(?:\/#!)?\/))@?([\w]+)(?:\?|&|$)/i,r=/(?:^|(?:https?\:)?\/\/(?:www\.)?twitter\.com(?:\:\d+)?\/(?:#!\/)?[\w_]+\/status(?:es)?\/)(\d+)/i,i=/^http(s?):\/\/((www\.)?)twitter\.com\//,s=/^http(s?):\/\/pbs\.twimg\.com\//,o=/^#?([^.,<>!\s\/#\-\(\)\'\"]+)$/;e({isHashTag:c,hashTag:h,isScreenName:u,screenName:a,isStatus:p,status:d,intentForProfileURL:f,intentForFollowURL:l,isTwitterURL:v,isTwimgURL:m,regexen:{profile:n}})})});provide("util/uri",function(e){using("util/querystring","util/util","util/twitter",function(t,n,r){function i(e,t){var n,r;return t=t||location,/^https?:\/\//.test(e)?e:/^\/\//.test(e)?t.protocol+e:(n=t.host+(t.port.length?":"+t.port:""),e.indexOf("/")!==0&&(r=t.pathname.split("/"),r.pop(),r.push(e),e="/"+r.join("/")),[t.protocol,"//",n,e].join(""))}function s(){var e=document.getElementsByTagName("link"),t=0,n;for(;n=e[t];t++)if(n.rel=="canonical")return i(n.href)}function o(){var e=document.getElementsByTagName("a"),t=document.getElementsByTagName("link"),n=[e,t],i,s,o=0,u=0,a=/\bme\b/,f;for(;i=n[o];o++)for(u=0;s=i[u];u++)if(a.test(s.rel)&&(f=r.screenName(s.href)))return f}e({absolutize:i,getCanonicalURL:s,getScreenNameFromPage:o})})});provide("util/typevalidator",function(e){using("util/util",function(t){function n(e){return e!==undefined&&e!==null&&e!==""}function r(e){return s(e)&&e%1===0}function i(e){return s(e)&&!r(e)}function s(e){return n(e)&&!isNaN(e)}function o(e){return n(e)&&t.toType(e)=="array"}function u(e){if(!n(e))return!1;switch(e){case"on":case"ON":case"true":case"TRUE":return!0;case"off":case"OFF":case"false":case"FALSE":return!1;default:return!!e}}function a(e){if(s(e))return e}function f(e){if(i(e))return e}function l(e){if(r(e))return e}e({hasValue:n,isInt:r,isFloat:i,isNumber:s,isArray:o,asInt:l,asFloat:f,asNumber:a,asBoolean:u})})});provide("tfw/util/globals",function(e){using("util/typevalidator",function(t){function r(){var e=document.getElementsByTagName("meta"),t,r,i=0;n={};for(;t=e[i];i++){if(!/^twitter:/.test(t.name))continue;r=t.name.replace(/^twitter:/,""),n[r]=t.content}}function i(e){return n[e]}function s(e){return t.asBoolean(e)&&(n.dnt=!0),t.asBoolean(n.dnt)}var n;r(),e({init:r,val:i,dnt:s})})});provide("dom/delegate",function(e){function r(e){var t=e.getAttribute("data-twitter-event-id");return t?t:(e.setAttribute("data-twitter-event-id",++n),n)}function i(e,t,n){var r=0,i=e&&e.length||0;for(r=0;r<i;r++)e[r].call(t,n)}function s(e,t,n){var r=n||e.target||e.srcElement,o=r.className.split(" "),u=0,a=o.length;for(;u<a;u++)i(t["."+o[u]],r,e);i(t[r.tagName],r,e);if(e.cease)return;r!==this&&s.call(this,e,t,r.parentElement||r.parentNode)}function o(e,t,n){if(e.addEventListener){e.addEventListener(t,function(r){s.call(e,r,n[t])},!1);return}e.attachEvent&&e.attachEvent("on"+t,function(){s.call(e,e.ownerDocument.parentWindow.event,n[t])})}function u(e,n,i,s){var u=r(e);t[u]=t[u]||{},t[u][n]||(t[u][n]={},o(e,n,t[u])),t[u][n][i]=t[u][n][i]||[],t[u][n][i].push(s)}function a(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(){n(window.event)})}function f(e,n,i){var o=r(n),u=t[o]&&t[o];s.call(n,{target:i},u[e])}function l(e){return h(e),c(e),!1}function c(e){e&&e.preventDefault?e.preventDefault():e.returnValue=!1}function h(e){e&&(e.cease=!0)&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}var t={},n=-1;e({stop:l,stopPropagation:h,preventDefault:c,delegate:u,on:a,simulate:f})});provide("tfw/util/article",function(e){using("dom/delegate","tfw/util/globals","util/uri","$xd/json2.js",function(t,n,r){function o(){i=r.getCanonicalURL()||""+document.location;if(!window.top.postMessage)return;if(window==window.top){t.on(window,"message",function(e){var t;if(e.data&&e.data[0]!="{")return;try{t=JSON.parse(e.data)}catch(r){}t&&t.name=="twttr:private:requestArticleUrl"&&e.source.postMessage(JSON.stringify({name:"twttr:private:provideArticleUrl",data:{url:i,dnt:n.dnt()}}),"*")});return}t.on(window,"message",function(e){var t;if(e.data&&e.data[0]!="{")return;try{t=JSON.parse(e.data)}catch(r){}t&&t.name=="twttr:private:provideArticleUrl"&&(i=t.data&&t.data.url,n.dnt(t.data.dnt),s=document.location.href)}),window.top.postMessage(JSON.stringify({name:"twttr:private:requestArticleUrl"}),"*")}var i,s="";o(),e({url:function(){return i},frameUrl:function(){return s}})})});provide("dom/get",function(e){using("util/util",function(t){function r(e,t,r){return n(e,t,r,1)[0]}function i(e,n,r){var s=n&&n.parentNode,o;if(!s||s===r)return;return s.tagName==e?s:(o=s.className.split(" "),0===e.indexOf(".")&&~t.indexOf(o,e.slice(1))?s:i(e,s,r))}var n=function(){var e=document.getElementsByClassName;return t.isNative(e)?function(n,r,i,s){var o=r?r.getElementsByClassName(n):e.call(document,n),u=t.filter(o,function(e){return!i||e.tagName.toLowerCase()==i.toLowerCase()});return[].slice.call(u,0,s||u.length)}:function(e,n,r,i){var s,o,u=[],a,f,l,c,h,p;n=n||document,a=e.split(" "),c=a.length,s=n.getElementsByTagName(r||"*"),p=s.length;for(l=0;l<c&&p>0;l++){u=[],f=a[l];for(h=0;h<p;h++){o=s[h],~t.indexOf(o.className.split(" "),f)&&u.push(o);if(l+1==c&&u.length===i)break}s=u,p=s.length}return u}}();e({all:n,one:r,ancestor:i})})});provide("dom/classname",function(e){function t(e){return new RegExp("\\b"+e+"\\b","g")}function n(e,n){if(e.classList){e.classList.add(n);return}t(n).test(e.className)||(e.className+=" "+n)}function r(e,n){if(e.classList){e.classList.remove(n);return}e.className=e.className.replace(t(n)," ")}function i(e,t,i){return e.classList&&e.classList.toggle?e.classList.toggle(t,i):(i?n(e,t):r(e,t),i)}function s(e,i,s){if(e.classList&&o(e,i)){r(e,i),n(e,s);return}e.className=e.className.replace(t(i),s)}function o(e,n){return e.classList?e.classList.contains(n):t(n).test(e.className)}e({add:n,remove:r,replace:s,toggle:i,present:o})});provide("util/throttle",function(e){function t(e,t,n){function o(){var n=+(new Date);window.clearTimeout(s);if(n-i>t){i=n,e.call(r);return}s=window.setTimeout(o,t)}var r=n||this,i=0,s;return o}e(t)});provide("util/logger",function(e){function i(e,n,r,i,s){window[t]&&window[t].log&&window[t].log(e,n,r,i,s)}function s(e,n,r,i,s){window[t]&&window[t].warn&&window[t].warn(e,n,r,i,s)}function o(e,n,r,i,s){window[t]&&window[t].error&&window[t].error(e,n,r,i,s)}function u(e){if(!r)return;n[e]=f()}function a(e){var t;if(!r)return;n[e]?(t=f(),i("_twitter",e,t-n[e])):o("timeEnd() called before time() for id: ",e)}function f(){return window.performance&&+window.performance.now()||+(new Date)}var t=["con","sole"].join(""),n={},r=!!~location.href.indexOf("tw_debug=true");e({info:i,warn:s,error:o,time:u,timeEnd:a})});provide("util/domready",function(e){function c(){t=1;for(var e=0,r=n.length;e<r;e++)n[e]()}var t=0,n=[],r,i,s=!1,o=document.createElement("a"),u="DOMContentLoaded",a="addEventListener",f="onreadystatechange",l;/^loade|c/.test(document.readyState)&&(t=1),document[a]&&document[a](u,i=function(){document.removeEventListener(u,i,s),c()},s),o.doScroll&&document.attachEvent(f,r=function(){/^c/.test(document.readyState)&&(document.detachEvent(f,r),c())}),l=o.doScroll?function(e){window.self!=window.top?t?e():n.push(e):!function(){try{o.doScroll("left")}catch(t){return setTimeout(function(){l(e)},50)}e()}()}:function(e){t?e():n.push(e)},e(l)});provide("util/env",function(e){using("util/domready","util/typevalidator","util/logger","tfw/util/globals",function(t,n,r,i){function f(e){return e=e||window,e.devicePixelRatio?e.devicePixelRatio>=1.5:e.matchMedia?e.matchMedia("only screen and (min-resolution: 144dpi)").matches:!1}function l(e){return e=e||s,/(Trident|MSIE \d)/.test(e)}function c(e){return e=e||s,/MSIE 6/.test(e)}function h(e){return e=e||s,/MSIE 7/.test(e)}function p(e){return e=e||s,/MSIE 9/.test(e)}function d(e){return e=e||s,/(iPad|iPhone|iPod)/.test(e)}function v(e){return e=e||s,/^Mozilla\/5\.0 \(Linux; (U; )?Android/.test(e)}function m(){return o}function g(e,t){return e=e||window,t=t||s,e.postMessage&&(!l(t)||!e.opener)}function y(e){e=e||navigator;try{return!!e.plugins["Shockwave Flash"]||!!(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){return!1}}function b(e,t,n){return e=e||window,t=t||navigator,n=n||s,"ontouchstart"in e||/Opera Mini/.test(n)||t.msMaxTouchPoints>0}function w(){var e=document.body.style;return e.transition!==undefined||e.webkitTransition!==undefined||e.mozTransition!==undefined||e.oTransition!==undefined||e.msTransition!==undefined}var s=window.navigator.userAgent,o=!1,u=!1,a="twitter-csp-test";window.twttr=window.twttr||{},twttr.verifyCSP=function(e){var t=document.getElementById(a);u=!0,o=!!e,t&&t.parentNode.removeChild(t)},t(function(){var e;if(c()||h())return o=!1;if(n.asBoolean(i.val("widgets:csp")))return o=!0;e=document.createElement("script"),e.id=a,e.text="twttr.verifyCSP(false);",document.body.appendChild(e),window.setTimeout(function(){if(u)return;r.warn('TWITTER: Content Security Policy restrictions may be applied to your site. Add <meta name="twitter:widgets:csp" content="on"> to supress this warning.'),r.warn("TWITTER: Please note: Not all embedded timeline and embedded Tweet functionality is supported when CSP is applied.")},5e3)}),e({retina:f,anyIE:l,ie6:c,ie7:h,ie9:p,ios:d,android:v,cspEnabled:m,flashEnabled:y,canPostMessage:g,touch:b,cssTransitions:w})})});provide("util/css",function(e){using("util/util",function(t){e({sanitize:function(e,n,r){var i=/^[\w ,%\/"'\-_#]+$/,s=e&&t.map(e.split(";"),function(e){return t.map(e.split(":").slice(0,2),function(e){return t.trim(e)})}),o=0,u,a=[],f=r?"!important":"";n=n||/^(font|text\-|letter\-|color|line\-)[\w\-]*$/;for(;s&&(u=s[o]);o++)u[0].match(n)&&u[1].match(i)&&a.push(u.join(":")+f);return a.join(";")}})})});provide("tfw/util/params",function(e){using("util/querystring","util/twitter",function(t,n){e(function(e,r){return function(i){var s,o="data-tw-params",u;if(!i)return;if(!n.isTwitterURL(i.href))return;if(i.getAttribute(o))return;i.setAttribute(o,!0);if(typeof r=="function"){s=r.call(this,i);for(u in s)s.hasOwnProperty(u)&&(e[u]=s[u])}i.href=t.url(i.href,e)}})})});provide("util/iframe",function(e){using("util/util",function(t){e(function(e,n,r){var i;r=r||document,e=e||{},n=n||{};if(e.name){try{i=r.createElement('<iframe name="'+e.name+'"></iframe>')}catch(s){i=r.createElement("iframe"),i.name=e.name}delete e.name}else i=r.createElement("iframe");return e.id&&(i.id=e.id,delete e.id),i.allowtransparency="true",i.scrolling="no",i.setAttribute("frameBorder",0),i.setAttribute("allowTransparency",!0),t.forIn(e,function(e,t){i.setAttribute(e,t)}),t.forIn(n,function(e,t){i.style[e]=t}),i})})});provide("util/params",function(e){using("util/querystring",function(t){var n,r,i;n=function(e){var n=e.search.substr(1);return t.decode(n)},r=function(e){var n=e.href,r=n.indexOf("#"),i=r<0?"":n.substring(r+1);return t.decode(i)},i=function(e){var t={},i=n(e),s=r(e),o;for(o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);for(o in s)s.hasOwnProperty(o)&&(t[o]=s[o]);return t},e({combined:i,fromQuery:n,fromFragment:r})})});provide("tfw/util/env",function(e){using("util/params",function(t){function r(){var e=36e5,r=t.combined(document.location)._;return n!==undefined?n:(n=!1,r&&/^\d+$/.test(r)&&(n=+(new Date)-parseInt(r)<e),n)}var n;e({isDynamicWidget:r})})});provide("util/promise",function(e){using("util/util",function(t){var n=function(e){try{var t=e.then;if(typeof t=="function")return!0}catch(n){}return!1},r=function(e){Error.call(this,e)};r.prototype=t.createObject(Error.prototype);var i=function(){var e=[];return e.pump=function(n){t.async(function(){var t=e.length,r=0;while(r<t)r++,e.shift()(n)})},e},s=function(e,r,i,s,o,u){var a=!1,f=this,l=function(e){t.async(function(){u("fulfilled"),s(e),r.pump(e)})},c=function(e){t.async(function(){u("rejected"),o(e),i.pump(e)})},h=function(e){if(n(e)){e.then(h,c);return}l(e)},p=function(e){return function(t){a||(a=!0,e(t))}};this.resolve=p(h,"resolve"),this.fulfill=p(l,"fulfill"),this.reject=p(c,"reject"),this.cancel=function(){f.reject(new Error("Cancel"))},this.timeout=function(){f.reject(new Error("Timeout"))},u("pending")},o=function(e){var t=new i,n=new i,r,o,u="pending";this._addAcceptCallback=function(e){t.push(e),u=="fulfilled"&&t.pump(r)},this._addRejectCallback=function(e){n.push(e),u=="rejected"&&n.pump(o)};var a=new s(this,t,n,function(e){r=e},function(e){o=e},function(e){u=e});try{e&&e(a)}catch(f){a.reject(f)}},u=function(e){return typeof e=="function"},a=function(e,n,r){return u(e)?function(){try{var t=e.apply(null,arguments);n.resolve(t)}catch(r){n.reject(r)}}:t.bind(n[r],n)},f=function(e,t,n){return u(e)&&n._addAcceptCallback(e),u(t)&&n._addRejectCallback(t),n};t.aug(o.prototype,{then:function(e,t){var n=this;return new o(function(r){f(a(e,r,"resolve"),a(t,r,"reject"),n)})},"catch":function(e){var t=this;return new o(function(n){f(null,a(e,n,"reject"),t)})}}),o.isThenable=n;var l=function(e){return t.map(e,o.resolve)};o.any=function(){var e=l(arguments);return new o(function(n){if(!e.length)n.reject("No futures passed to Promise.any()");else{var r=!1,i=function(e){if(r)return;r=!0,n.resolve(e)},s=function(e){if(r)return;r=!0,n.reject(e)};t.forEach(e,function(e){e.then(i,s)})}})},o.every=function(){var e=l(arguments);return new o(function(n){if(!e.length)n.reject("No futures passed to Promise.every()");else{var r=new Array(e.length),i=0,s=function(t,s){i++,r[t]=s,i==e.length&&n.resolve(r)};t.forEach(e,function(e,r){e.then(t.bind(s,null,[r]),n.reject)})}})},o.some=function(){var e=l(arguments);return new o(function(n){if(!e.length)n.reject("No futures passed to Promise.some()");else{var r=0,i=function(){r++,r==e.length&&n.reject()};t.forEach(e,function(e){e.then(n.resolve,i)})}})},o.fulfill=function(e){return new o(function(t){t.fulfill(e)})},o.resolve=function(e){return new o(function(t){t.resolve(e)})},o.reject=function(e){return new o(function(t){t.reject(e)})},e(o)})});provide("util/donottrack",function(e){using("tfw/util/globals",function(t){e(function(e,n){var r=/\.(gov|mil)(:\d+)?$/i,i=/https?:\/\/([^\/]+).*/i;return e=e||document.referrer,e=i.test(e)&&RegExp.$1,n=n||document.location.host,t.dnt()?!0:r.test(n)?!0:e&&r.test(e)?!0:document.navigator?document.navigator["doNotTrack"]==1:navigator?navigator["doNotTrack"]==1||navigator["msDoNotTrack"]==1:!1})})});provide("sandbox/baseframe",function(e){using("util/domready","util/env","util/iframe","util/promise","util/util",function(t,n,r,i,s){function u(e,t,n,o){var u;this.readyPromise=new i(s.bind(function(e){this.resolver=e},this)),this.attrs=e||{},this.styles=t||{},this.appender=n||function(e){document.body.appendChild(e)},this.layout=o||function(e){return new i(function(t){return t.fulfill(e())})},this.frame=u=r(this.attrs,this.styles),u.onreadystatechange=u.onload=this.getCallback(this.onLoad),this.layout(s.bind(function(){this.appender(u)},this))}var o=0;window.twttr=window.twttr||{},window.twttr.sandbox=window.twttr.sandbox||{},u.prototype.getCallback=function(e){var t=this,n=!1;return function(){n||(n=!0,e.call(t))}},u.prototype.registerCallback=function(e){var t="cb"+o++;return window.twttr.sandbox[t]=e,t},u.prototype.onLoad=function(){try{this.document=this.frame.contentWindow.document}catch(e){this.setDocDomain();return}this.writeStandardsDoc(),this.resolver.fulfill(this)},u.prototype.ready=function(){return this.readyPromise},u.prototype.setDocDomain=function(){var e=r(this.attrs,this.styles),t=this.registerCallback(this.getCallback(this.onLoad));e.src=["javascript:",'document.write("");',"try { window.parent.document; }","catch (e) {",'document.domain="'+document.domain+'";',"}",'window.parent.twttr.sandbox["'+t+'"]();'].join(""),this.layout(s.bind(function(){this.frame.parentNode.removeChild(this.frame),this.frame=null,this.appender?this.appender(e):document.body.appendChild(e),this.frame=e},this))},u.prototype.writeStandardsDoc=function(){if(!n.anyIE()||n.cspEnabled())return;var e=["<!DOCTYPE html>","<html>","<head>","<scr","ipt>","try { window.parent.document; }",'catch (e) {document.domain="'+document.domain+'";}',"</scr","ipt>","</head>","<body></body>","</html>"].join("");this.document.write(e),this.document.close()},e(u)})});provide("sandbox/minimal",function(e){using("sandbox/baseframe","util/env","util/promise","util/util",function(t,n,r,i){function s(e,t){if(!e)return;this._frame=e,this._win=e.contentWindow,this._doc=this._win.document,this._body=this._doc.body,this._head=this._body.parentNode.children[0],this.layout=t}i.aug(s.prototype,{createElement:function(e){return this._doc.createElement(e)},createDocumentFragment:function(){return this._doc.createDocumentFragment()},appendChild:function(e){return this.layout(i.bind(function(){return this._body.appendChild(e)},this))},setBaseTarget:function(e){var t=this._doc.createElement("base");return t.target=e,this.layout(i.bind(function(){return this._head.appendChild(t)},this))},setTitle:function(e){if(!e)return;this._frame.title=e},element:function(){return this._frame},document:function(){return this._doc}}),s.createSandbox=function(e,n,r,i){var o=new t(e,n,r,i);return o.ready().then(function(e){return new s(e.frame,e.layout)})},e(s)})});provide("dom/cookie",function(e){using("util/util",function(t){e(function(e,n,r){var i=t.aug({},r),s,o,u,a;if(arguments.length>1&&String(n)!=="[object Object]"){if(n===null||n===undefined)i.expires=-1;return typeof i.expires=="number"&&(s=i.expires,o=new Date((new Date).getTime()+s*60*1e3),i.expires=o),n=String(n),document.cookie=[encodeURIComponent(e),"=",i.raw?n:encodeURIComponent(n),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}return i=n||{},a=i.raw?function(e){return e}:decodeURIComponent,(u=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?a(u[1]):null})})});provide("tfw/util/tracking",function(e){using("dom/cookie","dom/delegate","sandbox/minimal","util/donottrack","util/promise","util/querystring","tfw/util/env","util/iframe","util/util","$xd/json2.js",function(t,n,r,i,s,o,u,a,f){function E(){return y?y:y=r.createSandbox({id:"rufous-sandbox"},{display:"none"}).then(f.bind(function(e){g=e,p=_(),d=D();while(v[0])k.apply(this,v.shift());return m?L():[p,d]},this))}function S(e,t,n,r){var i=!f.isObject(e),s=t?!f.isObject(t):!1,o,u;if(i||s)return;o=O(e),u=M(t,!!n,!!r),C(o,u,!0)}function x(e,t,n,r,i){var s=T(e.target||e.srcElement);s.action=i||"click",S(s,t,n,r)}function T(e,t){var n;return t=t||{},!e||e.nodeType!==1?t:((n=e.getAttribute("data-scribe"))&&f.forEach(n.split(" "),function(e){var n=f.trim(e).split(":"),r=n[0],i=n[1];r&&i&&!t[r]&&(t[r]=i)}),T(e.parentNode,t))}function N(e,t,n){var r=l+t;if(!e)return;return e[r]=n,e}function C(e,t,n){var r,i,s,u,a;if(!f.isObject(e)||!f.isObject(t))return;s=f.aug({},t,{event_namespace:e}),n?(u={l:B(s)},s.dnt&&(u.dnt=1),P(o.url(b,u))):(r=p.firstChild,r.value=+(+r.value||s.dnt||0),a=B(s),i=g.createElement("input"),i.type="hidden",i.name="l",i.value=a,p.appendChild(i))}function k(e,t,n,r){var i=!f.isObject(e),s=t?!f.isObject(t):!1,o,u;if(i||s)return;if(!g||!p){v.push([e,t,n,r]);return}o=O(e),u=M(t,!!n,!!r),C(o,u)}function L(){if(!p)return m=!0,y||s.reject();if(p.children.length<=2)return s.reject();var e=s.every(g.appendChild(p),g.appendChild(d)).then(function(e){var t=e[0],r=e[1];return n.on(r,"load",function(){window.setTimeout(A(t,r),0)}),t.submit(),e});return p=_(),d=D(),e}function A(e,t){return function(){var n=e.parentNode;if(!n)return;n.removeChild(e),n.removeChild(t)}}function O(e){return f.aug({client:"tfw"},e||{})}function M(e,t,n){var r={_category_:"tfw_client_event"},s,o;t=!!t,n=!!n,s=f.aug(r,e||{}),o=s.widget_origin||document.referrer,s.format_version=1,s.triggered_on=s.triggered_on||+(new Date),t||(s.widget_origin=o);if(n||i(o))s.dnt=!0,H(s);return s}function _(){var e=g.createElement("form"),t=g.createElement("input"),n=g.createElement("input");return h++,e.action=b,e.method="POST",e.target="rufous-frame-"+h,e.id="rufous-form-"+h,t.type="hidden",t.name="dnt",t.value=0,n.type="hidden",n.name="tfw_redirect",n.value=w,e.appendChild(t),e.appendChild(n),e}function D(){var e="rufous-frame-"+h;return a({id:e,name:e,width:0,height:0,border:0},{display:"none"},g.document())}function P(e){var t=new Image;t.src=e}function H(e){f.forIn(e,function(t){~f.indexOf(c,t)&&delete e[t]})}function B(e){var t=Array.prototype.toJSON,n;return delete Array.prototype.toJSON,n=JSON.stringify(e),t&&(Array.prototype.toJSON=t),n}var l="twttr_",c=["hask","li","logged_in","pid","user_id","guest_id",l+"hask",l+"li",l+"pid"],h=0,p,d,v=[],m,g,y,b="https://twitter.com/i/jot",w="https://platform.twitter.com/jot.html";e({enqueue:k,flush:L,initPostLogging:E,scribeInteraction:x,extractTermsFromDOM:T,addPixel:S,addVar:N})})});provide("tfw/util/media",function(e){using("dom/get","util/util","util/env",function(t,n,r){function u(e,t){return e==2||e==3&&+t===0}function a(e){var t=e.split(" ");this.url=decodeURIComponent(n.trim(t[0])),this.width=+n.trim(t[1].replace(/w$/,""))}function f(e,t,r){var i,s,o,u;e=window.devicePixelRatio?e*window.devicePixelRatio:e,s=n.map(t.split(","),function(e){return new a(e)});if(r)for(u=0;u<s.length;u++)s[u].url===r&&(i=s[u]);return o=n.reduce(s,function(t,n){return n.width<t.width&&n.width>=e?n:t},s[0]),i&&i.width>o.width?i:o}function l(e,t){var n=e.getAttribute("data-srcset"),r=e.src,i;n&&(i=f(t,n,r),e.src=i.url)}function c(e,t){t=t||r.retina();if(!t)return;n.forEach(e.getElementsByTagName("IMG"),function(e){var t=e.getAttribute("data-src-2x");t&&(e.src=t)})}function h(e,r,a,f){var c=0,h=a?600:375,d=t.one("multi-photo",e,"DIV"),v=d&&+d.getAttribute("data-photo-count");if(!e)return;return n.forEach(t.all("autosized-media",e),function(e){var t=p(e.getAttribute("data-width"),e.getAttribute("data-height"),r,h);f(function(){l(e,r),e.width=t.width,e.height=t.height}),c=t.height>c?t.height:c}),n.forEach(t.all("cropped-media",e,"IMG"),function(e){var t=r-12,n=e.parentNode,a=e.getAttribute("data-crop-x")||0,d=e.getAttribute("data-crop-y")||0,m,g,y=u(v,e.getAttribute("data-image-index")),b=Math.floor(t/2-i),w=Math.floor(b/(y?s:o)),E;y||(w-=i/2),E=p(e.getAttribute("data-width"),e.getAttribute("data-height"),b,h,b,w),m=E.width-b-a,g=E.height-w-d,m<0&&Math.max(0,a+=m),g<0&&Math.max(0,d+=g),f(function(){l(e,b),e.width=E.width,e.height=E.height,n.style.width=b-1+"px",n.style.height=w+"px",a&&(e.style.marginLeft="-"+Math.floor(E.width*a/100)+"px"),d&&(e.style.marginTop="-"+Math.floor(E.height*d/100)+"px")}),c=E.height*(y?2:1)>c?E.height:c}),c}function p(e,t,n,r,i,s){return n=n||e,r=r||t,i=i||0,s=s||0,e>n&&(t*=n/e,e=n),t>r&&(e*=r/t,t=r),e<i&&(t*=i/e,e=i),t<s&&(e*=s/t,t=s),{width:Math.floor(e),height:Math.floor(t)}}var i=6,s=8/9,o=16/9;e({scaleDimensions:p,retinize:c,constrainMedia:h,__setSrcFromSet:l})})});provide("tfw/util/data",function(e){using("util/logger","util/util","util/querystring",function(t,n,r){function c(e){return function(n){n.error?e.error&&e.error(n):n.headers&&n.headers.status!=200?(e.error&&e.error(n),t.warn(n.headers.message)):e.success&&e.success(n),e.complete&&e.complete(n),h(e)}}function h(e){var t=e.script;t&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),e.script=undefined,t=undefined),e.callbackName&&twttr.tfw.callbacks[e.callbackName]&&delete twttr.tfw.callbacks[e.callbackName]}function p(e){var t={};return e.success&&n.isType("function",e.success)&&(t.success=e.success),e.error&&n.isType("function",e.error)&&(t.error=e.error),e.complete&&n.isType("function",e.complete)&&(t.complete=e.complete),t}window.twttr=window.twttr||{},twttr.tfw=twttr.tfw||{},twttr.tfw.callbacks=twttr.tfw.callbacks||{};var i="twttr.tfw.callbacks",s=twttr.tfw.callbacks,o="cb",u=0,a=!1,f={},l={tweets:"https://syndication.twitter.com/tweets.json",timeline:"https://cdn.syndication.twimg.com/widgets/timelines/",timelinePoll:"https://syndication.twitter.com/widgets/timelines/paged/",timelinePreview:"https://syndication.twitter.com/widgets/timelines/preview/"};twttr.widgets&&twttr.widgets.endpoints&&n.aug(l,twttr.widgets.endpoints),f.jsonp=function(e,t,n){var f=n||o+u,l=i+"."+f,h=document.createElement("script"),p={callback:l,suppress_response_codes:!0};s[f]=c(t);if(a||!/^https?\:$/.test(window.location.protocol))e=e.replace(/^\/\//,"https://");h.src=r.url(e,p),h.async="async",document.body.appendChild(h),t.script=h,t.callbackName=f,n||u++},f.config=function(e){if(e.forceSSL===!0||e.forceSSL===!1)a=e.forceSSL},f.tweets=function(e){var t=arguments[0],n=p(t),i={ids:e.ids.join(","),lang:e.lang},s=r.url(l.tweets,i);this.jsonp(s,n)},f.timeline=function(e){var t=arguments[0],i=p(t),s,o=9e5,u=Math.floor(+(new Date)/o),a={lang:e.lang,t:u,domain:window.location.host,dnt:e.dnt,override_type:e.overrideType,override_id:e.overrideId,override_name:e.overrideName,override_owner_id:e.overrideOwnerId,override_owner_name:e.overrideOwnerName,with_replies:e.withReplies};n.compact(a),s=r.url(l.timeline+e.id,a),this.jsonp(s,i,"tl_"+e.id+"_"+e.instanceId)},f.timelinePoll=function(e){var t=arguments[0],i=p(t),s={lang:e.lang,since_id:e.sinceId,max_id:e.maxId,min_position:e.minPosition,max_position:e.maxPosition,domain:window.location.host,dnt:e.dnt,override_type:e.overrideType,override_id:e.overrideId,override_name:e.overrideName,override_owner_id:e.overrideOwnerId,override_owner_name:e.overrideOwnerName,with_replies:e.withReplies},o;n.compact(s),o=r.url(l.timelinePoll+e.id,s),this.jsonp(o,i,"tlPoll_"+e.id+"_"+e.instanceId+"_"+(e.sinceId||e.maxId||e.maxPosition||e.minPosition))},f.timelinePreview=function(e){var t=arguments[0],n=p(t),i=e.params,s=r.url(l.timelinePreview,i);this.jsonp(s,n)},e(f)})});provide("anim/transition",function(e){function t(e,t){var n;return t=t||window,n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(){t.setTimeout(function(){e(+(new Date))},1e3/60)},n(e)}function n(e,t){return Math.sin(Math.PI/2*t)*e}function r(e,n,r,i,s){function u(){var a=+(new Date),f=a-o,l=Math.min(f/r,1),c=i?i(n,l):n*l;e(c);if(l==1)return;t(u,s)}var o=+(new Date);t(u)}e({animate:r,requestAnimationFrame:t,easeOut:n})});provide("util/datetime",function(e){using("util/util",function(t){function h(e){return e<10?"0"+e:e}function p(e){function i(e,n){return t&&t[e]&&(e=t[e]),e.replace(/%\{([\w_]+)\}/g,function(e,t){return n[t]!==undefined?n[t]:e})}var t=e&&e.phrases,n=e&&e.months||s,r=e&&e.formats||o;this.timeAgo=function(e){var t=p.parseDate(e),s=+(new Date),o=s-t,h;return t?isNaN(o)||o<u*2?i("now"):o<a?(h=Math.floor(o/u),i(r.abbr,{number:h,symbol:i(c,{abbr:i("s"),expanded:h>1?i("seconds"):i("second")})})):o<f?(h=Math.floor(o/a),i(r.abbr,{number:h,symbol:i(c,{abbr:i("m"),expanded:h>1?i("minutes"):i("minute")})})):o<l?(h=Math.floor(o/f),i(r.abbr,{number:h,symbol:i(c,{abbr:i("h"),expanded:h>1?i("hours"):i("hour")})})):o<l*365?i(r.shortdate,{day:t.getDate(),month:i(n[t.getMonth()])}):i(r.longdate,{day:t.getDate(),month:i(n[t.getMonth()]),year:t.getFullYear().toString().slice(2)}):""},this.localTimeStamp=function(e){var t=p.parseDate(e),s=t&&t.getHours();return t?i(r.full,{day:t.getDate(),month:i(n[t.getMonth()]),year:t.getFullYear(),hours24:h(s),hours12:s<13?s?s:"12":s-12,minutes:h(t.getMinutes()),seconds:h(t.getSeconds()),amPm:s<12?i("AM"):i("PM")}):""}}var n=/(\d{4})-?(\d{2})-?(\d{2})T(\d{2}):?(\d{2}):?(\d{2})(Z|[\+\-]\d{2}:?\d{2})/,r=/[a-z]{3,4} ([a-z]{3}) (\d{1,2}) (\d{1,2}):(\d{2}):(\d{2}) ([\+\-]\d{2}:?\d{2}) (\d{4})/i,i=/^\d+$/,s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o={abbr:"%{number}%{symbol}",shortdate:"%{day} %{month}",longdate:"%{day} %{month} %{year}",full:"%{hours12}:%{minutes} %{amPm} - %{day} %{month} %{year}"},u=1e3,a=u*60,f=a*60,l=f*24,c='<abbr title="%{expanded}">%{abbr}</abbr>';p.parseDate=function(e){var o=e||"",u=o.toString(),a,f;return a=function(){var e;if(i.test(u))return parseInt(u,10);if(e=u.match(r))return Date.UTC(e[7],t.indexOf(s,e[1]),e[2],e[3],e[4],e[5]);if(e=u.match(n))return Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6])}(),a?(f=new Date(a),!isNaN(f.getTime())&&f):!1},e(p)})});provide("sandbox/frame",function(e){using("sandbox/baseframe","sandbox/minimal","util/env","util/promise","util/util",function(t,n,r,i,s){function h(){var e,t;a={};if(f)return;e=document.body.offsetHeight,t=document.body.offsetWidth;if(e==c&&t==l)return;s.forEach(u,function(e){e.dispatchFrameResize(l,c)}),c=e,l=t}function p(e){var t;return e.id?e.id:(t=e.getAttribute("data-twttr-id"))?t:(t="twttr-sandbox-"+o++,e.setAttribute("data-twttr-id",t),t)}function d(e,t){n.apply(this,[e,t]),this._resizeHandlers=[],u.push(this),this._win.addEventListener?this._win.addEventListener("resize",s.bind(function(){this.dispatchFrameResize()},this),!0):this._win.attachEvent("onresize",s.bind(function(){this.dispatchFrameResize(this._win.event)},this))}var o=0,u=[],a={},f,l=0,c=0;window.addEventListener?window.addEventListener("resize",h,!0):document.body.attachEvent("onresize",function(){h(window.event)}),d.prototype=new n,s.aug(d.prototype,{dispatchFrameResize:function(){var e=this._frame.parentNode,t=p(e),n=a[t];f=!0;if(!this._resizeHandlers.length)return;n||(n=a[t]={w:this._frame.offsetWidth,h:this._frame.offsetHeight});if(this._frameWidth==n.w&&this._frameHeight==n.h)return;this._frameWidth=n.w,this._frameHeight=n.h,s.forEach(this._resizeHandlers,function(e){e(n.w,n.h)}),window.setTimeout(function(){a={}},50)},appendStyleSheet:function(e){var t=this._doc.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,this.layout(s.bind(function(){return this._head.appendChild(t)},this))},appendCss:function(e){var t;return r.cspEnabled()?i.reject("CSP enabled; cannot embed inline styles."):(t=this._doc.createElement("style"),t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(this._doc.createTextNode(e)),this.layout(s.bind(function(){return this._head.appendChild(t)},this)))},style:function(e){return this.layout(s.bind(function(){s.forIn(e,s.bind(function(e,t){this._frame.style[e]=t},this))},this))},onresize:function(e){this._resizeHandlers.push(e)},width:function(e){return e!==undefined&&(this._frame.style.width=e+"px"),r.ios()?Math.min(this._frame.parentNode.offsetWidth,this._frame.offsetWidth):this._frame.offsetWidth},height:function(e){return e!==undefined&&(this._frame.height=e),this._frame.offsetHeight}}),d.createSandbox=function(e,n,r,i){var s=new t(e,n,r,i);return s.ready().then(function(e){return new d(e.frame,e.layout)})},e(d)})});provide("tfw/util/assets",function(e){using("util/env",function(t){function r(e,r){var i=n[e],s;return t.retina()?s="2x":t.ie6()||t.ie7()?s="gif":s="default",r&&(s+=".rtl"),i[s]}var n={"embed/timeline.css":{"default":"embed/timeline.295a00bf5122128e332d25515711dbbd.default.css","2x":"embed/timeline.295a00bf5122128e332d25515711dbbd.2x.css",gif:"embed/timeline.295a00bf5122128e332d25515711dbbd.gif.css","default.rtl":"embed/timeline.295a00bf5122128e332d25515711dbbd.default.rtl.css","2x.rtl":"embed/timeline.295a00bf5122128e332d25515711dbbd.2x.rtl.css","gif.rtl":"embed/timeline.295a00bf5122128e332d25515711dbbd.gif.rtl.css"}};e(r)})});provide("util/layout",function(e){using("util/promise",function(t){function i(){}var n=[],r;i.prototype.enqueue=function(e,r){return new t(function(t){n.push({action:e,resolver:t,note:r})})},i.prototype.exec=function(){var e=n,t;if(!e.length)return;n=[];while(e.length)t=e.shift(),t&&t.action?t.resolver.fulfill(t.action()):t.resolver.reject()},i.prototype.delayedExec=function(){r&&window.clearTimeout(r),r=window.setTimeout(this.exec,100)},e(i)})});provide("tfw/widget/base",function(e){using("dom/get","util/domready","util/iframe","util/layout","util/promise","util/querystring","util/typevalidator","util/util","tfw/util/globals","util/logger",function(t,n,r,i,s,o,u,a,f,l){function y(e){var t;if(!e)return;e.ownerDocument?(this.srcEl=e,this.classAttr=e.className.split(" ")):(this.srcOb=e,this.classAttr=[]),t=this.params(),this.id=this.generateId(),this.setLanguage(),this.related=t.related||this.dataAttr("related"),this.partner=t.partner||this.dataAttr("partner")||f.val("partner"),this.dnt=t.dnt||this.dataAttr("dnt")||f.dnt()||"",this.styleAttr=[],this.targetEl=e.targetEl,this.completePromise=new s(a.bind(function(e){this.completeResolver=e},this)),this.completed().then(function(e){if(!e||e==document.body)return;twttr.events.trigger("rendered",{target:e})})}function b(){a.forEach(d,function(e){e()}),y.doLayout()}function w(e){if(!e)return;return e.lang?e.lang:w(e.parentNode)}var c=0,h,p={list:[],byId:{}},d=[],v=new i,m="data-twttr-rendered",g={ar:{"%{followers_count} followers":"  %{followers_count}","100K+":"+100 ","10k unit":"10  ",Follow:"","Follow %{screen_name}":" %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":"  %{name}"},da:{"%{followers_count} followers":"%{followers_count} flgere","10k unit":"10k enhed",Follow:"Flg","Follow %{screen_name}":"Flg %{screen_name}","Tweet to %{name}":"Tweet til %{name}"},de:{"%{followers_count} followers":"%{followers_count} Follower","100K+":"100Tsd+","10k unit":"10tsd-Einheit",Follow:"Folgen","Follow %{screen_name}":"%{screen_name} folgen",K:"Tsd",Tweet:"Twittern","Tweet to %{name}":"Tweet an %{name}"},es:{"%{followers_count} followers":"%{followers_count} seguidores","10k unit":"unidad de 10 mil",Follow:"Seguir","Follow %{screen_name}":"Seguir a %{screen_name}",Tweet:"Twittear","Tweet %{hashtag}":"Twittear %{hashtag}","Tweet to %{name}":"Twittear a %{name}"},fa:{"%{followers_count} followers":"%{followers_count} ","100K+":">","10k unit":" ",Follow:" ","Follow %{screen_name}":"  %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":"  %{hashtag}","Tweet to %{name}":" %{name}  "},fi:{"%{followers_count} followers":"%{followers_count} seuraajaa","100K+":"100 000+","10k unit":"10 000 yksikk",Follow:"Seuraa","Follow %{screen_name}":"Seuraa kyttj %{screen_name}",K:"tuhatta",M:"milj.",Tweet:"Twiittaa","Tweet %{hashtag}":"Twiittaa %{hashtag}","Tweet to %{name}":"Twiittaa kyttjlle %{name}"},fil:{"%{followers_count} followers":"%{followers_count} mga tagasunod","10k unit":"10k yunit",Follow:"Sundan","Follow %{screen_name}":"Sundan si %{screen_name}",Tweet:"I-tweet","Tweet %{hashtag}":"I-tweet ang %{hashtag}","Tweet to %{name}":"Mag-Tweet kay %{name}"},fr:{"%{followers_count} followers":"%{followers_count} abonns","10k unit":"unit de 10k",Follow:"Suivre","Follow %{screen_name}":"Suivre %{screen_name}",Tweet:"Tweeter","Tweet %{hashtag}":"Tweeter %{hashtag}","Tweet to %{name}":"Tweeter  %{name}"},he:{"%{followers_count} followers":"%{followers_count} ","100K+":" ","10k unit":" ",Follow:"","Follow %{screen_name}":"  %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":"  %{name}"},hi:{"%{followers_count} followers":"%{followers_count} ","100K+":"1 +","10k unit":"10  ",Follow:"","Follow %{screen_name}":"%{screen_name}   ",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":"%{name}   "},hu:{"%{followers_count} followers":"%{followers_count} kvet","100K+":"100E+","10k unit":"10E+",Follow:"Kvets","Follow %{screen_name}":"%{screen_name} kvetse",K:"E","Tweet %{hashtag}":"%{hashtag} tweetelse","Tweet to %{name}":"Tweet kldse neki: %{name}"},id:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikuti","Follow %{screen_name}":"Ikuti %{screen_name}",K:"&nbsp;ribu",M:"&nbsp;juta","Tweet to %{name}":"Tweet ke %{name}"},it:{"%{followers_count} followers":"%{followers_count} follower","10k unit":"10k unit",Follow:"Segui","Follow %{screen_name}":"Segui %{screen_name}","Tweet %{hashtag}":"Twitta %{hashtag}","Tweet to %{name}":"Twitta a %{name}"},ja:{"%{followers_count} followers":"%{followers_count}","100K+":"100K","10k unit":"",Follow:"","Follow %{screen_name}":"%{screen_name}",Tweet:"","Tweet %{hashtag}":"%{hashtag} ","Tweet to %{name}":"%{name}"},ko:{"%{followers_count} followers":"%{followers_count} ","100K+":"100 ","10k unit":" ",Follow:"","Follow %{screen_name}":"%{screen_name}  ",K:"",M:"",Tweet:"","Tweet %{hashtag}":"%{hashtag}  ","Tweet to %{name}":"%{name}  "},msa:{"%{followers_count} followers":"%{followers_count} pengikut","100K+":"100 ribu+","10k unit":"10 ribu unit",Follow:"Ikut","Follow %{screen_name}":"Ikut %{screen_name}",K:"ribu",M:"juta","Tweet to %{name}":"Tweet kepada %{name}"},nl:{"%{followers_count} followers":"%{followers_count} volgers","100K+":"100k+","10k unit":"10k-eenheid",Follow:"Volgen","Follow %{screen_name}":"%{screen_name} volgen",K:"k",M:" mln.",Tweet:"Tweeten","Tweet %{hashtag}":"%{hashtag} tweeten","Tweet to %{name}":"Tweeten naar %{name}"},no:{"%{followers_count} followers":"%{followers_count} flgere","100K+":"100 K+","10k unit":"10-K-enhet",Follow:"Flg","Follow %{screen_name}":"Flg %{screen_name}","Tweet to %{name}":"Send en tweet til %{name}"},pl:{"%{followers_count} followers":"%{followers_count} obserwujcych","100K+":"100 tys.+","10k unit":"10 tys.",Follow:"Obserwuj","Follow %{screen_name}":"Obserwuj %{screen_name}",K:"tys.",M:"mln",Tweet:"Tweetnij","Tweet %{hashtag}":"Tweetnij %{hashtag}","Tweet to %{name}":"Tweetnij do %{name}"},pt:{"%{followers_count} followers":"%{followers_count} seguidores","100K+":"+100 mil","10k unit":"10 mil unidades",Follow:"Seguir","Follow %{screen_name}":"Seguir %{screen_name}",K:"Mil",Tweet:"Tweetar","Tweet %{hashtag}":"Tweetar %{hashtag}","Tweet to %{name}":"Tweetar para %{name}"},ru:{"%{followers_count} followers":": %{followers_count} ","100K+":"100 .+","10k unit":" 10k",Follow:"","Follow %{screen_name}":" %{screen_name}",K:".",M:".",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":" %{name}"},sv:{"%{followers_count} followers":"%{followers_count} fljare","10k unit":"10k",Follow:"Flj","Follow %{screen_name}":"Flj %{screen_name}",Tweet:"Tweeta","Tweet %{hashtag}":"Tweeta %{hashtag}","Tweet to %{name}":"Tweeta till %{name}"},th:{"%{followers_count} followers":"%{followers_count} ","100K+":"100+","10k unit":" 10",Follow:"","Follow %{screen_name}":" %{screen_name}",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag}","Tweet to %{name}":" %{name}"},tr:{"%{followers_count} followers":"%{followers_count} takipi","100K+":"+100 bin","10k unit":"10 bin birim",Follow:"Takip et","Follow %{screen_name}":"Takip et: %{screen_name}",K:"bin",M:"milyon",Tweet:"Tweetle","Tweet %{hashtag}":"Tweetle: %{hashtag}","Tweet to %{name}":"Tweetle: %{name}"},ur:{"%{followers_count} followers":"%{followers_count} ","100K+":"   ","10k unit":"  ",Follow:" ","Follow %{screen_name}":"%{screen_name}   ",K:"",M:"",Tweet:" ","Tweet %{hashtag}":"%{hashtag}  ","Tweet to %{name}":"%{name}   "},"zh-cn":{"%{followers_count} followers":"%{followers_count} ","100K+":"10+","10k unit":"1",Follow:"","Follow %{screen_name}":" %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":" %{hashtag} ","Tweet to %{name}":" %{name}"},"zh-tw":{"%{followers_count} followers":"%{followers_count} ","100K+":"","10k unit":"1 ",Follow:"","Follow %{screen_name}":" %{screen_name}",K:"",M:"",Tweet:"","Tweet %{hashtag}":"%{hashtag}","Tweet to %{name}":"%{name}"}};a.aug(y.prototype,{setLanguage:function(e){var t;e||(e=this.params().lang||this.dataAttr("lang")||w(this.srcEl)),e=e&&e.toLowerCase();if(!e)return this.lang="en";if(g[e])return this.lang=e;t=e.replace(/[\-_].*/,"");if(g[t])return this.lang=t;this.lang="en"},_:function(e,t){var n=this.lang;t=t||{};if(!n||!g.hasOwnProperty(n))n=this.lang="en";return e=g[n]&&g[n][e]||e,this.ringo(e,t,/%\{([\w_]+)\}/g)},ringo:function(e,t,n){return n=n||/\{\{([\w_]+)\}\}/g,e.replace(n,function(e,n){return t[n]!==undefined?t[n]:e})},add:function(e){p.list.push(this),p.byId[this.id]=e},create:function(e,t,n){var i=this,o;return n[m]=!0,o=r(a.aug({id:this.id,src:e,"class":this.classAttr.join(" ")},n),t,this.targetEl&&this.targetEl.ownerDocument),this.srcEl?this.layout(function(){return i.srcEl.parentNode.replaceChild(o,i.srcEl),i.completeResolver.fulfill(o),o}):this.targetEl?this.layout(function(){return i.targetEl.appendChild(o),i.completeResolver.fulfill(o),o}):s.reject("Did not append widget")},params:function(){var e,t;return this.srcOb?t=this.srcOb:(e=this.srcEl&&this.srcEl.href&&this.srcEl.href.split("?")[1],t=e?o.decode(e):{}),this.params=function(){return t},t},dataAttr:function(e){return this.srcEl&&this.srcEl.getAttribute("data-"+e)},attr:function(e){return this.srcEl&&this.srcEl.getAttribute(e)},layout:function(e){return v.enqueue(e)},styles:{base:[["font","normal normal normal 11px/18px 'Helvetica Neue', Arial, sans-serif"],["margin","0"],["padding","0"],["whiteSpace","nowrap"]],button:[["fontWeight","bold"],["textShadow","0 1px 0 rgba(255,255,255,.5)"]],large:[["fontSize","13px"],["lineHeight","26px"]],vbubble:[["fontSize","16px"]]},width:function(){throw new Error(name+" not implemented")},height:function(){return this.size=="m"?20:28},minWidth:function(){},maxWidth:function(){},minHeight:function(){},maxHeight:function(){},dimensions:function(){function e(e){switch(typeof e){case"string":return e;case"undefined":return;default:return e+"px"}}var t={width:this.width(),height:this.height()};return this.minWidth()&&(t["min-width"]=this.minWidth()),this.maxWidth()&&(t["max-width"]=this.maxWidth()),this.minHeight()&&(t["min-height"]=this.minHeight()),this.maxHeight()&&(t["max-height"]=this.maxHeight()),a.forIn(t,function(n,r){t[n]=e(r)}),t},generateId:function(){return this.srcEl&&this.srcEl.id||"twitter-widget-"+c++},completed:function(){return this.completePromise}}),y.afterLoad=function(e){d.push(e)},y.doLayout=function(){v.exec()},y.doLayoutAsync=function(){v.delayedExec()},y.init=function(e){h=e},y.find=function(e){return e&&p.byId[e]?p.byId[e].element:null},y.embed=function(e){var n=h.widgets,r=[],i=[],o=[];u.isArray(e)||(e=[e||document]),l.time("sandboxes"),a.forEach(e,function(e){a.forIn(n,function(n,i){var s,u;n.match(/\./)?(s=n.split("."),u=t.all(s[1],e,s[0])):u=e.getElementsByTagName(n),a.forEach(u,function(e){var t;if(e.getAttribute(m))return;e.setAttribute(m,"true"),t=new i(e),r.push(t),o.push(t.sandboxCreated)})})}),s.every.apply(null,o).then(function(){l.timeEnd("sandboxes")}),y.doLayout(),a.forEach(r,function(e){p.byId[e.id]=e,p.list.push(e),i.push(e.completed()),e.render(h)}),s.every.apply(null,i).then(function(e){e=a.filter(e,function(t){return t});if(!e.length)return;twttr.events.trigger("loaded",{widgets:e}),l.timeEnd("load")}),y.doLayoutAsync(),b()},window.setInterval(function(){y.doLayout()},500),e(y)})});provide("tfw/widget/intent",function(e){using("tfw/widget/base","util/util","util/querystring","util/uri","util/promise",function(t,n,r,i,s){function p(e){var t=Math.round(c/2-a/2),n=0;l>f&&(n=Math.round(l/2-f/2)),window.open(e,undefined,[u,"width="+a,"height="+f,"left="+t,"top="+n].join(","))}function d(e,t){using("tfw/hub/client",function(n){n.openIntent(e,t)})}function v(e){var t=~location.host.indexOf("poptip.com")?"https://poptip.com":location.href,n="original_referer="+t;return[e,n].join(e.indexOf("?")==-1?"?":"&")}function m(e){var t,r,i;e=e||window.event,t=e.target||e.srcElement;if(e.altKey||e.metaKey||e.shiftKey)return;while(t){if(~n.indexOf(["A","AREA"],t.nodeName))break;t=t.parentNode}t&&t.href&&(r=t.href.match(o),r&&(i=v(t.href),i=i.replace(/^http[:]/,"https:"),i=i.replace(/^\/\//,"https://"),g(i,t),e.returnValue=!1,e.preventDefault&&e.preventDefault()))}function g(e,t){if(twttr.events.hub&&t){var n=new y(h.generateId(),t);h.add(n),d(e,t),twttr.events.trigger("click",{target:t,region:"intent",type:"click",data:{}})}else p(e)}function y(e,t){this.id=e,this.element=this.srcEl=t}function b(e){this.srcEl=[],this.element=e}var o=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,u="scrollbars=yes,resizable=yes,toolbar=no,location=yes",a=550,f=520,l=screen.height,c=screen.width,h;b.prototype=new t,n.aug(b.prototype,{render:function(){return h=this,window.__twitterIntentHandler||(document.addEventListener?document.addEventListener("click",m,!1):document.attachEvent&&document.attachEvent("onclick",m),window.__twitterIntentHandler=!0),s.fulfill(document.body)}}),b.open=g,e(b)})});provide("tfw/widget/syndicatedbase",function(e){using("tfw/widget/base","tfw/widget/intent","tfw/util/assets","tfw/util/globals","tfw/util/media","tfw/util/tracking","dom/classname","dom/get","dom/delegate","sandbox/frame","util/env","util/promise","util/twitter","util/typevalidator","util/util",function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){function T(){w=N.VALID_COLOR.test(i.val("widgets:link-color"))&&RegExp.$1,S=N.VALID_COLOR.test(i.val("widgets:border-color"))&&RegExp.$1,E=i.val("widgets:theme")}function N(e){if(!e)return;var n;this.readyPromise=new h(v.bind(function(e){this.readyResolver=e},this)),this.renderedPromise=new h(v.bind(function(e){this.renderResolver=e},this)),t.apply(this,[e]),n=this.params(),this.targetEl=this.srcEl&&this.srcEl.parentNode||n.targetEl||document.body,this.predefinedWidth=N.VALID_UNIT.test(n.width||this.attr("width"))&&RegExp.$1,this.layout(v.bind(function(){return this.containerWidth=this.targetEl&&this.targetEl.offsetWidth},this)).then(v.bind(function(e){var t=this.predefinedWidth||e||this.dimensions.DEFAULT_WIDTH;this.height=N.VALID_UNIT.test(n.height||this.attr("height"))&&RegExp.$1,this.width=Math.max(this.dimensions.MIN_WIDTH,Math.min(t,this.dimensions.DEFAULT_WIDTH))},this)),N.VALID_COLOR.test(n.linkColor||this.dataAttr("link-color"))?this.linkColor=RegExp.$1:this.linkColor=w,N.VALID_COLOR.test(n.borderColor||this.dataAttr("border-color"))?this.borderColor=RegExp.$1:this.borderColor=S,this.theme=n.theme||this.attr("data-theme")||E,this.theme=/(dark|light)/.test(this.theme)?this.theme:"",this.classAttr.push(c.touch()?"is-touch":"not-touch"),c.ie9()&&this.classAttr.push("ie9"),this.sandboxCreated=l.createSandbox({"class":this.renderedClassNames,id:this.id},{width:"1px",height:"0px",border:"none",position:"absolute",visibility:"hidden"},v.bind(function(e){this.srcEl?this.targetEl.insertBefore(e,this.srcEl):this.targetEl.appendChild(e)},this),this.layout).then(v.bind(function(e){this.setupSandbox(e)},this))}function C(e,t){return e+t}var m=[".customisable",".customisable:link",".customisable:visited",".customisable:hover",".customisable:focus",".customisable:active",".customisable-highlight:hover",".customisable-highlight:focus","a:hover .customisable-highlight","a:focus .customisable-highlight"],g=["a:hover .ic-mask","a:focus .ic-mask"],y=[".customisable-border"],b=[".timeline-header h1.summary",".timeline-header h1.summary a:link",".timeline-header h1.summary a:visited"],w,E,S,x={TWEET:0,RETWEET:10};N.prototype=new t,v.aug(N.prototype,{setupSandbox:function(e){this.sandbox=e,h.some(e.appendCss("body{display:none}"),e.setBaseTarget("_blank"),e.appendStyleSheet(twttr.widgets.config.assetUrl()+"/"+r("embed/timeline.css"))).then(v.bind(function(){this.readyResolver.fulfill(e)},this))},ready:function(){return this.readyPromise},rendered:function(){return this.renderedPromise},contentWidth:function(e){var t=this.dimensions,n=this.fullBleedPhoto?0:this.chromeless&&this.narrow?t.NARROW_MEDIA_PADDING_CL:this.chromeless?t.WIDE_MEDIA_PADDING_CL:this.narrow?t.NARROW_MEDIA_PADDING:t.WIDE_MEDIA_PADDING;return(e||this.width)-n},addSiteStyles:function(){var e=v.bind(function(e){return(this.theme=="dark"?".thm-dark ":"")+e},this),t=[];this.headingStyle&&t.push(v.map(b,e).join(",")+"{"+this.headingStyle+"}"),this.linkColor&&(t.push(v.map(m,e).join(",")+"{color:"+this.linkColor+"}"),t.push(v.map(g,e).join(",")+"{background-color:"+this.linkColor+"}")),this.borderColor&&t.push(v.map(y,e).concat(this.theme=="dark"?[".thm-dark.customisable-border"]:[]).join(",")+"{border-color:"+this.borderColor+"}");if(!t.length)return;return this.sandbox.appendCss(t.join(""))},setNarrow:function(){var e=this.narrow;return this.narrow=this.width<this.dimensions.NARROW_WIDTH,e!=this.narrow?this.layout(v.bind(function(){return u.toggle(this.element,"var-narrow",this.narrow)},this)):h.fulfill(this.narrow)},bindIntentHandlers:function(){function r(n){var r=a.ancestor(".tweet",this,t),i=v.aug({},e.baseScribeData(),e.extractTweetScribeDetails(r));o.scribeInteraction(n,i,!0,e.dnt)}var e=this,t=this.element;f.delegate(t,"click","A",r),f.delegate(t,"click","BUTTON",r),f.delegate(t,"click",".profile",function(){e.addUrlParams(this)}),f.delegate(t,"click",".follow-button",function(t){var r;if(t.altKey||t.metaKey||t.shiftKey)return;if(c.ios()||c.android())return;if(d.asBoolean(this.getAttribute("data-age-gate")))return;r=p.intentForFollowURL(this.href,!0),r&&(n.open(r,e.sandbox.element()),f.preventDefault(t))}),f.delegate(t,"click",".web-intent",function(t){e.addUrlParams(this);if(t.altKey||t.metaKey||t.shiftKey)return;n.open(this.href,e.sandbox.element()),f.preventDefault(t)})},baseScribeData:function(){return{}},extractTweetScribeDetails:function(e){var t,n,r={};return e?(t=e.getAttribute("data-tweet-id"),n=e.getAttribute("data-rendered-tweet-id")||t,n==t?r[n]={item_type:x.TWEET}:t&&(r[n]={item_type:x.RETWEET,target_type:x.TWEET,target_id:t}),r):r},constrainMedia:function(e,t){return s.constrainMedia(e||this.element,t||this.contentWidth(),this.fullBleedPhoto,this.layout)},collapseRegions:function(){v.forEach(a.all("collapsible-container",this.element),v.bind(function(e){var t=e.children,n=t.length&&e.offsetWidth,r=t.length&&v.map(t,function(e){return e.offsetWidth}),i=t.length,s,o;if(!t.length)return;while(i>0){i--,s=v.reduce(r,C,0);if(!n||!s)return;if(s<n)return;o=t[i].getAttribute("data-collapsed-class");if(!o)continue;u.add(this.element,o),r[i]=t[i].offsetWidth}},this))}}),N.VALID_UNIT=/^([0-9]+)( ?px)?$/,N.VALID_COLOR=/^(#(?:[0-9a-f]{3}|[0-9a-f]{6}))$/i,T(),e(N)})});provide("tfw/widget/timeline",function(e){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","util/promise","anim/transition","tfw/util/article","tfw/util/data","tfw/util/media","tfw/util/tracking","tfw/util/params","util/css","util/env","util/throttle","util/twitter","util/querystring","util/typevalidator","util/util","dom/delegate","dom/classname","dom/get",function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w){function q(e){if(!e)return;var t,r,i,s,o,u,a,f;n.apply(this,[e]),t=this.params(),r=(t.chrome||this.dataAttr("chrome")||"").split(" "),this.preview=t.previewParams,this.widgetId=t.widgetId||this.dataAttr("widget-id"),this.instanceId=++I,this.cursors={maxPosition:0,minPosition:0},(s=t.screenName||this.dataAttr("screen-name"))||(o=t.userId||this.dataAttr("user-id"))?this.override={overrideType:"user",overrideId:o,overrideName:s,withReplies:m.asBoolean(t.showReplies||this.dataAttr("show-replies"))?"true":"false"}:(s=t.favoritesScreenName||this.dataAttr("favorites-screen-name"))||(o=t.favoritesUserId||this.dataAttr("favorites-user-id"))?this.override={overrideType:"favorites",overrideId:o,overrideName:s}:((s=t.listOwnerScreenName||this.dataAttr("list-owner-screen-name"))||(o=t.listOwnerId||this.dataAttr("list-owner-id")))&&((u=t.listId||this.dataAttr("list-id"))||(a=t.listSlug||this.dataAttr("list-slug")))?this.override={overrideType:"list",overrideOwnerId:o,overrideOwnerName:s,overrideId:u,overrideName:a}:(f=t.customTimelineId||this.dataAttr("custom-timeline-id"))?this.override={overrideType:"custom",overrideId:f}:this.override={},this.tweetLimit=m.asInt(t.tweetLimit||this.dataAttr("tweet-limit")),this.staticTimeline=this.tweetLimit>0,r.length&&(i=~g.indexOf(r,"none"),this.chromeless=i||~g.indexOf(r,"transparent"),this.headerless=i||~g.indexOf(r,"noheader"),this.footerless=i||~g.indexOf(r,"nofooter"),this.borderless=i||~g.indexOf(r,"noborders"),this.noscrollbar=~g.indexOf(r,"noscrollbar")),this.headingStyle=c.sanitize(t.headingStyle||this.dataAttr("heading-style"),undefined,!0),this.classAttr.push("twitter-timeline-rendered"),this.ariaPolite=t.ariaPolite||this.dataAttr("aria-polite")}var E="1.0",S={CLIENT_SIDE_USER:0,CLIENT_SIDE_APP:2},x="timeline",T="new-tweets-bar",N="timeline-header",C="timeline-footer",k="stream",L="h-feed",A="tweet",O="expanded",M="detail-expander",_="expand",D="permalink",P="twitter-follow-button",H="no-more-pane",B="pending-scroll-in",j="pending-new-tweet",F="pending-new-tweet-display",I=0;q.prototype=new n,g.aug(q.prototype,{renderedClassNames:"twitter-timeline twitter-timeline-rendered",dimensions:{DEFAULT_HEIGHT:"600",DEFAULT_WIDTH:"520",NARROW_WIDTH:"320",MIN_WIDTH:"180",MIN_HEIGHT:"200",WIDE_MEDIA_PADDING:81,NARROW_MEDIA_PADDING:16,WIDE_MEDIA_PADDING_CL:60,NARROW_MEDIA_PADDING_CL:12},create:function(e){var n=this.sandbox.createElement("div"),r,s,o,u=[],l;n.innerHTML=e.body,r=n.children[0]||!1;if(!r)return;return this.reconfigure(e.config),this.discardStaticOverflow(r),this.sandbox.setTitle(r.getAttribute("data-iframe-title")||"Timeline"),a.retinize(r),this.constrainMedia(r),this.searchQuery=r.getAttribute("data-search-query"),this.profileId=r.getAttribute("data-profile-id"),this.timelineType=r.getAttribute("data-timeline-type"),l=this.getTweetDetails(n),g.forIn(l,function(e){u.push(e)}),o=this.baseScribeData(),o.item_ids=u,o.item_details=l,this.timelineType&&f.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:u.length?"results":"no_results"},o,!0,this.dnt),f.enqueue({page:"timeline",component:"timeline",element:"initial",action:u.length?"results":"no_results"},o,!0,this.dnt),f.flush(),this.ariaPolite=="assertive"&&(s=w.one(T,r,"DIV"),s.setAttribute("aria-polite","assertive")),r.id=this.id,r.className+=" "+this.classAttr.join(" "),r.lang=this.lang,this.augmentWidgets(r),this.ready().then(g.bind(function(e){e.appendChild(r).then(g.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),e.style({cssText:"",border:"none",maxWidth:"100%",minWidth:this.dimensions.MIN_WIDTH+"px"}),this.layout(g.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl),this.predefinedWidth=this.width,this.predefinedHeight=this.height,this.width=e.width(this.width),this.height=e.height(this.height)},this)).then(g.bind(function(){var n=[];this.width<this.predefinedWidth&&n.push(this.layout(g.bind(function(){this.width=e.width(this.predefinedWidth)},this))),this.height<this.predefinedHeight&&n.push(this.layout(g.bind(function(){this.height=e.height(this.predefinedHeight),this.recalculateStreamHeight()},this))),n.length&&t.doLayoutAsync(),n.push(i.fulfill()),i.every.apply(null,n).then(g.bind(function(){this.setNarrow(),this.sandbox.onresize(g.bind(this.handleResize,this)),this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),r},render:function(e,n){return!this.preview&&!this.widgetId?(this.completeResolver.reject(400),this.completed()):(this.staticTimeline?this.rendered().then(g.bind(function(e){this.layout(g.bind(function(){e.height(this.height=this.element.offsetHeight)},this)),t.doLayoutAsync()},this)):this.rendered().then(g.bind(function(){this.recalculateStreamHeight(),t.doLayoutAsync()},this)),this.preview?this.getPreviewTimeline():this.getTimeline(),n&&this.completed().then(n),this.completed())},getPreviewTimeline:function(){u.timelinePreview({success:g.bind(function(e){this.ready().then(g.bind(function(){this.element=this.create(e),this.readTranslations(),this.bindInteractions(),this.updateCursors(e.headers,{initial:!0}),t.doLayoutAsync()},this))},this),error:g.bind(function(e){if(!e||!e.headers){this.completeResolver.fulfill(this.srcEl);return}this.completeResolver.reject(e.headers.status)},this),params:this.preview})},getTimeline:function(){f.initPostLogging(),u.timeline(g.aug({id:this.widgetId,instanceId:this.instanceId,dnt:this.dnt,lang:this.lang,success:g.bind(function(e){this.ready().then(g.bind(function(){this.element=this.create(e),this.readTranslations(),this.bindInteractions(),this.updateTimeStamps(),this.updateCursors(e.headers,{initial:!0}),e.headers.xPolling&&/\d/.test(e.headers.xPolling)&&(this.pollInterval=e.headers.xPolling*1e3),this.staticTimeline||this.schedulePolling(),t.doLayoutAsync()},this))},this),error:g.bind(function(e){if(!e||!e.headers){this.completeResolver.fulfill(this.srcEl);return}this.completeResolver.reject(e.headers.status)},this)},this.override))},reconfigure:function(e){this.lang=e.lang,this.theme||(this.theme=e.theme),this.theme=="dark"&&this.classAttr.push("thm-dark"),this.chromeless&&this.classAttr.push("var-chromeless"),this.borderless&&this.classAttr.push("var-borderless"),this.headerless&&this.classAttr.push("var-headerless"),this.footerless&&this.classAttr.push("var-footerless"),this.staticTimeline&&this.classAttr.push("var-static"),!this.linkColor&&e.linkColor&&n.VALID_COLOR.test(e.linkColor)&&(this.linkColor=RegExp.$1),!this.height&&n.VALID_UNIT.test(e.height)&&(this.height=RegExp.$1),this.height=Math.max(this.dimensions.MIN_HEIGHT,this.height?this.height:this.dimensions.DEFAULT_HEIGHT),this.preview&&this.classAttr.push("var-preview"),this.narrow=this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.addSiteStyles()},getTweetDetails:function(e){var t=w.one(L,e),n,r={},i,s,o=0;n=t&&t.children||[];for(;i=n[o];o++)s=w.one(D,i,"A"),g.aug(r,this.extractTweetScribeDetails(i));return r},baseScribeData:function(){return{widget_id:this.widgetId,widget_origin:o.url(),client_version:E,message:this.partner,query:this.searchQuery,profile_id:this.profileId}},bindInteractions:function(){var e=this,t=this.element,n=!0;this.bindIntentHandlers(),y.delegate(t,"click",".load-tweets",function(t){n&&(n=!1,e.forceLoad(),y.stop(t))}),y.delegate(t,"click",".display-sensitive-image",function(n){e.showNSFW(w.ancestor("."+A,this,t)),y.stop(n)}),y.delegate(t,"mouseover","."+x,function(){e.mouseOver=!0}),y.delegate(t,"mouseout","."+x,function(){e.mouseOver=!1}),y.delegate(t,"mouseover","."+T,function(){e.mouseOverNotifier=!0}),y.delegate(t,"mouseout","."+T,function(){e.mouseOverNotifier=!1,window.setTimeout(function(){e.hideNewTweetNotifier()},3e3)});if(this.staticTimeline)return;y.delegate(t,"click","."+_,function(n){if(n.altKey||n.metaKey||n.shiftKey)return;e.toggleExpando(w.ancestor("."+A,this,t)),y.stop(n)}),y.delegate(t,"click","A",function(e){y.stopPropagation(e)}),y.delegate(t,"click",".with-expansion",function(t){e.toggleExpando(this),y.stop(t)}),y.delegate(t,"click",".load-more",function(){e.loadMore()}),y.delegate(t,"click","."+T,function(){e.scrollToTop(),e.hideNewTweetNotifier(!0)})},scrollToTop:function(){var e=w.one(k,this.element,"DIV");e.scrollTop=0,e.focus()},update:function(){var e=this,t=w.one(L,this.element),n=t&&t.children[0],r=n&&n.getAttribute("data-tweet-id");this.updateTimeStamps(),this.requestTweets(r,!0,function(t){t.childNodes.length>0&&e.insertNewTweets(t)})},loadMore:function(){var e=this,t=w.all(A,this.element,"LI").pop(),n=t&&t.getAttribute("data-tweet-id");this.requestTweets(n,!1,function(t){var r=w.one(H,e.element,"P"),i=t.childNodes[0];r.style.cssText="",i&&i.getAttribute("data-tweet-id")==n&&t.removeChild(i);if(t.childNodes.length>0){e.appendTweets(t);return}b.add(e.element,"no-more"),r.focus()})},forceLoad:function(){var e=this,t=!!w.all(L,this.element,"OL").length;this.requestTweets(1,!0,function(n){n.childNodes.length&&(e[t?"insertNewTweets":"appendTweets"](n),b.add(e.element,"has-tweets"))})},schedulePolling:function(e){var t=this;if(this.pollInterval===null)return;e=twttr.widgets.poll||e||this.pollInterval||1e4,e>-1&&window.setTimeout(function(){this.isUpdating||t.update(),t.schedulePolling()},e)},updateCursors:function(e,t){(t||{}).initial?(this.cursors.maxPosition=e.maxPosition,this.cursors.minPosition=e.minPosition):(t||{}).newer?this.cursors.maxPosition=e.maxPosition||this.cursors.maxPosition:this.cursors.minPosition=e.minPosition||this.cursors.minPosition},requestTweets:function(e,t,n){var r=this,i={id:this.widgetId,instanceId:this.instanceId,screenName:this.widgetScreenName,userId:this.widgetUserId,withReplies:this.widgetShowReplies,dnt:this.dnt,lang:this.lang};t&&this.cursors.maxPosition?i.minPosition=this.cursors.maxPosition:!t&&this.cursors.minPosition?i.maxPosition=this.cursors.minPosition:t?i.sinceId=e:i.maxId=e,i.complete=function(){this.isUpdating=!1},i.error=function(e){if(e&&e.headers){if(e.headers.status=="404"){r.pollInterval=null;return}if(e.headers.status=="503"){r.pollInterval*=1.5;return}}},i.success=function(e){var i=r.sandbox.createDocumentFragment(),s=r.sandbox.createElement("div"),o,u=[],l,c;r.updateCursors(e.headers,{newer:t}),e&&e.headers&&e.headers.xPolling&&/\d+/.test(e.headers.xPolling)&&(r.pollInterval=e.headers.xPolling*1e3);if(e&&e.body!==undefined){s.innerHTML=e.body;if(s.children[0]&&s.children[0].tagName!="LI")return;l=r.getTweetDetails(s);for(c in l)l.hasOwnProperty(c)&&u.push(c);u.length&&(o=r.baseScribeData(),o.item_ids=u,o.item_details=l,o.event_initiator=t?S.CLIENT_SIDE_APP:S.CLIENT_SIDE_USER,this.timelineType&&f.enqueue({page:this.timelineType+"_timeline",component:"timeline",element:"initial",action:u.length?"results":"no_results"},o,!0,this.dnt),f.enqueue({page:"timeline",component:"timeline",element:t?"newer":"older",action:"results"},o,!0,r.dnt),f.flush()),a.retinize(s),r.constrainMedia(s);while(s.children[0])i.appendChild(s.children[0]);n(i)}},u.timelinePoll(g.aug(i,this.override))},insertNewTweets:function(e){var t=this,n=w.one(k,this.element,"DIV"),r=w.one(L,n,"OL"),i=r.offsetHeight,o;r.insertBefore(e,r.firstChild),o=r.offsetHeight-i;if(n.scrollTop>40||this.mouseIsOver()){n.scrollTop=n.scrollTop+o,this.updateTimeStamps(),this.showNewTweetNotifier();return}b.remove(this.element,B),r.style.cssText="margin-top: -"+o+"px",window.setTimeout(function(){n.scrollTop=0,b.add(t.element,B),h.cssTransitions()?r.style.cssText="":s.animate(function(e){e<o?r.style.cssText="margin-top: -"+(o-e)+"px":r.style.cssText=""},o,500,s.easeOut)},500),this.updateTimeStamps(),this.timelineType!="custom"&&this.gcTweets(50)},appendTweets:function(e){var t=w.one(k,this.element,"DIV"),n=w.one(L,t,"OL");n.appendChild(e),this.updateTimeStamps()},gcTweets:function(e){var t=w.one(L,this.element,"OL"),n=t.children.length,r;e=e||50;for(;n>e&&(r=t.children[n-1]);n--)t.removeChild(r)},showNewTweetNotifier:function(){var e=this,t=w.one(T,this.element,"DIV"),n=t.children[0];t.style.cssText="",t.removeChild(n),t.appendChild(n),b.add(this.element,F),window.setTimeout(function(){b.add(e.element,j)},10),this.newNoticeDisplayTime=+(new Date),window.setTimeout(function(){e.hideNewTweetNotifier()},5e3)},hideNewTweetNotifier:function(e){var t=this;if(!e&&this.mouseOverNotifier)return;b.remove(this.element,j),window.setTimeout(function(){b.remove(t.element,F)},500)},augmentWidgets:function(e){var t=w.one(P,e,"A");if(!t)return;t.setAttribute("data-related",this.related),t.setAttribute("data-partner",this.partner),t.setAttribute("data-dnt",this.dnt),t.setAttribute("data-search-query",this.searchQuery),t.setAttribute("data-profile-id",this.profileId),this.width<250&&t.setAttribute("data-show-screen-name","false"),twttr.widgets.load(t.parentNode)},discardStaticOverflow:function(e){var t=w.one(L,e,"OL"),n;if(this.staticTimeline){this.height=0;while(n=t.children[this.tweetLimit])t.removeChild(n)}},hideStreamScrollBar:function(){var e=w.one(k,this.element,"DIV"),t=w.one(L,this.element,"OL"),n;e.style.width="",n=this.element.offsetWidth-t.offsetWidth,n>0&&(e.style.width=this.element.offsetWidth+n+"px")},readTranslations:function(){var e=this.element,t="data-dt-";this.datetime=new r(g.compact({phrases:{now:e.getAttribute(t+"now"),s:e.getAttribute(t+"s"),m:e.getAttribute(t+"m"),h:e.getAttribute(t+"h"),second:e.getAttribute(t+"second"),seconds:e.getAttribute(t+"seconds"),minute:e.getAttribute(t+"minute"),minutes:e.getAttribute(t+"minutes"),hour:e.getAttribute(t+"hour"),hours:e.getAttribute(t+"hours")},months:e.getAttribute(t+"months").split("|"),formats:{abbr:e.getAttribute(t+"abbr"),shortdate:e.getAttribute(t+"short"),longdate:e.getAttribute(t+"long")}}))},updateTimeStamps:function(){var e=w.all(D,this.element,"A"),t,n,r=0,i,s;for(;t=e[r];r++){i=t.getAttribute("data-datetime"),s=i&&this.datetime.timeAgo(i,this.i18n),n=t.getElementsByTagName("TIME")[0];if(!s)continue;if(n&&n.innerHTML){n.innerHTML=s;continue}t.innerHTML=s}},mouseIsOver:function(){return this.mouseOver},addUrlParams:function(e){var t=this,n={tw_w:this.widgetId,related:this.related,partner:this.partner,query:this.searchQuery,profile_id:this.profileId,original_referer:o.url(),tw_p:"embeddedtimeline"};return this.addUrlParams=l(n,function(e){var n=w.ancestor("."+A,e,t.element);return n&&{tw_i:n.getAttribute("data-tweet-id")}}),this.addUrlParams(e)},showNSFW:function(e){var t=w.one("nsfw",e,"DIV"),n,r,i=0,s,o,u,f;if(!t)return;r=a.scaleDimensions(t.getAttribute("data-width"),t.getAttribute("data-height"),this.contentWidth(),t.getAttribute("data-height")),n=!!(o=t.getAttribute("data-player")),n?u=this.sandbox.createElement("iframe"):(u=this.sandbox.createElement("img"),o=t.getAttribute(h.retina()?"data-image-2x":"data-image"),u.alt=t.getAttribute("data-alt"),f=this.sandbox.createElement("a"),f.href=t.getAttribute("data-href"),f.appendChild(u)),u.title=t.getAttribute("data-title"),u.src=o,u.width=r.width,u.height=r.height,s=w.ancestor("."+M,t,e),i=r.height-t.offsetHeight,t.parentNode.replaceChild(n?u:f,t),s.style.cssText="height:"+(s.offsetHeight+i)+"px"},toggleExpando:function(e){var n=w.one(M,e,"DIV"),r=n&&n.children[0],i=r&&r.getAttribute("data-expanded-media"),s,o=0,u=w.one(_,e,"A"),f=u&&u.getElementsByTagName("B")[0],l=f&&(f.innerText||f.textContent),c;if(!f)return;this.layout(function(){f.innerHTML=u.getAttribute("data-toggled-text"),u.setAttribute("data-toggled-text",l)});if(b.present(e,O)){this.layout(function(){b.remove(e,O)});if(!n){t.doLayout();return}this.layout(function(){n.style.cssText="",r.innerHTML=""}),t.doLayout();return}i&&(s=this.sandbox.createElement("DIV"),s.innerHTML=i,a.retinize(s),o=this.constrainMedia(s),this.layout(function(){r.appendChild(s)})),n&&this.layout(function(){c=Math.max(r.offsetHeight,o),n.style.cssText="height:"+c+"px"}),this.layout(function(){b.add(e,O)}),t.doLayout()},recalculateStreamHeight:function(e){var t=w.one(N,this.element,"DIV"),n=w.one(C,this.element,"DIV"),r=w.one(k,this.element,"DIV");this.layout(g.bind(function(){var i=t.offsetHeight+(n?n.offsetHeight:0),s=e||this.sandbox.height();r.style.cssText="height:"+(s-i-2)+"px",this.noscrollbar&&this.hideStreamScrollBar()},this))},handleResize:function(e,n){var r=Math.min(this.dimensions.DEFAULT_WIDTH,Math.max(this.dimensions.MIN_WIDTH,Math.min(this.predefinedWidth||this.dimensions.DEFAULT_WIDTH,e)));if(r==this.width&&n==this.height)return;this.width=r,this.height=n,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(r)),this.staticTimeline?this.layout(g.bind(function(){this.height=this.element.offsetHeight,this.sandbox.height(this.height),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)):(this.recalculateStreamHeight(n),twttr.events.trigger("resize",{target:this.sandbox.element()})),t.doLayoutAsync()}}),e(q)})});provide("tfw/widget/embed",function(e){using("tfw/widget/base","tfw/widget/syndicatedbase","util/datetime","tfw/util/params","dom/classname","dom/get","util/env","util/promise","util/util","util/throttle","util/twitter","tfw/util/article","tfw/util/data","tfw/util/tracking","tfw/util/media",function(t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){function E(e,t,n,r){var i=o.one("subject",e,"BLOCKQUOTE"),s=o.one("reply",e,"BLOCKQUOTE"),u=i&&i.getAttribute("data-tweet-id"),a=s&&s.getAttribute("data-tweet-id"),l={},c={};if(!u)return;l[u]={item_type:0},d.enqueue({page:"tweet",section:"subject",component:"tweet",action:"results"},f.aug({},t,{item_ids:[u],item_details:l}),!0,r);if(!a)return;c[a]={item_type:0},d.enqueue({page:"tweet",section:"conversation",component:"tweet",action:"results"},f.aug({},t,{item_ids:[a],item_details:c,associations:{4:{association_id:u,association_type:4}}}),!0,r)}function S(e,t,n){var r={};if(!e)return;r[e]={item_type:0},d.enqueue({page:"tweet",section:"subject",component:"rawembedcode",action:"no_results"},{client_version:m,widget_origin:h.url(),widget_frame:h.frameUrl(),message:t,item_ids:[e],item_details:r},!0,n)}function x(e,t,n,r){y[e]=y[e]||[],y[e].push({s:n,f:r,lang:t})}function T(){w.length&&twttr.widgets.load(w)}function N(e){if(!e)return;var t,r,i;n.apply(this,[e]),t=this.params(),r=this.srcEl&&this.srcEl.getElementsByTagName("A"),i=r&&r[r.length-1],this.hideThread=(t.conversation||this.dataAttr("conversation"))=="none"||~f.indexOf(this.classAttr,"tw-hide-thread"),this.hideCard=(t.cards||this.dataAttr("cards"))=="hidden"||~f.indexOf(this.classAttr,"tw-hide-media");if((t.align||this.attr("align"))=="left"||~f.indexOf(this.classAttr,"tw-align-left"))this.align="left";else if((t.align||this.attr("align"))=="right"||~f.indexOf(this.classAttr,"tw-align-right"))this.align="right";else if((t.align||this.attr("align"))=="center"||~f.indexOf(this.classAttr,"tw-align-center"))this.align="center",this.containerWidth>this.dimensions.MIN_WIDTH*(1/.7)&&this.width>this.containerWidth*.7&&(this.width=this.containerWidth*.7);this.narrow=t.narrow||this.width<=this.dimensions.NARROW_WIDTH,this.narrow&&this.classAttr.push("var-narrow"),this.tweetId=t.tweetId||i&&c.status(i.href)}var m="2.0",g="tweetembed",y={},b=[],w=[];N.prototype=new n,f.aug(N.prototype,{renderedClassNames:"twitter-tweet twitter-tweet-rendered",dimensions:{DEFAULT_HEIGHT:"0",DEFAULT_WIDTH:"500",NARROW_WIDTH:"350",MIN_WIDTH:"220",MIN_HEIGHT:"0",WIDE_MEDIA_PADDING:32,NARROW_MEDIA_PADDING:32},create:function(e){var t=this.sandbox.createElement("div"),n,r;t.innerHTML=e,n=t.children[0]||!1;if(!n)return;return this.theme=="dark"&&this.classAttr.push("thm-dark"),this.linkColor&&this.addSiteStyles(),s.present(n,"media-forward")&&(this.fullBleedPhoto=!0),this.augmentWidgets(n),v.retinize(n),n.id=this.id,n.className+=" "+this.classAttr.join(" "),n.lang=this.lang,this.sandbox.setTitle(n.getAttribute("data-iframe-title")||"Tweet"),this.sandbox.appendChild(n).then(f.bind(function(){this.renderResolver.fulfill(this.sandbox)},this)),this.sandbox.style({cssText:"",display:"block",maxWidth:"99%",minWidth:this.dimensions.MIN_WIDTH+"px",padding:"0",borderRadius:"5px",margin:"10px 0",border:"#ddd 1px solid",borderTopColor:"#eee",borderBottomColor:"#bbb",boxShadow:"0 1px 3px rgba(0,0,0,0.15)",position:"absolute",visibility:"hidden"}),r=this.layout(f.bind(function(){this.predefinedWidth=this.width,this.width=this.sandbox.width(this.width),this.collapseRegions()},this),"Insert Sandbox"),r.then(f.bind(function(){this.constrainMedia(n,this.contentWidth(this.width)),this.setNarrow().then(f.bind(function(){this.layout(f.bind(function(){this.completeResolver.fulfill(this.sandbox.element())},this))},this))},this)),E(n,this.baseScribeData(),this.partner,this.dnt),n},render:function(e,n){var r="",i=this.tweetId;return i?(this.hideCard&&(r+="c"),this.hideThread&&(r+="t"),r&&(i+="-"+r),this.rendered().then(f.bind(function(e){this.srcEl&&this.srcEl.parentNode&&this.layout(f.bind(function(){this.srcEl&&this.srcEl.parentNode&&this.srcEl.parentNode.removeChild(this.srcEl)},this),"Remove Embed Code"),this.align=="center"?e.style({margin:"7px auto",cssFloat:"none"}):this.align&&(this.width==this.dimensions.DEFAULT_WIDTH&&(this.predefinedWidth=this.width=this.dimensions.NARROW_WIDTH),e.style({cssFloat:this.align})),this.layout(f.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this)).then(f.bind(function(){return t.doLayoutAsync(),this.layout(f.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight)},this))},this)).then(f.bind(function(){e.onresize(f.bind(this.handleResize,this))},this)),e.style({position:"static",visibility:"visible"}),t.doLayoutAsync()},this)),x(i,this.lang,f.bind(function(n){this.ready().then(f.bind(function(){this.element=this.create(n),this.readTimestampTranslations(),this.updateTimeStamps(),this.bindIntentHandlers(),t.doLayoutAsync()},this))},this),f.bind(function(){S(this.tweetId,this.partner,this.dnt),this.completeResolver.fulfill(this.srcEl)},this)),b.push(this.rendered()),n&&this.completed().then(n),this.completed()):(this.completeResolver.fulfill(this.srcEl),this.completed())},augmentWidgets:function(e){var t=o.one("twitter-follow-button",e,"A");if(!t)return;t.setAttribute("data-related",this.related),t.setAttribute("data-partner",this.partner),t.setAttribute("data-dnt",this.dnt),t.setAttribute("data-show-screen-name","false"),w.push(t.parentNode)},addUrlParams:function(e){var t=this,n={related:this.related,partner:this.partner,original_referer:h.url(),tw_p:g};return this.addUrlParams=i(n,function(e){var n=o.ancestor(".tweet",e,t.element);return{tw_i:n.getAttribute("data-tweet-id")}}),this.addUrlParams(e)},baseScribeData:function(){return{client_version:m,widget_origin:h.url(),widget_frame:h.frameUrl(),message:this.partner}},handleResize:function(e){if(e==this.width)return;this.width=e,this.setNarrow(),this.constrainMedia(this.element,this.contentWidth(e)),this.collapseRegions(),this.layout(f.bind(function(){this.height=this.sandbox.height(this.element.offsetHeight),twttr.events.trigger("resize",{target:this.sandbox.element()})},this)),t.doLayoutAsync()},readTimestampTranslations:function(){var e=this.element,t="data-dt-",n=e.getAttribute(t+"months")||"";this.datetime=new r(f.compact({phrases:{AM:e.getAttribute(t+"am"),PM:e.getAttribute(t+"pm")},months:n.split("|"),formats:{full:e.getAttribute(t+"full")}}))},updateTimeStamps:function(){var e=o.one("long-permalink",this.element,"A"),n=e.getAttribute("data-datetime"),r=n&&this.datetime.localTimeStamp(n),i=e.getElementsByTagName("TIME")[0];if(!r)return;this.layout(function(){if(i&&i.innerHTML){i.innerHTML=r;return}e.innerHTML=r},"Update Timestamp"),t.doLayoutAsync()}}),N.fetchAndRender=function(){var e=y,n=[],r,i;y={};if(e.keys)n=e.keys();else for(r in e)e.hasOwnProperty(r)&&n.push(r);if(!n.length)return;d.initPostLogging(),i=e[n[0]][0].lang,p.tweets({ids:n.sort(),lang:i,complete:function(n){f.forIn(n,function(t,n){var r=e[t];f.forEach(r,function(e){e.s&&e.s.call(this,n)}),delete e[t]}),t.doLayout(),f.forIn(e,function(e,t){f.forEach(t,function(t){t.f&&t.f.call(this,e)})}),t.doLayout()}}),a.every.apply(null,b).then(function(){T(),d.flush()})},t.afterLoad(N.fetchAndRender),e(N)})});provide("dom/textsize",function(e){function n(e,t,n){var r=[],i=0,s;for(;s=n[i];i++)r.push(s[0]),r.push(s[1]);return e+t+r.join(":")}function r(e){var t=e||"";return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var t={};e(function(e,i,s){var o=document.createElement("span"),u={},a="",f,l=0,c=0,h=[];s=s||[],i=i||"",a=n(e,i,s);if(t[a])return t[a];o.className=i+" twitter-measurement";try{for(;f=s[l];l++)o.style[f[0]]=f[1]}catch(p){for(;f=s[c];c++)h.push(r(f[0])+":"+f[1]);o.setAttribute("style",h.join(";")+";")}return o.innerHTML=e,document.body.appendChild(o),u.width=o.clientWidth||o.offsetWidth,u.height=o.clientHeight||o.offsetHeight,document.body.removeChild(o),o=null,t[a]=u})});provide("tfw/widget/follow",function(e){using("util/util","tfw/widget/base","util/querystring","util/uri","util/twitter","util/promise","dom/textsize",function(t,n,r,i,s,o,u){function a(e){if(!e)return;var t,r,i,o;n.apply(this,[e]),t=this.params(),r=t.size||this.dataAttr("size"),i=t.showScreenName||this.dataAttr("show-screen-name"),o=t.count||this.dataAttr("count"),this.classAttr.push("twitter-follow-button"),this.showScreenName=i!="false",this.showCount=t.showCount!==!1&&this.dataAttr("show-count")!="false",o=="none"&&(this.showCount=!1),this.explicitWidth=t.width||this.dataAttr("width")||"",this.screenName=t.screen_name||t.screenName||s.screenName(this.attr("href")),this.preview=t.preview||this.dataAttr("preview")||"",this.align=t.align||this.dataAttr("align")||"",this.size=r=="large"?"l":"m"}a.prototype=new n,t.aug(a.prototype,{parameters:function(){var e={screen_name:this.screenName,lang:this.lang,show_count:this.showCount,show_screen_name:this.showScreenName,align:this.align,id:this.id,preview:this.preview,size:this.size,partner:this.partner,dnt:this.dnt,_:+(new Date)};return t.compact(e),r.encode(e)},width:function(){if(this.calculatedWidth)return this.calculatedWidth;if(this.explicitWidth)return this.explicitWidth;var e={cnt:13,btn:24,xlcnt:22,xlbtn:38},n=this.showScreenName?"Follow %{screen_name}":"Follow",r=this._(n,{screen_name:"@"+this.screenName}),i=~t.indexOf(["ja","ko"],this.lang)?this._("10k unit"):this._("M"),s=this._("%{followers_count} followers",{followers_count:"88888"+i}),o=0,a=0,f,l,c=this.styles.base;return this.size=="l"?(c=c.concat(this.styles.large),f=e.xlbtn,l=e.xlcnt):(f=e.btn,l=e.cnt),this.showCount&&(a=u(s,"",c).width+l),o=u(r,"",c.concat(this.styles.button)).width+f,this.calculatedWidth=o+a},render:function(e,n){if(!this.screenName)return o.reject("Missing Screen Name").then(n);var r=twttr.widgets.config.assetUrl()+"/widgets/follow_button.1404859412.html#"+this.parameters(),i=this.create(r,this.dimensions(),{title:this._("Twitter Follow Button")}).then(t.bind(function(e){return this.element=e},this));return n&&i.then(n),i}}),e(a)})});provide("tfw/widget/tweetbutton",function(e){using("tfw/widget/base","tfw/util/globals","util/util","util/querystring","util/uri","util/twitter","util/typevalidator","dom/textsize",function(t,n,r,i,s,o,u,a){function p(e){t.apply(this,[e]);var i=this.params(),u=i.count||this.dataAttr("count"),a=i.size||this.dataAttr("size"),p=s.getScreenNameFromPage(),d=""+(i.shareWithRetweet||this.dataAttr("share-with-retweet")||n.val("share-with-retweet"));this.classAttr.push("twitter-tweet-button"),i.type=="hashtag"||~r.indexOf(this.classAttr,"twitter-hashtag-button")?(this.type="hashtag",this.classAttr.push("twitter-hashtag-button")):i.type=="mention"||~r.indexOf(this.classAttr,"twitter-mention-button")?(this.type="mention",this.classAttr.push("twitter-mention-button")):this.classAttr.push("twitter-share-button"),this.text=i.text||this.dataAttr("text"),this.text&&/\+/.test(this.text)&&!/ /.test(this.text)&&(this.text=this.text.replace(/\+/g," ")),this.counturl=i.counturl||this.dataAttr("counturl"),this.searchlink=i.searchlink||this.dataAttr("searchlink"),this.button_hashtag=o.hashTag(i.button_hashtag||i.hashtag||this.dataAttr("button-hashtag"),!1),this.size=a=="large"?"l":"m",this.align=i.align||this.dataAttr("align")||"",this.via=i.via||this.dataAttr("via"),this.hashtags=i.hashtags||this.dataAttr("hashtags"),this.screen_name=o.screenName(i.screen_name||i.screenName||this.dataAttr("button-screen-name")),this.url=i.url||this.dataAttr("url"),this.type?(this.count="none",this.shareWithRetweet="never",p&&(this.related=this.related?p+","+this.related:p)):(this.text=this.text||f,this.url=this.url||s.getCanonicalURL()||l,this.count=~r.indexOf(c,u)?u:"horizontal",this.count=this.count=="vertical"&&this.size=="l"?"none":this.count,this.via=this.via||p,d&&~r.indexOf(h,d)&&(this.shareWithRetweet=d.replace("-","_")))}var f=document.title,l=encodeURI(location.href),c=["vertical","horizontal","none"],h=[,"never","publisher-first","publisher-only","author-first","author-only"];p.prototype=new t,r.aug(p.prototype,{widgetUrlParams:function(){return r.compact({text:this.text,url:this.url,via:this.via,related:this.related,count:this.count,lang:this.lang,counturl:this.counturl,searchlink:this.searchlink,placeid:this.placeid,original_referer:location.href,id:this.id,size:this.size,type:this.type,screen_name:this.screen_name,share_with_retweet:this.shareWithRetweet,button_hashtag:this.button_hashtag,hashtags:this.hashtags,align:this.align,partner:this.partner,dnt:this.dnt,_:+(new Date)})},parameters:function(){return i.encode(this.widgetUrlParams())},height:function(){return this.count=="vertical"?62:this.size=="m"?20:28},width:function(){var e={ver:8,cnt:14,btn:24,xlcnt:18,xlbtn:38},t=this.count=="vertical",n=this.type=="hashtag"&&this.button_hashtag?"Tweet %{hashtag}":this.type=="mention"&&this.screen_name?"Tweet to %{name}":"Tweet",i=this._(n,{name:"@"+this.screen_name,hashtag:"#"+this.button_hashtag}),s=this._("K"),o=this._("100K+"),u=(t?"8888":"88888")+s,f=0,l=0,c=0,h=0,p=this.styles.base,d=p;return~r.indexOf(["ja","ko"],this.lang)?u+=this._("10k unit"):u=u.length>o.length?u:o,t?(d=p.concat(this.styles.vbubble),h=e.ver,c=e.btn):this.size=="l"?(p=d=p.concat(this.styles.large),c=e.xlbtn,h=e.xlcnt):(c=e.btn,h=e.cnt),this.count!="none"&&(l=a(u,"",d).width+h),f=a(i,"",p.concat(this.styles.button)).width+c,t?f>l?f:l:this.calculatedWidth=f+l},render:function(e,t){var n=twttr.widgets.config.assetUrl()+"/widgets/tweet_button.1404859412.html#"+this.parameters(),i;return this.count&&this.classAttr.push("twitter-count-"+this.count),i=this.create(n,this.dimensions(),{title:this._("Twitter Tweet Button")}).then(r.bind(function(e){return this.element=e},this)),t&&i.then(t),i}}),e(p)})});provide("tfw/factories",function(e){using("util/util","util/promise","util/twitter","tfw/widget/base","tfw/widget/tweetbutton","tfw/widget/follow","tfw/widget/embed","tfw/widget/timeline",function(t,n,r,i,s,o,u,a){function f(e,r,s,o){return e=e||[],s=s||{},function(){var u,a,f,l=Array.prototype.slice.apply(arguments,[0,e.length]),c=Array.prototype.slice.apply(arguments,[e.length]),h;return t.forEach(c,function(e){if(!e)return;if(e.nodeType===1){f=e;return}if(t.isType("function",e)){u=e;return}t.isType("object",e)&&(a=e)}),l.length!=e.length||c.length===0?(u&&t.async(function(){u(!1)}),n.reject("Not enough parameters")):f?(a=t.aug(a||{},s),a.targetEl=f,t.forEach(e,function(e){a[e]=l.shift()}),h=new r(a),i.doLayout(),h.render(twttr.widgets.config),o&&o(),u&&h.completed().then(u,function(){u(!1)}),h.completed()):(u&&t.async(function(){u(!1)}),n.reject("No target specified"))}}function l(e){var n;e.linkColor=e.linkColor||e.previewParams.link_color,e.theme=e.theme||e.previewParams.theme,e.height=e.height||e.previewParams.height,n=new a(e),this.render=t.bind(n.render,n),this.completed=t.bind(n.completed,n)}var c=f(["url"],s,{type:"share"}),h=f(["hashtag"],s,{type:"hashtag"}),p=f(["screenName"],s,{type:"mention"}),d=f(["screenName"],o),v=f(["tweetId"],u,{},u.fetchAndRender),m=f(["widgetId"],a),g=f(["previewParams"],l),y={createShareButton:c,createMentionButton:p,createHashtagButton:h,createFollowButton:d,createTweet:v,createTweetEmbed:v,createTimeline:m};r.isTwitterURL(window.location.href)&&(y.createTimelinePreview=g),e(y)})});!function(){window.twttr=window.twttr||{},twttr.host=twttr.host||"platform.twitter.com",using("util/domready","util/env","util/logger",function(e,t,n){function r(e){return(e||!/^http\:$/.test(window.location.protocol))&&!twttr.ignoreSSL?"https":"http"}if(t.ie6())return;if(twttr.widgets&&twttr.widgets.loaded)return twttr.widgets.load(),!1;if(twttr.init)return!1;twttr.init=!0,twttr._e=twttr._e||[],twttr.ready=twttr.ready||function(e){twttr.widgets&&twttr.widgets.loaded?e(twttr):twttr._e.push(e)},using.path.length||(using.path=r()+"://"+twttr.host+"/js"),twttr.ignoreSSL=twttr.ignoreSSL||!1;var i=[];twttr.events={bind:function(e,t){return i.push([e,t])}},e(function(){using("tfw/widget/base","tfw/widget/follow","tfw/widget/tweetbutton","tfw/widget/embed","tfw/widget/timeline","tfw/widget/intent","tfw/factories","tfw/util/article","util/events","util/util",function(e,t,s,o,u,a,f,l,c,h){function m(e){var t=twttr.host;return r(e)=="https"&&twttr.secureHost&&(t=twttr.secureHost),r(e)+"://"+t}function g(){using("tfw/hub/client",function(e){twttr.events.hub=e.init(p),e.init(p,!0)})}var p={widgets:{"a.twitter-share-button":s,"a.twitter-mention-button":s,"a.twitter-hashtag-button":s,"a.twitter-follow-button":t,"blockquote.twitter-tweet":o,"a.twitter-timeline":u,"div.twitter-timeline":u,body:a}},d=twttr.events&&twttr.events.hub?twttr.events:{},v;p.assetUrl=m,twttr.widgets=twttr.widgets||{},h.aug(twttr.widgets,f,{config:{assetUrl:m},load:function(t){n.time("load"),e.init(p),e.embed(t),twttr.widgets.loaded=!0}}),h.aug(twttr.events,d,c.Emitter),v=twttr.events.bind,twttr.events.bind=function(e,t){g(),this.bind=v,this.bind(e,t)},h.forEach(i,function(e){twttr.events.bind(e[0],e[1])}),h.forEach(twttr._e,function(e){h.async(function(){e(twttr)})}),twttr.ready=function(e){h.async(function(){e(twttr)})},twttr.widgets.load()})})})}()});


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/PopUp/cnbc-popup.js?t=1415322278 */
function CNBC_Popup(){}
CNBC_Popup.prototype.config={};CNBC_Popup.prototype.defaultConfig={closeOnBackgroudClick:false};CNBC_Popup.prototype.overlayBackground=null;CNBC_Popup.prototype.closeButton=null;CNBC_Popup.prototype.lightbox=null;CNBC_Popup.prototype.innerLink=null;CNBC_Popup.prototype.visible=false;CNBC_Popup.prototype.closePopup=function(){this.overlayBackground.fadeOut("normal");this.visible=false;};CNBC_Popup.prototype.init=function(options){var closePopupProxy;closePopupProxy=$.proxy(this.closePopup,this);this.config=$.extend({},this.defaultConfig,options);this.lightbox=$('#cnbc-popup-lightbox');this.closeButton=$('#cnbc-popup-close-btn');this.overlayBackground=$('#cnbc-popup-background');this.innerLink=$('#cnbc-popup-inner-link');this.closeButton.click(closePopupProxy);this.innerLink.click(function(){window.location.href="/";});this.lightbox.click(function(){return false;});if(this.config.closeOnBackgroudClick){this.overlayBackground.click(closePopupProxy);}};CNBC_Popup.prototype.alignPopup=function(){var bgHeight,lbHeight,marginTop;if(!this.visible){return;}
if(this.config.top){this.lightbox.css('margin-top',config.top);}else{bgHeight=this.overlayBackground.css('height');bgHeight=parseInt(bgHeight);lbHeight=this.lightbox.css('height');lbHeight=parseInt(lbHeight);marginTop=Math.floor((bgHeight-lbHeight)/2);this.lightbox.css('margin-top',marginTop+'px');}}
CNBC_Popup.prototype.windowResize=function(){this.alignPopup();}
CNBC_Popup.prototype.execute=function(){this.overlayBackground.fadeIn(1);this.visible=true;this.alignPopup();$(window).resize($.proxy(this.windowResize,this));};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/PopUp/cnbc-popup.2.js?t=1415322278 */
function CNBC_Popup2(){}
CNBC_Popup2.prototype.config={};CNBC_Popup2.prototype.defaultConfig={closeOnBackgroudClick:false,popupId:'',popupContent:'',initCallback:null,autoAlignPopup:true,autoHide:true};CNBC_Popup2.prototype.domStr='<div class="cnbc-popup-background" id="<popupId>">'+'<div class="cnbc-popup-lightbox">'+'<a class="cnbc-popup-close-btn">&times;</a>'+'<popupContent>'+'</div>'+'</div>';CNBC_Popup2.prototype.overlayBackground=null;CNBC_Popup2.prototype.closeButton=null;CNBC_Popup2.prototype.lightbox=null;CNBC_Popup2.prototype.visible=false;CNBC_Popup2.prototype.autoHideHandler=function(){if(!this.visible){return;}
if(this.config.beforeCloseCallback){this.config.beforeCloseCallback();}
if(this.config.autoHide){this.hide();if(this.config.afterCloseCallback){this.config.afterCloseCallback();}}};CNBC_Popup2.prototype.hide=function(){if(!this.visible){return;}
this.overlayBackground.fadeOut("normal");this.visible=false;}
CNBC_Popup2.prototype.init=function(options){var hideProxy,popupDomStr;this.config=$.extend({},this.defaultConfig,options);popupDomStr=this.domStr.replace("<popupId>",this.config.popupId);popupDomStr=popupDomStr.replace("<popupContent>",this.config.popupContent);$('body').append(popupDomStr);this.overlayBackground=$('#'+this.config.popupId);this.lightbox=this.overlayBackground.find('.cnbc-popup-lightbox');this.closeButton=this.overlayBackground.find('.cnbc-popup-close-btn');hideProxy=$.proxy(this.autoHideHandler,this);this.closeButton.click(hideProxy);this.lightbox.click(function(event){event.stopPropagation();});if(this.config.minHeight){this.lightbox.css('min-height',this.config.minHeight);}
if(this.config.minWidth){this.lightbox.css('min-width',this.config.minWidth);}
if(this.config.width){this.lightbox.css('width',this.config.width);}
if(this.config.closeOnBackgroudClick){this.overlayBackground.click(hideProxy);}
if(this.config.initCallback){this.config.initCallback();}};CNBC_Popup2.prototype.alignPopup=function(){var bgHeight,lbHeight,marginTop;if(!this.visible||!this.config.autoAlignPopup){return;}
if(this.config.top){this.lightbox.css('margin-top',this.config.top);}else{bgHeight=this.overlayBackground.css('height');bgHeight=parseInt(bgHeight);lbHeight=this.lightbox.css('height');lbHeight=parseInt(lbHeight);marginTop=Math.floor((bgHeight-lbHeight)/2);this.lightbox.css('margin-top',marginTop+'px');}};CNBC_Popup2.prototype.windowResize=function(){this.alignPopup();};CNBC_Popup2.prototype.loaderImg=function(show){if(show){this.lightbox.addClass('loader');}else{this.lightbox.removeClass('loader');}};CNBC_Popup2.prototype.show=function(){this.overlayBackground.fadeIn(1);this.visible=true;this.alignPopup();$(window).resize($.proxy(this.windowResize,this));};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Surf/CNBC_Surf_Signin_ui.js?t=1415322278 */
;var CNBC_Surf=CNBC_Surf||{};CNBC_Surf.Signin_Ui={surfOptions:{element:'bedrock-watchlist-container',responsive:true,debug:false},surfInitialized:false,surfTemplate:null,surfSignedIn:false,fadedIn:true,signinUI:null,tabs:null,currentAction:null,onCloseCallback:null,tabsEnabled:true,signinDomStr:'<div class="downArrowTabs surf" id="newTabsContainer">'+'<ul class="tab">'+'<li class=""><a href="#">LOG IN</a></li>'+'<li class="first"><a href="#">SIGN UP</a></li>'+'</ul>'+'<div id="bedrock-watchlist-container"></div>'+'<div id="bedrock-remember-me-container">'+'<form>'+'<input id="bedrock-remember-me" name="bedrock-remember-me" type="checkbox" value="1">'+'<label for="bedrock-remember-me">Keep Me Logged In</label>'+'</form>'+'</div>'+'<div id="bedrock-watchlist-signin-footer">'+'<div>'+'<img src="'+CNBC_Settings.baseurls.sc_base_protocol_agnostic+'/applications/cnbc.com/staticcontent/img/surf/xfinity-subscribers_@2x.png" id="bedrock-watchlist-xfinity-logo">'+'</div>'+'<div>'+'<button id="bedrock-xfinity-signin-button">Sign In Here</button>'+'</div>'+'</div>'+'</div>',surfUIFadeDuration:200,popupAnimateInDuration:400,verticalSlide:"610",signinUIBeforeCloseHandler:function(){this.setVisibility(false);},surfReadyHandler:function(event){this.surfInitialized=true;if(this.currentAction==="signin"&&!SURF.globals.session){this.surfSigninDialog();}else if(this.currentAction==="register"&&!SURF.globals.session){SURF.createAccountDialog();}},surfSigninHandler:function(event,user){console.log('SURF Sign-in Successful');this.setVisibility(false);},setSigninItemsVisibility:function(visible){var displayStyle=visible?'block':'none';$('#bedrock-watchlist-signin-footer, #bedrock-remember-me-container').css('display',displayStyle);},surfDialogVisibleHandler:function(event,paramObj){var self=this,tabIndex;if(!this.signinUI.visible){this.setVisibility(true);}
if(paramObj&&paramObj.template){this.surfTemplate=paramObj.template;}
if(event.type==='visible'){this.setSigninItemsVisibility(this.surfTemplate==='signin');tabIndex=(this.surfTemplate=='signin'||this.surfTemplate=='forgot_password')?1:2;if(this.tabs._tabIndex!=tabIndex){this.tabs._tabIndex=tabIndex;this.tabs.showDefaultTab();}
this.fadeEffect(true);setTimeout(function(){self.tabsEnabled=true;},1000);}
this.signinUI.loaderImg(event.type!=='visible');},surfDialogCloseHandler:function(){this.setVisibility(false);},startUIFlow:function(action){var tabArgs,self,tabIndex,signinUIOptions;this.setSigninItemsVisibility(false);self=this;this.currentAction=action;tabIndex=(action=='signin')?1:2;if(this.surfInitialized){this.tabs._tabIndex=tabIndex;this.tabs.showDefaultTab();if(this.currentAction==="signin"&&!SURF.globals.session){this.surfSigninDialog();}else if(this.currentAction==="register"&&!SURF.globals.session){SURF.createAccountDialog();}else if(this.currentAction==="reset"&&!SURF.globals.session){this.surfResetPwd();}}else{this.signinUI=new CNBC_Popup2();signinUIOptions={closeOnBackgroudClick:false,popupId:'bedrock-watchlist-signin-popup',popupContent:CNBC_Surf.Signin_Ui.signinDomStr,initCallback:null,beforeCloseCallback:$.proxy(this.signinUIBeforeCloseHandler,this),minHeight:'458px',width:'440px',autoAlignPopup:false,autoHide:false};this.signinUI.init(signinUIOptions);$('#bedrock-xfinity-signin-button').click(function(){var casUrl=CNBC_Settings.baseurls.register_base+'/sauth/rs/authenticate/20035?target=';var xfinityLoginLogicUrl='https:'+CNBC_Settings.baseurls.pub_base_protocol_agnostic+'/application/auth/xfinity-active?endpoint='+
window.location.href;window.location.href=casUrl+encodeURIComponent(xfinityLoginLogicUrl);});this.tabs=new CNBC_Tab();tabArgs={container:$('#newTabsContainer'),tabIndex:tabIndex,callback:function(){var tabIndex;self.tabsEnabled=false;self.setSigninItemsVisibility(false);tabIndex=$('#newTabsContainer ul.tab').parent().find('li.selected').index();if(tabIndex==0){self.fadeEffect(false,function(){$('#bedrock-watchlist-container').attr('visibility','hidden');self.surfSigninDialog();});}
else if(tabIndex==1){self.fadeEffect(false,function(){$('#bedrock-watchlist-container').attr('visibility','hidden');SURF.createAccountDialog();});};},okToHandleClickCallback:function(){return self.tabsEnabled;}};this.tabs.init(tabArgs);SURF.init(this.surfOptions);}},surfSigninDialog:function(){if(location.hash.indexOf('#sh=')==0){this.setVisibility(true);}else{setTimeout(SURF.signinDialog,1000);};},surfResetPwd:function(){},surfCreateAccountHandler:function(event,user){},surfCreateAccountErrorHandler:function(event){},setVisibility:function(visible){var that=this;if(visible){that.signinUI.show();that.signinUI.lightbox.animate({top:"+="+that.verticalSlide},that.popupAnimateInDuration,"swing",function(){});}else{that.signinUI.lightbox.animate({top:"-="+that.verticalSlide},that.popupAnimateOutDuration,"swing",function(){that.signinUI.hide();if(that.onCloseCallback){that.onCloseCallback();}});}},fadeEffect:function(fadeIn,callbackFunc){if(fadeIn!=this.fadedIn){this.fadedIn=fadeIn;$('#bedrock-watchlist-container').fadeToggle(this.surfUIFadeDuration,"linear",callbackFunc);}},loadingWindow:function(mode,onComplete){if(!$('#cover_div').length){$(document.body).append("<div class='cover_div' id='cover_div'><div class='Absolute-Center'><div class='loading'><img src='"+CNBC_Settings.baseurls.sc_base_protocol_agnostic+"/applications/cnbc.com/staticcontent/img/loader-2.gif' width=32></div></div></div>");};$('.Absolute-Center .loading').css('display','block');$('.Absolute-Center .msg').css('display','none');if(mode)
$('#cover_div').css("opacity",0.5).fadeIn(400,function(){if(onComplete){onComplete()}});else
$('#cover_div').fadeOut(400,function(){if(onComplete){onComplete()}});},init:function(){SURF.event.bind(SURF.events.READY,$.proxy(this.surfReadyHandler,this));SURF.event.bind(SURF.events.SIGNIN,$.proxy(this.surfSigninHandler,this));SURF.event.bind(SURF.events.SIGNIN_ERROR,$.proxy(this.surfSigninErrorHandler,this));SURF.event.bind(SURF.events.DIALOG.VISIBLE,$.proxy(this.surfDialogVisibleHandler,this));SURF.event.bind(SURF.events.DIALOG.OPEN,$.proxy(this.surfDialogVisibleHandler,this));SURF.event.bind(SURF.events.DIALOG.CLOSE,$.proxy(this.surfDialogVisibleHandler,this));SURF.event.bind(SURF.events.CREATE_ACCOUNT,$.proxy(this.surfCreateAccountHandler,this));SURF.event.bind(SURF.events.CREATE_ACCOUNT_ERROR,$.proxy(this.surfCreateAccountErrorHandler,this));}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Surf/CNBC_Bedrock.syncApi.js?t=1415322278 */
;if($.browser.msie&&$.browser.version*1<10){(function(c){if(c.browser.msie&&"XDomainRequest"in window&&!("__jquery_xdomain__"in c)){c.__jquery_xdomain__=c.support.cors=!0;var e=function(a){return"object"===c.type(a)?a:(a=/^(((([^:\/#\?]+:)?(?:\/\/((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?]+)(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/.exec(a))?{href:a[0]||"",hrefNoHash:a[1]||"",hrefNoSearch:a[2]||"",domain:a[3]||"",protocol:a[4]||"",authority:a[5]||"",username:a[7]||"",password:a[8]||"",host:a[9]||"",hostname:a[10]||"",port:a[11]||"",pathname:a[12]||"",directory:a[13]||"",filename:a[14]||"",search:a[15]||"",hash:a[16]||""}:{}},f=c.ajaxSettings.xhr,d="SESSION_COOKIE_NAME"in window?window.SESSION_COOKIE_NAME:"jsessionid",g=e(document.location.href).domain;c.ajaxSettings.xhr=function(){var a=e(this.url).domain;if(""===a||a===g)return f.call(c.ajaxSettings);try{var b=new XDomainRequest;if(!b.setRequestHeader)b.setRequestHeader=c.noop;if(!b.getAllResponseHeaders)b.getAllResponseHeaders=c.noop;if(d){var h=b.open;b.open=function(){var a=RegExp("(?:^|; )"+d+"=([^;]*)","i").exec(document.cookie);if(a=a&&a[1]){var b=arguments[1].indexOf("?");arguments[1]=-1==b?arguments[1]+(";"+d+"="+a):arguments[1].substring(0,b)+";"+d+"="+a+arguments[1].substring(b)}return h.apply(this,arguments)}}b.onload=function(){if("function"===typeof b.onreadystatechange)b.readyState=4,b.status=200,b.onreadystatechange.call(b,null,!1)};b.onerror=b.ontimeout=function(){if("function"===typeof b.onreadystatechange)b.readyState=4,b.status=500,b.onreadystatechange.call(b,null,!1)};return b}catch(i){}}}})(jQuery);};var CNBC_Bedrock=CNBC_Bedrock||{};CNBC_Bedrock.syncApi={defaults:{url:'//register.cnbc.com/auth/api/',uuid:'',pid:'150',action:'',token:'',data:'',timeout:4000,success:function(){},error:function(){}},uid:null,user:null,userBedrockPayload:null,syncCall:function(options){var opts=$.extend({},this.defaults,options);if(!opts.action||!opts.uuid||!opts.pid){return false};var url=opts.url+opts.pid+'/'+opts.uuid+'/sync?opi='+opts.action;jQuery.support.cors=true;$.ajax({url:url,type:'POST',dataType:'json',data:opts.data,timeout:opts.timeout,crossDomain:true,contentType:'text/plain',success:function(){opts.success.apply(this,arguments);},error:function(){opts.error.apply(this,arguments);}});},signInCall:function(options){var self=this;var opts=$.extend({},this.defaults,options);if(!opts.uuid||!opts.pid){return false};var attemptsToSignIn=3;var url=opts.url+opts.pid+'/'+opts.uuid+'/signin'+((opts.token)?'?token='+opts.token:'');jQuery.support.cors=true;var getAutoLoginUrlCall=function(){$.ajax({type:'POST',url:url,dataType:'json',crossDomain:true,timeout:opts.timeout,contentType:'text/plain',success:function(data){var serviceUrl=self.checkSearchParameter('service');var autoLoginURL=(serviceUrl)?(data.autoLoginURL+'&service='+serviceUrl):data.autoLoginURL;$.ajax({url:decodeURIComponent(autoLoginURL),dataType:'jsonp',jsonpCallback:'callback101',cache:true,async:false,success:function(){opts.success.apply(this,arguments);},error:function(){opts.error.apply(this,arguments);}});},error:function(data){if(attemptsToSignIn>1){attemptsToSignIn--;getAutoLoginUrlCall();}else{if(CNBC_Surf_Mediator.errorObjects.signIn){CNBC_Surf_Mediator.errorObjects.signIn.show();};};}});};getAutoLoginUrlCall();},signOutCall:function(options){var opts=$.extend({},this.defaults,options);if(!opts.uuid||!opts.pid){return false};var url=opts.url+opts.pid+'/'+opts.uuid+'/signout';jQuery.support.cors=true;$.ajax({type:'POST',url:url,dataType:'json',timeout:opts.timeout,crossDomain:true,success:function(){opts.success.apply(this,arguments);},error:function(){opts.error.apply(this,arguments);}});},payloadCall:function(options){var opts=$.extend({},this.defaults,options),self=this;if(!opts.pid){return false};var url=opts.url+opts.pid+'/payload';$.ajax({"url":url,crossDomain:true,dataType:'jsonp',type:"GET",success:function(){opts.success.apply(this,arguments);},error:function(){opts.error.apply(this,arguments);}});},checkSearchParameter:function(param){var searchString=location.search.substring(1).split('&');for(var i=0;i<searchString.length;i++){var tempArray=searchString[i].split('=');if(tempArray[0]==param){return tempArray[1];}};},casLogoutCall:function(){var serviceUrl=this.checkSearchParameter('service')||encodeURIComponent(location.href);var logoutUrl=CNBC_Settings.baseurls.pub_base_protocol_agnostic+"/application/auth/logout";if(window.activePartnerExperience=='xfinity'&&CNBC_Surf_Mediator.isCnbcLoggedIn()&&CNBC_Utils.readCookie('xfinity_passive_authenticated')=='true'){location.href=logoutUrl+'?'+CNBC_Xfinity_Experience.getLogoutUrl().split('?')[1];}else{window.location=logoutUrl+'?service='+serviceUrl;}}};


/* File BEGIN: http://fm.cnbc.com/applications/cnbc.com/staticcontent/scripts/libraries/Surf/CNBC_Surf_Mediator.js?t=1415322278 */
;var CNBC_Surf_Mediator={rememberMeCookieName:'c_to',useOmnitureLoad:false,createSurfSessionCookie:function(rememberMe){CNBC_Utils.deleteData(this.rememberMeCookieName);var rememberMeExpiration=rememberMe?(90*24):"";CNBC_Utils.createCookie(CNBC_Surf_Mediator.rememberMeCookieName,'YES!',rememberMeExpiration,false);},mobile:false,isSignIntoBedrockCalled:false,validateSurfSession:function(){var result=true;var cookieVal=CNBC_Utils.readData(this.rememberMeCookieName);if(!cookieVal){CNBC_Utils.deleteData('c_cnbc_session_valid');if(this.isSurfSignedIn()){CNBC_Utils.deleteData('c_surf_session_valid');if(SURF.isReady){SURF.signout({});}else{if(!SURF.isReady){CNBC_Surf.Signin_Ui.startUIFlow('load');};};};result=false;}else{if(!this.isCnbcLoggedIn()){if(!SURF.isReady){CNBC_Surf.Signin_Ui.startUIFlow('load');};};this.updateHeader();};return result;},errorObjects:{create:null,createSurf:null,xfinitySignIn:null,signIn:null,signInAutoLogin:null},debug:false,isInitialized:false,init:function(params){var uid,user,session;var self=this;var defaults={'debug':false,'mobile':false};var params=params||{};params=$.extend({},defaults,params);self.mobile=params.mobile;self.debug=params.debug;self.errorMsgInit();self.isInitialized=true;$('#bedrock-xfinity-signin-button').click(function(){if(window.s){s.linkTrackVars="eVar48,prop48";s.eVar48="registration:log in:Xfinity Sign In:global";s.prop48=" registration:log in:Xfinity Sign In:global ";s.tl(this,'o',"Registration Module");};});$('#login-container #signout').unbind();$('#login-container #signout, .reg-user #mobile-logout a').click(function(){if(window.CNBC_Surf&&CNBC_Surf.Signin_Ui&&CNBC_Surf.Signin_Ui.loadingWindow){CNBC_Surf.Signin_Ui.loadingWindow(true,null);};if(SURF.isReady){SURF.signout({});}else{CNBC_Utils.deleteData('c_surf_session_valid');SURF.init({});};});self.checkAuth();if(window.CNBC_Xfinity_Experience&&window.activePartnerExperience=='xfinity'){CNBC_Xfinity_Experience.init();};SURF.event.on(SURF.events.READY,function(ev){if(!self.isSurfSignedIn()){SURF.signout({});return false;};uid=(SURF.globals.session)?SURF.globals.session.uid:null;user=SURF.globals.user;var reg_source=(typeof user=='object'&&user.brand_data&&user.brand_data.registration_source)?user.brand_data.registration_source:'';var provider=(user&&'_provider'in user&&'cnbc'in user._provider)?user._provider.cnbc:'';if(self.useOmnitureLoad){self.omnitureLoad();};if(uid){if(self.isRemembered()&&!self.isCnbcLoggedIn()){CNBC_Surf_Mediator.signIntoBedrock(params);};self.checkAuth();if(params.flow=='pro'&&CNBC_Utils.readCookie('ispro')=="false"){return false;};if(self.isCnbcLoggedIn()){var ticket=CNBC_Bedrock.syncApi.checkSearchParameter('ticket');self.redirectUser({'source':params.source,'flow':params.flow,'ticket':ticket});};};});SURF.event.on(SURF.events.CREATE_ACCOUNT,function(e,user){self.omnitureClick({'action':'signup','source':params.source,'flow':params.flow});self.omnitureSuccess({'action':'signup','source':params.source,'flow':params.flow});});SURF.event.on(SURF.events.EDIT_ACCOUNT,function(ev){var uid=(SURF.globals.session)?SURF.globals.session.uid:null;var user=SURF.globals.user;self.updateHeader();if(uid){CNBC_Bedrock.syncApi.syncCall({uuid:uid,action:'edit',dataType:'json',url:CNBC_Settings.baseurls.register_base.split(':')[1]+'/auth/api/',data:[{name:'meta',value:JSON.stringify({session_token:SURF.globals.session.session_token})}],success:function(data,text,status){},error:function(data,text,status){console.log('error ',data);console.log('error ',text);console.log('error ',status);}});};});SURF.event.on(SURF.events.SIGNIN,function(e,user){CNBC_Surf_Mediator.isSignIntoBedrockCalled=false;var uid=(SURF.globals.session)?SURF.globals.session.uid:null;var user=SURF.globals.user;var bedrockAccountCreateTries=3;CNBC_Utils.deleteData(self.rememberMeCookieName);CNBC_Utils.createCookie('c_surf_session_valid','true',90*24,false);if(uid){var rememberMe=$('#bedrock-remember-me').prop('checked');self.createSurfSessionCookie(rememberMe);}else{SURF.signout({});};self.omnitureClick({'action':'signin','source':params.source,'flow':params.flow});self.omnitureSuccess({'action':'signin','source':params.source,'flow':params.flow});if(self.isNewUser()&&window.CNBC_Surf.Signin_Ui){function bedrockSyncApiCreate(){CNBC_Bedrock.syncApi.syncCall({uuid:uid,dataType:'json',url:CNBC_Settings.baseurls.register_base.split(':')[1]+'/auth/api/',data:[{name:'meta',value:JSON.stringify({session_token:SURF.globals.session.session_token})}],action:'create',success:function(data,text,status){if(!self.hasRegSource()){SURF.update({'uid':uid,signature:'','user_data':{'registration_source':params.source,'option':JSON.stringify(['CNBC-TOS']),'option_date':JSON.stringify(['CNBC-TOS|'+new Date().getTime()])}});};CNBC_Surf_Mediator.signIntoBedrock(params);},error:function(data,text,status){if(bedrockAccountCreateTries>1){bedrockAccountCreateTries--;bedrockSyncApiCreate();}else{if(CNBC_Surf_Mediator.errorObjects.create){CNBC_Surf_Mediator.errorObjects.create.show();};};}});};bedrockSyncApiCreate();}else{CNBC_Surf_Mediator.signIntoBedrock(params);}});SURF.event.on(SURF.events.SIGNOUT,function(){CNBC_Surf_Mediator.isSignIntoBedrockCalled=false;CNBC_Utils.deleteData(self.rememberMeCookieName);CNBC_Utils.deleteData('c_surf_session_valid');CNBC_Utils.deleteData('c_cnbc_session_valid');self.omnitureSuccess({'action':'signout','source':params.source,'flow':params.flow});if((window.CNBC_Surf&&window.CNBC_Surf.profileManagement&&!window.CNBC_Surf.profileManagement.isDelete)||(window.CNBC_Surf.Signin_Ui&&!window.CNBC_Surf.profileManagement)){CNBC_Bedrock.syncApi.casLogoutCall();}});SURF.event.bind(SURF.events.CREATE_ACCOUNT_ERROR,function(event,object){var errorCode=object._xhr.status*1;console.log('error on surf user creation. Event Object - ',event);if(errorCode>499&&errorCode<600){if(CNBC_Surf_Mediator.errorObjects.createSurf){CNBC_Surf_Mediator.errorObjects.createSurf.show();};};self.omnitureClick({'action':'signup','source':params.source,'flow':params.flow});});SURF.event.on(SURF.events.SIGNOUT_ERROR,function(event,error){console.log('surf signout error calling cas logout. Error object - ',error);console.log('Event object - ',event);CNBC_Bedrock.syncApi.casLogoutCall();});SURF.event.on(SURF.events.SIGNIN_ERROR,function(event,error){console.log('surf signo in error. Error object - ',error);console.log('Event object - ',event);self.omnitureClick({'action':'signin','source':params.source,'flow':params.flow});});SURF.event.on(SURF.events.UI,function(event,action){if(action=='cancel'){if(CNBC_Surf_Mediator.mobile){window.location=document.referrer||CNBC_Settings.baseurls.cnbc_base;}else{CNBC_Surf.Signin_Ui.signinUI.closeButton.click();};};});},checkSearchParameter:function(param){var searchString=location.search.substring(1).split('&');for(var i=0;i<searchString.length;i++){var tempArray=searchString[i].split('=');if(tempArray[0]==param){return tempArray[1];}};},omnitureClick:function(params){if(!window.s){return false;};var params=params||{};var source=params.source||'';if(!params.action){return false};var flow=source;var str='';if(params.action=='signin'){str="registration:log in:sign in:"+((source=='default')?'global':source);}else if(params.action=='signup'){str="registration:"+((source=='pro')?"sign up:next":"sign up:sign up")+":"+((source=='default')?'global':source);};s.linkTrackVars="eVar48,prop48";s.eVar48=str;s.prop48=str;s.tl(this,'o',"Registration Module");},omnitureLoad:function(){var uid=(SURF.globals.session)?SURF.globals.session.uid:null;var user=SURF.globals.user;var reg_source=(typeof user=='object'&&user.brand_data&&user.brand_data.registration_source)?user.brand_data.registration_source:'';var provider=(user&&'_provider'in user&&'cnbc'in user._provider)?user._provider.cnbc:'';if(window.s){s.linkTrackVars="prop41,eVar41,prop42,eVar42,eVar2";s.prop41=s.eVar41=(uid)?'Registered:'+reg_source:'Non-Registered';s.prop42=s.eVar42=(uid)?'Logged-In':'Not Logged-In';s.eVar2=(uid)?provider:'';s.tl(this,'o','Registration Module');};},omnitureSuccess:function(params){if(!window.s){return false;};var params=params||{};var source=params.source||'';if(!params.action){return false};if(source||params.action=='signout'){var str,evt;if(params.action=="signin"){str="registration:log in:success:"+((source=='default')?'global':source);evt='event12';}else if(params.action=="signup"){str="registration:sign up:success:"+((source=='default')?'global':source);evt='event13';}else if(params.action=="signout"){str="registration:log out:success:global";evt='event14';};s.linkTrackVars="eVar48,prop48,events";s.linkTrackEvents=evt;s.eVar48=str;s.prop48=str;s.events=evt;s.tl(this,'o',"Registration Module");};},appendUrlParam:function(url,params){if(url.indexOf('?')>=0){url+='&';}else{url+='?';}
return url+params.join('&');},redirectUser:function(params){var params=params||{};var ticket=params.ticket;var source=params.source||null;var flow=params.flow||null;if(flow=='header'){return false;};var uid=(SURF.globals.session)?SURF.globals.session.uid:null;var user=SURF.globals.user;var serviceUrl=CNBC_Surf_Mediator.checkSearchParameter('service')||null;var serviceParameter=(serviceUrl)?decodeURIComponent(serviceUrl):null;var sourceUrls={'default':CNBC_Settings.baseurls.pub_base_protocol_agnostic,'generic':CNBC_Settings.baseurls.pub_base_protocol_agnostic,'default-mobile':document.referrer||CNBC_Settings.baseurls.pub_base_protocol_agnostic,'watchlist':CNBC_Settings.baseurls.watchlist_base,'portfolio':CNBC_Settings.baseurls.login_base+'/authproxy/portfolio/auth.do?Action=portfolio','pro':CNBC_Settings.baseurls.login_base+'/tpauth/rest/authenticate?source=subscription&source_type=pro','comments':CNBC_Settings.baseurls.sc_base_protocol_agnostic+'/applications/cnbc.com/staticcontent/html/disqus/autoClose.html','comments-mobile':CNBC_Settings.baseurls.sc_base_protocol_agnostic+'/applications/cnbc.com/staticcontent/html/disqus/autoClose.html'};var url=serviceParameter||sourceUrls[source];if(ticket){url=this.appendUrlParam(url,['ticket='+ticket]);}
if(uid&&source&&flow){window.location=url;}},isNewUser:function(){return!(window.SURF&&SURF.globals.user&&typeof SURF.globals.user._provider=='object'&&(SURF.globals.user._provider.cnbc));},hasRegSource:function(){return!!(window.SURF&&SURF.globals.user&&SURF.globals.user.brand_data&&SURF.globals.user.brand_data.registration_source);},initError:function(config){var config=config||{};var errorPopup=new CNBC_Popup2();var errorConfig={closeOnBackgroudClick:false,popupId:config.id,popupContent:'<div style="clear:both;"></div>'
+'<div class="popup-body">'
+'<div class="header">'+config.headerText+'</div>'
+'<div class="body">'+config.bodyText+'</div>'
+'</div>'
+'<hr style="width:85%;margin-top: 20px;margin-bottom: 20px;border: 0;border-top: 1px solid #eee;">'
+'<div class="popup-footer">'
+config.buttonMarkUp
+'</div>',initCallback:null,autoAlignPopup:true,autoHide:true,minHeight:'200px',minWidth:CNBC_Surf_Mediator.mobile?'25%':'400px',afterCloseCallback:function(){config.closeBtnCallback();}};errorPopup.init(errorConfig);$('#'+config.id+' .cancel').on('click',function(){errorPopup.hide();config.closeBtnCallback();});$('#'+config.id+' .confirm.xfinity').on('click',function(){config.goToXfinityBtnCallback();});return errorPopup;},errorMsgInit:function(){var self=this;self.errorObjects.create=self.initError({id:'errorPopupCreate',headerText:'Thank you!',bodyText:'Your account is all set up. <BR>Please log in to enjoy all of the features of CNBC.',buttonMarkUp:'<button class="button cancel">OK</button>',closeBtnCallback:function(){SURF.signout({});}});self.errorObjects.createSurf=self.initError({id:'errorPopupCreateSurf',headerText:'Oops!',bodyText:'Something went wrong. <BR>Please create your account again.',buttonMarkUp:'<button class="button cancel">OK</button>',closeBtnCallback:function(){SURF.signout({});}});self.errorObjects.signIn=self.initError({id:'errorPopupSignIn',headerText:'Oops!',bodyText:'Something went wrong. Please try to log in again.',buttonMarkUp:'<button class="button cancel">OK</button>',closeBtnCallback:function(){SURF.signout({});}});self.errorObjects.signInAutoLogin=self.initError({id:'errorPopupSignInAutoLogin',headerText:'Oops!',bodyText:'Something went wrong. Please try to log in again!',buttonMarkUp:'<button class="button cancel">OK</button>',closeBtnCallback:function(){SURF.signout({});}});self.errorMsgXfinityInit({"cancel":function(){SURF.signout({});},"xfinity":function(){}});},errorMsgXfinityInit:function(callback){var self=this;callback=callback||{"cancel":function(){SURF.signout({});},"xfinity":function(){}};self.errorObjects.xfinitySignIn=self.initError({id:'errorPopupXfinitySignIn',headerText:'Oops!',bodyText:'It appears you may be logged out of Xfinity. <BR>Would you like to log back in?',buttonMarkUp:'<button class="button confirm xfinity">Xfinity Subscribers: Log In</button>'
+'<button class="button btn-default cancel">Cancel</button>',closeBtnCallback:function(){callback.cancel();},goToXfinityBtnCallback:function(){callback.xfinity();}});},bulkConsole:function(messageObject){if(!this.debug&&this.isInitialized){return false};messageObject=messageObject||{};if(!typeof messageObject=='object'){return false};for(var a in messageObject){if(messageObject.hasOwnProperty(a)){console.log(a,' - ',messageObject[a]);};};},updateHeader:function(){if(!CNBC_Utils.readCookie('ispro')||CNBC_Utils.readCookie('ispro')=='false'){$('li.link-pro-user').addClass('hide');};if(this.isSurfSignedIn()){$('#reg-user > li > a').text('MY ACCOUNT');$('#unreg-user, .unreg-user').addClass('hide');$('#reg-user, .reg-user').removeClass('hide');}else{$('#unreg-user, .unreg-user').removeClass('hide');$('#reg-user, .reg-user').addClass('hide');};},isRemembered:function(){return!!CNBC_Utils.readData(this.rememberMeCookieName);},checkAuth:function(){var xfinityAuthPoll;var self=this;if(CNBC_Utils.readCookie('xfinity_passive_authenticated')==null&&window.activePartnerExperience!='xfinity'){this.validateSurfSession();}else{xfinityAuthPoll=setInterval(function(){var xfinityCookie=CNBC_Utils.readCookie('xfinity_passive_authenticated');if(xfinityCookie!=''){clearInterval(xfinityAuthPoll);};if(xfinityCookie=='true'){self.updateHeader();}else if(xfinityCookie=='false'){self.validateSurfSession();};},500);setTimeout(function(){clearInterval(xfinityAuthPoll);},15000);};},isSignedIn:function(){return CNBC_Surf_Mediator.isCnbcLoggedIn()&&CNBC_Surf_Mediator.isSurfSignedIn();},signIntoBedrock:function(params){if(CNBC_Surf_Mediator.isSignIntoBedrockCalled){return false;};CNBC_Surf_Mediator.isSignIntoBedrockCalled=true;var params=params||{};var uid=(SURF.globals.session)?SURF.globals.session.uid:null;var user=SURF.globals.user;CNBC_Bedrock.syncApi.signInCall({uuid:uid,url:CNBC_Settings.baseurls.register_base.split(':')[1]+'/auth/api/',token:SURF.globals.session.session_token,success:function(data,text,status){CNBC_Utils.createCookie('c_cnbc_session_valid','true');var ticket=(data.ticket)?data.ticket:null;CNBC_Surf_Mediator.updateHeader();CNBC_Surf_Mediator.redirectUser({'ticket':ticket,'source':params.source,'flow':params.flow});},error:function(data,text,status){console.log('cas sign in error 140. autologin url');CNBC_Surf_Mediator.errorObjects.signInAutoLogin.show();}});},isCnbcLoggedIn:function(){return!!CNBC_Utils.readCookie('c_cnbc_session_valid');},isSurfSignedIn:function(){return!!CNBC_Utils.readCookie('c_surf_session_valid');}};

