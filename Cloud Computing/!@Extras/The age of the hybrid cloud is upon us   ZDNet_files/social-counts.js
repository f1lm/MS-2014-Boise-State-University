define(["jquery","version!fly/components/social-counts"],function(e){var t=e.support.touch?"vclick":"click";e.widget("zdnet.socialCounts",e.fly.socialCounts,{options:{via:"ZDNet",url:window.location.href,data:{media:e('meta[property="og:image"]').first().attr("content")}},tabId:"tab",links:{slashdot:"http://slashdot.org/submission"},_create:function(){this._super("_create");var n=this.options,r={};e("[data-tab]").each(function(t){e(this).attr("target","_blank")}),r[t+" [data-"+this.tabId+"]"]="_handleTab",this._on(this.$element,r)},_handlePopup:function(t){var n=e(t.currentTarget),r=n.data(this.popupId);t.preventDefault(),this.$el=n,this.popup(t,r),this._setupClickEvent(t,{el:n,name:r})},_handleTab:function(t){var n=e(t.currentTarget),r=n.data(this.tabId);t.preventDefault(),this.$el=n,this.newTab(t,r),this._setupClickEvent(t,{el:n,name:r})},newTab:function(e,t){var n=this._getLink(t),r=this.$el;n&&(this._setupLoadEvent(e,{el:r,name:t,type:this.linkId}),window.open(n))}})})