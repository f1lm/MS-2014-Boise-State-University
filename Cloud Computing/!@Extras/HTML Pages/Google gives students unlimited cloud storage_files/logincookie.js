$(function(){var e=function(e,t,n){if(n){var r=new Date;r.setTime(r.getTime()+n*24*60*60*1e3);var i="; expires="+r.toGMTString()}else{var i=""}document.cookie=e+"="+t+i+"; domain=."+document.location.host+"; path=/"};var t=function(e){var t=e+"=",n=document.cookie.split(";"),r=0;for(r;r<n.length;r++){var i=n[r];while(i.charAt(0)==" "){i=i.substring(1,i.length)}if(i.indexOf(t)===0){return i.substring(t.length,i.length)}}return null};var n=function(e){$(".header-user-image, #header-user-image").attr("src",e.avatar_url).attr("alt",e.username);$(".user-menu-name").text(e.name);$(".user-menu-profile-url").attr("href",e.profile_url);if(e.remember_me){$("#keep-me-signed-in").attr("value",1).prop("checked",true)}};var r=t("engadget_profile");var i=t("engadget_remember_me")||t("engadget_remember_me_staging");if(r){var s=JSON.parse(decodeURIComponent(r));if(s.avatar_changed){$.get("a/user/profile_avatar?username="+s.username,function(t){s.avatar_url=t.avatar_url;s.avatar_changed=false;if(s.remember_me){e("engadget_profile",encodeURIComponent(JSON.stringify(s)),1826)}else{e("engadget_profile",encodeURIComponent(JSON.stringify(s)),false)}n(s)})}else{n(s)}$("#user-actions").show()}else{$("#guest-actions").show()}if(!r&&i){$.get("/logout")}})