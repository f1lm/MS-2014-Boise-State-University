typeof JSON!="object"&&window.__dajson!=!0&&("object"!=typeof JSON&&(JSON={}),function(){function i(n){return 10>n?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return"string"==typeof t?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,c,a,v=n,h,o=e[i];o&&"object"==typeof o&&"function"==typeof o.toJSON&&(o=o.toJSON(i));"function"==typeof t&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,h=[],"[object Array]"===Object.prototype.toString.apply(o)){for(a=o.length,s=0;s<a;s+=1)h[s]=r(s,o)||"null";return c=0===h.length?"[]":n?"[\n"+n+h.join(",\n"+n)+"\n"+v+"]":"["+h.join(",")+"]",n=v,c}if(t&&"object"==typeof t)for(a=t.length,s=0;s<a;s+=1)"string"==typeof t[s]&&(l=t[s],(c=r(l,o))&&h.push(f(l)+(n?": ":":")+c));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(c=r(l,o))&&h.push(f(l)+(n?": ":":")+c);return c=0===h.length?"{}":n?"{\n"+n+h.join(",\n"+n)+"\n"+v+"}":"{"+h.join(",")+"}",n=v,c}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;"function"!=typeof JSON.stringify&&(JSON.stringify=function(i,f,e){var o;if(u=n="","number"==typeof e)for(o=0;o<e;o+=1)u+=" ";else"string"==typeof e&&(u=e);if((t=f)&&"function"!=typeof f&&("object"!=typeof f||"number"!=typeof f.length))throw Error("JSON.stringify");return r("",{"":i})});"function"!=typeof JSON.parse&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&"object"==typeof u)for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),void 0!==e?u[f]=e:delete u[f]);return t.call(n,i,u)}var i,n=String(n);if(e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),"function"==typeof t?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}(),window.__dajson=!0);var _daAnalytics=_daAnalytics||{};(function(n){function vi(n,i,r){this.Key=t.IsNullOrUndefined(n)?"nokey":n;this.Data=t.IsNullOrUndefined(i)?n:i;this.Type=r?r:o.Variable;this.Next=null;this.Previous=null}function y(){this.Root=null;this.Last=null;this.Count=0}function yi(n){for(var t=0;t<ti.length;t++)if(ti[t]==n)return!0;return!1}function at(n,t){this.Url=n;this.Type=t}function ii(n,t,i){this.Name=n;this.Path=t;this.Detail=i}function vt(n,t){this.Name=n;this.Value=t}function ri(n,t){this.Id=n;this.Structure=t}function pi(n){switch(typeof n){case"string":return encodeURIComponent(n);default:return n}}function f(n){return typeof n!="undefined"&&n!=null}function e(n,t){return f(n)&&typeof n==t}function wi(n){return e(n,u.Number)?!0:!isNaN(parseFloat(n))&&isFinite(n)}function bi(){var n=function(n,t){var i=t-n;return i<0&&(i=0),i};return{netCon:n(l.performance.timing.navigationStart,l.performance.timing.connectEnd),sendReq:n(l.performance.timing.requestStart,l.performance.timing.responseStart),recResp:n(l.performance.timing.responseStart,l.performance.timing.responseEnd),clientProc:n(l.performance.timing.domLoading,l.performance.timing.loadEventEnd),ptotal:n(l.performance.timing.domainLookupStart,l.performance.timing.loadEventEnd)}}function nr(){this.async=!1;this.completed=!1;this.requestHeadersSize=null;this.ttfb=null;this.responseReceivingDuration=null;this.callbackDuration=null;this.ajaxTotalDuration=null;this.aborted=!1;this.pageUrl=null;this.requestUrl=null;this.requestSize=0;this.method=null;this.status=null;this.contentType=null;this.contentEncoding=null;this.responseSize=0;this.requestSentTime=null;this.responseStartedTime=null;this.responseFinishedTime=null;this.callbackFinishedTime=null;this.loadingRequest=!1;this.endTime=null;this.originalOnreadystatechange=null;this.onreadystatechangeCallbackAttached=!1;this.clientFailure=0;this.ajaxTotalDuration=0;this.responseReceivingDuration=0;this.callbackDuration=0;this.Send=function(){var t=p.TruncateString(this.requestUrl,4096),r={method:encodeURIComponent(this.method),async:ki.ToInt(this.async),requestSize:this.requestSize,responseSize:this.responseSize,requestUrl:encodeURIComponent(t.finalString),status:this.status,contentType:this.contentType,firstByte:this.ttfb,receiveDuration:this.responseReceivingDuration,callbackDuration:this.callbackDuration,totalDuration:this.ajaxTotalDuration,aborted:this.aborted,clientFailure:this.clientFailure},u;t.truncated&&(r.trucated=!0);n[i.Ajax]=JSON.stringify(r);s.add(i.Ajax,h.Ajax,o.Variable);u=g(v.Ajax);nt(u)};this.CalculateMetrics=function(){var n=this,i,t;for(n.ttfb=c.GetDuration(n.requestSentTime,n.responseStartedTime),n.responseReceivingDuration=c.GetDuration(n.responseStartedTime,n.responseFinishedTime),n.callbackDuration=c.GetDuration(n.responseFinishedTime,n.callbackFinishedTime),i=[n.responseStartedTime,n.responseFinishedTime,n.callbackFinishedTime],t=i.length-1;t>=0;t--)if(i[t]!==null){n.endTime=i[t];n.ajaxTotalDuration=c.GetDuration(n.requestSentTime,n.endTime);break}}}function wt(){function u(){return"__da_ajax_disabled"}function n(n){return wt.initiated&&(n===!0||!t.IsNullOrUndefined(this.ajaxData))&&r.TryCatchTraceWrapper.call(this,"Check_If_Monitoring_Enabled_For_XmlHttpRequest_Instance",function(){return this[u()]})!==!0}function v(){var n=!1;return t.IsNullOrUndefined(window.XMLHttpRequest)||(n=!0),n}function y(){var i=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(u,f,e){return n.call(this,!0)&&(this.ajaxData=new nr,d.call(this),r.TryCatchTraceWrapper.call(this,"openPrefix",function(){var n=this;n.ajaxData.method=u;n.ajaxData.requestUrl=f;n.ajaxData.requestSize+=f.length;t.IsNullOrUndefined(e)||(n.ajaxData.async=e)})),i.apply(this,arguments)}}function w(){var n=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(t){return f.call(this,t),n.apply(this,arguments)}}function b(){if(typeof window.XMLHttpRequest.prototype.sendAsBinary=="function"){var n=window.XMLHttpRequest.prototype.sendAsBinary;window.XMLHttpRequest.prototype.sendAsBinary=function(t){return f.call(this,t),n.apply(this,arguments)}}}function f(i){n.call(this)&&r.TryCatchTraceWrapper.call(this,"sendPrefix",function(){if(t.IsNullOrUndefined(i)||t.IsNullOrUndefined(i.length)||this.ajaxData.method!=="GET"&&this.ajaxData.method!=="HEAD"&&(this.ajaxData.requestSize+=i.length),this.ajaxData.requestSentTime=c.Now(),this.ajaxData.loadingRequest=document.readyState==="loading",!this.ajaxData.onreadystatechangeCallbackAttached){var n=this;setTimeout(function(){n.readyState===4?(r.TryCatchTraceWrapper.call(n,"readyState(4)",a),l.call(n)):e.call(n)},5)}})}function k(){var t=window.XMLHttpRequest.prototype.abort;window.XMLHttpRequest.prototype.abort=function(){return n.call(this)&&(this.ajaxData.aborted=1),t.apply(this,arguments)}}function e(){var n=!1;return(t.IsNullOrUndefined(this.onreadystatechange)||typeof this.onreadystatechange=="function")&&(this.ajaxData.originalOnreadystatechange=this.onreadystatechange,this.onreadystatechange=i,n=!0),n}function d(){this.ajaxData.onreadystatechangeCallbackAttached=r.AttachEvent(this,"readystatechange",o)}function o(){n.call(this)&&this.onreadystatechange!==i&&(this.readyState<3?e.call(this):(s.call(this),h.call(this)))}function i(){if(n.call(this)){s.call(this);try{t.IsNullOrUndefined(this.ajaxData.originalOnreadystatechange)||this.ajaxData.originalOnreadystatechange===i||this.ajaxData.originalOnreadystatechange.call(this)}catch(u){this.ajaxData.clientFailure=1;throw u;}finally{t.IsNullOrUndefined(this.ajaxData.originalOnreadystatechange)||(ft.TraceEvent("Original 'onreadystatechange' handler of Ajax object was called by XhrInterceptor"),r.TryCatchTraceWrapper.call(this,"callbackFinishedTime",function(){this.readyState===4&&(this.ajaxData.callbackFinishedTime=c.Now())}));h.call(this)}}}function s(){switch(this.readyState){case 3:r.TryCatchTraceWrapper.call(this,"readyState(3)",function(){this.ajaxData.responseStartedTime=c.Now()});break;case 4:r.TryCatchTraceWrapper.call(this,"readyState(4)",a)}}function h(){this.readyState===4&&l.call(this)}function l(){r.TryCatchTraceWrapper.call(this,"publishData",function(){this.ajaxData.CalculateMetrics();this.ajaxData.loadingRequest&&this.ajaxData.endTime!==null&&(rr=this.ajaxData.endTime);this.ajaxData.Send()});r.TryCatchTraceWrapper.call(this,"deleteAjaxData",function(){r.DetachEvent(this,"readystatechange",o);delete this.ajaxData})}function a(){var t=c.Now(),n=this;n.ajaxData.responseFinishedTime=t;n.ajaxData.responseStartedTime===null&&(n.ajaxData.responseStartedTime=t);r.TryCatchSwallowWrapper.call(this,function(){this.ajaxData.status=this.status});r.TryCatchSwallowWrapper.call(this,function(){this.ajaxData.contentType=this.getResponseHeader("Content-Type")});r.TryCatchSwallowWrapper.call(this,function(){this.ajaxData.contentEncoding=this.getResponseHeader("Content-Encoding")});r.TryCatchSwallowWrapper.call(this,function(){this.ajaxData.responseSize=this.responseText.length;this.ajaxData.responseSize+=this.getAllResponseHeaders().length;this.ajaxData.responseSize+=17})}function g(){var t=window.XMLHttpRequest.prototype.setRequestHeader;window.XMLHttpRequest.prototype.setRequestHeader=function(i,u){return n.call(this)&&r.TryCatchTraceWrapper.call(this,"Adding size of header to total request size",function(){this.ajaxData.requestSize+=p.GetLength(i)+p.GetLength(u)+2}),t.apply(this,arguments)}}this.Init=function(){v()&&(y(),g(),w(),b(),k(),wt.initiated=!0)};this.GetDisabledPropertyName=function(){return u()}}function er(r){t.IsNullOrUndefined(n[i.CustomUserId])&&s.add(i.CustomUserId,h.CustomUserId,o.Variable);n[i.CustomUserId]=r}function or(r){t.IsNullOrUndefined(n[i.AccountId])&&s.add(i.AccountId,h.AccountId,o.Variable);n[i.AccountId]=r}function fi(){return di.SupportPerformanceTimingApi()?(r.TryCatchTraceWrapper("trackPagePerformance",function(){var t=setInterval(function(){if(window.performance.timing.loadEventEnd!==0){clearInterval(t);n[i.PagePerformance]=JSON.stringify(bi());s.add(i.PagePerformance,h.PagePerformance,o.Variable);var r=g(v.Perf);if(!f(r))return;nt(r)}},500)}),!0):!1}function sr(){r.DetachEvent(window,"load",fi)}function hr(){r.AttachEvent(window,"error",ei)}function cr(){r.DetachEvent(window,"error",ei)}function ei(n,t,i){return e(n,u.Object)&&e(n.message,u.String)&&e(n.filename,u.String)&&e(n.lineno,u.String)?oi(new yt(n.message,n.filename,n.lineno)):e(n,u.String)&&e(t,u.String)&&e(t,u.String)&&oi(new yt(n,t,i)),!1}function oi(t){n[i.Error]=JSON.stringify(t);s.add(i.Error,h.Error,o.Variable);var r=g(v.Error);f(r)&&nt(r)}function lr(t){n[i.IError]=t;s.add(i.IError,h.IError,o.Variable);var r=g(v.IError);f(r)&&nt(r)}function si(t){var r=typeof n[t.Key.toString()],i;switch(r){case"undefined":return!1;case"object":return n[t.Key]instanceof y?f(n[t.Key.toString()])&&n[t.Key.toString()].Count>0&&t.Type==o.Variable:f(n[t.Key.toString()])&&t.Type==o.Variable;case"string":return i=n[t.Key.toString()],i!=null&&i.length>0;default:return f(n[t.Key.toString()])}}function g(t){var o,s,c,r,f;return!e(n.Settings.TrackingAppId,u.String)||n.Settings.TrackingAppId.length==0?(tt("Application ID must be defined",w.Error),null):(o=new XMLHttpRequest,st="withCredentials"in o?!0:!1,s=h.ScriptAction+"="+(t&&t.length>0?t:v.Page),c=h.ScriptVersion+"="+n.Settings.Version+"&"+s+"&",n[i.ProfileId]=n.Settings.TrackingAppId,r=pr(),n[i.UserIdentity]=r.Visitor.Id,n[i.CookieCreationDate]=r.CreatedDate.Id,n[i.Screen]=screen.width+"x"+screen.height+"x"+screen.colorDepth,n[i.Language]=!document.all||navigator.userAgent.match("Opera")?navigator.language:navigator.userLanguage,n[i.TargetPage]=e(d,u.String)?d:location.href,e(bt,u.String)&&er(bt),e(kt,u.String)&&or(kt),f=p.GetHostName(document.referrer),f!=null&&f!=l.location.hostname&&(n[i.Referrer]=document.referrer),n[i.TimeZone]=kr(),ar(c))}function ar(i){var v,h;if(!e(i,u.String))return"";var l="data=",a={},r=s.Root,f=n.Settings.MaxUrlLength,y="&rnd="+c.Now();for(f-=y.length+i.length+l.length;!t.IsNullOrUndefined(r)&&(st||f>0);){if(r.Type==o.Attribute)v=vr(r),f-v.length>0?i+=v:r=s.Last;else if(h=yr(r),f-h.length>0){try{a[r.Data]=JSON.parse(h)}catch(p){a[r.Data]=h}f-=h.length;delete n[r.Key.toString()];r=s.remove(r)}r=r.Next}return l+=encodeURIComponent(JSON.stringify(a)),l.length>5?i+=l:i=i.substr(0,i.length-1),i+y}function vr(t){return si(t)?t.Data+"="+encodeURIComponent(n[t.Key.toString()])+"&":""}function yr(t){return si(t)?typeof n[t.Key.toString()].toArraysOfJsonString!="undefined"?n[t.Key.toString()].toArraysOfJsonString(t):n[t.Key.toString()].toString():""}function nt(t){var f=location.protocol+"//"+n.Settings.ImageHost+"/",i,e,u;st?(i=r.CreateXmlHttpRequest(),i.onload=function(){return},i.onerror=function(){return},t.length>=n.Settings.MaxUrlLength?(i.open("POST",f+n.Settings.PostHandler,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded")):(i.open("GET",f+n.Settings.ImageFile+"?"+t,!0),t=null),i.send(t)):(e=f+n.Settings.ImageFile+"?"+t,u=document.createElement("script"),u.async=!0,u.src=e,document.getElementsByTagName("head")[0].appendChild(u))}function pr(){var n=wr(),t=br();return n.length==0?k.GetBrowserStorage().GetUser(0):new pt(new b(n,1),null,new b(t,1))}function wr(){var t="",r=document.cookie.toString(),u=new RegExp(p.Format(tr,[n.Settings.LegacyCookieName])),i=u.exec(r);return i&&(t=i[2]),t}function br(){var n="",i=document.cookie.toString(),r=new RegExp(p.Format(ir,[this.createdCookieName])),t=r.exec(i);return t&&(n=t[2]),dt(n)}function dt(n){if(n.length==0)return-1;return n=n/1e3,parseFloat(((n-315532800)/86400).toFixed(0))}function kr(){var i=new Date,r=new Date,n,t;return r.setMonth(i.getMonth()+6),n=Math.round(i.getTimezoneOffset()/60)*-1,t=Math.round(r.getTimezoneOffset()/60)*-1,n>t?n:t}function hi(n,t){for(var r,u,i=0;i<n.length;i++)if(n[i]instanceof Array&&n[i].length!=0)r=n[i][0],u=ci.slice.call(n[i],1),t[r].apply(this,u);else continue}function tt(t,i){if(e(i,u.Number)&&n.Settings.DebugEnabled)switch(i){case 0:console.error(t);break;case 1:console.warn(t);break;case 2:console.info(t)}}var l=window,ci=Array.prototype,w={Error:0,Warning:1,Information:2},li={Off:0,Error:1,Warning:2,Information:3,Alert:4},ni={Error:1,Warning:2,Information:3},o={Attribute:1,Variable:2},u={String:"string",Number:"number",Object:"object"},v={Page:"page",Link:"link",Event:"event",Timed:"time",Action:"action",Perf:"perf",Ajax:"ajax",Error:"error",IError:"ierror"},ai={Data:"data",Type:"type"},lt={Outbound:"o",Download:"d"},i={PageAlias:"PageAlias",ProfileId:"ProfileId",UserIdentity:"UserIdentity",Referrer:"Referrer",Language:"Language",TimeZone:"Timezone",Screen:"Screen",TargetPage:"TargetPage",Links:"Links",LinkAlias:"LinkAlias",Events:"Events",CustomUserId:"CustomUserId",AccountId:"AccountId",Views:"Views",CustomDimensions:"CustomDimensions",CustomMetrics:"CustomMetrics",CookieCreationDate:"CookieCreationDate",PagePerformance:"PagePerformance",Ajax:"Ajax",Error:"Error",IError:"IError"},h={PageAlias:"als",ScriptVersion:"jsv",ScriptAction:"jsa",ProfileId:"pid",UserIdentity:"uid",Referrer:"rf",Language:"lng",TimeZone:"tz",Screen:"scr",TargetPage:"tp",Links:"lnk",LinkAlias:"als",Events:"evt",CustomUserId:"cuid",AccountId:"aid",Views:"vh",CustomDimensions:"prp",CustomMetrics:"met",CookieCreationDate:"ica",PagePerformance:"perf",Ajax:"ajax",Error:"error",IError:"interror"},it={attachEvent:"attachEvent",de:"detachEvent",ad:"addEventListener",re:"removeEventListener",udf:"undefined"},ti=["evt","vh","prp","met"],yt,k,s,ut,gt,ct;y.prototype={add:function(n,t,i){if(e(n,u.Object)||f(this.find(n)))return!1;var r=new vi(n,t,i);return f(this.Root)?(r.Previous=this.Last,this.Last.Next=r,this.Last=r):(this.Root=r,this.Last=r),this.Count++,!0},addRange:function(n){var r,i,t;if(!e(n,u.String)||n.length==0)return!1;for(r=n.split(";"),i=0;i<r.length;i++){t=r[i].split(":");switch(t.length){case 1:this.add(t[0],null,null);break;case 2:this.add(t[0],t[1],null);break;case 3:this.add(t[0],t[1],t[2])}}return!0},find:function(n){var t=this.Root,i=this.Last,r,o;if(!f(t)||!f(i))return null;for(e(n,u.String)&&(n=n.toLowerCase());t!=null&&i!=null;){if(r=e(t.Key,u.String)?t.Key.toLowerCase():t.Key,o=e(i.Key,u.String)?i.Key.toLowerCase():i.Key,r==n||o==n)return r==n?t:i;if(t==i)break;t=t.Next;i=i.Previous}return null},removeAll:function(){this.Root=null;this.Last=null;this.Count=0},remove:function(n){var r=n.Next,i=n.Previous;return t.IsNullOrUndefined(i)||(i.Next=r),f(r)&&(r.Previous=i),this.Root==n&&(this.Root=r),this.Last==n&&(this.Last=i),this.Count--,i},toString:function(){for(var n=this.Root,i="";n!=null&&!t.IsNullOrUndefined(n.Data);)i+=n.Data.toString(),n=n.Next;return i},toArraysOfJsonString:function(n){for(var t=this.Root,r=0,i="";t!=null;)r++,typeof t.Data.toString=="undefined"&&(t.Data=JSON.stringify(t.Data)),i+=t.Data.toString(),t=t.Next,t!=null&&(i+=",");return(r>1||yi(n.Data))&&(i="["+i+"]"),i}};at.prototype.toString=function(){var n="",t;return this.LinkAlias!=undefined&&this.LinkAlias!=null&&this.LinkAlias!=""&&(n=this.LinkAlias),t={type:this.Type,url:this.Url,als:n},JSON.stringify(t)};ii.prototype.toString=function(){var n="",t,i;return typeof this.Detail=="object"&&typeof JSON=="object"?n=JSON.stringify(this.Detail):this.Detail!=undefined&&this.Detail!=null&&(n=this.Detail),t="",this.Path!=undefined&&this.Path!=null&&this.Path!=""&&(t=this.Path),i={eN:this.Name,eP:t,eV:n},JSON.stringify(i)};vt.prototype.toString=function(){var n={pN:this.Name,pV:this.Value};return JSON.stringify(n)};ri.prototype.toString=function(){var n={vN:this.Id,vP:this.Structure};return JSON.stringify(n)};yt=function(n,t,i){this.message=n;this.url=t;this.lineNumber=i};var t={IsNullOrUndefined:function(n){return typeof n===it.udf||n===null},GetWindowLocalStorage:function(){var n=null;try{n=window.localStorage}catch(t){}return n},Clone:function(n){var r,i;if(r=typeof n=="undefined"?undefined:n===null?null:{},!t.IsNullOrUndefined(n))for(i in n)r[i]=typeof n[i]=="object"?t.Clone(n[i]):n[i];return r}},c={UtcNow:function(){var n=new Date,t=n.getTime(),i=n.getTimezoneOffset()*6e4;return t+i},Now:function(){return(new Date).getTime()},GetDuration:function(n,i){var r=null;return n===0||i===0||t.IsNullOrUndefined(n)||t.IsNullOrUndefined(i)||(r=i-n),r}},p={Substring:function(n,i,r,u){var o="",f,e;return!t.IsNullOrUndefined(n)&&n.length>0&&(f=n.indexOf(i),f!==-1&&(u||(f=f+i.length),e=n.indexOf(r,f),e===-1&&(e=n.length),o=n.substring(f,e))),o},Remove:function(n,i,r){var u="";return t.IsNullOrUndefined(n)||(i>0&&(u=n.substring(0,i)),typeof r!==it.udf&&r>=0&&r<n.length&&(u+=n.substring(r))),u},GetLength:function(n){var i=0,r;if(!t.IsNullOrUndefined(n)){r="";try{r=n.toString()}catch(u){}i=r.length;i=isNaN(i)?0:i}return i},TruncateString:function(n,i){var r={finalString:"",truncated:!1};return t.IsNullOrUndefined(n)||(n.length>i?(r.finalString=n.substring(0,i),r.truncated=!0):r.finalString=n),r},Format:function(n,t){for(var u,r=n,i=0;i<t.length;i++)u=new RegExp("\\{"+i+"\\}","g"),r=r.replace(u,t[i]);return r},GetHostName:function(n){var i=new RegExp("^(?:f|ht)tp(?:s)?://([^/|:]+)","im"),t=n.match(i);return t!=null&&t.length>=2?t[1]:null}},ki={ToInt:function(n){return n?1:0}},di={SupportOnBeforeUnload:function(){if(t.IsNullOrUndefined(this.supportOnBeforeUnload)&&(this.supportOnBeforeUnload=!t.IsNullOrUndefined(window.onbeforeunload),this.supportOnBeforeUnload===!1)){var n=document.createElement("div");n.setAttribute("onbeforeunload","");this.supportOnBeforeUnload=typeof n.onbeforeunload=="function"}return this.supportOnBeforeUnload},SupportPerformanceTimingApi:function(){return t.IsNullOrUndefined(this.supportPerformanceTimingApi)&&(this.supportPerformanceTimingApi=!t.IsNullOrUndefined(window.performance)&&!t.IsNullOrUndefined(window.performance.timing)&&!t.IsNullOrUndefined(window.performance.timing.responseStart)),this.supportPerformanceTimingApi}},r={TryCatchTraceWrapper:function(n,t,i){try{return t.call(this)}catch(u){r.TryCatchSwallowWrapper(function(){ft.TraceException(n,u,i)})}return null},TryCatchSwallowWrapper:function(n){try{n.call(this)}catch(t){}},AttachEvent:function(n,i,u){var f=!1;return t.IsNullOrUndefined(n)||(t.IsNullOrUndefined(n.attachEvent)?t.IsNullOrUndefined(n.addEventListener)||r.TryCatchTraceWrapper("addEventListener",function(){n.addEventListener(i,u,!1);f=!0},[n,i,it.ad]):r.TryCatchTraceWrapper("attachEvent",function(){n.attachEvent("on"+i,u);f=!0},[n,i,it.attachEvent])),f},DetachEvent:function(n,i,u){t.IsNullOrUndefined(n)||(t.IsNullOrUndefined(n.detachEvent)?t.IsNullOrUndefined(n.removeEventListener)||r.TryCatchTraceWrapper("removeEventListener",function(){n.removeEventListener(i,u,!1)},[n.toString(),i,it.re]):r.TryCatchTraceWrapper("detachEvent",function(){n.detachEvent("on"+i,u)},[n.toString(),i,it.de]))},CreateXmlHttpRequest:function(){var n=new XMLHttpRequest;return r.TryCatchTraceWrapper("Disabling_XmlHttpRequest_monitoring",function(){n[gt.GetDisabledPropertyName()]=!0}),n}},ft={TraceEvent:function(i,r){t.IsNullOrUndefined(r)&&(r=ni.Information);try{if(n.Settings.TraceMode>=r){i=i.toString();try{var u=console;t.IsNullOrUndefined(console)||(t.IsNullOrUndefined(u.debug)||u.debug("Dev Analytics Trace (%s) : %s.",(new Date).toString(),i),t.IsNullOrUndefined(console.log)||console.log("Dev Analytics Trace "+(new Date).toString()+": "+i))}catch(f){}n.Settings.TraceMode===li.Alert&&alert("Dev Analytics Trace:\n"+i+".")}}catch(e){}},TraceException:function(n,i,u){r.TryCatchSwallowWrapper(function(){var r={},f;r.Id=n;t.IsNullOrUndefined(i)||(!t.IsNullOrUndefined(i.stack)&&i.stack.length>0&&(r.Stack=i.stack),r.Type=i.name,r.Message=i.message);t.IsNullOrUndefined(u)||(r.Params=u);f=JSON.stringify(r);lr(f);ft.TraceEvent(f,ni.Error)})}},gi={GetApplicationInstrumentKey:function(){return n.Settings.TrackingAppId},GetCollectorSite:function(){return n.Settings.ImageHost}},et={applicationId:null,GetApplicationInstrumentKey:function(){return et.applicationId===null&&(et.applicationId=Windows.ApplicationModel.Package.current.id.name),et.applicationId},GetCollectorSite:function(){return n.Settings.ImageHost}},b=function(n,t){this.Id=n;this.IsReturning=t},pt=function(n,t,i){this.Visitor=n;this.Visit=t;this.CreatedDate=i},ui=function(){function o(n){var l=!1,s;if(i.Enabled()){var r=i.GetApplication(ut.GetApplicationInstrumentKey()),o,h,v=c.UtcNow(),y=v-n;t.IsNullOrUndefined(r)?(h=0,o=0,r=new a(ut.GetApplicationInstrumentKey(),rt.New(),rt.New(),c.Now(),y)):(h=1,y-r.lastUpdateTime>ui.visitLifeTimeMs?(o=0,r.visitId=rt.New()):o=1,r.lastUpdateTime=v);i.UpdateApplication(r)?(u=new b(r.visitorId,h),f=new b(r.visitId,o),e=dt(r.creationtime)):(s=i.GetApplication(ut.GetApplicationInstrumentKey()),t.IsNullOrUndefined(s)&&(s.visitorId===r.visitorId&&(u=new b(r.visitorId,h)),s.visitId===r.visitId&&(f=new b(r.visitId,o)),s.creationtime===r.creationtime&&(e=r.creationtime)));l=!0}return l}function s(){this.Enabled=function(n){function r(){return document.cookie.indexOf(n)!==-1}var i=!1;return t.IsNullOrUndefined(navigator)||t.IsNullOrUndefined(navigator.cookieEnabled)?t.IsNullOrUndefined(document.cookie)||(r()?i=!0:(document.cookie=n,i=r())):i=navigator.cookieEnabled,i};this.Set=function(t,i){var u=!1,f,r,e,o;try{f=new Date((new Date).getTime()+n.Settings.MaxVisitorCookieLifeMS);r="";n.Settings.CookieDomain&&n.Settings.CookieDomain.length>0&&(r=";domain="+n.Settings.CookieDomain);e=t+"="+escape(i)+r+";expires="+f.toGMTString()+";path=/";document.cookie=e;o=this.Get(t);u=o===i}catch(s){ft.TraceException("COOKIE_NOT_SET",s)}return u};this.Get=function(n){return unescape(p.Substring(document.cookie,n+"=",";",!1))}}function h(){function f(n,i){var f=i,r,u;return i!==""&&(r=i.indexOf(n.instrumentKey),r!==-1&&(u=i.indexOf(t,r),u>=0&&(u+=t.length-1),f=p.Remove(i,r,u))),f}function e(n,i){var r=n.Serialize();return i!==""&&(r+=t),r+i}function o(n){for(var f="",i=n.length-1,r=0;r<u;r++)if(i=n.lastIndexOf(t,i)-1,i<0)break;return i>0&&(f=n.substring(0,i)),f}var i=4e3,u=10,t="||";this.GetApplication=function(i){var f=null,e=r.Get(n.Settings.CookieName),u;return e!==""&&(u=p.Substring(e,i,t,!0),u!==""&&(f=a.Deserialize(u))),f};this.UpdateApplication=function(t){var u=r.Get(n.Settings.CookieName);return u.length>i&&(u=o(u)),u=f(t,u),u=e(t,u),r.Set(n.Settings.CookieName,u)};this.Enabled=function(){return r.Enabled(n.Settings.CookieName)}}var u=null,f=null,e=null,i=new h,r=new s;this.GetUser=function(n){var t=null;return o(n)&&(t=new pt(u,f,e)),t}},ot={GetUser:function(i){function o(n){return r===null&&(r=k.GetCookieStorage().GetUser(n)),r}var r=null,e=ot._GetStorageInfo(t.GetWindowLocalStorage(),"uid",n.Settings.MaxVisitorCookieLifeMS,i,function(){return rt.New()}),u,f,s;return e===null&&(o(i),t.IsNullOrUndefined(r)||(e=r.Visitor)),u=ot._GetStorageInfo(t.GetWindowLocalStorage(),"ica",n.Settings.MaxVisitorCookieLifeMS,i,function(){return dt(c.Now())}),u===null&&(o(i),t.IsNullOrUndefined(r)||(u=r.CreatedDate)),f=ot._GetStorageInfo(window.sessionStorage,"sid",n.Settings.MaxSessionLiftMS,i,function(){return rt.New()}),f===null&&(o(i),t.IsNullOrUndefined(r)||(f=r.Visit)),s=null,(e!==null||f!==null||u!==null)&&(s=new pt(e,f,u)),s},_GetStorageInfo:function(n,i,r,u,f){var l=ut.GetApplicationInstrumentKey()+i,v=null,y,s,e,o,w,h,p;if(!t.IsNullOrUndefined(n)){y=c.UtcNow();s=null;try{s=n.getItem(l)}catch(k){}if(e=null,t.IsNullOrUndefined(s)||(o=s.split(a.valueDelimiter),o.length===2&&(w=parseInt(o[0]),isNaN(w)||(h=c.GetDuration(o[0],y),h=h-u,h<r&&(e=o[1])))),e===null)try{e=f();p=y-u+a.valueDelimiter+e;n.setItem(l,p);n.getItem(l)===p&&(v=new b(e,0))}catch(d){}else v=new b(e,1)}return v}},rt={chars:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],New:function(){var i=rt.chars,n=[],r,t;for(n[8]=n[13]=n[18]=n[23]="-",n[14]="4",t=0;t<36;t++)n[t]||(r=0|Math.random()*i.length,n[t]=i[r]);return n.join("")}},a=function(n,t,i,r,u){this.instrumentKey=n;this.visitorId=t;this.visitId=i;this.lastUpdateTime=u;this.creationtime=r;this.Serialize=function(){return this.instrumentKey+a.valueDelimiter+this.visitorId+a.valueDelimiter+this.visitId+a.valueDelimiter+this.creationtime+a.valueDelimiter+this.lastUpdateTime}};a.valueDelimiter="|";a.Deserialize=function(n){var u=null,i=n.split(a.valueDelimiter),r;return t.IsNullOrUndefined(i)||i.length!==5||(r=parseInt(i[4]),isNaN(r)||(u=new a(i[0],i[1],i[2],i[3],r))),u};k={cookieStorage:null,GetMonitoredApplication:function(){return typeof Windows!="undefined"&&typeof Windows.ApplicationModel!="undefined"?et:gi},GetCookieStorage:function(){return k.cookieStorage===null&&(k.cookieStorage=new ui),k.cookieStorage},GetBrowserStorage:function(){return t.IsNullOrUndefined(window.sessionStorage)||t.IsNullOrUndefined(t.GetWindowLocalStorage())?k.GetCookieStorage():ot}};n.Settings={ImageHost:"dc.services.visualstudio.com",ImageFile:"_da.gif",PostHandler:"stats",Version:16,TrackingAppId:0,MaxUrlLength:2e3,CookieName:"__daInfo",LegacyCookieName:"__daId",LegacyCreatedCookieName:"__daCd",DebugEnabled:!1,TraceMode:0,MaxVisitorCookieLifeMS:63072e6,MaxSessionLiftMS:18e5,CookieDomain:""};var tr="({0}=)([a-zA-Z0-9_]*)(;|w)?",ir="({0}=)([0-9]*)(;|w)?",rr=0,ur={},st=!1,fr=!1,bt=null,kt=null,d=null,ht=new y;ht.addRange("arc;arj;asf;asx;avi;bin;doc;exe;gz;gzip;");ht.addRange("hqx;mov;movie;mp2;mp3;mpeg;mpg;msi;pdf;");ht.addRange("ppt;qt;ra;ram;sea;sit;tar;z;tgz;wav;wmv;");ht.addRange("zip;msp;rar;wpd;qtm;");s=new y;s.add(i.ProfileId,h.ProfileId,o.Attribute);s.add(i.UserIdentity,h.UserIdentity,o.Attribute);s.add(i.TargetPage,h.TargetPage,o.Attribute);s.add(i.Referrer,h.Referrer,o.Attribute);s.add(i.Language,h.Language,o.Attribute);s.add(i.TimeZone,h.TimeZone,o.Attribute);s.add(i.Screen,h.Screen,o.Attribute);s.add(i.CookieCreationDate,h.CookieCreationDate,o.Variable);n.setOptions=function(t){for(var i in t)n.Settings.hasOwnProperty(i)&&(n.Settings[i]=t[i])};n.setDefaultLocation=function(n){d=e(n,u.String)?n:null};n.setAppId=function(t){n.Settings.TrackingAppId=t};n.setUserId=function(n){bt=n};n.setAccountId=function(n){kt=n};n.setCookieDomain=function(t){t||(t=document.domain);t.substr(0,4)==="www."&&(t=t.substr(4));t="."+t;n.Settings.CookieDomain=t;fr=!0};n.setMetric=function(t,r){if(!f(t)||!f(r)){tt("Dimension details must be defined",w.Error);return}if(!wi(r)){tt("Metric value must be numeric",w.Error);return}f(this[i.CustomMetrics])||(n[i.CustomMetrics]=new y,s.add(i.CustomMetrics,h.CustomMetrics,o.Variable));n[i.CustomMetrics].add(n[i.CustomMetrics].Count,new vt(t,l.Number(r)))};n.setDimension=function(t,r){if(!f(t)||!f(r)){tt("Dimension details must be defined",w.Error);return}f(this[i.CustomDimensions])||(n[i.CustomDimensions]=new y,s.add(i.CustomDimensions,h.CustomDimensions,o.Variable));n[i.CustomDimensions].add(n[i.CustomDimensions].Count,new vt(t,r))};n.trackEvent=function(c,l,a,p){r.TryCatchTraceWrapper("trackEvent",function(){var r,b;if(e(c,u.Object)&&n.trackEvent("event","",c),!f(c))return tt("Event Details must be defined",w.Error),!1;if(f(n[i.Events])||(n[i.Events]=new y,s.add(i.Events,h.Events,o.Variable)),n[i.Events].add(n[i.Events].Count,new ii(c,l)),e(a,u.Object))for(r in a)t.IsNullOrUndefined(a[r])||n.setDimension(r,a[r].toString());if(e(p,u.Object))for(b in p)t.IsNullOrUndefined(p[b])||n.setMetric(b,p[b]);return nt(g(v.Event)),!0},[c,l,a,p])};n.trackLink=function(t,c,l){r.TryCatchTraceWrapper("trackLink",function(){var r,a;if(!e(t,u.String)||t.length==0){this.debugMessage("URL must be provided to track a link",w.Error);return}r=lt.Outbound;e(c,u.String)&&c.length==1&&(r=c);f(n[i.Links])||(n[i.Links]=new y,s.add(i.Links,h.Links,o.Variable));n[i.Links].add(t,new at(t,r));e(l,u.String)&&l.length>0&&(s.add(i.LinkAlias,h.LinkAlias,o.Variable),n[i.LinkAlias]=pi(l));a=g(v.Link);f(a)&&nt(a)},[t,c,l])};n.trackLinkClick=function(){return r.TryCatchTraceWrapper("trackLinkClick",function(){var n=typeof event!="undefined"&&f(event)?event.srcElement:this,l,r;if(n.tagName!=="A"){do n=f(n.parentElement)?n.parentElement:n.parentNode;while(f(n)&&n.tagName!="A");if(!f(n))return!0}var t=n.daTrackingObj,u=n.pathname,e=u.lastIndexOf("."),c=!1;if(e>0&&(l=u.substring(e+1),t.fileExtensions&&(c=t.fileExtensions.find(l)!=null)),n.host.indexOf(location.host)>=0)return!0;f(t[i.Links])||(t[i.Links]=new y,s.add(i.Links,h.Links,o.Variable));t[i.Links].add(n.href,new at(n.href,c?lt.Download:lt.Outbound));r=g(v.Link);f(r)&&nt(r)}),!0};n.trackView=function(c,l,a,y){r.TryCatchTraceWrapper("trackView",function(){var r,p,w,b;if(ur[ai.Type]=v.Page,r=null,e(c,u.String)&&(e(d,u.String)&&(r=d),d=c),e(l,u.String)&&l.length>0&&s.add(i.PageAlias,h.PageAlias,o.Variable),e(a,u.Object))for(p in a)t.IsNullOrUndefined(a[p])||n.setDimension(p,a[p].toString());if(e(y,u.Object))for(w in y)t.IsNullOrUndefined(y[w])||n.setMetric(w,y[w]);b=g(v.Page);f(b)&&nt(b);e(r,u.String)&&(d=r)},[c,l])};n.trackLinkClicks=function(){r.TryCatchTraceWrapper("trackLinkClicks",function(){for(var i=document.links,t=0;t<i.length;t++)i[t].addEventListener?i[t].addEventListener("click",n.trackLinkClick):i[t].attachEvent&&i[t].attachEvent("onclick",n.trackLinkClick),i[t].daTrackingObj=n})};n.setView=function(t,r){return!f(t)||!f(r)?(tt("View Details must be defined",w.Error),!1):t.toString().length==0||r.toString().length==0?(tt("View Details must be defined",w.Error),!1):(f(n[i.Views])||(n[i.Views]=new y,s.add(i.Views,h.Views,o.Variable)),n[i.Views].add(t,new ri(t,r)))};n.disableErrorTracking=function(){cr()};n.disablePerfTracking=function(){sr()};n.siteId=n.setAppId;n.appId=n.setAppId;n.trackPage=n.trackView;n.setCustomId=n.setUserId;n.setProperty=n.setDimension;n.trackAction=n.trackEvent;t.IsNullOrUndefined(window.$$CsmSt)&&t.IsNullOrUndefined(window.__csm_st)&&(ut=k.GetMonitoredApplication(),gt=new wt,gt.Init());t.IsNullOrUndefined(window.__da)&&(window.__da=n);t.IsNullOrUndefined(window.$$CsmSt)&&(window.$$CsmSt=n);t.IsNullOrUndefined(window.__csm_st)&&(window.__csm_st=n);r.AttachEvent(window,"load",fi);hr();!t.IsNullOrUndefined(n.Commands)&&n.Commands instanceof Array&&hi(n.Commands,n);ct=window._daCmds;!t.IsNullOrUndefined(ct)&&ct instanceof Array&&hi(ct,n)})(_daAnalytics||(_daAnalytics={}));