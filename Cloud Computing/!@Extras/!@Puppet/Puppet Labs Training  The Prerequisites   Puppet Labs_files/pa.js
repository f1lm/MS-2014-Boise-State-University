// Built on Wed Dec 03 2014 14:31:08 GMT-0800 (PST)
var puppetAnalytics=function(e){return e.inArray=function(e,t,a){a=a||function(){};for(var o=0;o<e.length;o++)if(e[o]===t)return a.apply(this,[e[o],t]),!0;return!1},e.cloneArr=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a]);return t},e.len=function(e){var t=0;for(var a in e)e.hasOwnProperty(a)&&t++;return t},e.merge=e.extend=function(){var e=arguments,t=e.length,a=arguments[0],o=arguments[1],n=3==t?e[2]:null;for(var r in o)a[r]=n?n.apply(this,[o[r]]):o[r];return a},e.parseUrlParams=function(t,a,o){if(t){t=t||location.search,o=o||"=";for(var n=t.replace(/^\?/g,""),r=n.split("&"),i={},c=0;c<r.length;c++){var s=r[c].split(o),u=s[0].replace("?","");e.inArray(a,u)&&(i[u]=decodeURIComponent(s[1]))}return i}},e.toQueryString=function(e,t){t=t||"=";var a,o="",n=0,r=0;for(a in e)n++;for(var i in e){r++;var c=i+t+e[i]+(n!=r?"&":"");o+=c}return o},e.setCookie=function(e,t,a){var o;if(a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3),o="; expires="+n.toGMTString()}else o="";document.cookie=e+"="+t+o+"; path=/; domain=puppetlabs.com"},e.getCookie=function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var a=document.cookie.indexOf(";",t);return-1==a&&(a=document.cookie.length),decodeURI(document.cookie.substring(t,a))}}return""},e.deleteCookie=function(t){e.getCookie(t)&&e.setCookie(t,"",-999)},e.updateMarketoCookie=function(t,a){var o=this.cloneArr(this.params);if(o.push("id"),o.push("token"),e.getCookie(t)){var n=e.parseUrlParams(e.getCookie(t),o,":");if("ls"in n){var r=e.parseUrlParams(location.search,this.params),i=e.merge(n,r),c=e.toQueryString(i,":");e.setCookie(t,c,1)}else{var s=a.replace(/\=/g,":"),c=e.getCookie(t)+"&"+s;e.setCookie(t,c,1)}}},e.updateAnalytics=function(e){var t=setInterval(function(){"ga"in window&&(ga("set","campaignSource",e.ls),ga("set","campaignName",e.ccn),ga("set","campaignId",e.cid),clearInterval(t))},500)},e.insertValuesIntoHiddenFields=function(e,t){var a=function(e){var t={cid:["campaign_ID__c","Original_Campaign_ID__c"],ls:["Current_Lead_Source__c","LeadSource"],ccn:["Current_Custom_Campaign__c","Custom_Campaign__c"]};for(var a in t)for(var o=t[a],n=0;n<o.length;n++){var r=o[n],i=document.getElementsByName(r);i.length&&e[a]&&i[0].setAttribute("value",e[a])}};t?a(e):window.onload=function(){a(e)}},e.updateDataLayer=function(e){dataLayer="undefined"!=typeof dataLayer&&dataLayer instanceof Array?dataLayer:[];for(var t in e){var a={};a[t]=e[t],dataLayer.push(a)}},function(t){var a=t.id||"pa_",o=t.uri||location.search,n=t.params||e.params,r=t.defaults||{},i=t.days||null;e.params=n;var c=e.parseUrlParams(o,n);e.len(c)?(e.setCookie(a,e.toQueryString(c),i),e.setCookie(a+"ls",c.ls,i),e.setCookie(a+"ccn",c.ccn,i),e.setCookie(a+"cid",c.cid,i)):e.getCookie("pa_")||(e.setCookie(a+"ls",r.ls,i),e.setCookie(a+"ccn",r.ccn,i),e.setCookie(a+"cid",r.cid,i),e.setCookie(a,e.toQueryString(r),i)),e.insertValuesIntoHiddenFields({ls:e.getCookie(a+"ls"),ccn:e.getCookie(a+"ccn"),cid:e.getCookie(a+"cid")});var s={};return s[a+"ls"]=e.getCookie(a+"ls"),s[a+"ccn"]=e.getCookie(a+"ccn"),s[a+"cid"]=e.getCookie(a+"cid"),e.updateDataLayer(s),function(){return{id:a,data:c,parseUrlParams:e.parseUrlParams,toQueryString:e.toQueryString,setCookie:e.setCookie,getCookie:e.getCookie,deleteCookie:e.deleteCookie,updaateMarketoCookie:e.updateMarketoCookie,updateAnalytics:e.updateAnalytics,updateDataLayer:e.updateDataLayer,insertValuesIntoHiddenFields:e.insertValuesIntoHiddenFields}}()}}(puppetAnalytics||{});PuppetAnalytics=puppetAnalytics({id:"pla_",uri:location.search,params:["ls","ccn","cid"],days:30,defaults:{ls:"website-corporate",ccn:"null",cid:"701G0000000F68K"}});