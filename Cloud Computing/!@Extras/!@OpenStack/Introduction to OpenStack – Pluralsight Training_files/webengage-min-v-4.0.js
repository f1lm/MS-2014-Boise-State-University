var webengage=webengage||{};var _weq=_weq||{};webengage.eLog=function(f,h,d,b,m,c){if(f instanceof Error){d=f.stack||f.description;d=(d.length>900?d.substring(0,900):d);b=f.message||d.substring(0,50);h="exception"}if(h){if(c&&m){var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"', 'et':'"+m+"', 'eid':'"+c+"'}"}else{var a="{'version':'"+webengage.getWidgetVersion()+"','text':'"+d+"'}"}var g=(h==="error"?"//c.webengage.com/e.jpg":"//c.webengage.com/e.jpg");if(webengage.winUnloading&&h==="error"){return}var k=new Image();k.src=g+"?event="+encodeURIComponent(b)+"&category="+_weq["webengage.licenseCode"]+"&type="+h+"&data="+encodeURIComponent(a)+"&ts="+(new Date()).getTime()}};webengage.withELog=function(c,a,b){if(typeof c==="function"){try{if(!(a instanceof Array)){a=[]}return c.apply(undefined,a)}catch(d){webengage.eLog(d);if(!b){throw d}}}else{throw new Error("WithELog : first argument not a function")}};webengage.setTimeout=function(a,b){return setTimeout(function(){webengage.withELog(a)},b)};webengage.setInterval=function(b,a){return setInterval(function(){webengage.withELog(b)},a)};webengage.setTimeout(function(){(function(d,a,f,c,e){var b=function(){var m=null,n=function(F,E,C){var D=(typeof(C)==="boolean"?C:true);for(var B in E){if(F[B]===e||D){F[B]=E[B]}}return F},x={};n(c,{util:{copy:function(D,C,B){return n(D,C,B)},loadScript:function(E,F,B,G){var D=a.createElement("script");D.type="text/javascript";D.charset="UTF-8";D.async=true;D.src=E;D.callBack=F;D.callBackArgs=B||[];D.errorCallBack=G;this.appendChild(D);if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11&&D.readyState){if(typeof F==="function"){var C=function(){if(D.readyState=="loaded"||D.readyState=="complete"){c.withELog(F,B)}};D.defer=true;D.onreadystatechange=C}}else{if(D.addEventListener){if(typeof F==="function"){D.addEventListener("load",function(H){c.withELog(F,B)},false)}D.addEventListener("error",function(H){if(c.getWidgetVersion()!=="3.0"){c.eLog(null,"error","could not load - "+E,"script loading error")}if(typeof G==="function"){c.withELog(G,[H])}},true)}else{if(typeof F==="function"){D.attachEvent("onload",function(H){c.withELog(F,B)})}D.attachEvent("onerror",function(H){if(c.getWidgetVersion()!=="3.0"){c.eLog(null,"error","could not load - "+E,"script loading error")}if(typeof G==="function"){c.withELog(G,[H])}})}}},createObj:function(C){var D=c,B=C?C.split("."):[];for(var E=0;E<B.length;E++){var G=B[E],F=D[G];if(!F){F={};D[G]=F}D=F}return D},extend:function(B,C){return c.util.copy((typeof B=="string"?c.util.createObj(B):B),C)},isJqueryPresent:function(){return(d.jQuery!==e&&parseFloat("."+d.jQuery().jquery.replace(/\./g,""))>=0.13)},applyCss:function(D,C){try{for(var B in C){if(typeof C[B]=="function"){D.style[B]=C[B]()}else{D.style[B]=C[B]}}}catch(E){}return D},inArray:function(B,D){for(var C=0;C<B.length;C++){if(B[C]==D){return true}}return false},getMaxZIndex:function(){if(this.maxZIndex===e){this.maxZIndex=16776271}return this.maxZIndex++},alignCenter:function(E,D,C){var B=(C=="left")?"right":"left";E.style.top=((parseInt(c.util.getElementHeight(D),10)-parseInt(c.util.getElementHeight(E),10))/2-(/Firefox/i.test(navigator.userAgent)?7:0))+"px";E.style[B]=(parseInt(c.util.getElementWidth(D),10)-parseInt(c.util.getElementWidth(E),10))/2+10+"px"},getElementWidth:function(B){if(B.clip!==e){return B.clip.width}else{if(B.style.pixelWidth){return B.style.pixelWidth}else{return B.offsetWidth}}},getElementHeight:function(B){if(B.clip!==e){return B.clip.height}else{if(B.style.pixelHeight){return B.style.pixelHeight}else{return B.offsetHeight}}},isSupportsLocalStorage:function(D){try{var B=(typeof(Storage)!=="undefined"&&"localStorage" in d&&d.localStorage!==null);if(!D&&B){d.localStorage["_we_dm_ios_sup_f_"]="true";d.localStorage.removeItem("_we_dm_ios_sup_f_")}return B}catch(C){return false}},getWindowHeight:function(){return"innerHeight" in d?d.innerHeight:a.documentElement.offsetHeight},getWindowWidth:function(){return"innerWidth" in d?d.innerWidth:a.documentElement.offsetWidth},getInitParamValue:function(B,F,C,E){var D=C!==e?C:null;if(B&&B[F]){var G=B[F];if(E){if(c.util.inArray(E,G)){D=G}}else{D=G}}return D},getInitParamValueAsArray:function(B,H,E,G){var F=c.util.getInitParamValue(B,H,E);if(F&&typeof(F)!="object"){F=F.split(/\s*,\s*/)}if(G&&typeof(G)=="object"){var C=[];for(var D=0;D<F.length;D++){if(c.util.inArray(G,F[D])){C[C.length]=F[D]}}F=C}return F},setCookie:function(C,I,D,K,F,B,E){if(c.util.isSupportsLocalStorage()&&!E){try{d.localStorage[C]=I;return"ls"}catch(G){d.localStorage.removeItem(C);return c.util.setCookie(C,I,D,K,F,B,true)}}else{if(c.util.isSupportsLocalStorage(true)&&!E){d.localStorage.removeItem(C)}var H=new Date();H.setTime(H.getTime());if(D){D=D*1000*60*60*24}var J=new Date(H.getTime()+(D));a.cookie=C+"="+encodeURIComponent(I)+((D)?";expires="+J.toGMTString():"")+((K)?";path="+K:"")+((F)?";domain="+F:"")+((B)?";secure":"");return"ck"}},getCookie:function(B,D){if(c.util.isSupportsLocalStorage(true)&&!D){return(d.localStorage[B]?d.localStorage[B]:c.util.getCookie(B,true))}else{var H=a.cookie.split(";");var C="";var F="";var G="";var E=false;for(i=0;i<H.length;i++){C=H[i].split("=");F=C[0].replace(/^\s+|\s+$/g,"");if(F==B){E=true;if(C.length>1){G=decodeURIComponent(C[1].replace(/^\s+|\s+$/g,""))}return G===null?"":G}C=null;F=""}if(!E){return null}}},bindEvent:function(B,C){if(d.addEventListener){d.addEventListener(B,C)}else{if(d.attachEvent){d.attachEvent("on"+B,C)}}},unbindEvent:function(B,C){if(d.removeEventListener){d.removeEventListener(B,C)}else{if(d.detachEvent){d.detachEvent("on"+B,C)}}},getCurrentTime:function(C){var F=new Date();var D=F.getTime();if(C!==e){var E=F.getTimezoneOffset()*60000;var B=D+E;D=B+(1000*C)}return D},getCurrentWeekDay:function(C){var B=u.getCurrentTime();var D=new Date(B);return D.getDay()},setWebengageCookie:function(C){var F=(function(){var G=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return((new Date().getTime())+G()+G()+G()+G())})();var E=C||{};var D={time:(new Date()).getTime(),luid:F};E=c.util.copy(E,D,false);var B=c.util.stringify(E);x._we_wk_ls_=E;c.util.setCookie("_we_wk_ls_",B,99999,"/","","");if(this.firstTimeUser===e){this.firstTimeUser=true}},getWebengageCookie:function(){var B=c.util.getCookie("_we_wk_ls_")||x._we_wk_ls_;if(B){var B=c.util.getCookie("_we_wk_ls_");if(c.util.isSupportsLocalStorage()&&c.util.getCookie("_we_wk_ls_",true)){c.util.setCookie("_we_wk_ls_",B,-1,"/","","",true);c.util.setCookie("_we_wk_ls_",B,99999,"/","","")}x._we_wk_ls_=new Function("return "+B)()||null}else{c.util.setWebengageCookie()}return x._we_wk_ls_},setSessionCookie:function(E){var C={referrer:a.referrer,country:c.GEO.country(),region:c.GEO.region(),city:c.GEO.city(),ip:c.GEO.ip(),tsD:(c.GEO.serverTimeStamp()&&!isNaN(c.GEO.serverTimeStamp())?((new Date()).getTime()-parseInt(c.GEO.serverTimeStamp(),10)):0),isFirstTime:c.util.isFirstTimeUser(),sst:(new Date()).getTime(),pvc:0,suid:(new Date().getTime()),vtd:0,landingPage:d.location.href};var D=E||{};D=c.util.copy(D,C,false);var F=c.util.stringify(D);x._we_wk_ss_=D;var B=c.util.setCookie("_we_wk_ss_",F,"","/","","");if(c.util.isSupportsLocalStorage()){if(B==="ls"){c.util.setCookie("_we_wk_ss_lsf_",true,"","/","","",true)}else{c.util.setCookie("_we_wk_ss_lsf_",false,"","/","","",true)}}return D},getSessionCookie:function(){var E=c.util.getCookie("_we_wk_ss_")||c.util.getCookie("_we_wk_ss_",true)||x._we_wk_ss_;if(E){try{if(c.util.isSupportsLocalStorage()){var D=c.util.getCookie("_we_wk_ss_lsf_",true);if(!D||D==="false"){var B=c.util.getCookie("_we_wk_ss_",true);if(B){c.util.setCookie("_we_wk_ss_",E,-1,"/","","",true);c.util.setSessionCookie(B)}else{throw new Error()}}}x._we_wk_ss_=(new Function("return "+E)())||null}catch(C){x._we_wk_ss_=c.util.setSessionCookie()}}else{x._we_wk_ss_=c.util.setSessionCookie()}return x._we_wk_ss_},updateSessionCookie:function(C){var B=c.util.getSessionCookie();if(B){c.util.copy(B,(C||{}));c.util.setSessionCookie(B)}else{B=c.util.setSessionCookie()}return B},updateSessionCookieGeoData:function(){var B={country:c.GEO.country(),region:c.GEO.region(),city:c.GEO.city(),ip:c.GEO.ip(),tsD:(c.GEO.serverTimeStamp()&&!isNaN(c.GEO.serverTimeStamp())?((new Date()).getTime()-parseInt(c.GEO.serverTimeStamp(),10)):0)};c.util.updateSessionCookie(B)},getClientPageUrl:function(){return d.location.href},getClientPageHost:function(){return d.location.host},escapeScopeChars:function(B){return(B+"").replace(/([,#[\]\\])/g,"$1")},escapeForRegExp:function(B){return(B+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},isFirstTimeUser:function(){return(this.firstTimeUser!==e)?this.firstTimeUser:false},escapeNewLine:function(B){return B.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")},stringify:function(H){if(typeof JSON!=="undefined"&&typeof JSON.stringify==="function"){return JSON.stringify(H)}else{var E=typeof(H);if(E!="object"||H===null){if(E=="string"){H='"'+c.util.escapeNewLine(H)+'"'}return String(H)}else{var I,G,D=[],B=(H&&H.constructor==Array),F=(H&&H instanceof Date);if(B){for(var C=0;C<H.length;C++){G=H[C];E=typeof(G);if(E=="string"){G='"'+c.util.escapeNewLine(G)+'"'}else{if(E=="object"&&G!==null){G=c.util.stringify(G)}}D.push(String(G))}}else{if(F){return F.toString()}else{for(I in H){G=H[I];E=typeof(G);if(E=="string"){G='"'+G+'"'}else{if(E=="object"&&G!==null){G=c.util.stringify(G)}}D.push('"'+I+'":'+String(G))}}}return(B?"[":"{")+String(D)+(B?"]":"}")}}},trimStr:function(B){if(typeof B.trim==="function"){return B.trim()}else{if(typeof B==="string"){return B.replace(/^\s+|\s+$/g,"")}}return B},clientDataString:function(H){var E=function(K){var I=K;if(typeof K==="function"){try{I=K()}catch(J){I=null}}return I};if(typeof H==="object"){for(var D in H){var F=H[D];if(F===e||(typeof F!=="boolean"&&F!==0&&!F)){delete H[D];continue}if(!(F instanceof Array)){H[D]=new Array();var G=E(F);if(G===e||(typeof G!=="boolean"&&G!==0&&!G)){delete H[D]}else{H[D].push(G)}}else{var B=[];for(var C=0;C<F.length;C++){F[C]=E(F[C]);if(!(F[C]===e||(typeof F[C]!=="boolean"&&F[C]!==0&&!F[C]))){B.push(F[C])}}if(B.length>0){H[D]=B}else{delete H[D]}}}}return c.util.stringify(H)},isColorTooLight:function(C){C=C.indexOf("#")===0?C.substr(1,C.length):C;var E=parseInt(C.substr(0,2),16);var D=parseInt(C.substr(2,2),16);var B=parseInt(C.substr(4,2),16);var F=((E*299)+(D*299)+(B*299))/1000;return F>=128},isEmptyObject:function(B){for(var C in B){if(B.hasOwnProperty(C)){return false}}return true},parseJSON:function(B){return new Function("return "+B+";")()},bind:function(G,E){var H=this;var F=H.callbacks||{};if(G!==e&&typeof(E)==="function"){var I=E;E=function(){return I.apply(this,arguments)};E.cbid=(I.cbid=H.cbid++);G=(G||"").match(/\S+/g)||[""];var D=G.length;while(D--){var C=G[D];var B=F[C]||{};B[E.cbid]=E;F[C]=B}H.callbacks=F}return H},unbind:function(B,C){var D=this;if(B!==e){if(typeof(D.callbacks)==="object"&&typeof(D.callbacks[B])==="object"){if(typeof(C)==="function"&&C.cbid){delete D.callbacks[B][C.cbid]}else{delete D.callbacks[B]}}}return D},executeCallbacks:function(){var F=this;if(typeof F.enableCallbacks==="boolean"&&F.enableCallbacks){var C=arguments[0];if(C!==e&&typeof F.callbacks==="object"&&typeof F.callbacks[C]==="object"){for(var D in F.callbacks[C]){if(typeof F.callbacks[C][D]==="function"){var B={};if(arguments[1]!==e){B=arguments[1]}B.event=C;var E=F.callbacks[C][D].apply(this,[B]);if(typeof E==="boolean"&&!E){return false}}}}}},markSurveyAsClosed:function(C){if(C){try{var B=c.util.getSessionCookie();if(B.closedSurveys===e||!B.closedSurveys){B.closedSurveys=""}if(B.closedSurveys.indexOf("##"+C)<0){B.closedSurveys+="##"+C}c.util.updateSessionCookie(B)}catch(D){}}},markSurveyAsTaken:function(C){if(C){try{var B=c.util.getWebengageCookie();if(B.takenSurveys===e||!B.takenSurveys){B.takenSurveys=""}if(B.takenSurveys.indexOf("##"+C)<0){B.takenSurveys+="##"+C}c.util.setWebengageCookie(B)}catch(D){}}},markEntityAsShown:function(I,F){if(I&&F){var D=1;try{var G=c.util.getWebengageCookie();sessionCookieVal=c.util.getSessionCookie();if("notification"===F){var E=false,C=false;var B=z.notification&&z.notification.ruleMap;if(B&&B[I]&&B[I]["actionLinks"]&&B[I]["actionLinks"] instanceof Array&&B[I]["actionLinks"].length>0){C=true}G.seenNIds=G.seenNIds&&G.seenNIds!==e?G.seenNIds:"";if(G.seenNIds.indexOf("##"+I)<0){G.seenNIds+="##"+I+"="+D;E=true}else{var J=new RegExp("##"+I+"=(\\d+)","g");G.seenNIds=G.seenNIds.replace(J,function(K,L){D=(+L+1);return"##"+I+"="+D})}u.tsTracking("/n.jpg",("id="+I+"&licenseCode="+f["webengage.licenseCode"]+"&v=1&uv="+(E?1:0)+(!sessionCookieVal.hsn?"&hsn=0":"")+(!sessionCookieVal.hcn&&!C?"&hcn=0":"")+"&tzo="+webengage_fs_configurationMap.tzo));sessionCookieVal.hsn=1;if(!sessionCookieVal.hcn&&!C){sessionCookieVal.hcn=1}}else{if("survey"===F){G.seenSIds=G.seenSIds&&G.seenSIds!==e?G.seenSIds:"";if(G.seenSIds.indexOf("##"+I)<0){G.seenSIds+="##"+I+"="+D}else{var J=new RegExp("##"+I+"=(\\d+)","g");G.seenSIds=G.seenSIds.replace(J,function(K,L){D=(+L+1);return"##"+I+"="+D})}}}c.util.updateSessionCookie(sessionCookieVal);c.util.setWebengageCookie(G)}catch(H){}}},markNotificationAsClicked:function(F,G){if(F){try{var D=c.util.getWebengageCookie(),C=c.util.getSessionCookie();D.takenNIds=D.takenNIds&&D.takenNIds!==e?D.takenNIds:"";if(D.takenNIds.indexOf("##"+F)<0){D.takenNIds+="##"+F}var B=("id="+F+"&licenseCode="+f["webengage.licenseCode"]+"&ck=1"+(!C.hcn?"&hcn=0":"")+"&tzo="+webengage_fs_configurationMap.tzo);if(G){B+="&ac="+G}u.tsTracking("/n.jpg",B);C.hcn=1;c.util.updateSessionCookie(C);c.util.setWebengageCookie(D)}catch(E){}}},markNotificationAsClosed:function(D){if(D){try{var B=c.util.getSessionCookie();if(B.closedNIds===e||!B.closedNIds){B.closedNIds=""}if(B.closedNIds.indexOf("##"+D)<0){B.closedNIds+="##"+D}c.util.updateSessionCookie(B);u.tsTracking("/n.jpg",("id="+D+"&licenseCode="+f["webengage.licenseCode"]+"&cl=1&tzo="+webengage_fs_configurationMap.tzo))}catch(C){}}},setMinimizedState:function(B,D,F){var E=(B==="notification"?"minNIds":"minSIds");if(D){try{var C=c.util.getSessionCookie();if(C[E]===e||!C[E]){C[E]=""}if(F){if(C[E].indexOf("##"+D)<0){C[E]+="##"+D}}else{C[E]=C[E].replace("##"+D,"")}c.util.updateSessionCookie(C)}catch(G){}}},getMinimizedState:function(B,D){var E=(B==="notification"?"minNIds":"minSIds");var F=false;if(D){try{var C=c.util.getSessionCookie();if(C[E]!==e){if(0<=C[E].indexOf("##"+D)){F=true}}}catch(G){}}return F},getVersion:function(){return s.widgetVersion},updateSessionCookieOnWidgetLoad:function(D){var C=c.util.getSessionCookie();C.pvc=(C.pvc?C.pvc+1:1);if(D&&a.referrer&&(!C.referrer||C.referrer!==a.referrer)){var B=a.referrer.match(/:\/\/(.[^\/]+)/)[1];if(!B.match(new RegExp(c.util.escapeForRegExp(D)+"$","gi"))){C.referrer=a.referrer}}c.util.updateSessionCookie(C)},getHashCode:function(F){var D=0,C,B,E=F||"";if(E.length==0){return D}for(C=0,l=E.length;C<l;C++){B=E.charCodeAt(C);D=((D<<5)-D)+B;D|=0}return D},getTotalTimesShown:function(G,F){var B=0;if(G&&F){try{var E=u.getWebengageCookie();if(E&&(E.seenNIds||E.seenSIds)){var D=new RegExp("##"+G+"=(\\d+)");var C="";if("notification"===F){C=E.seenNIds.match(D)}else{if("survey"===F){C=E.seenSIds.match(D)}}if(C instanceof Array&&C.length>1){B=C[1]}}}catch(H){}}return B},attachEventListners:function(E,B){var C=(E==="survey"?c.survey.callbacks:(E==="feedback"?c.feedback.callbacks:c.notification.callbacks));if(typeof C!==e&&C){for(eventName in C){var D=C[eventName];if(typeof callbacks!=e&&D){for(_cbid in D){this.bind.apply(B,[eventName,D[_cbid]])}}}}},hasSVG:function(){return !!a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},onDocReady:function(B){if(typeof B==="function"){if(a.body){c.withELog(function(){B()});return}if(a.addEventListener){a.addEventListener("DOMContentLoaded",function(){c.withELog(function(){a.removeEventListener("DOMContentLoaded",arguments.callee,false);B()})},false)}else{if(a.attachEvent){a.attachEvent("onreadystatechange",function(){c.withELog(function(){if(a.readyState==="complete"){a.detachEvent("onreadystatechange",arguments.callee);B()}})});if(a.documentElement.doScroll&&d==d.top){(function(){c.withELog(function(){try{a.documentElement.doScroll("left")}catch(C){setTimeout(arguments.callee,0);return}B()})})()}}}}},abortAllInstances:function(B){c.withELog(function(){if(B.length>0){for(var C=0;C<B.length;C++){if(typeof B[C].abort==="function"){B[C].abort()}}}})},abortInstance:function(B){c.withELog(function(){if(B){if(typeof B.close==="function"){B.close()}else{B.onLoad(function(){this.close()})}}})},uwats:function(){if(!f["webengage.isDemoMode"]){if(Math.floor((Math.random()*100)+1)<=10){var B=1000*60*60*24;var D=new Date().getTime()-(7*B);if(webengage_fs_configurationMap.lastWidgetCheckDate){var C=new Date(webengage_fs_configurationMap.lastWidgetCheckDate);if(C<D){c.eLog(null,"info",C.getTime(),"widget-verified")}}else{c.eLog(null,"info","no-check-date","widget-verified")}}}},isSmallScreen:function(){var B=480,C=d.screen.availWidth;return(C<=B?true:false)},webklitWorkAround:function(B){var C=a.body.scrollTop||0;if(a.location.toString().match(/#(top)?$/)){B.body.scrollTop=0;a.body.scrollTop=C}},getWeDataContainer:function(){return s.weDataContainer},withWeJquery:function(B){c.jQSt=c.jQSt||0;switch(c.jQSt){case 1:setTimeout(function(){c.util.withWeJquery(B)},100);break;case 2:if(typeof B==="function"){B()}break;default:c.jQSt=1;c.util.loadScript.apply(s.widgetContainer,[s.weJquery,function(){$weJQuery=jQuery.noConflict(true);c.jQSt=2;if(typeof B==="function"){B()}}]);break}},tsTracking:function(C,D){if(C){var B=new Image();B.src="//"+s.tstbu+C+(D?"?"+D:"")}}}},true);n(c,{getWidgetVersion:function(){return f["webengage.widgetVersion"]||"4.0"}},true);var u=c.util;var s={widgetVersion:"4",weJquery:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js",baseWebEngageUrl:"//webengage.com",feedbackAppHost:"feedback.webengage.com",surveyAppHost:"survey.webengage.com",widgetDomain:"//d3701cc9l7v9a6.cloudfront.net",baseStaticUrl:"//d3701cc9l7v9a6.cloudfront.net",loadSurveyWidgetUrl:function(B){return"/js/widget/we-survey-widget-"+(B?B:"~483819f")+"-v-4.0.js?v=304.0"},loadSurveyWidgetUrlv3:"/js/widget/we-survey-widget.js?v=304.0",notificationWidgetScriptUrl:"/js/widget/we-notification-widget-v-4.1.js?v=304.0",findAllTakenSurveysUrl:function(){return"//survey.webengage.com/publisher-widget-loader.html?action=findAllTakenSurveys&licenseCode="+f["webengage.licenseCode"]+"&url="+encodeURIComponent(u.getClientPageUrl())},widgetContainerId:"webklipper-publisher-widget-container",feedbackImageBaseUrl:"//s3-ap-southeast-1.amazonaws.com/wk-static-files/webengage/feedbacktab/",loadFeedbackWidgetUrl:"/js/widget/we-feedback-widget-v-4.0.js?v=304.0",loadFeedbackWidgetUrlv3:"/js/widget/we-feedback-widget.js?v=304.0",gaCallbacksScriptUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/ga-callbacks-helper.js?v=304.0",tstbu:"c.webengage.com",csUrl:"//d3701cc9l7v9a6.cloudfront.net/js/widget/we-conversion-helper-min-v-1.0.js?v=304.0"};var z={};u.extend("logger",(function(){var C={containerCss:{position:function(){return c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"},cursor:"default",margin:0,zIndex:(u.getMaxZIndex()+1),backgroundColor:"red",right:"0px",bottom:"0px",display:"block",padding:"10px",maxWidth:"500px",textAlign:"left",lineHeight:"17px",background:"none repeat scroll 0 0 #ff9",border:"1px solid #fc6",borderBottomWidth:"0px",borderRightWidth:"0px",borderTopLeftRadius:"5px",MozBorderRadiusTopleft:"5px",WebkitBorderTopLeftRadius:"5px",boxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",MozBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",WebkitBoxShadow:"0 1px 0 0 rgba(255, 255, 255, 0.6) inset, 0 1px 1px rgba(0, 0, 0, 0.1)",fontFamily:"Arial, sans-serif",fontSize:"13px"},dataDivCss:{margin:"0px",padding:"0px",color:"#000",textShadow:"1px 1px #f1f1f1",textDecoration:"none",fontFamily:"inherit",fontSize:"inherit"},dataDivLinkCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",fontFamily:"inherit",fontSize:"inherit"},closeButtonCss:{color:"#039",textDecoration:"underline",textShadow:"1px 1px #f1f1f1",cursor:"pointer",cssFloat:"right",styleFloat:"right",marginRight:"5px",marginLeft:"30px"}},B=function(N,M){var F=a.getElementById("webengage-error-messages");if(F){F.parentNode.removeChild(F)}var H=a.createElement("div");H.setAttribute("id","webengage-error-messages");H=u.applyCss(H,C.containerCss);a.body.insertBefore(H,null);var L=a.createElement("div");L=u.applyCss(L,C.closeButtonCss);L.innerHTML="x";H.appendChild(L);L.onclick=function(){this.parentNode.parentNode.removeChild(this.parentNode)};var E=a.createElement("div");E=u.applyCss(E,C.dataDivCss);H.appendChild(E);E.innerHTML=N;var I=E.getElementsByTagName("a");if(I&&I.length>0){for(var J=0;J<I.length;J++){u.applyCss(I[J],C.dataDivLinkCss);var G=I[J].getAttribute("href");var D=G.split("#");var K=D[0];K=K.indexOf("?")<0?(K+"?"):K;K=K+"&ref=widget-message";K=D.length==2?(K+"#"+D[1]):K;I[J].setAttribute("href",K)}}c.eLog(null,M,N,N);setTimeout(function(){H.remove()},5000);return H};return{success:function(D){return B(D,"success")},warn:function(D){return B(D,"warn")},error:function(D){return B(D,"error")}}})());u.extend("GEO",{country:function(){return this._country||""},country_code:function(){return this._country_code||""},region:function(){return this._region||""},city:function(){return this._city||""},latitude:function(){return this._latitude||""},longitude:function(){return this._longitude||""},serverTimeStamp:function(){return this._serverTimeStamp},ip:function(){return this._ip||""},setGeoData:function(D){var C=this,B=D||{};C._country=B.geoplugin_countryName||"";C._country_code=B.geoplugin_country_code||"";C._region=B.geoplugin_region||"";C._city=B.geoplugin_city||"";C._latitude=B.geoplugin_latitude||"";C._longitude=B.geoplugin_longitude||"";C._serverTimeStamp=B.serverTimeStamp;C._ip=B.clientIp;c.getUser().country=C._country;c.getUser().city=C._city;c.getUser().ip=C._ip},isGeoLoaded:function(){return this._isLoaded?this._isLoaded:u.getSessionCookie().tsD?true:false},load:function(E,B){var C=this;if(!this.isGeoLoaded()){var D="//geoservice.webengage.com/geoip/?jsoncallback="+encodeURI("webengage.GEO.setGeoData");u.loadScript.apply(s.widgetContainer,[D,function(){u.updateSessionCookieGeoData();C._isLoaded=true;if(typeof E==="function"){E()}},null,function(){if(typeof B==="function"){B()}}])}else{C._isLoaded=true;if(typeof E==="function"){E()}}}});u.extend("BrowserDetect",(function(){var E,G,C,I=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:d.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Windows,Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],F=[{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Windows Phone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.userAgent,subString:"Mobile",identity:"Mobile"}],D=[{string:navigator.userAgent,subString:"iPhone",identity:"Mobile"},{string:navigator.userAgent,subString:"iPod",identity:"Mobile"},{string:navigator.userAgent,subString:"Android,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Windows Phone",identity:"Mobile"},{string:navigator.userAgent,subString:"BlackBerry,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"BB10,Mobile",identity:"Mobile"},{string:navigator.userAgent,subString:"Android",identity:"Tablet"},{string:navigator.userAgent,subString:"iPad",identity:"Tablet"},{string:navigator.userAgent,subString:"Windows,Tablet",identity:"Tablet"}],B=function(Q){for(var M=0;M<Q.length;M++){var N=Q[M].string;var P=Q[M].prop;this._versionSearchString=Q[M].versionSearch||Q[M].identity;if(N){var O=Q[M].subString.split(",");var L=false;for(var K=0;K<O.length;K++){if(N.indexOf(O[K])==-1){L=false;break}L=true}if(L){return Q[M].identity}}else{if(P){return Q[M].identity}}}},H=function(M){var L=M.indexOf(this._versionSearchString);if(L==-1){return}var K=parseFloat(M.substring(L+this._versionSearchString.length+1));if(E=="Explorer"&&7<=K){if(M.indexOf("Trident/4")!=-1){K=8}else{if(M.indexOf("Trident/5")!=-1){K=9}else{if(M.indexOf("Trident/6")!=-1){K=10}}}}return K},J=function(){if(E&&G&&C){return}E=B(I)||"An unknown browser";G=H(navigator.userAgent)||H(navigator.appVersion)||"an unknown version";C=B(F)||"an unknown OS";_device=B(D)||(u.isSmallScreen()?"Mobile":"Desktop")};return{browser:function(){return J()||E},version:function(){return J()||G},os:function(){return J()||C},device:function(){return J()||_device},is_this_the_worlds_most_annoying_browser:function(){return(a.all&&!d.opera&&!d.XMLHttpRequest)},ie:function(){return J()||E=="Explorer"},isMobile:function(){var M=this.os(),K=false,N=["iOS","Android","Windows Phone","Mobile"];for(var L=0;L<N.length;L++){if(M==N[L]){K=true;break}}return K}}})());u.extend("feedback",(function(){var B=[],C={onLoad:function(D){return this.bind("load",D)},onOpen:function(D){return this.bind("open",D)},onSubmit:function(D){return this.bind("submit",D)},onClose:function(D){return this.bind("close",D)},bind:function(){return u.bind.apply(this,arguments)},unbind:function(){return u.unbind.apply(this,arguments)},executeCallbacks:function(){return u.executeCallbacks.apply(this,arguments)}};return{cbid:1,getMobileLoadingDiv:function(E){var D=a.createElement("div");D.id=E||s.widgetContainerId+"-loading";D=c.util.applyCss(D,{position:"fixed",left:(c.util.getWindowWidth()*0.05)+"px",width:(c.util.getWindowWidth()*0.9)+"px",opacity:"1",background:"#f9f9f9",color:"#666","z-index":c.util.getMaxZIndex(),textAlign:"center","padding-top":"20px","padding-bottom":"20px",fontFamily:"Arial, sans-serif",fontSize:"10px",display:"none"});return D},getLoadingDiv:function(E){var D=a.createElement("div");D.id=E||s.widgetContainerId+"-loading";D=c.util.applyCss(D,{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"});return D},getLightBoxBaseDiv:function(){var D=a.createElement("div");c.util.applyCss(D,{display:"block",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),position:"absolute",overflow:"hidden",top:"0",left:"0",height:a.body.scrollHeight+"px",width:"100%","background-color":"rgba(0, 0, 0, .85)"});D.id=s.widgetContainerId+"-base";return D},getLightBoxContainerDiv:function(){var E=a.createElement("div");c.util.applyCss(E,{display:"block",top:"0",left:"0",width:"100%",height:c.util.getWindowHeight()+"px",position:"absolute",outline:"none !important","-webkit-backface-visibility":"hidden",margin:"0",padding:"0","z-index":c.util.getMaxZIndex(),"-webkit-overflow-scrolling":"touch"});E.setAttribute("tabIndex",-1);E.id=s.widgetContainerId+"-light-box-container";var D=a.createElement("div");c.util.applyCss(D,{display:"block","text-align":"center",position:"absolute",width:"100%",height:"100%",left:"0",top:"0",outline:"none !important","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",padding:"0 8px",margin:"0","overflow-y":"auto","overflow-x":"hidden"});D.id=s.widgetContainerId+"-light-box-content";E.appendChild(D);return E},render:function(D){return c.withELog(function(){return(new function(){c.feedback.clear();var Q=this;Q.cbid=1;B[B.length]=Q;Q.abort=function(){u.abortInstance(this)};Q._feedbackOptions={launchType:f["webengage.feedback.launchType"]||"",externalLinkId:f["webengage.feedback.externalLinkId"]||"",alignment:f["webengage.feedback.alignment"]||"",borderColor:f["webengage.feedback.borderColor"]||"",backgroundColor:f["webengage.feedback.backgroundColor"]||"",snapshotEnabled:f["webengage.feedback.snapshotEnabled"]||"",defaultCategory:f["webengage.feedback.defaultCategory"]||"",showAllCategories:(typeof f["webengage.feedback.showAllCategories"]==="boolean"&&!f["webengage.feedback.showAllCategories"])?false:true,showForm:f["webengage.feedback.showForm"]||false,isDemoMode:f["webengage.feedback.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:f["webengage.feedback.customData"]||f["webengage.customData"]||{},formData:f["webengage.feedback.formData"]||f["webengage.formData"]||[],enableCallbacks:f["webengage.feedback.enableCallbacks"]||f["webengage.enableCallbacks"]||false,language:f["webengage.language"]||""};if(D!==e&&D.data!==e&&D.data){var af=D.data;if(af.name!==e&&af.name){Q._feedbackOptions.formData.push({name:"name",value:af.name})}if(af.email!==e&&af.email){Q._feedbackOptions.formData.push({name:"email",value:af.email})}if(af.category!==e&&af.category){Q._feedbackOptions.formData.push({name:"category",value:af.category})}}var I={feedbackLaunchType:"launchType",feedbackExternalLinkId:"externalLinkId",feedbackButtonAlignment:"alignment",feedbackButtonBorderColor:"borderColor",feedbackButtonBackgroundColor:"backgroundColor",defaultFeedbackCategory:"defaultCategory",showAllFeedbackCategories:"showAllCategories",showFeedbackForm:"showForm",data:"customData",demo:"isDemoMode"};if(D!==e&&!u.isEmptyObject(D)){for(var E in D){var ac=I[E];if(ac!==e&&ac){D[ac]=D[E];delete D[E]}}}Q._feedbackOptions=u.copy(Q._feedbackOptions,(D?D:{}),true);Q.enableCallbacks=(typeof Q._feedbackOptions.enableCallbacks==="boolean"?Q._feedbackOptions.enableCallbacks:false);u.copy(Q,C,true);Q.onLoad((Q._feedbackOptions.onLoad||f["webengage.feedback.onLoad"]));Q.onSubmit((Q._feedbackOptions.onSubmit||f["webengage.feedback.onSubmit"]));Q.onClose((Q._feedbackOptions.onClose||f["webengage.feedback.onClose"]));Q.onOpen((Q._feedbackOptions.onOpen||f["webengage.feedback.onOpen"]));u.attachEventListners("feedback",Q);if(z.feedback&&(z.feedback.isEnabled||Q._feedbackOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&z.sslEnabled))&&!z.isFQuotaOver){var R=z.feedback.config,Y={alignment:["right","left"],launchTypes:["feedbackButton","externalLink"],containerCss:{margin:0,padding:0,position:(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?"absolute":"fixed"),border:"5px solid #ccc",backgroundColor:"#f9f9f9",borderWidth:"1px",borderStyle:"solid"},containerRightCss:{right:"0px",borderRightWidth:"0px"},containerLeftCss:{left:"0px",borderLeftWidth:"0px"},commonCss:{margin:0,padding:0,cursor:"pointer",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundPosition:"center 0",display:"block",paddingBottom:"7px",paddingLeft:"3px",paddingRight:"3px",paddingTop:"7px"},tabCssWithIcon:{backgroundPosition:"center bottom",paddingBottom:"33px"},closeCommonCss:{height:"22px",width:"22px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",position:"absolute",top:"-14px",backgroundImage:"url('"+s.baseStaticUrl+"/images/icons/feedback-widget-close.png')",backgroundColor:"transparent",display:"none"},leftCloseCss:{right:"-14px"},rightCloseCss:{left:"-14px"},feedbackBgImageForDarkBackground:s.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-dark.png",feedbackBgImageForLightBackground:s.baseStaticUrl+"/images/webengage/icons/feedback-tab-bg-light.png",feedbackTextImage:s.feedbackImageBaseUrl+R.imgPath,sizeCss:{height:R.imgHeight+"px",width:R.imgWidth+"px"},leftCss:{cssFloat:"right",styleFloat:"right"},rightCss:{cssFloat:"left",styleFloat:"left"},loadingCss:{fontFamily:"Arial, sans-serif",fontSize:"10px",color:"#666",textDecoration:"none",position:"absolute",textAlign:"center"},maxWidth:"450px",maxHeight:(c.BrowserDetect.ie()?"349px":"345px")},aa={getButtonCssBasedOnConfig:function(ah,ai){var ag={};ag=u.copy(ag,Y.sizeCss);if(ah=="left"){ag=u.copy(ag,Y.leftCss)}else{ag=u.copy(ag,Y.rightCss)}if(ai){ag=u.copy(ag,Y.tabCssWithIcon)}return ag},getContainerCssBasedOnConfig:function(ah){var ag={};ag=u.copy(ag,Y.containerCss);if(ah=="right"){ag=u.copy(ag,Y.containerRightCss)}else{ag=u.copy(ag,Y.containerLeftCss)}return ag},getCloseCssBasedOnConfig:function(ah){var ag={};if(ah=="right"){ag=u.copy(ag,Y.rightCloseCss)}else{ag=u.copy(ag,Y.leftCloseCss)}return ag},getButtonCssBasedOnBackgroundColor:function(ah){var ag={};if(u.isColorTooLight(ah)){ag=u.copy(ag,{backgroundImage:("url('"+Y.feedbackBgImageForLightBackground+"')")})}else{ag=u.copy(ag,{backgroundImage:("url('"+Y.feedbackBgImageForDarkBackground+"')")})}return ag},getCustomTextImageCss:function(){var ag={};ag=u.copy(ag,{backgroundImage:("url('"+Y.feedbackTextImage+"')")});return ag}},X=(R.closeImg===e||R.closeImg===null||R.closeImg==="")?(s.baseStaticUrl+"/images/icons/feedback-widget-close.png"):("//s3-ap-southeast-1.amazonaws.com/"+R.closeImg),W=u.getInitParamValue(Q._feedbackOptions,"alignment",R.alignment,Y.alignment),K=u.getInitParamValueAsArray(Q._feedbackOptions,"launchType",R.launchType,Y.launchTypes),J=u.getInitParamValueAsArray(Q._feedbackOptions,"externalLinkId",R.externalLinkId),O=u.getInitParamValue(Q._feedbackOptions,"backgroundColor",R.backgroundColor),ad=u.getInitParamValue(Q._feedbackOptions,"borderColor",R.borderColor),Z=u.getInitParamValue(Q._feedbackOptions,"snapshotEnabled",((R.snapshotEnabled===e)?true:R.snapshotEnabled)),ab=u.inArray(K,Y.launchTypes[0]),S=R.imgWidth,M=R.imgHeight,P=R.showWeIcon;O=O.indexOf("#")===0?O:("#"+O);ad=ad.indexOf("#")===0?ad:("#"+ad);var U=a.createElement("div");s.widgetContainer.appendChild(U);U.setAttribute("id",s.widgetContainerId+"-content");var ae=U.style;U=u.applyCss(U,Y.containerCss);U=u.applyCss(U,aa.getContainerCssBasedOnConfig(W));U.style.width=(parseInt(S)+3+3)+"px";var G=(parseInt(M)+7+7+(P?(3+26):0))+"px";ae.borderColor=ad;ae.top=(("innerHeight" in d?d.innerHeight:a.documentElement.clientHeight)-parseInt(M))/2+"px";ae.zIndex=(u.getMaxZIndex()+1);var N=a.createElement("div");U.appendChild(N);N.id=s.widgetContainerId+"-close-div";N=u.applyCss(N,Y.closeCommonCss);N=u.applyCss(N,aa.getCloseCssBasedOnConfig(W));N.style.backgroundImage="url('"+X+"')";if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){N.style.backgroundImage="";N.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+X+"')"}var V=a.createElement("div");U.appendChild(V);V.setAttribute("id",s.widgetContainerId+"-content-expand-collapse");var T=V.style;V=u.applyCss(V,Y.commonCss);V=u.applyCss(V,aa.getButtonCssBasedOnConfig(W,P));V=u.applyCss(V,aa.getButtonCssBasedOnBackgroundColor(O));if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){T.backgroundImage="";var F=(u.isColorTooLight(O)?Y.feedbackBgImageForLightBackground:Y.feedbackBgImageForDarkBackground);T.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+F+"')"}T.backgroundColor=O;T.zIndex=u.getMaxZIndex()+1;if(!ab){U.style.display="none"}var L=a.createElement("div");V.appendChild(L);L.style.width=parseInt(S)+"px";L.style.height=parseInt(M)+"px";L.style.margin="0px";L.style.padding="0px";L=u.applyCss(L,aa.getCustomTextImageCss());if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){L.style.backgroundImage="";T.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop src='"+Y.feedbackTextImage+"')"}N.style.zIndex=u.getMaxZIndex()+1;Q.close=function(){try{U.removeChild(a.getElementById(s.widgetContainerId+"-loading"))}catch(ag){}try{U.removeChild(a.getElementById(s.widgetContainerId+"-content"))}catch(ag){}try{a.getElementById(s.widgetContainerId+"-content-expand-collapse").isCurrentlyOpen=false}catch(ag){}N.style.display="none";U.style.width=(parseInt(S)+3+3)+"px";if(!ab){V.style.display="none"}};N.onclick=function(){c.withELog(function(){Q.close()})};function H(){if(f["webengage.feedback.custom"]){U.style.display="block";U.style.border="none";U.style["background-color"]="transparent";U.style.position="static";U.style.overflow="visible";U.style.width="0px";U.style.height="0px"}else{if(R.mobileLB&&(c.BrowserDetect.isMobile()||u.isSmallScreen())){U.style.display="block";var aj=c.feedback.getLightBoxBaseDiv();s.weDataContainer.appendChild(aj);var ai=c.feedback.getLightBoxContainerDiv();s.weDataContainer.appendChild(ai);var ah=c.feedback.getMobileLoadingDiv();ah.innerHTML="Loading<br/>please wait ...";s.weDataContainer.appendChild(ah);var ak=c.util.getElementHeight(ah);var al=c.util.getWindowHeight();ah.style.top=(al-ak)/2+"px";ah.style.display="block"}else{U.style.display="block";U.style.width="300px";var ah=c.feedback.getLoadingDiv();ah=u.applyCss(ah,Y.loadingCss);ah.innerHTML="Loading<br/>please wait ...";U.appendChild(ah);u.alignCenter(ah,U,W);N.style.display="block"}}Q.feedbackLoadStartTime=new Date();var ag=s.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?s.loadFeedbackWidgetUrlv3:s.loadFeedbackWidgetUrl);c.feedbackLoadStartTime=new Date();u.withWeJquery(function(){var am=a.createElement("script");am.type="text/javascript";am.src=ag;s.widgetContainer.appendChild(am)})}V.onclick=function(){c.withELog(function(){H()})};if(J&&J.length>0){(function(){for(var ah=0;ah<J.length;ah++){var ai=J[ah];var ag=a.getElementById(ai);if(ag){ag.onclick=function(aj){var ak=aj||d.event;ak.cancelBubble=true;if(ak.stopPropagation){ak.stopPropagation()}if(ak.preventDefault){ak.preventDefault()}else{ak.returnValue=false}V.onclick();return false}}}})()}a.$FeedbackWidgetInitializer={containerId:s.widgetContainerId,licenseCode:m,appHost:s.feedbackAppHost,minWidth:(parseInt(S)+3+3)+"px",maxWidth:Y.maxWidth,minHeight:G,maxHeight:Y.maxHeight,showFeedbackButton:ab,buttonAlignment:W,borderColor:ad.substring(1),snapshotEnabled:Z,currentInstance:Q,mobileLBEnabled:R.mobileLB&&(c.BrowserDetect.isMobile()||u.isSmallScreen()),widgetLanguage:Q._feedbackOptions.language};if(Q._feedbackOptions.showForm==true){V.onclick()}}else{if(z.feedback&&z.feedback.isEnabled&&a.location.protocol=="https:"&&!z.sslEnabled){c.eLog(null,"error","Feedback - Widget turned off for SSL encrypted page","Feedback - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{s.widgetContainer.removeChild(a.getElementById(s.widgetContainerId+"-content"))}catch(D){}B=[];a.$FeedbackWidgetInitializer=null})},abort:function(){u.abortAllInstances(B)},attachEventListner:function(){var D=this,E=arguments;c.withELog(function(){u.bind.apply(D,E);if(B.length>0){for(var F=0;F<B.length;F++){B[F].enableCallbacks=true;u.bind.apply(B[F],E)}}})}}})());u.extend("ruleExecutor.constants",{SEARCH_ENGINE_REGEXP:{google:{pattern:"^(?:http(s)?://)?(www\\.)?google\\..*/.*$",queryParam:"q"},yahoo:{pattern:"^(?:http(s)?://)?(?:([a-z]{2})\\.)?search\\.yahoo\\.com/.*$",queryParam:"p"},bing:{pattern:"^(?:http(s)?://)?((?:www|[a-z]{2})\\.)?bing\\.com/search\\?.*$",queryParam:"q"},ask:{pattern:"^(?:http(s)?://)?www\\.ask\\.com/.*$",queryParam:"q"},baidu:{pattern:"^(?:http(s)?://)?www\\.baidu\\.com/.*$",queryParam:"wd"},yandex:{pattern:"^(?:http(s)?://)?www\\.yandex\\.com/.*$",queryParam:"text"},duckduckgo:{pattern:"^(?:http(s)?://)?www\\.duckduckgo\\.com/.*$",queryParam:"q"}},SOCIAL_MEDIA_REGEX:"^(?:http(s)?://)?(.*.)?(facebook|twitter|t|pinterest)\\.(com|co)/.*$",XPATH_PLUGIN_FILE:"//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js"});u.extend("ruleExecutor.dependencies",{XPATH:function(C,D,B){c.XPATH.util.loadXPath(D,B)},GEO:function(C,D,B){c.GEO.load(D,B)}});u.extend("XPATH.util",(function(){return{loadXPath:function(D,C){if((c.BrowserDetect.browser()==="Explorer")&&(!a.evaluate)){var B="//d3701cc9l7v9a6.cloudfront.net/js/jquery/wgxpath.install.js";u.loadScript.apply(s.widgetContainer,[B,function(){wgxpath.install();if(typeof D==="function"){D()}},null,function(){if(typeof C==="function"){C()}}])}else{if(typeof D==="function"){D()}}},isXpathLoaded:function(){return(a.evaluate?true:false)},getXPathElement:function(D){var B=null;if(D&&D.indexOf("|")>-1){var C=D.split("|");D=C[0]+"/@"+C[1]}try{xpathResult=a.evaluate(D,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null)}catch(E){return B}if(!xpathResult){return B}return xpathResult.singleNodeValue},evaluateXPathQuery:function(C){var B=c.XPATH.util.getXPathElement(C);if(B){return B.textContent}else{return null}}}})());u.extend("ruleExecutor.dependency.util",{xPathExists:function(){if(c.XPATH.util.isXpathLoaded()){return true}else{var B={};B.type="XPATH";throw B}},geoDataExists:function(){if(c.GEO.isGeoLoaded()){return true}else{var B={};B.type="GEO";throw B}}});u.extend("ruleExecutor.util",(function(B){return{isMatches:function(E,C){if(E){if(E instanceof Array){for(var F=0;F<E.length;F++){if(c.ruleExecutor.util.isMatches(E[F],C)){return true}}}else{if(C instanceof Array){for(var D=0;D<C.length;D++){if(E.match(new RegExp(C[D],"mgi"))){return true}}}else{if(E.match(new RegExp(C,"mgi"))){return true}}}}return false},getCurrentTimeInSec:function(F){var E=new Date(F);var C=E.getHours();var G=E.getMinutes();var D=E.getSeconds();return(C*60*60+G*60+D)},getClientTime:function(){var C=u.getCurrentTime();return c.ruleExecutor.util.getCurrentTimeInSec(C)},getClientDayOfWeek:function(){return u.getCurrentWeekDay()},getPublisherTime:function(){var C=u.getCurrentTime(s.publisherTimeZoneOffset);return c.ruleExecutor.util.getCurrentTimeInSec(C)},isContainsSearchTerms:function(E,F){var D=false;if(typeof E!=="function"||!F||!(F instanceof Array)||F.length<=0){return false}var C=E();if(typeof C!==e&&C){for(var G=0;G<F.length;G++){D=c.ruleExecutor.util.isContains(C,c.ruleExecutor.util.jsTokenizer(F[G]," "),"contains_all");if(typeof D==="boolean"&&D){break}}}return D},isContains:function(H,L,D){var K=H;if(typeof(H)==="function"){K=H()}var J=false;var E=D||"contains_any";if(K!==e&&K){var C=[];if(K instanceof Array){for(var I=0;I<K.length;I++){C[K[I].toLowerCase()]=true}}else{C[K]=true}if(L!==e&&L){if(L instanceof Array){if(E=="contains_all"){for(var G=0;G<L.length;G++){if(C[L[G].toLowerCase()]==true){J=true;continue}J=false;break}}else{for(var F=0;F<L.length;F++){if(C[L[F].toLowerCase()]==true){J=true;break}}}}else{J=C[L.toLowerCase()]==true}}}return J},getReferrers:function(){var D=[];if(a.referrer){D[D.length]=a.referrer.toLowerCase()}var C=u.getSessionCookie();if(C&&C.referrer&&(!a.referrer||C.referrer!=a.referrer)){D[D.length]=C.referrer.toLowerCase()}return D},getCountry:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return u.getSessionCookie().country||null}},getRegion:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return u.getSessionCookie().region||null}},getCity:function(){if(c.ruleExecutor.dependency.util.geoDataExists()){return u.getSessionCookie().city||null}},getSearchEngineMatchResult:function(){var F=c.ruleExecutor.util.getReferrers();var C={isSER:false};for(var E in B.SEARCH_ENGINE_REGEXP){for(var D=0;D<F.length;D++){if(c.ruleExecutor.util.isMatches(F[D],B.SEARCH_ENGINE_REGEXP[E].pattern)!=false){C.isSER=true;C.url=F[D];C.queryParam=B.SEARCH_ENGINE_REGEXP[E].queryParam;break}}if(C.isSER===true){break}}return C},isSearchEngineReference:function(){return(c.ruleExecutor.util.getSearchEngineMatchResult()).isSER},isSocialMediaReference:function(){return c.ruleExecutor.util.isMatches(c.ruleExecutor.util.getReferrers(),B.SOCIAL_MEDIA_REGEX)},isFirstTime:function(){var C=u.getSessionCookie();return(C&&(typeof C.isFirstTime==="boolean"&&C.isFirstTime))?true:false},getSearchTerms:function(){var E=null;var C=c.ruleExecutor.util.getSearchEngineMatchResult();if(C.isSER){var D=decodeURI(c.ruleExecutor.util.getParamValue(C.url,C.queryParam));if(D){E=c.ruleExecutor.util.jsTokenizer(D," ")}}return E},jsTokenizer:function(F,H){var G=[];if(F!==e&&F){var E=u.escapeForRegExp(",\r\n");if(H!==e&&H){if(H instanceof Array){E=u.escapeForRegExp(H.join(""))}else{E=u.escapeForRegExp(H)}}F=F.replace(new RegExp("["+E+"]","g"),"\n");var C=F.split(/\n/g);for(var D=0;D<C.length;D++){if(C[D]!=""){G[G.length]=C[D]}}}return G},getParamValue:function(D,F){var G="";var E=new RegExp("[\\?&]"+F+"=([^&#]*)");var C=E.exec(D);if(C!==null){G=C[1]}return G},getBrowser:function(){return c.BrowserDetect.browser()},getBrowserVersion:function(){return c.BrowserDetect.version()},getOS:function(){return c.BrowserDetect.os()},getDevice:function(){return c.BrowserDetect.device()},escapeForRegExp:function(C){return u.escapeForRegExp(C)},getTotalPageView:function(){var C=u.getSessionCookie();return(C&&C.pvc)?C.pvc:1},sampling:function(C){var D=this.entityId||C;if(D){var E=u.getWebengageCookie(),F=u.getHashCode(D+E.luid);return Math.abs(F%100)}return 0},getSessionCookieReferer:function(){var C=u.getSessionCookie();var D=C.referrer;if(!D){return null}return D},getXpathStringResult:function(C){if(c.ruleExecutor.dependency.util.xPathExists()){return c.XPATH.util.evaluateXPathQuery(C)}},getXpathIntegerResult:function(D){if(c.ruleExecutor.dependency.util.xPathExists()){var C=c.XPATH.util.evaluateXPathQuery(D);if(C){return parseFloat(C)}else{return null}}},loadDependency:function(C,E,G,D){var F=c.ruleExecutor.dependencies[C];if(F&&(typeof F==="function")){F(E,G,D)}else{if(D&&typeof D=="function"){D()}}}}})(c.ruleExecutor.constants));u.extend("ruleExecutor",(function(E,D){var B={};var C=function(){B={referer:E.getReferrers,url:u.getClientPageUrl(),cookie:function(F){return u.getCookie(F,true)},country:E.getCountry,region:E.getRegion,city:E.getCity,time:"",isFirstTime:E.isFirstTime,isSER:E.isSearchEngineReference,isSMR:E.isSocialMediaReference,searchTerms:E.getSearchTerms,os:E.getOS,device:E.getDevice,browser:E.getBrowser,endUserTime:E.getClientTime,publisherTime:E.getPublisherTime,browser_version:E.getBrowserVersion,totalPageView:E.getTotalPageView,sampling:E.sampling,contentXPathString:E.getXpathStringResult,contentXPathInteger:E.getXpathIntegerResult,contentXPathNode:E.getXpathStringResult,isDirectVisitor:E.getSessionCookieReferer,dayOfWeek:E.getClientDayOfWeek}};C();return{execute:function(G,H,F){F=u.copy(B,(F?F:{}),true);F.entityId=G;H=(H!==e)?H:true;return(new Function("_weUtil","_ruleUtil","_constants","operands","return ("+H+");")(u,E,D,F))},loadOperands:function(){C()}}})(c.ruleExecutor.util,c.ruleExecutor.constants));u.extend("survey",(function(){var E=[],F=function(P,J){if(P!==e&&P){var Q=this,M=z.survey.config,O=M.theme||"",K="320px",T="1px",S=a.createElement("div");if(Q._surveyOptions.width){var N=parseInt(Q._surveyOptions.width,10);if(!isNaN(N)){K=N+"px"}}Q.height=T;Q.width=K;Q.surveyConfigDto=M;Q.theme=O;Q.surveyEId=P;Q._weProperties=s;Q.showOnExit=(typeof J==="boolean"?J:false);Q.isMobileSurvey=(typeof isMobileSurvey=="boolean"?isMobileSurvey:false);var R=Q._surveyOptions.scope[P]||Q._surveyOptions.scope.all||null;if(R){Q.scope=(R.scope?R.scope:"");Q.scopeType=(R.scopeType?R.scopeType:"")}s.widgetContainer.appendChild(S);S.setAttribute("id",s.widgetContainerId+"-survey-content");a.$SurveyWidgetInitializer={currentInstance:Q,containerId:s.widgetContainerId,licenseCode:m,appHost:s.surveyAppHost,width:parseInt(K,10)};var L=s.widgetDomain+(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()?s.loadSurveyWidgetUrlv3:s.loadSurveyWidgetUrl(Q.layoutAttributes.id));u.withWeJquery(function(){var U=a.createElement("script");U.type="text/javascript";U.src=L;s.widgetContainer.appendChild(U)})}},I={onLoad:function(J){return this.bind("load",J)},onOpen:function(J){return this.bind("open",J)},onSubmit:function(J){return this.bind("submit",J)},onView:function(J){return this.bind("view",J)},onComplete:function(J){return this.bind("complete",J)},onClose:function(J){return this.bind("close",J)},bind:function(){return u.bind.apply(this,arguments)},unbind:function(){return u.unbind.apply(this,arguments)},executeCallbacks:function(){return u.executeCallbacks.apply(this,arguments)}},D=function(M,O,J){if(M!==e&&M){if(typeof M==="object"){if(M instanceof Array){for(var K=0;K<M.length;K++){D(M[K],O,J)}}else{var L=M.scope;if(L){var N=M.surveyIds;if(N!==e&&N instanceof Array&&N.length>0){for(j=0;j<N.length;j++){J[N[j]]={scope:L,scopeType:(M.scopeType||"")}}}else{J.all={scope:L,scopeType:(M.scopeType||"")}}}}}else{J.all={scope:M,scopeType:(O||"")}}}},B=function(P,K,S){if(P&&P.length>0){var ag=(new Array()).concat(P);var aj=ag[0],W=u.getSessionCookie(),ac=u.getWebengageCookie(),V=u.getInitParamValue(S._surveyOptions,"alignment",z.survey.config.alignment,["left","right"]),U=aj,Z=K[U].ruleCode,aa=K[U]["la"],L=K[U].startTimestamp,N=K[U].endTimestamp,O=(typeof K[U].showOnExit==="boolean")?K[U].showOnExit:false,Q=(O?0:(K[U].totalTimeOnSite?K[U].totalTimeOnSite-((new Date()).getTime()-(W.sst||0)):0)),ai=(O?0:((parseInt(S._surveyOptions.delay,10)>=0)?parseInt(S._surveyOptions.delay,10):Math.max(Q,K[U].timeSpent))),ae=K[U].maxTimesPerUser,M=S._surveyOptions.scope[U]||S._surveyOptions.scope.all||null,ab=U+(M&&M.scope&&(M.scopeType+"").toUpperCase()!="GLOBAL"?"["+u.escapeScopeChars(M.scope)+"]":""),af=u.escapeForRegExp(ab),J=K[U].mobile;if(!S._surveyOptions.isDemoMode){if(typeof J!=="undefined"&&J&&!c.BrowserDetect.isMobile()){P.splice(0,1);return B(P,K,S)}if(!S._surveyOptions.forcedRender&&((W&&W.closedSurveys!==e&&(W.closedSurveys.match("##"+af+"##")||W.closedSurveys.match("##"+af+"$")))||(ac&&ac.takenSurveys!==e&&(ac.takenSurveys.match("##"+af+"##")||ac.takenSurveys.match("##"+af+"$"))))){ag.splice(0,1);return B(ag,K,S)}var Y=c.util.getTotalTimesShown(U,"survey");if(ae!==e){if(ae<=Y){ag.splice(0,1);return B(ag,K,S)}}var R={timeSpent:ai,showOnExit:O,maxTimesPerUser:ae,startTimestamp:L,endTimestamp:N,ruleCode:Z,layoutAttributes:aa};C(U,R,S,function(){ag.splice(0,1);return B(ag,K,S)})}else{var R={timeSpent:ai,showOnExit:O,maxTimesPerUser:ae,startTimestamp:L,endTimestamp:N,ruleCode:Z,layoutAttributes:aa};if(!S.surveysToExecuteData){S.surveysToExecuteData={}}S.surveysToExecuteData[U]=R;ag.splice(0,1);return B(ag,K,S)}}else{if(S.surveysToExecuteData){var ah=null;var ad=[];for(var aj in S.surveysToExecuteData){var X=aj;ad[ad.length]=X;ah=((ah==null||ah>S.surveysToExecuteData[X]["timeSpent"])?S.surveysToExecuteData[X]["timeSpent"]:ah)}var T=S.startExecutionTime?(new Date()).getTime()-S.startExecutionTime:0;S.totalTimeElapsed=S.totalTimeElapsed+T;S.minTimespentVal=(ah-T<0)?0:ah-T;return G(ad,S.surveysToExecuteData,S)}}},C=function(J,N,O,R){try{if(N.startTimestamp||N.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var Q=u.getSessionCookie(),P=(new Date()).getTime()+(Q.tsD&&!isNaN(Q.tsD)?parseInt(Q.tsD,10):0),M=N.startTimestamp,K=N.endTimestamp;if(K<P||P<M){return R()}}}if((O._surveyOptions.skipRules)||(!N.ruleCode)||(c.ruleExecutor.execute(J,N.ruleCode,O._surveyOptions.ruleData))){if(!O.surveysToExecuteData){O.surveysToExecuteData={}}O.surveysToExecuteData[J]=N}return R()}catch(L){if(L&&L.type){c.ruleExecutor.util.loadDependency(L.type,N,function(){C(J,N,O,R)},R)}else{c.eLog(L);R()}}},H=function(M,K,N,J,L){totlatTimeElapsed=0;timespent=0;if(!N){if(arguments&&arguments[0]){timespent=K||0}if(parseInt(L._surveyOptions.delay,10)>=0){timespent=parseInt(L._surveyOptions.delay,10)}totlatTimeElapsed=L.totalTimeElapsed+L.minTimespentVal}c.setTimeout(function(){F.apply(L,[M,N])},((timespent-totlatTimeElapsed)<0?0:(timespent-totlatTimeElapsed)))},G=function(J,K,L){c.setTimeout(function(){if(!L._surveyOptions.forcedRender){var M=[];for(var O=0;O<J.length;O++){if(O>0){M[M.length]="&"}M[M.length]="surveyIds="+J[O]}var N=s.findAllTakenSurveysUrl()+"&"+M.join("")+(L._surveyOptions.scope?"&scope="+encodeURIComponent(u.stringify(L._surveyOptions.scope)):"");u.loadScript.apply(s.widgetContainer,[N,function(R,T,S){var Y=[],U={};if(typeof we_notToExecuteSurveyIdsMap!="undefined"){if(we_notToExecuteSurveyIdsMap.takenSurveyIds!==e&&we_notToExecuteSurveyIdsMap.takenSurveyIds.length>0){for(var Q=0;Q<we_notToExecuteSurveyIdsMap.takenSurveyIds.length;Q++){var Z=L._surveyOptions.scope[we_notToExecuteSurveyIdsMap.takenSurveyIds[Q]]||L._surveyOptions.scope.all||null;var ab=(Z&&Z.scope?Z.scope:"");var X=(Z&&Z.scopeType?Z.scopeType:"");U[we_notToExecuteSurveyIdsMap.takenSurveyIds[Q]]=true;u.markSurveyAsTaken((we_notToExecuteSurveyIdsMap.takenSurveyIds[Q]+(ab&&(X+"").toUpperCase()!="GLOBAL"?"["+u.escapeScopeChars(ab)+"]":"")))}}if(we_notToExecuteSurveyIdsMap.inactiveSurveyIds!==e&&we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length>0){for(var W=0;W<we_notToExecuteSurveyIdsMap.inactiveSurveyIds.length;W++){U[we_notToExecuteSurveyIdsMap.inactiveSurveyIds[W]]=true}}}for(var aa=0;aa<T.length;aa++){if(!U[T[aa]]){Y[Y.length]=T[aa]}}if(Y.length>0){var V=Y[0];L.layoutAttributes=R[V]["layoutAttributes"];H(V,(R[V]["timeSpent"]||0),R[V]["showOnExit"],R[V]["maxTimesPerUser"],L)}},[K,J,L.totalTimeElapsed]])}else{var P=J[0];L.layoutAttributes=K[P]["layoutAttributes"];H(P,(K[P]["timespent"]||0),K[P]["showOnExit"],K[P]["maxTimesPerUser"],L)}},L.minTimespentVal)};return{cbid:1,render:function(J){return c.withELog(function(){return(new function(){c.survey.clear();var N=this;N.cbid=1;E[E.length]=N;N.abort=function(){u.abortInstance(this)};var L={surveyId:f["webengage.survey.surveyId"]||"",skipRules:f["webengage.survey.skipRules"]||false,forcedRender:f["webengage.survey.forcedRender"]||false,delay:f["webengage.survey.delay"]||-1,customData:f["webengage.survey.customData"]||f["webengage.customData"]||{},ruleData:f["webengage.survey.ruleData"]||f["webengage.ruleData"]||{},isDemoMode:f["webengage.survey.isDemoMode"]||f["webengage.isDemoMode"]||false,alignment:f["webengage.survey.alignment"]||"",scope:f["webengage.survey.scope"]||f["webengage.scope"]||"",scopeType:f["webengage.survey.scopeType"]||f["webengage.scopeType"]||"",enableCallbacks:f["webengage.survey.enableCallbacks"]||f["webengage.enableCallbacks"]||false,width:f["webengage.survey.width"]};var T={showAllClosedAndTakenSurveys:"forcedRender",data:"customData",demo:"isDemoMode"};if(J!==e&&!u.isEmptyObject(J)){for(var K in J){var O=T[K];if(O!==e&&O){J[O]=J[K];delete J[K]}}}N._surveyOptions=u.copy(L,(J?J:{}),true);N._surveyOptions.forcedRender=typeof N._surveyOptions.forcedRender==="boolean"?N._surveyOptions.forcedRender:false;if(N._surveyOptions.forcedRender){N._surveyOptions.scope=(new Date()).getTime();N._surveyOptions.scopeType="session"}var M={};D(N._surveyOptions.scope,N._surveyOptions.scopeType,M);N._surveyOptions.scope=M||"";N.enableCallbacks=(typeof N._surveyOptions.enableCallbacks==="boolean"?N._surveyOptions.enableCallbacks:false);if(z.survey&&(z.survey.isEnabled||N._surveyOptions.isDemoMode)&&!u.isEmptyObject(z.survey.ruleMap)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&z.sslEnabled))&&!z.isSRQuotaOver){u.copy(N,I,true);N.onLoad((N._surveyOptions.onLoad||f["webengage.survey.onLoad"]));N.onSubmit((N._surveyOptions.onSubmit||f["webengage.survey.onSubmit"]));N.onClose((N._surveyOptions.onClose||f["webengage.survey.onClose"]));N.onOpen((N._surveyOptions.onOpen||f["webengage.survey.onOpen"]));N.onComplete((N._surveyOptions.onComplete||f["webengage.survey.onComplete"]));u.attachEventListners("survey",N);N.totalTimeElapsed=0;var P=z.survey.ruleMap,S=z.survey.order,Q=N._surveyOptions.surveyId;if(Q&&P[Q]){var R=[];R[0]=Q;S=R}N.startExecutionTime=(new Date()).getTime();B(S,P,N)}else{if(z.survey&&z.survey.isEnabled&&a.location.protocol=="https:"&&!z.sslEnabled){c.eLog(null,"error","Survey - Widget turned off for SSL encrypted page","Survey - Widget turned off for SSL encrypted page")}}})})},clear:function(){c.withELog(function(){try{if(a.getElementById(s.widgetContainerId+"-base")){var J=a.getElementsByTagName("webengagedata")[0]}else{s.widgetContainer.removeChild(a.getElementById(s.widgetContainerId+"-survey-content"))}}catch(K){}a.$SurveyWidgetInitializer=null;E=[]})},abort:function(){u.abortAllInstances(E)},attachEventListner:function(){var J=this,K=arguments;c.withELog(function(){u.bind.apply(J,K);if(E.length>0){for(var L=0;L<E.length;L++){E[L].enableCallbacks=true;u.bind.apply(E[L],K)}}})}}})());u.extend("IFRAMES",(function(){var B=[];return{create:function(E,G,I){this.remove(E);var J=I||{};var C;try{C=a.createElement('<iframe name="'+E+'">')}catch(H){C=a.createElement("iframe");C.name=E}C.id=E;if(c.BrowserDetect.is_this_the_worlds_most_annoying_browser()){C.src="javascript:void(0);"}C.frameBorder=J.frameBorder||"0";C.marginHeight=J.marginHeight||"0";C.marginWidth=J.marginWidth||"0";C.allowTransparency=J.allowTransparency||"true";var D=C.style;D.zIndex=(u.getMaxZIndex()+1);D.position="absolute";D.backgroundColor=J.backgroundColor||"transparent";D.bottom=J.bottom||"0px";D.right=J.right||"0px";D.border=J.border||"none";D.overflow=J.overflow||"hidden";D.visibility=J.visibility||"hidden";var F=G||s.widgetContainer;F.appendChild(C);B[E]=C;try{C.contentWindow.name}catch(H){c.eLog(H);C.src='javascript:(function () {document.open();document.domain="'+a.domain+'";document.close();})();'}if(typeof(J.onload)==="function"){if(C.attachEvent){C.attachEvent("onload",J.onload)}else{C.addEventListener("load",J.onload,false)}}return C},get:function(C){return B[C]},resize:function(D,C,E){var F=c.IFRAMES.get(D);F.style.height=C+"px"},remove:function(C){var D=c.IFRAMES.get(C);if(D){if(D.parentNode){D.parentNode.removeChild(D)}}if(d.frames[C]){delete d.frames[C]}delete B[C]},creatCallbackFrame:function(F,D,I,C){var H={};if(typeof(C)==="function"){H.onload=function(){c.withELog(function(){var L=B[F];if(!L.widgetCallBackStatus||L.widgetCallBackStatus===0){L.widgetCallBackStatus=1}else{if(L.widgetCallBackStatus===1){L.contentWindow.location="about:blank";L.widgetCallBackStatus=2}else{if(L.widgetCallBackStatus===2){var M=(new Date()).getTime()+"CB";if(!c.IFRAMES.CB){c.IFRAMES.CB={}}c.IFRAMES.CB[M]=function(N){setTimeout(function(){if(N!==e&&N!==""){try{var P=u.parseJSON(N);if(P!==null){if(P.eventName!==e){C(P.eventName,P.data)}}}catch(O){c.eLog(O)}}L.widgetCallBackStatus=0;c.IFRAMES.remove(F);L=c.IFRAMES.creatCallbackFrame(F,D,I,C)},10)};try{var J=L.contentWindow.name;c.IFRAMES.CB[M](J)}catch(K){c.eLog(K);L.src="javascript:(function () {document.write('<script>var _data=window.name;document.domain=\""+a.domain+'";setTimeout(function(){window.parent.webengage.IFRAMES.CB["'+M+"\"](_data);}, 10);<\/script>')})();"}}}}})}}var G=c.IFRAMES.create(F,D,H);var E=G.style;E.height=0;E.width=0;if(I){G.src=I}return G}}})());u.extend("notification",(function(){var G=[],C=function(O,N,M,I){var Q=this;if(O||Q._notificationOptions.previewJson!==e){Q.notificationId=Q.notificationEId=O;Q.showOnExit=I;Q.layout=N||(Q._notificationOptions.previewJson&&Q._notificationOptions.previewJson.layout?Q._notificationOptions.previewJson.layout:"");var P=Q.executeCallbacks("run",Q);if(typeof P==="boolean"&&!P){return}var K=c.IFRAMES.create(s.widgetContainerId+"-notification-frame",s.widgetContainer);K.style.top="-1000px";K.style.left="-1000px";var S=u.getSessionCookie();var L=null;if(K.contentDocument){L=K.contentDocument}else{if(K.contentWindow){L=K.contentWindow.document}else{if(K.document){L=K.document}}}L.open();var J=(Q.layout===""?"notification-base.css":Q.layout+"-notification-base.css");var H=(c.BrowserDetect.ie()&&c.BrowserDetect.version()<8)?'<link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.css?v=304.0" media="screen"/><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font-ie7/ie7.js?v=304.0"><\/script><style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";var R=(c.BrowserDetect.ie()&&c.BrowserDetect.version()===8)?'<style type="text/css">.icon-large{font-size:1.3333333333333333em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}.icon-extra-large{font-size:2em;margin-top:-4px;padding-top:3px;margin-bottom:-4px;padding-bottom:3px;vertical-align:middle;}</style>':"";L.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><meta http-equiv="cache-control" content="max-age=0" /><meta http-equiv="cache-control" content="no-cache" /><meta http-equiv="pragma" content="no-cache" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><link id="widget-font-id" rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/responsive/assets/css/font/webengage/widget-font.css?v=304.0" media="screen"/><link rel="stylesheet" type="text/css" href="//d3701cc9l7v9a6.cloudfront.net/css/webengage/notification/'+J+'?v=304.0" media="screen"/>'+H+R+'<script type="text/javascript">try{window.parent.window.name}catch(e){document.domain="'+a.domain+'";};<\/script><script type="text/javascript" src="//d3701cc9l7v9a6.cloudfront.net/js/jquery/jquery-1.3.2.min.js"><\/script></head><body class="notification-body"><script type="text/javascript">window.onload = function () { (function(d){ var _script = d.createElement("script"); _script.type = "text/javascript"; _script.src = "'+s.widgetDomain+s.notificationWidgetScriptUrl+'"; d.body.appendChild(_script); })(document);};<\/script></body></html>');L.close();c.setTimeout(function(){if(Q._notificationOptions.previewJson!==e){L.$NotificationWidgetInitializer={currentInstance:Q,notificationVersion:M,containerId:s.widgetContainerId,licenseCode:m,appHost:s.baseWebEngageUrl,widgetDomain:s.widgetDomain,previewJson:Q._notificationOptions.previewJson}}else{L.$NotificationWidgetInitializer={currentInstance:Q,notificationVersion:M,containerId:s.widgetContainerId,licenseCode:m,appHost:s.baseWebEngageUrl,widgetDomain:s.widgetDomain,browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),os:c.BrowserDetect.os(),country:S.country||"",city:S.city||"",region:S.region||"",pageTitle:a.title,ip:S.ip,referrer:a.referrer}}},0)}},F={onRun:function(H){return this.bind("run",H)},onLoad:function(H){return this.bind("load",H)},onOpen:function(H){return this.bind("open",H)},onClick:function(H){return this.bind("click",H)},onClose:function(H){return this.bind("close",H)},bind:function(){return u.bind.apply(this,arguments)},unbind:function(){return u.unbind.apply(this,arguments)},executeCallbacks:function(){return u.executeCallbacks.apply(this,arguments)}},B=function(M,I,O){if(M&&M.length>0){var S=(new Array()).concat(M);var ab=S[0],W=u.getWebengageCookie(),Q=u.getSessionCookie(),H=ab,Y=I[H].layout,K=(webengage_fs_configurationMap.config.notificationConfig.wl?"W":"N")+I[H].version,V=I[H].ruleCode,L=(I[H].totalTimeOnSite?I[H].totalTimeOnSite-((new Date()).getTime()-(Q.sst||0)):0),aa=((parseInt(O._notificationOptions.delay,10)>=0)?parseInt(O._notificationOptions.delay,10):Math.max(L,I[H].timespent)),N=I[H].skipTargetPage,T=I[H].actionLinks,J=(typeof I[H].showOnExit==="boolean"?I[H].showOnExit:false),Z=I[H].maxTimesPerUser,R=I[H].mobile;if(!O._notificationOptions.isDemoMode){if(typeof R!=="undefined"&&R&&!c.BrowserDetect.isMobile()){S.splice(0,1);return B(S,I,O)}if(!O._notificationOptions.forcedRender&&((Q&&Q.closedNIds!==e&&Q.closedNIds.indexOf("##"+H)>=0)||(W&&W.takenNIds!==e&&W.takenNIds.indexOf("##"+H)>=0))){S.splice(0,1);return B(S,I,O)}if(N&&T instanceof Array&&T.length>0){for(var X in T){var P=a.createElement("a");P.href=T[X];T[X]="^"+u.escapeForRegExp(P.href)+"$";P=null}if(c.ruleExecutor.util.isMatches(u.getClientPageUrl(),T)){S.splice(0,1);return B(S,I,O)}}var U=c.util.getTotalTimesShown(H,"notification");if(!O._notificationOptions.isDemoMode&&Z!==e){if(Z<=U){S.splice(0,1);return B(S,I,O)}}I[H]["timeSpent"]=aa;E(H,I[H],O,function(){S.splice(0,1);return B(S,I,O)})}else{I[H]["timeSpent"]=aa;D(H,I[H],O)}}},E=function(M,H,N,Q){try{if(H.startTimestamp||H.endTimestamp){if(c.ruleExecutor.dependency.util.geoDataExists()){var P=u.getSessionCookie();var O=(new Date()).getTime()+(P.tsD&&!isNaN(P.tsD)?parseInt(P.tsD,10):0);var L=H.startTimestamp,I=H.endTimestamp;if(I<O||O<L){return Q()}}}if((N._notificationOptions.skipRules)||(!H.ruleCode)||(c.ruleExecutor.execute(M,H.ruleCode,N._notificationOptions.ruleData))){var J=N.startExecutionTime?(new Date()).getTime()-N.startExecutionTime:0;N.totalTimeElapsed=N.totalTimeElapsed+J;return D(M,H,N)}else{return Q()}}catch(K){if(K&&K.type){c.ruleExecutor.util.loadDependency(K.type,H,function(){E(M,H,N,Q)},Q)}else{c.eLog(K);Q()}}},D=function(K,I,J){var H=I.timeSpent||0;if(parseInt(J._notificationOptions.delay,10)>=0){H=parseInt(J._notificationOptions.delay,10)}function L(){u.withWeJquery(function(){c.setTimeout(function(){C.apply(J,[K,I.layout,I.version,I.showOnExit])},(I.showOnExit?0:((H-J.totalTimeElapsed)<0?0:(H-J.totalTimeElapsed))))})}c.GEO.load(L,L)};return{cbid:1,render:function(H){return c.withELog(function(){return(new function(){c.notification.clear();var N=this;N.cbid=1;G[G.length]=N;N.abort=function(){u.abortInstance(this)};var J={notificationId:f["webengage.notification.notificationId"]||"",skipRules:f["webengage.notification.skipRules"]||false,delay:f["webengage.notification.delay"]||-1,isDemoMode:f["webengage.notification.isDemoMode"]||f["webengage.isDemoMode"]||false,customData:f["webengage.notification.customData"]||f["webengage.customData"]||{},ruleData:f["webengage.notification.ruleData"]||f["webengage.ruleData"]||{},tokens:f["webengage.notification.tokens"]||f["webengage.tokens"]||{},previewJson:f["webengage.notification.previewJson"],forcedRender:f["webengage.notification.forcedRender"]||false,enableCallbacks:f["webengage.notification.enableCallbacks"]||f["webengage.enableCallbacks"]||false};var K={data:"customData",demo:"isDemoMode"};if(H!==e&&!u.isEmptyObject(H)){for(var I in H){var O=K[I];if(O!==e&&O){H[O]=H[I];delete H[I]}}}N._notificationOptions=u.copy(J,(H?H:{}),true);N.enableCallbacks=(typeof N._notificationOptions.enableCallbacks==="boolean"?N._notificationOptions.enableCallbacks:false);u.copy(N,F,true);N.onRun((N._notificationOptions.onRun||f["webengage.notification.onRun"]));N.onLoad((N._notificationOptions.onLoad||f["webengage.notification.onLoad"]));N.onClick((N._notificationOptions.onClick||f["webengage.notification.onClick"]));N.onClose((N._notificationOptions.onClose||f["webengage.notification.onClose"]));N.onOpen((N._notificationOptions.onOpen||f["webengage.notification.onOpen"]));u.attachEventListners("notification",N);if(N._notificationOptions.previewJson!==e){u.withWeJquery(function(){C.apply(N)})}else{if(z.notification&&(z.notification.isEnabled||N._notificationOptions.isDemoMode)&&(a.location.protocol=="http:"||(a.location.protocol=="https:"&&z.sslEnabled))&&!z.isNQuotaOver){var P=z.notification.order,L=z.notification.ruleMap;N.totalTimeElapsed=0;var M=N._notificationOptions.notificationId;if(M&&L[M]){var Q=[];Q[0]=M;P=Q}N.startExecutionTime=(new Date()).getTime();B(P,L,N)}else{if(z.notification&&z.notification.isEnabled&&a.location.protocol=="https:"&&!z.sslEnabled){c.eLog(null,"error","Notification - Widget turned off for SSL encrypted page","Notification - Widget turned off for SSL encrypted page")}}}})})},getNotificationFrame:function(){return a.getElementById(s.widgetContainerId+"-notification-frame")},resize:function(J){var I=a.getElementById(s.widgetContainerId+"-notification-frame");I.height=J.height||I.contentWindow.document.body.scrollHeight;I.width=J.width||I.contentWindow.document.body.scrollWidth;var H=I.style;H.visibility="visible";H.height=parseInt(J.height||I.contentWindow.document.body.scrollHeight)+"px";H.width=parseInt(J.width||I.contentWindow.document.body.scrollWidth)+"px";H.top="auto";H.bottom="0px";H.left="auto";if("right"==J.launchType){H.right="0px"}else{H.left="0px"}},clear:function(){var H=this;c.withELog(function(){try{c.IFRAMES.remove(s.widgetContainerId+"-notification-frame")}catch(I){}G=[]})},abort:function(){u.abortAllInstances(G)},attachEventListner:function(){var H=this,I=arguments;c.withELog(function(){u.bind.apply(H,I);if(G.length>0){for(var J=0;J<G.length;J++){G[J].enableCallbacks=true;u.bind.apply(G[J],I)}}})}}})());u.extend("",{abort:function(){c.withELog(function(){c.feedback.abort();c.survey.abort();c.notification.abort()})}});u.extend("",{init:function(B){var C=function(D){if(B[D]!==e&&B[D]){f["webengage."+D]=B[D]}};C("licenseCode");C("language");C("isDemoMode");C("delay");f["webengage.widgetVersion"]="3.0";if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){u.onDocReady(t)}return c}});u.extend("",{onReady:function(B){if(B!==e&&typeof B==="function"){f["webengage.oldOnReady"]=B}}});u.extend("",{render:function(B){if(B){if(B.showFeedbackByDefault!==e&&!B.showFeedbackByDefault){f["webengage.feedback.defaultRender"]=false}if(B.showSurveyByDefault!==e&&!B.showSurveyByDefault){f["webengage.survey.defaultRender"]=false}if(B.showNotificationByDefault!==e&&!B.showNotificationByDefault){f["webengage.notification.defaultRender"]=false}}o()}});var t=function(){m=f["webengage.licenseCode"];var D=a.createElement("webengagedata");a.body.insertBefore(D,null);s.weDataContainer=D;try{var H=a.createElement("style");var E=a.createTextNode("#webklipper-publisher-widget-container, #webklipper-publisher-widget-container * {overflow:visible; -webkit-box-sizing: content-box; -moz-box-sizing: content-box;  box-sizing: content-box;}");H.type="text/css";if(H.styleSheet){H.styleSheet.cssText=E.nodeValue}else{H.appendChild(E)}s.weDataContainer.appendChild(H)}catch(G){}var B=a.createElement("div");B.setAttribute("id",s.widgetContainerId);s.weDataContainer.appendChild(B);s.widgetContainer=B;var C=u.getWebengageCookie();if(!C){C=u.setWebengageCookie()}else{if(!C.luid){C=u.setWebengageCookie(u.getWebengageCookie())}}var F=u.getSessionCookie();if(!F){F=u.setSessionCookie()}else{if(!F.suid){F=u.setSessionCookie(u.getSessionCookie())}}if(typeof C.isGzip==="undefined"||!C.isGzip){c.util.loadScript.apply(s.widgetContainer,["//z.webengage.com/gz.js",function(){C.isGzip=(typeof f.isGzip!="undefined"&&f.isGzip?true:false);u.setWebengageCookie(C);p(C.isGzip,C.luid,F.suid)}])}else{p(C.isGzip,C.luid,F.suid)}};var p=function(C,D,B){d.webengage.setTimeout(function(){var F=(C?"webengage-zfiles":"webengage-files");var E="//s3.amazonaws.com/"+F+"/webengage/"+m+"/v3.js?r="+Math.floor((new Date()).getTime()/60000)+"&u="+D+"|"+B;u.loadScript.apply(s.widgetContainer,[E,function(){var G=c.setInterval(function(){if(typeof webengage_fs_configurationMap!=="undefined"&&webengage_fs_configurationMap.config){clearInterval(G);if(((webengage_fs_configurationMap.sites!==e&&webengage_fs_configurationMap.sites)||(webengage_fs_configurationMap.domain!==e&&webengage_fs_configurationMap.domain))&&!f["webengage.isDemoMode"]){var O=false;var H=u.getClientPageHost(),L;if(H.match(/\:[\d]*$/)){L=H.substring(H.indexOf(":")+1,H.length);H=H.substring(0,H.indexOf(":"))}var U=[];var P=[];if(webengage_fs_configurationMap.sites===e||!webengage_fs_configurationMap.sites){webengage_fs_configurationMap.sites={};webengage_fs_configurationMap.sites[webengage_fs_configurationMap.domain]="DOMAIN"}for(var S in webengage_fs_configurationMap.sites){var Q=S,T;if(webengage_fs_configurationMap.sites[S]=="DOMAIN"){U[U.length]=Q;if(Q.match(/^www\./i)){Q=Q.substring(4,Q.length)}if(Q.match(/\:[\d]*$/)){T=Q.substring(Q.indexOf(":")+1,Q.length);Q=Q.substring(0,Q.indexOf(":"))}if((H.match(new RegExp(u.escapeForRegExp(Q)+"$","gi"))&&(!T||T==L))){O=true;break}}else{if(webengage_fs_configurationMap.sites[S]=="REGEXP"){var J=Q;P[P.length]=Q;if((u.getClientPageUrl().match(J))){O=true;break}}}}O=(f["webengage.notification.previewJson"]?true:O);if(!O){var N='The <a style="color: #00f;" href="http://webengage.com/" target="_blank">WebEngage (Survey, Feedback &amp; Notification)</a> widget on this page is incorrectly configured. It is meant for use only on ';if(U.length>0){N+="<b>"+U.join(", ")+"</b>"}if(P.length>0){if(U.length>0){N+=(" and ")}N+=("pages with URLs that matches following regular expression(s) <b>"+P.join(", ")+"</b>")}c.logger.error(N+".");return}}s.publisherTimeZoneOffset=webengage_fs_configurationMap.tzo;var R=u.getSessionCookie(),I=u.getWebengageCookie();if(!f["webengage.isDemoMode"]&&!R.vtd){var K=I.lvt||0;u.tsTracking("/v.jpg",("licenseCode="+f["webengage.licenseCode"]+"&nvst="+c.util.isFirstTimeUser()+"&tzo="+webengage_fs_configurationMap.tzo+"&lvt="+K));u.updateSessionCookie({vtd:1});var M=new Date();I.lvt=(M.getTime())+(M.getTimezoneOffset()*60*1000);u.setWebengageCookie(I)}u.copy(z,(function(V){return{configurationMap:V?V:{}}})(webengage_fs_configurationMap));w(F)}},1)},null,function(){}])},(f["webengage.delay"]&&parseInt(f["webengage.delay"])>0?parseInt(f["webengage.delay"]):0))},A=function(F,B,D,E){var C="//s3.amazonaws.com/"+F+"/webengage/"+m+"/"+B[D]+".js?r="+E[D];u.loadScript.apply(s.widgetContainer,[C,function(){if(D==(B.length-1)){g()}else{A.apply(this,[F,B,(D+1),E])}}])},k=function(G){var C=f["webengage.customWidgetCode.ruleData"]||f["webengage.ruleData"]||{};customWidgetCodeIdsToExecuteClient=[];customWidgetCodeIdsToExecuteClientTimestamps=[];if(webengage_fs_configurationMap.cwcRuleList){var E=webengage_fs_configurationMap.cwcRuleList;for(var D=0;D<E.length;D++){var F=E[D].ruleCode;if(F){if(!c.ruleExecutor.execute(E[D].cwcEncId,F,C)){continue}}var B=customWidgetCodeIdsToExecuteClient.length;customWidgetCodeIdsToExecuteClient[B]=E[D].cwcEncId;customWidgetCodeIdsToExecuteClientTimestamps[B]=E[D].lastModifiedTimestamp}}if(customWidgetCodeIdsToExecuteClient.length>0){A.apply(this,[G,customWidgetCodeIdsToExecuteClient,0,customWidgetCodeIdsToExecuteClientTimestamps])}else{g()}},w=function(B){if((a.location.protocol=="http:"||(a.location.protocol=="https:"&&webengage_fs_configurationMap.sslEnabled))){u.updateSessionCookieOnWidgetLoad(webengage_fs_configurationMap.domain);if(webengage_fs_configurationMap.cwcRuleList&&webengage_fs_configurationMap.cwcRuleList.length>0){k(B)}else{g()}}else{if(a.location.protocol=="https:"&&!z.sslEnabled){c.eLog(null,"error","Widget turned off for SSL encrypted page","CustomWidgetCode - Widget turned off for SSL encrypted page")}}},g=function(){(function(C){u.extend("widgetConfiguration",{});if(C&&C.config){u.copy(z,{feedback:{isEnabled:(typeof C.config.enableFeedback=="boolean"&&C.config.enableFeedback),config:C.config.feedbackConfig?C.config.feedbackConfig:{}}},true);u.copy(z,{survey:{isEnabled:(typeof C.config.enableSurvey=="boolean"&&C.config.enableSurvey),config:C.config.surveyConfig?C.config.surveyConfig:{},order:[],ruleMap:{}}},true);(function(F){if(C.surveyRuleList){var D=C.surveyRuleList;for(var E=0;E<D.length;E++){F.order[E]=D[E].surveyEncId;F.ruleMap[D[E].surveyEncId]=D[E]}}})(z.survey);u.copy(z,{notification:{isEnabled:(typeof C.config.enableNotification=="boolean"&&C.config.enableNotification),order:[],ruleMap:{}}},true);(function(E){if(C.notificationRuleList){var F=C.notificationRuleList;for(var D=0;D<F.length;D++){E.order[D]=F[D].notificationEncId;E.ruleMap[F[D].notificationEncId]={ruleCode:F[D].ruleCode,timespent:parseInt(F[D].timeSpent)!="NaN"?parseInt(F[D].timeSpent):0,totalTimeOnSite:parseInt(F[D].totalTimeOnSite)!="NaN"?parseInt(F[D].totalTimeOnSite):0,actionLinks:F[D].actionLinks||[],skipTargetPage:typeof(F[D].skipTargetPage)=="boolean"?F[D].skipTargetPage:false,maxTimesPerUser:F[D].maxTimesPerUser,startTimestamp:F[D].startTimestamp,endTimestamp:F[D].endTimestamp,layout:F[D].layout,version:((typeof F[D].v!="undefined")?F[D].v:0),showOnExit:F[D].showOnExit,mobile:F[D].mobile}}}})(z.notification);u.copy(z,{sslEnabled:(C.sslEnabled?C.sslEnabled:false),isSRQuotaOver:(C.isSRQ?C.isSRQ:false),isNQuotaOver:(C.isNQ?C.isNQ:false),isFQuotaOver:(C.isFQ?C.isFQ:false)},true);u.uwats(C.lastWidgetCheckDate)}function B(){if(f["webengage.oldOnReady"]!==e&&typeof f["webengage.oldOnReady"]==="function"){f["webengage.oldOnReady"].apply(this)}else{if(f["webengage.onReady"]!==e&&typeof f["webengage.onReady"]==="function"){f["webengage.onReady"].apply(this);o()}else{o()}}if(c.BrowserDetect.ie()&&c.BrowserDetect.version()<11&&d.attachEvent){d.attachEvent("onbeforeunload",function(){c.withELog(function(){c.winUnloading=true;u.setWebengageCookie(u.getWebengageCookie());u.updateSessionCookie(u.getSessionCookie())})})}}if(C&&C.goals!==e&&C.goals instanceof Array){u.loadScript.apply(s.widgetContainer,[s.csUrl,function(){if(typeof f["webengage.conversion.start"]==="function"){f["webengage.conversion.start"](C)}}])}if(C&&C.GAEnabled){if((f["GA.universalAnalyticsFunction"]&&typeof d[f["GA.universalAnalyticsFunction"]]==="function")||typeof d.ga==="function"||d._gaq){u.loadScript.apply(s.widgetContainer,[s.gaCallbacksScriptUrl,B,null,B])}else{c.eLog(f["webengage.licenseCode"],"error","_gaq/ga undefined - not loading ga-callback-helper","_gaq/ga undefined");B()}}else{B()}})(z.configurationMap)},o=function(){var B=function(D){var C=typeof f["webengage."+D+".defaultRender"]==="boolean"?f["webengage."+D+".defaultRender"]:f["webengage.defaultRender"];return(typeof C==="boolean"?C:true)};if(B("feedback")){setTimeout(function(){c.feedback.render()},1)}if(B("survey")){setTimeout(function(){c.survey.render()},1)}if(B("notification")){setTimeout(function(){c.notification.render()},1)}};if(d.webengageWidgetInit!==e&&typeof d.webengageWidgetInit==="function"){d.webengageWidgetInit()}else{var r=a.getElementsByTagName("webengage")[0];if(r&&r.attributes){var q=r.attributes;f["webengage.licenseCode"]=q.license.value;f["webengage.language"]=(q.language?q.language.value:"");if(q.feedbackButtonAlignment){f["webengage.feedback.alignment"]=q.feedbackButtonAlignment.value}if(q.feedbackExternalLinkId){f["webengage.feedback.externalLinkId"]=q.feedbackExternalLinkId.value}}if(f["webengage.licenseCode"]!==e&&f["webengage.licenseCode"]){u.onDocReady(t)}}if(location.search.indexOf("libraryScript")>-1||sessionStorage.getItem("webengage-library")=="true"){var h=new RegExp("[\\?&]libraryScript=([^&#]*)");var v=h.exec(location.search);var y;if(v!=null){y=decodeURIComponent(v[1]);sessionStorage.setItem("webengage-library-script",y)}else{if(sessionStorage.getItem("webengage-library-script")){y=sessionStorage.getItem("webengage-library-script")}}sessionStorage.setItem("webengage-library","true");if(y){c.util.withWeJquery(function(){c.util.loadScript.apply(s.widgetContainer,["//d3701cc9l7v9a6.cloudfront.net/js/library/"+y+".js?v=304.0",function(){c.feedback.abort();c.survey.abort();c.notification.abort();sessionStorage.setItem("webengage-library",true)}])})}}};if(navigator.appName=="Microsoft Internet Explorer"){if(a.body&&(a.body.readyState=="loaded"||a.body.readyState=="complete")){b()}else{if(d.addEventListener){d.addEventListener("load",function(){b()},false)}else{if(d.attachEvent){d.attachEvent("onload",function(){b()})}}}}else{b()}c.getUser=function(){var g=c.util.getSessionCookie();return{pageUrl:d.location.href,pageTitle:a.title,referrer:(a.referrer||""),browser:c.BrowserDetect.browser(),browserVersion:c.BrowserDetect.version(),platform:c.BrowserDetect.os(),ip:(g?g.ip:""),city:(g?g.city:""),country:(g?g.country:"")}}})(window,document,_weq,webengage)},10);