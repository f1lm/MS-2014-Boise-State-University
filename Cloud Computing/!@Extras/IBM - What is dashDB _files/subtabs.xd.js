/* $Id$ 
 * Copyright (c) 2011 IBM Corporation
 * Owner: Corporate Webmaster (NUS_N_NIWWW)
 */

dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","ibmweb.subtabs"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["ibmweb.subtabs"]){_4._hasResource["ibmweb.subtabs"]=true;_4.provide("ibmweb.subtabs");ibmweb.subtabs={openTabDetect:"",ibmPrimaryTab:null,ibmSecondaryTab:null,ibmSecondaryTab_type:"",ibmSecondaryTab_isDd:false,ibmSecondaryTabViewText:[ibmweb.config.subtabs.viewtext.all,ibmweb.config.subtabs.viewtext.less],ibmSecondaryTabHeight:0,ibmSecondaryTabList:null,ibmSecondaryTabInput:null,ibmSecondaryTabOverlay:null,ibmSecondaryTabOverlay_isOpen:false,ibmSecondaryTabListHeight:0,ibmSecondaryTabSelectedItems:null,ibmListContent:null,ibmDynSubTab:null,ibmExpandContainer:null,ibmExpandContainer_button:null,ibmExpandContainer_dD_button:null,ibmExpandContainer_isOpen:true,init:function(){this.ibmPrimaryTab=_4.query("#ibm-primary-tabs");this.ibmSecondaryTab=_4.query("#ibm-secondary-tabs");if(_4.hasClass(this.ibmSecondaryTab[0],"ibm-list-view")){this.ibmSecondaryTab_type="listView";}if(_4.hasClass(this.ibmSecondaryTab[0],"ibm-dropdown-view")){this.ibmSecondaryTab_type="dropdownView";this.ibmSecondaryTab_isDd=true;}if(this.ibmSecondaryTab_type==""){return;}this.ibmSecondaryTabList=_4.query("#ibm-secondary-tab-list");this.ibmSecondaryTabSelectedItems=_4.query(".ibm-columns ul li a.ibm-selected",this.ibmSecondaryTab[0]);this.ibmSecondaryTabHeight=_4.marginBox(this.ibmSecondaryTab[0]).h;this.ibmSecondaryTabListHeight=_4.marginBox(this.ibmSecondaryTabList[0]).h;if(this.ibmSecondaryTabViewTextTranslate){this.ibmSecondaryTabViewText=this.ibmSecondaryTabViewTextTranslate;}if(_4.query("#ibm-secondary-tab-list",this.ibmSecondaryTab[0]).length){this.openTabDetect=window.location.search.substring(1);}var _7=!(this.openTabDetect=="subtabs=open"||this.openTabDetect=="subtabs=delay");if(this.ibmSecondaryTab_isDd){this._createDropdownContent(_7);}else{this._createListContent(_7);}this._addViewText(_7);if(_7){_4.forEach(_4.query("#"+this.ibmSecondaryTabList[0].id+" [class*=ibm-col-]"),function(_8){_4.style(_8,"display","none");});_4.style(this.ibmSecondaryTab[0],"height","30px");this.ibmExpandContainer_isOpen=false;}else{_4.style(this.ibmDynSubTab,{opacity:0,display:"none"});if(this.ibmSecondaryTab_isDd){_4.style(_4.query(this.ibmExpandContainer_button).closest("#ibm-expand-container")[0],"display","block");}}if(this.openTabDetect=="subtabs=delay"){setTimeout("ibmweb.subtabs.autoClose.call(ibmweb.subtabs)",5000);}},autoClose:function(){if(_4.style(this.ibmSecondaryTabList[0],"display")=="block"){this._toogle();}},_createListContent:function(_9){this.ibmDynSubTab=_4.create("div",{className:"ibm-columns ibm-dynamic-subtabs"});var _a=_4.create("ul",{className:"ibm-tabs"},this.ibmDynSubTab);_4.forEach(this.ibmSecondaryTabSelectedItems,function(_b,_c){if(_c>=5){return true;}var _d=_4.query(_b),_e=_4.create("li",(_4.hasClass(_d.parent("li")[0],"ibm-active"))?{className:"ibm-active"}:null,_a),_f=_4.create("a",{href:_4.attr(_d[0],"href"),innerHTML:_d.text()},_e);});_4.place(this.ibmDynSubTab,this.ibmSecondaryTab[0],"first");},_createDropdownContent:function(_10){this.ibmDynSubTab=_4.create("div",{id:"ibm-dropdown-content",className:"ibm-columns"});var _11=this,_12=_4.create("div",{className:"ibm-col-1-1"},this.ibmDynSubTab),_13=_4.create("span",null,_12),_14=0,_15="",_16;this.ibmSecondaryTabInput=_4.create("input",{value:_4.query("h2",this.ibmSecondaryTabList[0]).text()},_13);this.ibmSecondaryTabOverlay=_4.create("div",{className:"ibm-tab-overlay"},_12);this.ibmExpandContainer_dD_button=_4.create("p",{className:"ibm-expand-text",innerHTML:this.ibmSecondaryTabViewText[0]},_12);_4.forEach(_4.query("ul li a",this.ibmSecondaryTab[0]),function(_17){var _18=_4.query(_17),_19=_4.create("li",(_4.hasClass(_18.parent("li")[0],"ibm-active"))?{className:"ibm-active"}:null,_11.ibmSecondaryTabOverlay),_1a=_4.create("a",{href:_4.attr(_18[0],"href"),innerHTML:_18.text()},_19);_14++;});_15="<ul"+((_14>=10)?" class=\"ibm-multi-list\"":"")+"></ul>";_16=_4.query("li",this.ibmSecondaryTabOverlay);for(var i=0;i<_16.length;i+=8){_16.slice(i,i+8).wrapAll(_15);}_4.place(this.ibmDynSubTab,this.ibmSecondaryTab[0],"first");_4.connect(this.ibmExpandContainer_dD_button,"onclick",_4.hitch(_11,"_toogle"));_4.connect(this.ibmSecondaryTabInput,"onclick",_4.hitch(_11,"_openOverlay"));_4.connect(this.ibmSecondaryTabInput,"onblur",_4.hitch(_11,"_closeOverlay"));_4.style(this.ibmSecondaryTabList[0],"display","none");},_addViewText:function(_1b){this.ibmExpandContainer=_4.create("div",{id:"ibm-expand-container",className:"ibm-columns"},this.ibmSecondaryTab[0]);if(this.ibmSecondaryTab_isDd){_1b=false;}var _1c=this,_1d=_4.create("div",{className:"ibm-col-1-1"},this.ibmExpandContainer);this.ibmExpandContainer_button=_4.create("p",{className:"ibm-expand-text",style:{bottom:(_1b)?"28px":"15px"},innerHTML:this.ibmSecondaryTabViewText[(_1b)?0:1]},_1d);_4.connect(this.ibmExpandContainer_button,"onclick",_4.hitch(_1c,"_toogle"));},_openOverlay:function(e){_4.stopEvent(e);if(this.ibmSecondaryTabOverlay_isOpen){return;}var _1e=this;_4.fadeIn({node:this.ibmSecondaryTabOverlay,duration:400,beforeBegin:function(){_4.style(_1e.ibmSecondaryTabOverlay,{display:"block",opacity:0});},onEnd:function(){_1e.ibmSecondaryTabOverlay_isOpen=true;}}).play();},_closeOverlay:function(e){_4.stopEvent(e);if(!this.ibmSecondaryTabOverlay_isOpen){return;}var _1f=this;_4.fadeOut({node:this.ibmSecondaryTabOverlay,duration:400,onEnd:function(){_4.style(_1f.ibmSecondaryTabOverlay,{display:"none"});_1f.ibmSecondaryTabOverlay_isOpen=false;}}).play();},_toogle:function(e){if(typeof e!=="undefined"){_4.stopEvent(e);}var _20=this,_21=null,_22=function(_23,_24,_25,_26,_27){var btt=(_20.ibmSecondaryTab_isDd)?_4.query(_20.ibmExpandContainer_button).closest("#ibm-expand-container")[0]:null,_28=_4.animateProperty({node:_20.ibmSecondaryTabList[0],duration:_24,delay:_25,properties:{opacity:_26}});if(_23){_28.onEnd=function(){_4.forEach(_4.query("#"+_20.ibmSecondaryTabList[0].id+" [class*=ibm-col-]"),function(_29){_4.style(_29,"display",_27);});if(_20.ibmSecondaryTab_isDd){_4.style(btt,"display","none");}};}else{_28.onBegin=function(){_4.forEach(_4.query("#"+_20.ibmSecondaryTabList[0].id+" [class*=ibm-col-]"),function(_2a){_4.style(_2a,"display",_27);});if(_20.ibmSecondaryTab_isDd){_4.fadeIn({node:btt,duration:_24,beforeBegin:function(){_4.style(btt,{display:"block",opacity:0});}}).play();}};}return _28;},_2b=function(_2c,_2d,_2e,_2f){return _4.animateProperty({node:_20.ibmSecondaryTab[0],duration:_2c,delay:_2d,properties:{height:{start:_2e,end:_2f}}});},_30=function(_31,_32,_33,_34,_35,_36){var _37=_4.animateProperty({node:_20.ibmDynSubTab,duration:_32,delay:_33,properties:{opacity:_34}});if(_31){_37.onEnd=function(){_4.style(_20.ibmSecondaryTabList[0],"display",_36);_4.style(_20.ibmDynSubTab,"display",_35);};}else{_37.onBegin=function(){_4.style(_20.ibmSecondaryTabList[0],"display",_36);_4.style(_20.ibmDynSubTab,"display",_35);};}return _37;},_38=function(_39,_3a,_3b,_3c){return _4.animateProperty({node:_39,duration:_3a,delay:_3b,properties:{bottom:_3c}});};if(this.ibmExpandContainer_isOpen){_21=_4.fx.chain([_22(true,200,0,0,"none"),_4.fx.combine([_2b(600,0,this.ibmSecondaryTabListHeight,30),_38(this.ibmExpandContainer_button,600,0,28)]),_30(false,200,0,1,"block","none")]);_4.connect(_21,"onEnd",function(){_20.ibmExpandContainer_isOpen=false;});if(!_20.ibmSecondaryTab_isDd){_20.ibmExpandContainer_button.innerHTML=_20.ibmSecondaryTabViewText[0];}}else{_21=_4.fx.chain([_30(true,200,0,0,"none","block"),_4.fx.combine([_2b(600,0,30,this.ibmSecondaryTabListHeight),_38(this.ibmExpandContainer_button,600,0,15)]),_22(false,200,0,1,"block")]);_4.connect(_21,"onEnd",function(){_20.ibmExpandContainer_isOpen=true;});if(!_20.ibmSecondaryTab_isDd){_20.ibmExpandContainer_button.innerHTML=_20.ibmSecondaryTabViewText[1];}}_4.connect(_21,"beforeBegin",function(){if(_20.ibmSecondaryTab_isDd){if(_20.ibmSecondaryTabOverlay_isOpen){_4.style(_20.ibmSecondaryTabOverlay,{display:"none",opacity:0});_20.ibmSecondaryTabOverlay_isOpen=false;}}});_21.play();}};}}};});