/* $Id$ 
 * Copyright (c) 2011 IBM Corporation
 * Owner: Corporate Webmaster (NUS_N_NIWWW)
 */
dojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojo.dnd.common"],["provide","dojo.dnd.autoscroll"],["provide","dojo.dnd.Mover"],["provide","dojo.dnd.Moveable"],["provide","dojo.dnd.move"],["provide","dojo.dnd.TimedMoveable"],["provide","dijit._CssStateMixin"],["provide","dijit.form._FormMixin"],["provide","dijit._DialogMixin"],["provide","dijit.DialogUnderlay"],["provide","dijit.layout._LayoutWidget"],["provide","dijit.layout._ContentPaneResizeMixin"],["provide","dojo.html"],["provide","dijit.layout.ContentPane"],["provide","dijit.TooltipDialog"],["provide","dijit.Dialog"],["provide","ext.media.yt.ytvideo"],["provide","ibmweb.video"],["provide","dijit.Tooltip"],["provide","ibmweb.tooltip"],["provide","dojo.date"],["provide","dojo.cldr.supplemental"],["provide","dojo.date.locale"],["provide","ext.media.youtubedataconverter"],["provide","ext.media.abstractwidget"],["provide","ext.media.mediathumbnail"],["provide","ext.media.ribbonwidget"],["provide","ext.media.playlistwidget"],["provide","ext.media.videowidget"],["provide","ext.media.overlaywidget"],["provide","ext.media.largewidget"],["provide","ext.media.mediumwidget"],["provide","ext.media.thumbnailwidget"],["provide","ext.media.makeitfit"],["provide","ext.media._base"],["i18n._preloadLocalizations","ext.media.nls._base",["ROOT","ar","ca","cs","da","de","de-de","el","en","en-gb","en-us","es","es-es","fi","fi-fi","fr","fr-fr","he","he-il","hu","it","it-it","ja","ja-jp","ko","ko-kr","nb","nl","nl-nl","pl","pt","pt-br","pt-pt","ru","sk","sl","sv","th","tr","xx","zh","zh-cn","zh-tw"]]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojo.dnd.common"]){_4._hasResource["dojo.dnd.common"]=true;_4.provide("dojo.dnd.common");_4.getObject("dnd",true,_4);_4.dnd.getCopyKeyState=_4.isCopyKey;_4.dnd._uniqueId=0;_4.dnd.getUniqueId=function(){var id;do{id=_4._scopeName+"Unique"+(++_4.dnd._uniqueId);}while(_4.byId(id));return id;};_4.dnd._empty={};_4.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!_4._hasResource["dojo.dnd.autoscroll"]){_4._hasResource["dojo.dnd.autoscroll"]=true;_4.provide("dojo.dnd.autoscroll");_4.getObject("dnd",true,_4);_4.dnd.getViewport=_4.window.getBox;_4.dnd.V_TRIGGER_AUTOSCROLL=32;_4.dnd.H_TRIGGER_AUTOSCROLL=32;_4.dnd.V_AUTOSCROLL_VALUE=16;_4.dnd.H_AUTOSCROLL_VALUE=16;_4.dnd.autoScroll=function(e){var v=_4.window.getBox(),dx=0,dy=0;if(e.clientX<_4.dnd.H_TRIGGER_AUTOSCROLL){dx=-_4.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_4.dnd.H_TRIGGER_AUTOSCROLL){dx=_4.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<_4.dnd.V_TRIGGER_AUTOSCROLL){dy=-_4.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_4.dnd.V_TRIGGER_AUTOSCROLL){dy=_4.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};_4.dnd._validNodes={"div":1,"p":1,"td":1};_4.dnd._validOverflow={"auto":1,"scroll":1};_4.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _4.dnd._validNodes)){var s=_4.getComputedStyle(n);if(s.overflow.toLowerCase() in _4.dnd._validOverflow){var b=_4._getContentBox(n,s),t=_4.position(n,true);var w=Math.min(_4.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(_4.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(_4.isWebKit||_4.isOpera){rx+=_4.body().scrollLeft;ry+=_4.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _7=n.scrollLeft,_8=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_7!=n.scrollLeft||_8!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}_4.dnd.autoScroll(e);};}if(!_4._hasResource["dojo.dnd.Mover"]){_4._hasResource["dojo.dnd.Mover"]=true;_4.provide("dojo.dnd.Mover");_4.declare("dojo.dnd.Mover",null,{constructor:function(_9,e,_a){this.node=_4.byId(_9);var _b=e.touches?e.touches[0]:e;this.marginBox={l:_b.pageX,t:_b.pageY};this.mouseButton=e.button;var h=(this.host=_a),d=_9.ownerDocument;this.events=[_4.connect(d,"onmousemove",this,"onFirstMove"),_4.connect(d,"ontouchmove",this,"onFirstMove"),_4.connect(d,"onmousemove",this,"onMouseMove"),_4.connect(d,"ontouchmove",this,"onMouseMove"),_4.connect(d,"onmouseup",this,"onMouseUp"),_4.connect(d,"ontouchend",this,"onMouseUp"),_4.connect(d,"ondragstart",_4.stopEvent),_4.connect(d.body,"onselectstart",_4.stopEvent)];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_4.dnd.autoScroll(e);var m=this.marginBox,_c=e.touches?e.touches[0]:e;this.host.onMove(this,{l:m.l+_c.pageX,t:m.t+_c.pageY},e);_4.stopEvent(e);},onMouseUp:function(e){if(_4.isWebKit&&_4.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}_4.stopEvent(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_4.marginBox(this.node);var b=_4.doc.body;var bs=_4.getComputedStyle(b);var bm=_4._getMarginBox(b,bs);var bc=_4._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}_4.disconnect(this.events.shift());_4.disconnect(this.events.shift());},destroy:function(){_4.forEach(this.events,_4.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!_4._hasResource["dojo.dnd.Moveable"]){_4._hasResource["dojo.dnd.Moveable"]=true;_4.provide("dojo.dnd.Moveable");_4.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(_d,_e){this.node=_4.byId(_d);if(!_e){_e={};}this.handle=_e.handle?_4.byId(_e.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_e.delay>0?_e.delay:0;this.skip=_e.skip;this.mover=_e.mover?_e.mover:_4.dnd.Mover;this.events=[_4.connect(this.handle,"onmousedown",this,"onMouseDown"),_4.connect(this.handle,"ontouchstart",this,"onMouseDown"),_4.connect(this.handle,"ondragstart",this,"onSelectStart"),_4.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_f,_10){return new _4.dnd.Moveable(_10,_f);},destroy:function(){_4.forEach(this.events,_4.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&_4.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(_4.connect(this.handle,"onmousemove",this,"onMouseMove"),_4.connect(this.handle,"ontouchmove",this,"onMouseMove"),_4.connect(this.handle,"onmouseup",this,"onMouseUp"),_4.connect(this.handle,"ontouchend",this,"onMouseUp"));var pos=e.touches?e.touches[0]:e;this._lastX=pos.pageX;this._lastY=pos.pageY;}else{this.onDragDetected(e);}_4.stopEvent(e);},onMouseMove:function(e){var pos=e.touches?e.touches[0]:e;if(Math.abs(pos.pageX-this._lastX)>this.delay||Math.abs(pos.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}_4.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){_4.disconnect(this.events.pop());}_4.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!_4.dnd.isFormElement(e)){_4.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_11){_4.publish("/dnd/move/start",[_11]);_4.addClass(_4.body(),"dojoMove");_4.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_12){_4.publish("/dnd/move/stop",[_12]);_4.removeClass(_4.body(),"dojoMove");_4.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_13,e){},onMove:function(_14,_15,e){this.onMoving(_14,_15);var s=_14.node.style;s.left=_15.l+"px";s.top=_15.t+"px";this.onMoved(_14,_15);},onMoving:function(_16,_17){},onMoved:function(_18,_19){}});}if(!_4._hasResource["dojo.dnd.move"]){_4._hasResource["dojo.dnd.move"]=true;_4.provide("dojo.dnd.move");_4.declare("dojo.dnd.move.constrainedMoveable",_4.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_1a,_1b){return new _4.dnd.move.constrainedMoveable(_1b,_1a);},constructor:function(_1c,_1d){if(!_1d){_1d={};}this.constraints=_1d.constraints;this.within=_1d.within;},onFirstMove:function(_1e){var c=this.constraintBox=this.constraints.call(this,_1e);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=_4._getMarginSize(_1e.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_1f,_20){var c=this.constraintBox,s=_1f.node.style;this.onMoving(_1f,_20);_20.l=_20.l<c.l?c.l:c.r<_20.l?c.r:_20.l;_20.t=_20.t<c.t?c.t:c.b<_20.t?c.b:_20.t;s.left=_20.l+"px";s.top=_20.t+"px";this.onMoved(_1f,_20);}});_4.declare("dojo.dnd.move.boxConstrainedMoveable",_4.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_21,_22){return new _4.dnd.move.boxConstrainedMoveable(_22,_21);},constructor:function(_23,_24){var box=_24&&_24.box;this.constraints=function(){return box;};}});_4.declare("dojo.dnd.move.parentConstrainedMoveable",_4.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_25,_26){return new _4.dnd.move.parentConstrainedMoveable(_26,_25);},constructor:function(_27,_28){var _29=_28&&_28.area;this.constraints=function(){var n=this.node.parentNode,s=_4.getComputedStyle(n),mb=_4._getMarginBox(n,s);if(_29=="margin"){return mb;}var t=_4._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(_29=="border"){return mb;}t=_4._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(_29=="padding"){return mb;}t=_4._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});_4.dnd.constrainedMover=_4.dnd.move.constrainedMover;_4.dnd.boxConstrainedMover=_4.dnd.move.boxConstrainedMover;_4.dnd.parentConstrainedMover=_4.dnd.move.parentConstrainedMover;}if(!_4._hasResource["dojo.dnd.TimedMoveable"]){_4._hasResource["dojo.dnd.TimedMoveable"]=true;_4.provide("dojo.dnd.TimedMoveable");(function(){var _2a=_4.dnd.Moveable.prototype.onMove;_4.declare("dojo.dnd.TimedMoveable",_4.dnd.Moveable,{timeout:40,constructor:function(_2b,_2c){if(!_2c){_2c={};}if(_2c.timeout&&typeof _2c.timeout=="number"&&_2c.timeout>=0){this.timeout=_2c.timeout;}},markupFactory:function(_2d,_2e){return new _4.dnd.TimedMoveable(_2e,_2d);},onMoveStop:function(_2f){if(_2f._timer){clearTimeout(_2f._timer);_2a.call(this,_2f,_2f._leftTop);}_4.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function(_30,_31){_30._leftTop=_31;if(!_30._timer){var _32=this;_30._timer=setTimeout(function(){_30._timer=null;_2a.call(_32,_30,_30._leftTop);},this.timeout);}}});})();}if(!_4._hasResource["dijit._CssStateMixin"]){_4._hasResource["dijit._CssStateMixin"]=true;_4.provide("dijit._CssStateMixin");_4.declare("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_4.forEach(["onmouseenter","onmouseleave","onmousedown"],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);_4.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(_33){this.watch(_33,_4.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_34){if(!this.disabled){switch(_34.type){case "mouseenter":case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseleave":case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":this._set("active",true);this._mouseDown=true;var _35=this.connect(_4.body(),"onmouseup",function(){this._mouseDown=false;this._set("active",false);this.disconnect(_35);});break;}}},_setStateClass:function(){var _36=this.baseClass.split(" ");function _37(_38){_36=_36.concat(_4.map(_36,function(c){return c+_38;}),"dijit"+_38);};if(!this.isLeftToRight()){_37("Rtl");}if(this.checked){_37("Checked");}if(this.state){_37(this.state);}if(this.selected){_37("Selected");}if(this.disabled){_37("Disabled");}else{if(this.readOnly){_37("ReadOnly");}else{if(this.active){_37("Active");}else{if(this.hovering){_37("Hover");}}}}if(this._focused){_37("Focused");}var tn=this.stateNode||this.domNode,_39={};_4.forEach(tn.className.split(" "),function(c){_39[c]=true;});if("_stateClasses" in this){_4.forEach(this._stateClasses,function(c){delete _39[c];});}_4.forEach(_36,function(c){_39[c]=true;});var _3a=[];for(var c in _39){_3a.push(c);}tn.className=_3a.join(" ");this._stateClasses=_36;},_trackMouseState:function(_3b,_3c){var _3d=false,_3e=false,_3f=false;var _40=this,cn=_4.hitch(this,"connect",_3b);function _41(){var _42=("disabled" in _40&&_40.disabled)||("readonly" in _40&&_40.readonly);_4.toggleClass(_3b,_3c+"Hover",_3d&&!_3e&&!_42);_4.toggleClass(_3b,_3c+"Active",_3e&&!_42);_4.toggleClass(_3b,_3c+"Focused",_3f&&!_42);};cn("onmouseenter",function(){_3d=true;_41();});cn("onmouseleave",function(){_3d=false;_3e=false;_41();});cn("onmousedown",function(){_3e=true;_41();});cn("onmouseup",function(){_3e=false;_41();});cn("onfocus",function(){_3f=true;_41();});cn("onblur",function(){_3f=false;_41();});this.watch("disabled",_41);this.watch("readOnly",_41);}});}if(!_4._hasResource["dijit.form._FormMixin"]){_4._hasResource["dijit.form._FormMixin"]=true;_4.provide("dijit.form._FormMixin");_4.declare("dijit.form._FormMixin",null,{state:"",reset:function(){_4.forEach(this.getDescendants(),function(_43){if(_43.reset){_43.reset();}});},validate:function(){var _44=false;return _4.every(_4.map(this.getDescendants(),function(_45){_45._hasBeenBlurred=true;var _46=_45.disabled||!_45.validate||_45.validate();if(!_46&&!_44){_4.window.scrollIntoView(_45.containerNode||_45.domNode);_45.focus();_44=true;}return _46;}),function(_47){return _47;});},setValues:function(val){_4.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_4.forEach(this.getDescendants(),function(_48){if(!_48.name){return;}var _49=map[_48.name]||(map[_48.name]=[]);_49.push(_48);});for(var _4a in map){if(!map.hasOwnProperty(_4a)){continue;}var _4b=map[_4a],_4c=_4.getObject(_4a,false,obj);if(_4c===undefined){continue;}if(!_4.isArray(_4c)){_4c=[_4c];}if(typeof _4b[0].checked=="boolean"){_4.forEach(_4b,function(w,i){w.set("value",_4.indexOf(_4c,w.value)!=-1);});}else{if(_4b[0].multiple){_4b[0].set("value",_4c);}else{_4.forEach(_4b,function(w,i){w.set("value",_4c[i]);});}}}},getValues:function(){_4.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_4.forEach(this.getDescendants(),function(_4d){var _4e=_4d.name;if(!_4e||_4d.disabled){return;}var _4f=_4d.get("value");if(typeof _4d.checked=="boolean"){if(/Radio/.test(_4d.declaredClass)){if(_4f!==false){_4.setObject(_4e,_4f,obj);}else{_4f=_4.getObject(_4e,false,obj);if(_4f===undefined){_4.setObject(_4e,null,obj);}}}else{var ary=_4.getObject(_4e,false,obj);if(!ary){ary=[];_4.setObject(_4e,ary,obj);}if(_4f!==false){ary.push(_4f);}}}else{var _50=_4.getObject(_4e,false,obj);if(typeof _50!="undefined"){if(_4.isArray(_50)){_50.push(_4f);}else{_4.setObject(_4e,[_50,_4f],obj);}}else{_4.setObject(_4e,_4f,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(_51){},_getState:function(){var _52=_4.map(this._descendants,function(w){return w.get("state")||"";});return _4.indexOf(_52,"Error")>=0?"Error":_4.indexOf(_52,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){_4.forEach(this._childConnections||[],_4.hitch(this,"disconnect"));_4.forEach(this._childWatches||[],function(w){w.unwatch();});},connectChildren:function(_53){var _54=this;this.disconnectChildren();this._descendants=this.getDescendants();var set=_53?function(_55,val){_54[_55]=val;}:_4.hitch(this,"_set");set("value",this.get("value"));set("state",this._getState());var _56=(this._childConnections=[]),_57=(this._childWatches=[]);_4.forEach(_4.filter(this._descendants,function(_58){return _58.validate;}),function(_59){_4.forEach(["state","disabled"],function(_5a){_57.push(_59.watch(_5a,function(_5b,_5c,_5d){_54.set("state",_54._getState());}));});});var _5e=function(){if(_54._onChangeDelayTimer){clearTimeout(_54._onChangeDelayTimer);}_54._onChangeDelayTimer=setTimeout(function(){delete _54._onChangeDelayTimer;_54._set("value",_54.get("value"));},10);};_4.forEach(_4.filter(this._descendants,function(_5f){return _5f.onChange;}),function(_60){_56.push(_54.connect(_60,"onChange",_5e));_57.push(_60.watch("disabled",_5e));});},startup:function(){this.inherited(arguments);this.connectChildren(true);this.watch("state",function(_61,_62,_63){this.onValidStateChange(_63=="");});},destroy:function(){this.disconnectChildren();this.inherited(arguments);}});}if(!_4._hasResource["dijit._DialogMixin"]){_4._hasResource["dijit._DialogMixin"]=true;_4.provide("dijit._DialogMixin");_4.declare("dijit._DialogMixin",null,{attributeMap:_5._Widget.prototype.attributeMap,execute:function(_64){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _65=_5._getTabNavigable(this.containerNode);this._firstFocusItem=_65.lowest||_65.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_65.last||_65.highest||this._firstFocusItem;}});}if(!_4._hasResource["dijit.DialogUnderlay"]){_4._hasResource["dijit.DialogUnderlay"]=true;_4.provide("dijit.DialogUnderlay");_4.declare("dijit.DialogUnderlay",[_5._Widget,_5._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(id){_4.attr(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_66){this.node.className="dijitDialogUnderlay "+_66;this._set("class",_66);},postCreate:function(){_4.body().appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _67=_4.window.getBox();os.top=_67.t+"px";os.left=_67.l+"px";is.width=_67.w+"px";is.height=_67.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new _5.BackgroundIframe(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});}if(!_4._hasResource["dijit.layout._LayoutWidget"]){_4._hasResource["dijit.layout._LayoutWidget"]=true;_4.provide("dijit.layout._LayoutWidget");_4.declare("dijit.layout._LayoutWidget",[_5._Widget,_5._Container,_5._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_4.addClass(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _68=this.getParent&&this.getParent();if(!(_68&&_68.isLayoutContainer)){this.resize();this.connect(_4.isIE?this.domNode:_4.global,"onresize",function(){this.resize();});}},resize:function(_69,_6a){var _6b=this.domNode;if(_69){_4.marginBox(_6b,_69);if(_69.t){_6b.style.top=_69.t+"px";}if(_69.l){_6b.style.left=_69.l+"px";}}var mb=_6a||{};_4.mixin(mb,_69||{});if(!("h" in mb)||!("w" in mb)){mb=_4.mixin(_4.marginBox(_6b),mb);}var cs=_4.getComputedStyle(_6b);var me=_4._getMarginExtents(_6b,cs);var be=_4._getBorderExtents(_6b,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_4._getPadExtents(_6b,cs);this._contentBox={l:_4._toPixelValue(_6b,cs.paddingLeft),t:_4._toPixelValue(_6b,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_6c){var cls=this.baseClass+"-child "+(_6c.baseClass?this.baseClass+"-"+_6c.baseClass:"");_4.addClass(_6c.domNode,cls);},addChild:function(_6d,_6e){this.inherited(arguments);if(this._started){this._setupChild(_6d);}},removeChild:function(_6f){var cls=this.baseClass+"-child"+(_6f.baseClass?" "+this.baseClass+"-"+_6f.baseClass:"");_4.removeClass(_6f.domNode,cls);this.inherited(arguments);}});_5.layout.marginBox2contentBox=function(_70,mb){var cs=_4.getComputedStyle(_70);var me=_4._getMarginExtents(_70,cs);var pb=_4._getPadBorderExtents(_70,cs);return {l:_4._toPixelValue(_70,cs.paddingLeft),t:_4._toPixelValue(_70,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _71=function(_72){return _72.substring(0,1).toUpperCase()+_72.substring(1);};var _73=function(_74,dim){var _75=_74.resize?_74.resize(dim):_4.marginBox(_74.domNode,dim);if(_75){_4.mixin(_74,_75);}else{_4.mixin(_74,_4.marginBox(_74.domNode));_4.mixin(_74,dim);}};_5.layout.layoutChildren=function(_76,dim,_77,_78,_79){dim=_4.mixin({},dim);_4.addClass(_76,"dijitLayoutContainer");_77=_4.filter(_77,function(_7a){return _7a.region!="center"&&_7a.layoutAlign!="client";}).concat(_4.filter(_77,function(_7b){return _7b.region=="center"||_7b.layoutAlign=="client";}));_4.forEach(_77,function(_7c){var elm=_7c.domNode,pos=(_7c.region||_7c.layoutAlign);var _7d=elm.style;_7d.left=dim.l+"px";_7d.top=dim.t+"px";_7d.position="absolute";_4.addClass(elm,"dijitAlign"+_71(pos));var _7e={};if(_78&&_78==_7c.id){_7e[_7c.region=="top"||_7c.region=="bottom"?"h":"w"]=_79;}if(pos=="top"||pos=="bottom"){_7e.w=dim.w;_73(_7c,_7e);dim.h-=_7c.h;if(pos=="top"){dim.t+=_7c.h;}else{_7d.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_7e.h=dim.h;_73(_7c,_7e);dim.w-=_7c.w;if(pos=="left"){dim.l+=_7c.w;}else{_7d.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){_73(_7c,dim);}}}});};})();}if(!_4._hasResource["dijit.layout._ContentPaneResizeMixin"]){_4._hasResource["dijit.layout._ContentPaneResizeMixin"]=true;_4.provide("dijit.layout._ContentPaneResizeMixin");_4.declare("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isContainer:true,isLayoutContainer:true,_startChildren:function(){_4.forEach(this.getChildren(),function(_7f){_7f.startup();_7f._started=true;});},startup:function(){if(this._started){return;}var _80=_5._Contained.prototype.getParent.call(this);this._childOfLayoutWidget=_80&&_80.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._startChildren();if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.connect(_4.isIE?this.domNode:_4.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize();});}},_checkIfSingleChild:function(){var _81=_4.query("> *",this.containerNode).filter(function(_82){return _82.tagName!=="SCRIPT";}),_83=_81.filter(function(_84){return _4.hasAttr(_84,"data-dojo-type")||_4.hasAttr(_84,"dojoType")||_4.hasAttr(_84,"widgetId");}),_85=_4.filter(_83.map(_5.byNode),function(_86){return _86&&_86.domNode&&_86.resize;});if(_81.length==_83.length&&_85.length==1){this._singleChild=_85[0];}else{delete this._singleChild;}_4.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_87,_88){if(!this._wasShown&&this.open!==false){this._onShow();}this._resizeCalled=true;this._scheduleLayout(_87,_88);},_scheduleLayout:function(_89,_8a){if(this._isShown()){this._layout(_89,_8a);}else{this._needLayout=true;this._changeSize=_89;this._resultSize=_8a;}},_layout:function(_8b,_8c){if(_8b){_4.marginBox(this.domNode,_8b);}var cn=this.containerNode;if(cn===this.domNode){var mb=_8c||{};_4.mixin(mb,_8b||{});if(!("h" in mb)||!("w" in mb)){mb=_4.mixin(_4.marginBox(cn),mb);}this._contentBox=_5.layout.marginBox2contentBox(cn,mb);}else{this._contentBox=_4.contentBox(cn);}this._layoutChildren();delete this._needLayout;},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_4.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_4.forEach(this.getChildren(),function(_8d){if(_8d.resize){_8d.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var _8e=this.domNode,_8f=this.domNode.parentNode;return (_8e.style.display!="none")&&(_8e.style.visibility!="hidden")&&!_4.hasClass(_8e,"dijitHidden")&&_8f&&_8f.style&&(_8f.style.display!="none");}}},_onShow:function(){if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);this._wasShown=true;}});}if(!_4._hasResource["dojo.html"]){_4._hasResource["dojo.html"]=true;_4.provide("dojo.html");_4.getObject("html",true,_4);(function(){var _90=0,d=_4;_4.html._secureForInnerHtml=function(_91){return _91.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};_4.html._emptyNode=_4.empty;_4.html._setNodeContent=function(_92,_93){d.empty(_92);if(_93){if(typeof _93=="string"){_93=d._toDom(_93,_92.ownerDocument);}if(!_93.nodeType&&d.isArrayLike(_93)){for(var _94=_93.length,i=0;i<_93.length;i=_94==_93.length?i+1:0){d.place(_93[i],_92,"last");}}else{d.place(_93,_92,"last");}}return _92;};_4.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_4._scopeName,startup:true,constructor:function(_95,_96){_4.mixin(this,_95||{});_96=this.node=_4.byId(this.node||_96);if(!this.id){this.id=["Setter",(_96)?_96.id||_96.tagName:"",_90++].join("_");}},set:function(_97,_98){if(undefined!==_97){this.content=_97;}if(_98){this._mixin(_98);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var _99=this.node;if(!_99){throw new Error(this.declaredClass+": setContent given no node");}try{_99=_4.html._setNodeContent(_99,this.content);}catch(e){var _9a=this.onContentError(e);try{_99.innerHTML=_9a;}catch(e){}}this.node=_99;},empty:function(){if(this.parseResults&&this.parseResults.length){_4.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_4.html._emptyNode(this.node);},onBegin:function(){var _9b=this.content;if(_4.isString(_9b)){if(this.cleanContent){_9b=_4.html._secureForInnerHtml(_9b);}if(this.extractContent){var _9c=_9b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_9c){_9b=_9c[1];}}}this.empty();this.content=_9b;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_9d){var _9e={},key;for(key in _9d){if(key in _9e){continue;}this[key]=_9d[key];}},_parse:function(){var _9f=this.node;try{var _a0={};_4.forEach(["dir","lang","textDir"],function(_a1){if(this[_a1]){_a0[_a1]=this[_a1];}},this);this.parseResults=_4.parser.parse({rootNode:_9f,noStart:!this.startup,inherited:_a0,scope:this.parserScope});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(_a2,err,_a3){var _a4=this["on"+_a2+"Error"].call(this,err);if(_a3){}else{if(_a4){_4.html._setNodeContent(this.node,_a4,true);}}}});_4.html.set=function(_a5,_a6,_a7){if(undefined==_a6){_a6="";}if(!_a7){return _4.html._setNodeContent(_a5,_a6,true);}else{var op=new _4.html._ContentSetter(_4.mixin(_a7,{content:_a6,node:_a5}));return op.set();}};})();}if(!_4._hasResource["dijit.layout.ContentPane"]){_4._hasResource["dijit.layout.ContentPane"]=true;_4.provide("dijit.layout.ContentPane");_4.declare("dijit.layout.ContentPane",[_5._Widget,_5.layout._ContentPaneResizeMixin],{href:"",extractContent:false,parseOnLoad:true,parserScope:_4._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,attributeMap:_4.delegate(_5._Widget.prototype.attributeMap,{title:[]}),stopParser:true,template:false,create:function(_a8,_a9){if((!_a8||!_a8.template)&&_a9&&!("href" in _a8)&&!("content" in _a8)){var df=_4.doc.createDocumentFragment();_a9=_4.byId(_a9);while(_a9.firstChild){df.appendChild(_a9.firstChild);}_a8=_4.delegate(_a8,{content:df});}this.inherited(arguments,[_a8,_a9]);},postMixInProperties:function(){this.inherited(arguments);var _aa=_4.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_4.string.substitute(this.loadingMessage,_aa);this.errorMessage=_4.string.substitute(this.errorMessage,_aa);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!_4.attr(this.domNode,"role")){_5.setWaiRole(this.domNode,"group");}},_startChildren:function(){this.inherited(arguments);if(this._contentSetter){_4.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_4.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(_ab){_4.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",_ab);},_setHrefAttr:function(_ac){this.cancel();this.onLoadDeferred=new _4.Deferred(_4.hitch(this,"cancel"));this.onLoadDeferred.addCallback(_4.hitch(this,"onLoad"));this._set("href",_ac);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(_ad){_4.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",_ad);},_setContentAttr:function(_ae){this._set("href","");this.cancel();this.onLoadDeferred=new _4.Deferred(_4.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.addCallback(_4.hitch(this,"onLoad"));}this._setContent(_ae||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function(_af){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _4.Deferred(_4.hitch(this,"cancel"));this.onLoadDeferred.addCallback(_4.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var _b0=this;var _b1={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(_4.isObject(this.ioArgs)){_4.mixin(_b1,this.ioArgs);}var _b2=(this._xhrDfd=(this.ioMethod||_4.xhrGet)(_b1));_b2.addCallback(function(_b3){try{_b0._isDownloaded=true;_b0._setContent(_b3,false);_b0.onDownloadEnd();}catch(err){_b0._onError("Content",err);}delete _b0._xhrDfd;return _b3;});_b2.addErrback(function(err){if(!_b2.canceled){_b0._onError("Download",err);}delete _b0._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function(_b4){this._set("isLoaded",true);try{this.onLoadDeferred.callback(_b4);}catch(e){}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler();}var _b5=this._contentSetter;_4.forEach(this.getChildren(),function(_b6){if(_b6.destroyRecursive){_b6.destroyRecursive();}});if(_b5){_4.forEach(_b5.parseResults,function(_b7){if(_b7.destroyRecursive&&_b7.domNode&&_b7.domNode.parentNode==_4.body()){_b7.destroyRecursive();}});delete _b5.parseResults;}_4.html._emptyNode(this.containerNode);delete this._singleChild;},_setContent:function(_b8,_b9){this.destroyDescendants();var _ba=this._contentSetter;if(!(_ba&&_ba instanceof _4.html._ContentSetter)){_ba=this._contentSetter=new _4.html._ContentSetter({node:this.containerNode,_onError:_4.hitch(this,this._onError),onContentError:_4.hitch(this,function(e){var _bb=this.onContentError(e);try{this.containerNode.innerHTML=_bb;}catch(e){}})});}var _bc=_4.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang},this._contentSetterParams||{});_ba.set((_4.isObject(_b8)&&_b8.domNode)?_b8.domNode:_b8,_bc);delete this._contentSetterParams;if(this.doLayout){this._checkIfSingleChild();}if(!_b9){if(this._started){this._startChildren();this._scheduleLayout();}this._onLoadHandler(_b8);}},_onError:function(_bd,err,_be){this.onLoadDeferred.errback(err);var _bf=this["on"+_bd+"Error"].call(this,err);if(_be){}else{if(_bf){this._setContent(_bf,true);}}},onLoad:function(_c0){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_c1){},onDownloadError:function(_c2){return this.errorMessage;},onDownloadEnd:function(){}});}if(!_4._hasResource["dijit.TooltipDialog"]){_4._hasResource["dijit.TooltipDialog"]=true;_4.provide("dijit.TooltipDialog");_4.declare("dijit.TooltipDialog",[_5.layout.ContentPane,_5._Templated,_5.form._FormMixin,_5._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_4.cache("dijit","templates/TooltipDialog.html","<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\"></div>\n</div>\n"),_setTitleAttr:function(_c3){this.containerNode.title=_c3;this._set("title",_c3);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(_c4,_c5,_c6){var _c7="dijitTooltipAB"+(_c6.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_c6.charAt(0)=="T"?"Below":"Above");_4.replaceClass(this.domNode,_c7,this._currentOrientClass||"");this._currentOrientClass=_c7;},focus:function(){this._getFocusItems(this.containerNode);_5.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var _c8=evt.target;var dk=_4.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _c9=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){setTimeout(_4.hitch(this,"onCancel"),0);_4.stopEvent(evt);}else{if(_c8==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_c9){_5.focus(this._lastFocusItem);}_4.stopEvent(evt);}else{if(_c8==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_c9){_5.focus(this._firstFocusItem);}_4.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!_4._hasResource["dijit.Dialog"]){_4._hasResource["dijit.Dialog"]=true;_4.provide("dijit.Dialog");_4.declare("dijit._DialogBase",[_5._Templated,_5.form._FormMixin,_5._DialogMixin,_5._CssStateMixin],{templateString:_4.cache("dijit","templates/Dialog.html","<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"),baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},attributeMap:_4.delegate(_5._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),open:false,duration:_5.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function(){var _ca=_4.i18n.getLocalization("dijit","common");_4.mixin(this,_ca);this.inherited(arguments);},postCreate:function(){_4.style(this.domNode,{display:"none",position:"absolute"});_4.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&_5._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);_5.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function(e){if(e&&e.node&&e.node===this.domNode){this._relativePosition=_4.position(e.node);}},_setup:function(){var _cb=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(_4.isIE==6)?new _4.dnd.TimedMoveable(_cb,{handle:this.titleBar}):new _4.dnd.Moveable(_cb,{handle:this.titleBar,timeout:0});this._dndListener=_4.subscribe("/dnd/move/stop",this,"_endDrag");}else{_4.addClass(_cb,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_4.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(this._singleChildOriginalStyle){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;}delete this._singleChildOriginalStyle;}else{_4.style(this.containerNode,{width:"auto",height:"auto"});}var mb=_4._getMarginSize(this.domNode);var _cc=_4.window.getBox();if(mb.w>=_cc.w||mb.h>=_cc.h){var w=Math.min(mb.w,Math.floor(_cc.w*0.75)),h=Math.min(mb.h,Math.floor(_cc.h*0.75));if(this._singleChild&&this._singleChild.resize){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:w,h:h});}else{_4.style(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_4.hasClass(_4.body(),"dojoMove")){var _cd=this.domNode,_ce=_4.window.getBox(),p=this._relativePosition,bb=p?null:_4._getBorderBox(_cd),l=Math.floor(_ce.l+(p?p.x:(_ce.w-bb.w)/2)),t=Math.floor(_ce.t+(p?p.y:(_ce.h-bb.h)/2));_4.style(_cd,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var dk=_4.keys;var _cf=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _d0=(this._firstFocusItem==this._lastFocusItem);if(_cf==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_d0){_5.focus(this._lastFocusItem);}_4.stopEvent(evt);}else{if(_cf==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_d0){_5.focus(this._firstFocusItem);}_4.stopEvent(evt);}else{while(_cf){if(_cf==this.domNode||_4.hasClass(_cf,"dijitPopup")){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}_cf=_cf.parentNode;}if(evt.charOrCode!==dk.TAB){_4.stopEvent(evt);}else{if(!_4.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}this._modalconnects.push(_4.connect(window,"onscroll",this,"layout"));this._modalconnects.push(_4.connect(window,"onresize",this,function(){var _d1=_4.window.getBox();if(!this._oldViewport||_d1.h!=this._oldViewport.h||_d1.w!=this._oldViewport.w){this.layout();this._oldViewport=_d1;}}));this._modalconnects.push(_4.connect(this.domNode,"onkeypress",this,"_onKey"));_4.style(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _d2;this._fadeInDeferred=new _4.Deferred(_4.hitch(this,function(){_d2.stop();delete this._fadeInDeferred;}));_d2=_4.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:_4.hitch(this,function(){_5._DialogLevelManager.show(this,this.underlayAttrs);}),onEnd:_4.hitch(this,function(){if(this.autofocus&&_5._DialogLevelManager.isTop(this)){this._getFocusItems(this.domNode);_5.focus(this._firstFocusItem);}this._fadeInDeferred.callback(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _d3;this._fadeOutDeferred=new _4.Deferred(_4.hitch(this,function(){_d3.stop();delete this._fadeOutDeferred;}));_d3=_4.fadeOut({node:this.domNode,duration:this.duration,onEnd:_4.hitch(this,function(){this.domNode.style.display="none";_5._DialogLevelManager.hide(this);this.onHide();this._fadeOutDeferred.callback(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}_4.forEach(this._modalconnects,_4.disconnect);this._modalconnects=[];if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},layout:function(){if(this.domNode.style.display!="none"){if(_5._underlay){_5._underlay.layout();}this._position();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}if(this._dndListener){_4.unsubscribe(this._dndListener);}_4.forEach(this._modalconnects,_4.disconnect);_5._DialogLevelManager.hide(this);this.inherited(arguments);}});_4.declare("dijit.Dialog",[_5.layout.ContentPane,_5._DialogBase],{});_5._DialogLevelManager={show:function(_d4,_d5){var ds=_5._dialogStack;ds[ds.length-1].focus=_5.getFocus(_d4);var _d6=_5._underlay;if(!_d6||_d6._destroyed){_d6=_5._underlay=new _5.DialogUnderlay(_d5);}else{_d6.set(_d4.underlayAttrs);}var _d7=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:950;if(ds.length==1){_d6.show();}_4.style(_5._underlay.domNode,"zIndex",_d7-1);_4.style(_d4.domNode,"zIndex",_d7);ds.push({dialog:_d4,underlayAttrs:_d5,zIndex:_d7});},hide:function(_d8){var ds=_5._dialogStack;if(ds[ds.length-1].dialog==_d8){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){if(!_5._underlay._destroyed){_5._underlay.hide();}}else{_4.style(_5._underlay.domNode,"zIndex",pd.zIndex-1);_5._underlay.set(pd.underlayAttrs);}if(_d8.refocus){var _d9=pd.focus;if(!_d9||(pd.dialog&&!_4.isDescendant(_d9.node,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_d9=pd.dialog._firstFocusItem;}try{_5.focus(_d9);}catch(e){}}}else{var idx=_4.indexOf(_4.map(ds,function(_da){return _da.dialog;}),_d8);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_db){var ds=_5._dialogStack;return ds[ds.length-1].dialog==_db;}};_5._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];}if(!_4._hasResource["ext.media.yt.ytvideo"]){_4._hasResource["ext.media.yt.ytvideo"]=true;_4.provide("ext.media.yt.ytvideo");_4.declare("ext.media.yt.ytvideo",[_5._Widget,_5._Templated],{templateString:_4.cache("ext.media.yt.template","ytVideo.html","<div class=\"yt-widget\">\n\t<div class=\"ibm-video-close-overlay\" style=\"display:none\" data-dojo-attach-point=\"closeFullscreenOverlay\" data-dojo-attach-event=\"ontouchend:closeOverlay,onclick:closeOverlay\"></div>\n\t<div class=\"yt-share-links\" data-dojo-attach-point=\"shareLinksNode\" style=\"display:none\">\n\t\t<a class=\"video-share-facebook\" target=\"_blank\" href=\"\" data-dojo-attach-point=\"shareFacebookLink\" data-dojo-attach-event=\"onclick:share\"></a>\n\t\t<a class=\"video-share-twitter\" href=\"\" target=\"_blank\" data-dojo-attach-point=\"shareTwitterLink\" data-dojo-attach-event=\"onclick:share\"></a>\n\t\t<a class=\"video-share-email\" href=\"\" data-dojo-attach-point=\"shareEmailLink\" data-dojo-attach-event=\"onclick:share\"></a>\n\t</div>\n\t<!--<div class=\"videoOverlay\" data-dojo-attach-point=\"videoOverlay\"></div>-->\n\t<div class='yt-fullscreen-text' style='display:none;' data-dojo-attach-point='fullscreenText'></div>\n\t<div class=\"ytPlayer\" data-dojo-attach-point='ytPlayerNode'></div>\n\t<div class=\"video-control-bar\" data-dojo-attach-point=\"videoControlBar\">\n\t\t<a href='#' class='play-pause' data-dojo-attach-event='onclick:playPauseButton,ontouchend:playPauseButton' data-dojo-attach-point='playLink'>\n\t\t\t<span class='icon play-image' data-dojo-attach-point='playImage'></span>\n\t\t</a>\n\t\n\t\t<div class='time-progress-bar'> <div class=\"elapsed-time-wrapper\"><span class=\"elapsed-time\" data-dojo-attach-point=\"elapsedTime\">0:00</span></div> <div class=\"progress-bar-container\" data-dojo-attach-event=\"onclick:progressClick,ontouchend:progressClick\" data-dojo-attach-point=\"progressBarBackground\"><div class=\"progress-bar-background\"><div class=\"progress-bar\" data-dojo-attach-point=\"progressBar\"><div class=\"progress-bar-arrow\" data-dojo-attach-event=\"onmousedown:locationMarkerDown\" data-dojo-attach-point=\"progressBarMarker\"></div></div><div class='loaded-bar' data-dojo-attach-point=\"loadedBar\"></div></div></div>\n\t\t<div class=\"post-progress-bar\"><span class=\"total-time\" data-dojo-attach-point='totalTime'></span></div>\n\t\t</div>\n\t\t<a href='#' class='fullscreen' data-dojo-attach-event='onclick:fullscreenClick' data-dojo-attach-point='fullscreenButton'>\n\t\t\t<span class='icon fullscreen-image'></span>\n\t\t</a>\n\t\t<a href='#' class='caption' style='display:none' data-dojo-attach-event='onclick:captionClick,ontouchend:captionClick' data-dojo-attach-point='captionButton'><span class='icon caption-image'></span></a>\n\t\t<div class=\"sound\" data-dojo-attach-point='soundContainer'>\n\t\t\t<a href='#' class='speaker' data-dojo-attach-event='onclick:muteButtonClick,ontouchend:muteButtonClick'>\n\t\t\t\t<span class='icon speaker-image on' data-dojo-attach-point='muteIcon'></span>\n\t\t\t</a>\n\t\t\t<div class='volume' data-dojo-attach-point='volLink' data-dojo-attach-event=\"onclick:onVolMouseMove,ontouchend:onVolMouseMove\">\n\t\t\t\t<div class=\"volume-bar\" data-dojo-attach-point=\"volBar\">\n\t\t\t\t\t<div class=\"volume-marker\" data-dojo-attach-point=\"volMarker\" data-dojo-attach-event=\"onmousedown:onVolMouseDown\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\t\t\n\t\t</div>\t\n\t</div>\n</div>\n"),widgets:[],player:null,interval:null,captionState:false,mousedown:false,height:390,width:640,fullscreen:false,goingFullscreen:false,fullscreenHeight:null,fullscreenWidth:null,blocker:null,blockerConnect:null,state:null,meta:null,connections:null,dragConnects:null,fixPlayInterval:null,placeholder:null,alwaysFullScreen:false,noshare:false,title:"",isMobile:_4.global.navigator?_4.global.navigator.userAgent.search(/android|ipad|iphone|playbook|rim\ |blackberry|mobile/gi)!=-1:false,strings:{"play":{query:".play-pause",attribute:"aria-label",label:"Play"},"pause":{label:"Pause"},"fullscreen":{query:".fullscreen",attribute:"aria-label",label:"Fullscreen"},"caption":{query:".caption",attribute:"aria-label",label:"Caption"},"mute":{query:".speaker",attribute:"aria-label",label:"Mute"},"facebook":{query:".video-share-facebook",attribute:"aria-label",label:"Share on Facebook"},"twitter":{query:".video-share-twitter",attribute:"aria-label",label:"Share on Twitter"},"email":{query:".video-share-email",attribute:"aria-label",label:"Share via Email"},"emailContent":{label:"Video: ${TITLE}\n${LINK}"},"twitterContent":{label:"Video: ${TITLE} #ibm ${LINK}"},"exitFullscreen":{query:".yt-fullscreen-text",label:"Press Esc to exit fullscreen"}},create:function(){if(!_4.query("#ytapi")[0]){youtubeApiReady=false;var tag=document.createElement("script");tag.src="//www.youtube.com/iframe_api";tag.id="ytapi";var _dc=document.getElementsByTagName("script")[0];_dc.parentNode.insertBefore(tag,_dc);window.onYouTubeIframeAPIReady=_4.hitch(this,function(){youtubeApiReady=true;for(var i=0;i<this.widgets.length;i++){this.widgets[i].createPlayer();}});}this.state={};this.connections=[];this.widgets.push(this);this.inherited(arguments);if(ibmweb.info.iDevice){_4.addClass(this.domNode,"iDevice");}},localize:function(){for(var key in this.strings){if(this.strings[key].query){var _dd=_4.query(this.strings[key].query,this.domNode);for(var i=0;i<_dd.length;i++){if(this.strings[key].attribute){_4.attr(_dd[i],this.strings[key].attribute,this.strings[key].label);}else{_dd[i].innerHTML=this.strings[key].label;}}}}},postCreate:function(){this.inherited(arguments);_4.style(this.domNode,"width",this.width+"px");this.connections.push(_4.connect(null,"onkeydown",this,this.keyDown));this.connections.push(_4.connect(null,"onresize",this,this.resize));this.connections.push(_4.connect(null,"onscroll",this,this.scroll));this.getYoutubeData();this.localize();this.connections.push(_4.connect(this.domNode,"fullscreenchange",this,this.fsEvent));this.connections.push(_4.connect(this.domNode,"webkitfullscreenchange",this,this.fsEvent));this.connections.push(_4.connect(document,"mozfullscreenchange",this,this.fsEvent));if(this.isMobile){_4.style(this.soundContainer,"display","none");_4.style(this.fullscreenButton,"display","none");}},startup:function(){if(youtubeApiReady&&this.player==null){this.createPlayer();}},createPlayer:function(_de,_df){if(!_de){var _de=this.height;}if(!_df){var _df=this.width;}_4.place(_4.create("div",{"id":this.id+"ytPlayer"}),this.ytPlayerNode,"first");this.player=new YT.Player(this.id+"ytPlayer",{height:_de,width:_df,videoId:this.videoId,events:{"onReady":_4.hitch(this,this.onPlayerReady),"onStateChange":_4.hitch(this,this.onPlayerStateChange),"onApiChange":_4.hitch(this,this.onApiChange)},playerVars:{controls:0,showinfo:0,rel:0,autoplay:0,modestbranding:1,wmode:"opaque"}});if(this.alwaysFullScreen){_4.style(this.fullscreenButton,"display","none");this.goFullScreen();}},onApiChange:function(_e0){if(this.state&&this.state.cc){this.enableCaption();this.state.cc=false;}else{if(_4.indexOf(this.player.getOptions(),"cc")!=-1){this.captionState=this.player.getOption("cc","track")!=null;_4.style(this.captionButton,"display","inline-block");}}},play:function(){if(this.player&&this.player.playVideo){this.player.playVideo();}else{if(this.isMobile){return;}if(this.state==null){this.state={};}this.state.playing=true;}},stop:function(){if(this.player){this.player.pauseVideo();}},playNewVideo:function(_e1){this.state={};if(ibmweb.info.iDevice){var _e2=this.player.a;_e2.parentNode.removeChild(_e2);this.videoId=_e1;this.createPlayer();}else{this.player.loadVideoById(_e1);}},stopAllOthers:function(){for(var _e3 in this.widgets){if(this!=this.widgets[_e3]){this.widgets[_e3].stop();}}},onPlayerReady:function(_e4){if(_4.exists("state",this)){if(_4.exists("time",this.state)){this.player.seekTo(this.state.time,true);}if(!_4.exists("playing",this.state)||!this.state.playing){this.player.pauseVideo();}else{this.player.playVideo();}if(_4.exists("mute",this.state)&&this.state.mute){this.player.mute();}else{this.player.unMute();}if(_4.exists("vol",this.state)&&!this.state.mute){this.updateVolumeDisplay(this.state.vol);this.player.setVolume(this.state.vol);}}if(this.player.getDuration()!=0){this.totalTime.innerHTML=this.formatTime(this.player.getDuration());}if(_4.style(this.videoControlBar,"display")=="none"){_4.style(this.videoControlBar,"display","");}if(this.isMobile){_4.style(this.videoControlBar,"display","none");}if(this.alwaysFullScreen){_4.style(this.closeFullscreenOverlay,"display","");}},onPlayerStateChange:function(_e5){if(_e5.data==YT.PlayerState.ENDED){clearInterval(this.interval);this.fireStatEvent("finish");}if(_e5.data==YT.PlayerState.PAUSED){this.shareLinks(true);_4.removeClass(this.playImage,"pause-image");_4.addClass(this.playImage,"play-image");_4.attr(this.playLink,"aria-label",this.strings.play.label);this.fireStatEvent("pause");}if(_e5.data==YT.PlayerState.PLAYING){if(!ibmweb.info.iDevice){this.stopAllOthers();}this.shareLinks(false);_4.style(this.videoControlBar,"display","");this.totalTime.innerHTML=this.formatTime(this.player.getDuration());if(this.state&&this.state.mute){this.player.mute();}else{if(this.state&&_4.exists("vol",this.state)){this.updateVolumeDisplay(this.state.vol);this.player.setVolume(this.state.vol);}else{this.updateVolumeDisplay(this.player.getVolume());}}if(this.delayedSeekTo){this.seekToPixel(this.delayedSeekTo);this.delayedSeekTo=null;}if(_4.hasClass(this.playImage,"play-image")){_4.removeClass(this.playImage,"play-image");_4.addClass(this.playImage,"pause-image");_4.attr(this.playLink,"aria-label",this.strings.pause.label);}this.createInterval();this.fireStatEvent("start");}},shareLinks:function(_e6){if(_e6){if(!ibmweb.info.iDevice&&!this.noshare){_4.style(this.shareLinksNode,"display","");}}else{_4.style(this.shareLinksNode,"display","none");}},fireStatEvent:function(_e7){ibmweb.util.statsHelper({"ibmEV":"rich_media_service","ibmEvAction":_e7+"|"+parseInt(this.player.getCurrentTime())+" of "+this.player.getDuration()+"|"+Math.floor((parseInt(this.player.getCurrentTime())/this.player.getDuration()*100))+"%","ibmEvName":this.videoId+"|"+this.title,"ibmEvTarget":"http://www.youtube.com/watch?v="+this.videoId});},createInterval:function(){if(this.interval){clearInterval(this.interval);}this.interval=setInterval(_4.hitch(this,this.intervalTick),1000);},intervalTick:function(){this.adjustTime();},adjustTime:function(_e8){if(!this.player.getCurrentTime){return;}if(!_e8){var _e8=this.player.getCurrentTime();}if(_4.style(this.progressBarMarker,"width")=="24"){_4.style(this.progressBarMarker,"width","23px");}else{_4.style(this.progressBarMarker,"width","24px");}_4.style(this.progressBarMarker,"left","100%");this.elapsedTime.innerHTML=this.formatTime(_e8);var _e9=(_e8/this.player.getDuration())*100;_4.style(this.progressBar,"width",_e9+"%");var _ea=(this.player.getVideoLoadedFraction()*100);if(_ea>100){_ea=100;}_4.style(this.loadedBar,"width",_ea+"%");},formatTime:function(_eb){var _ec=Math.floor(_eb/3600);var _ed=Math.floor((_eb%3600)/60);if(_ed<10&&_ec>0){_ed="0"+_ed;}var _ee=Math.floor(_eb%60);if(_ee<10){_ee="0"+_ee;}var _ef="";if(_ec>0){_ef=_ec+":";}_ef=_ef+_ed+":"+_ee;return _ef;},updateVolumeDisplay:function(vol){var _f0=_4.position(this.volMarker);var _f1=_4.position(this.volBar);var _f2=(_f1.w-_f0.w)*(vol/100)+"px";_4.style(this.volMarker,"left",_f2);_4.style(this.volMarker,"display","none");this.volMarker.offsetHeight;_4.style(this.volMarker,"display","");},enableCaption:function(){this.captionState=true;var _f3=this.player.getOption("cc","tracklist");var set=false;for(var i=0;i<_f3.length;i++){if(_f3[i].kind!="asr"){this.player.setOption("cc","track",_f3[i]);return;}}if(_f3.length!=0){this.player.setOption("cc","track",_f3[0]);}},seekToPixel:function(x){if(!this.player.getDuration()){this.player.playVideo();this.delayedSeekTo=x;}clearInterval(this.interval);this.interval=null;var bar=_4.position(this.progressBarBackground);var _f4=((x-bar.x)/bar.w)*this.player.getDuration();if(_f4<0){_f4=0;}else{if(_f4>this.player.getDuration()){_f4=this.player.getDuration();}}this.player.seekTo(_f4,true);this.adjustTime(_f4);},moveLocationMarker:function(_f5){clearInterval(this.interval);this.interval=null;var bar=_4.position(this.progressBarBackground);var pos=_f5-bar.x;if(pos<0){pos=0;}if(pos>=bar.w-1){pos=bar.w;}_4.style(this.progressBarMarker,"left",pos+"px");},undoFullScreen:function(){this.fullscreen=false;_4.style(this.domNode,{"position":"","top":"","left":"","zIndex":""});this.enableScroll();_4.place(this.domNode,this.placeholder,"after");if(this.blocker){_4.body().removeChild(this.blocker);this.blocker=null;if(this.blockerConnect){_4.disconnect(this.blockerConnect);}}this.resizePlayer(this.height,this.width);_4.style(this.domNode,"width",this.width+"px");_4.style(this.fullscreenText,"display","none");this.fullscreenHeight=null;this.fullscreenWidth=null;if(this.placeholder){this.placeholder.parentNode.removeChild(this.placeholder);this.placeholder=null;}},disableScroll:function(){_4.addClass(_4.body(),"yt-video-fullscreen");if(this.meta){return;}var _f6=_4.query("meta[name=viewport]");for(var i=0;i<_f6.length;i++){_4.attr(_f6[i],"name","OrginalViewport");}this.meta=_4.create("meta",{"name":"viewport","content":"width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"});_4.query("head")[0].appendChild(this.meta);},enableScroll:function(){if(this.meta){this.meta.parentNode.removeChild(this.meta);this.meta=null;var _f7=_4.query("meta[name=OrginalViewport]");var _f8=false;for(var i=0;i<_f7.length;i++){_4.attr(_f7[i],"name","viewport");if(!_f8){var _f9=_4.attr(_f7[i],"content");_f8=_f9.indexOf("user-scalable=")!=-1;}}if(_f7.length==0||!_f8){var _fa=_4.create("meta",{"name":"viewport","content":"user-scalable=1"});_4.query("head")[0].appendChild(_fa);}}_4.removeClass(_4.query("body")[0],"yt-video-fullscreen");},goNativeFullScreen:function(_fb){if(_fb.requestFullScreen){_fb.requestFullScreen();return true;}else{if(_fb.mozRequestFullScreen){_fb.mozRequestFullScreen();return true;}else{if(_fb.webkitRequestFullScreen){_fb.webkitRequestFullScreen();return true;}else{if(_fb.webkitEnterFullscreen){_fb.webkitEnterFullscreen();}}}}return false;},undoNativeFullScreen:function(){if(document.cancelFullScreen){document.cancelFullScreen();}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}}}},clacPlayerSize:function(_fc,_fd){var _fe=(_fc)/this.height;var _ff=_fd/this.width;if(_fe<_ff){return {"h":this.height*_fe,"w":this.width*_fe};}else{return {"h":this.height*_ff,"w":this.width*_ff};}},goFullScreen:function(){this.disableScroll();var vs=_4.window.getBox();var _100=window.innerHeight;if(!_100){_100=vs.h;}var _101=window.innerWidth;if(!_101){_101=vs.w;}if(this.fullscreenHeight==_100&&this.fullscreenWidth==_101){return;}this.fullscreenHeight=_100;this.fullscreenWidth=_101;if(!this.blocker){this.blocker=_4.create("div",{"class":"yt-fullscreen-blocker"});_4.place(this.blocker,_4.body(),"first");this.blockerConnect=_4.connect(this.blocker,"ontouchstart",function(_102){_4.stopEvent(_102);});this.connections.push(this.blockerConnect);}if(ibmweb.info.iDevice){_4.style(this.blocker,{"top":vs.t+"px","left":vs.l+"px","height":_100+"px","width":_101+"px"});}else{_4.style(this.blocker,{"top":"0px","left":vs.l+"px","height":_100+"px","width":_101+"px"});}var _103=this.clacPlayerSize(_100-66,_101);this.resizePlayer(_103.h,_103.w);if(!this.fullscreen){this.placeholder=_4.create("div");_4.place(this.placeholder,this.domNode,"after");this.blocker.appendChild(this.domNode);}_4.style(this.domNode,{"position":"","top":"","left":"","zIndex":""});var pos=_4.position(this.domNode);var y=((_100-this.player.a.height-30)/2)-pos.y;var x=((_101-this.player.a.width)/2)-pos.x;if(ibmweb.info.iDevice){_4.style(this.domNode,{"position":"relative","top":y+"px","left":x+"px","zIndex":"999","width":this.player.a.width+"px"});}else{_4.style(this.domNode,{"position":"relative","top":"0px","left":x+"px","zIndex":"999","width":this.player.a.width+"px"});}if(this.showEscapeToClose()){_4.style(this.fullscreenText,"display","");var _104=_4.position(this.fullscreenText);_4.style(this.fullscreenText,{"top":this.player.a.height/3+"px","left":(this.player.a.width/2)-_104.w/2+"px"});this.hideTextInterval=setInterval(_4.hitch(this,this.hideFullScreenText),3000);}this.fullscreen=true;},showEscapeToClose:function(){if(this.fullscreen){return false;}if(this.isMobile){return false;}if(_4.isIE&&_4.isIE<9){return false;}return true;},isNativeFullscreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;},supportsNativeFullscreen:function(){if(_4.isFF&&_4.isFF<13){return false;}return this.domNode.requestFullScreen||this.domNode.mozRequestFullScreen||this.domNode.webkitRequestFullScreen||this.domNode.webkitSupportsFullscreen;},fullscreenClick:function(_105){if(this.supportsNativeFullscreen()){if(this.isNativeFullscreen()){this.undoNativeFullScreen();}else{this.goingFullscreen=true;this.goNativeFullScreen(this.domNode);}}else{if(this.fullscreen){this.undoFullScreen();}else{this.goFullScreen();}}},hideFullScreenText:function(){clearInterval(this.hideTextInterval);_4.style(this.fullscreenText,"display","none");},resizePlayer:function(_106,_107){if(!this.state){this.state={};}if(this.player.getPlayerState){this.state.playing=this.player.getPlayerState()==YT.PlayerState.PLAYING;this.state.time=this.player.getCurrentTime();this.state.mute=this.player.isMuted();}this.state.cc=this.captionState;if(_4.isFF||_4.isIE){this.player.stopVideo();clearInterval(this.interval);this.interval=null;this.ytPlayerNode.innerHTML="";this.createPlayer(_106,_107);}else{this.player.a.height=_106;this.player.a.width=_107;}},fixPlay:function(){clearInterval(this.fixPlayInterval);this.fixPlayInterval=null;if(_4.exists("state.playing",this)&&this.state.playing){this.player.playVideo();}},getYoutubeData:function(){_4.io.script.get({url:"https://gdata.youtube.com/feeds/api/videos/"+this.videoId+"?v=2&alt=json-in-script",callbackParamName:"callback",load:_4.hitch(this,function(data){var _108={"TITLE":data.entry.title.$t,"LINK":"http://youtu.be/"+this.videoId};this.title=_108.TITLE;var _109="http://www.facebook.com/sharer/sharer.php?t="+escape(_108.TITLE)+"&u="+escape(_108.LINK);_4.attr(this.shareFacebookLink,"href",_109);var _10a="mailto:?body="+escape(_4.string.substitute(this.strings["emailContent"].label,_108));_4.attr(this.shareEmailLink,"href",_10a);var _10b="https://twitter.com/intent/tweet?text="+escape(_4.string.substitute(this.strings["twitterContent"].label,_108));_4.attr(this.shareTwitterLink,"href",_10b);})});},share:function(_10c){this.player.pauseVideo();},onVolMouseUp:function(_10d){_4.stopEvent(_10d);this.onVolMouseMove(_10d);_4.forEach(this.dragConnects,_4.disconnect);this.dragConnects=null;_4.removeClass(this.volMarker,"selected");},onVolMouseMove:function(_10e){var _10f=this.player.isMuted();var pos=_4.position(this.volBar);var _110=_10e.clientX-pos.x;if(_110<0){_110=0;}else{if(_110>pos.w){_110=pos.w;}}var vol=_110/pos.w*100;this.player.setVolume(vol);this.updateVolumeDisplay(vol);if(!this.state){this.state={};}this.state["vol"]=vol;if(_10f){this.muteButtonClick();}},onVolMouseDown:function(_111){_4.stopEvent(_111);_4.addClass(this.volMarker,"selected");if(!this.dragConnects){this.dragConnects=[];}this.dragConnects.push(_4.connect(null,"onmouseup",this,this.onVolMouseUp));this.dragConnects.push(_4.connect(document,"mousemove",this,this.onVolMouseMove));},playPauseButton:function(_112){_4.stopEvent(_112);if(this.player.getPlayerState()==YT.PlayerState.PLAYING){this.player.pauseVideo();}else{this.player.playVideo();}},muteButtonClick:function(_113){if(_113){_4.stopEvent(_113);}_4.toggleClass(this.muteIcon,"speaker-image");_4.toggleClass(this.muteIcon,"mute-image");_4.toggleClass(this.soundContainer,"mute");if(this.player.isMuted()){this.player.unMute();if(_4.exists("state.mute",this)){this.state.mute=false;}this.updateVolumeDisplay(this.state.vol);this.player.setVolume(this.state.vol);}else{this.state.mute=true;this.state.vol=this.player.getVolume();this.player.mute();}},captionClick:function(_114){_4.stopEvent(_114);if(this.captionState){this.captionState=false;this.player.setOption("cc","track",{});}else{this.enableCaption();}},locationMarkerDown:function(_115){_4.stopEvent(_115);this.mouseDown=true;if(!this.dragConnects){this.dragConnects=[];}this.dragConnects.push(_4.connect(null,"onmouseup",this,this.mouseUp));this.dragConnects.push(_4.connect(document,"mousemove",this,this.mouseMove));},mouseUp:function(_116){if(!this.mouseDown){return;}this.mouseDown=false;this.seekToPixel(_116.clientX);_4.forEach(this.dragConnects,_4.disconnect);this.dragConnects=null;},mouseMove:function(_117){if(!this.mouseDown){return;}clearInterval(this.interval);this.moveLocationMarker(_117.clientX);},_ESCAPE_KEY:27,keyDown:function(_118){if(_118.keyCode==this._ESCAPE_KEY&&this.fullscreen){_4.stopEvent(_118);this.undoFullScreen();}},resize:function(_119){if(this.fullscreen&&!this.supportsNativeFullscreen()){_4.stopEvent(_119);this.goFullScreen();}},scroll:function(_11a){if(this.fullscreen){_4.stopEvent(_11a);this.goFullScreen();}},progressClick:function(_11b){this.moveLocationMarker(_11b.clientX);this.seekToPixel(_11b.clientX);},touchmove:function(_11c){if(this.fullscreen){_4.stopEvent(_11c);}},fsEvent:function(_11d){if(!this.isNativeFullscreen()&&this.fullscreen){this.resizePlayer(this.height,this.width);_4.style(this.domNode,"width",this.width+"px");this.fullscreen=false;}else{if(this.goingFullscreen){var vs=_4.window.getBox();if(_4.isFF){_4.style(this.videoControlBar,"display","none");}var bar=_4.position(this.videoControlBar);var size=this.clacPlayerSize(vs.h-bar.h,vs.w);this.resizePlayer(size.h,size.w);_4.style(this.domNode,"width",size.w+"px");this.fullscreen=true;this.goingFullscreen=false;}}},closeOverlay:function(){this.stop();this.destroy();},destroy:function(){_4.forEach(this.connections,_4.disconnect);if(this.fullscreen){this.undoFullScreen();}if(this.domNode){_4.destroy(this.domNode);}}});}if(!_4._hasResource["ibmweb.video"]){_4._hasResource["ibmweb.video"]=true;_4.provide("ibmweb.video");var _11e=function(url){url=_4.moduleUrl("ibmweb",url).toString();if(url.indexOf("//")===0){url=location.protocol+url;}return url;};var _11f={"flowplayer":_11e("flowplayer/flowplayer.commercial-3.2.9.swf"),"controls":_11e("flowplayer/flowplayer.controls-3.2.9.swf"),"youtube":_11e("flowplayer/flowplayer-yt324.youtube-3.2.4.swf"),"content":_11e("flowplayer/flowplayer.content-3.2.0.swf"),"captions":_11e("flowplayer/flowplayer.captions-3.2.3.swf"),"rtmp":_11e("flowplayer/flowplayer.rtmp-3.2.3.swf"),"akamai":_11e("flowplayer/flowplayer.akamai-3.2.0.swf"),"share":_11e("flowplayer/flowplayer.sharing-3.2.8.swf"),"lighttpd":_11e("flowplayer/flowplayer.pseudostreaming-3.2.12.swf")};_4.declare("ibmweb.video",[_5._Widget,_5._Templated],{youtubeImageUrl:"http://img.youtube.com/vi/${apikey}/0.jpg",youtubeEmbedUrl:"http://www.youtube.com/embed/${apikey}",youtubeUrl:"http://www.youtube.com/watch?v=${apikey}",title:"",description:"",datePosted:"",duration:"",height:"",width:"",videoid:"",isVideo:true,thumbnails:"",url:"",format:"",alwaysFullScreen:false,captionurl:"",showcaptions:false,Player:null,playButton:null,playButtonEvents:[],skins:{},_skins:{content:{url:_11f.flowplayer,display:"none",bottom:50,width:"80%",height:40,backgroundColor:"transparent",backgroundGradient:"none",border:0,textDecoration:"outline",style:{"body":{fontSize:"14",fontFamily:"Arial",textAlign:"center",color:"#FFFFFF"}}},controls:{url:_11f.controls,autoHide:false,volumeSliderColor:"#000000",sliderGradient:"none",bufferColor:"#000000",progressColor:"#EEEEEE",progressGradient:"none",sliderColor:"#999999",bufferGradient:"none",tooltipTextColor:"#333333",tooltipColor:"#CCCCCC",backgroundGradient:"low",volumeSliderGradient:"none",timeBgColor:"#000000",durationColor:"#FFFFFF",timeColor:"#FFFFFF",buttonColor:"#666666",buttonOverColor:"#FFFFFF",backgroundColor:"#000000",borderRadius:"0",height:24,opacity:0.8}},clip:{},_clip:{autoPlay:false,autoBuffering:false,scaling:"scale",accelerated:true,onBeforeBegin:function(clip){if(ibmweb.info.iDevice&&clip.provider=="youtube"){location.href=clip.url;return false;}return true;},onStart:function(clip){ibmweb.util.statsHelper({"ibmEV":"rich_media_service","ibmEvAction":"start","ibmEvModule":clip._tracking.format,"ibmEvName":clip._tracking.id+"|"+clip._tracking.title,"ibmEvTarget":(clip.provider=="youtube"?"http://www.youtube.com/watch?v="+clip.url:clip.url)});},onPause:function(clip){ibmweb.util.statsHelper({"ibmEV":"rich_media_service","ibmEvAction":"pause|"+parseInt(this.Player.getTime())+" of "+clip.duration+"|"+Math.floor((parseInt(this.Player.getTime())/clip.duration*100))+"%","ibmEvModule":clip._tracking.format,"ibmEvName":clip._tracking.id+"|"+clip._tracking.title,"ibmEvTarget":(clip.provider=="youtube"?"http://www.youtube.com/watch?v="+clip.url:clip.url)});},onStop:function(clip){ibmweb.util.statsHelper({"ibmEV":"rich_media_service","ibmEvAction":"stop","ibmEvModule":clip._tracking.format,"ibmEvName":clip._tracking.id+"|"+clip._tracking.title,"ibmEvTarget":(clip.provider=="youtube"?"http://www.youtube.com/watch?v="+clip.url:clip.url)});},onFinish:function(clip){ibmweb.util.statsHelper({"ibmEV":"rich_media_service","ibmEvAction":"finish","ibmEvModule":clip._tracking.format,"ibmEvName":clip._tracking.id+"|"+clip._tracking.title,"ibmEvTarget":(clip.provider=="youtube"?"http://www.youtube.com/watch?v="+clip.url:clip.url)});}},playlist:{},templateString:_4.cache("ibmweb","templates/Video.html","<div dojoAttachPoint=\"videoLinkHolder\">\n\t<div dojoAttachPoint=\"videoLinkNode\"></div>\n</div>\n"),attributeMap:{},postMixInProperties:function(){this.controls=_4.mixin({},this._controls,this.controls);this.skins=_4.mixin({},this._skins,this.skins);this.clip=_4.mixin({},this._clip,this.clip,{"_tracking":{"format":this.format,"id":this.videoid,"title":this.title.replace(/'/g,"\"").replace(/&/g,"and")}});this.clip.onStart=_4.hitch(this,this.clip.onStart);this.clip.onPause=_4.hitch(this,this.clip.onPause);this.clip.onStop=_4.hitch(this,this.clip.onStop);this.clip.onFinish=_4.hitch(this,this.clip.onFinish);},useNewYTPlayer:function(){if(this.type!="youtube"){return false;}var _120=_4.query("meta[name=__RMSBETA]");var _121=false;if(_120&&_120.length>0&&_4.attr(_120[0],"value")=="newYT"){_121=true;}var _122=/[&?]rmsbeta=newyt/.test(document.location.search);if(_4.cookie("__RMSBETA")=="newYT"||_121||_122){if(_4.isIE){return _4.isIE>8;}return true;}return false;},postCreate:function(){_4.attr(this.videoLinkNode,{id:this.id+"_v",href:this.getUrl()});var hack="none";if(_4.isWebKit){hack="-webkit-gradient(linear, left top, left bottom, from(#191919), to(#404040))";}else{if(_4.isFF){hack="-moz-linear-gradient(center top , #191919, #404040) no-repeat scroll center top transparent";}}_4.style(this.videoLinkNode,{display:"block",width:this._formatPixels(this.width),height:this._formatPixels(this.height),background:hack,backgroundPosition:"center top",backgroundRepeat:"no-repeat",backgroundImage:"none",overflow:"hidden",backgroundColor:"#404040"});_4.style(this.videoLinkHolder,{width:this._formatPixels(this.width),margin:"0 auto"});if(this.type=="youtube"&&this.useNewYTPlayer()){return;}var _123=null;var _124={};if(this.htmlBackground){_123=this.htmlBackground;}else{if(this.thumbnails.large&&this.thumbnails.large!=""){_123=this.thumbnails.large;}}if(this.type=="youtube"&&!_123){var _125=this.url.youtube;if(_125.indexOf("api:")===0){_125=_125.substring(4);}else{if(_125.indexOf("?v=")!==-1){_125=_125.substring(_125.indexOf("?v=")+3);_125=_125.split("&")[0];}else{_125=null;}}if(_125){_123=_4.string.substitute(this.youtubeImageUrl,{apikey:_125});_124={width:(this.height*1.33)+"px"};}}if(this.format=="inline_large"){_4.mixin(_124,{height:"332px"});}if(_4.isString(this.showcaptions)){this.showcaptions=this.showcaptions.toLowerCase()=="true";}var img=_4.create("img",{className:"ibm-video-background",src:_123,style:_124},this.videoLinkNode);if(_4.isIE){if(typeof _124.width!=="undefined"){_4.attr(img,{width:_124.width,height:this.height+"px"});}if(typeof _124.height!=="undefined"){_4.attr(img,{height:_124.height,width:this.width+"px"});}}this.clip.autoPlay=true;this.playButton=_4.create("span",{className:"ibm-video-play"},this.videoLinkNode);_4.attr(this.videoLinkHolder,{role:"region",tabIndex:"0"});var _126=this;_4.connect(this.clip,"onStart",null,function(){_4.style(_126.videoLinkNode,{backgroundImage:""});});_4.connect(this.clip,"onBeforeBegin",null,function(){_126.changePlayButton("repair");});},getUrl:function(){var url=this.url;if(this.type=="youtube"){url=url.youtube;if(ibmweb.info.iDevice){return url;}if(url.indexOf("api:")===0){return url;}if(url.indexOf("?v=")!==-1){return "api:"+url.substring(url.indexOf("?v=")+3);}return null;}if(!_4.isString(url)){if(ibmweb.info.iDevice){url=url.mp4||url.flv;}else{url=url.flv||url.mp4;}}if(url.indexOf("rtmp://")===0){this.type="rtmp";}if(!url){return null;}if(url.indexOf("//")===0){url=location.protocol+url;}return url;},_getClip:function(){var clip=_4.clone(this.clip);if(this.type=="youtube"){clip.provider="youtube";clip.urlResolvers="youtube";}else{if(this.type=="rtmp"){clip.provider="rtmp",clip.urlResolvers=null;}else{clip.provider="http";clip.urlResolvers=null;}}if(ibmweb.info.iDevice){clip.autoPlay=true;}if(this.captionurl.length){clip.captionUrl=this.captionurl;}return clip;},_formatPixels:function(val){val=val+"";return val+(val.indexOf("px")==-1?"px":"");},startup:function(){if(this.Player){return false;}if(this.type=="youtube"&&this.useNewYTPlayer()){var _127=new RegExp(".*v=([^&]*)");var _128={"videoId":_127.exec(this.url.youtube)[1]};_128["height"]=this.height-23;_128["width"]=this.width;_128["alwaysFullScreen"]=this.alwaysFullScreen;if(_4.exists("noshare",this)){_128["noshare"]=this.noshare;}this.Player=new ext.media.yt.ytvideo(_128);this.Player.placeAt(_4.byId(this.id+"_v"));this.Player.startup();return;}this.changePlayButton("init");var _129=this.skins.controls;var args={key:"#$3d33063da7256c01cab",clip:this._getClip(),plugins:{content:this.skins.content,controls:_129,youtube:{url:_11f.youtube}},playlist:[{}]};if(this.captionurl.length){args.plugins.captions={url:_11f.captions,captionTarget:"captionContent",button:{bottom:58,zIndex:100}};args.plugins.captionContent={url:_11f.content,bottom:25,width:"100%",height:40,backgroundColor:"#000000",backgroundGradient:"low",borderRadius:4,border:0,style:{"body":{fontSize:"14",fontFamily:"Arial",textAlign:"center",color:"#FFFFFF"}}};if(!this.showcaptions){args.plugins.captionContent.display="none";}}if(this.type=="rtmp"){if(this.getUrl().indexOf("edgefcs.net")>-1){args.plugins.akamai={url:_11f.akamai};args.plugins.rtmp={url:_11f.rtmp};args.clip={provider:"rtmp"};args.plugins.content=null;}else{var _12a=this.getUrl().split("?url=");if(_12a.length!=2){return;}args.plugins.rtmp={url:_11f.rtmp,netConnectionUrl:_12a[0]};args.clip.url=_12a[1];}}if(this.type=="youtube"&&!this.noshare){var _127=new RegExp(".*v=([^&]*)");var _12b="";if(this.title.length>0){_12b=this.title;}var _12c="Video: ";args.clip.pageUrl="http://youtu.be/"+_127.exec(this.url.youtube)[1];args.plugins.sharing={"url":_11f.share,"embed":false,"email":{"template":_12c+_12b+"\r\n {1}\r\n","subject":""},"buttons":{"color":"#006699","overColor":"#006699"},"twitter":{"shareWindow":"_blank","description":_12c+_12b+" #ibm"},"facebook":{"shareWindow":"_blank","description":_12c+_12b}};}if(args.clip.provider!="youtube"&&args.clip.provider!="rtmp"){args.plugins.lighttpd={"url":_11f.lighttpd};args.clip.provider="lighttpd";}this.Player=flowplayer(this.id+"_v",{src:_11f.flowplayer,wmode:"transparent"},args).ipad();},changePlayButton:function(_12d){if(_12d=="init"&&this.format!="inline_small"){return;}var _12e=this,elm,_12f,con,col,_130=function(plB,_131){var _132=false,dim=(_4.isIE==6)?150:140,_133="-9px -900px",_134="-6px -600px",fB="progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"/i/v17/video-play-button-large.png\",sizingMethod=\"crop\")",fBh="progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"/i/v17/video-play-button-large-hover.png\",sizingMethod=\"crop\")";if(_4.hasClass(col[0],"ibm-col-6-1")||_4.hasClass(col[0],"ibm-col-5-1")){_4.destroy(_4.query(plB)[0]);return;}if(_4.hasClass(col[0],"ibm-col-6-2")||_4.hasClass(col[0],"ibm-col-5-2")){_132=true;dim=(_4.isIE==6)?90:60;_133="-14px -360px";_134="-14px -210px";fB="progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"/i/v17/video-play-button-medium.png\",sizingMethod=\"crop\")";fBh="progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"/i/v17/video-play-button-medium-hover.png\",sizingMethod=\"crop\")";}if(_4.isIE<8){var _135=_4.style(_131,"position");if(_135!=="absolute"){_4.style(_131,"position","relative");}_4.style(plB,"marginTop","0px");}_4.style(plB,{position:"absolute",top:((_12f.h-dim)/2)+"px",left:((_12f.w-dim)/2)+"px",width:dim+"px",height:dim+"px"});if(_4.isIE==6){_4.style(plB,{background:"",filter:fB,cursor:"pointer"});}if(_132&&_4.isIE!==6){_4.style(plB,"backgroundPosition",_134);}_12e.playButtonEvents.push(_4.connect(_131,"onmouseenter",function(item){if(_4.isIE==6){_4.style(plB,"filter",fBh);}else{_4.style(plB,"backgroundPosition",_133);}}));_12e.playButtonEvents.push(_4.connect(_131,"onmouseleave",function(item){if(_4.isIE==6){_4.style(plB,"filter",fB);}else{_4.style(plB,"backgroundPosition",_134);}}));};if(_12d=="init"){elm=_4.query(this.videoLinkNode);_12f=_4.position(this.videoLinkNode);con=elm.closest(".ibm-video-container");col=elm.closest("[class*='ibm-col-']");if(col.length!=1){col=elm.closest(".ibm-columns");}if(col.length!=1){return;}_130(this.playButton,this.videoLinkNode);}else{if(_12d=="repair"){_4.forEach(this.playButtonEvents,_4.disconnect);this.playButtonEvents=[];_4.forEach(_4.query(".ibm-video-play"),function(_136){elm=_4.query(_136).closest("div[id^=ibmweb_video_]");if(elm.length!==1){return;}var dElm=_5.getEnclosingWidget(elm[0]);if(dElm){if(dElm.format!="inline_small"){return;}_12f=_4.position(elm[0]);con=elm.closest(".ibm-video-container");col=elm.closest("[class*='ibm-col-']");if(col.length!=1){col=elm.closest(".ibm-columns");}if(col.length!=1){return;}_130(_136,elm[0]);}});}}},playNewVideo:function(item){if(this.useNewYTPlayer()){var _137=/.*www.youtube.com\/watch?.*v=([^&]*)/.exec(item.url.youtube);if(_137&&_137[1]){this.Player.playNewVideo(_137[1]);}else{this.Player.playNewVideo(item.videoid);}return this;}_4.mixin(this,item);var clip=this._getClip();clip.url=this.getUrl();clip.scaling="scale";clip.accelerated=true;this.Player.play(clip);return this;},stopAll:function(){flowplayer("*").each(function(){if(this.isPlaying()){this.stop();}});return this;},unload:function(){this.Player.unload();return this;},play:function(){this.Player.play();return this;},stop:function(){this.autoPlay=false;this.Player.stop();return this;}});(function(){function g(o){};function k(q){if(!q||typeof q!="object"){return q;}var o=new q.constructor();for(var p in q){if(q.hasOwnProperty(p)){o[p]=k(q[p]);}}return o;};function m(t,q){if(!t){return;}var o,p=0,r=t.length;if(r===undefined){for(o in t){if(q.call(t[o],o,t[o])===false){break;}}}else{for(var s=t[0];p<r&&q.call(s,p,s)!==false;s=t[++p]){}}return t;};function c(o){return document.getElementById(o);};function i(q,p,o){if(typeof p!="object"){return q;}if(q&&p){m(p,function(r,s){if(!o||typeof s!="function"){q[r]=s;}});}return q;};function n(s){var q=s.indexOf(".");if(q!=-1){var p=s.slice(0,q)||"*";var o=s.slice(q+1,s.length);var r=[];m(document.getElementsByTagName(p),function(){if(this.className&&this.className.indexOf(o)!=-1){r.push(this);}});return r;}};function f(o){o=o||window.event;if(o.preventDefault){o.stopPropagation();o.preventDefault();}else{o.returnValue=false;o.cancelBubble=true;}return false;};function j(q,o,p){q[o]=q[o]||[];q[o].push(p);};function e(){return "_"+(""+Math.random()).slice(2,10);};var h=function(t,r,s){var q=this,p={},u={};q.index=r;if(typeof t=="string"){t={url:t};}i(this,t,true);m(("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop").split(","),function(){var v="on"+this;if(v.indexOf("*")!=-1){v=v.slice(0,v.length-1);var w="onBefore"+v.slice(2);q[w]=function(x){j(u,w,x);return q;};}q[v]=function(x){j(u,v,x);return q;};if(r==-1){if(q[w]){s[w]=q[w];}if(q[v]){s[v]=q[v];}}});i(this,{onCuepoint:function(x,w){if(arguments.length==1){p.embedded=[null,x];return q;}if(typeof x=="number"){x=[x];}var v=e();p[v]=[x,w];if(s.isLoaded()){s._api().fp_addCuepoints(x,r,v);}return q;},update:function(w){i(q,w);if(s.isLoaded()){s._api().fp_updateClip(w,r);}var v=s.getConfig();var x=(r==-1)?v.clip:v.playlist[r];i(x,w,true);},_fireEvent:function(v,y,w,A){if(v=="onLoad"){m(p,function(B,C){if(C[0]){s._api().fp_addCuepoints(C[0],r,B);}});return false;}A=A||q;if(v=="onCuepoint"){var z=p[y];if(z){return z[1].call(s,A,w);}}if(y&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(v)!=-1){i(A,y);if(y.metaData){if(!A.duration){A.duration=y.metaData.duration;}else{A.fullDuration=y.metaData.duration;}}}var x=true;m(u[v],function(){x=this.call(s,A,y,w);});return x;}});if(t.onCuepoint){var o=t.onCuepoint;q.onCuepoint.apply(q,typeof o=="function"?[o]:o);delete t.onCuepoint;}m(t,function(v,w){if(typeof w=="function"){j(u,v,w);delete t[v];}});if(r==-1){s.onCuepoint=this.onCuepoint;}};var l=function(p,r,q,t){var o=this,s={},u=false;if(t){i(s,t);}m(r,function(v,w){if(typeof w=="function"){s[v]=w;delete r[v];}});i(this,{animate:function(y,z,x){if(!y){return o;}if(typeof z=="function"){x=z;z=500;}if(typeof y=="string"){var w=y;y={};y[w]=z;z=500;}if(x){var v=e();s[v]=x;}if(z===undefined){z=500;}r=q._api().fp_animate(p,y,z,v);return o;},css:function(w,x){if(x!==undefined){var v={};v[w]=x;w=v;}r=q._api().fp_css(p,w);i(o,r);return o;},show:function(){this.display="block";q._api().fp_showPlugin(p);return o;},hide:function(){this.display="none";q._api().fp_hidePlugin(p);return o;},toggle:function(){this.display=q._api().fp_togglePlugin(p);return o;},fadeTo:function(y,x,w){if(typeof x=="function"){w=x;x=500;}if(w){var v=e();s[v]=w;}this.display=q._api().fp_fadeTo(p,y,x,v);this.opacity=y;return o;},fadeIn:function(w,v){return o.fadeTo(1,w,v);},fadeOut:function(w,v){return o.fadeTo(0,w,v);},getName:function(){return p;},getPlayer:function(){return q;},_fireEvent:function(w,v,x){if(w=="onUpdate"){var z=q._api().fp_getPlugin(p);if(!z){return;}i(o,z);delete o.methods;if(!u){m(z.methods,function(){var B=""+this;o[B]=function(){var C=[].slice.call(arguments);var D=q._api().fp_invoke(p,B,C);return D==="undefined"||D===undefined?o:D;};});u=true;}}var A=s[w];if(A){var y=A.apply(o,v);if(w.slice(0,1)=="_"){delete s[w];}return y;}return o;}});};function b(q,G,t){var w=this,v=null,D=false,u,s,F=[],y={},x={},E,r,p,C,o,A;i(w,{id:function(){return E;},isLoaded:function(){return (v!==null&&v.fp_play!==undefined&&!D);},getParent:function(){return q;},hide:function(H){if(H){q.style.height="0px";}if(w.isLoaded()){v.style.height="0px";}return w;},show:function(){q.style.height=A+"px";if(w.isLoaded()){v.style.height=o+"px";}return w;},isHidden:function(){return w.isLoaded()&&parseInt(v.style.height,10)===0;},load:function(J){if(!w.isLoaded()&&w._fireEvent("onBeforeLoad")!==false){var H=function(){if(u&&!flashembed.isSupported(G.version)){q.innerHTML="";}if(J){J.cached=true;j(x,"onLoad",J);}flashembed(q,G,{config:t});};var I=0;m(a,function(){this.unload(function(K){if(++I==a.length){H();}});});}return w;},unload:function(J){if(u.replace(/\s/g,"")!==""){if(w._fireEvent("onBeforeUnload")===false){if(J){J(false);}return w;}D=true;try{if(v){v.fp_close();w._fireEvent("onUnload");}}catch(H){}var I=function(){v=null;q.innerHTML=u;D=false;if(J){J(true);}};if(/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)){setTimeout(I,0);}else{I();}}else{if(J){J(false);}}return w;},getClip:function(H){if(H===undefined){H=C;}return F[H];},getCommonClip:function(){return s;},getPlaylist:function(){return F;},getPlugin:function(H){var J=y[H];if(!J&&w.isLoaded()){var I=w._api().fp_getPlugin(H);if(I){J=new l(H,I,w);y[H]=J;}}return J;},getScreen:function(){return w.getPlugin("screen");},getControls:function(){return w.getPlugin("controls")._fireEvent("onUpdate");},getLogo:function(){try{return w.getPlugin("logo")._fireEvent("onUpdate");}catch(H){}},getPlay:function(){return w.getPlugin("play")._fireEvent("onUpdate");},getConfig:function(H){return H?k(t):t;},getFlashParams:function(){return G;},loadPlugin:function(K,J,M,L){if(typeof M=="function"){L=M;M={};}var I=L?e():"_";w._api().fp_loadPlugin(K,J,M,I);var H={};H[I]=L;var N=new l(K,null,w,H);y[K]=N;return N;},getState:function(){return w.isLoaded()?v.fp_getState():-1;},play:function(I,H){var J=function(){if(I!==undefined){w._api().fp_play(I,H);}else{w._api().fp_play();}};if(w.isLoaded()){J();}else{if(D){setTimeout(function(){w.play(I,H);},50);}else{w.load(function(){J();});}}return w;},getVersion:function(){var I="flowplayer.js 3.2.8";if(w.isLoaded()){var H=v.fp_getVersion();H.push(I);return H;}return I;},_api:function(){if(!w.isLoaded()){throw "Flowplayer "+w.id()+" not loaded when calling an API method";}return v;},setClip:function(H){m(H,function(I,J){if(typeof J=="function"){j(x,I,J);delete H[I];}else{if(I=="onCuepoint"){$f(q).getCommonClip().onCuepoint(H[I][0],H[I][1]);}}});w.setPlaylist([H]);return w;},getIndex:function(){return p;},bufferAnimate:function(H){v.fp_bufferAnimate(H===undefined||H);return w;},_swfHeight:function(){return v.clientHeight;}});m(("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut").split(","),function(){var H="on"+this;if(H.indexOf("*")!=-1){H=H.slice(0,H.length-1);var I="onBefore"+H.slice(2);w[I]=function(J){j(x,I,J);return w;};}w[H]=function(J){j(x,H,J);return w;};});m(("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled").split(","),function(){var H=this;w[H]=function(J,I){if(!w.isLoaded()){return w;}var K=null;if(J!==undefined&&I!==undefined){K=v["fp_"+H](J,I);}else{K=(J===undefined)?v["fp_"+H]():v["fp_"+H](J);}return K==="undefined"||K===undefined?w:K;};});w._fireEvent=function(Q){if(typeof Q=="string"){Q=[Q];}var R=Q[0],O=Q[1],M=Q[2],L=Q[3],K=0;if(t.debug){g(Q);}if(!w.isLoaded()&&R=="onLoad"&&O=="player"){v=v||c(r);o=w._swfHeight();m(F,function(){this._fireEvent("onLoad");});m(y,function(S,T){T._fireEvent("onUpdate");});s._fireEvent("onLoad");}if(R=="onLoad"&&O!="player"){return;}if(R=="onError"){if(typeof O=="string"||(typeof O=="number"&&typeof M=="number")){O=M;M=L;}}if(R=="onContextMenu"){m(t.contextMenu[O],function(S,T){T.call(w);});return;}if(R=="onPluginEvent"||R=="onBeforePluginEvent"){var H=O.name||O;var I=y[H];if(I){I._fireEvent("onUpdate",O);return I._fireEvent(M,Q.slice(3));}return;}if(R=="onPlaylistReplace"){F=[];var N=0;m(O,function(){F.push(new h(this,N++,w));});}if(R=="onClipAdd"){if(O.isInStream){return;}O=new h(O,M,w);F.splice(M,0,O);for(K=M+1;K<F.length;K++){F[K].index++;}}var P=true;if(typeof O=="number"&&O<F.length){C=O;var J=F[O];if(J){P=J._fireEvent(R,M,L);}if(!J||P!==false){P=s._fireEvent(R,M,L,J);}}m(x[R],function(){P=this.call(w,O,M);if(this.cached){x[R].splice(K,1);}if(P===false){return false;}K++;});return P;};function B(){if($f(q)){$f(q).getParent().innerHTML="";p=$f(q).getIndex();a[p]=w;}else{a.push(w);p=a.length-1;}A=parseInt(q.style.height,10)||q.clientHeight;E=q.id||"fp"+e();r=G.id||E+"_api";G.id=r;u=q.innerHTML;if(typeof t=="string"){t={clip:{url:t}};}t.playerId=E;t.clip=t.clip||{};if(q.getAttribute("href",2)&&!t.clip.url){t.clip.url=q.getAttribute("href",2);}s=new h(t.clip,-1,w);t.playlist=t.playlist||[t.clip];var I=0;m(t.playlist,function(){var L=this;if(typeof L=="object"&&L.length){L={url:""+L};}m(t.clip,function(M,N){if(N!==undefined&&L[M]===undefined&&typeof N!="function"){L[M]=N;}});t.playlist[I]=L;L=new h(L,I,w);F.push(L);I++;});m(t,function(L,M){if(typeof M=="function"){if(s[L]){s[L](M);}else{j(x,L,M);}delete t[L];}});m(t.plugins,function(L,M){if(M){y[L]=new l(L,M,w);}});if(!t.plugins||t.plugins.controls===undefined){y.controls=new l("controls",null,w);}y.canvas=new l("canvas",null,w);u=q.innerHTML;function K(L){if(/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(F[0].url)&&!J()){return true;}if(!w.isLoaded()&&w._fireEvent("onBeforeClick")!==false){w.load();}return f(L);};function J(){return w.hasiPadSupport&&w.hasiPadSupport();};function H(){if(u.replace(/\s/g,"")!==""){if(q.addEventListener){q.addEventListener("click",K,false);}else{if(q.attachEvent){q.attachEvent("onclick",K);}}}else{if(q.addEventListener&&!J()){q.addEventListener("click",f,false);}w.load();}};setTimeout(H,0);};if(typeof q=="string"){var z=c(q);if(!z){throw "Flowplayer cannot access element: "+q;}q=z;B();}else{B();}};var a=[];function d(o){this.length=o.length;this.each=function(q){m(o,q);};this.size=function(){return o.length;};var p=this;for(name in b.prototype){p[name]=function(){var q=arguments;p.each(function(){this[name].apply(this,q);});};}};window.flowplayer=window.$f=function(){var p=null;var o=arguments[0];if(!arguments.length){m(a,function(){if(this.isLoaded()){p=this;return false;}});return p||a[0];}if(arguments.length==1){if(typeof o=="number"){return a[o];}else{if(o=="*"){return new d(a);}m(a,function(){if(this.id()==o.id||this.id()==o||this.getParent()==o){p=this;return false;}});return p;}}if(arguments.length>1){var t=arguments[1],q=(arguments.length==3)?arguments[2]:{};if(typeof t=="string"){t={src:t};}t=i({bgcolor:"#000000",version:[9,0],expressInstall:"http://static.flowplayer.org/swf/expressinstall.swf",cachebusting:false},t);if(typeof o=="string"){if(o.indexOf(".")!=-1){var s=[];m(n(o),function(){s.push(new b(this,k(t),k(q)));});return new d(s);}else{var r=c(o);return new b(r!==null?r:k(o),k(t),k(q));}}else{if(o){return new b(o,k(t),k(q));}}}return null;};i(window.$f,{fireEvent:function(){var o=[].slice.call(arguments);var q=$f(o[0]);return q?q._fireEvent(o.slice(1)):null;},addPlugin:function(o,p){b.prototype[o]=p;return $f;},each:m,extend:i});if(typeof jQuery=="function"){jQuery.fn.flowplayer=function(q,p){if(!arguments.length||typeof arguments[0]=="number"){var o=[];this.each(function(){var r=$f(this);if(r){o.push(r);}});return arguments.length?o[arguments[0]]:new d(o);}return this.each(function(){$f(this,k(q),p?k(p):{});});};}})();(function(){var h=document.all,j="http://www.adobe.com/go/getflashplayer",c=typeof jQuery=="function",e=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,b={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};});}function i(m,l){if(l){for(var f in l){if(l.hasOwnProperty(f)){m[f]=l[f];}}}return m;};function a(f,n){var m=[];for(var l in f){if(f.hasOwnProperty(l)){m[l]=n(f[l]);}}return m;};window.flashembed=function(f,m,l){if(typeof f=="string"){f=document.getElementById(f.replace("#",""));}if(!f){return;}if(typeof m=="string"){m={src:m};}return new d(f,i(i({},b),m),l);};var g=i(window.flashembed,{conf:b,getVersion:function(){var m,f;try{f=navigator.plugins["Shockwave Flash"].description.slice(16);}catch(o){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");f=m&&m.GetVariable("$version");}catch(n){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=m&&m.GetVariable("$version");}catch(l){}}}f=e.exec(f);return f?[f[1],f[3]]:[0,0];},asString:function(l){if(l===null||l===undefined){return null;}var f=typeof l;if(f=="object"&&l.push){f="array";}switch(f){case "string":l=l.replace(new RegExp("([\"\\\\])","g"),"\\$1");l=l.replace(/^\s?(\d+\.?\d*)%/,"$1pct");l=l.replace(/(%)/g,"%25").replace(/'/g,"\\u0027").replace(/"/g,"\\u0022").replace(/&/g,"%26");return "\""+l+"\"";case "array":return "["+a(l,function(o){return g.asString(o);}).join(",")+"]";case "function":return "\"function()\"";case "object":var m=[];for(var n in l){if(l.hasOwnProperty(n)){m.push("\""+n+"\":"+g.asString(l[n]));}}return "{"+m.join(",")+"}";}return String(l).replace(/\s/g," ").replace(/\'/g,"\"");},getHTML:function(o,l){o=i({},o);var n="<object width=\""+o.width+"\" height=\""+o.height+"\" id=\""+o.id+"\" name=\""+o.id+"\"";if(o.cachebusting){o.src+=((o.src.indexOf("?")!=-1?"&":"?")+Math.random());}if(o.w3c||!h){n+=" data=\""+o.src+"\" type=\"application/x-shockwave-flash\"";}else{n+=" classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"";}n+=">";if(o.w3c||h){n+="<param name=\"movie\" value=\""+o.src+"\" />";}o.width=o.height=o.id=o.w3c=o.src=null;o.onFail=o.version=o.expressInstall=null;for(var m in o){if(o[m]){n+="<param name=\""+m+"\" value=\""+o[m]+"\" />";}}var p="";if(l){for(var f in l){if(l[f]){var q=l[f];p+=f+"="+(/function|object/.test(typeof q)?g.asString(q):q)+"&";}}p=p.slice(0,-1);n+="<param name=\"flashvars\" value='"+p+"' />";}n+="</object>";return n;},isSupported:function(f){return k[0]>f[0]||k[0]==f[0]&&k[1]>=f[1];}});var k=g.getVersion();function d(f,n,m){if(g.isSupported(n.version)){f.innerHTML=g.getHTML(n,m);}else{if(n.expressInstall&&g.isSupported([6,65])){f.innerHTML=g.getHTML(i(n,{src:n.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title});}else{if(!f.innerHTML.replace(/\s/g,"")){f.innerHTML="<h2>Flash version "+n.version+" or greater is required</h2><h3>"+(k[0]>0?"Your version is "+k:"You have no flash plugin installed")+"</h3>"+(f.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+j+"'>here</a></p>");if(f.tagName=="A"){f.onclick=function(){location.href=j;};}}if(n.onFail){var l=n.onFail.call(this);if(typeof l=="string"){f.innerHTML=l;}}}}if(h){window[n.id]=document.getElementById(n.id);}i(this,{getRoot:function(){return f;},getOptions:function(){return n;},getConf:function(){return m;},getApi:function(){return f.firstChild;}});};if(c){jQuery.tools=jQuery.tools||{version:"3.2.8"};jQuery.tools.flashembed={conf:b};jQuery.fn.flashembed=function(l,f){return this.each(function(){$(this).data("flashembed",flashembed(this,l,f));});};}})();$f.addPlugin("ipad",function(_138){var _139=-1;var _13a=0;var _13b=1;var _13c=2;var _13d=3;var _13e=4;var _13f=5;var self=this;var _140=1;var _141=false;var _142=false;var _143=false;var _144=0;var _145=[];var _146;var _147=null;var _148=0;var _149={accelerated:false,autoBuffering:false,autoPlay:true,baseUrl:null,bufferLength:3,connectionProvider:null,cuepointMultiplier:1000,cuepoints:[],controls:{},duration:0,extension:"",fadeInSpeed:1000,fadeOutSpeed:1000,image:false,linkUrl:null,linkWindow:"_self",live:false,metaData:{},originalUrl:null,position:0,playlist:[],provider:"http",scaling:"scale",seekableOnBegin:false,start:0,url:null,urlResolvers:[]};var _14a=_139;var _14b=_139;var _14c=/iPad|iPhone|iPod/i.test(navigator.userAgent);var _14d=null;function _14e(to,from,_14f){if(from){for(key in from){if(key){if(from[key]&&typeof from[key]=="function"&&!_14f){continue;}if(from[key]&&typeof from[key]=="object"&&from[key].length===undefined){var cp={};_14e(cp,from[key]);to[key]=cp;}else{to[key]=from[key];}}}}return to;};var opts={simulateiDevice:false,controlsSizeRatio:1.5,controls:true,debug:false,validExtensions:/m3u8|pls|mov|m4v|mp4|avi|mp3|m4a|aac|m3u/gi,posterExtensions:/png|jpg/gi};_14e(opts,_138);function log(){if(opts.debug){if(_14c){var str=[].splice.call(arguments,0).join(", ");console.log.apply(console,[str]);}else{console.log.apply(console,arguments);}}};function _150(_151){switch(_151){case -1:return "UNLOADED";case 0:return "LOADED";case 1:return "UNSTARTED";case 2:return "BUFFERING";case 3:return "PLAYING";case 4:return "PAUSED";case 5:return "ENDED";}return "UNKOWN";};function _152(_153){var ret=$f.fireEvent(self.id(),"onBefore"+_153,_144);return ret!==false;};function _154(e){e.stopPropagation();e.preventDefault();return false;};function _155(_156,_157){if(_14a==_139&&!_157){return;}_14b=_14a;_14a=_156;_158();if(_156==_13d){_159();}log(_150(_156));};function _15a(){_14d.fp_stop();_141=false;_142=false;_143=false;_155(_13b);_155(_13b);};var _15b=null;function _159(){if(_15b){return;}_15b=setInterval(_15c,100);_15c();};function _158(){clearInterval(_15b);_15b=null;};function _15c(){var _15d=Math.floor(_14d.fp_getTime()*10)*100;var _15e=Math.floor(_14d.duration*10)*100;var _15f=(new Date()).time;function _160(time,cues){time=time>=0?time:_15e-Math.abs(time);for(var i=0;i<cues.length;i++){if(cues[i].lastTimeFired>_15f){cues[i].lastTimeFired=-1;}else{if(cues[i].lastTimeFired+500>_15f){continue;}else{if(time==_15d||(_15d-500<time&&_15d>time)){cues[i].lastTimeFired=_15f;$f.fireEvent(self.id(),"onCuepoint",_144,cues[i].fnId,cues[i].parameters);}}}}};$f.each(self.getCommonClip().cuepoints,_160);$f.each(_145[_144].cuepoints,_160);};function _161(){_15a();_143=true;_14d.fp_seek(0);};function _162(clip){};function _163(){function _164(clip){var _165={};_14e(_165,_149);_14e(_165,self.getCommonClip());_14e(_165,clip);if(_165.ipadUrl){url=decodeURIComponent(_165.ipadUrl);}else{if(_165.url){url=_165.url;}}if(url&&url.indexOf("://")==-1&&_165.ipadBaseUrl){url=_165.ipadBaseUrl+"/"+url;}else{if(url&&url.indexOf("://")==-1&&_165.baseUrl){url=_165.baseUrl+"/"+url;}}_165.originalUrl=_165.url;_165.completeUrl=url;_165.extension=_165.completeUrl.substr(_165.completeUrl.lastIndexOf("."));_165.type="video";delete _165.index;log("fixed clip",_165);return _165;};_14d.fp_play=function(clip,_166,_167,_168){var url=null;var _169=true;var _16a=true;log("Calling play() "+clip,clip);if(_166){log("ERROR: inStream clips not yet supported");return;}if(clip!==undefined){if(typeof clip=="number"){if(_144>=_145.length){return;}_144=clip;clip=_145[_144];}else{if(typeof clip=="string"){clip={url:clip};}_14d.fp_setPlaylist(clip.length!==undefined?clip:[clip]);}var _16b=new RegExp(opts.validExtensions.source);if(!_16b.test(_145[_144].extension)){if(_145.length>1&&_144<_145.length-1){var _16c=new RegExp(opts.posterExtensions.source);var _168;if(_16c.test(_145[_144].extension)){_168=_145[_144].url;}++_144;_14d.fp_play(_144,false,true,_168);}return;}clip=_145[_144];url=clip.completeUrl;if(clip.autoBuffering!==undefined&&clip.autoBuffering===false){_169=false;}if(clip.autoPlay===undefined||clip.autoPlay===true||_167===true){_169=true;_16a=true;}else{_16a=false;}}else{log("clip was not given, simply calling video.play, if not already buffering");if(_14a!=_13c){_14d.play();}return;}log("about to play "+url,_169,_16a);_15a();if(url){log("Changing SRC attribute"+url);_14d.setAttribute("src",url);}if(_169){if(!_152("Begin")){return false;}if(_168){_16a=clip.autoPlay;_14d.setAttribute("poster",_168);_14d.setAttribute("preload","none");}$f.fireEvent(self.id(),"onBegin",_144);log("calling video.load()");_14d.load();}if(_16a){log("calling video.play()");_14d.play();}};_14d.fp_pause=function(){log("pause called");if(!_152("Pause")){return false;}_14d.pause();};_14d.fp_resume=function(){log("resume called");if(!_152("Resume")){return false;}_14d.play();};_14d.fp_stop=function(){log("stop called");if(!_152("Stop")){return false;}_142=true;_14d.pause();try{_14d.currentTime=0;}catch(ignored){}};_14d.fp_seek=function(_16d){log("seek called "+_16d);if(!_152("Seek")){return false;}var _16e=0;var _16d=_16d+"";if(_16d.charAt(_16d.length-1)=="%"){var _16f=parseInt(_16d.substr(0,_16d.length-1))/100;var _170=_14d.duration;_16e=_170*_16f;}else{_16e=_16d;}try{_14d.currentTime=_16e;}catch(e){log("Wrong seek time");}};_14d.fp_getTime=function(){return _14d.currentTime;};_14d.fp_mute=function(){log("mute called");if(!_152("Mute")){return false;}_140=_14d.volume;_14d.volume=0;};_14d.fp_unmute=function(){if(!_152("Unmute")){return false;}_14d.volume=_140;};_14d.fp_getVolume=function(){return _14d.volume*100;};_14d.fp_setVolume=function(_171){if(!_152("Volume")){return false;}_14d.volume=_171/100;};_14d.fp_toggle=function(){log("toggle called");if(self.getState()==_13f){_161();return;}if(_14d.paused){_14d.fp_play();}else{_14d.fp_pause();}};_14d.fp_isPaused=function(){return _14d.paused;};_14d.fp_isPlaying=function(){return !_14d.paused;};_14d.fp_getPlugin=function(name){if(name=="canvas"||name=="controls"){var _172=self.getConfig();return _172["plugins"]&&_172["plugins"][name]?_172["plugins"][name]:null;}log("ERROR: no support for "+name+" plugin on iDevices");return null;};_14d.fp_close=function(){_155(_139);_14d.parentNode.removeChild(_14d);_14d=null;};_14d.fp_getStatus=function(){var _173=0;var _174=0;try{_173=_14d.buffered.start();_174=_14d.buffered.end();}catch(ignored){}return {bufferStart:_173,bufferEnd:_174,state:_14a,time:_14d.fp_getTime(),muted:_14d.muted,volume:_14d.fp_getVolume()};};_14d.fp_getState=function(){return _14a;};_14d.fp_startBuffering=function(){if(_14a==_13b){_14d.load();}};_14d.fp_setPlaylist=function(_175){log("Setting playlist");_144=0;for(var i=0;i<_175.length;i++){_175[i]=_164(_175[i]);}_145=_175;$f.fireEvent(self.id(),"onPlaylistReplace",_175);};_14d.fp_addClip=function(clip,_176){clip=_164(clip);_145.splice(_176,0,clip);$f.fireEvent(self.id(),"onClipAdd",clip,_176);};_14d.fp_updateClip=function(clip,_177){_14e(_145[_177],clip);return _145[_177];};_14d.fp_getVersion=function(){return "3.2.3";};_14d.fp_isFullscreen=function(){return false;};_14d.fp_toggleFullscreen=function(){if(_14d.fp_isFullscreen()){_14d.webkitExitFullscreen();}else{_14d.webkitEnterFullscreen();}};_14d.fp_addCuepoints=function(_178,_179,fnId){var clip=_179==-1?self.getCommonClip():_145[_179];clip.cuepoints=clip.cuepoints||{};_178=_178 instanceof Array?_178:[_178];for(var i=0;i<_178.length;i++){var time=typeof _178[i]=="object"?(_178[i]["time"]||null):_178[i];if(time==null){continue;}time=Math.floor(time/100)*100;var _17a=time;if(typeof _178[i]=="object"){_17a=_14e({},_178[i],false);if(_17a["time"]!==undefined){delete _17a["time"];}if(_17a["parameters"]!==undefined){_14e(_17a,_17a["parameters"],false);delete _17a["parameters"];}}clip.cuepoints[time]=clip.cuepoints[time]||[];clip.cuepoints[time].push({fnId:fnId,lastTimeFired:-1,parameters:_17a});}};$f.each(("toggleFullscreen,stopBuffering,reset,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled,css,animate,showPlugin,hidePlugin,togglePlugin,fadeTo,invoke,loadPlugin").split(","),function(){var name=this;_14d["fp_"+name]=function(){log("ERROR: unsupported API on iDevices "+name);return false;};});};function _17b(){var _17c=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","volumechange","waiting"];var _17d=function(e){log("Got event "+e.type,e);};for(var i=0;i<_17c.length;i++){_14d.addEventListener(_17c[i],_17d,false);}var _17e=function(e){log("got onBufferEmpty event "+e.type);_155(_13c);$f.fireEvent(self.id(),"onBufferEmpty",_144);};_14d.addEventListener("emptied",_17e,false);_14d.addEventListener("waiting",_17e,false);var _17f=function(e){if(_14b==_13b||_14b==_13c){}else{log("Restoring old state "+_150(_14b));_155(_14b);}$f.fireEvent(self.id(),"onBufferFull",_144);};_14d.addEventListener("canplay",_17f,false);_14d.addEventListener("canplaythrough",_17f,false);var _180=function(e){var _181;_148=_145[_144].start;if(_145[_144].duration>0){_181=_145[_144].duration;_147=_181+_148;}else{_181=_14d.duration;_147=null;}_14d.fp_updateClip({duration:_181,metaData:{duration:_14d.duration}},_144);_145[_144].duration=_14d.duration;_145[_144].metaData={duration:_14d.duration};$f.fireEvent(self.id(),"onMetaData",_144,_145[_144]);};_14d.addEventListener("loadedmetadata",_180,false);_14d.addEventListener("durationchange",_180,false);var _182=function(e){if(_147&&_14d.currentTime>_147){_14d.fp_seek(_148);_15a();return _154(e);}};_14d.addEventListener("timeupdate",_182,false);var _183=function(e){if(_14a==_13e){if(!_152("Resume")){log("Resume disallowed, pausing");_14d.fp_pause();return _154(e);}$f.fireEvent(self.id(),"onResume",_144);}_155(_13d);if(!_141){_141=true;$f.fireEvent(self.id(),"onStart",_144);}};_14d.addEventListener("playing",_183,false);var _184=function(e){_18b();};_14d.addEventListener("play",_184,false);var _185=function(e){if(!_152("Finish")){if(_145.length==1){log("Active playlist only has one clip, onBeforeFinish returned false. Replaying");_161();}else{if(_144!=(_145.length-1)){log("Not the last clip in the playlist, but onBeforeFinish returned false. Returning to the beginning of current clip");_14d.fp_seek(0);}else{log("Last clip in playlist, but onBeforeFinish returned false, start again from the beginning");_14d.fp_play(0);}}return _154(e);}_155(_13f);$f.fireEvent(self.id(),"onFinish",_144);if(_145.length>1&&_144<(_145.length-1)){log("Not last clip in the playlist, moving to next one");_14d.fp_play(++_144,false,true);}};_14d.addEventListener("ended",_185,false);var _186=function(e){_155(_13a,true);$f.fireEvent(self.id(),"onError",_144,201);if(opts.onFail&&opts.onFail instanceof Function){opts.onFail.apply(self,[]);}};_14d.addEventListener("error",_186,false);var _187=function(e){log("got pause event from player"+self.id());if(_142){return;}if(_14a==_13c&&_14b==_13b){log("forcing play");setTimeout(function(){_14d.play();},0);return;}if(!_152("Pause")){_14d.fp_resume();return _154(e);}_18c();_155(_13e);$f.fireEvent(self.id(),"onPause",_144);};_14d.addEventListener("pause",_187,false);var _188=function(e){$f.fireEvent(self.id(),"onBeforeSeek",_144);};_14d.addEventListener("seeking",_188,false);var _189=function(e){if(_142){_142=false;$f.fireEvent(self.id(),"onStop",_144);}else{$f.fireEvent(self.id(),"onSeek",_144);}log("seek done, currentState",_150(_14a));if(_143){_143=false;_14d.fp_play();}else{if(_14a!=_13d){_14d.fp_pause();}}};_14d.addEventListener("seeked",_189,false);var _18a=function(e){$f.fireEvent(self.id(),"onVolume",_14d.fp_getVolume());};_14d.addEventListener("volumechange",_18a,false);};function _18b(){_146=setInterval(function(){if(_14d.fp_getTime()>=_14d.duration-1){$f.fireEvent(self.id(),"onLastSecond",_144);_18c();}},100);};function _18c(){clearInterval(_146);};function _18d(){_14d.fp_play(0);};function _18e(){};if(_14c||opts.simulateiDevice){if(!window.flashembed.__replaced){var _18f=window.flashembed;window.flashembed=function(root,opts,conf){if(typeof root=="string"){root=document.getElementById(root.replace("#",""));}if(!root){return;}var _190=window.getComputedStyle(root,null);var _191=parseInt(_190.width);var _192=parseInt(_190.height);while(root.firstChild){root.removeChild(root.firstChild);}var _193=document.createElement("div");var api=document.createElement("video");_193.appendChild(api);root.appendChild(_193);_193.style.height=_192+"px";_193.style.width=_191+"px";_193.style.display="block";_193.style.position="relative";_193.style.background="-webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0.5)), to(rgba(0, 0, 0, 0.7)))";_193.style.cursor="default";_193.style.webkitUserDrag="none";api.style.height="100%";api.style.width="100%";api.style.display="block";api.id=opts.id;api.name=opts.id;api.style.cursor="pointer";api.style.webkitUserDrag="none";api.type="video/mp4";api.playerConfig=conf.config;$f.fireEvent(conf.config.playerId,"onLoad","player");};flashembed.getVersion=_18f.getVersion;flashembed.asString=_18f.asString;flashembed.isSupported=function(){return true;};flashembed.__replaced=true;}var _194=self._fireEvent;self._fireEvent=function(a){if(a[0]=="onLoad"&&a[1]=="player"){_14d=self.getParent().querySelector("video");if(opts.controls){_14d.controls="controls";}_163();_17b();_155(_13a,true);_14d.fp_setPlaylist(_14d.playerConfig.playlist);_18d();_194.apply(self,[a]);}var _195=_14a!=_139;if(_14a==_139&&typeof a=="string"){_195=true;}if(_195){return _194.apply(self,[a]);}};self._swfHeight=function(){return parseInt(_14d.style.height);};self.hasiPadSupport=function(){return true;};}return self;});}if(!_4._hasResource["dijit.Tooltip"]){_4._hasResource["dijit.Tooltip"]=true;_4.provide("dijit.Tooltip");_4.declare("dijit._MasterTooltip",[_5._Widget,_5._Templated],{duration:_5.defaultDuration,templateString:_4.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" dojoAttachPoint=\"connectorNode\"></div\n></div>\n"),postCreate:function(){_4.body().appendChild(this.domNode);this.bgIframe=new _5.BackgroundIframe(this.domNode);this.fadeIn=_4.fadeIn({node:this.domNode,duration:this.duration,onEnd:_4.hitch(this,"_onShow")});this.fadeOut=_4.fadeOut({node:this.domNode,duration:this.duration,onEnd:_4.hitch(this,"_onHide")});},show:function(_196,_197,_198,rtl){if(this.aroundNode&&this.aroundNode===_197){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_196;var pos=_5.placeOnScreenAroundElement(this.domNode,_197,_5.getPopupAroundAlignment((_198&&_198.length)?_198:_5.Tooltip.defaultPosition,!rtl),_4.hitch(this,"orient"));_4.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_197;},orient:function(node,_199,_19a,_19b,_19c){this.connectorNode.style.top="";var _19d=_19b.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_199+"-"+_19a];this.domNode.style.width="auto";var size=_4.contentBox(this.domNode);var _19e=Math.min((Math.max(_19d,1)),size.w);var _19f=_19e<size.w;this.domNode.style.width=_19e+"px";if(_19f){this.containerNode.style.overflow="auto";var _1a0=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_1a0>_19e){_1a0=_1a0+_4.style(this.domNode,"paddingLeft")+_4.style(this.domNode,"paddingRight");this.domNode.style.width=_1a0+"px";}}if(_19a.charAt(0)=="B"&&_199.charAt(0)=="B"){var mb=_4.marginBox(node);var _1a1=this.connectorNode.offsetHeight;if(mb.h>_19b.h){var _1a2=_19b.h-(_19c.h/2)-(_1a1/2);this.connectorNode.style.top=_1a2+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_19c.h/2-_1a1/2,0),mb.h-_1a1)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_19d);},_onShow:function(){if(_4.isIE){this.domNode.style.filter="";}},hide:function(_1a3){if(this._onDeck&&this._onDeck[1]==_1a3){this._onDeck=null;}else{if(this.aroundNode===_1a3){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});_5.showTooltip=function(_1a4,_1a5,_1a6,rtl){if(!_5._masterTT){_5._masterTT=new _5._MasterTooltip();}return _5._masterTT.show(_1a4,_1a5,_1a6,rtl);};_5.hideTooltip=function(_1a7){if(!_5._masterTT){_5._masterTT=new _5._MasterTooltip();}return _5._masterTT.hide(_1a7);};_4.declare("dijit.Tooltip",_5._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_1a8){_4.forEach(this._connections||[],function(_1a9){_4.forEach(_1a9,_4.hitch(this,"disconnect"));},this);var ary=_4.isArrayLike(_1a8)?_1a8:(_1a8?[_1a8]:[]);this._connections=_4.map(ary,function(id){var node=_4.byId(id);return node?[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")]:[];},this);this._set("connectId",_1a8);this._connectIds=ary;},addTarget:function(node){var id=node.id||node;if(_4.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_4.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_4.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_4.forEach(_4.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _1aa=e.target;this._showTimer=setTimeout(_4.hitch(this,function(){this.open(_1aa);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_1ab){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}_5.showTooltip(this.label||this.domNode.innerHTML,_1ab,this.position,!this.isLeftToRight());this._connectNode=_1ab;this.onShow(_1ab,this.position);},close:function(){if(this._connectNode){_5.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_1ac,_1ad){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});_5.Tooltip.defaultPosition=["after","before"];}if(!_4._hasResource["ibmweb.tooltip"]){_4._hasResource["ibmweb.tooltip"]=true;_4.provide("ibmweb.tooltip");ibmweb.tooltip.position=["above","below"];ibmweb.tooltip.init=function(){var i=0;_4.query(".ibm-tooltip").forEach(function(node){if(!node.title){return;}if(!node.id){node.id="ibm-tooltip-"+i++;}var _1ae=node.title;if(_1ae.indexOf("||")!=-1){_1ae="<h3>"+_1ae.substr(0,_1ae.indexOf("||"))+"</h3>"+_1ae.substr(_1ae.indexOf("||")+2);}var tt=new _5.Tooltip({label:_1ae,connectId:[node.id],position:ibmweb.tooltip.position});node.title="";});_4.query(".ibm-tooltip-html").forEach(function(node){if(!node.title){return;}if(!node.id){node.id="ibm-tooltip-"+i++;}var tt=new _5.Tooltip({label:_4.byId(node.title).innerHTML,connectId:[node.id],position:ibmweb.tooltip.position});node.title="";});};}if(!_4._hasResource["dojo.date"]){_4._hasResource["dojo.date"]=true;_4.provide("dojo.date");_4.getObject("date",true,_4);_4.date.getDaysInMonth=function(_1af){var _1b0=_1af.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_1b0==1&&_4.date.isLeapYear(_1af)){return 29;}return days[_1b0];};_4.date.isLeapYear=function(_1b1){var year=_1b1.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};_4.date.getTimezoneName=function(_1b2){var str=_1b2.toString();var tz="";var _1b3;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_1b3=str.match(pat))){tz=_1b3[1];}else{str=_1b2.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_1b3=str.match(pat))){tz=_1b3[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};_4.date.compare=function(_1b4,_1b5,_1b6){_1b4=new Date(+_1b4);_1b5=new Date(+(_1b5||new Date()));if(_1b6=="date"){_1b4.setHours(0,0,0,0);_1b5.setHours(0,0,0,0);}else{if(_1b6=="time"){_1b4.setFullYear(0,0,0);_1b5.setFullYear(0,0,0);}}if(_1b4>_1b5){return 1;}if(_1b4<_1b5){return -1;}return 0;};_4.date.add=function(date,_1b7,_1b8){var sum=new Date(+date);var _1b9=false;var _1ba="Date";switch(_1b7){case "day":break;case "weekday":var days,_1bb;var mod=_1b8%5;if(!mod){days=(_1b8>0)?5:-5;_1bb=(_1b8>0)?((_1b8-5)/5):((_1b8+5)/5);}else{days=mod;_1bb=parseInt(_1b8/5);}var strt=date.getDay();var adj=0;if(strt==6&&_1b8>0){adj=1;}else{if(strt==0&&_1b8<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_1b8>0)?2:-2;}_1b8=(7*_1bb)+days+adj;break;case "year":_1ba="FullYear";_1b9=true;break;case "week":_1b8*=7;break;case "quarter":_1b8*=3;case "month":_1b9=true;_1ba="Month";break;default:_1ba="UTC"+_1b7.charAt(0).toUpperCase()+_1b7.substring(1)+"s";}if(_1ba){sum["set"+_1ba](sum["get"+_1ba]()+_1b8);}if(_1b9&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};_4.date.difference=function(_1bc,_1bd,_1be){_1bd=_1bd||new Date();_1be=_1be||"day";var _1bf=_1bd.getFullYear()-_1bc.getFullYear();var _1c0=1;switch(_1be){case "quarter":var m1=_1bc.getMonth();var m2=_1bd.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_1bf*4);_1c0=q2-q1;break;case "weekday":var days=Math.round(_4.date.difference(_1bc,_1bd,"day"));var _1c1=parseInt(_4.date.difference(_1bc,_1bd,"week"));var mod=days%7;if(mod==0){days=_1c1*5;}else{var adj=0;var aDay=_1bc.getDay();var bDay=_1bd.getDay();_1c1=parseInt(days/7);mod=days%7;var _1c2=new Date(_1bc);_1c2.setDate(_1c2.getDate()+(_1c1*7));var _1c3=_1c2.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_1c3+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_1c3+mod)<0:adj=2;}}}days+=adj;days-=(_1c1*2);}_1c0=days;break;case "year":_1c0=_1bf;break;case "month":_1c0=(_1bd.getMonth()-_1bc.getMonth())+(_1bf*12);break;case "week":_1c0=parseInt(_4.date.difference(_1bc,_1bd,"day")/7);break;case "day":_1c0/=24;case "hour":_1c0/=60;case "minute":_1c0/=60;case "second":_1c0/=1000;case "millisecond":_1c0*=_1bd.getTime()-_1bc.getTime();}return Math.round(_1c0);};}if(!_4._hasResource["dojo.cldr.supplemental"]){_4._hasResource["dojo.cldr.supplemental"]=true;_4.provide("dojo.cldr.supplemental");_4.getObject("cldr.supplemental",true,_4);_4.cldr.supplemental.getFirstDayOfWeek=function(_1c4){var _1c5={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};var _1c6=_4.cldr.supplemental._region(_1c4);var dow=_1c5[_1c6];return (dow===undefined)?1:dow;};_4.cldr.supplemental._region=function(_1c7){_1c7=_4.i18n.normalizeLocale(_1c7);var tags=_1c7.split("-");var _1c8=tags[1];if(!_1c8){_1c8={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_1c8.length==4){_1c8=tags[2];}}return _1c8;};_4.cldr.supplemental.getWeekend=function(_1c9){var _1ca={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5};var _1cb={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6};var _1cc=_4.cldr.supplemental._region(_1c9);var _1cd=_1ca[_1cc];var end=_1cb[_1cc];if(_1cd===undefined){_1cd=6;}if(end===undefined){end=0;}return {start:_1cd,end:end};};}if(!_4._hasResource["dojo.date.locale"]){_4._hasResource["dojo.date.locale"]=true;_4.provide("dojo.date.locale");_4.getObject("date.locale",true,_4);(function(){function _1ce(_1cf,_1d0,_1d1,_1d2){return _1d2.replace(/([a-z])\1*/ig,function(_1d3){var s,pad,c=_1d3.charAt(0),l=_1d3.length,_1d4=["abbr","wide","narrow"];switch(c){case "G":s=_1d0[(l<4)?"eraAbbr":"eraNames"][_1cf.getFullYear()<0?0:1];break;case "y":s=_1cf.getFullYear();switch(l){case 1:break;case 2:if(!_1d1.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_1cf.getMonth()+1)/3);pad=true;break;case "M":var m=_1cf.getMonth();if(l<3){s=m+1;pad=true;}else{var _1d5=["months","format",_1d4[l-3]].join("-");s=_1d0[_1d5][m];}break;case "w":var _1d6=0;s=_4.date.locale._getWeekOfYear(_1cf,_1d6);pad=true;break;case "d":s=_1cf.getDate();pad=true;break;case "D":s=_4.date.locale._getDayOfYear(_1cf);pad=true;break;case "E":var d=_1cf.getDay();if(l<3){s=d+1;pad=true;}else{var _1d7=["days","format",_1d4[l-3]].join("-");s=_1d0[_1d7][d];}break;case "a":var _1d8=(_1cf.getHours()<12)?"am":"pm";s=_1d1[_1d8]||_1d0["dayPeriods-format-wide-"+_1d8];break;case "h":case "H":case "K":case "k":var h=_1cf.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_1cf.getMinutes();pad=true;break;case "s":s=_1cf.getSeconds();pad=true;break;case "S":s=Math.round(_1cf.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_4.date.locale._getZone(_1cf,true,_1d1);if(s){break;}l=4;case "Z":var _1d9=_4.date.locale._getZone(_1cf,false,_1d1);var tz=[(_1d9<=0?"+":"-"),_4.string.pad(Math.floor(Math.abs(_1d9)/60),2),_4.string.pad(Math.abs(_1d9)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_1d2);}if(pad){s=_4.string.pad(s,l);}return s;});};_4.date.locale._getZone=function(_1da,_1db,_1dc){if(_1db){return _4.date.getTimezoneName(_1da);}else{return _1da.getTimezoneOffset();}};_4.date.locale.format=function(_1dd,_1de){_1de=_1de||{};var _1df=_4.i18n.normalizeLocale(_1de.locale),_1e0=_1de.formatLength||"short",_1e1=_4.date.locale._getGregorianBundle(_1df),str=[],_1e2=_4.hitch(this,_1ce,_1dd,_1e1,_1de);if(_1de.selector=="year"){return _1e3(_1e1["dateFormatItem-yyyy"]||"yyyy",_1e2);}var _1e4;if(_1de.selector!="date"){_1e4=_1de.timePattern||_1e1["timeFormat-"+_1e0];if(_1e4){str.push(_1e3(_1e4,_1e2));}}if(_1de.selector!="time"){_1e4=_1de.datePattern||_1e1["dateFormat-"+_1e0];if(_1e4){str.push(_1e3(_1e4,_1e2));}}return str.length==1?str[0]:_1e1["dateTimeFormat-"+_1e0].replace(/\{(\d+)\}/g,function(_1e5,key){return str[key];});};_4.date.locale.regexp=function(_1e6){return _4.date.locale._parseInfo(_1e6).regexp;};_4.date.locale._parseInfo=function(_1e7){_1e7=_1e7||{};var _1e8=_4.i18n.normalizeLocale(_1e7.locale),_1e9=_4.date.locale._getGregorianBundle(_1e8),_1ea=_1e7.formatLength||"short",_1eb=_1e7.datePattern||_1e9["dateFormat-"+_1ea],_1ec=_1e7.timePattern||_1e9["timeFormat-"+_1ea],_1ed;if(_1e7.selector=="date"){_1ed=_1eb;}else{if(_1e7.selector=="time"){_1ed=_1ec;}else{_1ed=_1e9["dateTimeFormat-"+_1ea].replace(/\{(\d+)\}/g,function(_1ee,key){return [_1ec,_1eb][key];});}}var _1ef=[],re=_1e3(_1ed,_4.hitch(this,_1f0,_1ef,_1e9,_1e7));return {regexp:re,tokens:_1ef,bundle:_1e9};};_4.date.locale.parse=function(_1f1,_1f2){var _1f3=/[\u200E\u200F\u202A\u202E]/g,info=_4.date.locale._parseInfo(_1f2),_1f4=info.tokens,_1f5=info.bundle,re=new RegExp("^"+info.regexp.replace(_1f3,"")+"$",info.strict?"":"i"),_1f6=re.exec(_1f1&&_1f1.replace(_1f3,""));if(!_1f6){return null;}var _1f7=["abbr","wide","narrow"],_1f8=[1970,0,1,0,0,0,0],amPm="",_1f9=_4.every(_1f6,function(v,i){if(!i){return true;}var _1fa=_1f4[i-1];var l=_1fa.length;switch(_1fa.charAt(0)){case "y":if(l!=2&&_1f2.strict){_1f8[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_1fb=year.substring(0,2)*100,_1fc=Math.min(Number(year.substring(2,4))+20,99),num=(v<_1fc)?_1fb+v:_1fb-100+v;_1f8[0]=num;}else{if(_1f2.strict){return false;}_1f8[0]=v;}}break;case "M":if(l>2){var _1fd=_1f5["months-format-"+_1f7[l-3]].concat();if(!_1f2.strict){v=v.replace(".","").toLowerCase();_1fd=_4.map(_1fd,function(s){return s.replace(".","").toLowerCase();});}v=_4.indexOf(_1fd,v);if(v==-1){return false;}}else{v--;}_1f8[1]=v;break;case "E":case "e":var days=_1f5["days-format-"+_1f7[l-3]].concat();if(!_1f2.strict){v=v.toLowerCase();days=_4.map(days,function(d){return d.toLowerCase();});}v=_4.indexOf(days,v);if(v==-1){return false;}break;case "D":_1f8[1]=0;case "d":_1f8[2]=v;break;case "a":var am=_1f2.am||_1f5["dayPeriods-format-wide-am"],pm=_1f2.pm||_1f5["dayPeriods-format-wide-pm"];if(!_1f2.strict){var _1fe=/\./g;v=v.replace(_1fe,"").toLowerCase();am=am.replace(_1fe,"").toLowerCase();pm=pm.replace(_1fe,"").toLowerCase();}if(_1f2.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_1f8[3]=v;break;case "m":_1f8[4]=v;break;case "s":_1f8[5]=v;break;case "S":_1f8[6]=v;}return true;});var _1ff=+_1f8[3];if(amPm==="p"&&_1ff<12){_1f8[3]=_1ff+12;}else{if(amPm==="a"&&_1ff==12){_1f8[3]=0;}}var _200=new Date(_1f8[0],_1f8[1],_1f8[2],_1f8[3],_1f8[4],_1f8[5],_1f8[6]);if(_1f2.strict){_200.setFullYear(_1f8[0]);}var _201=_1f4.join(""),_202=_201.indexOf("d")!=-1,_203=_201.indexOf("M")!=-1;if(!_1f9||(_203&&_200.getMonth()>_1f8[1])||(_202&&_200.getDate()>_1f8[2])){return null;}if((_203&&_200.getMonth()<_1f8[1])||(_202&&_200.getDate()<_1f8[2])){_200=_4.date.add(_200,"hour",1);}return _200;};function _1e3(_204,_205,_206,_207){var _208=function(x){return x;};_205=_205||_208;_206=_206||_208;_207=_207||_208;var _209=_204.match(/(''|[^'])+/g),_20a=_204.charAt(0)=="'";_4.forEach(_209,function(_20b,i){if(!_20b){_209[i]="";}else{_209[i]=(_20a?_206:_205)(_20b.replace(/''/g,"'"));_20a=!_20a;}});return _207(_209.join(""));};function _1f0(_20c,_20d,_20e,_20f){_20f=_4.regexp.escapeString(_20f);if(!_20e.strict){_20f=_20f.replace(" a"," ?a");}return _20f.replace(/([a-z])\1*/ig,function(_210){var s,c=_210.charAt(0),l=_210.length,p2="",p3="";if(_20e.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p3+"[1-9][0-9]|"+p2+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":s="\\S+";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_20e.am||_20d["dayPeriods-format-wide-am"],pm=_20e.pm||_20d["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_20e.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_20c){_20c.push(_210);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _211=[];_4.date.locale.addCustomFormats=function(_212,_213){_211.push({pkg:_212,name:_213});};_4.date.locale._getGregorianBundle=function(_214){var _215={};_4.forEach(_211,function(desc){var _216=_4.i18n.getLocalization(desc.pkg,desc.name,_214);_215=_4.mixin(_215,_216);},this);return _215;};})();_4.date.locale.addCustomFormats("dojo.cldr","gregorian");_4.date.locale.getNames=function(item,type,_217,_218){var _219,_21a=_4.date.locale._getGregorianBundle(_218),_21b=[item,_217,type];if(_217=="standAlone"){var key=_21b.join("-");_219=_21a[key];if(_219[0]==1){_219=undefined;}}_21b[1]="format";return (_219||_21a[_21b.join("-")]).concat();};_4.date.locale.isWeekend=function(_21c,_21d){var _21e=_4.cldr.supplemental.getWeekend(_21d),day=(_21c||new Date()).getDay();if(_21e.end<_21e.start){_21e.end+=7;if(day<_21e.start){day+=7;}}return day>=_21e.start&&day<=_21e.end;};_4.date.locale._getDayOfYear=function(_21f){return _4.date.difference(new Date(_21f.getFullYear(),0,1,_21f.getHours()),_21f)+1;};_4.date.locale._getWeekOfYear=function(_220,_221){if(arguments.length==1){_221=0;}var _222=new Date(_220.getFullYear(),0,1).getDay(),adj=(_222-_221+7)%7,week=Math.floor((_4.date.locale._getDayOfYear(_220)+adj-1)/7);if(_222==_221){week++;}return week;};}if(!_4._hasResource["ext.media.youtubedataconverter"]){_4._hasResource["ext.media.youtubedataconverter"]=true;_4.provide("ext.media.youtubedataconverter");_4.declare("ext.media.youtubedataconverter",null,{callback:"",options:null,callbackObject:"",maxResults:5,requestType:"channel",timeout:4000,USER_DATA_URL:"//gdata.youtube.com/feeds/api/users/${username}/uploads",PLAYLIST_DATA_URL:"//gdata.youtube.com/feeds/api/playlists/PL${playlist}",VIDEO_DATA_URL:"//gdata.youtube.com/feeds/api/videos/${videoid}",_multiCallsTotal:0,_multiCallsReturned:0,_videos:[],isYouTubeUrl:function(url){var _223=new RegExp("(http:|https)?//www.youtube.com");return _223.test(url);},translateUrl:function(url){var _224=new RegExp("(http://|https://|//)www.youtube.com/watch?.*v=([^&]*)");if(_224.test(url)){var _225=_224.exec(url)[2];this.requestType="video";return _4.string.substitute(this.VIDEO_DATA_URL,{"videoid":_225});}var _226=new RegExp("(http://|https://|//)www.youtube.com/v/([^?]*)");if(_226.test(url)){var _225=_226.exec(url)[2];this.requestType="video";return _4.string.substitute(this.VIDEO_DATA_URL,{"videoid":_225});}var _227=new RegExp("(http://|https://|//)?www.youtube.com/playlist");if(_227.test(url)){var _228=new RegExp(".*list=PL([^&]*)");var _229=_228.exec(url)[1];this.requestType="playlist";return _4.string.substitute(this.PLAYLIST_DATA_URL,{"playlist":_229});}var _22a=new RegExp("(http://|https://|//)www.youtube.com/user/([^/?]*)");if(_22a.test(url)){var _22b=_22a.exec(url)[2];this.requestType="channel";return _4.string.substitute(this.USER_DATA_URL,{"username":_22b});}_22a=new RegExp("(http://|https://|//)www.youtube.com/([^/?]*)");if(_22a.test(url)){var _22b=_22a.exec(url)[2];this.requestType="channel";return _4.string.substitute(this.USER_DATA_URL,{"username":_22b});}return url;},getData:function(url,_22c,_22d){this.callback=_22d;this.callbackObject=_22c;var _22e=this.translateUrl(url);this._callYoutube(_22e,_4.hitch(this,this._dataLoaded));},getVideosFromList:function(_22f,_230,_231){this.callback=_231;this.callbackObject=_230;var _232=_22f.split(",");var url="";this.requestType="video-multi";this._multiCallsTotal=_232.length;for(var i=0;i<_232.length;i++){url=_4.string.substitute(this.VIDEO_DATA_URL,{"videoid":_232[i]});this._callYoutube(url,_4.hitch(this,this._multiDataLoaded));}},_callYoutube:function(url,_233){var _234={"v":"2","alt":"json-in-script"};_234=_4.mixin(_234,this.options);var _235={"format":"5","max-results":this.maxResults,"start-index":1};if(this.requestType=="channel"){_235.orderBy="published";}if(this.requestType!="video"&&this.requestType!="video-multi"){_4.mixin(_234,_235);}var _236={"url":url,"callbackParamName":"callback","content":_234,load:_233,error:_4.hitch(this,this._jsonpError),timeout:this.timeout};_4.io.script.get(_236);},_jsonpError:function(_237){if(this._multiCallsTotal!=0){this._multiCallsTotal--;}if(this._multiCallsReturned&&this._multiCallsReturned==this._multiCallsTotal){this.callbackObject[this.callback](this._videos);}},_dataLoaded:function(data){var _238={};if(this.requestType=="playlist"){_238=this._playlistDataLoaded(data);}else{if(this.requestType=="video"){_238=this._videoDataLoaded(data);}else{_238=this._channelDataLoaded(data);}}this.callbackObject[this.callback](_238);},_multiDataLoaded:function(data){this._videos[this._multiCallsReturned]=this._videoDataLoaded(data)[0];this._multiCallsReturned++;if(this._multiCallsReturned==this._multiCallsTotal){this.callbackObject[this.callback](this._videos);}},_videoDataLoaded:function(data){var _239=[];_239[0]=this._convertVideo(data.entry);return _239;},_playlistDataLoaded:function(data){return this._channelDataLoaded(data);},_channelDataLoaded:function(data){var _23a=[];for(var i=0;i<data.feed.entry.length;i++){try{_23a.push(this._convertVideo(data.feed.entry[i]));}catch(err){}}return _23a;},_convertVideo:function(_23b){var _23c={};if(_4.exists("published.$t",_23b)){_23c.datePosted=this._convertDate(_23b.published.$t);}else{if(_4.exists("updated.$t",_23b)){_23c.dataPosted=this._convertDate(_23b.updated.$t);}}_23c.description=_23b.media$group.media$description.$t;_23c.duration=this._convertDuration(_23b.media$group.yt$duration.seconds);_23c.thumbnails={};_23c.thumbnails["140x88"]=_23b.media$group.media$thumbnail[0].url;_23c.thumbnails["172x108"]=_23b.media$group.media$thumbnail[0].url;_23c.thumbnails["60x38"]=_23b.media$group.media$thumbnail[0].url;_23c.title=_23b.title.$t;_23c.videoid=_23b.media$group.yt$videoid.$t;_23c.url={};_23c.url.youtube="http://www.youtube.com/watch?v="+_23c.videoid;_23c.type="youtube";_23c.height=360;_23c.width=640;_23c.isVideo=true;return _23c;},_convertDate:function(date){var _23d=new Date(date);return _4.date.locale.format(_23d,{selector:"date",datePattern:"MM/dd/yyyy"});},_convertDuration:function(_23e){var _23f=Math.floor(_23e/60);var _240=Math.floor(_23e%60);if(_240<10){_240+="0";}var _241=_23f+":"+_240;return _241;},constructor:function(args){}});}if(!_4._hasResource["ext.media.abstractwidget"]){_4._hasResource["ext.media.abstractwidget"]=true;_4.provide("ext.media.abstractwidget");_4.declare("ext.media.abstractwidget",[_5._Widget,_5._Templated],{url:"",overrides:{},options:{},container:null,_waitingImage:null,attributeMap:{},sectionStyleLeft:null,postCreate:function(){if(this.showHideNode){if((!_4.exists("options.no_hide",this)||this.options.no_hide!="false")&&!this.options.collapsed){_4.destroy(this.showHideNode);}}if(this.viewAllNode&&this.galleryNode){if(this.options.no_gallery){_4.destroy(this.viewAllNode);_4.destroy(this.galleryNode);}}if(this.showHideLinkNode){_4.attr(this.showHideLinkNode,"title",ibmweb.dynnav.PMM.buttonData.collapse_sect);}if(this.viewAllLinkNode){_4.attr(this.viewAllLinkNode,"title",ibmweb.dynnav.PMM.buttonData.view_all);}if(this.galleryLinkNode){var _242=ibmweb.dynnav.PMM.buttonData.gallery_view;if(_4.hasClass(this.galleryLinkNode,"ibm-active")){_242=ibmweb.dynnav.PMM.buttonData.gallery_view_sel;}_4.attr(this.galleryLinkNode,"title",_242);}},startup:function(data,_243){if(typeof _243==="undefined"){_243=false;}var _244=!data,_245=new ext.media.youtubedataconverter();if(_243){_244=_245.isYouTubeUrl(this.url);}if(_244){if(_4.exists("options.localUrl",this)&&this.options.localUrl=="true"){this._getLocalFileData();}else{if(_245.isYouTubeUrl(this.url)){this._getYoutubeData(_245);}else{this._getRMSData();}}if(_4.exists("options.overrideVar",this)){this.overrides=eval(this.options.overrideVar);}this._showWaitingIcon();}else{this._dataCallback(data);}this._startupContainer();},_showWaitingIcon:function(){this._waitingImage=_4.create("img",{src:"//1.www.s81c.com/i/v16/t/loadingAnimation.gif",style:{verticalAlign:"middle",marginLeft:"10px"}},_4.query(".ibm-rss-link",this.container)[0],"after");},_getRMSData:function(){var _246={};if(this.url.indexOf("?")!=-1){var p=this.url.substr(this.url.indexOf("?")+1);_246=_4.queryToObject(p);_246["format"]="json";}ibmweb.dynnav.fetchData(201,this,"_dataCallback",_246);},_getLocalFileData:function(){_4.xhrGet({url:this.url,handleAs:"json",load:_4.hitch(this,function(data){this._dataCallback(data);})});},_startupContainer:function(){if(this.container){var url=ibmweb.util.getUrl();var id=_4.query("> div:first-child",this.container)[0];if(id){id=id.getAttribute("widgetid");}var _247=ibmweb.storage.getItem("ext.media."+url+"|"+id);if(_247){var _248=_4.queryToObject(_247);if(_248.count==_4.query(".ibm-media").length){this._toggleShowHide();}else{ibmweb.storage.removeItem("ext.media."+url+"|"+id);}}}if(this.options.collapsed&&this.options.collapsed!="false"&&this.showHideLinkNode&&!_247){this._toggleShowHide();}},_getYoutubeData:function(_249){if(_4.exists("options.youtubeTimeout",this)){_249.timeout=this.options.youtubeTimeout;}if(_4.exists("options.youtubeMaxResults",this)){_249.maxResults=this.options.youtubeMaxResults;}if(_4.exists("options.youtubeOverrides",this)){_249.options=eval(this.options.youtubeOverrides);}if(_4.exists("options.youtubeVideoList",this)){_249.getVideosFromList(this.options.youtubeVideoList,this,"_dataCallback");}else{_249.getData(this.url,this,"_dataCallback");}},_dataCallback:function(data){this.removeWaitingImage();if(!data||!!data.results&&data.results[0]&&data.results[0]["result"]=="novalue"){var a=_4.create("a",{href:this.url,innerHTML:this.title},this.containerNode,"only");_4.destroy(this.showHideNode);_4.destroy(this.viewAllNode);_4.destroy(this.galleryNode);return;}for(var i=0;i<data.length;i++){var _24a=data[i].videoid;if(_4.exists("overrides."+_24a,this)){data[i]=_4.mixin(data[i],this.overrides[_24a]);}if(_4.exists("options.height",this)){data[i].height=this.options.height;}if(_4.exists("options.width",this)){data[i].width=this.options.width;}if(_4.exists("options.showcaptions",this)){data[i].showcaptions=this.options.showcaptions;}if(_4.exists("options.captionurl",this)){data[i].captionurl=this.options.captionurl;}if(_4.exists("options.noshare",this)){data[i].noshare=this.options.noshare;}}_4.query(".ibm-rss-link",this.container).forEach(_4.destroy);return true;},removeWaitingImage:function(){if(this._waitingImage){_4.destroy(this._waitingImage);this._waitingImage=null;}},normalizeDimensions:function(data){if(data._dimensionsNormalized){return data;}var _24b=data[0].width/data[0].height;if(this.format&&this.format=="playlist"||this.format=="ribbon"){for(var i=0,_24c=data.length;i<_24c;i+=1){var _24b=data[i].width/data[i].height;if(data[i].width<this.maxWidth&&data[i].height<this.maxHeight){return data;}if(data[i].height>this.maxHeight){data[i].height=this.maxHeight;data[i].width=this.maxHeight*_24b;}if(data[i].width>this.maxWidth){data[i].width=this.maxWidth;data[i].height=this.maxWidth*_24b;}}return data;}if(data[0].width==1920&&data[0].height==1080){if(this.format&&this.format=="inline_medium"){for(var i=0,_24c=data.length;i<_24c;i+=1){var _24b=data[i].width/data[i].height;data[i].width=this.maxWidth;data[i].height=this.maxWidth/_24b;}}else{data[0].width=this.maxWidth;data[0].height=this.maxWidth/_24b;}}else{if(this.maxHeight){data[0].height=this.maxHeight;}else{if(!this.maxHeight&&this.maxWidth){var _24b=data[0].width/data[0].height;data[0].height=this.maxWidth/_24b;}}if(this.maxWidth&&!(this.format&&this.format=="inline_large")){data[0].width=this.maxWidth;}else{data[0].width=data[0].height*_24b;}}data._dimensionsNormalized=true;return data;},_toggleShowHide:function(_24d){if(_24d){_4.stopEvent(_24d);var self=_24d.currentTarget;}else{var self=this.showHideLinkNode;}_4.toggleClass(this.container,"ibm-container-hide");_4.toggleClass(self,"ibm-active");var el=this.bodyNode||this.containerNode;var _24e="";if(_4.hasClass(this.container,"ibm-container-hide")){_24e="hide";var _24f=_4.query("div.ibm-video",this.container)[0];if(_24f){var id=_24f.getAttribute("widgetid");var _250=_5.byId(id);if(_250&&_250.ibmvideoWidget){_250.ibmvideoWidget.stop();}}self.innerHTML=ibmweb.dynnav.PMM.buttonData.expand_sect;self.setAttribute("title",ibmweb.dynnav.PMM.buttonData.expand_sect);_4.query(".ibm-gallery-view, .ibm-view-all",this.container).style("display","none");el.style.overflow="hidden";_4.anim(el,{height:1},400,null,function(){el.style.display="none";});}else{_24e="show";self.innerHTML=ibmweb.dynnav.PMM.buttonData.collapse_sect;self.setAttribute("title",ibmweb.dynnav.PMM.buttonData.collapse_sect);_4.query(".ibm-gallery-view, .ibm-view-all",this.container).style("display","block");_4.style(el,{display:"block",overflow:"visible",height:"auto"});var _251=_4.coords(el).h;var _252=_4.query("a.ibm-view-all",this.container);if(_252.length==1){if(_4.hasClass(_252[0],"ibm-active")){_251=_4.coords(_4.query("div.ibm-ribbon-pane",this.container)[0]).h;}}_4.style(el,{height:"1px",overflow:"hidden"});_4.anim(el,{height:_251},400,null,function(){el.style.overflow="visible";_4.style(el,{height:"auto"});});}var url=ibmweb.util.getUrl();var id=_4.query("> div:first-child",this.container)[0];if(id){id=id.getAttribute("widgetid");}if(_24e&&_24d&&id&&url){if(_24e=="hide"){ibmweb.storage.setItem("ext.media."+url+"|"+id,_4.objectToQuery({count:_4.query("div.ibm-media").length}));}else{if(_24e=="show"){ibmweb.storage.removeItem("ext.media."+url+"|"+id);}}}return false;}});}if(!_4._hasResource["ext.media.mediathumbnail"]){_4._hasResource["ext.media.mediathumbnail"]=true;_4.provide("ext.media.mediathumbnail");_4.declare("ext.media.mediathumbnail",[_5._Widget,_5._Templated,_5._Contained],{item:null,videoWidget:null,columns:3,thumbnail:"",duration:"",title:"",description:"",date:"",lessLabel:"[less]",templateString:_4.cache("ext.media","templates/MediaThumbnail.html","<div dojoAttachEvent=\"onclick:_onClick\" class=\"ibm-media-thumb\" dojoAttachPoint=\"thumbContainer\">\n\t<span class=\"ibm-thumbnail\">\n\t\t<img dojoAttachPoint=\"thumbnailNode\" src=\"//www.ibm.com/i/c.gif\" alt=\"\" />\n\t\t<span dojoAttachPoint=\"durationNode\"></span>\n\t\t<span class=\"ibm-video-play\"></span>\n\t</span>\n\t<h3><a href=\"#\" dojoAttachPoint=\"titleNode\"></a></h3>\n\t<p><span dojoAttachPoint=\"descriptionNode\" class=\"descriptionNode\"></span><span class=\"ibm-date\" dojoAttachPoint=\"dateNode\"></span></p>\n</div>\n"),attributeMap:{thumbnail:{node:"thumbnailNode",type:"attribute",attribute:"src"},duration:{node:"durationNode",type:"innerHTML"},title:{node:"titleNode",type:"innerHTML"},description:{node:"descriptionNode",type:"innerHTML"},date:{node:"dateNode",type:"innerHTML"}},postMixInProperties:function(){this.title=this.item.title;this.description=this.item.description;this.duration=this.item.duration;if(this.columns==1||this.columns==2||this.columns==3){this.thumbnail=this.item.thumbnails["60x38"];}else{if(this.columns==5){this.thumbnail=this.item.thumbnails["172x108"];}else{if(this.columns==6){this.thumbnail=this.item.thumbnails["140x88"];}else{this.thumbnail=this.item.thumbnails["172x108"];}}}},startup:function(){var q=_4.query(this.domNode).parents(".ibm-ribbon-pane");if(q.length==1){var _253=_4.position(q[0]).h;var _254=_4.position(this.domNode).h;if(_253<_254){new _5.Tooltip({label:this.description,connectId:[this.descriptionNode],position:ibmweb.tooltip.position});}}},expand:function(_255){if(this.titleNode.innerHTML!=this.title){this.titleNode.innerHTML=this.title;}if(this.descriptionNode.innerHTML!=this.description){this.descriptionNode.innerHTML=this.description+" ";var link=_4.create("a",{"href":"#","innerHTML":this.lessLabel,"class":"show_less"},this.descriptionNode.parentNode,"last");_4.connect(link,"onclick",_255,"clickLess");}},removeLess:function(){var _256=_4.query(".show_less",this.descriptionNode.parentNode);if(_256.length!=0){_256.orphan();}},useNewYTPlayer:function(){var _257=_4.query("meta[name=__RMSBETA]");var _258=false;if(_257&&_257.length>0&&_4.attr(_257[0],"value")=="newYT"){_258=true;}var _259=/[&?]rmsbeta=newyt/.test(document.location.search);if(_4.cookie("__RMSBETA")=="newYT"||_258||_259){if(_4.isIE){return _4.isIE>8;}return true;}return false;},_onClick:function(_25a){_4.stopEvent(_25a);if(this.format){this.item.format=this.format;}this.item.htmlBackground=this.htmlBackground;if(!this.item.isVideo){location.href=this.item.url.url;}else{if(this.item.type=="youtube"&&ibmweb.info.iDevice&&!this.useNewYTPlayer()){location.href=this.item.url.youtube;}else{if(this.videoWidget){this.videoWidget.stopAll().playNewVideo(this.item);}else{if(ibmweb.info.iDevice){this.item["alwaysFullScreen"]=true;}var _25b=new ext.media.overlaywidget();_25b.startup([this.item]);return;}}}}});}if(!_4._hasResource["ext.media.ribbonwidget"]){_4._hasResource["ext.media.ribbonwidget"]=true;_4.provide("ext.media.ribbonwidget");_4.declare("ext.media.ribbonwidget",[ext.media.abstractwidget,_5._Container],{title:"",columns:3,ribbon:null,thumbnails:[],heights:{"3":110,"4":130,"5":190,"6":220},videoWidget:null,templateString:_4.cache("ext.media","templates/RibbonWidget.html","<div class=\"ibm-container ibm-ribbon\" dojoAttachPoint=\"ribbonNode\">\n\t<h2 dojoAttachPoint=\"titleNode\"></h2>\n\t<ul class=\"ibm-container-controls\">\n\t\t<li dojoAttachPoint=\"galleryNode\" style=\"display:none\"><a dojoAttachPoint=\"galleryLinkNode\" dojoAttachEvent=\"onclick:_viewGalleryHandler\" href=\"\" class=\"ibm-gallery-view ibm-active\" title=\"Gallery view\"></a></li>\n\t\t<li dojoAttachPoint=\"viewAllNode\"><a dojoAttachPoint=\"viewAllLinkNode\" dojoAttachEvent=\"onclick:_viewAllHandler\" href=\"\" class=\"ibm-view-all\" title=\"\"></a></li>\n\t\t<li dojoAttachPoint=\"showHideNode\"><a dojoAttachPoint=\"showHideLinkNode\" dojoAttachEvent=\"onclick:_toggleShowHide\" href=\"\" class=\"ibm-show-hide\" title=\"\"></a></li>\n\t</ul>\n\t<div dojoAttachPoint=\"containerNode\">\n\t</div>\n</div>\n\n"),attributeMap:{title:{node:"titleNode",type:"innerHTML"}},postCreate:function(){this.inherited(arguments);if(this.options.ribbon_columns){this.columns=this.options.ribbon_columns;}if(this.columns==3){_4.addClass(this.domNode,"ibm-portrait");}},_dataCallback:function(data){this.thumbnails=[];if(!this.inherited(arguments)){return;}if(this.htmlBackground){for(var i=0,j=this.htmlBackground.length;i<j;i++){if(data[i]&&this.htmlBackground[i]!==""){data[i].thumbnails["140x88"]=this.htmlBackground[i];data[i].thumbnails["172x108"]=this.htmlBackground[i];data[i].thumbnails["60x38"]=this.htmlBackground[i];}}}data=this.normalizeDimensions(data);var cols=this.columns;this.ribbon=new ibmweb.ribbon({columns:cols});for(var i=0,j=data.length;i<j;i++){var item=data[i];var _25c=new ext.media.mediathumbnail({item:item,videoWidget:this.videoWidget,columns:cols,format:"ribbon",htmlBackground:this.htmlBackground});this.thumbnails.push(_25c);var _25d=new ibmweb.ribbonItem({columns:cols});_25d.addChild(_25c);this.ribbon.addItem(_25d);}this.addChild(this.ribbon);if(this.ribbon.slideCount()==1){_4.destroy(this.viewAllNode);_4.destroy(this.galleryNode);}_4.addClass(this.containerNode,"ibm-ribbon-container");this.shortenThumbs();this.ribbon.startup();if(this.options.is_inline_large){var _25e=_4.query("div.ibm-ribbon-pane div.ibm-media-thumb",this.containerNode);if(_25e.length>0){var that=this;var _25f=null;var _260=function(wh,_261){if(_25f&&data[_261]&&data[_261].title&&data[_261].description){_4.query(".ibm-media-beneath",_25f.parentNode).orphan();var div=_4.create("div",{className:"ibm-media-title-active ibm-media-beneath",innerHTML:"<h3>"+data[_261].title+"</h3>"},_25f,"after");var _262=_4.create("div",{},div);if(data[_261].description.length>188){var _263=_4.create("p",{innerHTML:data[_261].description.substr(0,188)+"...&nbsp;<a href=\"#show-more\" class=\"show_more\">[more]</a>"},_262);var _264=_4.create("p",{innerHTML:data[_261].description+" <a href=\"#show-less\" class=\"show_less\">[less]</a>"},_262);_4.style(_264,"display","none");_4.query("a.show_more",_262).onclick(function(e){_4.stopEvent(e);_4.style(_263,"display","none");_4.style(_264,"display","block");});_4.query("a.show_less",_262).onclick(function(e){_4.stopEvent(e);_4.style(_263,"display","block");_4.style(_264,"display","none");});}else{_4.create("p",{innerHTML:data[_261].description},_262);}}};_4.forEach(_25e,function(i,_265){_4.connect(i,"onclick",function(e){_4.stopEvent(e);var temp=_4.query("div.ibm-media-active",that.containerNode).removeClass("ibm-media-active");_4.addClass(i,"ibm-media-active");_260(i,_265);});});var temp=this.containerNode.parentNode.parentNode;var _266=_4.query("div.ibm-video-container",temp);if(_266.length==1){_25f=_266[0];_260(_25e[0],0);}_4.addClass(_25e[0],"ibm-media-active");_4.addClass(this.containerNode,"ibm-media-list");}}},shortenThumbs:function(){var _267=_4.query(".ibm-media-thumb",this.containerNode);var _268=new ext.media.makeitfit();var _269=this.heights[this.columns];var _26a="[more]";if(_4.exists("options.widgetHeight",this)){_269=this.options.widgetHeight;}if(_4.exists("options.moreLabel",this)){_26a=this.options.moreLabel;}_268.makeitfit(_267,_269,{linkText:_26a,"linkCall":"clickMore","linkContext":this,"linkClass":"show_more"});},clickMore:function(_26b){_4.stopEvent(_26b);for(var i=0;i<this.thumbnails.length;i++){if(_4.exists("options.lessLabel",this)){this.thumbnails[i].lessLabel=this.options.lessLabel;}this.thumbnails[i].expand(this);}this.resizeRibbon();return false;},resizeRibbon:function(){var max=0;var _26c=_4.query(".ibm-media-thumb",this.containerNode);_26c.forEach(_4.hitch(this,function(node){var _26d=_4.coords(node).h+_4.style(node,"borderTopWidth")+_4.style(node,"borderBottomWidth");if(_26d&&_26d>max){max=_26d;}}));_4.style(this.ribbon.scrollContainer,"height",max+10+"px");_4.style(this.ribbon.scrollLeftButton,{marginTop:(_4.coords(this.ribbon.scrollContainer).h/2)-12+"px"});_4.style(this.ribbon.scrollRightButton,{marginTop:"-"+((_4.coords(this.ribbon.scrollContainer).h)/2+12)+"px"});var _26e=_4.query(".ibm-ribbon-section",this.container)[0];var pane=_4.query(".ibm-ribbon-pane",this.container)[0];var _26f=_4.coords(_26e).h;pane.style.height=_26f+"px";},_viewAllHandler:function(_270){_4.stopEvent(_270);var self=_270.currentTarget;if(_4.hasClass(self,"ibm-active")){return false;}_4.addClass(self,"ibm-active");_4.style(this.viewAllNode,"display","none");_4.style(this.galleryNode,"display","");_4.attr(self,"title",ibmweb.dynnav.PMM.buttonData.view_all_sel);_4.query(".ibm-gallery-view",this.container).attr("title",ibmweb.dynnav.PMM.buttonData.gallery_view).removeClass("ibm-active");var pane=_4.query(".ibm-ribbon-pane",this.container)[0];var _271=_4.query(".ibm-ribbon-section",this.container)[0];_4.query(".ibm-ribbon-prev, .ibm-ribbon-next, .ibm-ribbon-nav",this.container).style("display","none");this.options._paneheight=_4.coords(pane).h;this.sectionStyleLeft=_4.coords(_271).l;_4.style(_271,{width:_4.coords(this.containerNode).w+"px",left:"0px"});var _272=_4.coords(_271).h;pane.style.height=_272+"px";this.containerNode.style.overflow="hidden";this.containerNode.style.width="940px";var el=this.containerNode;var _273=_4.query("div.ibm-ribbon-section > div+div",this.containerNode);_4.forEach(_273,function(i){_4.style(i,{opacity:0});_4.anim(i,{opacity:1},400);});return false;},_viewGalleryHandler:function(_274){_4.stopEvent(_274);var self=_274.currentTarget;if(_4.hasClass(self,"ibm-active")){return false;}_4.addClass(self,"ibm-active");_4.style(this.galleryNode,"display","none");_4.style(this.viewAllNode,"display","");_4.attr(self,"title",ibmweb.dynnav.PMM.buttonData.gallery_view_sel);_4.query(".ibm-view-all",this.container).attr("title",ibmweb.dynnav.PMM.buttonData.view_all).removeClass("ibm-active");_4.query(".ibm-ribbon-prev, .ibm-ribbon-next, .ibm-ribbon-nav",this.container).style("display","block");var _275=_4.query(".ibm-ribbon-container",this.container)[0];var pane=_4.query(".ibm-ribbon-pane",this.container)[0];var _276=_4.query(".ibm-ribbon-section",this.container)[0];var _277=_4.coords(this.containerNode).w;_276.style.width="20000em";var _278=_4.coords(_276).h;_276.style.width=_277+"px";var _279=this.sectionStyleLeft+"px";var _27a=this.options._paneheight;var _27b=_4.query("div.ibm-ribbon-section > div+div",this.containerNode);_4.forEach(_27b,function(i){_4.anim(i,{opacity:0},400);});_4.anim(pane,{height:_278},400,null,function(){_4.style(_275,"overflow","visible");_276.style.width="20000em";_276.style.left=_279;_4.forEach(_27b,function(i){_4.style(i,{opacity:1});});});return false;},clickLess:function(_27c){_4.stopEvent(_27c);for(var i=0;i<this.thumbnails.length;i++){this.thumbnails[i].removeLess();}this.shortenThumbs();this.resizeRibbon();return false;}});}if(!_4._hasResource["ext.media.playlistwidget"]){_4._hasResource["ext.media.playlistwidget"]=true;_4.provide("ext.media.playlistwidget");_4.declare("ext.media.playlistwidget",[ext.media.abstractwidget,_5._Container],{title:"",thumbnails:[],columns:3,heights:{1:100,2:80,3:100,4:100,5:100},videoWidget:null,templateString:_4.cache("ext.media","templates/PlaylistWidget.html","<div class=\"ibm-container ibm-playlist ibm-portrait\">\n\t<h2 dojoAttachPoint=\"titleNode\"></h2>\n\t<ul class=\"ibm-container-controls\">\n\t\t<li dojoAttachPoint=\"showHideNode\"><a dojoAttachPoint=\"showHideLinkNode\" dojoAttachEvent=\"onclick:_toggleShowHide\" href=\"\" class=\"ibm-show-hide\" title=\"\"></a></li>\n\t</ul>\n\t<div class=\"ibm-container-body\" dojoAttachPoint=\"bodyNode\">\n\t\t<div class=\"ibm-columns\" dojoAttachPoint=\"containerNode\"></div>\n\t</div>\n</div>\n\n"),attributeMap:{title:{node:"titleNode",type:"innerHTML"}},postCreate:function(){this.inherited(arguments);if(this.options.playlist_columns){this.columns=this.options.playlist_columns;}if(this.columns==1){_4.addClass(this.domNode,"ibm-secondary");}},_dataCallback:function(data){if(!this.inherited(arguments)){return;}this.thumbnails=[];data=this.normalizeDimensions(data);var cols=[];var _27d=(this.columns*6)-1;for(var i=0,j=this.columns;i<j;i++){var _27e=_4.create("div",{},this.containerNode);if(this.columns==2){_4.addClass(_27e,"ibm-col-6-3");}if(this.columns==3){_4.addClass(_27e,"ibm-col-6-2");}cols[i]=_4.create("ul",{className:"ibm-portrait-module-list"},_27e);}var _27f=Math.ceil(data.length/this.columns);var _280=0;for(var i=0,j=data.length;i<j;i++){var item=data[i];if(i%_27f==0&&i!=0){_280++;}var li=_4.create("li",{},cols[_280]);var _281=new ext.media.mediathumbnail({item:item,videoWidget:this.videoWidget,columns:this.columns,format:"playlist",htmlBackground:this.htmlBackground});this.thumbnails.push(_281);_281.placeAt(li);_281.startup();if(i==_27d){break;}}if(this.columns==1){_4.removeClass(this.containerNode,"ibm-columns");}var _282=null;var _283=null;this.shortenThumbs();if(this.options.format=="inline_medium"){var _284=_4.query("ul.ibm-portrait-module-list div.ibm-media-thumb",this.containerNode);if(_284.length>0){var that=this;var _285=null;var _286=function(wh,_287){if(_285&&data[_287]&&data[_287].title&&data[_287].description){_4.query(".ibm-media-beneath",_285).orphan();var div=_4.create("div",{className:"ibm-media-title-active ibm-media-beneath",innerHTML:"<h3>"+data[_287].title+"</h3>"},_285);var _288=_4.create("div",{},div);if(data[_287].description.length>94){var _289=_4.create("p",{innerHTML:data[_287].description.substr(0,94)+"...&nbsp;<a href=\"#show-more\" class=\"show_more\">[more]</a>"},_288);var _28a=_4.create("p",{innerHTML:data[_287].description+" <a href=\"#show-less\" class=\"show_less\">[less]</a>"},_288);_4.style(_28a,"display","none");_4.query("a.show_more",_288).onclick(function(e){_4.stopEvent(e);_4.style(_289,"display","none");_4.style(_28a,"display","block");});_4.query("a.show_less",_288).onclick(function(e){_4.stopEvent(e);_4.style(_289,"display","block");_4.style(_28a,"display","none");});}else{_4.create("p",{innerHTML:data[_287].description},_288);}}};_4.forEach(_284,function(i,_28b){_4.connect(i,"onclick",function(e){_4.stopEvent(e);_4.query("div.ibm-media-active",that.containerNode).removeClass("ibm-media-active");_4.addClass(i,"ibm-media-active");_286(i,_28b);});});var temp=this.containerNode.parentNode.parentNode.parentNode.parentNode;var _27e=_4.query("div.ibm-col-6-4 div.ibm-container div.ibm-container-body",temp);if(_27e.length==1){_285=_27e[0];_286(_284[0],0);}_4.addClass(_284[0],"ibm-media-active");_4.addClass(this.containerNode,"ibm-media-list");}}},shortenThumbs:function(){var _28c=_4.query(".ibm-media-thumb",this.containerNode);var _28d=new ext.media.makeitfit();var _28e=this.heights[this.columns];var _28f="[more]";if(_4.exists("options.widgetHeight",this)){_28e=this.options.widgetHeight;}if(_4.exists("options.moreLabel",this)){_28f=this.options.moreLabel;}_28d.makeitfit(_28c,_28e,{linkText:_28f,"linkCall":"clickMore","linkContext":this,"linkClass":"show_more"});this.setSize();},clickMore:function(_290){_4.stopEvent(_290);for(var i=0;i<this.thumbnails.length;i++){if(_4.exists("options.lessLabel",this)){this.thumbnails[i].lessLabel=this.options.lessLabel;}this.thumbnails[i].expand(this);}this.setSize();return false;},clickLess:function(_291){_4.stopEvent(_291);for(var i=0;i<this.thumbnails.length;i++){this.thumbnails[i].removeLess();}var _292=_4.query(".ibm-media-thumb",this.containerNode);for(var i=0;i<_292.length;i++){_292[i].style.height="auto";}this.shortenThumbs();this.setSize();return false;},setSize:function(){if(this.columns==1){return;}var _293=_4.query(".ibm-media-thumb",this.containerNode);for(var i=0;i<_293.length;i++){_293[i].style.height="auto";}_4.style(_293,"height","parent");var i=1;var _294="ul li:nth-child(${row}) div";var _293=_4.query(_4.string.substitute(_294,{"row":i}),this.containerNode);while(_293.length!=0){var _295=0;for(var j=0;j<_293.length;j++){if(_4.contentBox(_293[j]).h>_295){_295=_4.contentBox(_293[j]).h;}}for(var j=0;j<_293.length;j++){_293[j].style.height=_295+"px";}_293=_4.query(_4.string.substitute(_294,{"row":++i}),this.containerNode);}}});}if(!_4._hasResource["ext.media.videowidget"]){_4._hasResource["ext.media.videowidget"]=true;_4.provide("ext.media.videowidget");_4.declare("ext.media.videowidget",[ext.media.abstractwidget,_5._Container],{title:"",ibmvideoWidget:null,templateString:_4.cache("ext.media","templates/VideoWidget.html","<div class=\"ibm-container ibm-video\">\n\t<h2 dojoAttachPoint=\"titleNode\"></h2>\n\t<ul class=\"ibm-container-controls\">\n\t\t<li dojoAttachPoint=\"showHideNode\"><a dojoAttachPoint=\"showHideLinkNode\" dojoAttachEvent=\"onclick:_toggleShowHide\" href=\"\" class=\"ibm-show-hide\" title=\"\"></a></li>\n\t</ul>\n\t<div class=\"ibm-container-body\" dojoAttachPoint=\"bodyNode\">\n\t\t<div class=\"ibm-video-container\" dojoAttachPoint=\"containerNode\"></div>\n\t</div>\n</div>\n"),attributeMap:{title:{node:"titleNode",type:"innerHTML"}},postCreate:function(){this.inherited(arguments);},_dataCallback:function(data){data=this.normalizeDimensions(data);if(!this.inherited(arguments)){return;}var _296=data[0];if(this.format){_296.format=this.format;}if(this.options.format){_296.format=this.options.format;}if(this.options.htmlBackground){_296.htmlBackground=this.options.htmlBackground;}if(this.htmlBackground){_296.htmlBackground=this.htmlBackground;}this.ibmvideoWidget=new ibmweb.video(_296);this.addChild(this.ibmvideoWidget);this.ibmvideoWidget.startup();}});}if(!_4._hasResource["ext.media.overlaywidget"]){_4._hasResource["ext.media.overlaywidget"]=true;_4.provide("ext.media.overlaywidget");_4.declare("ext.media.overlaywidget",[ext.media.abstractwidget],{title:"",templateString:_4.cache("ext.media","templates/OverlayWidget.html","<div></div>\n"),_dataCallback:function(data){data=this.normalizeDimensions(data);if(!this.inherited(arguments)){return;}var _297=data[0];if(this.options.captionurl){_297.captionurl=this.options.captionurl;}if(ibmweb.info.iDevice){_297["alwaysFullScreen"]=true;}var _298=new ibmweb.video(_297);if(_298.useNewYTPlayer()){_297.height+=23;}if(_298.useNewYTPlayer()&&ibmweb.info.iDevice){_298.placeAt(_4.query("body")[0]);_298.stopAll();_298.startup();return;}var obj={};if(_4.isIE<8&&_297.width&&_297.height){obj.style="width: "+_297.width+"px; height: "+_297.height+"px;";}var _299=new _5.Dialog(obj);_4.addClass(_299.domNode,"ibm_media_overlay");_4.connect(_299,"onCancel",function(e){_298.stop();});_299.attr("content",_298);_299.show();_298.startup();_298.stopAll().play();}});}if(!_4._hasResource["ext.media.largewidget"]){_4._hasResource["ext.media.largewidget"]=true;_4.provide("ext.media.largewidget");_4.declare("ext.media.largewidget",[ext.media.abstractwidget,_5._Container],{title:"",playlistTitle:"",templateString:_4.cache("ext.media","templates/LargeWidget.html","<div class=\"ibm-columns\">\n\t<div class=\"ibm-col-1-1\" dojoAttachPoint=\"containerNode\">\n\t</div>\n</div>\n"),postCreate:function(){this.inherited(arguments);if(this.container){var h2s=_4.query("h2",this.container);if(h2s&&h2s.length>0){this.playlistTitle=h2s[0].innerHTML;}h2s.forEach(_4.destroy);}},_dataCallback:function(data){data=this.normalizeDimensions(data);if(!this.inherited(arguments)){return;}var _29a=new ext.media.videowidget({container:this.containerNode,options:{format:"inline_large"+(this.options.ribbon?"|ribbon":""),collapsed:this.options.collapsed,htmlBackground:this.htmlBackground},title:this.title});this.addChild(_29a);_29a.startup(data);if(this.options.ribbon){var _29b=new ext.media.ribbonwidget({container:null,options:{format:"ribbon",ribbon_columns:this.options.ribbon_columns,no_hide:true,no_gallery:true,is_inline_large:true},title:this.playlistTitle,videoWidget:_29a.ibmvideoWidget});_29b.placeAt(_29a.bodyNode);_29b.startup(data);}}});}if(!_4._hasResource["ext.media.mediumwidget"]){_4._hasResource["ext.media.mediumwidget"]=true;_4.provide("ext.media.mediumwidget");_4.declare("ext.media.mediumwidget",[ext.media.abstractwidget,_5._Container],{title:"",playlistTitle:"",templateString:_4.cache("ext.media","templates/MediumWidget.html","<div class=\"ibm-columns\">\n\t<div class=\"ibm-col-6-4\" dojoAttachPoint=\"containerNode\">\n\t</div>\n\t<div class=\"ibm-col-6-2\" dojoAttachPoint=\"playlistNode\">\n\t</div>\n</div>\n"),postCreate:function(){this.inherited(arguments);if(this.container){var h2s=_4.query("h2",this.container);if(h2s&&h2s.length>0){this.playlistTitle=h2s[0].innerHTML;}h2s.forEach(_4.destroy);}},_dataCallback:function(data){data=this.normalizeDimensions(data);if(!this.inherited(arguments)){return;}var _29c=new ext.media.videowidget({container:this.containerNode,options:{format:"inline_medium",htmlBackground:this.htmlBackground,collapsed:this.options.collapsed},title:this.title});this.addChild(_29c);_29c.startup(data);var _29d={playlist_columns:1};_29d=_4.mixin(this.options,_29d);var _29e=new ext.media.playlistwidget({container:this.playlistNode,options:_29d,title:this.playlistTitle,videoWidget:_29c.ibmvideoWidget});_29e.placeAt(this.playlistNode);_29e.startup(data);}});}if(!_4._hasResource["ext.media.thumbnailwidget"]){_4._hasResource["ext.media.thumbnailwidget"]=true;_4.provide("ext.media.thumbnailwidget");_4.declare("ext.media.thumbnailwidget",[ext.media.abstractwidget,_5._Container],{videoWidget:null,templateString:_4.cache("ext.media","templates/ThumbnailWidget.html","<div class=\"ibm-thumbnail-widget\" dojoAttachPoint=\"containerNode\"></div>\n"),attributeMap:{},thumbnail:null,postCreate:function(){this.inherited(arguments);},_dataCallback:function(data){if(!this.inherited(arguments)){return;}if(this.htmlBackground&&this.htmlBackground!==""){data[0].thumbnails["172x108"]=this.htmlBackground;}data=this.normalizeDimensions(data);this.thumbnail=new ext.media.mediathumbnail({item:data[0],videoWidget:this.videoWidget,columns:5,format:"ribbon",htmlBackground:this.htmlBackground});this.addChild(this.thumbnail);this.shortenDescription();},shortenDescription:function(){var _29f=new ext.media.makeitfit();var _2a0=220;var _2a1="[more]";if(_4.exists("options.widgetHeight",this)){_2a0=this.options.widgetHeight;}if(_4.exists("options.moreLabel",this)){_2a1=this.options.moreLabel;}_29f.makeitfit(this.thumbnail.thumbContainer,_2a0,{linkText:_2a1,"linkCall":"clickMore","linkContext":this,"linkClass":"show_more"});},clickMore:function(_2a2){_4.stopEvent(_2a2);this.thumbnail.expand(this);return false;},clickLess:function(_2a3){_4.stopEvent(_2a3);this.thumbnail.removeLess();this.shortenDescription();}});}if(!_4._hasResource["ext.media.makeitfit"]){_4._hasResource["ext.media.makeitfit"]=true;_4.provide("ext.media.makeitfit");_4.declare("ext.media.makeitfit",null,{makeitfit:function(_2a4,_2a5,more){if(_4.isArray(_2a4)){_2a4.forEach(_4.hitch(this,function(node){this.shorten(node,node,_2a5,more);}));}else{this.shorten(_2a4,_2a4,_2a5,more);}},shorten:function(node,_2a6,size,more){if(this.getHeight(_2a6)<size){return true;}if(node.childNodes.length!=0){for(var i=node.childNodes.length;i>0;i--){var _2a7=this.shorten(node.childNodes[i-1],_2a6,size,more);if(_2a7){return true;}}}if(node.nodeType&&node.nodeType!=3){return false;}var _2a8=_4.trim(node.nodeValue);node.nodeValue="";if(this.getHeight(_2a6)>size){return false;}var _2a9="... ";node.nodeValue=_2a8+_2a9;if(more){var link=_4.create("a",{"href":"#","innerHTML":more.linkText,"class":more.linkClass},node.parentNode,"last");_4.connect(link,"onclick",more.linkContext,more.linkCall);}while(this.getHeight(_2a6)>size&&_2a8!=_2a9&&_2a8!=""){if(node.nodeValue.length>=_2a9.length){_2a8=node.nodeValue.substring(0,node.nodeValue.length-_2a9.length);node.nodeValue=_2a8.substring(0,_2a8.lastIndexOf(" "))+_2a9;}}return true;},getHeight:function(node){var _2aa=_4.contentBox(node).h;if(isNaN(_2aa)){_2aa=_4.contentBox(node.parentNode).h;}return _2aa;},constructor:function(args){}});}if(!_4._hasResource["ext.media._base"]){_4._hasResource["ext.media._base"]=true;_4.provide("ext.media._base");}}};});
