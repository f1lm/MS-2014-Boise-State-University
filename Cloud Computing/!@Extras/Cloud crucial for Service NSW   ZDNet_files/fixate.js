define(["jquery","version!fly/managers/debug","version!fly/components/fixate"],function(e,t){t=t.init("fixate"),e.widget("zdnet.fixate",e.fly.fixate,{_unfix:function(e){var t=this.options;this.isFixed=!1,this.$element.addClass(t.classUnfixed).removeClass(t.classFixed),e==="top"?this.$element.css("top",this.boundary.top+t.offset.top-(this.$window.scrollTop()<0?0:this.$window.scrollTop())):this.$element.css("top",this.boundary.bottom-t.offset.bottom-this.$element.height()-(this.$window.scrollTop()<0?0:this.$window.scrollTop())),this._placeHorizontally()},checkPosition:function(){var e=this.options,t=this.$window.scrollTop()<0?0:this.$window.scrollTop(),n=t+this.$window.height(),r=this.$element.height();this._setBoundaries(),e.primaryEdge==="top"?t<this.boundary.top?this._unfix("top"):this.boundary.bottom>=0&&t+e.offset.top+r+e.offset.bottom>this.boundary.bottom?this._unfix("bottom"):this._fix():n>this.boundary.bottom?this._unfix("bottom"):n-e.offset.bottom-r-e.offset.top<this.boundary.top?this._unfix("top"):this._fix()}})})