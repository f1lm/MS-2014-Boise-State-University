define(["jquery","version!fly/managers/debug","managers/social/social-flags"],function(e,t,n){t=t.init("linkedin");var r=!1,i={onInit:null};return{init:function(s){var o=this;n.enabled.linkedin&&(e.extend(!0,i,s),r?i.onInit&&i.onInit():require(["linked-in"],function(){window.linkedInOnLoad=function(){r=!0,i.onInit&&i.onInit(),delete window.linkedInOnLoad,o.setupEvents(),t.log("Initialized")},IN.init({onLoad:"linkedInOnLoad"})}))},parse:function(e){r?e?IN.parse(e):IN.parse(document.body):t.log("Parse failed -- not initialized yet")},isInitialized:function(){return r},setupEvents:function(){var n=this;t.log("Setting up events");var r=e('[data-social="linkedin"]');r.length>0&&r.click(function(){t.log("LinkedIn Clicked!"),n.trackShare()});var i=e('[data-popup="linkedin"]');i.length>0&&i.click(function(){t.log("LinkedIn Clicked!"),n.trackShare()}),window.LinkedInShare=function(){t.log("Shared");var e={};n.trackShare(e)},IN.Event.on(IN,"click",function(e){t.log("Shared");var r={};n.trackShare(r)})},trackShare:function(e){dwMgr.trackSocialShare(this,{eventt:"share",lite_event_category:"social",ssite:"linkedin",wd:"sharebar",wdloc:"body"}),omnitureMgr.trackEvent("clickSocialShare",{socialCode:omnitureMgr.getSocialCode("linkedin")})}}})