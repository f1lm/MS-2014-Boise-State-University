define(["jquery","version!fly/managers/debug","managers/user","utils/cookie","version!fly/components/base"],function(e,t,n,r){t=t.init("editionToggler"),e.widget("zdnet.editionToggler",e.fly.base,{options:{preferredEditionCookie:"fly_preferred_edition"},_create:function(){this._setup(),this._showCurrentEdition(),this._setupEvents()},_showCurrentEdition:function(){e('[data-label="edition"]').text((r.read("fly_preferred_edition")||r.read("fly_default_edition")||"").toUpperCase())},_setupEvents:function(){var n=this;e("[data-edition]",this.$element).on("click",function(i){i.preventDefault();var s=e(this).data("edition");t.log("setting preferred edition cookie from menu value: "+s),r.write(n.options.preferredEditionCookie,s,{expires:365}),window.location.reload()})}})})