/*
 ### jQuery XML to JSON Plugin v1.3 - 2013-02-18 ###
 * http://www.fyneworks.com/ - diego@fyneworks.com
 * Licensed under http://en.wikipedia.org/wiki/MIT_License
 ###
 Website: http://www.fyneworks.com/jquery/xml-to-json/
*/
window.jQuery&&function(e){e.extend({xml2json:function(n,t){function l(n,a){if(!n)return null;{var o="",i=null,c=null;n.nodeType,r(n.localName||n.nodeName),n.text||n.nodeValue||""}n.childNodes&&n.childNodes.length>0&&e.each(n.childNodes,function(e,n){var t=n.nodeType,a=r(n.localName||n.nodeName),c=n.text||n.nodeValue||"";if(8!=t)if(3!=t&&4!=t&&a)i=i||{},i[a]?(i[a].length||(i[a]=u(i[a])),i[a]=u(i[a]),i[a][i[a].length]=l(n,!0),i[a].length=i[a].length):i[a]=l(n);else{if(c.match(/^\s+$/))return;o+=c.replace(/^\s+/,"").replace(/\s+$/,"")}}),n.attributes&&n.attributes.length>0&&(c={},i=i||{},e.each(n.attributes,function(e,n){var t=r(n.name),l=n.value;c[t]=l,i[t]?(i[cnn]=u(i[cnn]),i[t][i[t].length]=l,i[t].length=i[t].length):i[t]=l})),i&&(i=e.extend(""!=o?new String(o):{},i||{}),o=i.text?[i.text||""].concat([o]):o,o&&(i.text=o),o="");var d=i||o;return t&&(o&&(d={}),o=d.text||o||"",o&&(d.text=o),a||(d=u(d))),d}if(!n)return{};var r=function(e){return String(e||"").replace(/-/g,"_")},u=function(n){return e.isArray(n)||(n=[n]),n.length=n.length,n};if("string"==typeof n&&(n=e.text2xml(n)),n.nodeType){if(3==n.nodeType||4==n.nodeType)return n.nodeValue;var a=9==n.nodeType?n.documentElement:n,o=l(a,!0);return n=null,a=null,o}},text2xml:function(n){return e.parseXML(n)}})}(jQuery);