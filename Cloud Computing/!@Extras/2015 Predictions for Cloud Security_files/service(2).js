(function(e,t){sumo.define("plugins/css",[],function(){if(typeof window=="undefined")return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?r=!1:t[4]&&(n=parseInt(t[4])<18);var i={};i.pluginBuilder="./css-builder";var s,o=function(){s=document.createElement("style"),e.appendChild(s)},u=function(e,t){o();var n=s.styleSheet||s.sheet;if(n&&n.addImport)n.addImport(e),s.onload=t;else{s.textContent='@import "'+e+'";';var r=setInterval(function(){try{s.sheet.cssRules,clearInterval(r),t()}catch(e){}},10)}},a=function(t,n){var i=document.createElement("link");i.type="text/css",i.rel="stylesheet";if(r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==i.href)return clearInterval(s),n()}},10);i.href=t,e.appendChild(i)};return i.normalize=function(e,t){return e.substr(e.length-4,4)==".css"&&(e=e.substr(0,e.length-4)),t(e)},i.load=function(e,t,r,i){(n?u:a)(t.toUrl(e+".css"),r)},i}),function(e){typeof sumo.define=="function"&&sumo.define.amd?sumo.define("jquery.cookie",["jquery"],e):e(jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{e=decodeURIComponent(e.replace(t," "))}catch(n){return}try{return u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g,u=e.cookie=function(t,s,a){if(s!==undefined&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+f)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{},h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("="),m=r(v.shift()),g=v.join("=");if(t&&t===m){c=o(g,s);break}!t&&(g=o(g))!==undefined&&(c[m]=g)}return c};u.defaults={},e.removeCookie=function(t,n){return e.cookie(t)!==undefined?(e.cookie(t,"",e.extend({},n,{expires:-1})),!0):!1}}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,n=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,r=typeof location!="undefined"&&location.href,i=r&&location.protocol&&location.protocol.replace(/\:/,""),s=r&&location.hostname,o=r&&(location.port||void 0),u=[];sumo.define("plugins/text",[],function(){var a,f,l;return typeof window!="undefined"&&window.navigator&&window.document?f=function(e,t){var n=a.createXhr();n.open("GET",e,!0),n.onreadystatechange=function(){n.readyState===4&&t(n.responseText)},n.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(l=require.nodeRequire("fs"),f=function(e,t){t(l.readFileSync(e,"utf8"))}):typeof Packages!="undefined"&&(f=function(e,t){var n=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),n=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(n),"utf-8")),i,s,o="";try{i=new java.lang.StringBuffer,(s=n.readLine())&&s.length()&&s.charAt(0)===65279&&(s=s.substring(1));for(i.append(s);(s=n.readLine())!==null;)i.append(r),i.append(s);o=String(i.toString())}finally{n.close()}t(o)}),a={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),r=e.match(n);r&&(e=r[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(n=0;n<3;n++){r=e[n];try{t=new ActiveXObject(r)}catch(i){}if(t){e=[r];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:f,parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),e=e.substring(n+1,e.length),n=e.indexOf("!");return n!==-1&&(t=e.substring(n+1,e.length),t=t==="strip",e=e.substring(0,n)),{moduleName:r,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=a.xdRegExp.exec(e),s;return i?(e=i[2],i=i[3],i=i.split(":"),s=i[1],i=i[0],(!e||e===t)&&(!i||i===n)&&(!s&&!i||s===r)):!0},finishLoad:function(e,t,n,r,i){n=t?a.strip(n):n,i.isBuild&&(u[e]=n),r(n)},load:function(e,t,n,u){if(u.isBuild&&!u.inlineText)n();else{var f=a.parseName(e),l=f.moduleName+"."+f.ext,c=t.toUrl(l),h=u&&u.text&&u.text.useXhr||a.useXhr;!r||h(c,i,s,o)?a.get(c,function(t){a.finishLoad(e,f.strip,t,n,u)}):t([l],function(e){a.finishLoad(f.moduleName+"."+f.ext,f.strip,e,n,u)})}},write:function(e,t,n){if(t in u){var r=a.jsEscape(u[t]);n.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,n,r,i){var t=a.parseName(t),s=t.moduleName+"."+t.ext,o=n.toUrl(t.moduleName+"."+t.ext)+".js";a.load(s,n,function(){var t=function(e){return r(o,e)};t.asModule=function(e,t){return r.asModule(e,o,t)},a.write(e,s,t,i)},i)}}})}(),sumo.define("plugins/text!13359558-e447-43f3-a3cd-aa61c0b91c02/templates/email_popup.html",[],function(){return'<div class="sumome-scrollbox-form">\n  <h2 class="sumome-scrollbox-heading"></h2>\n  <div class="sumome-scrollbox-text"></div>\n  <div class="sumome-scrollbox-error"></div>\n  <input class="sumome-scrollbox-input" type="text" value="" autofocus name="scrollbox_email_address" id="scrollbox_email_address" placeholder="Enter your email address" />\n  <button class="sumome-scrollbox-button sumome-scrollbox-button-bg sumome-scrollbox-button-text" type="submit">Subscribe Me</button>\n  <button class="sumome-scrollbox-continue sumome-scrollbox-continue-bg sumome-scrollbox-continue-text" type="submit" style="display:none;">Continue</button>\n</div>'}),sumo.define("jquery.style",["jquery"],function(e){if(e.fn.style)return;var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},n=!!CSSStyleDeclaration.prototype.getPropertyValue;n||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,n,r){this.setAttribute(e,n);var r=typeof r!="undefined"?r:"";if(r!=""){var i=new RegExp(t(e)+"\\s*:\\s*"+t(n)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(i,e+": "+n+" !"+r+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){var n=new RegExp(t(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return n.test(this.cssText)?"important":""}),e.fn.style=function(e,t,n){var r=this.get(0);if(typeof r=="undefined")return this;var i=this.get(0).style;return typeof e!="undefined"?typeof t!="undefined"?(n=typeof n!="undefined"?n:"",i.setProperty(e,t,n),this):i.getPropertyValue(e):i}}),sumo.define("13359558-e447-43f3-a3cd-aa61c0b91c02/scrollbox",["jquery","jquery.cookie","plugins/text!13359558-e447-43f3-a3cd-aa61c0b91c02/templates/email_popup.html","jquery.style"],function(e,t,n){var r={hasShown:!1,settings:{},cookieName:"__smScrollBoxShown",subCookieName:"__smSubscribed",load:function(){var t=e.cookie(this.subCookieName)&&e.cookie(this.subCookieName)==="true"||e.cookie(this.cookieName)&&e.cookie(this.cookieName)==="true";t||e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/apps/scrollbox/load",data:{site_id:this.api.properties.siteId},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(t){if(t&&"success"in t&&t.success){e.extend(this.settings,t);var n=!1,r=window.location.toString().toLowerCase(),i=window.location.pathname.toString().toLowerCase();i.length>1&&i[i.length-1]=="/"&&(i=i.substring(0,i.length-1));for(var s=0;s<this.settings.exclude_urls.length&&!n;s++){var o=this.settings.exclude_urls[s].toLowerCase();o.length>1&&o[o.length-1]=="/"&&(o=o.substring(0,o.length-1)),o==="/"?n=i==o:o.indexOf("exact:")==0?n=r==o.substring(6)||i==o.substring(6):n=r.indexOf(o)!==-1}n||this.install()}},this))},install:function(){e(window).scroll(e.proxy(function(){var t=e(window).height(),n=e(document).height(),r=e(window).scrollTop(),i=n-t,s=r/i;s=Math.max(0,s),s=Math.min(1,s);var o=Math.min(100,Math.max(0,this.settings.trigger_percent/100));s>=o&&this.show()},this))},shadeColor:function(e,t){e=e.toString();var n=parseInt(e.slice(1),16),r=Math.round(2.55*t),i=(n>>16)+r,s=(n>>8&255)+r,o=(n&255)+r;return"#"+(16777216+(i<255?i<1?0:i:255)*65536+(s<255?s<1?0:s:255)*256+(o<255?o<1?0:o:255)).toString(16).slice(1)},show:function(t,r){if((this.hasShown||this.settings.yield&&this.api.properties.yield)&&!r)return;t=t||this.settings;if(!("show_position"in t))return;if(!r){var i=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(t.device_mode=="mobile"&&i>480)return;if(t.device_mode=="desktop"&&i<=480)return}if(!r){this.hasShown=!0;if(t.cookie_lifetime!==-1){var s=new Date;switch(t.cookie_lifetime_interval){case"minute":s.setMinutes(s.getMinutes()+this.settings.cookie_lifetime);break;case"hour":s.setHours(s.getHours()+this.settings.cookie_lifetime);break;case"day":s.setDate(s.getDate()+this.settings.cookie_lifetime);break;case"month":s.setMonth(s.getMonth()+this.settings.cookie_lifetime);break;case"year":s.setFullYear(s.getFullYear()+this.settings.cookie_lifetime)}e.cookie(this.cookieName,!0,{expires:s,path:"/"})}this.api.emit("event",{appId:"13359558-e447-43f3-a3cd-aa61c0b91c02",event:"popup"}),this.api.emit("setProperties",{yield:!0})}var o=t.show_position.split("-"),u=o[0],a=o[1];this.$scrollbox=e("<div />").addClass("sumome-scrollbox-popup").addClass("sumome-scrollbox-"+u).addClass("sumome-scrollbox-"+a).addClass("sumome-scrollbox-"+t.content_width).addClass("sumome-res-medium").data("sumome-scrollbox-config",t),this.$scrollbox.hide(),this.$scrollbox.css({left:"-10000px",top:"-10000px"});var f=e("<a />").addClass("sumome-scrollbox-close").appendTo(this.$scrollbox);f.on("click",e.proxy(function(){this.close()},this)),t.advanced_form?(this.$scrollbox.style("background-color",t.modal_color,"important"),e("<div />").addClass("sumome-scrollbox-content").html(t.advanced_form).appendTo(this.$scrollbox).css({padding:"1em"})):t.scrollBoxTemplate?(this.$scrollbox.style("background-color","transparent","important"),e("<div />").addClass("sumome-scrollbox-content").html(t.scrollBoxTemplate.html).appendTo(this.$scrollbox),this.$scrollbox.find(".sumome-scrollbox-modal-bg").style("background-color",t.modal_color,"important"),this.$scrollbox.find(".sumome-scrollbox-form").append('<a class="sumome-scrollbox-link" href="http://sumome.com/?src=sm-sb-'+this.api.properties.siteId+'" target="_blank">Powered by SumoMe</a>'),this.findAndStyleElements(t),this.$headingEl.text(t.heading_text),this.$textEl.html(t.blurb_text),this.$buttonEl.text(t.button_text),this.$inputEl.attr("placeholder",t.placeholder_text)):(this.$scrollbox.style("background-color",t.modal_color,"important"),e("<div />").addClass("sumome-scrollbox-content").html(n).appendTo(this.$scrollbox),this.$scrollbox.find(".sumome-scrollbox-form").append('<a class="sumome-scrollbox-link" href="http://sumome.com/?src=sm-sb-'+this.api.properties.siteId+'" target="_blank">Powered by SumoMe</a>'),this.findAndStyleElements(t),this.$headingEl.text(t.heading_text),this.$textEl.html(t.blurb_text),this.$buttonEl.text(t.button_text),this.$inputEl.attr("placeholder",t.placeholder_text)),this.$scrollbox.appendTo(e(document.body)),!r&&!t.advanced_form&&(this.$buttonEl.prop("disabled","disabled"),this.$inputEl.on("keyup change paste",e.proxy(function(e){var t=/^[\+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,n=this.$inputEl.val().trim();t.test(n)?this.$buttonEl.prop("disabled",!1):this.$buttonEl.prop("disabled","disabled")},this)),this.$inputEl.on("keydown",e.proxy(function(e){e.keyCode===13&&(this.$buttonEl.is(":disabled")||this.$buttonEl.trigger("click"))},this)),this.$buttonEl.on("click",e.proxy(function(){if(!this.$buttonEl.is(":disabled")){var e=this.$inputEl.val().trim();this.logEmail(e)}},this)));var l=this.$scrollbox.outerHeight(),i=this.$scrollbox.outerWidth(),c={},h={};switch(u){case"top":c.top=t.slide_direction=="in"?"0px":"-"+l+"px",h.top="0px";break;case"bottom":c.bottom=t.slide_direction=="in"?"0px":"-"+l+"px",h.bottom="0px"}switch(a){case"left":c.left=t.slide_direction=="up"?"0px":"-"+i+"px",h.left="0px";break;case"right":c.right=t.slide_direction=="up"?"0px":"-"+i+"px",h.right="0px"}this.$scrollbox.css({top:"",left:""}),this.$scrollbox.css(c),this.$scrollbox.show(),this.$scrollbox.animate(h)},logEmail:function(t){this.$buttonEl.prop("disabled","disabled"),e.ajax({type:"POST",dataType:"json",url:this.api.properties.sumoUrl+"/list/subscribe",data:{site_id:this.api.properties.siteId,app_id:"13359558-e447-43f3-a3cd-aa61c0b91c02",email_address:t},xhrFields:{withCredentials:!1},crossDomain:!0}).done(e.proxy(function(n){if(n&&"success"in n&&n.success){this.api.emit("event",{appId:"13359558-e447-43f3-a3cd-aa61c0b91c02",event:"subscribe"});var r=new Date;r.setFullYear(r.getFullYear()+10),e.cookie(this.subCookieName,!0,{expires:r,path:"/"});if(this.settings.subscribe_redirect_url)if(this.settings.subscribe_redirect_method=="post"){var i=e("<form />").attr("method","post").attr("action",this.settings.subscribe_redirect_url);if(this.settings.subscribe_redirect_variable){var s=e("<input />").attr("type","text").attr("name",this.settings.subscribe_redirect_variable).val(t);i.append(s)}e(document.body).append(i),setTimeout(function(){i.trigger("submit")},1e3)}else if(this.settings.subscribe_redirect_method=="get"){var o=this.settings.subscribe_redirect_url;if(this.settings.subscribe_redirect_variable){var u={};o.indexOf("?")>0?o+="&":o+="?",u[this.settings.subscribe_redirect_variable]=t,o+=e.param(u)}setTimeout(function(){window.location=o},1e3)}else setTimeout(e.proxy(function(){window.location=this.settings.subscribe_redirect_url},this),1e3);else this.continueContent()}else n&&"error"in n?(this.$errorEl.text(n.error).show(),setTimeout(e.proxy(function(){this.$buttonEl.prop("disabled",!1)},this),1e3)):this.close()},this))},continueContent:function(){this.continueMode=!0,this.$inputEl.hide(),this.$buttonEl.hide(),this.$continueButtonTextEl.text(this.settings.continue_button_text),this.$continueButtonEl.show(),this.findAndStyleElements(),this.$headingEl.text(this.settings.continue_heading_text),this.$textEl.html(this.settings.continue_blurb_text),this.$continueButtonEl.on("click",e.proxy(function(){this.close()},this)),setTimeout(e.proxy(function(){this.$continueButtonEl.trigger("click")},this),1e4)},findAndStyleElements:function(e){var e=e||this.settings;this.$headingEl=this.$scrollbox.find(".sumome-scrollbox-heading"),this.$headingEl.style("color",e.heading_color,"important"),this.$textEl=this.$scrollbox.find(".sumome-scrollbox-text"),this.$textEl.style("color",e.text_color,"important"),this.$inputEl=this.$scrollbox.find(".sumome-scrollbox-input"),this.$buttonEl=this.$scrollbox.find(".sumome-scrollbox-button"),this.$buttonBgEl=this.$scrollbox.find(".sumome-scrollbox-button-bg"),this.$buttonTextEl=this.$scrollbox.find(".sumome-scrollbox-button-text"),this.$continueButtonEl=this.$scrollbox.find(".sumome-scrollbox-continue"),this.$continueButtonBgEl=this.$scrollbox.find(".sumome-scrollbox-continue-bg"),this.$continueButtonTextEl=this.$scrollbox.find(".sumome-scrollbox-continue-text"),this.$linkEl=this.$scrollbox.find(".sumome-scrollbox-link"),this.$linkEl.style("color",e.text_color,"important"),this.$errorEl=this.$scrollbox.find(".sumome-scrollbox-form div.sumome-scrollbox-error").hide(),this.$buttonBgEl.style("background-color",e.button_back_color,"important"),this.$buttonBgEl.style("border-bottom-color",this.shadeColor(e.button_back_color,-10),"important"),this.$buttonTextEl.style("color",e.button_fore_color,"important"),this.$continueButtonBgEl.style("background-color",e.button_back_color,"important"),this.$continueButtonBgEl.style("border-bottom-color",this.shadeColor(e.button_back_color,-10),"important"),this.$continueButtonTextEl.style("color",e.button_fore_color,"important"),this.$scrollbox.find(".sumome-scrollbox-close").style("color",e.text_color,"important")},close:function(){var t=this.$scrollbox.data("sumome-scrollbox-config"),n=t.show_position.split("-"),r=n[0],i=n[1],s=this.$scrollbox.outerHeight(),o=this.$scrollbox.outerWidth(),u={};switch(r){case"top":u.top=t.slide_direction=="in"?"0px":"-"+s+"px";break;case"bottom":u.bottom=t.slide_direction=="in"?"0px":"-"+s+"px"}switch(i){case"left":u.left=t.slide_direction=="up"?"0px":"-"+o+"px";break;case"right":u.right=t.slide_direction=="up"?"0px":"-"+o+"px"}this.$scrollbox.animate(u,e.proxy(function(){this.$scrollbox.remove(),this.$scrollbox=null,"closeCallback"in t&&t.closeCallback.call(this)},this))}};return r}),sumo.define("13359558-e447-43f3-a3cd-aa61c0b91c02/service",["jquery","13359558-e447-43f3-a3cd-aa61c0b91c02/scrollbox"],function(e,t){return function(e){var n=function(n,r){sumo.require(["plugins/css!../css/sumome-scrollbox-popup.css"],function(){t.api=e,t.load(),r()})},r=function(e){e()};return{init:n,destroy:r}}}),sumo.define("13359558-e447-43f3-a3cd-aa61c0b91c02/service",function(){})})(undefined,undefined);