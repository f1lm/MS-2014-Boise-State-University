$(document).ready(function(){1250>$(window).width()&&$("#slick-social").addClass("slick-bottom");600>$("section.content").height()&&$("#slick-social").addClass("slick-bottom");for(var b=$("section.content").height(),d=$("aside.sidebar").height();b<d-50;)$("aside.sidebar").children(".sidebar-box").last().remove(),b=$("section.content").height(),d=$("aside.sidebar").height();$(".image-block-caption").shorten();(function(){var b=$("#news-holder");b.height();$("#news-holder > .news-col").height(380);
b.height(440);b.append('<footer id="n-overlay"><a id="n-more" href="#"></a></footer>');$("#n-more").click(function(){$("#n-overlay").hide();$("#news-holder > .news-col").height("auto");b.animate({height:440},300,function(){b.height("auto")});return!1})})()});
$(window).load(function(){$("#cn-nav").sticky();$("#slick-social").hasClass("slick-bottom")||$("#slick-social").sticky({offsetX:130,guard:!0});$(document).on("copy",addLink);$("#sfb").click(function(){openDialog("/addFeedback/?newsId="+nid,"<h4>Thank you for taking your time to send in your valued opinion to Phys.org editors. </h4> <br/>              <p>You can be assured our editors closely monitor every feedback sent and will take appropriate actions. <p>             <p>Your opinions are important to us. We do not guarantee individual replies due to extremely high volume of correspondence. </p>");return!1});
$("#tl-email").click(function(){openDialog("/sendEmail/?newsId="+nid);return!1});$("a[rel=lightbox]").click(function(){var b=$(this);b.html();var d=b.attr("href"),e=b.attr("title"),a=new Image;$(a).load(function(){var d=$("<div>").addClass("image_contents").append($(a));if(e){var f=a.width,f=$('<div class="window_desc">'+e+"</div>").width(f);d.append(f)}$.modal(d,{fixed:!1});b.removeClass("loading")});b.addClass("loading");a.src=d;try{_gaq.push(["_trackEvent","lightbox","view",d])}catch(k){}return!1});
$("#addFav").click(function(){return 0==addFav(nid)});asyncjs("https://apis.google.com/js/plusone.js");asyncjs("http://platform.twitter.com/widgets.js");asyncjs("//platform.stumbleupon.com/1/widgets.js");asyncjs("//connect.facebook.net/en_US/all.js#xfbml=1&appId=163850683679377","facebook-jssdk");$(asyncjs("//assets.pinterest.com/js/pinit.js")).attr("data-pin-hover",!0);$("#sc-reddit").html($("<iframe/>").attr({src:"http://www.reddit.com/static/button/button2.html?width=51&url="+window.location.href,
height:69,width:51,scrolling:"no",frameborder:0}))});
function rateit(b,d){$.ajax("/votes/?submit=true&newsid="+b+"&rank="+d,{beforeSend:function(){$("#nwvoteTp").animate({"margin-top":"-26px"},300)}}).done(function(a){var d=$(a).find("code").text(),h=$(a).find("rank").text();a=$(a).find("total").text();200==d?$("#rank").children("h6").hide().html(e(h,a)).fadeIn():(ShowAlert('<div class="msg">Your request cannot be processed at this time</div>'),$("#nwvoteTp").css("margin-top",0));try{_gaq.push(["_trackEvent","ajax","rate",b])}catch(f){}});var e=function(a,
b){if(0==a)return"not rated yet";var d=a+" /5 ("+b+" vote";return 1<b?d+"s)":d+")"}}function addFav(b){if("0"!=mid&&""!=mid)$.ajax("/addStar/?newsid="+b,{method:"get"}).done(function(){ShowAlert('<h5>Saved to your Science X account</h5><br/>                <p>You may always view/manage your bookmarks from your <a href="https://sciencex.com/profile/favorites/">Science X account</a></p>');return!0});else return!1}
var Comments=function(b,d){var e=$(".com").length,a=null,k=function(g){$.get("/comments/?code=form-add").done(function(c){c=$(c);a=c.filter("form");c.find("input[name=nid]").val(b);c.find("#input-comment").keyup(function(){l($(this).val(),1E3)});c.find("#input-comment").keydown(function(){l($(this).val(),1E3)});c.find("#cm-follow").attr("checked","on"==follow).switchbox().change(function(){var c=$(this);$.post("/comments/","status=follow&nid="+b).done(function(a){var g=$(a).find("code").text();200==
g?(c.attr("checked",!0),follow="on"):300==g?(c.attr("checked",!1),follow=""):400==g&&(a=$(a).find("msg").text(),ShowAlert('<div class="window_contents msg">'+a+"</div>"))})});a.submit(function(c){c.preventDefault();a.find("[name=sort]").val(sort);m().done(function(c){f();"DESC"==sort&&$("#comments").scrollTo()})});c.find("#com-cancel").click(r);g.html(c)})},h=function(g,c){var b=function(){m().done(function(c){c=$(c);mid=c.find("mid").text();userNick=c.find("nickname").text();signIn(mid);f()});return!1};
c?(a=g.find("form"),a.submit(b)):$.get("/comments/?code=form-login").done(function(c){c=$(c);a=c.find("form");a.submit(b);g.html(c)})},f=function(){$.ajax("/comments/?code=VIEW&format=html&newsid="+b+"&sort="+sort+"&filter="+fltthres,{beforeSend:function(){$("#pageCmnt").html(updIMG)},complete:function(){$("#pageCmnt").html("")},success:function(a){$("#comments").html(a);setTimeout(n,0)}});fltthres?$("#fltCmnt").addClass("com-rank-on"):$("#fltCmnt").removeClass("com-rank-on");p()},s=function(a){$.get("/comments/?code=COM&format=html&cid="+
a).done(function(c){if(c=$(c).find("text").text())$("#cm_"+a).removeClass("com-sup"),$("#cm_"+a).html(c)})},n=function(){e=$(".com").length;var a="",a=0<e?e+" comment"+(1<e?"s":""):"User comments";$("#nwcc").html(a);$("section[data-type=comment]").each(function(){var c=$(this).attr("data-cid"),a=$(this).find(".com-footer");$(this).find("a[href=#display]").click(function(){$(this).hide(0);var c=$(this).attr("data-cid");s(c);return!1});var b=$('<a href="#">Report</a>').click(function(){t(c);return!1});
a.prepend(b);"on"==$(this).attr("data-edit")&&(b=$('<a href="#">Edit</a>').click(function(){u(c);return!1}),a.prepend(b));"on"==$(this).attr("data-quote")&&(b=$('<a href="#">Quote</a>').click(function(){v(c);return!1}),a.prepend(b));"0"!=mid&&""!=mid&&(b="on"==$(this).attr("data-ignore")?$('<a href="#">Remove from ignore list</a>').click(function(){q(c,0);return!1}):$('<a href="#">Ignore user</a>').click(function(){q(c,1);return!1}),a.prepend(b));if("on"==$(this).attr("data-rate")){a=$(this).find(".com-rating");
a.addClass("star-rating small-star");a.html("");var g=["one-star","two-stars","three-stars","four-stars","five-stars"],b="";$(g).each(function(d){b=$('<a href=""></a>').addClass(g[d]).click(function(){var b=d+1;a.animate({width:16},300,function(){$(this).addClass("com-rating-placeholder")});a.children().remove();$.get("/comments/?code=RATE&cid="+c+"&rank="+b).done(function(a){var b=$(a).find("msg").text();b?ShowAlert(b):(b=$(a).find("rank").text(),a=$(a).find("votes").text(),$("#rk_"+c).hide().html(0==
b?"not rated yet":b+" /5 ("+a+")").fadeIn())});return!1});var e=$("<li></li>").append(b);a.append(e)})}}).on("touchend",function(){$(this).children(".com-footer").css("visibility","visible");return!1})},m=function(){var b=!0,c=$.Deferred();$("[data-required=1]").each(function(){$(this).val()?$(this).removeClass("com-input-err"):($(this).addClass("com-input-err"),b=!1)});if(b){var d=a.serialize();$.post("/comments/",d).done(function(a){var b=$(a).find("code").text(),g=$(a).find("msg").text();200!=
b?(ShowAlert('<div class="window_contents msg">'+g+"</div>"),c.notify(a)):c.resolve(a)})}return c},t=function(a){$.modal('<div class="window_contents"><form name="repCmnt"><fieldset>                   <p>Report this comment as spam, offensive or inappropriate?</p>                   <p class="button-wrap"><button type="submit">report</button></p>                  <input type="hidden" name="code" value="FLAG">                   <input type="hidden" name="cid" value="">                 </fieldset></form></div>',
{onShow:function(){var c=this.d.data;c.find("form").submit(function(){$(this).find("[name=cid]").val(a);var b=$(this).serialize();$.get("/comments/",b).done(function(a){a=$(a).find("msg").text();c.html('<div class="window_contents msg">'+a+"</div>")});return!1})}})},u=function(b){$.get("/comments/?code=COM&cid="+b).done(function(c){300==$(c).find("code").text()?ShowAlert($(c).find("msg").text()):(a.scrollTo(),c=$(c).find("text").text(),$("#addtitle").html("Edit"),a.find("[name=cid]").val(b),a.find("[name=status]").val("edit"),
a.find("textarea").val(c))})},v=function(b){$.get("/comments/?code=COM&cid="+b).done(function(c){var b=$(c).find("text").text();""!=b&&(c=a.find("textarea"),b=(c.val()?c.val()+"\r\n\r\n":"")+"[q]"+b+"[/q]\r\n",c.val(b),c.focus(),c.scrollTo())})},q=function(a,c){c=c?"1":"0";var b=$.modal('<div class="window_contents"><form name="repCmnt"><fieldset>                   <p>'+("1"==c?"Add user to your personal ignored list and hide any posts from that user?":"Remove user from your personal ignore user list?")+
'</p>                   <p class="button-wrap"><button type="submit">Ok</button></p>                  <input type="hidden" name="code" value="ignore">                   <input type="hidden" name="cid" value="">                   <input type="hidden" name="state" value="">                 </fieldset></form></div>',{onShow:function(){this.d.data.find("form").submit(function(){$(this).find("[name=cid]").val(a);$(this).find("[name=state]").val(c);var d=$(this).serialize();$.get("/comments/",d).done(f);
b.close();return!1})}})},r=function(){$("#addtitle").html("Add");a.find("[name=cid]").val(0);a.find("[name=status]").val("new");a.find("textarea").val("");return!1},p=function(b){var c=$("#postbox");"0"==cmperm?(c.html('<div class="box-content centered rank-filter">Commenting is closed for this article.</div>'),a=null):"0"!=mid&&""!=mid?k(c):h(c,b)},l=function(a,b){parseInt(a.length)>b&&$("#input-comment").val(a.substring(0,b-1));$("#cmChCnt").html(b-parseInt(a.length))};$("#sortCmnt").click(function(a){"ASC"==
sort?(sort="DESC",sortTXT="oldest first"):(sort="ASC",sortTXT="newest first");f();$("#sortCmnt").html(sortTXT);return!1});$("#thrCmnt").slideControl({target:$("#fltCmnt"),onChange:function(a){fltthres=(fltthres=0,a);f()}});$("#fltCmnt").click(function(a){a=$("#thrCmnt").val();fltthres=fltthres?0:a;f();return!1});$("#cmtHidden").click(function(){f();return!1});$("#closeCmt").click(function(){$(".coments-content").html('<p>Comment preferences can be saved for registered accounts. Set your preferences <a href="https://sciencex.com/profile/comments/?code=settings" rel="nofollow">here</a>.                                                <p>Registered members  receive other benefits, as well. <a href="https://sciencex.com/help/account/" rel="nofollow">Read more</a>.');
$(this).hide();return!1});n();p(!0)};
function addLink(){var b;if("undefined"!=typeof window.getSelection&&(b=window.getSelection(),!(100>b.toString().length))){var d=window.getSelection().getRangeAt(0),e='<br /><br /> Read more at: <a href="http://'+document.location.host+document.location.pathname+'#jCp">http://'+document.location.host+document.location.pathname+"#jCp</a>",a=$("<div></div>").css({position:"absolute",left:"-99999px"}).html(b.getRangeAt(0).cloneContents()).append($(e));$("body").append(a);b.selectAllChildren(a[0]);setTimeout(function(b){a.remove();
window.getSelection().removeAllRanges();window.getSelection().addRange(d)},0)}}
function openDialog(b,d){var e=function(a,d){a.find("form")&&a.find("button").click(function(){var h=!0;a.find("input[required]").each(function(){var a=$(this),b=a.val();if(""==$.trim(b))return h=!1,a.showBalloon({position:"bottom",minLifetime:0,contents:"This field is required",css:{zIndex:"2147483644"}}),setTimeout(function(){a.hideBalloon()},1200),!1});if(!h)return!1;$(this).attr("disabled","disabled");var f=a.find("form").serialize();$.post(b,f).done(function(b){a.slideUp(300,function(){var a=
d?d:b;$(this).html('<div class="window_contents msg">'+a+"</div>").slideDown();e($(this))})});return!1})};$.get(b).done(function(a){$.modal('<div class="window_contents">'+a+"</div>",{onShow:function(){e(this.d.data,d)}})})};