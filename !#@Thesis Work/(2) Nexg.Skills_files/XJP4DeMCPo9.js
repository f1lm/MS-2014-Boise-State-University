/*!CK:1808853574!*//*1422851154,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ncMgs"]); }

__d("ComposerTargetType",[],function(a,b,c,d,e,f){e.exports={SELF_USER:"feed",OTHER_USER:"wall",GROUP:"group",PAGE:"page",EVENT:"event"};},null);
__d("ComposerXAjaxEndpoint",[],function(a,b,c,d,e,f){e.exports={ADS_MEDIA_UPLOAD:"\/ajax\/ads\/create\/composerx\/attachment\/media\/upload\/",ADS_ATTACHMENT_STATUS:"\/ajax\/ads\/create\/composerx\/attachment\/status\/",MEDIA_UPLOAD:"\/ajax\/composerx\/attachment\/media\/upload\/"};},null);
__d("ComposerXContextConfig",[],function(a,b,c,d,e,f){e.exports={propertyNames:{actorID:"ACTOR_ID",postID:"POST_ID"},propertyValues:{ACTOR_ID:"actorID",POST_ID:"postID"}};},null);
__d("SimpleXUIDialog",["DialogX","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerHideOnBlur","LayerHideOnEscape","React","XUIDialogCancelButton.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';var s=445,t={show:function(u,v,w,x){var y=m.createElement(q,{action:"cancel",use:"confirm"});this.showEx(u,v,y,w,x);},showConfirm:function(u,v,w,x){var y=false,z=m.createElement("div",null,m.createElement(n,{onClick:function(){y=false;}}),m.createElement(q,{action:"cancel",use:"confirm",onClick:function(){y=true;}}));function aa(){w(y);}this.showEx(u,v,z,aa,x);},showEx:function(u,v,w,x,y){y=y||{};var z=[h,j,i,l];if(y.hideOnBlur!==false)z.push(k);var aa={width:s,xui:true,addedBehaviors:z};if(v)v=m.createElement(r,{showCloseButton:true},v);if(w)w=m.createElement(p,null,w);var ba=m.createElement("div",null,v,m.createElement(o,null,u),w),ca=new g(aa,ba);if(x)ca.subscribe('hide',x);ca.show();}};e.exports=t;},null);
__d("ComposerXAttachmentBootstrap",["CSS","Form","Parent","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k){var l=[],m={bootstrap:function(n){m.load(i.byTag(n,'form'),n.getAttribute('data-endpoint'));},load:function(n,o,p){var q=j(o).addQueryData({composerurihash:m.getURIHash(o)});g.conditionClass(n,"_fu",p);var r=i.byClass(n,"_2_4");g.removeClass(r,'async_saving');h.setDisabled(n,false);n.action=q.toString();h.bootstrap(n);},getURIHash:function(n){if(n==='initial')return 'initial';var o=l.indexOf(n);if(o!==-1){return o+'';}else{o=l.length;l[o]=n;return o+'';}}};e.exports=m;},null);
__d("ComposerXContext",["ComposerXContextConfig","invariant"],function(a,b,c,d,e,f,g,h){var i=function(k){return g.propertyNames[k];};function j(k){"use strict";this.$ComposerXContext0={};for(var l in k)this.setProperty(l,k[l]);}j.prototype.getProperty=function(k){"use strict";h(i(k));return this.$ComposerXContext0[k];};j.prototype.setProperty=function(k,l){"use strict";h(i(k));this.$ComposerXContext0[k]=l;return this;};j.PROPERTIES=g.propertyValues;e.exports=j;},null);
__d("ComposerXSessionIDs",["DOM","cx"],function(a,b,c,d,e,f,g,h){function i(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(l){var m=Math.random()*16|0,n=l=='x'?m:(m&3|8);return n.toString(16);});}var j={},k={getSessionID:function(l){return j[l];},resetSessionID:function(l){j[l]=i();},createSessionIDInput:function(l){return g.create('input',{type:'hidden',name:'composer_session_id',className:"_5r_b",value:l});}};e.exports=k;},null);
__d("ShareModeConst",[],function(a,b,c,d,e,f){var g={SELF_PAGE:'selfpage',PAGE:'page',SELF_POST:'self',FRIEND:'friend',GROUP:'group',ALBUM:'album',MESSAGE:'message'};e.exports=g;},null);
__d("ComposerXMarauderLogger",["Event","ComposerTargetType","ComposerXSessionIDs","MarauderLogger","ShareModeConst"],function(a,b,c,d,e,f,g,h,i,j,k){var l={};function m(o,p,q){return function(r,s,t){var u=l[r],v=i.getSessionID(r);if(!u||!v)return;if(p){if(!u.loggedEventTypes[v])u.loggedEventTypes[v]={};if(u.loggedEventTypes[v][o])return;u.loggedEventTypes[v][o]=true;}var w={composer_type:s,target_type:u.targetType,ref:u.entryPointRef,error_info:t};if(q){w.has_photo=u.hasPhoto;w.has_video=u.hasVideo;w.xy_tag_count=u.numXYTags;w.with_tag_count=u.numWithTags;w.tags_user=u.numUserTags;}j.log(o,'composer',w,(void 0),(void 0),v);};}var n={registerComposer:function(o,p,q){l[o.id]={targetType:p,entryPointRef:q,loggedEventTypes:{},hasPhoto:false,hasVideo:false,numWithTags:0,numXYTags:0,numUserTags:0};},updateHasPhoto:function(o,p){if(!l[o])return;l[o].hasPhoto=p;},updateHasVideo:function(o,p){if(!l[o])return;l[o].hasVideo=p;},updateNumWithTags:function(o,p){if(!l[o])return;l[o].numWithTags=p;},updateNumXYTags:function(o,p){if(!l[o])return;l[o].numXYTags=p;l[o].numWithTags=l[o].numWithTags-p;},updateNumUserTags:function(o,p){if(!l[o])return;l[o].numUserTags=p;},listenForPostEvents:function(o,p){if(!p)return [];return [g.listen(p,'submit',function(){n.logPost(o);}),g.listen(p,'success',function(){n.logPostSuccess(o);}),g.listen(p,'error',function(event){n.logPostFailure(o,null,{error_code:event.data.response.error,error_description:event.data.response.errorDescription,error_summary:event.data.response.errorSummary});})];},setShareMode:function(o,p){var q=l[o];if(!q)return;switch(p){case k.SELF_POST:q.targetType=h.SELF_USER;break;case k.FRIEND:q.targetType=h.OTHER_USER;break;case k.PAGE:case k.SELF_PAGE:q.targetType=h.PAGE;break;case k.GROUP:q.targetType=h.GROUP;break;default:q.targetType=h.OTHER;}},logEntry:m('composer_entry',true,false),logCompleted:m('composer_post_completed',false,false),logPost:m('composer_post',false,false),logPostSuccess:m('composer_post_success',false,false),logPostFailure:m('composer_post_failure',false,false)};e.exports=n;},null);
__d("ComposerXSessionIDInserter",["ComposerXSessionIDs","DOM","DOMQuery","Event","Parent","csx","cx","onEnclosingPageletDestroy"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o={init:function(p){var q=j.listen(p,'submit',o._onSubmit);n(p,function(){q.remove();});},_onSubmit:function(p){o.insertSessionInput(p.getTarget());},insertSessionInput:function(p){var q=k.byClass(p,"_119");if(!q)return;var r=g.getSessionID(q.id);if(!r)return;var s=i.scry(p,"._5r_b")[0];if(!s){h.prependContent(p,g.createSessionIDInput(r));}else s.value=r;}};e.exports=o;},null);
__d("ComposerXStore",["Arbiter","ge"],function(a,b,c,d,e,f,g,h){var i={};function j(l,m){return 'ComposerX/'+l+'/'+m;}var k={set:function(l,m,n){if(!i[l])i[l]={};i[l][m]=n;g.inform(j(l,m),{},g.BEHAVIOR_STATE);},get:function(l,m){if(i[l])return i[l][m];return null;},getAllForComposer:function(l){return i[l]||{};},waitForComponents:function(l,m,n){g.registerCallback(n,m.map(j.bind(null,l)));}};g.subscribe('page_transition',function(){for(var l in i)if(!h(l))delete i[l];});e.exports=k;},null);
__d("ComposerX",["ActorURI","Arbiter","ComposerXAttachmentBootstrap","ComposerXContext","ComposerXMarauderLogger","ComposerXSessionIDs","ComposerXSessionIDInserter","ComposerXStore","CSS","DOM","DOMQuery","PrivacyConst","PrivacySelectorNewDispatcher","URI","SubscriptionsHandler","arrayContains","copyProperties","csx","cx","getObjectValues","removeFromArray"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba='any';function ca(da){"use strict";this._root=da;this._composerID=da.id;this._attachments={};this._context=new j({});l.resetSessionID(this._composerID);m.init(this._root);this._subscriptionsHandler=new u();this._subscriptionsHandler.addSubscriptions(h.subscribe(['composer/publish','composer/close'],function(ea,fa){if(fa.composer_id===this._composerID)this.reset();}.bind(this)));this._subscriptionsHandler.addSubscriptions.apply(this._subscriptionsHandler,k.listenForPostEvents(this._composerID,this._getContent()));this._attachmentFetchForm=q.find(da,"._2_4");}ca.prototype.getAttachment=function(da,ea,fa){"use strict";da=this._augmentURI(da);var ga=i.getURIHash(da);this._endpointHashToShow=ga;var ha=this._attachments[ga];if(ha){this._showAttachmentAfterComponentsLoaded(ga,fa);}else this.fetchAttachmentData(da,ea);};ca.prototype.fetchAttachmentData=function(da,ea){"use strict";da=this._augmentURI(da);var fa=i.getURIHash(da);if(this._attachments[fa])return;if(!v(this._currentFetchEndpoints,fa)){i.load(this._attachmentFetchForm,da,ea);this._currentFetchEndpoints.push(fa);}};ca.prototype.setAttachment=function(da,ea,fa,ga){"use strict";aa(this._currentFetchEndpoints,da);this._setupAttachment(da,ea,fa,ga);this._showAttachmentAfterComponentsLoaded(da,false);};ca.prototype.setInitialAttachment=function(da,ea,fa,ga,ha){"use strict";if(ha)this._context=ha;da=this._augmentURI(da);var ia=i.getURIHash(da);this._setupAttachment(ia,ea,fa,ga);this._initialAttachmentEndpoint=da;if(!this._currentInstance)this._showAttachmentAfterComponentsLoaded(ia,true);};ca.prototype.setComponent=function(da,ea){"use strict";if(!n.get(this._composerID,da)){n.set(this._composerID,da,ea);p.appendContent(this._attachmentFetchForm,p.create('input',{type:'hidden',name:'loaded_components[]',value:da}));}};ca.prototype.reset=function(){"use strict";if(this._currentInstance){this._currentInstance.cleanup();this._currentInstance=null;}l.resetSessionID(this._composerID);for(var da in this._attachments)this._attachments[da].instance.reset();var ea=n.getAllForComposer(this._composerID);z(ea).forEach(function(ha){if(ha.reset)ha.reset(ha);});var fa=n.get(this._composerID,'mainprivacywidget'),ga=fa&&fa.instance&&fa.instance.getInstance().getInstance();if(ga&&ga.isComposerWithDefault()){ga.selectDefaultOption();s.handleUpdateFromSelector({selector_type:r.PrivacyField.DEFAULT_COMPOSER.toString(),post_param:ga.getSelectedPostParam(),unique_value:'_reloadDefaultSelectors'});}this.getAttachment(this._initialAttachmentEndpoint,false,true);h.inform('composer/reset');};ca.prototype.destroy=function(){"use strict";this._subscriptionsHandler.release();};ca.prototype.addPlaceholders=function(da,ea){"use strict";var fa;for(var ga in this._attachments){fa=this._attachments[ga];if(fa.instance===da){ea.forEach(function(ha){fa.placeholders.push(ha);fa.required_components.push(ha.component_name);});break;}}if(this._currentInstance===da)this._fillPlaceholders(ea);};ca.prototype.hasAttachmentWithClassName=function(da){"use strict";return q.scry(this._root,'.'+da).length>0;};ca.prototype.showAttachmentThrobber=function(){"use strict";o.addClass(this._attachmentFetchForm,'async_saving');};ca.prototype.hideAttachmentThrobber=function(){"use strict";o.removeClass(this._attachmentFetchForm,'async_saving');};ca.prototype.getContext=function(){"use strict";return this._context;};ca.prototype.getID=function(){"use strict";return this._composerID;};ca.prototype._setupAttachment=function(da,ea,fa,ga){"use strict";ea.setComposerID(this._composerID);this._attachments[da]={instance:ea,placeholders:fa,required_components:ga};var ha=this._getContent(),ia=ea.getRoot();if(ia.parentNode!==ha){o.hide(ia);p.appendContent(ha,ia);}};ca.prototype._getContent=function(){"use strict";return q.find(this._root,"div._55d0");};ca.prototype._showAttachment=function(da,ea,fa,ga){"use strict";if(this._currentInstance===da)return;if(this._endpointHashToShow===ba){this._endpointHashToShow=null;}else if(this._endpointHashToShow!==ea)return;if(this._currentInstance){if(!this._currentInstance.canSwitchAway())return;this._currentInstance.cleanup();}this._currentInstance=da;var ha=this._getContent().childNodes,ia=da.getRoot();for(var ja=0;ja<ha.length;ja++)if(ha[ja]!==ia)o.hide(ha[ja]);o.show(ia);this._fillPlaceholders(fa);da.initWithComponents(ga);this._setAttachmentSelectedClass(da.attachmentClassName);h.inform('composer/initializedAttachment',{composerRoot:this._root,isInitial:ga});};ca.prototype._showAttachmentAfterComponentsLoaded=function(da,ea){"use strict";var fa=this._attachments[da];n.waitForComponents(this._composerID,fa.required_components,this._showAttachment.bind(this,fa.instance,da,fa.placeholders,ea));};ca.prototype._fillPlaceholders=function(da){"use strict";da.forEach(function(ea){var fa=n.get(this._composerID,ea.component_name);if(fa.element&&ea.element!==fa.element.parentNode)p.setContent(ea.element,fa.element);}.bind(this));};ca.prototype._setAttachmentSelectedClass=function(da){"use strict";var ea=q.scry(this._root,"._519b")[0],fa;if(ea){o.removeClass(ea,"_519b");fa=q.scry(ea,'*[aria-pressed="true"]')[0];if(fa)fa.setAttribute('aria-pressed','false');}if(da){var ga=q.scry(this._root,'.'+da)[0];if(ga){o.addClass(ga,"_519b");fa=q.scry(ga,'*[aria-pressed="false"]')[0];if(fa)fa.setAttribute('aria-pressed','true');}}};ca.prototype._augmentURI=function(da){"use strict";var ea=this._context.getProperty(j.PROPERTIES.ACTOR_ID),fa=(ea)?g.create(da,ea):new t(da),ga=this._context.getProperty(j.PROPERTIES.POST_ID);if(ga)fa.addQueryData('post_id',ga);return fa.toString();};w(ca.prototype,{_endpointHashToShow:ba,_currentFetchEndpoints:[],_initialAttachmentEndpoint:''});e.exports=ca;},null);
__d("ComposerXAttachment",["ComposerXStore","copyProperties"],function(a,b,c,d,e,f,g,h){function i(){"use strict";}i.prototype.getRoot=function(){"use strict";};i.prototype.initWithComponents=function(j){"use strict";};i.prototype.cleanup=function(){"use strict";};i.prototype.reset=function(){"use strict";};i.prototype.getComponent=function(j){"use strict";return g.get(this._composerID,j);};i.prototype.getComponentInstance=function(j){"use strict";var k=g.get(this._composerID,j);return k&&k.instance;};i.prototype.canSwitchAway=function(){"use strict";return true;};i.prototype.setComposerID=function(j){"use strict";this._composerID=j;};i.prototype.getComposerID=function(){"use strict";return this._composerID;};i.prototype.allowOGTagPreview=function(){"use strict";return false;};h(i.prototype,{attachmentClassName:''});e.exports=i;},null);
__d("registerForLeaveWarning",["PageTransitions","Run","URI","createCancelableFunction","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){function l(n){var o=i.getNextURI(),p=j(n);h.onBeforeUnload(function(){return m(p,o);});return p;}function m(n,o){var p=g.getMostRecentURI(),q=i.getNextURI(),r=p.getQueryData().hasOwnProperty('theater')&&o.path===q.path,s=q.getQueryData().hasOwnProperty('theater'),t=a.DialogNavigationStack&&a.DialogNavigationStack.isActiveURI(q);if(r||s||t){h.onAfterLoad(function(){h.onBeforeUnload(function(){return m(n,o);});});return;}if(a.Dialog&&a.Dialog.getCurrent())return;if(n())return "You haven't finished your post yet. Do you want to leave without finishing?";}e.exports=l;},null);
__d("ComposerXController",["ActorURI","Arbiter","ComposerX","ComposerXAttachmentBootstrap","ComposerXContext","Parent","$","cx","emptyFunction","ge","invariant","registerForLeaveWarning"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={},t={},u={};function v(z){var aa=p(z);if(!aa)return null;var ba=l.byClass(m(z),"_119"),ca=ba.id;if(!u[ca])u[ca]=new i(ba);return u[ca];}function w(z){var aa=v(z);q(aa!==null);return aa;}function x(z){if(!t[z])return;t[z].forEach(function(aa){return aa.cancel();});delete t[z];}var y={registerConditionForComposerCancel:function(z,aa){var ba=w(z).getID();if(!(ba in s))s[ba]=[];s[ba].push(aa);if(!(ba in t))t[ba]=[];t[ba].push(r(aa));},hasChanges:function(z){var aa=s[z];if(!aa)return false;return aa.some(function(ba){return ba();});},getAttachment:function(z,aa,ba){var ca=w(z);ca.getAttachment(aa,ba);},fetchAttachmentData:function(z,aa,ba){w(z).fetchAttachmentData(aa,ba);},setAttachment:function(z,aa,ba,ca,da){var ea=v(z);if(ea)ea.setAttachment(aa,ba,ca,da);},setInitialAttachment:function(z,aa,ba,ca,da,ea){var fa=w(z);fa.setInitialAttachment(aa,ba,ca,da,ea);},setComponent:function(z,aa,ba){var ca=v(z);if(ca)ca.setComponent(aa,ba);},reset:function(z){var aa=w(z);aa.reset();},holdTheMarkup:o,getEndpoint:function(z,aa,ba){var ca=w(z),da=ca.getContext();aa=g.create(aa,da.getProperty(k.PROPERTIES.ACTOR_ID)).toString();j.load(ca._attachmentFetchForm,aa,ba);},addPlaceholders:function(z,aa,ba){var ca=w(z);ca.addPlaceholders(aa,ba);},hasAttachmentWithClassName:function(z,aa){var ba=w(z);return ba.hasAttachmentWithClassName(aa);},showAttachmentThrobber:function(z){var aa=w(z);aa.showAttachmentThrobber();},hideAttachmentThrobber:function(z){var aa=w(z);aa.hideAttachmentThrobber();},getComposerID:function(z){return w(z).getID();},destroyComposer:function(z){if(!(z in u))return;u[z].destroy();delete u[z];delete s[z];x(z);}};j.bootstrap=function(z){y.getAttachment(z,z.getAttribute('data-endpoint'));};h.subscribe('page_transition',function(){for(var z in u)if(!p(z))y.destroyComposer(z);});e.exports=y;},null);
__d("ComposerXDragDrop",["Arbiter","ComposerXAjaxEndpoint","ComposerXController","CSS","DOMQuery","DragDropTarget","Parent","URI","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=h.MEDIA_UPLOAD,r='/ajax/composerx/attachment/link/scraper/',s=function(u){u();};function t(u,v,w,x){"use strict";this._root=u;this._composerID=v;this._targetID=w;x=x||s;this._dragdrop=new l(u).setOnFilesDropCallback(function(y){x(this._uploadFiles.bind(this,y));}.bind(this)).setFileFilter(t.filterImages).enable();t.handleDragEnterAndLeave(u);g.subscribe('composer/deactivateDragdrop',function(){this.deactivate();}.bind(this));g.subscribe('composer/reactivateDragdrop',function(){this.reactivate();}.bind(this));}t.prototype.enableURLDropping=function(){"use strict";this._dragdrop.setOnURLDropCallback(this._onURLDrop.bind(this));};t.prototype.deactivate=function(){"use strict";this._dragdrop.disable();};t.prototype.reactivate=function(){"use strict";this._dragdrop.enable();};t.prototype._uploadFiles=function(u){"use strict";i.getAttachment(this._root,q);g.inform('ComposerXFilesStore/filesDropped/'+this._composerID+'/mediaupload',{files:u},g.BEHAVIOR_PERSISTENT);};t.prototype._onURLDrop=function(u){"use strict";var v=new n(r);v.addQueryData({scrape_url:encodeURIComponent(u)});i.getAttachment(this._root,v.toString());};t.handleDragEnterAndLeave=function(u){"use strict";var v=k.scry(m.byClass(u,"_119"),"._2wr");g.subscribe('dragenter',function(w,x){if(u==x.element)v.forEach(j.hide);});g.subscribe('dragleave',function(w,x){if(u==x.element)v.forEach(j.show);});};t.filterImages=function(u){"use strict";var v=[];for(var w=0;w<u.length;w++)if(u[w].type.match('image/*'))v.push(u[w]);return v;};e.exports=t;},null);
__d("FamilyRelationshipMentions",["SimpleXUIDialog"],function(a,b,c,d,e,f,g){function h(){"use strict";}h.hasAcceptedNUXInThisSession=false;h.shouldShowNUX=function(i){if(h.hasAcceptedNUXInThisSession)return false;var j=i.family_names;if(j==(void 0))return false;for(var k=0;k<j.length;k++)if(j[k]==i.text)return true;return false;};h.showNUX=function(i,j){g.showConfirm('Whenever you mention people by family names, anybody who can see your'+' post, comment, etc. can see your mention.  This might be a larger'+' audience than the people who can see the family relationship.','Family Name Mentions',function(k){if(k){h.hasAcceptedNUXInThisSession=true;}else i.text=i.default_name;j(i);});};e.exports=h;},null);
__d("MentionsTypeaheadAreaView",["ContextualTypeaheadView","FamilyRelationshipMentions","Parent"],function(a,b,c,d,e,f,g,h,i){for(var j in g)if(g.hasOwnProperty(j))l[j]=g[j];var k=g===null?null:g.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=g;function l(){"use strict";if(g!==null)g.apply(this,arguments);}l.prototype.getContext=function(){"use strict";return i.byClass(this.element,'uiMentionsInput');};l.prototype.shouldValidateTypeaheadSelection=function(m){"use strict";return h.shouldShowNUX(m);};l.prototype.validateTypeaheadSelection=function(m,n){"use strict";h.showNUX(m,n);};e.exports=l;},null);