define(["jquery","version!fly/managers/debug","managers/user","version!components/newsletter-subscription","version!fly/components/base"],function(e,t,n){var r=e.support.touch?"vclick":"click",i=t.init("keepUp");e.widget("fly.keepUp",e.fly.base,{options:{isLoggedIn:null,url:!1,route:!1},_create:function(){var e=this.options,t={};this._setup(),this._requestHtml()},_requestHtml:function(){var t=this.options,n=this;i.log("Requesting KeepUp HTML"),e.ajax({url:"/newsletters/xhr/keep-up/",type:"GET",dataType:"json",data:{route:t.route,path:t.path},complete:function(){},success:function(e){e.error||(n.$element.html(e.html),n._trigger("unitSet",null,{content:n.$element}))},error:function(){i.log("Error fectching keep-up unit")}})}})})