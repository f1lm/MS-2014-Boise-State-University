/*!
 * jQuery JavaScript Library v1.8.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Sep 20 2012 21:13:05 GMT-0400 (Eastern Daylight Time)
 */
(function(a2,aB){var w,af,o=a2.document,aI=a2.location,d=a2.navigator,bg=a2.jQuery,I=a2.$,am=Array.prototype.push,a4=Array.prototype.slice,aK=Array.prototype.indexOf,z=Object.prototype.toString,V=Object.prototype.hasOwnProperty,aO=String.prototype.trim,bG=function(e,bZ){return new bG.fn.init(e,bZ,w)},bx=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,aa=/\S/,aV=/\s+/,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bf=/^[\],:{}\s]*$/,bi=/(?:^|:|,)(?:\s*\[)+/g,bD=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a0=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,bP=/^-ms-/,aU=/-([\da-z])/gi,N=function(e,bZ){return(bZ+"").toUpperCase()},aF=function(){if(o.addEventListener){o.removeEventListener("DOMContentLoaded",aF,false);bG.ready()}else{if(o.readyState==="complete"){o.detachEvent("onreadystatechange",aF);bG.ready()}}},Z={};bG.fn=bG.prototype={constructor:bG,init:function(e,b2,b1){var b0,b3,bZ,b4;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b0=[null,e,null]}else{b0=bo.exec(e)}if(b0&&(b0[1]||!b2)){if(b0[1]){b2=b2 instanceof bG?b2[0]:b2;b4=(b2&&b2.nodeType?b2.ownerDocument||b2:o);e=bG.parseHTML(b0[1],b4,true);if(a.test(b0[1])&&bG.isPlainObject(b2)){this.attr.call(e,b2,true)}return bG.merge(this,e)}else{b3=o.getElementById(b0[2]);if(b3&&b3.parentNode){if(b3.id!==b0[2]){return b1.find(e)}this.length=1;this[0]=b3}this.context=o;this.selector=e;return this}}else{if(!b2||b2.jquery){return(b2||b1).find(e)}else{return this.constructor(b2).find(e)}}}else{if(bG.isFunction(e)){return b1.ready(e)}}if(e.selector!==aB){this.selector=e.selector;this.context=e.context}return bG.makeArray(e,this)},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return a4.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(bZ,b1,e){var b0=bG.merge(this.constructor(),bZ);b0.prevObject=this;b0.context=this.context;if(b1==="find"){b0.selector=this.selector+(this.selector?" ":"")+e}else{if(b1){b0.selector=this.selector+"."+b1+"("+e+")"}}return b0},each:function(bZ,e){return bG.each(this,bZ,e)},ready:function(e){bG.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(a4.apply(this,arguments),"slice",a4.call(arguments).join(","))},map:function(e){return this.pushStack(bG.map(this,function(b0,bZ){return e.call(b0,bZ,b0)}))},end:function(){return this.prevObject||this.constructor(null)},push:am,sort:[].sort,splice:[].splice};bG.fn.init.prototype=bG.fn;bG.extend=bG.fn.extend=function(){var b7,b0,e,bZ,b4,b5,b3=arguments[0]||{},b2=1,b1=arguments.length,b6=false;if(typeof b3==="boolean"){b6=b3;b3=arguments[1]||{};b2=2}if(typeof b3!=="object"&&!bG.isFunction(b3)){b3={}}if(b1===b2){b3=this;--b2}for(;b2<b1;b2++){if((b7=arguments[b2])!=null){for(b0 in b7){e=b3[b0];bZ=b7[b0];if(b3===bZ){continue}if(b6&&bZ&&(bG.isPlainObject(bZ)||(b4=bG.isArray(bZ)))){if(b4){b4=false;b5=e&&bG.isArray(e)?e:[]}else{b5=e&&bG.isPlainObject(e)?e:{}}b3[b0]=bG.extend(b6,b5,bZ)}else{if(bZ!==aB){b3[b0]=bZ}}}}}return b3};bG.extend({noConflict:function(e){if(a2.$===bG){a2.$=I}if(e&&a2.jQuery===bG){a2.jQuery=bg}return bG},isReady:false,readyWait:1,holdReady:function(e){if(e){bG.readyWait++}else{bG.ready(true)}},ready:function(e){if(e===true?--bG.readyWait:bG.isReady){return}if(!o.body){return setTimeout(bG.ready,1)}bG.isReady=true;if(e!==true&&--bG.readyWait>0){return}af.resolveWith(o,[bG]);if(bG.fn.trigger){bG(o).trigger("ready").off("ready")}},isFunction:function(e){return bG.type(e)==="function"},isArray:Array.isArray||function(e){return bG.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):Z[z.call(e)]||"object"},isPlainObject:function(b1){if(!b1||bG.type(b1)!=="object"||b1.nodeType||bG.isWindow(b1)){return false}try{if(b1.constructor&&!V.call(b1,"constructor")&&!V.call(b1.constructor.prototype,"isPrototypeOf")){return false}}catch(b0){return false}var bZ;for(bZ in b1){}return bZ===aB||V.call(b1,bZ)},isEmptyObject:function(bZ){var e;for(e in bZ){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b1,b0,e){var bZ;if(!b1||typeof b1!=="string"){return null}if(typeof b0==="boolean"){e=b0;b0=0}b0=b0||o;if((bZ=a.exec(b1))){return[b0.createElement(bZ[1])]}bZ=bG.buildFragment([b1],b0,e?null:[]);return bG.merge([],(bZ.cacheable?bG.clone(bZ.fragment):bZ.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=bG.trim(e);if(a2.JSON&&a2.JSON.parse){return a2.JSON.parse(e)}if(bf.test(e.replace(bD,"@").replace(a0,"]").replace(bi,""))){return(new Function("return "+e))()}bG.error("Invalid JSON: "+e)},parseXML:function(b1){var bZ,b0;if(!b1||typeof b1!=="string"){return null}try{if(a2.DOMParser){b0=new DOMParser();bZ=b0.parseFromString(b1,"text/xml")}else{bZ=new ActiveXObject("Microsoft.XMLDOM");bZ.async="false";bZ.loadXML(b1)}}catch(b2){bZ=aB}if(!bZ||!bZ.documentElement||bZ.getElementsByTagName("parsererror").length){bG.error("Invalid XML: "+b1)}return bZ},noop:function(){},globalEval:function(e){if(e&&aa.test(e)){(a2.execScript||function(bZ){a2["eval"].call(a2,bZ)})(e)}},camelCase:function(e){return e.replace(bP,"ms-").replace(aU,N)},nodeName:function(bZ,e){return bZ.nodeName&&bZ.nodeName.toLowerCase()===e.toLowerCase()},each:function(b3,b4,b0){var bZ,b1=0,b2=b3.length,e=b2===aB||bG.isFunction(b3);if(b0){if(e){for(bZ in b3){if(b4.apply(b3[bZ],b0)===false){break}}}else{for(;b1<b2;){if(b4.apply(b3[b1++],b0)===false){break}}}}else{if(e){for(bZ in b3){if(b4.call(b3[bZ],bZ,b3[bZ])===false){break}}}else{for(;b1<b2;){if(b4.call(b3[b1],b1,b3[b1++])===false){break}}}}return b3},trim:aO&&!aO.call("\uFEFF\xA0")?function(e){return e==null?"":aO.call(e)}:function(e){return e==null?"":(e+"").replace(C,"")},makeArray:function(e,b0){var b1,bZ=b0||[];if(e!=null){b1=bG.type(e);if(e.length==null||b1==="string"||b1==="function"||b1==="regexp"||bG.isWindow(e)){am.call(bZ,e)}else{bG.merge(bZ,e)}}return bZ},inArray:function(b1,bZ,b0){var e;if(bZ){if(aK){return aK.call(bZ,b1,b0)}e=bZ.length;b0=b0?b0<0?Math.max(0,e+b0):b0:0;for(;b0<e;b0++){if(b0 in bZ&&bZ[b0]===b1){return b0}}}return -1},merge:function(b2,b0){var e=b0.length,b1=b2.length,bZ=0;if(typeof e==="number"){for(;bZ<e;bZ++){b2[b1++]=b0[bZ]}}else{while(b0[bZ]!==aB){b2[b1++]=b0[bZ++]}}b2.length=b1;return b2},grep:function(bZ,b4,e){var b3,b0=[],b1=0,b2=bZ.length;e=!!e;for(;b1<b2;b1++){b3=!!b4(bZ[b1],b1);if(e!==b3){b0.push(bZ[b1])}}return b0},map:function(e,b5,b6){var b3,b4,b2=[],b0=0,bZ=e.length,b1=e instanceof bG||bZ!==aB&&typeof bZ==="number"&&((bZ>0&&e[0]&&e[bZ-1])||bZ===0||bG.isArray(e));if(b1){for(;b0<bZ;b0++){b3=b5(e[b0],b0,b6);if(b3!=null){b2[b2.length]=b3}}}else{for(b4 in e){b3=b5(e[b4],b4,b6);if(b3!=null){b2[b2.length]=b3}}}return b2.concat.apply([],b2)},guid:1,proxy:function(b2,b1){var b0,e,bZ;if(typeof b1==="string"){b0=b2[b1];b1=b2;b2=b0}if(!bG.isFunction(b2)){return aB}e=a4.call(arguments,2);bZ=function(){return b2.apply(b1,e.concat(a4.call(arguments)))};bZ.guid=b2.guid=b2.guid||bG.guid++;return bZ},access:function(e,b4,b7,b5,b2,b8,b6){var b0,b3=b7==null,b1=0,bZ=e.length;if(b7&&typeof b7==="object"){for(b1 in b7){bG.access(e,b4,b1,b7[b1],1,b8,b5)}b2=1}else{if(b5!==aB){b0=b6===aB&&bG.isFunction(b5);if(b3){if(b0){b0=b4;b4=function(ca,b9,cb){return b0.call(bG(ca),cb)
}}else{b4.call(e,b5);b4=null}}if(b4){for(;b1<bZ;b1++){b4(e[b1],b7,b0?b5.call(e[b1],b1,b4(e[b1],b7)):b5,b6)}}b2=1}}return b2?e:b3?b4.call(e):bZ?b4(e[0],b7):b8},now:function(){return(new Date()).getTime()}});bG.ready.promise=function(b2){if(!af){af=bG.Deferred();if(o.readyState==="complete"){setTimeout(bG.ready,1)}else{if(o.addEventListener){o.addEventListener("DOMContentLoaded",aF,false);a2.addEventListener("load",bG.ready,false)}else{o.attachEvent("onreadystatechange",aF);a2.attachEvent("onload",bG.ready);var b1=false;try{b1=a2.frameElement==null&&o.documentElement}catch(b0){}if(b1&&b1.doScroll){(function bZ(){if(!bG.isReady){try{b1.doScroll("left")}catch(b3){return setTimeout(bZ,50)}bG.ready()}})()}}}}return af.promise(b2)};bG.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(bZ,e){Z["[object "+e+"]"]=e.toLowerCase()});w=bG(o);var bU={};function ac(bZ){var e=bU[bZ]={};bG.each(bZ.split(aV),function(b1,b0){e[b0]=true});return e}bG.Callbacks=function(b8){b8=typeof b8==="string"?(bU[b8]||ac(b8)):bG.extend({},b8);var b1,e,b2,b0,b3,b4,b5=[],b6=!b8.once&&[],bZ=function(b9){b1=b8.memory&&b9;e=true;b4=b0||0;b0=0;b3=b5.length;b2=true;for(;b5&&b4<b3;b4++){if(b5[b4].apply(b9[0],b9[1])===false&&b8.stopOnFalse){b1=false;break}}b2=false;if(b5){if(b6){if(b6.length){bZ(b6.shift())}}else{if(b1){b5=[]}else{b7.disable()}}}},b7={add:function(){if(b5){var ca=b5.length;(function b9(cb){bG.each(cb,function(cd,cc){var ce=bG.type(cc);if(ce==="function"&&(!b8.unique||!b7.has(cc))){b5.push(cc)}else{if(cc&&cc.length&&ce!=="string"){b9(cc)}}})})(arguments);if(b2){b3=b5.length}else{if(b1){b0=ca;bZ(b1)}}}return this},remove:function(){if(b5){bG.each(arguments,function(cb,b9){var ca;while((ca=bG.inArray(b9,b5,ca))>-1){b5.splice(ca,1);if(b2){if(ca<=b3){b3--}if(ca<=b4){b4--}}}})}return this},has:function(b9){return bG.inArray(b9,b5)>-1},empty:function(){b5=[];return this},disable:function(){b5=b6=b1=aB;return this},disabled:function(){return !b5},lock:function(){b6=aB;if(!b1){b7.disable()}return this},locked:function(){return !b6},fireWith:function(ca,b9){b9=b9||[];b9=[ca,b9.slice?b9.slice():b9];if(b5&&(!e||b6)){if(b2){b6.push(b9)}else{bZ(b9)}}return this},fire:function(){b7.fireWith(this,arguments);return this},fired:function(){return !!e}};return b7};bG.extend({Deferred:function(b0){var bZ=[["resolve","done",bG.Callbacks("once memory"),"resolved"],["reject","fail",bG.Callbacks("once memory"),"rejected"],["notify","progress",bG.Callbacks("memory")]],b1="pending",b2={state:function(){return b1},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b3=arguments;return bG.Deferred(function(b4){bG.each(bZ,function(b6,b5){var b8=b5[0],b7=b3[b6];e[b5[1]](bG.isFunction(b7)?function(){var b9=b7.apply(this,arguments);if(b9&&bG.isFunction(b9.promise)){b9.promise().done(b4.resolve).fail(b4.reject).progress(b4.notify)}else{b4[b8+"With"](this===e?b4:this,[b9])}}:b4[b8])});b3=null}).promise()},promise:function(b3){return b3!=null?bG.extend(b3,b2):b2}},e={};b2.pipe=b2.then;bG.each(bZ,function(b4,b3){var b6=b3[2],b5=b3[3];b2[b3[1]]=b6.add;if(b5){b6.add(function(){b1=b5},bZ[b4^1][2].disable,bZ[2][2].lock)}e[b3[0]]=b6.fire;e[b3[0]+"With"]=b6.fireWith});b2.promise(e);if(b0){b0.call(e,e)}return e},when:function(b2){var b0=0,b4=a4.call(arguments),e=b4.length,bZ=e!==1||(b2&&bG.isFunction(b2.promise))?e:0,b7=bZ===1?b2:bG.Deferred(),b1=function(b9,ca,b8){return function(cb){ca[b9]=this;b8[b9]=arguments.length>1?a4.call(arguments):cb;if(b8===b6){b7.notifyWith(ca,b8)}else{if(!(--bZ)){b7.resolveWith(ca,b8)}}}},b6,b3,b5;if(e>1){b6=new Array(e);b3=new Array(e);b5=new Array(e);for(;b0<e;b0++){if(b4[b0]&&bG.isFunction(b4[b0].promise)){b4[b0].promise().done(b1(b0,b5,b4)).fail(b7.reject).progress(b1(b0,b3,b6))}else{--bZ}}}if(!bZ){b7.resolveWith(b5,b4)}return b7.promise()}});bG.support=(function(){var cb,ca,b8,b9,b2,b7,b6,b4,b3,b1,bZ,b0=o.createElement("div");b0.setAttribute("className","t");b0.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";ca=b0.getElementsByTagName("*");b8=b0.getElementsByTagName("a")[0];b8.style.cssText="top:1px;float:left;opacity:.5";if(!ca||!ca.length){return{}}b9=o.createElement("select");b2=b9.appendChild(o.createElement("option"));b7=b0.getElementsByTagName("input")[0];cb={leadingWhitespace:(b0.firstChild.nodeType===3),tbody:!b0.getElementsByTagName("tbody").length,htmlSerialize:!!b0.getElementsByTagName("link").length,style:/top/.test(b8.getAttribute("style")),hrefNormalized:(b8.getAttribute("href")==="/a"),opacity:/^0.5/.test(b8.style.opacity),cssFloat:!!b8.style.cssFloat,checkOn:(b7.value==="on"),optSelected:b2.selected,getSetAttribute:b0.className!=="t",enctype:!!o.createElement("form").enctype,html5Clone:o.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(o.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};b7.checked=true;cb.noCloneChecked=b7.cloneNode(true).checked;b9.disabled=true;cb.optDisabled=!b2.disabled;try{delete b0.test}catch(b5){cb.deleteExpando=false}if(!b0.addEventListener&&b0.attachEvent&&b0.fireEvent){b0.attachEvent("onclick",bZ=function(){cb.noCloneEvent=false});b0.cloneNode(true).fireEvent("onclick");b0.detachEvent("onclick",bZ)}b7=o.createElement("input");b7.value="t";b7.setAttribute("type","radio");cb.radioValue=b7.value==="t";b7.setAttribute("checked","checked");b7.setAttribute("name","t");b0.appendChild(b7);b6=o.createDocumentFragment();b6.appendChild(b0.lastChild);cb.checkClone=b6.cloneNode(true).cloneNode(true).lastChild.checked;cb.appendChecked=b7.checked;b6.removeChild(b7);b6.appendChild(b0);if(b0.attachEvent){for(b3 in {submit:true,change:true,focusin:true}){b4="on"+b3;b1=(b4 in b0);if(!b1){b0.setAttribute(b4,"return;");b1=(typeof b0[b4]==="function")}cb[b3+"Bubbles"]=b1}}bG(function(){var cc,cg,ce,cf,cd="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=o.getElementsByTagName("body")[0];if(!e){return}cc=o.createElement("div");cc.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(cc,e.firstChild);cg=o.createElement("div");cc.appendChild(cg);cg.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ce=cg.getElementsByTagName("td");ce[0].style.cssText="padding:0;margin:0;border:0;display:none";b1=(ce[0].offsetHeight===0);ce[0].style.display="";ce[1].style.display="none";cb.reliableHiddenOffsets=b1&&(ce[0].offsetHeight===0);cg.innerHTML="";cg.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";cb.boxSizing=(cg.offsetWidth===4);cb.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a2.getComputedStyle){cb.pixelPosition=(a2.getComputedStyle(cg,null)||{}).top!=="1%";cb.boxSizingReliable=(a2.getComputedStyle(cg,null)||{width:"4px"}).width==="4px";cf=o.createElement("div");cf.style.cssText=cg.style.cssText=cd;cf.style.marginRight=cf.style.width="0";cg.style.width="1px";cg.appendChild(cf);cb.reliableMarginRight=!parseFloat((a2.getComputedStyle(cf,null)||{}).marginRight)}if(typeof cg.style.zoom!=="undefined"){cg.innerHTML="";cg.style.cssText=cd+"width:1px;padding:1px;display:inline;zoom:1";cb.inlineBlockNeedsLayout=(cg.offsetWidth===3);cg.style.display="block";cg.style.overflow="visible";cg.innerHTML="<div></div>";cg.firstChild.style.width="5px";cb.shrinkWrapBlocks=(cg.offsetWidth!==3);cc.style.zoom=1}e.removeChild(cc);cc=cg=ce=cf=null});b6.removeChild(b0);ca=b8=b9=b2=b7=b6=b0=null;return cb})();var bt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aL=/([A-Z])/g;bG.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bG.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bG.cache[e[bG.expando]]:e[bG.expando];
return !!e&&!O(e)},data:function(b1,bZ,b3,b2){if(!bG.acceptData(b1)){return}var b4,b6,b7=bG.expando,b5=typeof bZ==="string",b8=b1.nodeType,e=b8?bG.cache:b1,b0=b8?b1[b7]:b1[b7]&&b7;if((!b0||!e[b0]||(!b2&&!e[b0].data))&&b5&&b3===aB){return}if(!b0){if(b8){b1[b7]=b0=bG.deletedIds.pop()||bG.guid++}else{b0=b7}}if(!e[b0]){e[b0]={};if(!b8){e[b0].toJSON=bG.noop}}if(typeof bZ==="object"||typeof bZ==="function"){if(b2){e[b0]=bG.extend(e[b0],bZ)}else{e[b0].data=bG.extend(e[b0].data,bZ)}}b4=e[b0];if(!b2){if(!b4.data){b4.data={}}b4=b4.data}if(b3!==aB){b4[bG.camelCase(bZ)]=b3}if(b5){b6=b4[bZ];if(b6==null){b6=b4[bG.camelCase(bZ)]}}else{b6=b4}return b6},removeData:function(b1,bZ,b2){if(!bG.acceptData(b1)){return}var b5,b4,b3,b6=b1.nodeType,e=b6?bG.cache:b1,b0=b6?b1[bG.expando]:bG.expando;if(!e[b0]){return}if(bZ){b5=b2?e[b0]:e[b0].data;if(b5){if(!bG.isArray(bZ)){if(bZ in b5){bZ=[bZ]}else{bZ=bG.camelCase(bZ);if(bZ in b5){bZ=[bZ]}else{bZ=bZ.split(" ")}}}for(b4=0,b3=bZ.length;b4<b3;b4++){delete b5[bZ[b4]]}if(!(b2?O:bG.isEmptyObject)(b5)){return}}}if(!b2){delete e[b0].data;if(!O(e[b0])){return}}if(b6){bG.cleanData([b1],true)}else{if(bG.support.deleteExpando||e!=e.window){delete e[b0]}else{e[b0]=null}}},_data:function(bZ,e,b0){return bG.data(bZ,e,b0,true)},acceptData:function(bZ){var e=bZ.nodeName&&bG.noData[bZ.nodeName.toLowerCase()];return !e||e!==true&&bZ.getAttribute("classid")===e}});bG.fn.extend({data:function(b7,b6){var b2,bZ,b5,e,b1,b0=this[0],b4=0,b3=null;if(b7===aB){if(this.length){b3=bG.data(b0);if(b0.nodeType===1&&!bG._data(b0,"parsedAttrs")){b5=b0.attributes;for(b1=b5.length;b4<b1;b4++){e=b5[b4].name;if(!e.indexOf("data-")){e=bG.camelCase(e.substring(5));bv(b0,e,b3[e])}}bG._data(b0,"parsedAttrs",true)}}return b3}if(typeof b7==="object"){return this.each(function(){bG.data(this,b7)})}b2=b7.split(".",2);b2[1]=b2[1]?"."+b2[1]:"";bZ=b2[1]+"!";return bG.access(this,function(b8){if(b8===aB){b3=this.triggerHandler("getData"+bZ,[b2[0]]);if(b3===aB&&b0){b3=bG.data(b0,b7);b3=bv(b0,b7,b3)}return b3===aB&&b2[1]?this.data(b2[0]):b3}b2[1]=b8;this.each(function(){var b9=bG(this);b9.triggerHandler("setData"+bZ,b2);bG.data(this,b7,b8);b9.triggerHandler("changeData"+bZ,b2)})},null,b6,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){bG.removeData(this,e)})}});function bv(b1,b0,b2){if(b2===aB&&b1.nodeType===1){var bZ="data-"+b0.replace(aL,"-$1").toLowerCase();b2=b1.getAttribute(bZ);if(typeof b2==="string"){try{b2=b2==="true"?true:b2==="false"?false:b2==="null"?null:+b2+""===b2?+b2:bt.test(b2)?bG.parseJSON(b2):b2}catch(b3){}bG.data(b1,b0,b2)}else{b2=aB}}return b2}function O(bZ){var e;for(e in bZ){if(e==="data"&&bG.isEmptyObject(bZ[e])){continue}if(e!=="toJSON"){return false}}return true}bG.extend({queue:function(b0,bZ,b1){var e;if(b0){bZ=(bZ||"fx")+"queue";e=bG._data(b0,bZ);if(b1){if(!e||bG.isArray(b1)){e=bG._data(b0,bZ,bG.makeArray(b1))}else{e.push(b1)}}return e||[]}},dequeue:function(b3,b2){b2=b2||"fx";var bZ=bG.queue(b3,b2),b4=bZ.length,b1=bZ.shift(),e=bG._queueHooks(b3,b2),b0=function(){bG.dequeue(b3,b2)};if(b1==="inprogress"){b1=bZ.shift();b4--}if(b1){if(b2==="fx"){bZ.unshift("inprogress")}delete e.stop;b1.call(b3,b0,e)}if(!b4&&e){e.empty.fire()}},_queueHooks:function(b0,bZ){var e=bZ+"queueHooks";return bG._data(b0,e)||bG._data(b0,e,{empty:bG.Callbacks("once memory").add(function(){bG.removeData(b0,bZ+"queue",true);bG.removeData(b0,e,true)})})}});bG.fn.extend({queue:function(e,bZ){var b0=2;if(typeof e!=="string"){bZ=e;e="fx";b0--}if(arguments.length<b0){return bG.queue(this[0],e)}return bZ===aB?this:this.each(function(){var b1=bG.queue(this,e,bZ);bG._queueHooks(this,e);if(e==="fx"&&b1[0]!=="inprogress"){bG.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bG.dequeue(this,e)})},delay:function(bZ,e){bZ=bG.fx?bG.fx.speeds[bZ]||bZ:bZ;e=e||"fx";return this.queue(e,function(b1,b0){var b2=setTimeout(b1,bZ);b0.stop=function(){clearTimeout(b2)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b0,b4){var bZ,b1=1,b5=bG.Deferred(),b3=this,e=this.length,b2=function(){if(!(--b1)){b5.resolveWith(b3,[b3])}};if(typeof b0!=="string"){b4=b0;b0=aB}b0=b0||"fx";while(e--){bZ=bG._data(b3[e],b0+"queueHooks");if(bZ&&bZ.empty){b1++;bZ.empty.add(b2)}}b2();return b5.promise(b4)}});var a7,bV,n,bJ=/[\t\r\n]/g,ai=/\r/g,j=/^(?:button|input)$/i,aA=/^(?:button|input|object|select|textarea)$/i,D=/^a(?:rea|)$/i,M=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bL=bG.support.getSetAttribute;bG.fn.extend({attr:function(e,bZ){return bG.access(this,bG.attr,e,bZ,arguments.length>1)},removeAttr:function(e){return this.each(function(){bG.removeAttr(this,e)})},prop:function(e,bZ){return bG.access(this,bG.prop,e,bZ,arguments.length>1)},removeProp:function(e){e=bG.propFix[e]||e;return this.each(function(){try{this[e]=aB;delete this[e]}catch(bZ){}})},addClass:function(b2){var b4,b0,bZ,b1,b3,b5,e;if(bG.isFunction(b2)){return this.each(function(b6){bG(this).addClass(b2.call(this,b6,this.className))})}if(b2&&typeof b2==="string"){b4=b2.split(aV);for(b0=0,bZ=this.length;b0<bZ;b0++){b1=this[b0];if(b1.nodeType===1){if(!b1.className&&b4.length===1){b1.className=b2}else{b3=" "+b1.className+" ";for(b5=0,e=b4.length;b5<e;b5++){if(b3.indexOf(" "+b4[b5]+" ")<0){b3+=b4[b5]+" "}}b1.className=bG.trim(b3)}}}}return this},removeClass:function(b4){var b1,b2,b3,b5,bZ,b0,e;if(bG.isFunction(b4)){return this.each(function(b6){bG(this).removeClass(b4.call(this,b6,this.className))})}if((b4&&typeof b4==="string")||b4===aB){b1=(b4||"").split(aV);for(b0=0,e=this.length;b0<e;b0++){b3=this[b0];if(b3.nodeType===1&&b3.className){b2=(" "+b3.className+" ").replace(bJ," ");for(b5=0,bZ=b1.length;b5<bZ;b5++){while(b2.indexOf(" "+b1[b5]+" ")>=0){b2=b2.replace(" "+b1[b5]+" "," ")}}b3.className=b4?bG.trim(b2):""}}}return this},toggleClass:function(b1,bZ){var b0=typeof b1,e=typeof bZ==="boolean";if(bG.isFunction(b1)){return this.each(function(b2){bG(this).toggleClass(b1.call(this,b2,this.className,bZ),bZ)})}return this.each(function(){if(b0==="string"){var b4,b3=0,b2=bG(this),b5=bZ,b6=b1.split(aV);while((b4=b6[b3++])){b5=e?b5:!b2.hasClass(b4);b2[b5?"addClass":"removeClass"](b4)}}else{if(b0==="undefined"||b0==="boolean"){if(this.className){bG._data(this,"__className__",this.className)}this.className=this.className||b1===false?"":bG._data(this,"__className__")||""}}})},hasClass:function(e){var b1=" "+e+" ",b0=0,bZ=this.length;for(;b0<bZ;b0++){if(this[b0].nodeType===1&&(" "+this[b0].className+" ").replace(bJ," ").indexOf(b1)>=0){return true}}return false},val:function(b1){var e,bZ,b2,b0=this[0];if(!arguments.length){if(b0){e=bG.valHooks[b0.type]||bG.valHooks[b0.nodeName.toLowerCase()];if(e&&"get" in e&&(bZ=e.get(b0,"value"))!==aB){return bZ}bZ=b0.value;return typeof bZ==="string"?bZ.replace(ai,""):bZ==null?"":bZ}return}b2=bG.isFunction(b1);return this.each(function(b4){var b5,b3=bG(this);if(this.nodeType!==1){return}if(b2){b5=b1.call(this,b4,b3.val())}else{b5=b1}if(b5==null){b5=""}else{if(typeof b5==="number"){b5+=""}else{if(bG.isArray(b5)){b5=bG.map(b5,function(b6){return b6==null?"":b6+""})}}}e=bG.valHooks[this.type]||bG.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b5,"value")===aB){this.value=b5}})}});bG.extend({valHooks:{option:{get:function(e){var bZ=e.attributes.value;return !bZ||bZ.specified?e.value:e.text}},select:{get:function(e){var b4,bZ,b3,b1,b2=e.selectedIndex,b5=[],b6=e.options,b0=e.type==="select-one";if(b2<0){return null}bZ=b0?b2:0;b3=b0?b2+1:b6.length;for(;bZ<b3;bZ++){b1=b6[bZ];if(b1.selected&&(bG.support.optDisabled?!b1.disabled:b1.getAttribute("disabled")===null)&&(!b1.parentNode.disabled||!bG.nodeName(b1.parentNode,"optgroup"))){b4=bG(b1).val();if(b0){return b4}b5.push(b4)}}if(b0&&!b5.length&&b6.length){return bG(b6[b2]).val()}return b5},set:function(bZ,b0){var e=bG.makeArray(b0);bG(bZ).find("option").each(function(){this.selected=bG.inArray(bG(this).val(),e)>=0});if(!e.length){bZ.selectedIndex=-1
}return e}}},attrFn:{},attr:function(b4,b1,b5,b3){var b0,e,b2,bZ=b4.nodeType;if(!b4||bZ===3||bZ===8||bZ===2){return}if(b3&&bG.isFunction(bG.fn[b1])){return bG(b4)[b1](b5)}if(typeof b4.getAttribute==="undefined"){return bG.prop(b4,b1,b5)}b2=bZ!==1||!bG.isXMLDoc(b4);if(b2){b1=b1.toLowerCase();e=bG.attrHooks[b1]||(M.test(b1)?bV:a7)}if(b5!==aB){if(b5===null){bG.removeAttr(b4,b1);return}else{if(e&&"set" in e&&b2&&(b0=e.set(b4,b5,b1))!==aB){return b0}else{b4.setAttribute(b1,b5+"");return b5}}}else{if(e&&"get" in e&&b2&&(b0=e.get(b4,b1))!==null){return b0}else{b0=b4.getAttribute(b1);return b0===null?aB:b0}}},removeAttr:function(b1,b3){var b2,b4,bZ,e,b0=0;if(b3&&b1.nodeType===1){b4=b3.split(aV);for(;b0<b4.length;b0++){bZ=b4[b0];if(bZ){b2=bG.propFix[bZ]||bZ;e=M.test(bZ);if(!e){bG.attr(b1,bZ,"")}b1.removeAttribute(bL?bZ:b2);if(e&&b2 in b1){b1[b2]=false}}}}},attrHooks:{type:{set:function(e,bZ){if(j.test(e.nodeName)&&e.parentNode){bG.error("type property can't be changed")}else{if(!bG.support.radioValue&&bZ==="radio"&&bG.nodeName(e,"input")){var b0=e.value;e.setAttribute("type",bZ);if(b0){e.value=b0}return bZ}}}},value:{get:function(bZ,e){if(a7&&bG.nodeName(bZ,"button")){return a7.get(bZ,e)}return e in bZ?bZ.value:null},set:function(bZ,b0,e){if(a7&&bG.nodeName(bZ,"button")){return a7.set(bZ,b0,e)}bZ.value=b0}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b3,b1,b4){var b0,e,b2,bZ=b3.nodeType;if(!b3||bZ===3||bZ===8||bZ===2){return}b2=bZ!==1||!bG.isXMLDoc(b3);if(b2){b1=bG.propFix[b1]||b1;e=bG.propHooks[b1]}if(b4!==aB){if(e&&"set" in e&&(b0=e.set(b3,b4,b1))!==aB){return b0}else{return(b3[b1]=b4)}}else{if(e&&"get" in e&&(b0=e.get(b3,b1))!==null){return b0}else{return b3[b1]}}},propHooks:{tabIndex:{get:function(bZ){var e=bZ.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aA.test(bZ.nodeName)||D.test(bZ.nodeName)&&bZ.href?0:aB}}}});bV={get:function(bZ,e){var b1,b0=bG.prop(bZ,e);return b0===true||typeof b0!=="boolean"&&(b1=bZ.getAttributeNode(e))&&b1.nodeValue!==false?e.toLowerCase():aB},set:function(bZ,b1,e){var b0;if(b1===false){bG.removeAttr(bZ,e)}else{b0=bG.propFix[e]||e;if(b0 in bZ){bZ[b0]=true}bZ.setAttribute(e,e.toLowerCase())}return e}};if(!bL){n={name:true,id:true,coords:true};a7=bG.valHooks.button={get:function(b0,bZ){var e;e=b0.getAttributeNode(bZ);return e&&(n[bZ]?e.value!=="":e.specified)?e.value:aB},set:function(b0,b1,bZ){var e=b0.getAttributeNode(bZ);if(!e){e=o.createAttribute(bZ);b0.setAttributeNode(e)}return(e.value=b1+"")}};bG.each(["width","height"],function(bZ,e){bG.attrHooks[e]=bG.extend(bG.attrHooks[e],{set:function(b0,b1){if(b1===""){b0.setAttribute(e,"auto");return b1}}})});bG.attrHooks.contenteditable={get:a7.get,set:function(bZ,b0,e){if(b0===""){b0="false"}a7.set(bZ,b0,e)}}}if(!bG.support.hrefNormalized){bG.each(["href","src","width","height"],function(bZ,e){bG.attrHooks[e]=bG.extend(bG.attrHooks[e],{get:function(b1){var b0=b1.getAttribute(e,2);return b0===null?aB:b0}})})}if(!bG.support.style){bG.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aB},set:function(e,bZ){return(e.style.cssText=bZ+"")}}}if(!bG.support.optSelected){bG.propHooks.selected=bG.extend(bG.propHooks.selected,{get:function(bZ){var e=bZ.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bG.support.enctype){bG.propFix.enctype="encoding"}if(!bG.support.checkOn){bG.each(["radio","checkbox"],function(){bG.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bG.each(["radio","checkbox"],function(){bG.valHooks[this]=bG.extend(bG.valHooks[this],{set:function(e,bZ){if(bG.isArray(bZ)){return(e.checked=bG.inArray(bG(e).val(),bZ)>=0)}}})});var bE=/^(?:textarea|input|select)$/i,br=/^([^\.]*|)(?:\.(.+)|)$/,ba=/(?:^|\s)hover(\.\S+|)\b/,a3=/^key/,bK=/^(?:mouse|contextmenu)|click/,by=/^(?:focusinfocus|focusoutblur)$/,aq=function(e){return bG.event.special.hover?e:e.replace(ba,"mouseenter$1 mouseleave$1")};bG.event={add:function(b1,b5,cc,b3,b2){var b6,b4,cd,cb,ca,b8,e,b9,bZ,b0,b7;if(b1.nodeType===3||b1.nodeType===8||!b5||!cc||!(b6=bG._data(b1))){return}if(cc.handler){bZ=cc;cc=bZ.handler;b2=bZ.selector}if(!cc.guid){cc.guid=bG.guid++}cd=b6.events;if(!cd){b6.events=cd={}}b4=b6.handle;if(!b4){b6.handle=b4=function(ce){return typeof bG!=="undefined"&&(!ce||bG.event.triggered!==ce.type)?bG.event.dispatch.apply(b4.elem,arguments):aB};b4.elem=b1}b5=bG.trim(aq(b5)).split(" ");for(cb=0;cb<b5.length;cb++){ca=br.exec(b5[cb])||[];b8=ca[1];e=(ca[2]||"").split(".").sort();b7=bG.event.special[b8]||{};b8=(b2?b7.delegateType:b7.bindType)||b8;b7=bG.event.special[b8]||{};b9=bG.extend({type:b8,origType:ca[1],data:b3,handler:cc,guid:cc.guid,selector:b2,needsContext:b2&&bG.expr.match.needsContext.test(b2),namespace:e.join(".")},bZ);b0=cd[b8];if(!b0){b0=cd[b8]=[];b0.delegateCount=0;if(!b7.setup||b7.setup.call(b1,b3,e,b4)===false){if(b1.addEventListener){b1.addEventListener(b8,b4,false)}else{if(b1.attachEvent){b1.attachEvent("on"+b8,b4)}}}}if(b7.add){b7.add.call(b1,b9);if(!b9.handler.guid){b9.handler.guid=cc.guid}}if(b2){b0.splice(b0.delegateCount++,0,b9)}else{b0.push(b9)}bG.event.global[b8]=true}b1=null},global:{},remove:function(b1,b6,cc,b2,b5){var cd,ce,b9,b0,bZ,b3,b4,cb,b8,e,ca,b7=bG.hasData(b1)&&bG._data(b1);if(!b7||!(cb=b7.events)){return}b6=bG.trim(aq(b6||"")).split(" ");for(cd=0;cd<b6.length;cd++){ce=br.exec(b6[cd])||[];b9=b0=ce[1];bZ=ce[2];if(!b9){for(b9 in cb){bG.event.remove(b1,b9+b6[cd],cc,b2,true)}continue}b8=bG.event.special[b9]||{};b9=(b2?b8.delegateType:b8.bindType)||b9;e=cb[b9]||[];b3=e.length;bZ=bZ?new RegExp("(^|\\.)"+bZ.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(b4=0;b4<e.length;b4++){ca=e[b4];if((b5||b0===ca.origType)&&(!cc||cc.guid===ca.guid)&&(!bZ||bZ.test(ca.namespace))&&(!b2||b2===ca.selector||b2==="**"&&ca.selector)){e.splice(b4--,1);if(ca.selector){e.delegateCount--}if(b8.remove){b8.remove.call(b1,ca)}}}if(e.length===0&&b3!==e.length){if(!b8.teardown||b8.teardown.call(b1,bZ,b7.handle)===false){bG.removeEvent(b1,b9,b7.handle)}delete cb[b9]}}if(bG.isEmptyObject(cb)){delete b7.handle;bG.removeData(b1,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(bZ,b6,b4,cd){if(b4&&(b4.nodeType===3||b4.nodeType===8)){return}var e,b1,b7,cb,b3,b2,b9,b8,b5,cc,ca=bZ.type||bZ,b0=[];if(by.test(ca+bG.event.triggered)){return}if(ca.indexOf("!")>=0){ca=ca.slice(0,-1);b1=true}if(ca.indexOf(".")>=0){b0=ca.split(".");ca=b0.shift();b0.sort()}if((!b4||bG.event.customEvent[ca])&&!bG.event.global[ca]){return}bZ=typeof bZ==="object"?bZ[bG.expando]?bZ:new bG.Event(ca,bZ):new bG.Event(ca);bZ.type=ca;bZ.isTrigger=true;bZ.exclusive=b1;bZ.namespace=b0.join(".");bZ.namespace_re=bZ.namespace?new RegExp("(^|\\.)"+b0.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b2=ca.indexOf(":")<0?"on"+ca:"";if(!b4){e=bG.cache;for(b7 in e){if(e[b7].events&&e[b7].events[ca]){bG.event.trigger(bZ,b6,e[b7].handle.elem,true)}}return}bZ.result=aB;if(!bZ.target){bZ.target=b4}b6=b6!=null?bG.makeArray(b6):[];b6.unshift(bZ);b9=bG.event.special[ca]||{};if(b9.trigger&&b9.trigger.apply(b4,b6)===false){return}b5=[[b4,b9.bindType||ca]];if(!cd&&!b9.noBubble&&!bG.isWindow(b4)){cc=b9.delegateType||ca;cb=by.test(cc+ca)?b4:b4.parentNode;for(b3=b4;cb;cb=cb.parentNode){b5.push([cb,cc]);b3=cb}if(b3===(b4.ownerDocument||o)){b5.push([b3.defaultView||b3.parentWindow||a2,cc])}}for(b7=0;b7<b5.length&&!bZ.isPropagationStopped();b7++){cb=b5[b7][0];bZ.type=b5[b7][1];b8=(bG._data(cb,"events")||{})[bZ.type]&&bG._data(cb,"handle");if(b8){b8.apply(cb,b6)}b8=b2&&cb[b2];if(b8&&bG.acceptData(cb)&&b8.apply&&b8.apply(cb,b6)===false){bZ.preventDefault()}}bZ.type=ca;if(!cd&&!bZ.isDefaultPrevented()){if((!b9._default||b9._default.apply(b4.ownerDocument,b6)===false)&&!(ca==="click"&&bG.nodeName(b4,"a"))&&bG.acceptData(b4)){if(b2&&b4[ca]&&((ca!=="focus"&&ca!=="blur")||bZ.target.offsetWidth!==0)&&!bG.isWindow(b4)){b3=b4[b2];
if(b3){b4[b2]=null}bG.event.triggered=ca;b4[ca]();bG.event.triggered=aB;if(b3){b4[b2]=b3}}}}return bZ.result},dispatch:function(e){e=bG.event.fix(e||a2.event);var b5,b4,ce,b8,b7,bZ,b6,cc,b1,cd,b2=((bG._data(this,"events")||{})[e.type]||[]),b3=b2.delegateCount,ca=a4.call(arguments),b0=!e.exclusive&&!e.namespace,b9=bG.event.special[e.type]||{},cb=[];ca[0]=e;e.delegateTarget=this;if(b9.preDispatch&&b9.preDispatch.call(this,e)===false){return}if(b3&&!(e.button&&e.type==="click")){for(ce=e.target;ce!=this;ce=ce.parentNode||this){if(ce.disabled!==true||e.type!=="click"){b7={};b6=[];for(b5=0;b5<b3;b5++){cc=b2[b5];b1=cc.selector;if(b7[b1]===aB){b7[b1]=cc.needsContext?bG(b1,this).index(ce)>=0:bG.find(b1,this,null,[ce]).length}if(b7[b1]){b6.push(cc)}}if(b6.length){cb.push({elem:ce,matches:b6})}}}}if(b2.length>b3){cb.push({elem:this,matches:b2.slice(b3)})}for(b5=0;b5<cb.length&&!e.isPropagationStopped();b5++){bZ=cb[b5];e.currentTarget=bZ.elem;for(b4=0;b4<bZ.matches.length&&!e.isImmediatePropagationStopped();b4++){cc=bZ.matches[b4];if(b0||(!e.namespace&&!cc.namespace)||e.namespace_re&&e.namespace_re.test(cc.namespace)){e.data=cc.data;e.handleObj=cc;b8=((bG.event.special[cc.origType]||{}).handle||cc.handler).apply(bZ.elem,ca);if(b8!==aB){e.result=b8;if(b8===false){e.preventDefault();e.stopPropagation()}}}}}if(b9.postDispatch){b9.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(bZ,e){if(bZ.which==null){bZ.which=e.charCode!=null?e.charCode:e.keyCode}return bZ}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b1,b0){var b2,b3,e,bZ=b0.button,b4=b0.fromElement;if(b1.pageX==null&&b0.clientX!=null){b2=b1.target.ownerDocument||o;b3=b2.documentElement;e=b2.body;b1.pageX=b0.clientX+(b3&&b3.scrollLeft||e&&e.scrollLeft||0)-(b3&&b3.clientLeft||e&&e.clientLeft||0);b1.pageY=b0.clientY+(b3&&b3.scrollTop||e&&e.scrollTop||0)-(b3&&b3.clientTop||e&&e.clientTop||0)}if(!b1.relatedTarget&&b4){b1.relatedTarget=b4===b1.target?b0.toElement:b4}if(!b1.which&&bZ!==aB){b1.which=(bZ&1?1:(bZ&2?3:(bZ&4?2:0)))}return b1}},fix:function(b0){if(b0[bG.expando]){return b0}var bZ,b3,e=b0,b1=bG.event.fixHooks[b0.type]||{},b2=b1.props?this.props.concat(b1.props):this.props;b0=bG.Event(e);for(bZ=b2.length;bZ;){b3=b2[--bZ];b0[b3]=e[b3]}if(!b0.target){b0.target=e.srcElement||o}if(b0.target.nodeType===3){b0.target=b0.target.parentNode}b0.metaKey=!!b0.metaKey;return b1.filter?b1.filter(b0,e):b0},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b0,bZ,e){if(bG.isWindow(this)){this.onbeforeunload=e}},teardown:function(bZ,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(b0,b2,b1,bZ){var b3=bG.extend(new bG.Event(),b1,{type:b0,isSimulated:true,originalEvent:{}});if(bZ){bG.event.trigger(b3,null,b2)}else{bG.event.dispatch.call(b2,b3)}if(b3.isDefaultPrevented()){b1.preventDefault()}}};bG.event.handle=bG.event.dispatch;bG.removeEvent=o.removeEventListener?function(bZ,e,b0){if(bZ.removeEventListener){bZ.removeEventListener(e,b0,false)}}:function(b0,bZ,b1){var e="on"+bZ;if(b0.detachEvent){if(typeof b0[e]==="undefined"){b0[e]=null}b0.detachEvent(e,b1)}};bG.Event=function(bZ,e){if(!(this instanceof bG.Event)){return new bG.Event(bZ,e)}if(bZ&&bZ.type){this.originalEvent=bZ;this.type=bZ.type;this.isDefaultPrevented=(bZ.defaultPrevented||bZ.returnValue===false||bZ.getPreventDefault&&bZ.getPreventDefault())?R:X}else{this.type=bZ}if(e){bG.extend(this,e)}this.timeStamp=bZ&&bZ.timeStamp||bG.now();this[bG.expando]=true};function X(){return false}function R(){return true}bG.Event.prototype={preventDefault:function(){this.isDefaultPrevented=R;var bZ=this.originalEvent;if(!bZ){return}if(bZ.preventDefault){bZ.preventDefault()}else{bZ.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=R;var bZ=this.originalEvent;if(!bZ){return}if(bZ.stopPropagation){bZ.stopPropagation()}bZ.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=R;this.stopPropagation()},isDefaultPrevented:X,isPropagationStopped:X,isImmediatePropagationStopped:X};bG.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bZ,e){bG.event.special[bZ]={delegateType:e,bindType:e,handle:function(b3){var b1,b5=this,b4=b3.relatedTarget,b2=b3.handleObj,b0=b2.selector;if(!b4||(b4!==b5&&!bG.contains(b5,b4))){b3.type=b2.origType;b1=b2.handler.apply(this,arguments);b3.type=e}return b1}}});if(!bG.support.submitBubbles){bG.event.special.submit={setup:function(){if(bG.nodeName(this,"form")){return false}bG.event.add(this,"click._submit keypress._submit",function(b1){var b0=b1.target,bZ=bG.nodeName(b0,"input")||bG.nodeName(b0,"button")?b0.form:aB;if(bZ&&!bG._data(bZ,"_submit_attached")){bG.event.add(bZ,"submit._submit",function(e){e._submit_bubble=true});bG._data(bZ,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bG.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bG.nodeName(this,"form")){return false}bG.event.remove(this,"._submit")}}}if(!bG.support.changeBubbles){bG.event.special.change={setup:function(){if(bE.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bG.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bG.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bG.event.simulate("change",this,e,true)})}return false}bG.event.add(this,"beforeactivate._change",function(b0){var bZ=b0.target;if(bE.test(bZ.nodeName)&&!bG._data(bZ,"_change_attached")){bG.event.add(bZ,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bG.event.simulate("change",this.parentNode,e,true)}});bG._data(bZ,"_change_attached",true)}})},handle:function(bZ){var e=bZ.target;if(this!==e||bZ.isSimulated||bZ.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return bZ.handleObj.handler.apply(this,arguments)}},teardown:function(){bG.event.remove(this,"._change");return !bE.test(this.nodeName)}}}if(!bG.support.focusinBubbles){bG.each({focus:"focusin",blur:"focusout"},function(b1,e){var bZ=0,b0=function(b2){bG.event.simulate(e,b2.target,bG.event.fix(b2),true)};bG.event.special[e]={setup:function(){if(bZ++===0){o.addEventListener(b1,b0,true)}},teardown:function(){if(--bZ===0){o.removeEventListener(b1,b0,true)}}}})}bG.fn.extend({on:function(b0,e,b3,b2,bZ){var b4,b1;if(typeof b0==="object"){if(typeof e!=="string"){b3=b3||e;e=aB}for(b1 in b0){this.on(b1,e,b3,b0[b1],bZ)}return this}if(b3==null&&b2==null){b2=e;b3=e=aB}else{if(b2==null){if(typeof e==="string"){b2=b3;b3=aB}else{b2=b3;b3=e;e=aB}}}if(b2===false){b2=X}else{if(!b2){return this}}if(bZ===1){b4=b2;b2=function(b5){bG().off(b5);return b4.apply(this,arguments)};b2.guid=b4.guid||(b4.guid=bG.guid++)}return this.each(function(){bG.event.add(this,b0,b2,b3,e)})},one:function(bZ,e,b1,b0){return this.on(bZ,e,b1,b0,1)},off:function(b0,e,b2){var bZ,b1;if(b0&&b0.preventDefault&&b0.handleObj){bZ=b0.handleObj;bG(b0.delegateTarget).off(bZ.namespace?bZ.origType+"."+bZ.namespace:bZ.origType,bZ.selector,bZ.handler);return this}if(typeof b0==="object"){for(b1 in b0){this.off(b1,e,b0[b1])}return this}if(e===false||typeof e==="function"){b2=e;e=aB}if(b2===false){b2=X}return this.each(function(){bG.event.remove(this,b0,b2,e)})},bind:function(e,b0,bZ){return this.on(e,null,b0,bZ)},unbind:function(e,bZ){return this.off(e,null,bZ)},live:function(e,b0,bZ){bG(this.context).on(e,this.selector,b0,bZ);return this},die:function(e,bZ){bG(this.context).off(e,this.selector||"**",bZ);return this},delegate:function(e,bZ,b1,b0){return this.on(bZ,e,b1,b0)
},undelegate:function(e,bZ,b0){return arguments.length===1?this.off(e,"**"):this.off(bZ,e||"**",b0)},trigger:function(e,bZ){return this.each(function(){bG.event.trigger(e,bZ,this)})},triggerHandler:function(e,bZ){if(this[0]){return bG.event.trigger(e,bZ,this[0],true)}},toggle:function(b1){var bZ=arguments,e=b1.guid||bG.guid++,b0=0,b2=function(b3){var b4=(bG._data(this,"lastToggle"+b1.guid)||0)%b0;bG._data(this,"lastToggle"+b1.guid,b4+1);b3.preventDefault();return bZ[b4].apply(this,arguments)||false};b2.guid=e;while(b0<bZ.length){bZ[b0++].guid=e}return this.click(b2)},hover:function(e,bZ){return this.mouseenter(e).mouseleave(bZ||e)}});bG.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(bZ,e){bG.fn[e]=function(b1,b0){if(b0==null){b0=b1;b1=null}return arguments.length>0?this.on(e,null,b1,b0):this.trigger(e)};if(a3.test(e)){bG.event.fixHooks[e]=bG.event.keyHooks}if(bK.test(e)){bG.event.fixHooks[e]=bG.event.mouseHooks}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(cS,ch){var cX,ca,cL,b0,cm,cA,cd,cg,cc,cJ,b9=true,cu="undefined",cZ=("sizcache"+Math.random()).replace(".",""),b4=String,b8=cS.document,cb=b8.documentElement,cr=0,cf=0,cE=[].pop,cW=[].push,cl=[].slice,co=[].indexOf||function(c8){var c7=0,e=this.length;for(;c7<e;c7++){if(this[c7]===c8){return c7}}return -1},c1=function(e,c7){e[cZ]=c7==null||c7;return e},c5=function(){var e={},c7=[];return c1(function(c8,c9){if(c7.push(c8)>cL.cacheLength){delete e[c7.shift()]}return(e[c8]=c9)},e)},cU=c5(),cV=c5(),cn=c5(),cy="[\\x20\\t\\r\\n\\f]",ck="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",ci=ck.replace("w","w#"),c4="([*^$|!~]?=)",cP="\\["+cy+"*("+ck+")"+cy+"*(?:"+c4+cy+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ci+")|)|)"+cy+"*\\]",c6=":("+ck+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cP+")|[^:]|\\\\.)*|.*))\\)|)",cz=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cy+"*((?:-\\d)?\\d*)"+cy+"*\\)|)(?=[^-]|$)",cT=new RegExp("^"+cy+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cy+"+$","g"),b5=new RegExp("^"+cy+"*,"+cy+"*"),cH=new RegExp("^"+cy+"*([\\x20\\t\\r\\n\\f>+~])"+cy+"*"),cM=new RegExp(c6),cO=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cD=/^:not/,cR=/[\x20\t\r\n\f]*[+~]/,c0=/:not\($/,cs=/h\d/i,cN=/input|select|textarea|button/i,ct=/\\(?!\\)/g,cG={ID:new RegExp("^#("+ck+")"),CLASS:new RegExp("^\\.("+ck+")"),NAME:new RegExp("^\\[name=['\"]?("+ck+")['\"]?\\]"),TAG:new RegExp("^("+ck.replace("w","w*")+")"),ATTR:new RegExp("^"+cP),PSEUDO:new RegExp("^"+c6),POS:new RegExp(cz,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cy+"*(even|odd|(([+-]|)(\\d*)n|)"+cy+"*(?:([+-]|)"+cy+"*(\\d+)|))"+cy+"*\\)|)","i"),needsContext:new RegExp("^"+cy+"*[>+~]|"+cz,"i")},cK=function(c7){var c9=b8.createElement("div");try{return c7(c9)}catch(c8){return false}finally{c9=null}},b7=cK(function(e){e.appendChild(b8.createComment(""));return !e.getElementsByTagName("*").length}),cC=cK(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cu&&e.firstChild.getAttribute("href")==="#"}),cq=cK(function(c7){c7.innerHTML="<select></select>";var e=typeof c7.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cB=cK(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),bZ=cK(function(c7){c7.id=cZ+0;c7.innerHTML="<a name='"+cZ+"'></a><div name='"+cZ+"'></div>";cb.insertBefore(c7,cb.firstChild);var e=b8.getElementsByName&&b8.getElementsByName(cZ).length===2+b8.getElementsByName(cZ+0).length;ca=!b8.getElementById(cZ);cb.removeChild(c7);return e});try{cl.call(cb.childNodes,0)[0].nodeType}catch(c3){cl=function(c7){var c8,e=[];for(;(c8=this[c7]);c7++){e.push(c8)}return e}}function cQ(c9,e,db,de){db=db||[];e=e||b8;var dc,c7,dd,c8,da=e.nodeType;if(!c9||typeof c9!=="string"){return db}if(da!==1&&da!==9){return[]}dd=cm(e);if(!dd&&!de){if((dc=cO.exec(c9))){if((c8=dc[1])){if(da===9){c7=e.getElementById(c8);if(c7&&c7.parentNode){if(c7.id===c8){db.push(c7);return db}}else{return db}}else{if(e.ownerDocument&&(c7=e.ownerDocument.getElementById(c8))&&cA(e,c7)&&c7.id===c8){db.push(c7);return db}}}else{if(dc[2]){cW.apply(db,cl.call(e.getElementsByTagName(c9),0));return db}else{if((c8=dc[3])&&cB&&e.getElementsByClassName){cW.apply(db,cl.call(e.getElementsByClassName(c8),0));return db}}}}}return cY(c9.replace(cT,"$1"),e,db,de,dd)}cQ.matches=function(c7,e){return cQ(c7,null,null,e)};cQ.matchesSelector=function(e,c7){return cQ(c7,null,null,[e]).length>0};function cI(e){return function(c8){var c7=c8.nodeName.toLowerCase();return c7==="input"&&c8.type===e}}function b3(e){return function(c8){var c7=c8.nodeName.toLowerCase();return(c7==="input"||c7==="button")&&c8.type===e}}function cF(e){return c1(function(c7){c7=+c7;return c1(function(c8,dc){var da,c9=e([],c8.length,c7),db=c9.length;while(db--){if(c8[(da=c9[db])]){c8[da]=!(dc[da]=c8[da])}}})})}b0=cQ.getText=function(da){var c9,c7="",c8=0,e=da.nodeType;if(e){if(e===1||e===9||e===11){if(typeof da.textContent==="string"){return da.textContent}else{for(da=da.firstChild;da;da=da.nextSibling){c7+=b0(da)}}}else{if(e===3||e===4){return da.nodeValue}}}else{for(;(c9=da[c8]);c8++){c7+=b0(c9)}}return c7};cm=cQ.isXML=function(e){var c7=e&&(e.ownerDocument||e).documentElement;return c7?c7.nodeName!=="HTML":false};cA=cQ.contains=cb.contains?function(c7,e){var c9=c7.nodeType===9?c7.documentElement:c7,c8=e&&e.parentNode;return c7===c8||!!(c8&&c8.nodeType===1&&c9.contains&&c9.contains(c8))}:cb.compareDocumentPosition?function(c7,e){return e&&!!(c7.compareDocumentPosition(e)&16)}:function(c7,e){while((e=e.parentNode)){if(e===c7){return true}}return false};cQ.attr=function(c8,c7){var c9,e=cm(c8);if(!e){c7=c7.toLowerCase()}if((c9=cL.attrHandle[c7])){return c9(c8)}if(e||cq){return c8.getAttribute(c7)}c9=c8.getAttributeNode(c7);return c9?typeof c8[c7]==="boolean"?c8[c7]?c7:null:c9.specified?c9.value:null:null};cL=cQ.selectors={cacheLength:50,createPseudo:c1,match:cG,attrHandle:cC?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:ca?function(c9,c8,c7){if(typeof c8.getElementById!==cu&&!c7){var e=c8.getElementById(c9);return e&&e.parentNode?[e]:[]}}:function(c9,c8,c7){if(typeof c8.getElementById!==cu&&!c7){var e=c8.getElementById(c9);return e?e.id===c9||typeof e.getAttributeNode!==cu&&e.getAttributeNode("id").value===c9?[e]:ch:[]}},TAG:b7?function(e,c7){if(typeof c7.getElementsByTagName!==cu){return c7.getElementsByTagName(e)}}:function(e,da){var c9=da.getElementsByTagName(e);if(e==="*"){var db,c8=[],c7=0;for(;(db=c9[c7]);c7++){if(db.nodeType===1){c8.push(db)}}return c8}return c9},NAME:bZ&&function(e,c7){if(typeof c7.getElementsByName!==cu){return c7.getElementsByName(name)}},CLASS:cB&&function(c8,c7,e){if(typeof c7.getElementsByClassName!==cu&&!e){return c7.getElementsByClassName(c8)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(ct,"");e[3]=(e[4]||e[5]||"").replace(ct,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){cQ.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){cQ.error(e[0])}}return e},PSEUDO:function(c7){var c8,e;if(cG.CHILD.test(c7[0])){return null}if(c7[3]){c7[2]=c7[3]}else{if((c8=c7[4])){if(cM.test(c8)&&(e=b1(c8,true))&&(e=c8.indexOf(")",c8.length-e)-c8.length)){c8=c8.slice(0,e);c7[0]=c7[0].slice(0,e)}c7[2]=c8}}return c7.slice(0,3)}},filter:{ID:ca?function(e){e=e.replace(ct,"");
return function(c7){return c7.getAttribute("id")===e}}:function(e){e=e.replace(ct,"");return function(c8){var c7=typeof c8.getAttributeNode!==cu&&c8.getAttributeNode("id");return c7&&c7.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(ct,"").toLowerCase();return function(c7){return c7.nodeName&&c7.nodeName.toLowerCase()===e}},CLASS:function(e){var c7=cU[cZ][e];if(!c7){c7=cU(e,new RegExp("(^|"+cy+")"+e+"("+cy+"|$)"))}return function(c8){return c7.test(c8.className||(typeof c8.getAttribute!==cu&&c8.getAttribute("class"))||"")}},ATTR:function(c8,c7,e){return function(db,da){var c9=cQ.attr(db,c8);if(c9==null){return c7==="!="}if(!c7){return true}c9+="";return c7==="="?c9===e:c7==="!="?c9!==e:c7==="^="?e&&c9.indexOf(e)===0:c7==="*="?e&&c9.indexOf(e)>-1:c7==="$="?e&&c9.substr(c9.length-e.length)===e:c7==="~="?(" "+c9+" ").indexOf(e)>-1:c7==="|="?c9===e||c9.substr(0,e.length+1)===e+"-":false}},CHILD:function(e,c8,c9,c7){if(e==="nth"){return function(dc){var db,dd,da=dc.parentNode;if(c9===1&&c7===0){return true}if(da){dd=0;for(db=da.firstChild;db;db=db.nextSibling){if(db.nodeType===1){dd++;if(dc===db){break}}}}dd-=c7;return dd===c9||(dd%c9===0&&dd/c9>=0)}}return function(db){var da=db;switch(e){case"only":case"first":while((da=da.previousSibling)){if(da.nodeType===1){return false}}if(e==="first"){return true}da=db;case"last":while((da=da.nextSibling)){if(da.nodeType===1){return false}}return true}}},PSEUDO:function(c9,c8){var e,c7=cL.pseudos[c9]||cL.setFilters[c9.toLowerCase()]||cQ.error("unsupported pseudo: "+c9);if(c7[cZ]){return c7(c8)}if(c7.length>1){e=[c9,c9,"",c8];return cL.setFilters.hasOwnProperty(c9.toLowerCase())?c1(function(dc,de){var db,da=c7(dc,c8),dd=da.length;while(dd--){db=co.call(dc,da[dd]);dc[db]=!(de[db]=da[dd])}}):function(da){return c7(da,0,e)}}return c7}},pseudos:{not:c1(function(e){var c7=[],c8=[],c9=cd(e.replace(cT,"$1"));return c9[cZ]?c1(function(db,dg,de,dc){var df,da=c9(db,null,dc,[]),dd=db.length;while(dd--){if((df=da[dd])){db[dd]=!(dg[dd]=df)}}}):function(dc,db,da){c7[0]=dc;c9(c7,null,da,c8);return !c8.pop()}}),has:c1(function(e){return function(c7){return cQ(e,c7).length>0}}),contains:c1(function(e){return function(c7){return(c7.textContent||c7.innerText||b0(c7)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var c7=e.nodeName.toLowerCase();return(c7==="input"&&!!e.checked)||(c7==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !cL.pseudos.empty(e)},empty:function(c7){var e;c7=c7.firstChild;while(c7){if(c7.nodeName>"@"||(e=c7.nodeType)===3||e===4){return false}c7=c7.nextSibling}return true},header:function(e){return cs.test(e.nodeName)},text:function(c8){var c7,e;return c8.nodeName.toLowerCase()==="input"&&(c7=c8.type)==="text"&&((e=c8.getAttribute("type"))==null||e.toLowerCase()===c7)},radio:cI("radio"),checkbox:cI("checkbox"),file:cI("file"),password:cI("password"),image:cI("image"),submit:b3("submit"),reset:b3("reset"),button:function(c7){var e=c7.nodeName.toLowerCase();return e==="input"&&c7.type==="button"||e==="button"},input:function(e){return cN.test(e.nodeName)},focus:function(e){var c7=e.ownerDocument;return e===c7.activeElement&&(!c7.hasFocus||c7.hasFocus())&&!!(e.type||e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:cF(function(e,c8,c7){return[0]}),last:cF(function(e,c8,c7){return[c8-1]}),eq:cF(function(e,c8,c7){return[c7<0?c7+c8:c7]}),even:cF(function(e,c9,c8){for(var c7=0;c7<c9;c7+=2){e.push(c7)}return e}),odd:cF(function(e,c9,c8){for(var c7=1;c7<c9;c7+=2){e.push(c7)}return e}),lt:cF(function(e,c9,c8){for(var c7=c8<0?c8+c9:c8;--c7>=0;){e.push(c7)}return e}),gt:cF(function(e,c9,c8){for(var c7=c8<0?c8+c9:c8;++c7<c9;){e.push(c7)}return e})}};function b2(c7,e,c8){if(c7===e){return c8}var c9=c7.nextSibling;while(c9){if(c9===e){return -1}c9=c9.nextSibling}return 1}cg=cb.compareDocumentPosition?function(c7,e){if(c7===e){cc=true;return 0}return(!c7.compareDocumentPosition||!e.compareDocumentPosition?c7.compareDocumentPosition:c7.compareDocumentPosition(e)&4)?-1:1}:function(de,dd){if(de===dd){cc=true;return 0}else{if(de.sourceIndex&&dd.sourceIndex){return de.sourceIndex-dd.sourceIndex}}var db,c7,c8=[],e=[],da=de.parentNode,dc=dd.parentNode,df=da;if(da===dc){return b2(de,dd)}else{if(!da){return -1}else{if(!dc){return 1}}}while(df){c8.unshift(df);df=df.parentNode}df=dc;while(df){e.unshift(df);df=df.parentNode}db=c8.length;c7=e.length;for(var c9=0;c9<db&&c9<c7;c9++){if(c8[c9]!==e[c9]){return b2(c8[c9],e[c9])}}return c9===db?b2(de,e[c9],-1):b2(c8[c9],dd,1)};[0,0].sort(cg);b9=!cc;cQ.uniqueSort=function(c7){var c8,e=1;cc=b9;c7.sort(cg);if(cc){for(;(c8=c7[e]);e++){if(c8===c7[e-1]){c7.splice(e--,1)}}}return c7};cQ.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function b1(da,df){var c7,db,dd,de,dc,c8,e,c9=cV[cZ][da];if(c9){return df?0:c9.slice(0)}dc=da;c8=[];e=cL.preFilter;while(dc){if(!c7||(db=b5.exec(dc))){if(db){dc=dc.slice(db[0].length)}c8.push(dd=[])}c7=false;if((db=cH.exec(dc))){dd.push(c7=new b4(db.shift()));dc=dc.slice(c7.length);c7.type=db[0].replace(cT," ")}for(de in cL.filter){if((db=cG[de].exec(dc))&&(!e[de]||(db=e[de](db,b8,true)))){dd.push(c7=new b4(db.shift()));dc=dc.slice(c7.length);c7.type=de;c7.matches=db}}if(!c7){break}}return df?dc.length:dc?cQ.error(da):cV(da,c8).slice(0)}function cw(da,c8,c9){var e=c8.dir,db=c9&&c8.dir==="parentNode",c7=cf++;return c8.first?function(de,dd,dc){while((de=de[e])){if(db||de.nodeType===1){return da(de,dd,dc)}}}:function(df,de,dd){if(!dd){var dc,dg=cr+" "+c7+" ",dh=dg+cX;while((df=df[e])){if(db||df.nodeType===1){if((dc=df[cZ])===dh){return df.sizset}else{if(typeof dc==="string"&&dc.indexOf(dg)===0){if(df.sizset){return df}}else{df[cZ]=dh;if(da(df,de,dd)){df.sizset=true;return df}df.sizset=false}}}}}else{while((df=df[e])){if(db||df.nodeType===1){if(da(df,de,dd)){return df}}}}}}function ce(e){return e.length>1?function(da,c9,c7){var c8=e.length;while(c8--){if(!e[c8](da,c9,c7)){return false}}return true}:e[0]}function cv(e,c7,c8,c9,dc){var da,df=[],db=0,dd=e.length,de=c7!=null;for(;db<dd;db++){if((da=e[db])){if(!c8||c8(da,c9,dc)){df.push(da);if(de){c7.push(db)}}}}return df}function c2(c8,c7,da,c9,db,e){if(c9&&!c9[cZ]){c9=c2(c9)}if(db&&!db[cZ]){db=c2(db,e)}return c1(function(dn,dk,de,dm){if(dn&&db){return}var dl,dg,dh,df=[],dp=[],dd=dk.length,dc=dn||cp(c7||"*",de.nodeType?[de]:de,[],dn),di=c8&&(dn||!c7)?cv(dc,df,c8,de,dm):dc,dj=da?db||(dn?c8:dd||c9)?[]:dk:di;if(da){da(di,dj,de,dm)}if(c9){dh=cv(dj,dp);c9(dh,[],de,dm);dl=dh.length;while(dl--){if((dg=dh[dl])){dj[dp[dl]]=!(di[dp[dl]]=dg)}}}if(dn){dl=c8&&dj.length;while(dl--){if((dg=dj[dl])){dn[df[dl]]=!(dk[df[dl]]=dg)}}}else{dj=cv(dj===dk?dj.splice(dd,dj.length):dj);if(db){db(null,dk,dj,dm)}else{cW.apply(dk,dj)}}})}function cx(dc){var c7,da,c8,db=dc.length,df=cL.relative[dc[0].type],dg=df||cL.relative[" "],c9=df?1:0,dd=cw(function(dh){return dh===c7},dg,true),de=cw(function(dh){return co.call(c7,dh)>-1},dg,true),e=[function(dj,di,dh){return(!df&&(dh||di!==cJ))||((c7=di).nodeType?dd(dj,di,dh):de(dj,di,dh))}];for(;c9<db;c9++){if((da=cL.relative[dc[c9].type])){e=[cw(ce(e),da)]}else{da=cL.filter[dc[c9].type].apply(null,dc[c9].matches);if(da[cZ]){c8=++c9;for(;c8<db;c8++){if(cL.relative[dc[c8].type]){break}}return c2(c9>1&&ce(e),c9>1&&dc.slice(0,c9-1).join("").replace(cT,"$1"),da,c9<c8&&cx(dc.slice(c9,c8)),c8<db&&cx((dc=dc.slice(c8))),c8<db&&dc.join(""))}e.push(da)}}return ce(e)}function b6(c9,c8){var e=c8.length>0,da=c9.length>0,c7=function(dk,de,dj,di,dr){var df,dg,dl,dq=[],dp=0,dh="0",db=dk&&[],dm=dr!=null,dn=cJ,dd=dk||da&&cL.find.TAG("*",dr&&de.parentNode||de),dc=(cr+=dn==null?1:Math.E);if(dm){cJ=de!==b8&&de;cX=c7.el}for(;(df=dd[dh])!=null;dh++){if(da&&df){for(dg=0;(dl=c9[dg]);dg++){if(dl(df,de,dj)){di.push(df);break}}if(dm){cr=dc;cX=++c7.el}}if(e){if((df=!dl&&df)){dp--}if(dk){db.push(df)
}}}dp+=dh;if(e&&dh!==dp){for(dg=0;(dl=c8[dg]);dg++){dl(db,dq,de,dj)}if(dk){if(dp>0){while(dh--){if(!(db[dh]||dq[dh])){dq[dh]=cE.call(di)}}}dq=cv(dq)}cW.apply(di,dq);if(dm&&!dk&&dq.length>0&&(dp+c8.length)>1){cQ.uniqueSort(di)}}if(dm){cr=dc;cJ=dn}return db};c7.el=0;return e?c1(c7):c7}cd=cQ.compile=function(e,db){var c8,c7=[],da=[],c9=cn[cZ][e];if(!c9){if(!db){db=b1(e)}c8=db.length;while(c8--){c9=cx(db[c8]);if(c9[cZ]){c7.push(c9)}else{da.push(c9)}}c9=cn(e,b6(da,c7))}return c9};function cp(c7,db,da,c8){var c9=0,e=db.length;for(;c9<e;c9++){cQ(c7,db[c9],da,c8)}return da}function cY(c8,e,da,de,dd){var db,dh,c7,dg,df,dc=b1(c8),c9=dc.length;if(!de){if(dc.length===1){dh=dc[0]=dc[0].slice(0);if(dh.length>2&&(c7=dh[0]).type==="ID"&&e.nodeType===9&&!dd&&cL.relative[dh[1].type]){e=cL.find.ID(c7.matches[0].replace(ct,""),e,dd)[0];if(!e){return da}c8=c8.slice(dh.shift().length)}for(db=cG.POS.test(c8)?-1:dh.length-1;db>=0;db--){c7=dh[db];if(cL.relative[(dg=c7.type)]){break}if((df=cL.find[dg])){if((de=df(c7.matches[0].replace(ct,""),cR.test(dh[0].type)&&e.parentNode||e,dd))){dh.splice(db,1);c8=de.length&&dh.join("");if(!c8){cW.apply(da,cl.call(de,0));return da}break}}}}}cd(c8,dc)(de,e,dd,da,cR.test(c8));return da}if(b8.querySelectorAll){(function(){var db,dc=cY,da=/'|\\/g,c8=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,c7=[":focus"],e=[":active",":focus"],c9=cb.matchesSelector||cb.mozMatchesSelector||cb.webkitMatchesSelector||cb.oMatchesSelector||cb.msMatchesSelector;cK(function(dd){dd.innerHTML="<select><option selected=''></option></select>";if(!dd.querySelectorAll("[selected]").length){c7.push("\\["+cy+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dd.querySelectorAll(":checked").length){c7.push(":checked")}});cK(function(dd){dd.innerHTML="<p test=''></p>";if(dd.querySelectorAll("[test^='']").length){c7.push("[*^$]="+cy+"*(?:\"\"|'')")}dd.innerHTML="<input type='hidden'/>";if(!dd.querySelectorAll(":enabled").length){c7.push(":enabled",":disabled")}});c7=new RegExp(c7.join("|"));cY=function(dj,de,dl,dp,dn){if(!dp&&!dn&&(!c7||!c7.test(dj))){var dh,dm,dg=true,dd=cZ,df=de,dk=de.nodeType===9&&dj;if(de.nodeType===1&&de.nodeName.toLowerCase()!=="object"){dh=b1(dj);if((dg=de.getAttribute("id"))){dd=dg.replace(da,"\\$&")}else{de.setAttribute("id",dd)}dd="[id='"+dd+"'] ";dm=dh.length;while(dm--){dh[dm]=dd+dh[dm].join("")}df=cR.test(dj)&&de.parentNode||de;dk=dh.join(",")}if(dk){try{cW.apply(dl,cl.call(df.querySelectorAll(dk),0));return dl}catch(di){}finally{if(!dg){de.removeAttribute("id")}}}}return dc(dj,de,dl,dp,dn)};if(c9){cK(function(de){db=c9.call(de,"div");try{c9.call(de,"[test!='']:sizzle");e.push("!=",c6)}catch(dd){}});e=new RegExp(e.join("|"));cQ.matchesSelector=function(de,dg){dg=dg.replace(c8,"='$1']");if(!cm(de)&&!e.test(dg)&&(!c7||!c7.test(dg))){try{var dd=c9.call(de,dg);if(dd||db||de.document&&de.document.nodeType!==11){return dd}}catch(df){}}return cQ(dg,null,null,[de]).length>0}}})()}cL.pseudos.nth=cL.pseudos.eq;function cj(){}cL.filters=cj.prototype=cL.pseudos;cL.setFilters=new cj();cQ.attr=bG.attr;bG.find=cQ;bG.expr=cQ.selectors;bG.expr[":"]=bG.expr.pseudos;bG.unique=cQ.uniqueSort;bG.text=cQ.getText;bG.isXMLDoc=cQ.isXML;bG.contains=cQ.contains})(a2);var ag=/Until$/,bq=/^(?:parents|prev(?:Until|All))/,al=/^.[^:#\[\.,]*$/,y=bG.expr.match.needsContext,bu={children:true,contents:true,next:true,prev:true};bG.fn.extend({find:function(e){var b2,bZ,b4,b5,b3,b1,b0=this;if(typeof e!=="string"){return bG(e).filter(function(){for(b2=0,bZ=b0.length;b2<bZ;b2++){if(bG.contains(b0[b2],this)){return true}}})}b1=this.pushStack("","find",e);for(b2=0,bZ=this.length;b2<bZ;b2++){b4=b1.length;bG.find(e,this[b2],b1);if(b2>0){for(b5=b4;b5<b1.length;b5++){for(b3=0;b3<b4;b3++){if(b1[b3]===b1[b5]){b1.splice(b5--,1);break}}}}}return b1},has:function(b1){var b0,bZ=bG(b1,this),e=bZ.length;return this.filter(function(){for(b0=0;b0<e;b0++){if(bG.contains(this,bZ[b0])){return true}}})},not:function(e){return this.pushStack(aM(this,e,false),"not",e)},filter:function(e){return this.pushStack(aM(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?y.test(e)?bG(e,this.context).index(this[0])>=0:bG.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b2,b1){var b3,b0=0,e=this.length,bZ=[],b4=y.test(b2)||typeof b2!=="string"?bG(b2,b1||this.context):0;for(;b0<e;b0++){b3=this[b0];while(b3&&b3.ownerDocument&&b3!==b1&&b3.nodeType!==11){if(b4?b4.index(b3)>-1:bG.find.matchesSelector(b3,b2)){bZ.push(b3);break}b3=b3.parentNode}}bZ=bZ.length>1?bG.unique(bZ):bZ;return this.pushStack(bZ,"closest",b2)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return bG.inArray(this[0],bG(e))}return bG.inArray(e.jquery?e[0]:e,this)},add:function(e,bZ){var b1=typeof e==="string"?bG(e,bZ):bG.makeArray(e&&e.nodeType?[e]:e),b0=bG.merge(this.get(),b1);return this.pushStack(aR(b1[0])||aR(b0[0])?b0:bG.unique(b0))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bG.fn.andSelf=bG.fn.addBack;function aR(e){return !e||!e.parentNode||e.parentNode.nodeType===11}function aY(bZ,e){do{bZ=bZ[e]}while(bZ&&bZ.nodeType!==1);return bZ}bG.each({parent:function(bZ){var e=bZ.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bG.dir(e,"parentNode")},parentsUntil:function(bZ,e,b0){return bG.dir(bZ,"parentNode",b0)},next:function(e){return aY(e,"nextSibling")},prev:function(e){return aY(e,"previousSibling")},nextAll:function(e){return bG.dir(e,"nextSibling")},prevAll:function(e){return bG.dir(e,"previousSibling")},nextUntil:function(bZ,e,b0){return bG.dir(bZ,"nextSibling",b0)},prevUntil:function(bZ,e,b0){return bG.dir(bZ,"previousSibling",b0)},siblings:function(e){return bG.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bG.sibling(e.firstChild)},contents:function(e){return bG.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bG.merge([],e.childNodes)}},function(e,bZ){bG.fn[e]=function(b2,b0){var b1=bG.map(this,bZ,b2);if(!ag.test(e)){b0=b2}if(b0&&typeof b0==="string"){b1=bG.filter(b0,b1)}b1=this.length>1&&!bu[e]?bG.unique(b1):b1;if(this.length>1&&bq.test(e)){b1=b1.reverse()}return this.pushStack(b1,e,a4.call(arguments).join(","))}});bG.extend({filter:function(b0,e,bZ){if(bZ){b0=":not("+b0+")"}return e.length===1?bG.find.matchesSelector(e[0],b0)?[e[0]]:[]:bG.find.matches(b0,e)},dir:function(b0,bZ,b2){var e=[],b1=b0[bZ];while(b1&&b1.nodeType!==9&&(b2===aB||b1.nodeType!==1||!bG(b1).is(b2))){if(b1.nodeType===1){e.push(b1)}b1=b1[bZ]}return e},sibling:function(b0,bZ){var e=[];for(;b0;b0=b0.nextSibling){if(b0.nodeType===1&&b0!==bZ){e.push(b0)}}return e}});function aM(b1,b0,e){b0=b0||0;if(bG.isFunction(b0)){return bG.grep(b1,function(b3,b2){var b4=!!b0.call(b3,b2,b3);return b4===e})}else{if(b0.nodeType){return bG.grep(b1,function(b3,b2){return(b3===b0)===e})}else{if(typeof b0==="string"){var bZ=bG.grep(b1,function(b2){return b2.nodeType===1});if(al.test(b0)){return bG.filter(b0,bZ,!e)}else{b0=bG.filter(b0,bZ)}}}}return bG.grep(b1,function(b3,b2){return(bG.inArray(b3,b0)>=0)===e})}function A(e){var b0=c.split("|"),bZ=e.createDocumentFragment();if(bZ.createElement){while(b0.length){bZ.createElement(b0.pop())}}return bZ}var c="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",av=/ jQuery\d+="(?:null|\d+)"/g,bY=/^\s+/,ay=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,p=/<([\w:]+)/,bT=/<tbody/i,J=/<|&#?\w+;/,aj=/<(?:script|style|link)/i,ap=/<(?:script|object|embed|option|style)/i,K=new RegExp("<(?:"+c+")[\\s/>]","i"),aE=/^(?:checkbox|radio)$/,bR=/checked\s*(?:[^=]|=\s*.checked.)/i,bw=/\/(java|ecma)script/i,aH=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,T={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aQ=A(o),l=aQ.appendChild(o.createElement("div"));
T.optgroup=T.option;T.tbody=T.tfoot=T.colgroup=T.caption=T.thead;T.th=T.td;if(!bG.support.htmlSerialize){T._default=[1,"X<div>","</div>"]}bG.fn.extend({text:function(e){return bG.access(this,function(bZ){return bZ===aB?bG.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(bZ))},null,e,arguments.length)},wrapAll:function(e){if(bG.isFunction(e)){return this.each(function(b0){bG(this).wrapAll(e.call(this,b0))})}if(this[0]){var bZ=bG(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bZ.insertBefore(this[0])}bZ.map(function(){var b0=this;while(b0.firstChild&&b0.firstChild.nodeType===1){b0=b0.firstChild}return b0}).append(this)}return this},wrapInner:function(e){if(bG.isFunction(e)){return this.each(function(bZ){bG(this).wrapInner(e.call(this,bZ))})}return this.each(function(){var bZ=bG(this),b0=bZ.contents();if(b0.length){b0.wrapAll(e)}else{bZ.append(e)}})},wrap:function(e){var bZ=bG.isFunction(e);return this.each(function(b0){bG(this).wrapAll(bZ?e.call(this,b0):e)})},unwrap:function(){return this.parent().each(function(){if(!bG.nodeName(this,"body")){bG(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!aR(this[0])){return this.domManip(arguments,false,function(bZ){this.parentNode.insertBefore(bZ,this)})}if(arguments.length){var e=bG.clean(arguments);return this.pushStack(bG.merge(e,this),"before",this.selector)}},after:function(){if(!aR(this[0])){return this.domManip(arguments,false,function(bZ){this.parentNode.insertBefore(bZ,this.nextSibling)})}if(arguments.length){var e=bG.clean(arguments);return this.pushStack(bG.merge(this,e),"after",this.selector)}},remove:function(e,b1){var b0,bZ=0;for(;(b0=this[bZ])!=null;bZ++){if(!e||bG.filter(e,[b0]).length){if(!b1&&b0.nodeType===1){bG.cleanData(b0.getElementsByTagName("*"));bG.cleanData([b0])}if(b0.parentNode){b0.parentNode.removeChild(b0)}}}return this},empty:function(){var bZ,e=0;for(;(bZ=this[e])!=null;e++){if(bZ.nodeType===1){bG.cleanData(bZ.getElementsByTagName("*"))}while(bZ.firstChild){bZ.removeChild(bZ.firstChild)}}return this},clone:function(bZ,e){bZ=bZ==null?false:bZ;e=e==null?bZ:e;return this.map(function(){return bG.clone(this,bZ,e)})},html:function(e){return bG.access(this,function(b2){var b1=this[0]||{},b0=0,bZ=this.length;if(b2===aB){return b1.nodeType===1?b1.innerHTML.replace(av,""):aB}if(typeof b2==="string"&&!aj.test(b2)&&(bG.support.htmlSerialize||!K.test(b2))&&(bG.support.leadingWhitespace||!bY.test(b2))&&!T[(p.exec(b2)||["",""])[1].toLowerCase()]){b2=b2.replace(ay,"<$1></$2>");try{for(;b0<bZ;b0++){b1=this[b0]||{};if(b1.nodeType===1){bG.cleanData(b1.getElementsByTagName("*"));b1.innerHTML=b2}}b1=0}catch(b3){}}if(b1){this.empty().append(b2)}},null,e,arguments.length)},replaceWith:function(e){if(!aR(this[0])){if(bG.isFunction(e)){return this.each(function(b1){var b0=bG(this),bZ=b0.html();b0.replaceWith(e.call(this,b1,bZ))})}if(typeof e!=="string"){e=bG(e).detach()}return this.each(function(){var b0=this.nextSibling,bZ=this.parentNode;bG(this).remove();if(b0){bG(b0).before(e)}else{bG(bZ).append(e)}})}return this.length?this.pushStack(bG(bG.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(b4,b8,b7){b4=[].concat.apply([],b4);var b0,b2,b3,b6,b1=0,b5=b4[0],bZ=[],e=this.length;if(!bG.support.checkClone&&e>1&&typeof b5==="string"&&bR.test(b5)){return this.each(function(){bG(this).domManip(b4,b8,b7)})}if(bG.isFunction(b5)){return this.each(function(ca){var b9=bG(this);b4[0]=b5.call(this,ca,b8?b9.html():aB);b9.domManip(b4,b8,b7)})}if(this[0]){b0=bG.buildFragment(b4,this,bZ);b3=b0.fragment;b2=b3.firstChild;if(b3.childNodes.length===1){b3=b2}if(b2){b8=b8&&bG.nodeName(b2,"tr");for(b6=b0.cacheable||e-1;b1<e;b1++){b7.call(b8&&bG.nodeName(this[b1],"table")?x(this[b1],"tbody"):this[b1],b1===b6?b3:bG.clone(b3,true,true))}}b3=b2=null;if(bZ.length){bG.each(bZ,function(b9,ca){if(ca.src){if(bG.ajax){bG.ajax({url:ca.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bG.error("no ajax")}}else{bG.globalEval((ca.text||ca.textContent||ca.innerHTML||"").replace(aH,""))}if(ca.parentNode){ca.parentNode.removeChild(ca)}})}}return this}});function x(bZ,e){return bZ.getElementsByTagName(e)[0]||bZ.appendChild(bZ.ownerDocument.createElement(e))}function ao(b5,bZ){if(bZ.nodeType!==1||!bG.hasData(b5)){return}var b2,b1,e,b4=bG._data(b5),b3=bG._data(bZ,b4),b0=b4.events;if(b0){delete b3.handle;b3.events={};for(b2 in b0){for(b1=0,e=b0[b2].length;b1<e;b1++){bG.event.add(bZ,b2,b0[b2][b1])}}}if(b3.data){b3.data=bG.extend({},b3.data)}}function F(bZ,e){var b0;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(bZ)}b0=e.nodeName.toLowerCase();if(b0==="object"){if(e.parentNode){e.outerHTML=bZ.outerHTML}if(bG.support.html5Clone&&(bZ.innerHTML&&!bG.trim(e.innerHTML))){e.innerHTML=bZ.innerHTML}}else{if(b0==="input"&&aE.test(bZ.type)){e.defaultChecked=e.checked=bZ.checked;if(e.value!==bZ.value){e.value=bZ.value}}else{if(b0==="option"){e.selected=bZ.defaultSelected}else{if(b0==="input"||b0==="textarea"){e.defaultValue=bZ.defaultValue}else{if(b0==="script"&&e.text!==bZ.text){e.text=bZ.text}}}}}e.removeAttribute(bG.expando)}bG.buildFragment=function(b1,b2,bZ){var b0,e,b3,b4=b1[0];b2=b2||o;b2=!b2.nodeType&&b2[0]||b2;b2=b2.ownerDocument||b2;if(b1.length===1&&typeof b4==="string"&&b4.length<512&&b2===o&&b4.charAt(0)==="<"&&!ap.test(b4)&&(bG.support.checkClone||!bR.test(b4))&&(bG.support.html5Clone||!K.test(b4))){e=true;b0=bG.fragments[b4];b3=b0!==aB}if(!b0){b0=b2.createDocumentFragment();bG.clean(b1,b2,b0,bZ);if(e){bG.fragments[b4]=b3&&b0}}return{fragment:b0,cacheable:e}};bG.fragments={};bG.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bZ){bG.fn[e]=function(b0){var b2,b4=0,b3=[],b6=bG(b0),b1=b6.length,b5=this.length===1&&this[0].parentNode;if((b5==null||b5&&b5.nodeType===11&&b5.childNodes.length===1)&&b1===1){b6[bZ](this[0]);return this}else{for(;b4<b1;b4++){b2=(b4>0?this.clone(true):this).get();bG(b6[b4])[bZ](b2);b3=b3.concat(b2)}return this.pushStack(b3,e,b6.selector)}}});function m(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function bS(e){if(aE.test(e.type)){e.defaultChecked=e.checked}}bG.extend({clone:function(b2,b4,b0){var e,bZ,b1,b3;if(bG.support.html5Clone||bG.isXMLDoc(b2)||!K.test("<"+b2.nodeName+">")){b3=b2.cloneNode(true)}else{l.innerHTML=b2.outerHTML;l.removeChild(b3=l.firstChild)}if((!bG.support.noCloneEvent||!bG.support.noCloneChecked)&&(b2.nodeType===1||b2.nodeType===11)&&!bG.isXMLDoc(b2)){F(b2,b3);e=m(b2);bZ=m(b3);for(b1=0;e[b1];++b1){if(bZ[b1]){F(e[b1],bZ[b1])}}}if(b4){ao(b2,b3);if(b0){e=m(b2);bZ=m(b3);for(b1=0;e[b1];++b1){ao(e[b1],bZ[b1])}}}e=bZ=null;return b3},clean:function(cb,b0,e,b1){var b8,b7,ca,cf,b4,ce,b5,b2,bZ,b9,cd,b6,b3=b0===o&&aQ,cc=[];if(!b0||typeof b0.createDocumentFragment==="undefined"){b0=o}for(b8=0;(ca=cb[b8])!=null;b8++){if(typeof ca==="number"){ca+=""}if(!ca){continue}if(typeof ca==="string"){if(!J.test(ca)){ca=b0.createTextNode(ca)}else{b3=b3||A(b0);b5=b0.createElement("div");b3.appendChild(b5);ca=ca.replace(ay,"<$1></$2>");cf=(p.exec(ca)||["",""])[1].toLowerCase();b4=T[cf]||T._default;ce=b4[0];b5.innerHTML=b4[1]+ca+b4[2];while(ce--){b5=b5.lastChild}if(!bG.support.tbody){b2=bT.test(ca);bZ=cf==="table"&&!b2?b5.firstChild&&b5.firstChild.childNodes:b4[1]==="<table>"&&!b2?b5.childNodes:[];for(b7=bZ.length-1;b7>=0;--b7){if(bG.nodeName(bZ[b7],"tbody")&&!bZ[b7].childNodes.length){bZ[b7].parentNode.removeChild(bZ[b7])}}}if(!bG.support.leadingWhitespace&&bY.test(ca)){b5.insertBefore(b0.createTextNode(bY.exec(ca)[0]),b5.firstChild)
}ca=b5.childNodes;b5.parentNode.removeChild(b5)}}if(ca.nodeType){cc.push(ca)}else{bG.merge(cc,ca)}}if(b5){ca=b5=b3=null}if(!bG.support.appendChecked){for(b8=0;(ca=cc[b8])!=null;b8++){if(bG.nodeName(ca,"input")){bS(ca)}else{if(typeof ca.getElementsByTagName!=="undefined"){bG.grep(ca.getElementsByTagName("input"),bS)}}}}if(e){cd=function(cg){if(!cg.type||bw.test(cg.type)){return b1?b1.push(cg.parentNode?cg.parentNode.removeChild(cg):cg):e.appendChild(cg)}};for(b8=0;(ca=cc[b8])!=null;b8++){if(!(bG.nodeName(ca,"script")&&cd(ca))){e.appendChild(ca);if(typeof ca.getElementsByTagName!=="undefined"){b6=bG.grep(bG.merge([],ca.getElementsByTagName("script")),cd);cc.splice.apply(cc,[b8+1,0].concat(b6));b8+=b6.length}}}}return cc},cleanData:function(bZ,b7){var b2,b0,b1,b6,b3=0,b8=bG.expando,e=bG.cache,b4=bG.support.deleteExpando,b5=bG.event.special;for(;(b1=bZ[b3])!=null;b3++){if(b7||bG.acceptData(b1)){b0=b1[b8];b2=b0&&e[b0];if(b2){if(b2.events){for(b6 in b2.events){if(b5[b6]){bG.event.remove(b1,b6)}else{bG.removeEvent(b1,b6,b2.handle)}}}if(e[b0]){delete e[b0];if(b4){delete b1[b8]}else{if(b1.removeAttribute){b1.removeAttribute(b8)}else{b1[b8]=null}}bG.deletedIds.push(b0)}}}}}});(function(){var e,bZ;bG.uaMatch=function(b1){b1=b1.toLowerCase();var b0=/(chrome)[ \/]([\w.]+)/.exec(b1)||/(webkit)[ \/]([\w.]+)/.exec(b1)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b1)||/(msie) ([\w.]+)/.exec(b1)||b1.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b1)||[];return{browser:b0[1]||"",version:b0[2]||"0"}};e=bG.uaMatch(d.userAgent);bZ={};if(e.browser){bZ[e.browser]=true;bZ.version=e.version}if(bZ.chrome){bZ.webkit=true}else{if(bZ.webkit){bZ.safari=true}}bG.browser=bZ;bG.sub=function(){function b0(b3,b4){return new b0.fn.init(b3,b4)}bG.extend(true,b0,this);b0.superclass=this;b0.fn=b0.prototype=this();b0.fn.constructor=b0;b0.sub=this.sub;b0.fn.init=function b2(b3,b4){if(b4&&b4 instanceof bG&&!(b4 instanceof b0)){b4=b0(b4)}return bG.fn.init.call(this,b3,b4,b1)};b0.fn.init.prototype=b0.fn;var b1=b0(o);return b0}})();var E,az,aW,be=/alpha\([^)]*\)/i,aS=/opacity=([^)]*)/,bk=/^(top|right|bottom|left)$/,G=/^(none|table(?!-c[ea]).+)/,aZ=/^margin/,a8=new RegExp("^("+bx+")(.*)$","i"),W=new RegExp("^("+bx+")(?!px)[a-z%]+$","i"),S=new RegExp("^([-+])=("+bx+")","i"),bh={},a9={position:"absolute",visibility:"hidden",display:"block"},bA={letterSpacing:0,fontWeight:400},bQ=["Top","Right","Bottom","Left"],ar=["Webkit","O","Moz","ms"],aJ=bG.fn.toggle;function b(b1,bZ){if(bZ in b1){return bZ}var b2=bZ.charAt(0).toUpperCase()+bZ.slice(1),e=bZ,b0=ar.length;while(b0--){bZ=ar[b0]+b2;if(bZ in b1){return bZ}}return e}function Q(bZ,e){bZ=e||bZ;return bG.css(bZ,"display")==="none"||!bG.contains(bZ.ownerDocument,bZ)}function s(b3,e){var b2,b4,bZ=[],b0=0,b1=b3.length;for(;b0<b1;b0++){b2=b3[b0];if(!b2.style){continue}bZ[b0]=bG._data(b2,"olddisplay");if(e){if(!bZ[b0]&&b2.style.display==="none"){b2.style.display=""}if(b2.style.display===""&&Q(b2)){bZ[b0]=bG._data(b2,"olddisplay",bC(b2.nodeName))}}else{b4=E(b2,"display");if(!bZ[b0]&&b4!=="none"){bG._data(b2,"olddisplay",b4)}}}for(b0=0;b0<b1;b0++){b2=b3[b0];if(!b2.style){continue}if(!e||b2.style.display==="none"||b2.style.display===""){b2.style.display=e?bZ[b0]||"":"none"}}return b3}bG.fn.extend({css:function(e,bZ){return bG.access(this,function(b1,b0,b2){return b2!==aB?bG.style(b1,b0,b2):bG.css(b1,b0)},e,bZ,arguments.length>1)},show:function(){return s(this,true)},hide:function(){return s(this)},toggle:function(b0,bZ){var e=typeof b0==="boolean";if(bG.isFunction(b0)&&bG.isFunction(bZ)){return aJ.apply(this,arguments)}return this.each(function(){if(e?b0:Q(this)){bG(this).show()}else{bG(this).hide()}})}});bG.extend({cssHooks:{opacity:{get:function(b0,bZ){if(bZ){var e=E(b0,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bG.support.cssFloat?"cssFloat":"styleFloat"},style:function(b1,b0,b7,b2){if(!b1||b1.nodeType===3||b1.nodeType===8||!b1.style){return}var b5,b6,b8,b3=bG.camelCase(b0),bZ=b1.style;b0=bG.cssProps[b3]||(bG.cssProps[b3]=b(bZ,b3));b8=bG.cssHooks[b0]||bG.cssHooks[b3];if(b7!==aB){b6=typeof b7;if(b6==="string"&&(b5=S.exec(b7))){b7=(b5[1]+1)*b5[2]+parseFloat(bG.css(b1,b0));b6="number"}if(b7==null||b6==="number"&&isNaN(b7)){return}if(b6==="number"&&!bG.cssNumber[b3]){b7+="px"}if(!b8||!("set" in b8)||(b7=b8.set(b1,b7,b2))!==aB){try{bZ[b0]=b7}catch(b4){}}}else{if(b8&&"get" in b8&&(b5=b8.get(b1,false,b2))!==aB){return b5}return bZ[b0]}},css:function(b4,b2,b3,bZ){var b5,b1,e,b0=bG.camelCase(b2);b2=bG.cssProps[b0]||(bG.cssProps[b0]=b(b4.style,b0));e=bG.cssHooks[b2]||bG.cssHooks[b0];if(e&&"get" in e){b5=e.get(b4,true,bZ)}if(b5===aB){b5=E(b4,b2)}if(b5==="normal"&&b2 in bA){b5=bA[b2]}if(b3||bZ!==aB){b1=parseFloat(b5);return b3||bG.isNumeric(b1)?b1||0:b5}return b5},swap:function(b2,b1,b3){var b0,bZ,e={};for(bZ in b1){e[bZ]=b2.style[bZ];b2.style[bZ]=b1[bZ]}b0=b3.call(b2);for(bZ in b1){b2.style[bZ]=e[bZ]}return b0}});if(a2.getComputedStyle){E=function(b5,bZ){var e,b2,b1,b4,b3=a2.getComputedStyle(b5,null),b0=b5.style;if(b3){e=b3[bZ];if(e===""&&!bG.contains(b5.ownerDocument,b5)){e=bG.style(b5,bZ)}if(W.test(e)&&aZ.test(bZ)){b2=b0.width;b1=b0.minWidth;b4=b0.maxWidth;b0.minWidth=b0.maxWidth=b0.width=e;e=b3.width;b0.width=b2;b0.minWidth=b1;b0.maxWidth=b4}}return e}}else{if(o.documentElement.currentStyle){E=function(b2,b0){var b3,e,bZ=b2.currentStyle&&b2.currentStyle[b0],b1=b2.style;if(bZ==null&&b1&&b1[b0]){bZ=b1[b0]}if(W.test(bZ)&&!bk.test(b0)){b3=b1.left;e=b2.runtimeStyle&&b2.runtimeStyle.left;if(e){b2.runtimeStyle.left=b2.currentStyle.left}b1.left=b0==="fontSize"?"1em":bZ;bZ=b1.pixelLeft+"px";b1.left=b3;if(e){b2.runtimeStyle.left=e}}return bZ===""?"auto":bZ}}}function aG(e,b0,b1){var bZ=a8.exec(b0);return bZ?Math.max(0,bZ[1]-(b1||0))+(bZ[2]||"px"):b0}function at(b1,bZ,e,b3){var b0=e===(b3?"border":"content")?4:bZ==="width"?1:0,b2=0;for(;b0<4;b0+=2){if(e==="margin"){b2+=bG.css(b1,e+bQ[b0],true)}if(b3){if(e==="content"){b2-=parseFloat(E(b1,"padding"+bQ[b0]))||0}if(e!=="margin"){b2-=parseFloat(E(b1,"border"+bQ[b0]+"Width"))||0}}else{b2+=parseFloat(E(b1,"padding"+bQ[b0]))||0;if(e!=="padding"){b2+=parseFloat(E(b1,"border"+bQ[b0]+"Width"))||0}}}return b2}function u(b1,bZ,e){var b2=bZ==="width"?b1.offsetWidth:b1.offsetHeight,b0=true,b3=bG.support.boxSizing&&bG.css(b1,"boxSizing")==="border-box";if(b2<=0||b2==null){b2=E(b1,bZ);if(b2<0||b2==null){b2=b1.style[bZ]}if(W.test(b2)){return b2}b0=b3&&(bG.support.boxSizingReliable||b2===b1.style[bZ]);b2=parseFloat(b2)||0}return(b2+at(b1,bZ,e||(b3?"border":"content"),b0))+"px"}function bC(b0){if(bh[b0]){return bh[b0]}var e=bG("<"+b0+">").appendTo(o.body),bZ=e.css("display");e.remove();if(bZ==="none"||bZ===""){az=o.body.appendChild(az||bG.extend(o.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!aW||!az.createElement){aW=(az.contentWindow||az.contentDocument).document;aW.write("<!doctype html><html><body>");aW.close()}e=aW.body.appendChild(aW.createElement(b0));bZ=E(e,"display");o.body.removeChild(az)}bh[b0]=bZ;return bZ}bG.each(["height","width"],function(bZ,e){bG.cssHooks[e]={get:function(b2,b1,b0){if(b1){if(b2.offsetWidth===0&&G.test(E(b2,"display"))){return bG.swap(b2,a9,function(){return u(b2,e,b0)})}else{return u(b2,e,b0)}}},set:function(b1,b2,b0){return aG(b1,b2,b0?at(b1,e,b0,bG.support.boxSizing&&bG.css(b1,"boxSizing")==="border-box"):0)}}});if(!bG.support.opacity){bG.cssHooks.opacity={get:function(bZ,e){return aS.test((e&&bZ.currentStyle?bZ.currentStyle.filter:bZ.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b2,b3){var b1=b2.style,bZ=b2.currentStyle,e=bG.isNumeric(b3)?"alpha(opacity="+b3*100+")":"",b0=bZ&&bZ.filter||b1.filter||"";b1.zoom=1;if(b3>=1&&bG.trim(b0.replace(be,""))===""&&b1.removeAttribute){b1.removeAttribute("filter");if(bZ&&!bZ.filter){return}}b1.filter=be.test(b0)?b0.replace(be,e):b0+" "+e}}}bG(function(){if(!bG.support.reliableMarginRight){bG.cssHooks.marginRight={get:function(bZ,e){return bG.swap(bZ,{display:"inline-block"},function(){if(e){return E(bZ,"marginRight")
}})}}}if(!bG.support.pixelPosition&&bG.fn.position){bG.each(["top","left"],function(e,bZ){bG.cssHooks[bZ]={get:function(b2,b1){if(b1){var b0=E(b2,bZ);return W.test(b0)?bG(b2).position()[bZ]+"px":b0}}}})}});if(bG.expr&&bG.expr.filters){bG.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!bG.support.reliableHiddenOffsets&&((e.style&&e.style.display)||E(e,"display"))==="none")};bG.expr.filters.visible=function(e){return !bG.expr.filters.hidden(e)}}bG.each({margin:"",padding:"",border:"Width"},function(e,bZ){bG.cssHooks[e+bZ]={expand:function(b2){var b1,b3=typeof b2==="string"?b2.split(" "):[b2],b0={};for(b1=0;b1<4;b1++){b0[e+bQ[b1]+bZ]=b3[b1]||b3[b1-2]||b3[0]}return b0}};if(!aZ.test(e)){bG.cssHooks[e+bZ].set=aG}});var bs=/%20/g,aP=/\[\]$/,U=/\r?\n/g,bz=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aD=/^(?:select|textarea)/i;bG.fn.extend({serialize:function(){return bG.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bG.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aD.test(this.nodeName)||bz.test(this.type))}).map(function(e,bZ){var b0=bG(this).val();return b0==null?null:bG.isArray(b0)?bG.map(b0,function(b2,b1){return{name:bZ.name,value:b2.replace(U,"\r\n")}}):{name:bZ.name,value:b0.replace(U,"\r\n")}}).get()}});bG.param=function(e,b0){var b1,bZ=[],b2=function(b3,b4){b4=bG.isFunction(b4)?b4():(b4==null?"":b4);bZ[bZ.length]=encodeURIComponent(b3)+"="+encodeURIComponent(b4)};if(b0===aB){b0=bG.ajaxSettings&&bG.ajaxSettings.traditional}if(bG.isArray(e)||(e.jquery&&!bG.isPlainObject(e))){bG.each(e,function(){b2(this.name,this.value)})}else{for(b1 in e){k(b1,e[b1],b0,b2)}}return bZ.join("&").replace(bs,"+")};function k(b0,b2,bZ,b1){var e;if(bG.isArray(b2)){bG.each(b2,function(b4,b3){if(bZ||aP.test(b0)){b1(b0,b3)}else{k(b0+"["+(typeof b3==="object"?b4:"")+"]",b3,bZ,b1)}})}else{if(!bZ&&bG.type(b2)==="object"){for(e in b2){k(b0+"["+e+"]",b2[e],bZ,b1)}}else{b1(b0,b2)}}}var bX,Y,an=/#.*$/,ad=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,B=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,r=/^(?:GET|HEAD)$/,aC=/^\/\//,bN=/\?/,g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,P=/([?&])_=[^&]*/,aT=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bW=bG.fn.load,v={},a6={},aX=["*/"]+["*"];try{Y=aI.href}catch(bd){Y=o.createElement("a");Y.href="";Y=Y.href}bX=aT.exec(Y.toLowerCase())||[];function bI(e){return function(b2,b4){if(typeof b2!=="string"){b4=b2;b2="*"}var bZ,b5,b6,b1=b2.toLowerCase().split(aV),b0=0,b3=b1.length;if(bG.isFunction(b4)){for(;b0<b3;b0++){bZ=b1[b0];b6=/^\+/.test(bZ);if(b6){bZ=bZ.substr(1)||"*"}b5=e[bZ]=e[bZ]||[];b5[b6?"unshift":"push"](b4)}}}}function q(bZ,b8,b3,b6,b5,b1){b5=b5||b8.dataTypes[0];b1=b1||{};b1[b5]=true;var b7,b4=bZ[b5],b0=0,e=b4?b4.length:0,b2=(bZ===v);for(;b0<e&&(b2||!b7);b0++){b7=b4[b0](b8,b3,b6);if(typeof b7==="string"){if(!b2||b1[b7]){b7=aB}else{b8.dataTypes.unshift(b7);b7=q(bZ,b8,b3,b6,b7,b1)}}}if((b2||!b7)&&!b1["*"]){b7=q(bZ,b8,b3,b6,"*",b1)}return b7}function t(b0,b1){var bZ,e,b2=bG.ajaxSettings.flatOptions||{};for(bZ in b1){if(b1[bZ]!==aB){(b2[bZ]?b0:(e||(e={})))[bZ]=b1[bZ]}}if(e){bG.extend(true,b0,e)}}bG.fn.load=function(b1,b4,b5){if(typeof b1!=="string"&&bW){return bW.apply(this,arguments)}if(!this.length){return this}var e,b2,b0,bZ=this,b3=b1.indexOf(" ");if(b3>=0){e=b1.slice(b3,b1.length);b1=b1.slice(0,b3)}if(bG.isFunction(b4)){b5=b4;b4=aB}else{if(b4&&typeof b4==="object"){b2="POST"}}bG.ajax({url:b1,type:b2,dataType:"html",data:b4,complete:function(b7,b6){if(b5){bZ.each(b5,b0||[b7.responseText,b6,b7])}}}).done(function(b6){b0=arguments;bZ.html(e?bG("<div>").append(b6.replace(g,"")).find(e):b6)});return this};bG.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bZ){bG.fn[bZ]=function(b0){return this.on(bZ,b0)}});bG.each(["get","post"],function(e,bZ){bG[bZ]=function(b0,b2,b3,b1){if(bG.isFunction(b2)){b1=b1||b3;b3=b2;b2=aB}return bG.ajax({type:bZ,url:b0,data:b2,success:b3,dataType:b1})}});bG.extend({getScript:function(e,bZ){return bG.get(e,aB,bZ,"script")},getJSON:function(e,bZ,b0){return bG.get(e,bZ,b0,"json")},ajaxSetup:function(bZ,e){if(e){t(bZ,bG.ajaxSettings)}else{e=bZ;bZ=bG.ajaxSettings}t(bZ,e);return bZ},ajaxSettings:{url:Y,isLocal:B.test(bX[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a2.String,"text html":true,"text json":bG.parseJSON,"text xml":bG.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bI(v),ajaxTransport:bI(a6),ajax:function(b4,b1){if(typeof b4==="object"){b1=b4;b4=aB}b1=b1||{};var b7,cl,b2,cg,b9,cd,b0,cf,b8=bG.ajaxSetup({},b1),cn=b8.context||b8,cb=cn!==b8&&(cn.nodeType||cn instanceof bG)?bG(cn):bG.event,cm=bG.Deferred(),ci=bG.Callbacks("once memory"),b5=b8.statusCode||{},cc={},cj={},b3=0,b6="canceled",ce={readyState:0,setRequestHeader:function(co,cp){if(!b3){var e=co.toLowerCase();co=cj[e]=cj[e]||co;cc[co]=cp}return this},getAllResponseHeaders:function(){return b3===2?cl:null},getResponseHeader:function(co){var e;if(b3===2){if(!b2){b2={};while((e=ad.exec(cl))){b2[e[1].toLowerCase()]=e[2]}}e=b2[co.toLowerCase()]}return e===aB?null:e},overrideMimeType:function(e){if(!b3){b8.mimeType=e}return this},abort:function(e){e=e||b6;if(cg){cg.abort(e)}ca(0,e);return this}};function ca(cs,co,ct,cq){var e,cw,cu,cr,cv,cp=co;if(b3===2){return}b3=2;if(b9){clearTimeout(b9)}cg=aB;cl=cq||"";ce.readyState=cs>0?4:0;if(ct){cr=h(b8,ce,ct)}if(cs>=200&&cs<300||cs===304){if(b8.ifModified){cv=ce.getResponseHeader("Last-Modified");if(cv){bG.lastModified[b7]=cv}cv=ce.getResponseHeader("Etag");if(cv){bG.etag[b7]=cv}}if(cs===304){cp="notmodified";e=true}else{e=ae(b8,cr);cp=e.state;cw=e.data;cu=e.error;e=!cu}}else{cu=cp;if(!cp||cs){cp="error";if(cs<0){cs=0}}}ce.status=cs;ce.statusText=(co||cp)+"";if(e){cm.resolveWith(cn,[cw,cp,ce])}else{cm.rejectWith(cn,[ce,cp,cu])}ce.statusCode(b5);b5=aB;if(b0){cb.trigger("ajax"+(e?"Success":"Error"),[ce,b8,e?cw:cu])}ci.fireWith(cn,[ce,cp]);if(b0){cb.trigger("ajaxComplete",[ce,b8]);if(!(--bG.active)){bG.event.trigger("ajaxStop")}}}cm.promise(ce);ce.success=ce.done;ce.error=ce.fail;ce.complete=ci.add;ce.statusCode=function(co){if(co){var e;if(b3<2){for(e in co){b5[e]=[b5[e],co[e]]}}else{e=co[ce.status];ce.always(e)}}return this};b8.url=((b4||b8.url)+"").replace(an,"").replace(aC,bX[1]+"//");b8.dataTypes=bG.trim(b8.dataType||"*").toLowerCase().split(aV);if(b8.crossDomain==null){cd=aT.exec(b8.url.toLowerCase())||false;b8.crossDomain=cd&&(cd.join(":")+(cd[3]?"":cd[1]==="http:"?80:443))!==(bX.join(":")+(bX[3]?"":bX[1]==="http:"?80:443))}if(b8.data&&b8.processData&&typeof b8.data!=="string"){b8.data=bG.param(b8.data,b8.traditional)}q(v,b8,b1,ce);if(b3===2){return ce}b0=b8.global;b8.type=b8.type.toUpperCase();b8.hasContent=!r.test(b8.type);if(b0&&bG.active++===0){bG.event.trigger("ajaxStart")}if(!b8.hasContent){if(b8.data){b8.url+=(bN.test(b8.url)?"&":"?")+b8.data;delete b8.data}b7=b8.url;if(b8.cache===false){var bZ=bG.now(),ck=b8.url.replace(P,"$1_="+bZ);b8.url=ck+((ck===b8.url)?(bN.test(b8.url)?"&":"?")+"_="+bZ:"")}}if(b8.data&&b8.hasContent&&b8.contentType!==false||b1.contentType){ce.setRequestHeader("Content-Type",b8.contentType)}if(b8.ifModified){b7=b7||b8.url;if(bG.lastModified[b7]){ce.setRequestHeader("If-Modified-Since",bG.lastModified[b7])}if(bG.etag[b7]){ce.setRequestHeader("If-None-Match",bG.etag[b7])}}ce.setRequestHeader("Accept",b8.dataTypes[0]&&b8.accepts[b8.dataTypes[0]]?b8.accepts[b8.dataTypes[0]]+(b8.dataTypes[0]!=="*"?", "+aX+"; q=0.01":""):b8.accepts["*"]);for(cf in b8.headers){ce.setRequestHeader(cf,b8.headers[cf])}if(b8.beforeSend&&(b8.beforeSend.call(cn,ce,b8)===false||b3===2)){return ce.abort()
}b6="abort";for(cf in {success:1,error:1,complete:1}){ce[cf](b8[cf])}cg=q(a6,b8,b1,ce);if(!cg){ca(-1,"No Transport")}else{ce.readyState=1;if(b0){cb.trigger("ajaxSend",[ce,b8])}if(b8.async&&b8.timeout>0){b9=setTimeout(function(){ce.abort("timeout")},b8.timeout)}try{b3=1;cg.send(cc,ca)}catch(ch){if(b3<2){ca(-1,ch)}else{throw ch}}}return ce},active:0,lastModified:{},etag:{}});function h(b7,b6,b3){var b2,b4,b1,e,bZ=b7.contents,b5=b7.dataTypes,b0=b7.responseFields;for(b4 in b0){if(b4 in b3){b6[b0[b4]]=b3[b4]}}while(b5[0]==="*"){b5.shift();if(b2===aB){b2=b7.mimeType||b6.getResponseHeader("content-type")}}if(b2){for(b4 in bZ){if(bZ[b4]&&bZ[b4].test(b2)){b5.unshift(b4);break}}}if(b5[0] in b3){b1=b5[0]}else{for(b4 in b3){if(!b5[0]||b7.converters[b4+" "+b5[0]]){b1=b4;break}if(!e){e=b4}}b1=b1||e}if(b1){if(b1!==b5[0]){b5.unshift(b1)}return b3[b1]}}function ae(b9,b1){var b7,bZ,b5,b3,b6=b9.dataTypes.slice(),b0=b6[0],b8={},b2=0;if(b9.dataFilter){b1=b9.dataFilter(b1,b9.dataType)}if(b6[1]){for(b7 in b9.converters){b8[b7.toLowerCase()]=b9.converters[b7]}}for(;(b5=b6[++b2]);){if(b5!=="*"){if(b0!=="*"&&b0!==b5){b7=b8[b0+" "+b5]||b8["* "+b5];if(!b7){for(bZ in b8){b3=bZ.split(" ");if(b3[1]===b5){b7=b8[b0+" "+b3[0]]||b8["* "+b3[0]];if(b7){if(b7===true){b7=b8[bZ]}else{if(b8[bZ]!==true){b5=b3[0];b6.splice(b2--,0,b5)}}break}}}}if(b7!==true){if(b7&&b9["throws"]){b1=b7(b1)}else{try{b1=b7(b1)}catch(b4){return{state:"parsererror",error:b7?b4:"No conversion from "+b0+" to "+b5}}}}}b0=b5}}return{state:"success",data:b1}}var bp=[],aw=/\?/,a5=/(=)\?(?=&|$)|\?\?/,bl=bG.now();bG.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bp.pop()||(bG.expando+"_"+(bl++));this[e]=true;return e}});bG.ajaxPrefilter("json jsonp",function(b8,b3,b7){var b6,e,b5,b1=b8.data,bZ=b8.url,b0=b8.jsonp!==false,b4=b0&&a5.test(bZ),b2=b0&&!b4&&typeof b1==="string"&&!(b8.contentType||"").indexOf("application/x-www-form-urlencoded")&&a5.test(b1);if(b8.dataTypes[0]==="jsonp"||b4||b2){b6=b8.jsonpCallback=bG.isFunction(b8.jsonpCallback)?b8.jsonpCallback():b8.jsonpCallback;e=a2[b6];if(b4){b8.url=bZ.replace(a5,"$1"+b6)}else{if(b2){b8.data=b1.replace(a5,"$1"+b6)}else{if(b0){b8.url+=(aw.test(bZ)?"&":"?")+b8.jsonp+"="+b6}}}b8.converters["script json"]=function(){if(!b5){bG.error(b6+" was not called")}return b5[0]};b8.dataTypes[0]="json";a2[b6]=function(){b5=arguments};b7.always(function(){a2[b6]=e;if(b8[b6]){b8.jsonpCallback=b3.jsonpCallback;bp.push(b6)}if(b5&&bG.isFunction(e)){e(b5[0])}b5=e=aB});return"script"}});bG.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){bG.globalEval(e);return e}}});bG.ajaxPrefilter("script",function(e){if(e.cache===aB){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bG.ajaxTransport("script",function(b0){if(b0.crossDomain){var e,bZ=o.head||o.getElementsByTagName("head")[0]||o.documentElement;return{send:function(b1,b2){e=o.createElement("script");e.async="async";if(b0.scriptCharset){e.charset=b0.scriptCharset}e.src=b0.url;e.onload=e.onreadystatechange=function(b4,b3){if(b3||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bZ&&e.parentNode){bZ.removeChild(e)}e=aB;if(!b3){b2(200,"success")}}};bZ.insertBefore(e,bZ.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var ah,aN=a2.ActiveXObject?function(){for(var e in ah){ah[e](0,1)}}:false,au=0;function bB(){try{return new a2.XMLHttpRequest()}catch(bZ){}}function bb(){try{return new a2.ActiveXObject("Microsoft.XMLHTTP")}catch(bZ){}}bG.ajaxSettings.xhr=a2.ActiveXObject?function(){return !this.isLocal&&bB()||bb()}:bB;(function(e){bG.extend(bG.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(bG.ajaxSettings.xhr());if(bG.support.ajax){bG.ajaxTransport(function(e){if(!e.crossDomain||bG.support.cors){var bZ;return{send:function(b5,b0){var b3,b2,b4=e.xhr();if(e.username){b4.open(e.type,e.url,e.async,e.username,e.password)}else{b4.open(e.type,e.url,e.async)}if(e.xhrFields){for(b2 in e.xhrFields){b4[b2]=e.xhrFields[b2]}}if(e.mimeType&&b4.overrideMimeType){b4.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b5["X-Requested-With"]){b5["X-Requested-With"]="XMLHttpRequest"}try{for(b2 in b5){b4.setRequestHeader(b2,b5[b2])}}catch(b1){}b4.send((e.hasContent&&e.data)||null);bZ=function(ce,b8){var b9,b7,b6,cc,cb;try{if(bZ&&(b8||b4.readyState===4)){bZ=aB;if(b3){b4.onreadystatechange=bG.noop;if(aN){delete ah[b3]}}if(b8){if(b4.readyState!==4){b4.abort()}}else{b9=b4.status;b6=b4.getAllResponseHeaders();cc={};cb=b4.responseXML;if(cb&&cb.documentElement){cc.xml=cb}try{cc.text=b4.responseText}catch(ce){}try{b7=b4.statusText}catch(cd){b7=""}if(!b9&&e.isLocal&&!e.crossDomain){b9=cc.text?200:404}else{if(b9===1223){b9=204}}}}}catch(ca){if(!b8){b0(-1,ca)}}if(cc){b0(b9,b7,cc,b6)}};if(!e.async){bZ()}else{if(b4.readyState===4){setTimeout(bZ,0)}else{b3=++au;if(aN){if(!ah){ah={};bG(a2).unload(aN)}ah[b3]=bZ}b4.onreadystatechange=bZ}}},abort:function(){if(bZ){bZ(0,1)}}}}})}var L,ab,bO=/^(?:toggle|show|hide)$/,bH=new RegExp("^(?:([-+])=|)("+bx+")([a-z%]*)$","i"),bM=/queueHooks$/,ax=[i],a1={"*":[function(e,b5){var b1,b6,b7=this.createTween(e,b5),b2=bH.exec(b5),b3=b7.cur(),bZ=+b3||0,b0=1,b4=20;if(b2){b1=+b2[2];b6=b2[3]||(bG.cssNumber[e]?"":"px");if(b6!=="px"&&bZ){bZ=bG.css(b7.elem,e,true)||b1||1;do{b0=b0||".5";bZ=bZ/b0;bG.style(b7.elem,e,bZ+b6)}while(b0!==(b0=b7.cur()/b3)&&b0!==1&&--b4)}b7.unit=b6;b7.start=bZ;b7.end=b2[1]?bZ+(b2[1]+1)*b1:b1}return b7}]};function bj(){setTimeout(function(){L=aB},0);return(L=bG.now())}function bc(bZ,e){bG.each(e,function(b4,b2){var b3=(a1[b4]||[]).concat(a1["*"]),b0=0,b1=b3.length;for(;b0<b1;b0++){if(b3[b0].call(bZ,b4,b2)){return}}})}function f(b0,b4,b7){var b8,b3=0,e=0,bZ=ax.length,b6=bG.Deferred().always(function(){delete b2.elem}),b2=function(){var cd=L||bj(),ca=Math.max(0,b1.startTime+b1.duration-cd),cc=1-(ca/b1.duration||0),b9=0,cb=b1.tweens.length;for(;b9<cb;b9++){b1.tweens[b9].run(cc)}b6.notifyWith(b0,[b1,cc,ca]);if(cc<1&&cb){return ca}else{b6.resolveWith(b0,[b1]);return false}},b1=b6.promise({elem:b0,props:bG.extend({},b4),opts:bG.extend(true,{specialEasing:{}},b7),originalProperties:b4,originalOptions:b7,startTime:L||bj(),duration:b7.duration,tweens:[],createTween:function(cc,b9,cb){var ca=bG.Tween(b0,b1.opts,cc,b9,b1.opts.specialEasing[cc]||b1.opts.easing);b1.tweens.push(ca);return ca},stop:function(ca){var b9=0,cb=ca?b1.tweens.length:0;for(;b9<cb;b9++){b1.tweens[b9].run(1)}if(ca){b6.resolveWith(b0,[b1,ca])}else{b6.rejectWith(b0,[b1,ca])}return this}}),b5=b1.props;ak(b5,b1.opts.specialEasing);for(;b3<bZ;b3++){b8=ax[b3].call(b1,b0,b5,b1.opts);if(b8){return b8}}bc(b1,b5);if(bG.isFunction(b1.opts.start)){b1.opts.start.call(b0,b1)}bG.fx.timer(bG.extend(b2,{anim:b1,queue:b1.opts.queue,elem:b0}));return b1.progress(b1.opts.progress).done(b1.opts.done,b1.opts.complete).fail(b1.opts.fail).always(b1.opts.always)}function ak(b1,b3){var b0,bZ,b4,b2,e;for(b0 in b1){bZ=bG.camelCase(b0);b4=b3[bZ];b2=b1[b0];if(bG.isArray(b2)){b4=b2[1];b2=b1[b0]=b2[0]}if(b0!==bZ){b1[bZ]=b2;delete b1[b0]}e=bG.cssHooks[bZ];if(e&&"expand" in e){b2=e.expand(b2);delete b1[bZ];for(b0 in b2){if(!(b0 in b1)){b1[b0]=b2[b0];b3[b0]=b4}}}else{b3[bZ]=b4}}}bG.Animation=bG.extend(f,{tweener:function(bZ,b2){if(bG.isFunction(bZ)){b2=bZ;bZ=["*"]}else{bZ=bZ.split(" ")}var b1,e=0,b0=bZ.length;for(;e<b0;e++){b1=bZ[e];a1[b1]=a1[b1]||[];a1[b1].unshift(b2)}},prefilter:function(bZ,e){if(e){ax.unshift(bZ)}else{ax.push(bZ)}}});function i(b2,b7,e){var b6,b0,b9,b1,cd,cc,cb,ca,b3=this,bZ=b2.style,b8={},b5=[],b4=b2.nodeType&&Q(b2);if(!e.queue){cb=bG._queueHooks(b2,"fx");if(cb.unqueued==null){cb.unqueued=0;ca=cb.empty.fire;cb.empty.fire=function(){if(!cb.unqueued){ca()}}}cb.unqueued++;b3.always(function(){b3.always(function(){cb.unqueued--;if(!bG.queue(b2,"fx").length){cb.empty.fire()}})})}if(b2.nodeType===1&&("height" in b7||"width" in b7)){e.overflow=[bZ.overflow,bZ.overflowX,bZ.overflowY];
if(bG.css(b2,"display")==="inline"&&bG.css(b2,"float")==="none"){if(!bG.support.inlineBlockNeedsLayout||bC(b2.nodeName)==="inline"){bZ.display="inline-block"}else{bZ.zoom=1}}}if(e.overflow){bZ.overflow="hidden";if(!bG.support.shrinkWrapBlocks){b3.done(function(){bZ.overflow=e.overflow[0];bZ.overflowX=e.overflow[1];bZ.overflowY=e.overflow[2]})}}for(b6 in b7){b9=b7[b6];if(bO.exec(b9)){delete b7[b6];if(b9===(b4?"hide":"show")){continue}b5.push(b6)}}b1=b5.length;if(b1){cd=bG._data(b2,"fxshow")||bG._data(b2,"fxshow",{});if(b4){bG(b2).show()}else{b3.done(function(){bG(b2).hide()})}b3.done(function(){var ce;bG.removeData(b2,"fxshow",true);for(ce in b8){bG.style(b2,ce,b8[ce])}});for(b6=0;b6<b1;b6++){b0=b5[b6];cc=b3.createTween(b0,b4?cd[b0]:0);b8[b0]=cd[b0]||bG.style(b2,b0);if(!(b0 in cd)){cd[b0]=cc.start;if(b4){cc.end=cc.start;cc.start=b0==="width"||b0==="height"?1:0}}}}}function H(b0,bZ,b2,e,b1){return new H.prototype.init(b0,bZ,b2,e,b1)}bG.Tween=H;H.prototype={constructor:H,init:function(b1,bZ,b3,e,b2,b0){this.elem=b1;this.prop=b3;this.easing=b2||"swing";this.options=bZ;this.start=this.now=this.cur();this.end=e;this.unit=b0||(bG.cssNumber[b3]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(b0){var bZ,e=H.propHooks[this.prop];if(this.options.duration){this.pos=bZ=bG.easing[this.easing](b0,this.options.duration*b0,0,1,this.options.duration)}else{this.pos=bZ=b0}this.now=(this.end-this.start)*bZ+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{H.propHooks._default.set(this)}return this}};H.prototype.init.prototype=H.prototype;H.propHooks={_default:{get:function(bZ){var e;if(bZ.elem[bZ.prop]!=null&&(!bZ.elem.style||bZ.elem.style[bZ.prop]==null)){return bZ.elem[bZ.prop]}e=bG.css(bZ.elem,bZ.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(bG.fx.step[e.prop]){bG.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bG.cssProps[e.prop]]!=null||bG.cssHooks[e.prop])){bG.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bG.each(["toggle","show","hide"],function(bZ,e){var b0=bG.fn[e];bG.fn[e]=function(b1,b3,b2){return b1==null||typeof b1==="boolean"||(!bZ&&bG.isFunction(b1)&&bG.isFunction(b3))?b0.apply(this,arguments):this.animate(bF(e,true),b1,b3,b2)}});bG.fn.extend({fadeTo:function(e,b1,b0,bZ){return this.filter(Q).css("opacity",0).show().end().animate({opacity:b1},e,b0,bZ)},animate:function(b4,b1,b3,b2){var b0=bG.isEmptyObject(b4),e=bG.speed(b1,b3,b2),bZ=function(){var b5=f(this,bG.extend({},b4),e);if(b0){b5.stop(true)}};return b0||e.queue===false?this.each(bZ):this.queue(e.queue,bZ)},stop:function(b0,bZ,e){var b1=function(b2){var b3=b2.stop;delete b2.stop;b3(e)};if(typeof b0!=="string"){e=bZ;bZ=b0;b0=aB}if(bZ&&b0!==false){this.queue(b0||"fx",[])}return this.each(function(){var b5=true,b2=b0!=null&&b0+"queueHooks",b4=bG.timers,b3=bG._data(this);if(b2){if(b3[b2]&&b3[b2].stop){b1(b3[b2])}}else{for(b2 in b3){if(b3[b2]&&b3[b2].stop&&bM.test(b2)){b1(b3[b2])}}}for(b2=b4.length;b2--;){if(b4[b2].elem===this&&(b0==null||b4[b2].queue===b0)){b4[b2].anim.stop(e);b5=false;b4.splice(b2,1)}}if(b5||!e){bG.dequeue(this,b0)}})}});function bF(b0,b2){var b1,e={height:b0},bZ=0;b2=b2?1:0;for(;bZ<4;bZ+=2-b2){b1=bQ[bZ];e["margin"+b1]=e["padding"+b1]=b0}if(b2){e.opacity=e.width=b0}return e}bG.each({slideDown:bF("show"),slideUp:bF("hide"),slideToggle:bF("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bZ){bG.fn[e]=function(b0,b2,b1){return this.animate(bZ,b0,b2,b1)}});bG.speed=function(b0,b1,bZ){var e=b0&&typeof b0==="object"?bG.extend({},b0):{complete:bZ||!bZ&&b1||bG.isFunction(b0)&&b0,duration:b0,easing:bZ&&b1||b1&&!bG.isFunction(b1)&&b1};e.duration=bG.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bG.fx.speeds?bG.fx.speeds[e.duration]:bG.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bG.isFunction(e.old)){e.old.call(this)}if(e.queue){bG.dequeue(this,e.queue)}};return e};bG.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bG.timers=[];bG.fx=H.prototype.init;bG.fx.tick=function(){var b0,bZ=bG.timers,e=0;for(;e<bZ.length;e++){b0=bZ[e];if(!b0()&&bZ[e]===b0){bZ.splice(e--,1)}}if(!bZ.length){bG.fx.stop()}};bG.fx.timer=function(e){if(e()&&bG.timers.push(e)&&!ab){ab=setInterval(bG.fx.tick,bG.fx.interval)}};bG.fx.interval=13;bG.fx.stop=function(){clearInterval(ab);ab=null};bG.fx.speeds={slow:600,fast:200,_default:400};bG.fx.step={};if(bG.expr&&bG.expr.filters){bG.expr.filters.animated=function(e){return bG.grep(bG.timers,function(bZ){return e===bZ.elem}).length}}var bm=/^(?:body|html)$/i;bG.fn.offset=function(b8){if(arguments.length){return b8===aB?this:this.each(function(b9){bG.offset.setOffset(this,b8,b9)})}var bZ,b4,b5,b2,b6,e,b1,b3={top:0,left:0},b0=this[0],b7=b0&&b0.ownerDocument;if(!b7){return}if((b4=b7.body)===b0){return bG.offset.bodyOffset(b0)}bZ=b7.documentElement;if(!bG.contains(bZ,b0)){return b3}if(typeof b0.getBoundingClientRect!=="undefined"){b3=b0.getBoundingClientRect()}b5=bn(b7);b2=bZ.clientTop||b4.clientTop||0;b6=bZ.clientLeft||b4.clientLeft||0;e=b5.pageYOffset||bZ.scrollTop;b1=b5.pageXOffset||bZ.scrollLeft;return{top:b3.top+e-b2,left:b3.left+b1-b6}};bG.offset={bodyOffset:function(e){var b0=e.offsetTop,bZ=e.offsetLeft;if(bG.support.doesNotIncludeMarginInBodyOffset){b0+=parseFloat(bG.css(e,"marginTop"))||0;bZ+=parseFloat(bG.css(e,"marginLeft"))||0}return{top:b0,left:bZ}},setOffset:function(b1,ca,b4){var b5=bG.css(b1,"position");if(b5==="static"){b1.style.position="relative"}var b3=bG(b1),bZ=b3.offset(),e=bG.css(b1,"top"),b8=bG.css(b1,"left"),b9=(b5==="absolute"||b5==="fixed")&&bG.inArray("auto",[e,b8])>-1,b7={},b6={},b0,b2;if(b9){b6=b3.position();b0=b6.top;b2=b6.left}else{b0=parseFloat(e)||0;b2=parseFloat(b8)||0}if(bG.isFunction(ca)){ca=ca.call(b1,b4,bZ)}if(ca.top!=null){b7.top=(ca.top-bZ.top)+b0}if(ca.left!=null){b7.left=(ca.left-bZ.left)+b2}if("using" in ca){ca.using.call(b1,b7)}else{b3.css(b7)}}};bG.fn.extend({position:function(){if(!this[0]){return}var b0=this[0],bZ=this.offsetParent(),b1=this.offset(),e=bm.test(bZ[0].nodeName)?{top:0,left:0}:bZ.offset();b1.top-=parseFloat(bG.css(b0,"marginTop"))||0;b1.left-=parseFloat(bG.css(b0,"marginLeft"))||0;e.top+=parseFloat(bG.css(bZ[0],"borderTopWidth"))||0;e.left+=parseFloat(bG.css(bZ[0],"borderLeftWidth"))||0;return{top:b1.top-e.top,left:b1.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.body;while(e&&(!bm.test(e.nodeName)&&bG.css(e,"position")==="static")){e=e.offsetParent}return e||o.body})}});bG.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b0,bZ){var e=/Y/.test(bZ);bG.fn[b0]=function(b1){return bG.access(this,function(b2,b5,b4){var b3=bn(b2);if(b4===aB){return b3?(bZ in b3)?b3[bZ]:b3.document.documentElement[b5]:b2[b5]}if(b3){b3.scrollTo(!e?b4:bG(b3).scrollLeft(),e?b4:bG(b3).scrollTop())}else{b2[b5]=b4}},b0,b1,arguments.length,null)}});function bn(e){return bG.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bG.each({Height:"height",Width:"width"},function(e,bZ){bG.each({padding:"inner"+e,content:bZ,"":"outer"+e},function(b0,b1){bG.fn[b1]=function(b5,b4){var b3=arguments.length&&(b0||typeof b5!=="boolean"),b2=b0||(b5===true||b4===true?"margin":"border");return bG.access(this,function(b7,b6,b8){var b9;if(bG.isWindow(b7)){return b7.document.documentElement["client"+e]}if(b7.nodeType===9){b9=b7.documentElement;return Math.max(b7.body["scroll"+e],b9["scroll"+e],b7.body["offset"+e],b9["offset"+e],b9["client"+e])}return b8===aB?bG.css(b7,b6,b8,b2):bG.style(b7,b6,b8,b2)},bZ,b3?b5:aB,b3,null)}})});a2.jQuery=a2.$=bG;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bG
})}})(window);/*! jQuery UI - v1.10.3 - 2013-11-06
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.slider.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
(function(g,d){function c(e,a){var j,m,k,l=e.nodeName.toLowerCase();return"area"===l?(j=e.parentNode,m=j.name,e.href&&m&&"map"===j.nodeName.toLowerCase()?(k=g("img[usemap=#"+m+"]")[0],!!k&&b(k)):!1):(/input|select|textarea|button|object/.test(l)?!e.disabled:"a"===l?e.href||a:a)&&b(e)}function b(a){return g.expr.filters.visible(a)&&!g(a).parents().addBack().filter(function(){return"hidden"===g.css(this,"visibility")}).length}var f=0,h=/^ui-id-\d+$/;g.ui=g.ui||{},g.extend(g.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({focus:function(a){return function(j,e){return"number"==typeof j?this.each(function(){var i=this;setTimeout(function(){g(i).focus(),e&&e.call(i)},j)}):a.apply(this,arguments)}}(g.fn.focus),scrollParent:function(){var a;return a=g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a},zIndex:function(j){if(j!==d){return this.css("zIndex",j)}if(this.length){for(var e,k,l=g(this[0]);l.length&&l[0]!==document;){if(e=l.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(k=parseInt(l.css("zIndex"),10),!isNaN(k)&&0!==k)){return k}l=l.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){h.test(this.id)&&g(this).removeAttr("id")})}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(e){return !!g.data(e,a)}}):function(k,j,e){return !!g.data(k,e[3])},focusable:function(a){return c(a,!isNaN(g.attr(a,"tabindex")))},tabbable:function(i){var e=g.attr(i,"tabindex"),j=isNaN(e);return(j||e>=0)&&c(i,!j)}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(j,e){function k(q,o,n,r){return g.each(p,function(){o-=parseFloat(g.css(q,"padding"+this))||0,n&&(o-=parseFloat(g.css(q,"border"+this+"Width"))||0),r&&(o-=parseFloat(g.css(q,"margin"+this))||0)}),o}var p="Width"===e?["Left","Right"]:["Top","Bottom"],l=e.toLowerCase(),m={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};g.fn["inner"+e]=function(a){return a===d?m["inner"+e].call(this):this.each(function(){g(this).css(l,k(this,a)+"px")})},g.fn["outer"+e]=function(n,a){return"number"!=typeof n?m["outer"+e].call(this,n):this.each(function(){g(this).css(l,k(this,n,!0,a)+"px")})}}),g.fn.addBack||(g.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),g("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(g.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,g.camelCase(e)):a.call(this)}}(g.fn.removeData)),g.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),g.support.selectstart="onselectstart" in document.createElement("div"),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),g.extend(g.ui,{plugin:{add:function(k,j,e){var l,m=g.ui[k].prototype;for(l in e){m.plugins[l]=m.plugins[l]||[],m.plugins[l].push([j,e[l]])}},call:function(n,l,k){var j,m=n.plugins[l];if(m&&n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType){for(j=0;m.length>j;j++){n.options[m[j][0]]&&m[j][1].apply(n.element,k)}}}},hasScroll:function(k,j){if("hidden"===g(k).css("overflow")){return !1}var e=j&&"left"===j?"scrollLeft":"scrollTop",l=!1;return k[e]>0?!0:(k[e]=1,l=k[e]>0,k[e]=0,l)}})})(jQuery);(function(g,d){var c=0,f=Array.prototype.slice,b=g.cleanData;g.cleanData=function(e){for(var a,h=0;null!=(a=e[h]);h++){try{g(a).triggerHandler("remove")}catch(j){}}b(e)},g.widget=function(p,w,t){var k,e,j,q,m={},v=p.split(".")[0];p=p.split(".")[1],k=v+"-"+p,t||(t=w,w=g.Widget),g.expr[":"][k.toLowerCase()]=function(a){return !!g.data(a,k)},g[v]=g[v]||{},e=g[v][p],j=g[v][p]=function(h,a){return this._createWidget?(arguments.length&&this._createWidget(h,a),d):new j(h,a)},g.extend(j,e,{version:t.version,_proto:g.extend({},t),_childConstructors:[]}),q=new w,q.options=g.widget.extend({},q.options),g.each(t,function(l,h){return g.isFunction(h)?(m[l]=function(){var i=function(){return w.prototype[l].apply(this,arguments)},a=function(n){return w.prototype[l].apply(this,n)};return function(){var o,r=this._super,u=this._superApply;return this._super=i,this._superApply=a,o=h.apply(this,arguments),this._super=r,this._superApply=u,o}}(),d):(m[l]=h,d)}),j.prototype=g.widget.extend(q,{widgetEventPrefix:e?q.widgetEventPrefix:p},m,{constructor:j,namespace:v,widgetName:p,widgetFullName:k}),e?(g.each(e._childConstructors,function(h,a){var l=a.prototype;g.widget(l.namespace+"."+l.widgetName,j,a._proto)}),delete e._childConstructors):w._childConstructors.push(j),g.widget.bridge(p,j)},g.widget.extend=function(j){for(var e,p,l=f.call(arguments,1),m=0,k=l.length;k>m;m++){for(e in l[m]){p=l[m][e],l[m].hasOwnProperty(e)&&p!==d&&(j[e]=g.isPlainObject(p)?g.isPlainObject(j[e])?g.widget.extend({},j[e],p):g.widget.extend({},p):p)}}return j},g.widget.bridge=function(h,e){var j=e.prototype.widgetFullName||h;g.fn[h]=function(k){var m="string"==typeof k,i=f.call(arguments,1),a=this;return k=!m&&i.length?g.widget.extend.apply(null,[k].concat(i)):k,m?this.each(function(){var n,l=g.data(this,j);return l?g.isFunction(l[k])&&"_"!==k.charAt(0)?(n=l[k].apply(l,i),n!==l&&n!==d?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):d):g.error("no such method '"+k+"' for "+h+" widget instance"):g.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+k+"'")}):this.each(function(){var l=g.data(this,j);l?l.option(k||{})._init():g.data(this,j,new e(k,this))}),a}},g.Widget=function(){},g.Widget._childConstructors=[],g.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,e){e=g(e||this.defaultElement||this)[0],this.element=g(e),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=g.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=g(),this.hoverable=g(),this.focusable=g(),e!==this&&(g.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===e&&this.destroy()}}),this.document=g(e.style?e.ownerDocument:e.document||e),this.window=g(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:g.noop,_getCreateEventData:g.noop,_create:g.noop,_init:g.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(g.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:g.noop,widget:function(){return this.element},option:function(h,j){var e,m,k,l=h;if(0===arguments.length){return g.widget.extend({},this.options)
}if("string"==typeof h){if(l={},e=h.split("."),h=e.shift(),e.length){for(m=l[h]=g.widget.extend({},this.options[h]),k=0;e.length-1>k;k++){m[e[k]]=m[e[k]]||{},m=m[e[k]]}if(h=e.pop(),j===d){return m[h]===d?null:m[h]}m[h]=j}else{if(j===d){return this.options[h]===d?null:this.options[h]}l[h]=j}}return this._setOptions(l),this},_setOptions:function(h){var a;for(a in h){this._setOption(a,h[a])}return this},_setOption:function(h,a){return this.options[h]=a,"disabled"===h&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!a).attr("aria-disabled",a),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(h,j,e){var l,k=this;"boolean"!=typeof h&&(e=j,j=h,h=!1),e?(j=l=g(j),this.bindings=this.bindings.add(j)):(e=j,j=this.element,l=this.widget()),g.each(e,function(m,q){function p(){return h||k.options.disabled!==!0&&!g(this).hasClass("ui-state-disabled")?("string"==typeof q?k[q]:q).apply(k,arguments):d}"string"!=typeof q&&(p.guid=q.guid=q.guid||p.guid||g.guid++);var i=m.match(/^(\w+)\s*(.*)$/),n=i[1]+k.eventNamespace,r=i[2];r?l.delegate(r,n,p):j.bind(n,p)})},_off:function(h,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,h.unbind(a).undelegate(a)},_delay:function(k,h){function a(){return("string"==typeof k?j[k]:k).apply(j,arguments)}var j=this;return setTimeout(a,h||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(e){g(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){g(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(e){g(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){g(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(j,h,k){var e,m,l=this.options[j];if(k=k||{},h=g.Event(h),h.type=(j===this.widgetEventPrefix?j:this.widgetEventPrefix+j).toLowerCase(),h.target=this.element[0],m=h.originalEvent){for(e in m){e in h||(h[e]=m[e])}}return this.element.trigger(h,k),!(g.isFunction(l)&&l.apply(this.element[0],[h].concat(k))===!1||h.isDefaultPrevented())}},g.each({show:"fadeIn",hide:"fadeOut"},function(e,a){g.Widget.prototype["_"+e]=function(i,h,l){"string"==typeof h&&(h={effect:h});var j,k=h?h===!0||"number"==typeof h?a:h.effect||a:e;h=h||{},"number"==typeof h&&(h={duration:h}),j=!g.isEmptyObject(h),h.complete=l,h.delay&&i.delay(h.delay),j&&g.effects&&g.effects.effect[k]?i[e](h):k!==e&&i[k]?i[k](h.duration,h.easing,l):i.queue(function(m){g(this)[e](),l&&l.call(i[0]),m()})}})})(jQuery);(function(b){var a=!1;b(document).mouseup(function(){a=!1}),b.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===b.data(d.target,c.widgetName+".preventClickEvent")?(b.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!a){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var e=this,c=1===d.which,f="string"==typeof this.options.cancel&&d.target.nodeName?b(d.target).closest(this.options.cancel).length:!1;return c&&!f&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===b.data(d.target,this.widgetName+".preventClickEvent")&&b.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g)},this._mouseUpDelegate=function(g){return e._mouseUp(g)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(c){return b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted)},_mouseUp:function(c){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(b){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,d,f=this.options,c=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(d=f.values&&f.values.length||1,c.length>d&&(c.slice(d).remove(),c=c.slice(0,d)),e=c.length;d>e;e++){g.push(h)}this.handles=c.add(b(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(i){b(this).data("ui-slider-handle-index",i)})},_createRange:function(){var d=this.options,c="";d.range?(d.range===!0&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:b.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=b("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):this.range=b([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(v){var j,w,p,f,d,e,k,g,q=this,m=this.options;return m.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),j={x:v.pageX,y:v.pageY},w=this._normValueFromMouse(j),p=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(w-q.values(h));(p>c||p===c&&(h===q._lastChangedValue||q.values(h)===m.min))&&(p=c,f=b(this),d=h)
}),e=this._start(v,d),e===!1?!1:(this._mouseSliding=!0,this._handleIndex=d,f.addClass("ui-state-active").focus(),k=f.offset(),g=!b(v.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=g?{left:0,top:0}:{left:v.pageX-k.left-f.width()/2,top:v.pageY-k.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(v,d,w),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},c=this._normValueFromMouse(d);return this._slide(f,this._handleIndex,c),!1},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(h){var f,d,g,c,j;return"horizontal"===this.orientation?(f=this.elementSize.width,d=h.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(f=this.elementSize.height,d=h.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=d/f,g>1&&(g=1),0>g&&(g=0),"vertical"===this.orientation&&(g=1-g),c=this._valueMax()-this._valueMin(),j=this._valueMin()+g*c,this._trimAlignValue(j)},_start:function(f,d){var c={handle:this.handles[d],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(d),c.values=this.values()),this._trigger("start",f,c)},_slide:function(h,f,d){var g,c,j;this.options.values&&this.options.values.length?(g=this.values(f?0:1),2===this.options.values.length&&this.options.range===!0&&(0===f&&d>g||1===f&&g>d)&&(d=g),d!==this.values(f)&&(c=this.values(),c[f]=d,j=this._trigger("slide",h,{handle:this.handles[f],value:d,values:c}),g=this.values(f?0:1),j!==!1&&this.values(f,d,!0))):d!==this.value()&&(j=this._trigger("slide",h,{handle:this.handles[f],value:d}),j!==!1&&this.value(d))},_stop:function(f,d){var c={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(d),c.values=this.values()),this._trigger("stop",f,c)},_change:function(f,d){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(d),c.values=this.values()),this._lastChangedValue=d,this._trigger("change",f,c)}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,d){var f,c,g;if(arguments.length>1){return this.options.values[e]=this._trimAlignValue(d),this._refreshValue(),this._change(null,e),undefined}if(!arguments.length){return this._values()}if(!b.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(e):this.value()}for(f=this.options.values,c=arguments[0],g=0;f.length>g;g+=1){f[g]=this._trimAlignValue(c[g]),this._change(null,g)}this._refreshValue()},_setOption:function(e,d){var f,c=0;switch("range"===e&&this.options.range===!0&&("min"===d?(this.options.value=this._values(0),this.options.values=null):"max"===d&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),b.isArray(this.options.values)&&(c=this.options.values.length),b.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),f=0;c>f;f+=1){this._change(null,f)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},_values:function(g){var d,c,f;if(arguments.length){return d=this.options.values[g],d=this._trimAlignValue(d)}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),f=0;c.length>f;f+=1){c[f]=this._trimAlignValue(c[f])}return c}return[]},_trimAlignValue:function(g){if(this._valueMin()>=g){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=this.options.step>0?this.options.step:1,c=(g-this._valueMin())%d,f=g-c;return 2*Math.abs(c)>=d&&(f+=c>0?d:-d),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var p,g,q,k,e,c=this.options.range,d=this.options,j=this,f=this._animateOff?!1:d.animate,m={};this.options.values&&this.options.values.length?this.handles.each(function(h){g=100*((j.values(h)-j._valueMin())/(j._valueMax()-j._valueMin())),m["horizontal"===j.orientation?"left":"bottom"]=g+"%",b(this).stop(1,1)[f?"animate":"css"](m,d.animate),j.options.range===!0&&("horizontal"===j.orientation?(0===h&&j.range.stop(1,1)[f?"animate":"css"]({left:g+"%"},d.animate),1===h&&j.range[f?"animate":"css"]({width:g-p+"%"},{queue:!1,duration:d.animate})):(0===h&&j.range.stop(1,1)[f?"animate":"css"]({bottom:g+"%"},d.animate),1===h&&j.range[f?"animate":"css"]({height:g-p+"%"},{queue:!1,duration:d.animate}))),p=g}):(q=this.value(),k=this._valueMin(),e=this._valueMax(),g=e!==k?100*((q-k)/(e-k)):0,m["horizontal"===this.orientation?"left":"bottom"]=g+"%",this.handle.stop(1,1)[f?"animate":"css"](m,d.animate),"min"===c&&"horizontal"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({width:g+"%"},d.animate),"max"===c&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:d.animate}),"min"===c&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:g+"%"},d.animate),"max"===c&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:d.animate}))},_handleEvents:{keydown:function(d){var e,c,h,f,g=b(d.target).data("ui-slider-handle-index");switch(d.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,b(d.target).addClass("ui-state-active"),e=this._start(d,g),e===!1)){return}}switch(f=this.options.step,c=h=this.options.values&&this.options.values.length?this.values(g):this.value(),d.keyCode){case b.ui.keyCode.HOME:h=this._valueMin();break;case b.ui.keyCode.END:h=this._valueMax();break;case b.ui.keyCode.PAGE_UP:h=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/a);break;case b.ui.keyCode.PAGE_DOWN:h=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/a);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(c===this._valueMax()){return}h=this._trimAlignValue(c+f);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(c===this._valueMin()){return}h=this._trimAlignValue(c-f)}this._slide(d,g,h)},click:function(c){c.preventDefault()},keyup:function(d){var c=b(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,c),this._change(d,c),b(d.target).removeClass("ui-state-active"))}}})})(jQuery);var dfp=!function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b(a.jQuery)}}(this,function(b){var c={unit:"",loaded:function(){},targetting:{},debug:false,clearContainer:false,addType:"append",singleRequest:false,globalTargetting:{},centerAds:false,settings:{slotname:"unnamed",cssClass:"",format:"",oop:false,loaded:function(){},sizes:[],targetting:{}}};var a=function(d){if(!d.hasOwnProperty("unit")){this.log("No unit set");return false}this.log("Unit: "+d.unit);if(typeof googletag==="undefined"){this.log("googletag not defined");return false}this.debug=d.debug;this.unit=d.unit;this.singleRequest=d.singleRequest;this.globalTargetting=d.globalTargetting;this.centerAds=d.centerAds;this.screenWidth=(window.innerWidth>0)?window.innerWidth:screen.width;this.log("viewport width",this.screenWidth);this.options=this.getDfpSettings(d);if(this.options!==false){this.setupDfp()}};a.prototype={constructor:a,log:function(e){if(window.console){for(var d=0;d<arguments.length;d++){console.log(arguments[d])}}},escapeUnsafeString:function(d){return d.replace(/[#",*()=+<>\[\]]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},escapeUnsafeArray:function(d){var e=this;b.each(d,function(f,g){d[f]=e.escapeUnsafeString(g)});return d},escapeUnsafeValue:function(d){if(typeof d==="string"){return this.escapeUnsafeString(d)}if(b.isArray(d)){return this.escapeUnsafeArray(d)}},setupGlobals:function(){if(typeof this.globalTargetting==="object"){try{var h="";h+=new Array(20).join("~")+" Global Advert Code ";h+=new Array(20).join("~")+"\n";h+="~     targetting:\t"+JSON.stringify(this.globalTargetting)+"\n";h+=new Array(53).join("~");this.log(h)}catch(g){}var f;for(var d in this.globalTargetting){f=this.globalTargetting[d];if(f!==""&&f!=[]){googletag.pubads().setTargeting(d,this.escapeUnsafeValue(f))}}}},setupDfp:function(){if(!b("body").hasClass("dfp-setup")){googletag.pubads().enableAsyncRendering();googletag.pubads().collapseEmptyDivs();this.setupGlobals();if(this.singleRequest){googletag.pubads().enableSingleRequest()}googletag.pubads().setCentering(this.centerAds);googletag.enableServices();b("body").addClass("dfp-setup")}},getDfpSettings:function(e){var j=e.settings;this.log("options",j);var g=false,d=false;var h=null;if(Object.prototype.toString.call(j)==="[object Array]"){this.log("Array passed, calculating best settings match");for(var f=0;f<j.length;f++){g=j[f].minWidth||false;d=j[f].maxWidth||false;if((this.screenWidth>=g||(g===false))&&(this.screenWidth<=d||(d===false))){this.log("Best match",j[f]);h=j[f];break}}if(h===null){this.log("Settings not matched");return false}}else{this.log("Object passed, using as settings object");g=j.minWidth||false;d=j.maxWidth||false;if((this.screenWidth>=g||(g===false))&&(this.screenWidth<=d||(d===false))){this.log("Settings allow this ad");h=j}else{this.log("Setting disallow ad");return false}}if(typeof h.sizes==="object"){var k=this;h.sizes=b.grep(h.sizes,function(i){return i[0]<=k.screenWidth})}if(!h.hasOwnProperty("addType")){h.addType=e.addType}if(!h.hasOwnProperty("clearContainer")){h.clearContainer=e.clearContainer}return h},renderAd:function(h){var j="dfp_advert_"+b.guid++;var f=b("<div>",{id:j,"class":"dfp-plugin-advert "+this.options.cssClass,"data-dfp-format":this.options.format});if(this.options.clearContainer){h.html("")}switch(this.options.addType){case"prepend":h.prepend(f);break;case"before":h.before(f);break;case"after":h.after(f);break;default:h.append(f)}var d={id:j,oop:false,sizes:this.options.sizes,format:this.options.format,targetting:this.options.targetting,addType:this.options.addType||"append",clearContainer:this.options.clearContainer||false,unit:this.unit};if(typeof this.options.oop!=="undefined"){d.oop=this.options.oop}try{var i="";i+=new Array(20).join("~")+" Advert Code ";i+=new Array(20).join("~")+"\n";i+="~           unit:\t"+d.unit+"\n";i+="~             id:\t"+j+"\n";i+="~            oop:\t"+d.oop.toString()+"\n";i+="~          sizes:\t"+JSON.stringify(d.sizes)+"\n";i+="~     targetting:\t"+JSON.stringify(d.targetting)+"\n";i+="~         format:\t"+d.format+"\n";i+="~        addMode:\t"+d.addType+"\n";i+="~     element id:\t"+h.attr("id")+"\n";i+="~  element class:\t"+h.attr("class")+"\n";i+="~ clearContainer:\t"+d.clearContainer.toString()+"\n";i+=new Array(53).join("~");f.prepend(document.createComment(i));if(typeof ga==="function"){ga("send","event","advert","render",{eventValue:this.options.slotname,nonInteraction:1})}this.log(i)}catch(g){}googletag.cmd.push(function(){var e={};if(d.oop){e=googletag.defineOutOfPageSlot(d.unit,d.id)}else{e=googletag.defineSlot(d.unit,d.sizes,d.id)}var l=[];if(d.format!==""){l.push(d.format)}if(typeof dfpBeta!="undefined"&&dfpBeta===true){l.push("beta")}if(l.length>0){e.setTargeting("format",l)}if(typeof d.targetting==="object"){for(var k in d.targetting){e.setTargeting(k,d.targetting[k])}}e.addService(googletag.pubads());googletag.display(d.id)})}};b.fn.dfp=function(d){d=b.extend(true,{},c,d);if(b.isArray(d.settings)){b.each(d.settings,function(g,f){d.settings[g]=b.extend(true,{},c.settings,f)})}var e=new a(d);if(e===false||e.options===false){return false}return this.each(function(){var f=b(this);e.renderAd(f);f.data("dfp-plugin",e)})};b.fn.dfp.defaults=c;b.fn.dfp.Plugin=a;b.fn.dfp.refreshAds=function(){if(typeof googletag==="undefined"){return}googletag.pubads().refresh()}});Number.prototype.toMoney=function(e,a,g){var b=this,m=isNaN(e)?2:Math.abs(e),l=a||".",o=(typeof g==="undefined")?",":g,f=(b<0)?"-":"",k=parseInt(b=Math.abs(b).toFixed(m))+"",h=((h=k.length)>3)?h%3:0;return f+(h?k.substr(0,h)+o:"")+k.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o)+(m?l+Math.abs(b-k).toFixed(m).slice(2):"")};function pad(a,b){var c=a+"";while(c.length<b){c="0"+c}return c}function fcsisImage(a,b){return a.replace(/[0-9]{1,3}(-[0-9]{2,3}\.[a-zA-Z]{3,4})/,b+"$1")}function fcsisSince(f){var f=new Date(f);var d=new Date();var c=Math.floor((d-f)/1000);var g=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];var i=["Mon","Tues","Wed","Thurs","Fri","Sat","Sun"];var h=["","st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"];var b=["January","February","March","April","May","June","July","August","September","October","November","December"];var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(c<0){return b[f.getUTCMonth()]+" "+f.getUTCDate()+h[f.getUTCDate()]}else{if(c<120){return"1 min ago"}else{if(c<3600){return Math.floor(c/60).toString()+" mins ago"}else{if(c<7200){return"1 hour ago"}else{if(c<86400){return Math.floor(c/3600).toString()+" hrs ago"}else{if(c<604800){return i[f.getUTCDay()]+" "+f.getUTCHours()+":"+pad(f.getUTCMinutes(),2)}else{var a=new Date();if(f.getUTCFullYear()==a.getUTCFullYear()){return b[f.getUTCMonth()]+" "+f.getUTCDate()+h[f.getUTCDate()]}return b[f.getUTCMonth()]+" "+f.getUTCDate()+h[f.getUTCDate()]+" "+f.getUTCFullYear()}}}}}}}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}function truncateLongSynopses(c){var b=$(c).find("span.hilite").clone();$(c).find("span.hilite").remove();if($(c).text().length>240){var a=$(c).text().trim().substring(0,240).split(" ").slice(0,-1).join(" ")+"...";$(c).text(" "+a)}$(c).prepend(b)}function stripslashes(a){a=a.replace(/\\'/g,"'");a=a.replace(/\\"/g,'"');a=a.replace(/\\0/g,"\0");a=a.replace(/\\\\/g,"\\");return a}function globalSafeTitle(a){a=a.toLowerCase();a=a.replace(" ","-");a=a.replace(/&.{2,4};/g,"");a=a.replace(/[^a-z0-9-]/g,"-");a=a.replace(/-+/g,"-");return a}function stripTags(a){return a.replace(/(<([^>]+)>)/ig,"")}function nl2br(c,b){var a=(b||typeof b==="undefined")?"<br />":"<br>";return(c+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+a+"$2")}function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return null}function eraseCookie(a){createCookie(a,"",-1)}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){var a=this.length>>>0;var c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);if(c<0){c+=a}for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}function getCookie(e){var b,a,d,c=document.cookie.split(";");for(b=0;b<c.length;b++){a=c[b].substr(0,c[b].indexOf("="));d=c[b].substr(c[b].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");if(a===e){return unescape(d)}}}function setCookie(c,e,f){var d=".techradar.com";var e=escape(e);var a="";if(typeof f!=="undefined"&&typeof f!==null){var b=new Date();b.setTime(b.getTime()+(f*24*60*60*1000));a="; expires="+b.toGMTString()}document.cookie=c+"="+e+a+"; path=/; domain="+d+";"}function getParameterByName(b){var a=RegExp("[?&]"+b+"=([^&]*)").exec(window.location.search);return a&&decodeURIComponent(a[1].replace(/\+/g," "))}function getPageType(){var a=$("body");if(a.hasClass("news-article")){return"news"}if(a.hasClass("reviews-article")){return"review"}}function getPageTab(){var a=window.location.pathname.split("/");return a[a.length-1]};var regula={configure:function(a){},bind:function(a){},unbind:function(a){},custom:function(a){},compound:function(a){},override:function(a){},validate:function(a){},Constraint:{},Group:{},DateFormat:{}};regula=(function(){var m=function(aL,aM,aN,aH){var aI=(aM=="*"&&aL.all)?aL.all:aL.getElementsByTagName(aM);var aG=new Array();var aK=(typeof aH!=="undefined")?new RegExp("(^|\\s)"+aH+"(\\s|$)"):null;var aE;var aJ;for(var aF=0;aF<aI.length;aF++){aE=aI[aF];aJ=aE.getAttribute&&aE.getAttribute(aN);if(typeof aJ=="string"&&aJ.length>0){if(typeof aH==="undefined"||(aK&&aK.test(aJ))){aG.push(aE)}}}return aG};var aa={validateEmptyFields:true,debug:false};var W={Default:0};var u={0:"Default"};var I=[];var ai={Checked:0,Selected:1,Max:2,Min:3,Range:4,Between:4,NotBlank:5,NotEmpty:5,Blank:6,Empty:6,Pattern:7,Matches:7,Email:8,Alpha:9,IsAlpha:9,Numeric:10,IsNumeric:12,AlphaNumeric:11,IsAlphaNumeric:11,Integer:12,Real:13,CompletelyFilled:14,PasswordsMatch:15,Required:16,Length:17,Digits:18,Past:19,Future:20,Name:21,Names:22,Username:23};var aB={0:"Checked",1:"Selected",2:"Max",3:"Min",4:"Range",5:"NotBlank",6:"Blank",7:"Pattern",8:"Email",9:"Alpha",10:"Numeric",11:"AlphaNumeric",12:"Integer",13:"Real",14:"CompletelyFilled",15:"PasswordsMatch",16:"Required",17:"Length",18:"Digits",19:"Past",20:"Future",21:"Name",22:"Names",23:"Username"};var ak={DMY:"DMY",MDY:"MDY",YMD:"YMD"};var Q={form:"The form",select:"The select box",textarea:"The text area",checkbox:"The checkbox",radio:"The radio button",text:"The text field",password:"The password"};var K=22;var r=1;var c={Checked:{formSpecific:false,validator:ap,constraintType:ai.Checked,custom:false,compound:false,params:[],defaultMessage:"{label} needs to be checked."},Selected:{formSpecific:false,validator:R,constraintType:ai.Selected,custom:false,compound:false,params:[],defaultMessage:"{label} needs to be selected."},Max:{formSpecific:false,validator:B,constraintType:ai.Max,custom:false,compound:false,params:["value"],defaultMessage:"{label} needs to be lesser than or equal to {value}."},Min:{formSpecific:false,validator:aC,constraintType:ai.Min,custom:false,compound:false,params:["value"],defaultMessage:"{label} needs to be greater than or equal to {value}."},Range:{formSpecific:false,validator:H,constraintType:ai.Range,custom:false,compound:false,params:["min","max"],defaultMessage:"{label} needs to be between {min} and {max}."},NotBlank:{formSpecific:false,validator:Z,constraintType:ai.NotBlank,custom:false,compound:false,params:[],defaultMessage:"{label} cannot be blank."},Blank:{formSpecific:false,validator:aw,constraintType:ai.Blank,custom:false,compound:false,params:[],defaultMessage:"{label} needs to be blank."},Pattern:{formSpecific:false,validator:s,constraintType:ai.Pattern,custom:false,compound:false,params:["regex"],defaultMessage:"{label} needs to match {regex}{flags}."},Email:{formSpecific:false,validator:w,constraintType:ai.Email,custom:false,compound:false,params:[],defaultMessage:"{label} is not a valid email."},Alpha:{formSpecific:false,validator:ad,constraintType:ai.Alpha,custom:false,compound:false,params:[],defaultMessage:"{label} can only contain letters."},Numeric:{formSpecific:false,validator:V,constraintType:ai.Numeric,custom:false,compound:false,params:[],defaultMessage:"{label} can only contain numbers."},AlphaNumeric:{formSpecific:false,validator:G,constraintType:ai.AlphaNumeric,custom:false,compound:false,params:[],defaultMessage:"{label} can only contain numbers and letters."},Integer:{formSpecific:false,validator:e,constraintType:ai.Integer,custom:false,compound:false,params:[],defaultMessage:"{label} must be an integer."},Real:{formSpecific:false,validator:T,constraintType:ai.Real,custom:false,compound:false,params:[],defaultMessage:"{label} must be a real number."},CompletelyFilled:{formSpecific:true,validator:p,constraintType:ai.CompletelyFilled,custom:false,compound:false,params:[],defaultMessage:"{label} must be completely filled."},PasswordsMatch:{formSpecific:true,validator:z,constraintType:ai.PasswordsMatch,custom:false,compound:false,params:["field1","field2"],defaultMessage:"Passwords do not match."},Required:{formSpecific:false,validator:h,constraintType:ai.Required,custom:false,compound:false,params:[],defaultMessage:"{label} is required."},Length:{formSpecific:false,validator:n,constraintType:ai.Length,custom:false,compound:false,params:["min","max"],defaultMessage:"{label} length must be between {min} and {max}."},Digits:{formSpecific:false,validator:an,constraintType:ai.Digits,custom:false,compound:false,params:["integer","fraction"],defaultMessage:"{label} must have up to {integer} digits and {fraction} fractional digits."},Past:{formSpecific:false,validator:ab,constraintType:ai.Past,custom:false,compound:false,params:["format"],defaultMessage:"{label} must be in the past."},Future:{formSpecific:false,validator:y,constraintType:ai.Future,custom:false,compound:false,params:["format"],defaultMessage:"{label} must be in the future."},Surname:{formSpecific:false,validator:ao,constraintType:ai.Surname,custom:false,compound:false,params:[],defaultMessage:"{label} contains unsuitable characters or spaces"},Forename:{formSpecific:false,validator:q,constraintType:ai.Forename,custom:false,compound:false,params:[],defaultMessage:"{label} contains unsuitable characters"},Username:{formSpecific:false,validator:b,constraintType:ai.Username,custom:false,compound:false,params:[],defaultMessage:"{label} contains unsuitable characters or spaces"}};var D={addNode:function(aF,aE){},getNodeByType:function(aE){},cycleExists:function(aE){},getRoot:function(){},setRoot:function(aE){},clone:function(){}};D=(function(){var aI={};var aN={visited:false,name:"RootNode",type:-1,children:[]};function aF(aR,aQ){var aP=aI[aR]==null?{visited:false,name:aB[aR],type:aR,children:[]}:aI[aR];if(aQ==null){aN.children[aN.children.length]=aP}else{aQ.children[aQ.children.length]=aP}aI[aR]=aP}function aL(){return aO(aN)}function aO(aR){var aP={visited:aR.visited,name:aR.name,type:aR.type,children:[]};for(var aQ=0;aQ<aR.children.length;aQ++){aP.children[aP.children.length]=aO(aR.children[aQ])}return aP}function aH(aP){return aI[aP]}function aE(aQ){var aP=(function(aT,aU){var aR={cycleExists:false,path:aU};if(aT.visited){aR={cycleExists:true,path:aU}}else{aT.visited=true;var aS=0;while(aS<aT.children.length&&!aR.cycleExists){aR=arguments.callee(aT.children[aS],aU+"."+aT.children[aS].name);aS++}}return aR}(aQ,aQ.name));if(!aP.cycleExists){aJ()}return aP}function aK(aP){aP.children=[]}function aJ(){(function(aQ){aQ.visited=false;for(var aP=0;aP<aQ.children.length;aP++){arguments.callee(aQ.children[aP])}}(aN))}function aM(){return aN}function aG(aP){aN=aP}return{addNode:aF,removeChildren:aK,getNodeByType:aH,cycleExists:aE,getRoot:aM,setRoot:aG,clone:aL}})();var o=null;var i={};var al={};function af(){o={Default:{}}}function U(aE,aG){var aF=aa.validateEmptyFields;if(typeof aG.ignoreEmpty!=="undefined"){aF=!aG.ignoreEmpty}return !(aw.call(aE)&&!aF)}function ap(){var aE=false;if(this.type.toLowerCase()==="radio"&&this.name.replace(/\s/g,"")!==""){var aG=m(document.body,"input","name",this.name);var aF=0;while(aF<aG.length&&!aE){aE=aG[aF].checked;aF++}}else{aE=this.checked}return aE}function R(){return this.selectedIndex>0}function B(aF){var aE=true;if(U(this,aF)){aE=(parseFloat(this.value)<=parseFloat(aF.value))}return aE}function aC(aF){var aE=true;if(U(this,aF)){aE=(parseFloat(this.value)>=parseFloat(aF.value))}return aE}function H(aF){var aE=true;if(U(this,aF)){aE=(this.value.replace(/\s/g,"")!=""&&parseFloat(this.value)<=parseFloat(aF.max)&&parseFloat(this.value)>=parseFloat(aF.min))}return aE}function Z(){return this.value.replace(/\s/g,"")!=""}function aw(){return this.value.replace(/\s/g,"")===""}function s(aH){var aE=true;if(U(this,aH)){var aF;var aG;if(typeof aH.regex==="string"){aG=aH.regex.replace(/^\//,"").replace(/\/$/,"")}else{aG=aH.regex}if(typeof aH.flags!=="undefined"){aF=new RegExp(aG.toString().replace(/^\//,"").replace(/\/[^\/]*$/,""),aH.flags)
}else{aF=new RegExp(aG)}aE=aF.test(this.value)}return aE}function w(aF){var aE=true;if(U(this,aF)){aE=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i.test(this.value)}return aE}function ad(aF){var aE=true;if(U(this,aF)){aE=/^[A-Za-z]+$/.test(this.value)}return aE}function ao(aF){var aE=true;if(U(this,aF)){aE=/^[a-zA-Z\-_\.’'‘ÆÐƎƏƐƔĲŊŒẞÞǷȜæðǝəɛɣĳŋœĸſßþƿȝĄƁÇĐƊĘĦĮƘŁØƠŞȘŢȚŦŲƯY̨Ƴąɓçđɗęħįƙłøơşșţțŧųưy̨ƴÁÀÂÄǍĂĀÃÅǺĄÆǼǢƁĆĊĈČÇĎḌĐƊÐÉÈĖÊËĚĔĒĘẸƎƏƐĠĜǦĞĢƔáàâäǎăāãåǻąæǽǣɓćċĉčçďḍđɗðéèėêëěĕēęẹǝəɛġĝǧğģɣĤḤĦIÍÌİÎÏǏĬĪĨĮỊĲĴĶƘĹĻŁĽĿʼNŃN̈ŇÑŅŊÓÒÔÖǑŎŌÕŐỌØǾƠŒĥḥħıíìiîïǐĭīĩįịĳĵķƙĸĺļłľŀŉńn̈ňñņŋóòôöǒŏōõőọøǿơœŔŘŖŚŜŠŞȘṢẞŤŢṬŦÞÚÙÛÜǓŬŪŨŰŮŲỤƯẂẀŴẄǷÝỲŶŸȲỸƳŹŻŽẒŕřŗſśŝšşșṣßťţṭŧþúùûüǔŭūũűůųụưẃẁŵẅƿýỳŷÿȳỹƴźżžẓ]+$/.test(this.value)}return aE}function q(aF){var aE=true;if(U(this,aF)){aE=/^[a-zA-Z\-_\. ’'‘ÆÐƎƏƐƔĲŊŒẞÞǷȜæðǝəɛɣĳŋœĸſßþƿȝĄƁÇĐƊĘĦĮƘŁØƠŞȘŢȚŦŲƯY̨Ƴąɓçđɗęħįƙłøơşșţțŧųưy̨ƴÁÀÂÄǍĂĀÃÅǺĄÆǼǢƁĆĊĈČÇĎḌĐƊÐÉÈĖÊËĚĔĒĘẸƎƏƐĠĜǦĞĢƔáàâäǎăāãåǻąæǽǣɓćċĉčçďḍđɗðéèėêëěĕēęẹǝəɛġĝǧğģɣĤḤĦIÍÌİÎÏǏĬĪĨĮỊĲĴĶƘĹĻŁĽĿʼNŃN̈ŇÑŅŊÓÒÔÖǑŎŌÕŐỌØǾƠŒĥḥħıíìiîïǐĭīĩįịĳĵķƙĸĺļłľŀŉńn̈ňñņŋóòôöǒŏōõőọøǿơœŔŘŖŚŜŠŞȘṢẞŤŢṬŦÞÚÙÛÜǓŬŪŨŰŮŲỤƯẂẀŴẄǷÝỲŶŸȲỸƳŹŻŽẒŕřŗſśŝšşșṣßťţṭŧþúùûüǔŭūũűůųụưẃẁŵẅƿýỳŷÿȳỹƴźżžẓ]+$/.test(this.value)}return aE}function b(aF){var aE=true;if(U(this,aF)){aE=/^[0-9a-zA-Z\-_\.@’'‘ÆÐƎƏƐƔĲŊŒẞÞǷȜæðǝəɛɣĳŋœĸſßþƿȝĄƁÇĐƊĘĦĮƘŁØƠŞȘŢȚŦŲƯY̨Ƴąɓçđɗęħįƙłøơşșţțŧųưy̨ƴÁÀÂÄǍĂĀÃÅǺĄÆǼǢƁĆĊĈČÇĎḌĐƊÐÉÈĖÊËĚĔĒĘẸƎƏƐĠĜǦĞĢƔáàâäǎăāãåǻąæǽǣɓćċĉčçďḍđɗðéèėêëěĕēęẹǝəɛġĝǧğģɣĤḤĦIÍÌİÎÏǏĬĪĨĮỊĲĴĶƘĹĻŁĽĿʼNŃN̈ŇÑŅŊÓÒÔÖǑŎŌÕŐỌØǾƠŒĥḥħıíìiîïǐĭīĩįịĳĵķƙĸĺļłľŀŉńn̈ňñņŋóòôöǒŏōõőọøǿơœŔŘŖŚŜŠŞȘṢẞŤŢṬŦÞÚÙÛÜǓŬŪŨŰŮŲỤƯẂẀŴẄǷÝỲŶŸȲỸƳŹŻŽẒŕřŗſśŝšşșṣßťţṭŧþúùûüǔŭūũűůųụưẃẁŵẅƿýỳŷÿȳỹƴźżžẓ]+$/.test(this.value)}return aE}function V(aF){var aE=true;if(U(this,aF)){aE=/^[0-9]+$/.test(this.value)}return aE}function e(aF){var aE=true;if(U(this,aF)){aE=/^-?[0-9]+$/.test(this.value)}return aE}function T(aF){var aE=true;if(U(this,aF)){aE=/^-?([0-9]+(\.[0-9]+)?|\.[0-9]+)$/.test(this.value)}return aE}function G(aF){var aE=true;if(U(this,aF)){aE=/^[0-9A-Za-z]+$/.test(this.value)}return aE}function p(){var aG=[];for(var aF=0;aF<this.elements.length;aF++){var aE=this.elements[aF];if(!h.call(aE)){aG.push(aE)}}return aG}function z(aG){var aE=[];var aH=document.getElementById(aG.field1);var aF=document.getElementById(aG.field2);if(aH.value!=aF.value){aE=[aH,aF]}return aE}function h(){var aE=true;if(this.tagName){if(this.tagName.toLowerCase()==="select"){aE=R.call(this)}else{if(this.type.toLowerCase()==="checkbox"||this.type.toLowerCase()==="radio"){aE=ap.call(this)}else{if(this.tagName.toLowerCase()==="input"||this.tagName.toLowerCase()==="textarea"){if(this.type.toLowerCase()!="button"){aE=Z.call(this)}}}}}return aE}function n(aE){return(this.value.length>=aE.min&&this.value.length<=aE.max)}function an(aH){var aE=true;if(U(this,aH)){var aF=this.value.replace(/\s/g,"");var aG=aF.split(/\./);aE=false;if(aF.length>0){if(aG.length==1){aG[1]=""}if(aH.integer>0){aE=aG[0].length<=aH.integer}else{aE=true}if(aH.fraction>0){aE=aE&&aG[1].length<=aH.fraction}}}return aE}function C(aK){var aH={YMD:{Year:0,Month:1,Day:2},MDY:{Month:0,Day:1,Year:2},DMY:{Day:0,Month:1,Year:2}};var aF=aH[aK.format];var aJ=aK.separator;if(typeof aK.separator==="undefined"){aJ=/\//.test(this.value)?"/":/\./.test(this.value)?".":/ /.test(this.value)?" ":/[^0-9]+/}var aI=this.value.split(aJ);var aE=new Date(aI[aF.Year],aI[aF.Month]-1,aI[aF.Day]);var aG=new Date();if(typeof aK.date!=="undefined"){aI=aK.date.split(aJ);aG=new Date(aI[aF.Year],aI[aF.Month]-1,aI[aF.Day])}return{dateToValidate:aE,dateToTestAgainst:aG}}function ab(aG){var aE=true;if(U(this,aG)){var aF=C.call(this,aG);aE=(aF.dateToValidate<aF.dateToTestAgainst)}return aE}function y(aG){var aE=true;if(U(this,aG)){var aF=C.call(this,aG);aE=(aF.dateToValidate>aF.dateToTestAgainst)}return aE}function ay(aG,aH){var aE=0;for(var aF in aG){if(aG.hasOwnProperty(aF)&&aF!=="__size__"){aH.call(aG,aF,aG[aF],aE);aE++}}}function A(aH,aP,aG){var aN=aG.composingConstraints;var aK=[];for(var aI=0;aI<aN.length;aI++){var aL=aN[aI];var aO=aB[aL.constraintType];var aF={};for(var aJ in aL.params){if(aL.params.hasOwnProperty(aJ)&&aJ!="__size__"){au(aF,aJ,aL.params[aJ])}}if(aG.params.length>0){for(var aJ in aH){if(aH.hasOwnProperty(aJ)&&aJ!="__size__"){au(aF,aJ,aH[aJ])}}}var aE=ar(aP,this.id,aO,aF);if(!aE.constraintPassed){var aM=O(this.id,aO,aF);var aQ={group:aP,constraintName:aO,custom:c[aO].custom,compound:c[aO].compound,constraintParameters:aL.params,failingElements:aE.failingElements,message:aM};if(!aG.reportAsSingleViolation){aQ.composingConstraintViolations=aE.composingConstraintViolations||[]}aK.push(aQ)}}return aK}function N(aI,aF,aH){var aE={successful:true,message:"",data:null};if(aI.tagName.toLowerCase()=="form"&&!c[aF].formSpecific){aE={successful:false,message:ax(aI,aF,"@"+aF+" is not a form constraint, but you are trying to bind it to a form"),data:null}}else{if(aI.tagName.toLowerCase()!="form"&&c[aF].formSpecific){aE={successful:false,message:ax(aI,aF,"@"+aF+" is a form constraint, but you are trying to bind it to a non-form element"),data:null}}else{if((typeof aI.type==="undefined"||(aI.type.toLowerCase()!="checkbox"&&aI.type.toLowerCase()!="radio"))&&aF=="Checked"){aE={successful:false,message:ax(aI,aF,"@"+aF+" is only applicable to checkboxes and radio buttons. You are trying to bind it to an input element that is neither a checkbox nor a radio button."),data:null}}else{if(aI.tagName.toLowerCase()!="select"&&aF=="Selected"){aE={successful:false,message:ax(aI,aF,"@"+aF+" is only applicable to select boxes. You are trying to bind it to an input element that is not a select box."),data:null}}else{var aG=ac(aI,c[aF],aH);if(aG.error){aE={successful:false,message:aG.message,data:null}}else{aE.data=aH}}}}}return aE}function ac(aH,aJ,aI){var aE={error:false,message:""};if(aI.__size__<aJ.params.length){aE={error:true,message:ax(aH,aB[aJ.constraintType],"@"+aB[aJ.constraintType]+" expects at least "+aJ.params.length+" parameter(s). However, you have provided only "+aI.__size__),data:null}}var aF=[];for(var aG=0;aG<aJ.params.length;aG++){var aK=aJ.params[aG];if(typeof aI[aK]==="undefined"){aF.push(aK)}}if(aF.length>0){aE={error:true,message:ax(aH,aB[aJ.constraintType],"You seem to have provided some optional or required parameters for @"+aB[aJ.constraintType]+", but you are still missing the following "+aF.length+" required parameter(s): "+t(aF,", ")),data:null}}return aE}function a(aH,aF,aJ){var aG="";var aM=new RegExp("^"+u[W.Default]+"$|^"+u[W.Default]+",|,"+u[W.Default]+",|,"+u[W.Default]+"$");var aN={successful:true,message:"",data:null};if(!aJ.groups){au(aJ,"groups",u[W.Default])}aG=aJ.groups.replace(/\s/g,"");if(!aM.test(aG)){aG=u[W.Default]+","+aG;aJ.groups=aG}var aE=aG.split(/,/);for(var aI=0;aI<aE.length;aI++){var aL=aE[aI];if(!o[aL]){var aK=-1;if(I.length>0){aK=I.pop()}else{aK=r++}W[aL]=aK;u[aK]=aL;o[aL]={}}if(!o[aL][aH.id]){o[aL][aH.id]={}}o[aL][aH.id][aF]=aJ}}function aq(aH,aG){var aF=false;var aE=0;while(!aF&&aE<aH.length){aF=aG==aH[aE];aE++}return aF}function t(aH,aE){var aG="";for(var aF=0;aF<aH.length;aF++){aG+=aH[aF]+aE}return aG.replace(new RegExp(aE+"$"),"")}function au(aG,aE,aF){if(!aG.__size__){aG.__size__=0}if(!aG[aE]){aG.__size__++}aG[aE]=aF}function J(aF){for(var aE in aF){if(aF.hasOwnProperty(aE)){return false}}return true}function P(aE){var aG="Function received: {";for(var aF in aE){if(aE.hasOwnProperty(aF)){if(typeof aE[aF]=="string"){aG+=aF+": "+aE[aF]+", "}else{if(aE[aF] instanceof Array){aG+=aF+": ["+t(aE[aF],", ")+"], "}}}}aG=aG.replace(/, $/,"")+"}";return aG}function ax(aG,aE,aH){var aF="";if(aG!=null){aF=aG.id;if(aE==""||aE==null||aE==undefined){aF+=": "}else{aF+="."+aE+": "}}else{if(aE!=""&&aE!=null&&aE!=undefined){aF="@"+aE+": "}}return aF+aH}function ah(aG,aF){if(J(o[aF][aG])){delete o[aF][aG];if(J(o[aF])){delete o[aF];var aE=W[aF];delete W[aF];delete u[aE];I.push(aE)}}}function ag(aL,aN){var a6="";var aW=aG({str:a4(aN.replace(/\s*\n\s*/g,"")),delimiters:'@()[]=,"\\/-\\.',returnDelimiters:true,returnEmptyTokens:false});
return a2(aW);function a4(a7){return a7?a7.replace(/^\s+/,"").replace(/\s+$/,""):""}function a0(a7){return a7[0]}function aG(bf){var bb=bf.str;var bd=bf.delimiters.split("");var be=bf.returnDelimiters||false;var a8=bf.returnEmptyTokens||false;var bc=[];var ba=0;for(var a9=0;a9<bb.length;a9++){if(aq(bd,bb.charAt(a9))){var a7=bb.substring(ba,a9);if(a7.length==0){if(a8){bc.push(a7)}}else{bc.push(a7)}if(be){bc.push(bb.charAt(a9))}ba=a9+1}}if(ba<bb.length){var a7=bb.substring(ba,bb.length);if(a7.length==0){if(a8){bc.push(a7)}}else{bc.push(a7)}}return bc}function a2(a8){var a7={successful:true,message:"",data:null};while(a8.length>0&&a7.successful){a7=aF(a8)}return a7}function aF(a9){var a7={successful:true,message:"",data:null};var a8=a9.shift();if(a4(a8).length==0){a8=a9.shift()}if(a8=="@"){a7=aK(a9)}else{a7={successful:false,message:ax(aL,a6,"Invalid constraint. Constraint definitions need to start with '@'")+" "+a7.message,data:null}}return a7}function aK(a9){var a8={Between:"Range",Matches:"Pattern",Empty:"Blank",NotEmpty:"NotBlank",IsAlpha:"Alpha",IsNumeric:"Integer",IsAlphaNumeric:"AlphaNumeric",IsWord:"Word"};var a7=aX(a9);if(a7.successful){a6=a7.data;a6=a8[a6]?a8[a6]:a6;if(c[a6]){a7=aJ(a9);if(a7.successful){a7=N(aL,a6,a7.data);if(a7.successful){a(aL,a6,a7.data)}}}else{a7={successful:false,message:ax(aL,a6,"I cannot find the specified constraint name. If this is a custom constraint, you need to define it before you bind to it")+" "+a7.message,data:null}}}else{a7={successful:false,message:ax(aL,a6,"Invalid constraint name in constraint definition")+" "+a7.message,data:null}}return a7}function aX(ba){var a9=a4(ba.shift());var a7=aU(a9.charAt(0));if(a7.successful){var a8=1;while(a8<a9.length&&a7.successful){a7=a1(a9.charAt(a8));a8++}if(a7.successful){a7.data=a9}}else{a7={successful:false,message:ax(aL,a6,"Invalid starting character for constraint name. Can only include A-Z, a-z, and _")+" "+a7.message,data:null}}return a7}function aU(a8){var a7={successful:true,message:"",data:null};if(!/[A-Za-z_]/.test(a8)||typeof a8==="undefined"||a8==null){a7={successful:false,message:ax(aL,a6,"Invalid starting character"),data:null}}return a7}function a1(a8){var a7={successful:true,message:"",data:null};if(!/[0-9A-Za-z_]/.test(a8)){a7={successful:false,message:ax(aL,a6,"Invalid character in identifier. Can only include 0-9, A-Z, a-z, and _")+" "+a7.message,data:null}}return a7}function aJ(ba){var a7={successful:true,message:"",data:{}};if(a0(ba)=="("){ba.shift();var a9={};if(a0(ba)==")"){ba.shift()}else{a7=aQ(ba);if(a7.successful){au(a9,a7.data.name,a7.data.value);if(a4(a0(ba)).length==0){ba.shift()}while(ba.length>0&&a0(ba)==","&&a7.successful){ba.shift();a7=aQ(ba);if(a7.successful){au(a9,a7.data.name,a7.data.value);if(a4(a0(ba)).length==0){ba.shift()}}}if(a7.successful){var a8=ba.shift();if(a4(a8).length==0){a8=ba.shift()}if(a8!=")"){a7={successful:false,message:ax(aL,a6,"Cannot find matching closing ) in parameter list")+" "+a7.message,data:null}}else{a7.data=a9}}}else{a7={successful:false,message:ax(aL,a6,"Invalid parameter definition")+" "+a7.message,data:null}}}}else{if(a0(ba)!==undefined&&a0(ba)!="@"){a7={successful:false,message:ax(aL,a6,"Unexpected character '"+a0(ba)+"' after constraint definition")+" "+a7.message,data:null}}}return a7}function aQ(ba){var a7=aP(ba);if(a7.successful){var a8=a7.data;var a9=ba.shift();if(a9=="="){a7=aT(ba);if(a7.successful){a7.data={name:a8,value:a7.data}}else{a7={successful:false,message:ax(aL,a6,"Invalid parameter value")+" "+a7.message,data:null}}}else{ba.unshift(a9);a7={successful:false,message:ax(aL,a6,"'=' expected after parameter name "+a7.message),data:null}}}else{a7={successful:false,message:ax(aL,a6,"Invalid parameter name. You might have unmatched parentheses")+" "+a7.message,data:null}}return a7}function aP(ba){var a9=a4(ba.shift());if(a9.length==0){a9=ba.shift()}var a7={successful:false,message:ax(aL,a6,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _"),data:null};if(typeof a9!=="undefined"){a7=aU(a9.charAt(0));if(a7.successful){var a8=1;while(a8<a9.length&&a7.successful){a7=a1(a9.charAt(a8));a8++}if(a7.successful){a7.data=a9}}else{a7={successful:false,message:ax(aL,a6,"Invalid starting character for parameter name. Can only include A-Z, a-z, and _")+" "+a7.message,data:null}}}return a7}function aT(a9){if(a4(a0(a9)).length==0){a9.shift()}var a7={successful:true,message:"",data:[]};if(a0(a9)==")"){a7={successful:false,message:ax(aL,a6,"Parameter value expected")+" "+a7.message,data:null}}else{a7=aI(a9);var a8=a7.message;if(!a7.successful){a7=aS(a9);a7.message=a7.message+" "+a8;a8=a7.message;if(!a7.successful){a7=aM(a9);a7.message=a7.message+" "+a8;a8=a7.message;if(!a7.successful){a7=aZ(a9);a7.message=a7.message+" "+a8;a8=a7.message;if(!a7.successful){a7=aH(a9);a7.message=a7.message+" "+a8;a8=a7.message;if(!a7.successful){a7={successful:false,message:ax(aL,a6,"Parameter value must be a number, quoted string, regular expression, or a boolean")+" "+a8,data:null}}}}}}}return a7}function aI(a8){var a7=a3(a8);if(!a7.successful){a7=aV(a8);if(!a7.successful){a7={successful:false,message:ax(aL,a6,"Parameter value is not a number")+" "+a7.message,data:null}}}return a7}function a3(a9){var a8=a9.shift();var a7={successful:true,message:"",data:null};if(a8=="-"){a7=aV(a9);if(a7.successful){a7.data=a8+a7.data}}else{a9.unshift(a8);a7={successful:false,message:ax(aL,a6,"Not a negative number"),data:null}}return a7}function aV(a8){var a7=null;if(a0(a8)!="."){a7=a5(a8);if(a0(a8)=="."){var a9=a7.data;a7=aO(a8);if(a7.successful){a7.data=a9+a7.data}}}else{a7=aO(a8)}if(!a7.successful){a7={successful:false,message:ax(aL,a6,"Not a positive number")+" "+a7.message,data:null}}return a7}function aO(a9){var a8=a9.shift();var a7=a5(a9);if(a7.successful){a7.data=a8+a7.data}else{a7={successful:false,message:ax(aL,a6,"Not a valid fraction"),data:null}}return a7}function a5(ba){var a9=a4(ba.shift());var a7=aY(a9.charAt(0));if(a7.successful){var a8=1;while(a8<a9.length&&a7.successful){a7=aY(a9.charAt(a8));a8++}if(a7.successful){a7.data=a9}}else{ba.unshift(a9);a7={successful:false,message:ax(aL,a6,"Not a valid integer")+" "+a7.message,data:[]}}return a7}function aY(a8){var a7={successful:true,message:"",data:null};if(!/[0-9]/.test(a8)){a7={successful:false,message:ax(aL,a6,"Not a valid digit"),data:null}}return a7}function aS(bb){var a9=bb.shift();var ba="";var a7={successful:true,message:"",data:null};if(a9=='"'){var a8=false;while(bb.length>0&&a7.successful&&!a8){if(a0(bb)=='"'){a8=true;bb.shift()}else{a7=aE(bb);ba+=a7.data}}if(!a8){a7={successful:false,message:ax(aL,a6,"Unterminated string literal"),data:null}}}else{bb.unshift(a9);a7={successful:false,message:ax(aL,a6,"Invalid quoted string"),data:null}}a7.successful=a7.successful&&a8;a7.data=ba;return a7}function aE(a9){var a8="";var a7=a9.shift();if(a7=="\\"){a8=a9.shift()}return{successful:true,message:"",data:a7+a8}}function aM(bb){var ba="";var a9=bb.shift();var a7={successful:true,message:"",data:null};if(a9=="/"){ba=a9;var a8=false;while(bb.length>0&&a7.successful&&!a8){if(a0(bb)=="/"){ba+=bb.shift();a8=true}else{a7=aE(bb);ba+=a7.data}}if(!a8){a7={successful:false,message:ax(aL,a6,"Unterminated regex literal"),data:null}}}else{bb.unshift(a9);a7={successful:false,message:ax(aL,a6,"Not a regular expression"),data:null}}a7.successful=a7.successful&&a8;a7.data=ba;return a7}function aZ(a9){var a8=a9.shift();var a7={successful:true,message:"",data:null};if(a4(a8)=="true"||a4(a8)=="false"){a7={successful:true,message:"",data:!!(a8==="true")}}else{a9.unshift(a8);a7={successful:false,message:ax(aL,a6,"Not a boolean"),data:null}}return a7}function aH(ba){var a9="";var a8=ba.shift();var a7={successful:true,message:"",data:null};if(a8=="["){if(a4(a0(ba)).length==0){ba.shift()}if(a0(ba)=="]"){a7={successful:true,message:"",data:""}}else{a7=aR(ba)}if(a7.successful){a9=a7.data;if(a4(a0(ba)).length==0){ba.shift()}while(ba.length>0&&a0(ba)==","&&a7.successful){ba.shift();
a7=aR(ba);a9+=","+a7.data;if(a4(a0(ba)).length==0){ba.shift()}}a7.data=a9;a8=ba.shift();if(a4(a8).length==0){ba.shift()}if(a8!="]"){a7={successful:false,message:ax(aL,a6,"Cannot find matching closing ] in group definition")+" "+a7.message,data:null}}}else{a7={successful:false,message:ax(aL,a6,"Invalid group definition")+" "+a7.message,data:null}}}else{ba.unshift(a8);a7={successful:false,message:ax(aL,a6,"Not a valid group definition"),data:null}}return a7}function aR(ba){var a7={successful:true,message:"",data:""};var a9=a4(ba.shift());if(a9.length==0){a9=ba.shift()}a7=aU(a9.charAt(0));if(a7.successful){var a8=1;while(a8<a9.length&&a7.successful){a7=a1(a9.charAt(a8));a8++}if(a7.successful){a7.data=a9}}else{a7={successful:false,message:ax(aL,a6,"Invalid starting character for group name. Can only include A-Z, a-z, and _")+" "+a7.message,data:null}}return a7}}function v(aF){if(!aF){throw"regula.custom expects options"}var aE=aF.name;var aI=aF.formSpecific||false;var aH=aF.validator;var aJ=aF.params||[];var aG=aF.defaultMessage||"";if(!aE){throw"regula.custom expects a name attribute in the options argument"}else{if(typeof aE!="string"){throw"regula.custom expects the name attribute in the options argument to be a string"}else{if(aE.replace(/\s/g,"").length==0){throw"regula.custom cannot accept an empty string for the name attribute in the options argument"}}}if(typeof aI!="boolean"){throw"regula.custom expects the formSpecific attribute in the options argument to be a boolean"}if(!aH){throw"regula.custom expects a validator attribute in the options argument"}else{if(typeof aH!="function"){throw"regula.custom expects the validator attribute in the options argument to be a function"}}if(aJ.constructor.toString().indexOf("Array")<0){throw"regula.custom expects the params attribute in the options argument to be an array"}if(typeof aG!="string"){throw"regula.custom expects the defaultMessage attribute in the options argument to be a string"}if(c[aE]){throw"There is already a constraint called "+aE+". If you wish to override this constraint, use regula.override"}else{ai[aE]=K;aB[K++]=aE;c[aE]={formSpecific:aI,validator:aH,constraintType:ai[aE],custom:true,compound:false,params:aJ,defaultMessage:aG}}}function x(aF){if(!aF){throw"regula.compound expects options"}var aE=aF.name;var aK=aF.constraints||[];var aI=aF.formSpecific||false;var aG=aF.defaultMessage||"";var aJ=aF.params||[];var aH=typeof aF.reportAsSingleViolation==="undefined"?false:aF.reportAsSingleViolation;if(!aE){throw"regula.compound expects a name attribute in the options argument"}if(typeof aE!="string"){throw"regula.compound expects name to be a string parameter"}if(aJ.constructor.toString().indexOf("Array")<0){throw"regula.compound expects the params attribute in the options argument to be an array"}if(aK.length==0){throw"regula.compound expects an array of composing constraints under a constraints attribute in the options argument"}if(c[aE]){throw"regula.compound: There is already a constraint called "+aE+". If you wish to override this constraint, use regula.override"}f(aE,aK,aJ);ai[aE]=K;aB[K++]=aE;c[aE]={formSpecific:aI,constraintType:ai[aE],custom:true,compound:true,params:aJ,reportAsSingleViolation:aH,composingConstraints:aK,defaultMessage:aG,validator:A};k(aE,aK)}function k(aE,aJ){var aI=D.getNodeByType(ai[aE]);if(aI==null){D.addNode(ai[aE],null);aI=D.getNodeByType(ai[aE])}D.removeChildren(aI);for(var aG=0;aG<aJ.length;aG++){var aH=aB[aJ[aG].constraintType];var aF=c[aH];if(aF.compound){D.addNode(aF.constraintType,aI)}}}function f(aE,aI,aJ){var aO=[];for(var aL=0;aL<aI.length;aL++){if(typeof aI[aL].constraintType==="undefined"){throw"In compound constraint "+aE+": A composing constraint has no constraint type specified."}else{aO.push(c[aB[aI[aL].constraintType]])}}for(var aL=0;aL<aI.length;aL++){var aF=aI[aL];var aH=aB[aF.constraintType];var aN={__size__:0};aF.params=aF.params||{};for(var aM in aF.params){if(aF.params.hasOwnProperty(aM)){au(aN,aM,aF.params[aM])}}var aQ=0;for(var aG in aF.params){if(aF.params.hasOwnProperty(aG)){aQ++}}aF.params.__size__=aQ;for(var aK=0;aK<aJ.length;aK++){au(aN,aJ[aK],null)}var aP=ac(null,c[aH],aN);if(aP.error){throw"In compound constraint "+aE+": "+aP.message}}}function az(aN){if(!aN){throw"regula.override expects options"}if(typeof aN.constraintType==="undefined"){throw"regula.override expects a valid constraintType attribute in the options argument"}var aF=aB[aN.constraintType];if(typeof aF==="undefined"){throw"regula.override: I could not find the specified constraint. Perhaps it has not been defined? Function received: "+P(aN)}else{var aI=c[aF].formSpecific;if(c[aF].custom){aI=(typeof aN.formSpecific==="undefined")?c[aF].formSpecific:aN.formSpecific}var aE=c[aF].custom&&!c[aF].compound?aN.validator||c[aF].validator:c[aF].validator;var aG=c[aF].custom?aN.params||c[aF].params:c[aF].params;var aH=aN.defaultMessage||c[aF].defaultMessage;var aL=c[aF].compound;var aJ=aN.constraints||c[aF].constraints;if(typeof aI!="boolean"){throw"regula.override expects the formSpecific attribute in the options argument to be a boolean"}if(typeof aE!="function"){throw"regula.override expects the validator attribute in the options argument to be a function"}if(!(aG instanceof Array)){throw"regula.override expects the params attribute in the options argument to be an array"}if(typeof aH!="string"){throw"regula.override expects the defaultMessage attribute in the options argument to be a string"}if(aL){f(aF,aJ,aG);var aK=D.clone();k(aF,aJ);var aM=D.cycleExists(D.getNodeByType(aN.constraintType));if(aM.cycleExists){D.setRoot(aK);throw"regula.override: The overriding composing-constraints you have specified have created a cyclic composition: "+aM.path}}c[aF]={formSpecific:aI,constraintType:ai[aF],custom:true,compound:aL,params:aG,composingConstraints:aJ,defaultMessage:aH,validator:aE}}}function L(aF){if(typeof aF==="undefined"||!aF){af()}else{if(typeof aF.elementId==="undefined"&&typeof aF.elements==="undefined"){throw"regula.unbind requires an elementId attribute, or an elements attribute if options are provided"}if(typeof aF.elements!=="undefined"&&!(aF.elements instanceof Array)){throw"regula.unbind expects the elements attribute to be an array, if it is provided"}if(typeof aF.elements==="undefined"){aF.elements=[document.getElementById(aF.elementId)];if(aF.elements[0]===null){throw"Element with id "+aF.elementId+" does not have any constraints bound to it. "+P(aF)}}for(var aG=0;aG<aF.elements.length;aG++){var aK=aF.elements[aG].id;var aJ=aF.constraints||[];if(aJ.length==0){for(var aI in o){if(o.hasOwnProperty(aI)){if(typeof o[aI][aK]!=="undefined"){delete o[aI][aK];if(aI!=="Default"){ah(aK,aI)}}else{throw"Element with id "+aK+" does not have any constraints bound to it. "+P(aF)}}}}else{for(var aE=0;aE<aJ.length;aE++){var aH=aJ[aE];for(var aI in o){if(o.hasOwnProperty(aI)){if(typeof o[aI][aK]!=="undefined"){delete o[aI][aK][aB[aH]];if(aI!=="Default"){ah(aK,aI)}}else{throw"Element with id "+aK+" does not have any constraints bound to it. "+P(aF)}}}}}}}}function aj(aE){ay(aE,function(aG,aH,aF){if(typeof aa[aG]!=="undefined"){aa[aG]=aH}})}function av(aF){if(!o){af()}var aE={successful:true,message:"",data:null};if(typeof aF==="undefined"||!aF){af();aE=ae()}else{var aG=aF.elements;if(typeof aG==="undefined"||!aG){aE=aD(aF)}else{aE=X(aF,aG)}}if(!aE.successful){throw aE.message}}function X(aF,aH){var aE={successful:true};var aG=0;while(aE.successful&&aG<aH.length){aF.element=aH[aG];aE=aD(aF);if(!aE.successful){aE.message="regula.bind: Element "+(aG+1)+" of "+aH.length+" failed: "+aE.message}aG++}return aE}function ae(aI){var aJ;if(typeof aI==="undefined"){aJ=m(document.body,"*","data-constraints")}else{aJ=[aI]}var aF={successful:true,message:"",data:null};var aH=0;while(aH<aJ.length&&aF.successful){var aI=aJ[aH];var aG=aI.tagName.toLowerCase();if(aG!="form"&&aG!="select"&&aG!="textarea"&&aG!="input"){aF={successful:false,message:aG+"#"+aI.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements.",data:null}
}else{if(!aI.id){aI.id="regula-generated-"+Math.floor(Math.random()*1000000)}var aE=aI.getAttribute("data-constraints");aF=ag(aI,aE);aH++}}return aF}function aD(aF){var aE={successful:true,message:"",data:null};var aI=aF.element;var aJ=aF.constraints||[];var aH=(aI&&aI.tagName)?aI.tagName.toLowerCase():null;if(!aI){aE={successful:false,message:"regula.bind expects a non-null element attribute in the options argument. "+P(aF),data:null}}else{if(aI.nodeType!==1){aE={successful:false,message:"regula.bind: element attribute is expected to be an HTMLElement, but was of unexpected type: "+typeof aI+". "+P(aF),data:null}}else{if(aH!="form"&&aH!="select"&&aH!="textarea"&&aH!="input"){aE={successful:false,message:aH+"#"+aI.id+" is not an input, select, textarea, or form element! Validation constraints can only be attached to input, select, textarea, or form elements. "+P(aF),data:null}}else{if(aJ.length>0){var aG=0;while(aG<aJ.length&&aE.successful){aE=l(aJ[aG],aF);aG++}}else{aE=ae(aI)}}}}return aE}function l(aE,aS){function aL(aZ,aV){var aX={};var aY=[];for(var aW=0;aW<aZ.length;aW++){aY.push(aZ[aW]);aX[aZ[aW]]=true}for(var aU=0;aU<aV.length;aU++){if(!aX[aV[aU]]){aY.push(aV[aU])}}return aY}function aP(aU,aW){var aX=[];for(var aV=0;aV<aW.length;aV++){if(!aq(aU,aW[aV])){aX.push(aW[aV])}}return aX}function aN(aY,aX,aV){var a1=o[u[W.Default]][aY.id][aB[aX]]["groups"].split(/,/);var aU=[];if(aV.groups){aU=aV.groups.split(/,/)}else{aU.push(u[W.Default])}if(!aq(aU,u[W.Default])){aU.push(u[W.Default])}var a0=aP(aU,aL(a1,aU));for(var aW=0;aW<a0.length;aW++){var aZ=a0[aW];delete o[aZ][aY.id][aB[aX]];ah(aY.id,aZ)}}var aT={successful:true,message:"",data:null};var aK=aS.element;var aG=aE.overwriteConstraint||false;var aR=aE.overwriteParameters||false;var aQ=aE.constraintType;var aO=aE.params||{};var aM={__size__:0};if(typeof aQ==="undefined"){aT={successful:false,message:"regula.bind expects a valid constraint type for each constraint in constraints attribute of the options argument. "+P(aS),data:null}}else{if(aO&&aO.groups){if(aO.groups instanceof Array){var aI="";var aJ=0;while(aJ<aO.groups.length&&aT.successful){if(typeof aO.groups[aJ]=="string"){aI+=aO.groups[aJ]+","}else{if(typeof u[aO.groups[aJ]]!=="undefined"){aI+=u[aO.groups[aJ]]+","}else{aT={successful:false,message:"Invalid group: "+aO.groups[aJ]+". "+P(aS),data:null}}}aJ++}if(aT.successful){aI=aI.replace(/,$/,"");aO.groups=aI}}else{aT={successful:false,message:"The groups parameter must be an array of enums or strings "+P(aS),data:null}}}}if(aT.successful){if(!o[u[W.Default]][aK.id]||!o[u[W.Default]][aK.id][aB[aQ]]){for(var aH in aO){if(aO.hasOwnProperty(aH)){au(aM,aH,aO[aH])}}aT=N(aK,aB[aQ],aM)}else{if(aG){for(var aH in aO){if(aO.hasOwnProperty(aH)){au(aM,aH,aO[aH])}}aT=N(aK,aB[aQ],aM);if(aT.successful){aN(aK,aQ,aO)}}else{var aF=o[u[W.Default]][aK.id][aB[aQ]];for(var aH in aF){if(aF.hasOwnProperty(aH)){au(aM,aH,aF[aH])}}if(aR){for(var aH in aO){if(aO.hasOwnProperty(aH)){au(aM,aH,aO[aH])}}aT=N(aK,aB[aQ],aM);if(aT.successful){aN(aK,aQ,aM)}}else{for(var aH in aO){if(aO.hasOwnProperty(aH)){if(!aF[aH]){au(aM,aH,aO[aH])}}}}}}if(aT.successful){a(aK,aB[aQ],aM)}}return aT}function d(aF){var aE=null;if(typeof aF!=="undefined"&&typeof aF.groups!=="undefined"&&!(aF.groups instanceof Array)){throw"regula.validate: If a groups attribute is provided, it must be an array."}if(typeof aF!=="undefined"&&typeof aF.groups!=="undefined"&&aF.groups.length==0){throw"regula.validate: If a groups attribute is provided, it must not be empty."}if(typeof aF!=="undefined"&&aF.hasOwnProperty("constraintType")&&typeof aF.constraintType==="undefined"){throw"regula.validate: If a constraintType attribute is provided, it cannot be undefined."}if(typeof aF!=="undefined"&&typeof aF.elements!=="undefined"){if(aF.elements instanceof Array){if(aF.elements.length==0){throw"regula.validate: If an elements attribute is provided, it must not be empty."}var aH=aF.constraintType;var aI=aF.groups;aE=[];for(var aG=0;aG<aF.elements.length;aG++){aF.elementId=aF.elements[aG].id;aE=aE.concat(Y(aF));aF.constraintType=aH;aF.groups=aI}}else{throw"regula.validate: If an elements attribute is provided, it must be an array."}}else{aE=Y(aF)}return aE}function Y(aF){function aI(aL){var aJ=aL.groups||null;var aK=aL.elementId||null;var aN=(typeof aL.constraintType==="undefined"?null:aL.constraintType)||null;var aM="";aM+=(aJ==null)?"0":"1";aM+=(aK==null)?"0":"1";aM+=(aN==null)?"0":"1";return aM}var aH={"000":M,"001":F,"010":at,"011":E,"100":j,"101":g,"110":am,"111":S};i={};al={};if(!aF||typeof aF==="undefined"){aF={}}if(typeof aF.independent==="undefined"){aF.independent=true}if(typeof aF.constraintType!=="undefined"){aF.constraintType=aB[aF.constraintType]}if(aF.groups){var aE=aF.groups;aF.groups=[];for(var aG=0;aG<aE.length;aG++){aF.groups.push(u[aE[aG]])}}return aH[aI(aF)](aF)}function M(){var aH=[];for(var aK in o){if(o.hasOwnProperty(aK)){var aJ=o[aK];for(var aF in aJ){if(aJ.hasOwnProperty(aF)){if(!document.getElementById(aF)){delete aJ[aF]}else{var aE=aJ[aF];for(var aG in aE){if(aE.hasOwnProperty(aG)){var aI=aA(aK,aF,aG);if(aI){aH.push(aI)}}}}}}}}return aH}function F(aH){var aI=[];var aG=false;for(var aL in o){if(o.hasOwnProperty(aL)){var aK=o[aL];for(var aF in aK){if(aK.hasOwnProperty(aF)){var aE=aK[aF];if(aE[aH.constraintType]){aG=true;var aJ=aA(aL,aF,aH.constraintType);if(aJ){aI.push(aJ)}}}}}}if(!aG){throw"Constraint "+aH.constraintType+" has not been bound to any element. "+P(aH)}return aI}function at(aG){var aH=[];var aL=false;for(var aK in o){if(o.hasOwnProperty(aK)){var aJ=o[aK];if(aJ[aG.elementId]){aL=true;var aE=aJ[aG.elementId];for(var aF in aE){if(aE.hasOwnProperty(aF)){var aI=aA(aK,aG.elementId,aF);if(aI){aH.push(aI)}}}}}}if(!aL){throw"No constraints have been bound to element with id "+aG.elementId+". "+P(aG)}return aH}function E(aG){var aH=[];var aL=false;var aF=false;for(var aK in o){if(o.hasOwnProperty(aK)){var aJ=o[aK];var aE=aJ[aG.elementId];if(aE){aL=true;if(aE[aG.constraintType]){aF=true;var aI=aA(aK,aG.elementId,aG.constraintType);if(aI){aH.push(aI)}}}}}if(!aL||!aF){throw"No element with id "+aG.elementId+" was found with the constraint "+aG.constraintType+" bound to it. "+P(aG)}return aH}function j(aN){var aH=[];var aF=0;var aI=true;while(aF<aN.groups.length&&aI){var aK=aN.groups[aF];var aJ=o[aK];if(aJ){for(var aG in aJ){if(aJ.hasOwnProperty(aG)){var aE=aJ[aG];for(var aM in aE){if(aE.hasOwnProperty(aM)){var aL=aA(aK,aG,aM);if(aL){aH.push(aL)}}}}}}else{throw"Undefined group in group list. "+P(aN)}aF++;aI=(aH.length==0)||(aN.independent&&aH.length!=0)}return aH}function g(aN){var aH=[];var aF=0;var aI=true;while(aF<aN.groups.length&&aI){var aL=aN.groups[aF];var aK=o[aL];if(aK){var aJ=false;for(var aG in aK){if(aK.hasOwnProperty(aG)){var aE=aK[aG];if(aE[aN.constraintType]){aJ=true;var aM=aA(aL,aG,aN.constraintType);if(aM){aH.push(aM)}}}}if(!aJ){throw"Constraint "+aN.constraintType+" has not been bound to any element under group "+aL+". "+P(aN)}}else{throw"Undefined group in group list. "+P(aN)}aF++;aI=(aH.length==0)||(aN.independent&&aH.length!=0)}return aH}function am(aN){var aG=[];var aJ=[];var aF=0;var aH=true;while(aF<aN.groups.length&&aH){var aK=aN.groups[aF];var aI=o[aK];if(aI){var aE=aI[aN.elementId];if(aE){for(var aM in aE){if(aE.hasOwnProperty(aM)){var aL=aA(aK,aN.elementId,aM);if(aL){aG.push(aL)}}}}else{aJ.push(aK)}}else{throw"Undefined group in group list. "+P(aN)}aF++;aH=(aG.length==0)||(aN.independent&&aG.length!=0)}if(aJ.length>0){throw"No element with id "+aN.elementId+" was found in the following group(s): ["+t(aJ,",").replace(/,/g,", ")+"]. "+P(aN)}return aG}function S(aE){var aG=[];var aF=0;var aJ=true;while(aF<aE.groups.length&&aJ){var aI=aE.groups[aF];var aH=aA(aI,aE.elementId,aE.constraintType);if(aH){aG.push(aH)}aF++;aJ=(aG.length==0)||(aE.independent&&aG.length!=0)}return aG}function aA(aM,aJ,aO){var aN;var aL=o[aM];if(!aL){throw"Undefined group in group list (group: "+aM+", elementId: "+aJ+", constraint: "+aO+")"}var aG=aL[aJ];
if(!i[aJ]){i[aJ]={}}var aI=document.getElementById(aJ);var aE=aI.name.replace(/\s/g,"");if(typeof aI.type!=="undefined"&&aI.type.toLowerCase()==="radio"&&aE!==""){if(!al[aE]){al[aE]={}}}else{aE="__dontcare__";al[aE]={}}if(!i[aJ][aO]&&!al[aE][aO]){if(!aG){throw"No constraints have been defined for the element with id: "+aJ+" in group "+aM}else{var aH=aG[aO];if(!aH){throw aO+" in group "+aM+" hasn't been bound to the element with id "+aJ}else{var aF=ar(aM,aJ,aO,aH);if(!aF.constraintPassed){var aK=O(aJ,aO,aH);aN={group:aM,constraintName:aO,formSpecific:c[aO].formSpecific,custom:c[aO].custom,compound:c[aO].compound,composingConstraintViolations:aF.composingConstraintViolations||[],constraintParameters:aH,failingElements:aF.failingElements,message:aK}}}}}return aN}function ar(aM,aI,aN,aG){var aK=false;var aL=[];var aH=document.getElementById(aI);var aJ=[];if(c[aN].formSpecific){aL=c[aN].validator.call(aH,aG);aK=aL.length==0}else{if(c[aN].compound){aJ=c[aN].validator.call(aH,aG,aM,c[aN]);aK=aJ.length==0;if(!aK){aL.push(aH)}}else{aK=c[aN].validator.call(aH,aG);if(!aK){aL.push(aH)}}}i[aI][aN]=true;var aE=aH.name.replace(/\s/g,"");if(typeof aH.type!=="undefined"&&aH.type.toLowerCase()==="radio"&&aE!==""){al[aE][aN]=true;aL=m(document.body,"input","name",aE)}var aF={constraintPassed:aK,failingElements:aL};if(!c[aN].reportAsSingleViolation){aF.composingConstraintViolations=aJ}return aF}function O(aI,aN,aF){var aG=document.getElementById(aI);var aK="";if(aF.message){aK=aF.message}else{if(aF.msg){aK=aF.msg}else{aK=c[aN].defaultMessage}}for(var aE in aF){if(aF.hasOwnProperty(aE)){var aL=new RegExp("{"+aE+"}","g");aK=aK.replace(aL,aF[aE])}}if(c[aN].compound&&typeof c[aN].composingConstraints!=="undefined"){for(var aH=0;aH<c[aN].composingConstraints.length;aH++){var aJ=c[aN].composingConstraints[aH];for(var aE in aJ.params){if(aJ.params.hasOwnProperty(aE)){var aL=new RegExp("{"+aE+"}","g");aK=aK.replace(aL,aJ.params[aE])}}}}if(/{label}/.test(aK)){var aM=Q[aG.tagName.toLowerCase()];if(!aM){aM=Q[aG.type.toLowerCase()]}aK=aK.replace(/{label}/,aM);aK=aK.replace(/{flags}/g,"")}aK=aK.replace(/\\\"/g,'"');return aK}return{configure:aj,bind:av,unbind:L,validate:d,custom:v,compound:x,override:az,Constraint:ai,Group:W,DateFormat:ak}})();/*!
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());var MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");var DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat");function LZ(a){return(a<0||a>9?"":"0")+a}function isDate(c,b){var a=getDateFromFormat(c,b);if(a==0){return false}return true}function compareDates(e,f,c,d){var b=getDateFromFormat(e,f);var a=getDateFromFormat(c,d);if(b==0||a==0){return -1}else{if(b>a){return 1}}return 0}function formatDate(I,D){D=D+"";var l="";var v=0;var G="";var f="";var j=I.getYear()+"";var g=I.getMonth()+1;var F=I.getDate();var o=I.getDay();var n=I.getHours();var x=I.getMinutes();var q=I.getSeconds();var t,u,b,r,J,e,C,B,z,p,N,n,L,i,a,A;var w=new Object();if(j.length<4){j=""+(j-0+1900)}w.y=""+j;w.yyyy=j;w.yy=j.substring(2,4);w.M=g;w.MM=LZ(g);w.MMM=MONTH_NAMES[g-1];w.NNN=MONTH_NAMES[g+11];w.d=F;w.dd=LZ(F);w.E=DAY_NAMES[o+7];w.EE=DAY_NAMES[o];w.H=n;w.HH=LZ(n);if(n==0){w.h=12}else{if(n>12){w.h=n-12}else{w.h=n}}w.hh=LZ(w.h);if(n>11){w.K=n-12}else{w.K=n}w.k=n+1;w.KK=LZ(w.K);w.kk=LZ(w.k);if(n>11){w.a="PM"}else{w.a="AM"}w.m=x;w.mm=LZ(x);w.s=q;w.ss=LZ(q);while(v<D.length){G=D.charAt(v);f="";while((D.charAt(v)==G)&&(v<D.length)){f+=D.charAt(v++)}if(w[f]!=null){l=l+w[f]}else{l=l+f}}return l}function _isInteger(c){var b="1234567890";for(var a=0;a<c.length;a++){if(b.indexOf(c.charAt(a))==-1){return false}}return true}function _getInt(f,d,e,c){for(var a=c;a>=e;a--){var b=f.substring(d,d+a);if(b.length<e){return null}if(_isInteger(b)){return b}}return null}function getDateFromFormat(w,p){w=w+"";p=p+"";var v=0;var l=0;var r="";var f="";var u="";var h,g;var b=new Date();var j=b.getYear();var t=b.getMonth()+1;var s=1;var d=b.getHours();var q=b.getMinutes();var n=b.getSeconds();var k="";while(l<p.length){r=p.charAt(l);f="";while((p.charAt(l)==r)&&(l<p.length)){f+=p.charAt(l++)}if(f=="yyyy"||f=="yy"||f=="y"){if(f=="yyyy"){h=4;g=4}if(f=="yy"){h=2;g=2}if(f=="y"){h=2;g=4}j=_getInt(w,v,h,g);if(j==null){return 0}v+=j.length;if(j.length==2){if(j>70){j=1900+(j-0)}else{j=2000+(j-0)}}}else{if(f=="MMM"||f=="NNN"){t=0;for(var o=0;o<MONTH_NAMES.length;o++){var e=MONTH_NAMES[o];if(w.substring(v,v+e.length).toLowerCase()==e.toLowerCase()){if(f=="MMM"||(f=="NNN"&&o>11)){t=o+1;if(t>12){t-=12}v+=e.length;break}}}if((t<1)||(t>12)){return 0}}else{if(f=="EE"||f=="E"){for(var o=0;o<DAY_NAMES.length;o++){var m=DAY_NAMES[o];if(w.substring(v,v+m.length).toLowerCase()==m.toLowerCase()){v+=m.length;break}}}else{if(f=="MM"||f=="M"){t=_getInt(w,v,f.length,2);if(t==null||(t<1)||(t>12)){return 0}v+=t.length}else{if(f=="dd"||f=="d"){s=_getInt(w,v,f.length,2);if(s==null||(s<1)||(s>31)){return 0}v+=s.length}else{if(f=="hh"||f=="h"){d=_getInt(w,v,f.length,2);if(d==null||(d<1)||(d>12)){return 0}v+=d.length}else{if(f=="HH"||f=="H"){d=_getInt(w,v,f.length,2);if(d==null||(d<0)||(d>23)){return 0}v+=d.length}else{if(f=="KK"||f=="K"){d=_getInt(w,v,f.length,2);if(d==null||(d<0)||(d>11)){return 0}v+=d.length}else{if(f=="kk"||f=="k"){d=_getInt(w,v,f.length,2);if(d==null||(d<1)||(d>24)){return 0}v+=d.length;d--}else{if(f=="mm"||f=="m"){q=_getInt(w,v,f.length,2);if(q==null||(q<0)||(q>59)){return 0}v+=q.length}else{if(f=="ss"||f=="s"){n=_getInt(w,v,f.length,2);if(n==null||(n<0)||(n>59)){return 0}v+=n.length}else{if(f=="a"){if(w.substring(v,v+2).toLowerCase()=="am"){k="AM"}else{if(w.substring(v,v+2).toLowerCase()=="pm"){k="PM"}else{return 0}}v+=2}else{if(w.substring(v,v+f.length)!=f){return 0}else{v+=f.length}}}}}}}}}}}}}}if(v!=w.length){return 0}if(t==2){if(((j%4==0)&&(j%100!=0))||(j%400==0)){if(s>29){return 0}}else{if(s>28){return 0}}}if((t==4)||(t==6)||(t==9)||(t==11)){if(s>30){return 0}}if(d<12&&k=="PM"){d=d-0+12}else{if(d>11&&k=="AM"){d-=12}}var a=new Date(j,t-1,s,d,q,n);return a.getTime()}function parseDate(h){var f=(arguments.length==2)?arguments[1]:false;generalFormats=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d");monthFirst=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d");dateFirst=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M");var b=new Array("generalFormats",f?"dateFirst":"monthFirst",f?"monthFirst":"dateFirst");var g=null;for(var e=0;e<b.length;e++){var a=window[b[e]];for(var c=0;c<a.length;c++){g=getDateFromFormat(h,a[c]);if(g!=0){return new Date(g)}}}return null};function onTemplateLoaded(experienceID){var carousel=$("#"+experienceID).parent().attr("data-carousel-id");var slideNumber=$("#"+experienceID).parent().attr("data-slide-number");eval(carousel+".registerBCInstance(brightcove.getExperience(experienceID),"+slideNumber+");")}function carousel(e,b,k){var q;var p=0;var n=0;var v;var r=new Array();var a=new Array();var s=new Array();var w;var t;var u;var x=false;var g;var h;var l;var c;var o;var m=new Array();var e;var f="started";var j=null;var d;this.stopBCInstances=function(){for(i=0;i<s.length;i++){s[i]["modPly"].stop()}h.find(".hiddenVideo").css("visibility","hidden");h.find(".mediaLink").css("opacity","1")};this.registerBCInstance=function(A,y){var z=s.length;s[z]=new Array();s[z]["modExp"]=A.getModule(APIModules.EXPERIENCE);s[z]["modPly"]=A.getModule(APIModules.VIDEO_PLAYER);s[z]["playPause"]=s[z]["modExp"].getElementByID("playButton");s[z]["playPause"].addEventListener("elementClick",g.stopRotate);s[z]["slideNumber"]=y};this.css3TransitionComplete=function(z,y){r[z]["obj"].css("-webkit-transition","left 0.4s ease-out");r[z]["obj"].css("-moz-transition","left 0.4s ease-out");r[p]["obj"].css("-webkit-transition","left 0.4s ease-out");r[p]["obj"].css("-moz-transition","left 0.4s ease-out");r[z]["obj"].css("left","0px");r[p]["obj"].css("left",y);r[p]["obj"].find(".meta").css("opacity",0);p=Number(z);r[z]["obj"].find(".meta").css("-webkit-transition","opacity 0.4s ease-out 0.4s");r[z]["obj"].find(".meta").css("-moz-transition","opacity 0.4s ease-out 0.4s");r[z]["obj"].find(".meta").css("opacity",1);g.updateStatus();x=false;clearTimeout(d)};this.slideTransition=function(C,A){this.stopBCInstances();var B=400;var z;var y;if(C-p!=0){B=400/Math.abs(C-p)}if(C==0&&p==v-1){y=q;z=0-q;B=400}else{if(C==v-1&&p==0){y=0-q;z=q;B=400}else{if(C<p){y=0-q;z=q}else{if(C>p){y=q;z=0-q}}}}if(A=="next"||A=="prev"&&b.interact_transition_speed!=undefined){B=b.interact_transition_speed}if(b.transition_type=="fade"){if(!isiPad()){r[p]["obj"].animate({opacity:0.5},{duration:B,easing:"swing",complete:function(){$(this).hide()}});r[C]["obj"].show().animate({opacity:1},{duration:B,easing:"swing"})}else{r[p]["obj"].hide();r[C]["obj"].show()}p=Number(C);x=false}else{r[C]["obj"].css("left",y);r[p]["obj"].animate({left:z},{duration:B,easing:"swing"});r[p]["obj"].find(".meta").animate({opacity:0},{duration:100,easing:"swing"});p=Number(C);r[C]["obj"].animate({left:0},{duration:B,easing:"swing",complete:function(){$(this).data().updateStatus();x=false;r[p]["obj"].find(".meta").animate({opacity:1},{duration:10,easing:"swing"})}})}};this.updateStatus=function(){var y;for(i=0;i<=v;i++){if(i==p){h.find(".n"+i).addClass("active")}else{h.find(".n"+i).removeClass("active")}}if(b.gallery===false){h.find(".gNum").html((p+1)+" <span class='of'>of</span> "+v)}galleryScrollNew=c;if(p+1>b.galleryViewable){galleryScrollNew=((p+1)-b.galleryViewable)+1}else{if(p<b.galleryViewable){galleryScrollNew=0}}if(galleryScrollNew>o){galleryScrollNew=o}else{if(galleryScrollNew<0){galleryScrollNew=0}}var z=null;if(galleryScrollNew>c){z="next"}else{if(galleryScrollNew<c){z="prev"}}if(z!=null){c=galleryScrollNew;g.moveGalleryThumbs(c)}};this.stopRotate=function(y){f="stopped";clearInterval(w);clearTimeout(u);if(y===true&&l>0){u=setTimeout(this.startRotation,3000)}};this.startRotate=function(){clearInterval(w);clearTimeout(u);this.startRotation()};this.slideChange=function(y,z){if(x===false&&(y!="auto"||h.data("mouseInHouse")==false)){x=true;this.stopBCInstances();if(y!="auto"){g.stopRotate(true)}if(y=="prev"){if(p>0){z=p-1}else{z=v-1}}else{if(y=="next"||y=="auto"){if(p<v-1){z=p+1}else{z=0}}}g.slideTransition(z,y)}};this.pausePlay=function(){if(f=="stopped"){this.startRotate();h.find(".pause").find(".fIR").css("background-position","-19px 0")}else{this.stopRotate(false);h.find(".pause").find(".fIR").css("background-position","-19px -27px")}};this.startRotation=function(){f="started";w=setInterval(function(){g.slideChange("auto")},l);clearTimeout(t)};this.setUp=function(){if($("#"+e).length>0){g=this;var y="";l=b.hold;h=$("#"+e);h.data("mouseInHouse",false);v=h.attr("data-sc");if(b.prev_next!==false){y='<a class="left-button"><span class="arrow">&lt;</span></a><a class="right-button"><span class="arrow">&gt;</span></a>'}if(b.pips!==false){y+='<div class="pipBox">'}q=h.find(".slide:eq(0)").outerWidth();for(i=0;i<v;i++){r[i]=new Array();r[i]["obj"]=h.find(".slide:eq("+i+")");r[i]["obj"].data(this);r[i]["obj"].addClass("js");r[i]["obj"].attr("data-slide-number",i);h.find(".gNum").html("1 <span class='of'>of</span> "+v);h.find(".gNum").show();if(b.transition_type=="fade"){r[i]["obj"].css("left",0);if(!isiPad()){r[i]["obj"].css("opacity",0).hide()}else{r[i]["obj"].hide()}}else{left=0+q;r[i]["obj"].css("left",left)}if(b.pips!==false){y+='<span class="pip cN n'+i+'" data-sn="'+i+'"></span>'}r[i]["obj"].find(".meta").css("opacity",0)}if(b.controls_fade!==false){h.find(".arrow").css("opacity",0.5);h.mouseenter(function(){h.find(".arrow").animate({opacity:1},100)});h.mouseleave(function(){h.find(".arrow").animate({opacity:0.5},100)})}h.mouseInHouse=false;if(b.pips!==false){y+="</div>"}if(r[0]!=undefined){h.find(".carousel").css("height",r[0]["obj"].height());if(b.transition_type=="fade"){if(!isiPad()){r[0]["obj"].css("opacity",1).show()}else{r[0]["obj"].show()}}else{r[0]["obj"].css("left",0)}r[0]["obj"].find(".meta").animate({opacity:1},{duration:100,easing:"swing"});h.find(".controls").append(y);h.find(".n0").addClass("active");h.find(".cN").data(this);h.find(".cPB").data(this);h.find(".cNB").data(this);h.find(".right-button").data(this);h.find(".pause").data(this);h.find(".left-button").data(this);h.find(".mediaLink").data(this);h.find(".cN").click(function(){$(this).data().slideChange("jump",$(this).attr("data-sn"));return false});h.find(".cPB").click(function(){$(this).data().slideChange("prev");return false});h.find(".cNB").click(function(){$(this).data().slideChange("next");return false});if(h.touchwipe){h.touchwipe({wipeLeft:function(){h.find(".left-button").data().slideChange("next")},wipeRight:function(){h.find(".right-button").data().slideChange("prev")},min_move_x:20,min_move_y:20,preventDefaultEvents:true})}h.find(".right-button").click(function(){$(this).data().slideChange("next");return false});h.find(".left-button").click(function(){$(this).data().slideChange("prev");return false});h.find(".pause").click(function(){$(this).data().pausePlay();return false});h.find(".mediaLink").find(".video").mouseleave(function(){$(this).find(".fIR").css("background-position","center 0px")});h.find(".mediaLink").find(".video").mouseenter(function(){$(this).find(".fIR").css("background-position","center -82px")});h.mouseenter(function(){$(this).data("mouseInHouse",true)});h.mouseleave(function(){$(this).data("mouseInHouse",false)});h.find(".mediaLink").find(".video").click(function(z){if(x===false){z.stopPropagation();$(this).parent().data().stopRotate(false);$(this).parent().parent().find(".hiddenVideo").css("visibility","visible");$(this).parent().css("opacity","0.5");for(i=0;i<s.length;i++){if(s[i]["slideNumber"]==$(this).parent().parent().attr("data-slide-number")){s[i]["modPly"].play()}}}return false});if(l>0){t=setTimeout(g.startRotation,l)}if(b.gallery!==false){c=0;o=v-b.galleryViewable;for(i=0;i<v;i++){a[i]=h.find(".n"+i);a[i].css("left",i*(a[i].width()+1))}for(i=0;i<=o;i++){m[i]=0-(i*(a[0].width()+1));if(i==o&&q==936){m[i]+=115}else{if(i==o&&q==625){m[i]+=101}}}h.find(".cGNN").click(function(){if(c<o&&x===false){x=true;c++;g.moveGalleryThumbs(c)}return false});h.find(".cGNP").click(function(){if(c>0&&x===false){x=true;c--;g.moveGalleryThumbs(c)}return false})}}clearInterval(j)}};this.moveGalleryThumbs=function(y){h.find(".wrapper").animate({left:m[y]},"fast",function(){x=false})};this.init=function(){var y=this;j=setInterval(function(){y.setUp()},100)};this.init()};$.extend(Trd,{opt:{debug:true},flash:function(b,a){if(typeof a==="undefined"){a=""}jQuery(".user-interaction-modals").hide();jQuery(".flash").remove();jQuery("body").append('<div class="flash"></div>');jQuery(".flash").hide().html("<p><strong>"+b+"</strong>"+a+"</p>").slideDown(500).delay(3000).slideUp(500,function(){jQuery(".flash").remove()});return true},redirect:function(a){if(window.location.href!==window.location.origin+a){return window.location.href=a}Trd.log("Requested redirect path matches current path")},log:function(a){if(Trd.opt.debug===true&&window.console&&window.console.log){if(typeof a!=="string"){console.log("Trd: ");console.log(a)}else{console.log("Trd: "+a)}}}});Trd.Lang={"hours ago":"hrs ago",_MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"],_DAYS:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_MONTHS_SHORT:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_DAY_SUFFIXES:["","st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"]};Trd.Translate={translate:function(b){if(typeof Trd.Lang[b]!=="undefined"){var a=Trd.Lang[b];return a}else{return b}}};Trd.translate=Trd.Translate.translate;Trd.Template={init:function(){this.setupPlate();this.data={};this.data.siteConfig=Trd.siteConfig;this.init=function(){return false};return true},setupPlate:function(){$.getScript(STATIC_SERVER+"/js/libs/plate.js")},setTemplate:function(a){Trd.Template.template=new plate.Template(a);Trd.log(Trd.Template.template)},loadTemplateOld:function(a){var b=$.ajax({url:"/js/templates/"+a+".tpl.html",async:false}).responseText;Trd.log(b);Trd.Template.setTemplate(b)},loadTemplate:function(a){var b=$.ajax({url:"/js/templates/"+a+".tpl.html",type:"GET",dataType:"HTML",async:false,timeout:5000,cache:false});b.done(function(c){if(typeof c==="string"){Trd.Template.setTemplate(c)}return true});b.fail(function(c,d){})},setData:function(a){if(typeof Trd.Template.data=="undefined"){Trd.Template.data={}}$.extend(Trd.Template.data,a)},setDataFromUrl:function(a){$.ajax({url:a,dataType:"json",async:false}).done(function(b){Trd.Template.setData(b)})},renderTemplate:function(a,c){Trd.Template.html="";Trd.Template.rendered="";var b=$.extend({},this.data);Trd.Template.template.render(b,function(d,e){if(typeof d!=="undefined"){Trd.log(d)}Trd.Template.html=e;Trd.Template.rendered=$(e);$(a).html(Trd.Template.html);typeof c==="function"&&c()})}};Trd.Auth={defaults:{selectors:{click:{login:"a.login",logout:"a.logout",forgot:"a.forgotpassword",close:"a.close,button.cancel",profile:"a.profile",register:"a.register",loginLogout:"a.logoutlogin",loginRegister:"a.logoutregister",resendReactivation:"a.resend-key",reactivate:"a.reactivate",reactivateWithUsername:"a.reactivate-with-username"},form:{login:"#login-modal",register:"#join-modal",activate:"#login-activation-modal",forgot:"#forgotpassword-modal",profile:"#profile-modal",reactivate:"#login-reactivation-modal",reactivateWithUsername:"#username-reactivation-modal",resendReactivation:"#resend-reactivation-modal",passwordReset:"#password-reset-modal"}},debug:false,enabled:true},opt:{},init:function(a){$.getScript("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js");Trd.Template.init();Trd.Auth.opt=Trd.Auth.defaults;if(!jQuery.isEmptyObject(a)){Trd.Auth.opt=jQuery.extend({},Trd.Auth.defaults,a)}var b=Trd.Auth.isLoggedIn();if(b!==false){Trd.Auth.updateViewActive(b)}Trd.Auth.setupClickHandlers();Trd.Auth.setupFormHandlers()},enable:function(){Trd.Auth.opt.enabled=true;Trd.Auth.setupClickHandlers()},disable:function(){Trd.Auth.opt.enabled=false;Trd.Auth.setupClickHandlers()},setupClickHandlers:function(){for(var a in Trd.Auth.opt.selectors.click){$(document).off("click",Trd.Auth.opt.selectors.click[a])}if(!Trd.Auth.opt.enabled){for(var a in Trd.Auth.opt.selectors.click){jQuery(document).on("click",Trd.Auth.opt.selectors.click[a],function(b){b.preventDefault();Trd.redirect("/news/world-of-tech/techradar-site-announcement-1088018")})}return}jQuery(document).on("click",Trd.Auth.opt.selectors.click.login,function(b){b.preventDefault();Trd.Auth.Login.onLoginClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.register,function(b){b.preventDefault();Trd.Auth.Registration.onRegisterClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.forgot,function(b){b.preventDefault();Trd.Auth.Reactivation.onForgotClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.close,function(b){b.preventDefault();Trd.Auth.onCloseClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.profile,function(b){b.preventDefault();Trd.Auth.Profile.onProfileClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.logout,function(b){b.preventDefault();Trd.Auth.Login.onLogoutClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.loginLogout,function(b){b.preventDefault();Trd.Auth.Login.onLoginLogoutClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.loginRegister,function(b){b.preventDefault();Trd.Auth.Login.onLoginRegisterClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.register,function(b){b.preventDefault();Trd.Auth.Registration.onRegisterClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.resendReactivation,function(b){b.preventDefault();Trd.Auth.Reactivation.onResendReactivationClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.reactivate,function(b){b.preventDefault();Trd.Auth.Reactivation.onReactivationClick()});jQuery(document).on("click",Trd.Auth.opt.selectors.click.reactivateWithUsername,function(b){b.preventDefault();Trd.Auth.Reactivation.onReactivationWithUsernameClick()})},setupFormHandlers:function(){jQuery(Trd.Auth.opt.selectors.form.login).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Login.onLoginSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.register).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Registration.onRegisterSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.activate).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Activation.onActivateSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.forgot).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Reactivation.onForgetSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.profile).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Profile.onProfileSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.reactivate).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Reactivation.onReactivateSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.resendReactivation).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Reactivation.onResendReactivationSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.passwordReset).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Reactivation.onPasswordResetSubmit(this)}});jQuery(Trd.Auth.opt.selectors.form.reactivateWithUsername).find("form").live("submit",function(a){a.preventDefault();if(Trd.Auth.doValidation()){Trd.Auth.Reactivation.onReactivateWithUsernameSubmit(this)}})},doValidation:function(){Trd.Auth.hideErrors();var a=regula.validate();Trd.log(a);$.each(a,function(c,b){$(this.failingElements).addClass("error");$(this.failingElements).parent().append('<span class="error">'+this.message+"</span>")});if(a.length==0){return true}},resetModals:function(){jQuery(".user-interaction-modals").find("span.error").html("&nbsp;");jQuery(".user-interaction-modals").find("input").removeClass("error");jQuery(".user-interaction-modals").find("select").removeClass("error");jQuery(".user-interaction-modals").find("header > .message").html("");jQuery(".user-interaction-modals").hide()},openModal:function(a){Trd.log("open modal");jQuery("#"+a+" .modal-panel").css("top",parseInt(jQuery(window).scrollTop()+50,10)+"px");jQuery("#"+a).show();regula.bind()},updateLoginStatus:function(){var a=Trd.Auth.isLoggedIn();if(a!==false){Trd.log("Checking status: logged in");Trd.Auth.updateViewActive(a,false)}else{Trd.log("Checking status: logged out");Trd.Auth.updateViewInactive(a)}},updateViewActive:function(b,a){a=typeof a!=="undefined"?a:true;if(a){Trd.Auth.resetModals()}jQuery(".user-inactive").hide();if((typeof b.username=="string"||b.username instanceof String)&&b.username!=="null"&&b.username!=""){if(b.username.length>=33){jQuery(".username").text(b.username.substring(0,30)+"...")}else{jQuery(".username").text(b.username)}}else{jQuery(".username").text("logged in")}jQuery(".user-active").show().css("display","inline-block");if(jQuery("#article-comments > form").length>0){jQuery("#article-comments > form").removeAttr("disabled")}},updateViewInactive:function(a){jQuery(".user-inactive").show();jQuery(".username").text("");jQuery(".user-active").hide();if(jQuery("#article-comments > form").length>0){jQuery("#article-comments > form").attr("disabled","disabled")}},showErrors:function(b,a){if(a.message){jQuery("#"+b).find("header > .message").html(a.message).show()}if(a.errors){for(var c in a.errors){jQuery("#"+b).find("input#"+c).parent().append('<span class="error">'+a.errors[c]+"</span>");jQuery("#"+b).find("select#"+c).parent().append('<span class="error">'+a.errors[c]+"</span>");jQuery('<p class="error">'+a.errors[c]+"</p>").insertBefore("#"+b+" textarea#"+c);jQuery("#"+b).find("input#"+c).addClass("error");jQuery("#"+b).find("select#"+c).addClass("error");jQuery("#"+b).find("textarea#"+c).addClass("error")}}},hideErrors:function(){jQuery(".user-interaction-modals").find("header > .message").html("").hide();jQuery(".user-interaction-modals").find("span.error").remove();jQuery(".user-interaction-modals").find("input").removeClass("error");jQuery(".user-interaction-modals").find("select").removeClass("error");jQuery(".user-interaction-modals").find("header > .message").html("")},flash:function(b,a){if(typeof a==="undefined"){a=""}jQuery(".user-interaction-modals").hide();jQuery(".flash").remove();jQuery("body").append('<div class="flash"></div>');jQuery(".flash").hide().html("<p><strong>"+b+"</strong>"+a+"</p>").slideDown(500).delay(3000).slideUp(500,function(){jQuery(".flash").remove()});return true},isLoggedIn:function(){Trd.log("isLoggedIn() - checking for login");
var a=readCookie("auth");Trd.log(a);Trd.log("isLoggedIn() - contents of cookie");if(a!=null){return JSON.parse(decodeURIComponent(a))}return false},logout:function(c){var b=Trd.Auth.isLoggedIn();if(b===false){return Trd.flash("You are not signed in to TechRadar")}var a=jQuery.ajax({url:Trd.Auth.getUrl("logout"),type:"POST",dataType:"JSON",data:b,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){if(typeof d!=="object"){d=JSON.parse(d)}if(d.status=="LOGGED OUT"){eraseCookie("auth");Trd.Auth.updateViewInactive(d.data)}if(typeof c!=="undefined"&&c!=""){return Trd.flash(c)}return Trd.flash(d.message,d.message.body)});a.fail(function(d,e){return Trd.flash("Request failed: ",e)})},getUrl:function(b){var a=AUTH_SERVER+"/"+b;if(jQuery.browser.msie){a="/auth/"+b}return a},onCloseClick:function(){jQuery(".user-interaction-modals").hide()}};Trd.Auth.Reactivation={onReactivationClick:function(){if(Trd.Auth.isLoggedIn()){return Trd.flash({message:"You are already signed in to TechRadar"})}Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/reactivate");Trd.Template.renderTemplate("#dynamic-modal");$("#login-reactivation-modal p.regLinks").html("Please enter your activation code in the form below.");Trd.Auth.openModal("dynamic-modal")},onForgotClick:function(){if(Trd.Auth.isLoggedIn()){return Trd.flash("You are already signed in to TechRadar")}Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/forgot-password");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal")},onResendReactivationClick:function(){Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/resend-reactivation");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal")},onReactivationWithUsernameClick:function(){if(Trd.Auth.isLoggedIn()){return Trd.flash("You are already signed in to TechRadar")}Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/forgot-password-reactivate");Trd.Template.renderTemplate("#dynamic-modal");$("#username-reactivation-modal p.regLinks").html("Please enter your activation code in the form below.");Trd.Auth.openModal("dynamic-modal")},onReactivateSubmit:function(b){Trd.Auth.hideErrors();var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("reactivate"),type:"POST",dataType:"JSON",data:c,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){if(typeof d!=="object"){d=JSON.parse(d)}if(d.status=="NOPE"){Trd.Auth.showErrors("login-reactivation-modal",d)}if(d.status=="ERROR"){Trd.flash("Oops, ","Something has gone wrong, please try again");eraseCookie("auth");Trd.Auth.resetModals()}if(d.status=="NOT REQUUIRED"){createCookie("auth",JSON.stringify(d.data),365);Trd.flash("Your account appears to be reactivated already and you have been logged in.");Trd.Auth.updateViewActive(d.data);Trd.Auth.resetModals();return}if(d.status=="REACTIVATED"){Trd.flash("Reactivation code accepted");Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/password-reset");Trd.Template.renderTemplate("#dynamic-modal");return Trd.Auth.openModal("dynamic-modal")}})},onReactivateWithUsernameSubmit:function(b){Trd.Auth.hideErrors();var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("passwordForgotReactivation"),type:"POST",dataType:"JSON",data:c,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){if(typeof d==="undefined"){return false}if(typeof d!=="object"){d=JSON.parse(d)}if(d.status=="NOPE"){Trd.Auth.showErrors("username-reactivation-modal",d)}if(d.status=="FAIL"){Trd.Auth.showErrors("username-reactivation-modal",d)}if(d.status=="ERROR"){Trd.Auth.flash("Oops, ","Something has gone wrong, please try again");eraseCookie("auth");Trd.Auth.resetModals()}if(d.status=="REACTIVATED"){Trd.flash("Reactivation code accepted");Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/password-reset");Trd.Template.renderTemplate("#dynamic-modal");return Trd.Auth.openModal("dynamic-modal")}})},onPasswordResetSubmit:function(b){Trd.Auth.hideErrors();var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("password-reset"),type:"POST",dataType:"JSON",data:c,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){Trd.log("onPasswordResetSubmit, response");Trd.log(d);if(d.status=="FAIL"){return Trd.Auth.showErrors("password-reset-modal",d)}if(d.status=="ERROR"){return Trd.Auth.showErrors("password-reset-modal",d)}if(d.status=="PASSWORD RESET"){createCookie("auth",JSON.stringify(d.data),365);Trd.Auth.hideErrors();Trd.flash("Your password has been reset and you are now logged in.");Trd.Auth.updateViewActive(d.data);Trd.Auth.resetModals();return}});a.fail(function(){return Trd.flash("RESET","Something went wrong, please try again")})},onResendReactivationSubmit:function(b){Trd.Auth.hideErrors();var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("resend-reactivation"),type:"POST",dataType:"JSON",data:c,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){if(d.status=="FAIL"){return Trd.Auth.showErrors("resend-reactivation-modal",d)}if(d.status=="REACTIVATION REQUIRED"){Trd.flash("Your activation activation code has been sent");Trd.Auth.resetModals();createCookie("token",JSON.stringify(d.data),1);Trd.Template.loadTemplate("auth/reactivate");Trd.Template.renderTemplate("#dynamic-modal");$("#login-reactivation-modal p.regLinks").html("We have emailed you an activation code. Please check your inbox.");return Trd.Auth.openModal("dynamic-modal")}})},onForgetSubmit:function(b){if(Trd.Auth.isLoggedIn()){return Trd.flash("You are already signed in to TechRadar")}Trd.Auth.hideErrors();var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("reset"),type:"POST",dataType:"JSON",data:c,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){if(typeof d!=="object"){d=JSON.parse(d)}if(d.status=="REACTIVATION REQUIRED"){createCookie("token",JSON.stringify(d.data),1);Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/forgot-password-reactivate");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal");return}eraseCookie("auth");Trd.Auth.showErrors("forgotpassword-modal",d)});a.fail(function(d,e){Trd.Auth.showErrors("forgotpassword-modal",{message:"Request failed: "+e})})}};Trd.Auth.Activation={onActivateSubmit:function(b){Trd.Auth.hideErrors();var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("activate"),type:"POST",dataType:"JSON",data:c,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){if(typeof d!=="object"){d=JSON.parse(d)}if(d.status=="NOPE"){Trd.Auth.showErrors("login-activation-modal",d)}if(d.status=="ERROR"){Trd.flash("Oops, ","Something has gone wrong, please try again");eraseCookie("auth");Trd.Auth.resetModals()}if(d.status=="ACTIVATED"){createCookie("auth",JSON.stringify(d.data));Trd.Auth.resetModals();Trd.Auth.updateViewActive(d.data);return Trd.flash(d.message,d.message.body)}})}};Trd.Auth.Login={onLoginClick:function(){if(Trd.Auth.isLoggedIn()){return Trd.flash("You are already signed in to TechRadar")}Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/login");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal")},onLogoutClick:function(){var b=Trd.Auth.isLoggedIn();if(b===false){return Trd.flash("You are not signed in to TechRadar")}var a=$.ajax({url:Trd.Auth.getUrl("logout"),type:"POST",dataType:"JSON",data:b,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(c){if(typeof c!=="object"){c=JSON.parse(c)}if(c.status=="LOGGED OUT"){eraseCookie("auth");Trd.Auth.updateViewInactive(c.data);$("#user-review-form").addClass("disabled")}if(typeof msg!=="undefined"&&msg!=""){return Trd.flash(msg)}return Trd.flash(c.message,c.message.body)});a.fail(function(c,d){return Trd.flash("Request failed: "+d)})},onLoginLogoutClick:function(){var b=Trd.Auth.isLoggedIn();if(b===false){return Trd.Auth.onLoginClick()}var a=$.ajax({url:Trd.Auth.getUrl("logout"),type:"POST",dataType:"JSON",data:b,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(c){if(typeof c!=="object"){c=JSON.parse(c)}if(c.status=="LOGGED OUT"){eraseCookie("auth");Trd.Auth.updateViewInactive(c.data);$("#user-review-form").addClass("disabled")}return Trd.Auth.Login.onLoginClick()});a.fail(function(c,d){return Trd.flash("Request failed: "+d)})},onLoginRegisterClick:function(){var b=Trd.Auth.isLoggedIn();if(b===false){return Trd.Auth.Register.onRegisterClick()}var a=$.ajax({url:Trd.Auth.getUrl("logout"),type:"POST",dataType:"JSON",data:b,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(c){if(typeof c!=="object"){c=JSON.parse(c)}if(c.status=="LOGGED OUT"){eraseCookie("auth");Trd.Auth.updateViewInactive(c.data)}return Trd.Auth.Register.onRegisterClick()});a.fail(function(c,d){return Trd.flash("Request failed: "+d)})},onLoginSubmit:function(b){Trd.Auth.hideErrors();if(Trd.Auth.isLoggedIn()){}var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("login"),type:"POST",dataType:"JSON",data:c,cache:false,xhrFields:{withCredentials:true}});a.done(function(e){Trd.log(e);if(typeof e!=="object"){e=JSON.parse(e)}if(e.status=="FAIL"){Trd.Auth.showErrors("login-modal",e);return}if(e.status=="ACTIVATION REQUIRED"){Trd.Auth.flash("Account activation required");Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/activate");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal");return}if(e.status=="REACTIVATION REQUIRED"){Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/reactivate");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal");return}if(e.status=="REACTIVATED"||e.status=="PASSWORD UPDATE REQUIRED"){Trd.Auth.flash("Account reactivated");Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/password-reset");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal");return}if(e.status=="ACTIVE"||e.status=="LOGGED IN"){var d=null;if(jQuery(b).find("#remember:checked").val()==="y"){d=365}createCookie("auth",JSON.stringify(e.data),d);Trd.Auth.resetModals();Trd.Auth.updateViewActive(e.data);$("#user-review-form").removeClass("disabled");return Trd.flash(e.message,e.message.body)}eraseCookie("auth");Trd.Auth.showErrors("login-modal",e)});a.fail(function(d,e){Trd.Auth.showErrors("login-modal",{message:"Request failed: "+e})})},onLogoutSubmit:function(b){var c=Trd.Auth.isLoggedIn();if(c===false){return false}Trd.Auth.resetModals();var a=jQuery.ajax({url:Trd.Auth.getUrl("logout"),type:"POST",data:c,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(d){if(typeof d!=="object"){d=JSON.parse(d)}if(d.status=="LOGGED OUT"){eraseCookie("auth");Trd.Auth.resetModals();Trd.Auth.updateViewInactive(d.data)}return Trd.flash(d.message,d.message.body)});a.fail(function(d,e){return Trd.flash("Request failed: "+e)})},onLogoutRegisterClick:function(){var b=Trd.Auth.isLoggedIn();if(b===false){return false}Trd.Auth.resetModals();var a=jQuery.ajax({url:Trd.Auth.getUrl("logout"),type:"POST",data:b,timeout:5000,cache:false,xhrFields:{withCredentials:true}});a.done(function(c){if(typeof c!=="object"){c=JSON.parse(c)}if(c.status=="LOGGED OUT"){eraseCookie("auth");Trd.Auth.resetModals();Trd.Auth.updateViewInactive(c.data);Trd.Template.loadTemplate("auth/join");Trd.Template.renderTemplate("#dynamic-modal");return Trd.Auth.openModal("dynamic-modal")}return Trd.flash(c.message,c.message.body)});a.fail(function(c,d){return Trd.flash({message:"Request failed: "+d})})}};Trd.Auth.Profile={onProfileClick:function(){var b=Trd.Auth.isLoggedIn();if(b===false){Trd.Auth.resetModals();Trd.Auth.updateViewInactive();return Trd.flash("You are not signed in to TechRadar")}Trd.Auth.resetModals();var a=jQuery.ajax({url:Trd.Auth.getUrl("profile"),type:"POST",dataType:"JSON",data:b,timeout:8000,cache:false,xhrFields:{withCredentials:true}});a.done(function(c){if(typeof c!=="object"){c=JSON.parse(c)}if(c.status=="FAIL"){eraseCookie("auth");Trd.Auth.resetModals();Trd.Auth.updateViewInactive(c.data);return Trd.flash(c.message,c.message.body)}if(c.status=="ACTIVATION REQUIRED"){Trd.Auth.flash("Account activation required");Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/activate");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal");return}if(c.status=="SUCCESS"){createCookie("auth",JSON.stringify(c.data),365);Trd.Auth.resetModals();Trd.Template.loadTemplate("user/profile");Trd.Template.renderTemplate("#dynamic-modal");for(var d in c.data){if(d==="newsletters"&&c.data.newsletters!==false&&c.data.newsletters!==null){jQuery.each(c.data[d],function(e,f){if(jQuery("#profile-modal").find("input:checkbox#newsletter_"+f.newsletter_id).length>0){jQuery("#profile-modal").find("input:checkbox#newsletter_"+f.newsletter_id).prop("checked",true)}})}else{if(jQuery("#profile-modal").find("input:checkbox#"+d).length>0){if(c.data[d]==1){jQuery("#profile-modal").find("input:checkbox#"+d).prop("checked",true)}else{jQuery("#profile-modal").find("input:checkbox#"+d).prop("checked",false)}}else{if(jQuery("#profile-modal").find("input#"+d).length>0){jQuery("#profile-modal").find("input#"+d).val(c.data[d])}else{if(jQuery("#profile-modal").find("select#"+d).length>0){jQuery("#profile-modal").find("select#"+d).val(c.data[d])}else{if(jQuery("#profile-modal").find("textarea#"+d).length>0){jQuery("#profile-modal").find("textarea#"+d).val(c.data[d])}}}}}}Trd.Auth.openModal("dynamic-modal")}});a.fail(function(c,d){return Trd.flash("Request failed: "+d)})},onProfileSubmit:function(c){var a=Trd.Auth.isLoggedIn();if(a===false){return Trd.flash("You are not signed in to TechRadar")}var d=jQuery(c).serialize();Trd.Auth.hideErrors();var b=jQuery.ajax({url:Trd.Auth.getUrl("update"),type:"POST",dataType:"JSON",data:d,timeout:8000,cache:false,xhrFields:{withCredentials:true}});b.done(function(e){if(typeof e!=="object"){e=JSON.parse(e)}if(e.status=="UPDATED"){createCookie("auth",JSON.stringify(e.data),365);Trd.Auth.resetModals();return Trd.flash(e.message,e.message.body)}return Trd.Auth.showErrors("profile-modal",e)});b.fail(function(e,f){return Trd.Auth.showErrors("profile-modal",{message:"Sorry, request failed: "+f})})}};Trd.Auth.Registration={onRegisterClick:function(){if(Trd.Auth.isLoggedIn()){return Trd.flash("You are already signed in to TechRadar")}Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/join");Trd.Template.renderTemplate("#dynamic-modal");Trd.Auth.openModal("dynamic-modal")},onRegisterSubmit:function(b){if(Trd.Auth.isLoggedIn()){return Trd.flash("You are already signed in to TechRadar")}Trd.Auth.hideErrors();var c=jQuery(b).serialize();var a=jQuery.ajax({url:Trd.Auth.getUrl("register"),type:"POST",dataType:"JSON",data:c,cache:false,xhrFields:{withCredentials:true}});a.done(function(e){if(typeof e!=="object"){e=JSON.parse(e)}if(e.status=="FAIL"){return Trd.Auth.showErrors("join-modal",e)}if(e.status=="REGISTERED"){Trd.flash("Your activation code has been sent");Trd.Auth.resetModals();Trd.Template.loadTemplate("auth/activate");Trd.Template.renderTemplate("#dynamic-modal");$("#login-activation-modal p.regLinks").html("We have emailed you an activation code. Please check your inbox.");return Trd.Auth.openModal("dynamic-modal")}if(e.status=="ACTIVE"||e.status=="LOGGED IN"){createCookie("auth",JSON.stringify(e.data),365);Trd.Auth.resetModals();Trd.Auth.updateViewActive(e.data);return Trd.flash(e.message,e.message.body)}Trd.Auth.showErrors("join-modal",e)});try{Recaptcha.reload()}catch(d){}a.fail(function(e,f){Trd.Auth.showErrors("join-modal",{message:"Request failed: "+f})})}};Trd.Article={init:function(a){this.$pubDate=$(a);this.updatePubDateText()},getPubDate:function(){var a=this.$pubDate.attr("datetime");var b=new Date((a||"").replace(/-/g,"/").replace(/[TZ]/g," "));return b},computeArticleAge:function(){var a=new Date();this.pubDate=this.getPubDate();this.ageInMinutes=Math.floor((a-this.pubDate)/1000/60);this.ageInHours=Math.floor((a-this.pubDate)/1000/60/60);(this.pubDate.getFullYear()===a.getFullYear())?this.isSameYear=true:this.isSameYear=false;return this},updatePubDateText:function(){this.computeArticleAge();if(this.ageInHours>24){var a=Trd.translate("_MONTHS")[this.pubDate.getMonth()]+" ";a+=this.pubDate.getDate()+Trd.translate("_DAY_SUFFIXES")[this.pubDate.getDate()];if(!this.isSameYear){a+=" "+this.pubDate.getFullYear()}this.$pubDate.text(a)}else{if(this.ageInHours>1){this.$pubDate.text(this.ageInHours+" "+Trd.translate("hours ago"))}else{if(this.ageInHours>0){this.$pubDate.text(this.ageInHours+" "+Trd.translate("hour ago"))}else{this.$pubDate.text(this.ageInMinutes+" "+Trd.translate("minutes ago"))}}}}};Trd.Time={init:function(a){if(a instanceof jQuery){this.$timestamp=a}else{this.$timestamp=$(a)}this.updateTimestampText()},getTimestamp:function(){var a=this.$timestamp.attr("datetime");var b=new Date((a||"").replace(/-/g,"/").replace(/[TZ]/g," "));return b},computeTimestampDifferential:function(){var a=new Date();var b=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds());this.timestamp=this.getTimestamp();this.ageInMinutes=Math.floor((b-this.timestamp)/1000/60);this.ageInHours=Math.floor((b-this.timestamp)/1000/60/60);(this.timestamp.getFullYear()===b.getFullYear())?this.isSameYear=true:this.isSameYear=false;return this},updateTimestampText:function(){var b="";this.computeTimestampDifferential();if(this.ageInHours>24){var a=Trd.translate("_MONTHS")[this.timestamp.getMonth()]+" ";a+=this.timestamp.getDate()+Trd.translate("_DAY_SUFFIXES")[this.timestamp.getDate()];if(!this.isSameYear){a+=" "+this.timestamp.getFullYear()}b=a}else{if(this.ageInHours>1){b=this.ageInHours+Trd.translate("h ago")}else{if(this.ageInHours>0){b=this.ageInHours+Trd.translate("h ago")}else{b=this.ageInMinutes+Trd.translate("m ago")}}}$(this.$timestamp).html("&nbsp;"+b)},isValidLocale:function(a){if(!a){throw new Error("Trd.Time.isValidLocale ---> no locale provided")}return a==="GB"||a==="AU"||a==="US"}};Trd.Comments={requiredUserReviewFields:{score:{validation:new RegExp(/^([1-9]|10)$/),error_message:"Please provide a rating"},title:{validation:new RegExp(/[a-zA-Z0-9]{1,}?/),error_message:"Please give your review a headline"},body:{validation:new RegExp(/[a-zA-Z0-9]{1,}?/),error_message:"Please write your review"}},validateForm:function(c){var d,e=[],b=0;$("p.error").remove();for(d in c){if(c.hasOwnProperty(d)){if(!Trd.Comments.requiredUserReviewFields.hasOwnProperty(c[d]["name"])){continue}if(Trd.Comments.requiredUserReviewFields[c[d]["name"]]["validation"].test(c[d]["value"])){continue}var a=c[d]["name"];e.push({name:a,error_message:Trd.Comments.requiredUserReviewFields[c[d]["name"]]["error_message"]});b++}}if(0===b){return true}Trd.log(e);for(error in e){$('<p class="error">'+e[error]["error_message"]+"</p>").insertAfter('*[name="'+e[error]["name"]+'"]')}return false},init:function(){$("#article-comments").find("form textarea[name=body]").focus(function(){if($("#article-comments").find("form textarea[name=body]").val()=="Type your comment here."){$("#article-comments").find("form textarea[name=body]").val("")}});$("#article-comments").find("form textarea[name=body]").blur(function(){if($("#article-comments").find("form textarea[name=body]").val()==""){$("#article-comments").find("form textarea[name=body]").val("Type your comment here.")}});$("#article-comments").find("form").submit(function(a){a.preventDefault();Trd.Comments.onCommentsSubmit(this)});$("#user-review-form").submit(function(a){a.preventDefault();Trd.Comments.onUserReviewSubmit(this)});Trd.Comments.load();Trd.Comments.getUserReviewAverageData(Trd.siteConfig.article_id,function(a){Trd.Comments.renderUserReviewData(a)});if(Trd.Auth.isLoggedIn()){$("#user-review-form").removeClass("disabled")}},getCommentsTypeElem:function(){if($("#article-comments").length){return $("#article-comments")}if($("#article-user-reviews").length){return $("#article-user-reviews")}return false},commentHtml:function(c,a){var b=[];b.push('<article class="R clearfix" id="article-comment-'+a+'">');b.push('<div class="commenter clearfix"><strong class="name">'+c.username+"</strong><span></span>");b.push('<time datetime="'+c.create_date+'">'+fcsisSince(c.create_date)+"</time>");if(c.facebook_id!=0){b.push('<img src="https://graph.facebook.com/'+c.facebook_id+'/picture" alt="'+c.username+'">')}b.push("</div>");b.push('<div class="comment-count">'+(a)+"</div>");b.push('<div class="comment"><p>'+nl2br(c.body,false)+"</p></div>");b.push("</article>");return b.join("")},updateCounts:function(a){if(a<=0){a=0}if(a==1){$(".comments-total-text").html("1 comment")}else{$(".comments-total-text").html(a+" comments")}if(a!=0){$("section#article-comments > header").show()}},userReviewHTML:function(d,b){var a=d.create_date.split(" ");a=a.slice(0,4);a=a.join(" ");var c=[];c.push('<article class="single-user-review clearfix" id="article-comment-'+b+'">');c.push('<header class="single-user-review-header">');c.push('<p class="comment-meta"><strong>'+d.username+'</strong><br><time datetime="'+d.create_date+'">'+a+"</time></p>");c.push('<h2 class="txt18 user-review-title">'+d.title+"</h2>");c.push('<div class="user-rating big rating rated'+d.score+'"></div>');c.push("</header>");if(d.facebook_id!=0){c.push('<img src="https://graph.facebook.com/'+d.facebook_id+'/picture" alt="'+d.username+'">')}c.push('<div class="comment">');if(d.against){c.push('<p class="single-user-review-against"><strong>Against</strong><br>'+nl2br(d.against,false)+"</p>")}if(d.for_comment){c.push('<p class="single-user-review-for"><strong>For</strong><br>'+nl2br(d.for_comment,false)+"</p>")}c.push("<p>"+nl2br(d.body,false)+"</p>");c.push("</div>");c.push("</article>");return c.join("")},load:function(){var a=Trd.Comments.getCommentsTypeElem(),b;if(!a){return}switch(a.attr("id")){case"article-comments":default:b="get/";break;case"article-user-reviews":b="user-review/get/";break}var c=a.find("input[name=article_id]").val();var d=$.ajax({url:Trd.Comments.getUrl(b+c),type:"GET",dataType:"JSON",timeout:10000,cache:"true"});d.success(function(e){if(typeof e!=="object"){e=JSON.parse(e)}if(e.status==="SUCCESS"){var h=[];var f=e.comments.length;if(e.numFound===0){if(a.attr("id")==="article-user-reviews"){h="<p>No user reviews available for this product.</p><p>&nbsp;</p>"}}else{for(var g=0;g<e.comments.length;g++){var j=e.comments[g];if(a.attr("id")==="article-comments"){h.push(Trd.Comments.commentHtml(j,f))}else{if(a.attr("id")==="article-user-reviews"){h.push(Trd.Comments.userReviewHTML(j,f))}}f--}h=h.join("")}a.children(".comments").html(h);Trd.Comments.updateCounts(e.numFound)}});d.fail(function(){var e=$(".rating-user");e.addClass("not-yet-rated");$(".rating-msg",e).text("Not yet rated")})},isValidBody:function(a){return a&&a.length&&a!=="Type your comment here."&&a!=="Write your review..."},isRatingSubmitted:function(b){var a=$(b).find('select[name="score"]');return a&&a.length&&a.val()!=="-1"},onCommentsSubmit:function(b){$(b).find("textarea[name=body]").removeClass("error");$("p.error",$(b)).remove();var c=Trd.Auth.isLoggedIn();if(c===false){return Trd.flash("You are not signed in to TechRadar")}var h=$(b).find("textarea[name=body]").val();if(!h||0===h.length||h==="Type your comment here."){var e={errors:{body:"Please enter some text."}};return Trd.Auth.showErrors("article-comments",e)}var d=new Date();var g={username:c.username,facebook_id:c.facebook_id,create_date:d.toUTCString(),body:stripTags(h)};var a=$("#article-comments .comments article").length+1;$("#article-comments .comments").prepend(Trd.Comments.commentHtml(g,a));Trd.Comments.updateCounts(a);$("html,body").animate({scrollTop:$("#article-comments").offset().top});var f=$(b).serialize();var i=$.ajax({url:Trd.Comments.getUrl("add"),type:"POST",dtaType:"JSON",data:f,timeout:5000,cache:false,xhrFields:{withCredentials:true}});i.done(function(j){if(typeof j!=="object"){j=JSON.parse(j)}switch(j.status){case"AUTHFAIL":$("#article-comments .comments article:first").remove();Trd.Comments.updateCounts($("#article-comments .comments article").length-1);Trd.Auth.logout("Please sign in");$("html,body").animate({scrollTop:$("#article-comments form").offset().top});break;case"FAIL TO SOON":$("#article-comments .comments article:first").remove();Trd.Comments.updateCounts($("#article-comments .comments article").length-1);$("html,body").animate({scrollTop:$("#article-comments form").offset().top});break;case"FAIL MISSING":$("#article-comments .comments article:first").remove();Trd.Comments.updateCounts($("#article-comments .comments article").length-1);$("html,body").animate({scrollTop:$("#article-comments form").offset().top});break;default:$("#article-comments").find("form textarea[name=body]").val("Type your comment here.");break}return Trd.flash(j.message,j.message.body)});i.fail(function(j,k){})},getFieldValue:function(b,a){var c;if(!b){throw new Error("no fields array specified")}if(typeof b!=="object"){throw new Error("fields passed as "+(typeof b)+" instead of object")}for(field in b){if(b.hasOwnProperty(field)){if(b[field]["name"]===a){c=b[field]["value"];break}}}return c||false},onUserReviewSubmit:function(e){var b=$(e);var c=Trd.Auth.isLoggedIn();if(false===c){return Trd.flash("You are not signed in to TechRadar")}var a=b.serializeArray();if(!Trd.Comments.validateForm(a)){return}var f=b.serialize();var d=$.ajax({url:Trd.Comments.getUrl("user-review/add"),type:"POST",dtaType:"JSON",data:f,timeout:5000,cache:false,xhrFields:{withCredentials:true}});d.done(function(g){switch(g.status){case"AUTHFAIL":Trd.Auth.logout("Please sign in");$("html,body").animate({scrollTop:$("#user-review-form form").offset().top});break;case"FAIL TO SOON":$("html,body").animate({scrollTop:$("#user-review-form form").offset().top});break;case"FAIL MISSING":$("html,body").animate({scrollTop:$("#user-review-form").offset().top});break;default:$("#user-review-form").find("form textarea[name=body]").val("Type your comment here.");var h=new Date();
var l={username:c.username,facebook_id:c.facebook_id,create_date:h.toUTCString(),body:stripTags(Trd.Comments.getFieldValue(a,"body")),title:stripTags(Trd.Comments.getFieldValue(a,"title")),score:stripTags(Trd.Comments.getFieldValue(a,"score")),for_comment:stripTags(Trd.Comments.getFieldValue(a,"for_comment")),against:stripTags(Trd.Comments.getFieldValue(a,"against"))};var k=$("#article-user-reviews .comments article").length+1;$("#article-user-reviews .comments").prepend(Trd.Comments.userReviewHTML(l,k));Trd.Comments.updateCounts(k);$('input[name="score"]').val("-1");for(var j=1;j<=10;j++){$(".score-ui").removeClass("rated-"+j).removeClass("highlighted-"+j)}$('input[name="title"], textarea[name="for_comment"], textarea[name="against"], textarea[name="body"]',$("#user-review-form")).val("");break}return Trd.flash(g.message,g.message.body)})},getUrl:function(a){if($.browser.msie){return"/comments/"+a}return COMMENTS_SERVER+"/"+a},getUserReviewAverageData:function(b,a){var c=$.ajax({url:Trd.Comments.getUrl("user-review/get-average-score/"+b),type:"GET",dataType:"JSON",timeout:5000});c.done(function(d){if(a){a(d)}})},renderUserReviewData:function(b){if(!b){return}if(b.error==="not yet rated"){var a=$(".rating-user");a.addClass("not-yet-rated");$(".rating-msg",a).text("Not yet rated");return}$(".rating-user .rating").addClass("rated"+Math.round(b.average_score));b.average_score=Math.round(b.average_score/2);$(".rating-user .rating-value").text(b.average_score);$(".rating-user .hidden").removeClass("hidden");$(".rating-user-cta a").append(" ("+b.num_reviews+")");$(".rating-user-cta, .gigya-rate-and-review").append('<a href="'+$(".rating-user-cta a").attr("href")+'#user-review-form">Read '+b.num_reviews+" reviews</a>")}};Trd.Search={init:function(){Trd.log("Search init");$("body.search-results").prepend('<div id="dynamic-search-placeholder"></div>');$("#dynamic-search-placeholder").hide();$("body.search-results .content-filters a, body.search-results .active-filters .remove a, body.search-results .pagination ul li a, body.search-results #content header > h2.XL a, body.search-results #content a.suggested-term").click(function(a){a.stopPropagation();a.preventDefault();if($(a.target).hasClass("suggested-term")){searchTerm=a.target.href.split("searchTerm=")[1];$("#search-term-declaration").text("results for '"+searchTerm+"'")}Trd.Search.load(a.target)})},getUrl:function(){switch(Trd.Localise.getGeoLocation()){case"en-au":return"/au/data/search";case"en-us":return"/us/data/search";case"en-gb":default:return"/data/search"}},load:function(b){var c="?"+$(b).attr("href").toString().split("?")[1];var a=$.ajax({url:Trd.Search.getUrl()+c,type:"GET",dataType:"HTML",timeout:10000,cache:"true"});a.success(function(d){if(d.status="SUCCESS"){if($("#dynamic-search-placeholder").length<1){$("body.search-results").prepend('<div id="dynamic-search-placeholder"></div>');$("#dynamic-search-placeholder").hide()}$("#dynamic-search-placeholder").html(d);if($("#dynamic-search-no-results").length>0){if($(".flash").length>0){$(".flash").remove()}$("body").append('<div class="flash"></div>');$(".flash").hide().html("<p><strong>No results found.</strong> Please try using a broader search filter.</p>").slideDown(500).delay(3000).slideUp(500,function(){$(".flash").remove()})}else{if($("#dynamic-search-results-home").length>0){$("#dynamic-search-results-home time").each(function(){Trd.Time.init($(this))});$(".search-results #content header").remove();$(".search-results #content .search-results-list").remove();$(".search-results #content .pagination").remove();$(".search-results #content").prepend($("#dynamic-search-results-home").html())}else{if($(".search-results #content .search-results-list").length>1){$(".search-results #content header").remove();$(".search-results #content .search-results-list").remove();$(".search-results #content .pagination").remove();$(".search-results #content").prepend("<header></header><div class='search-results-list'></div><div class='pagination'></div>")}$("#dynamic-search-results time").each(function(){Trd.Time.init($(this))});$(".search-results #content header").replaceWith($("#dynamic-search-header").html());$(".search-results #content .search-results-list").replaceWith($("#dynamic-search-results").html());$(".search-results #content .pagination").replaceWith($("#dynamic-search-pagination").html())}$(".search-results #sidebar").html($("#dynamic-search-filters").html());$("body.search-results .content-filters a, body.search-results .active-filters .remove a, body.search-results .pagination ul li a, body.search-results #content header > h2.XL a, body.search-results #content a.suggested-term").click(function(f){f.stopPropagation();f.preventDefault();if($(f.target).hasClass("suggested-term")){searchTerm=f.target.href.split("searchTerm=")[1];$("#search-term-declaration").text("results for '"+searchTerm+"'")}Trd.Search.load(f.target)})}$("#dynamic-search-placeholder").empty()}});a.error(function(){})}};Trd.Localise={settings:{defaultLocale:"en-gb",linkEl:"#region-switcher a",headerLinkEl:"",cookieName:"trd_preferredLocale",cookieAgeDays:"365"},init:function(a){if(!window.location.origin){window.location.origin=window.location.protocol+"//"+window.location.host}var b=Trd.Localise.getPreferredLocale();Trd.log("currentLocale:");Trd.log(b);if(!b){b=Trd.Localise.getGeoLocation();if(!b){b=Trd.Localise.settings.defaultLocale}Trd.Localise.setPreferredLocale(b)}if(window.location.origin+"/"===window.location.href){switch(b){case"en-us":return Trd.redirect("/us");case"en-au":return Trd.redirect("/au");case"en-gb":default:}}if(window.location.origin+"/pro"===window.location.href){switch(b){case"en-us":return Trd.redirect("/us/pro");case"en-au":return Trd.redirect("/au/pro");case"en-gb":default:}}$(Trd.Localise.settings.linkEl).removeClass("active");$(Trd.Localise.settings.linkEl+"."+b).addClass("active");$("link[rel^=alternate]").each(function(e){var c=$(this).attr("hreflang");var d=Trd.Localise.getUrlWithQueryString($(this).attr("href"));var f=Trd.Localise.settings.linkEl+"."+c;$(f).data("locale",c);$(f).attr("href",d)});$(Trd.Localise.settings.linkEl).click(function(f){f.preventDefault();var c=$(this).data("locale");var d=$(this).attr("href");var g=Trd.Localise.getPreferredLocale();Trd.log(g);Trd.log("currentLocale ^");if(g!=c){Trd.log("setting preferred locale to "+c);Trd.Localise.setPreferredLocale(c);$(Trd.Localise.settings.linkEl).removeClass("active");$(Trd.Localise.settings.linkEl+"."+c).addClass("active")}if(window.location.path!=d){Trd.log("redirecting to "+d);Trd.redirect(d)}});Trd.Localise.selector.init()},getPreferredLocale:function(){var a=getCookie(Trd.Localise.settings.cookieName);if(typeof a!=="undefined"){return a}return false},setPreferredLocale:function(a){Trd.log("Setting preferred locale as: "+a);return setCookie(Trd.Localise.settings.cookieName,a,Trd.Localise.settings.cookieAgeDays)},getGeoLocation:function(){Trd.log("getGeoLocation");var a=$("body");if(a.hasClass("US")){return"en-us"}if(a.hasClass("AU")){return"en-au"}return"en-gb"},getTranslatedContentLocale:function(){var a=$("body");if(a.hasClass("lang-en-us")){return"en-us"}if(a.hasClass("lang-en-au")){return"en-au"}return"en-gb"},getUrlPath:function(a){return $("<a/>").attr("href",a)[0].pathname.replace(/^[^\/]/,"/")},getUrlWithQueryString:function(a){if(a.match(/\/\/[^\/]*(.*)/)!=null){Trd.log(a.match(/\/\/[^\/]*(.*)/)[1]);return a.match(/\/\/[^\/]*(.*)/)[1]}else{return"/"}},getLocalTimeAgo:function(g){var e=new Date(),g=new Date(g);Trd.log(e-g);return;var d=[],c=Math.floor((new Date().getTime()/1000))-g,f={" year":Math.floor(c/31556926%12)," week":Math.floor(c/604800%52)," day":Math.floor(c/86400%7)," hour":Math.floor(c/3600%24)," minute":Math.floor(c/60%60)," second":Math.floor(c%60)};for(var a in f){if(f.hasOwnProperty(a)){if(f[a]>1){d.push(f[a]+a+"s")}if(f[a]==1){d.push(f[a]+a)}}}if(d.length){d.splice(d.length-1,0,"and")}return d.join(" ")},selector:{$elem:$(".language-selector"),gb_url:null,us_url:null,au_url:null,isCurrentUrl:function(a){return a===window.location.href},fetchUrls:function(){var b=document.getElementsByTagName("link"),a,c={};for(a=0;a<b.length;a++){if(b[a].rel!=="alternate"){continue}if((!b[a].hreflang)||(b[a].hreflang!=="en-gb")&&(b[a].hreflang!=="en-us")&&(b[a].hreflang!=="en-au")){continue}if(Trd.Localise.getGeoLocation()==="en-us"){c[b[a].hreflang]={href:b[a].href,text:b[a].hreflang.substr(-2).toUpperCase()+" edition"}}else{c[b[a].hreflang]={href:b[a].href,text:b[a].hreflang.substr(-2).toUpperCase()}}}return c},buildList:function(d){var c,a="",b;for(c in d){a+="<li ";a+=' class="lang-option lang-'+c+" "+(Trd.Localise.selector.isCurrentUrl(d[c].href)?"current":"");a+='">';a+="<a ";a+=(!Trd.Localise.selector.isCurrentUrl(d[c].href)?'data-locale="'+c+'"':"");a+=(!Trd.Localise.selector.isCurrentUrl(d[c].href)?' href="'+d[c].href+'"':"")+">"+d[c].text+"</a>";a+="</li>"}b=document.createElement("ul");b.innerHTML=a;return b},init:function(){var b=Trd.Localise.selector.fetchUrls(),a;a=Trd.Localise.selector.buildList(b);Trd.Localise.selector.$elem.append(a);if(Trd.Localise.getGeoLocation()==="en-us"){$("header",Trd.Localise.selector.$elem).text(Trd.Localise.getTranslatedContentLocale().substr(-2).toUpperCase()+" edition")}else{$("header",Trd.Localise.selector.$elem).text(Trd.Localise.getTranslatedContentLocale().substr(-2))}Trd.Localise.selector.$elem.on("mouseenter",function(){$(this).addClass("active")});Trd.Localise.selector.$elem.on("mouseleave",function(){$(this).removeClass("active")});$("a",Trd.Localise.selector.$elem).on("click",function(c){var d=$(this);if(d.data("locale")){Trd.Localise.setPreferredLocale(d.data("locale"))}});Trd.Localise.selector.$elem.show()}}};Trd.Pro={};Trd.Pro.Tabs={settings:{trigger:".pro-tabs-trigger",container:".pro-tabs"},busy:false,activeTab:"latest",init:function(c){var a=this;var b=$(a.settings.container+" > .articles");$(a.settings.trigger).change(function(g){g.preventDefault();if(a.busy){return}var d=$(this).data("url");var f=$(this).attr("value");if(!f||f==a.activeTab){return false}a.activeTab=f;b.find("> div").removeClass("active").hide();$tab=b.find(" > ."+f);if($tab.length<=0){b.append('<div class="'+f+' active"><p>Please wait, loading</p></div>');$tab=b.find(" > ."+f);$tab.show();if(!d){$tab.html("<p>Oh dear, sorry, the content could not be found</p>");return false}return a.load($(this).data("url"),function(e){$tab.html(e)},function(){$tab.html("<p>Whoops, looks like something went wrong.</p>")})}$tab.addClass("active").show()})},load:function(c,e,a){this.busy=true;var b=this;var d=$.ajax({url:c,type:"GET",dataType:"HTML",timeout:2000,cache:"true"});d.success(function(f){b.busy=false;e(f)});d.error(function(){b.busy=false;a()})}};function updatePrices(){var b=false;b=$("article#main").data("product-id");if(!b){return false}var a=PRICEINFO_SERVER+"/priceinfo/"+b+"/"+GEO_LANGUAGE+"?callback=?";var d=$.getJSON(a,function(e){d.done(e)});d.done(function(f){if(typeof f!=="object"){f=JSON.parse(f)}if(!f){return false}var g=$("header.title>h1").text();if(!("count" in f)){return false}if(parseInt(f.count)==0){$(".shoppingLinks").remove();return false}$("#sidebar .launch-info").remove();if(typeof f.widget_html!=="undefined"){if(getPageType()!=="news"){buildSidebarWhistleOut(f)}return f}if(typeof f.offers!=="undefined"){if(getPageType()!=="news"&&getPageTab()!=="price-comparison"){if(f.aggregator&&f.aggregator==="Amazon"){buildSidebarAmazonBestPrice(f)}else{buildSidebarBestPrices(f,5,g)}}if(f.aggregator&&f.aggregator==="Amazon"){$("#main .reevoo-top-three-offers").remove()}else{if(GEO_L10N=="AU"){if(getPageTab()==="price-comparison"){}else{}}}return f}if(typeof f.deals!=="undefined"){if(f.deals.count==0){return}var e=sortDeals(f.deals);e.phoneBrand=f.deals[0].brand_name;e.phoneModel=f.deals[0].model_name;e.bestLink=f.deals[0].buy_link;if(typeof f.aggregatorLink!=="undefined"){e.phoneStoreLink=f.aggregatorLink;addPhonestoreLink(e.phoneStoreLink)}else{e.phoneStoreLink=""}buildCenterDeals(e,5);if(getPageType()!=="news"){}return f}});d.fail(function(e,f){});d.always(function(){});dellSku=$("a.dell_upsell").data("product-sku");if(typeof dellSku!=="undefined"){var a=PRICEINFO_SERVER+"/priceinfo/dell/"+dellSku+"/"+Trd.Localise.getGeoLocation()+"?callback=?";var c=$.getJSON(a,function(e){c.done(e)});c.done(function(e){if(typeof e!=="object"){e=JSON.parse(e)}if(!e){return false}updateDellPricesOnReview(e)})}}function buildSidebarWhistleOut(a){if($("#sidebar .shoppingLinks").length>0){$("#sidebar .shoppingLinks").remove()}if($("#sidebar div.whistleout").length==0){return}$("#sidebar div.whistleout").html(a.widget_html);showDeal=setInterval(function(){try{Trd.log("Showing deals...");_wo_Index=0;wo_LoadItem();$(".wo-smartwidget-wrap").css({margin:"20px 0 0",width:"328px"});clearInterval(showDeal)}catch(b){Trd.log("Failed to display deals. Trying again...")}},1000)}function buildSidebarAmazonBestPrice(d){if(!$("body").hasClass("lang-en-us")){return}var a=$("#sidebar .shoppingLinks");if(!d){return a.remove()}var c=d.offers[0];var b="<header><h2>"+c.title+"</h2></header>";if(c.list_price){b+='<p class="price-launch">Price at launch: <span class="price-value">'+c.list_price+"</span></p>"}if(c.price&&c.buy_url){b+='<p class="price-cta">Buy from <span>amazon.com</span> <a href="'+c.buy_url+'" target="_blank" class="buttony">'+priceinfoGetCurrencySymbol()+(c.price).toMoney()+"</a></p>"}a.html(b).addClass("amazon-price")}function onUpdatePricesLoad(){}function updateDellPricesOnReview(b){var a=lowestPrice=0;$.each(b,function(d,c){if((c.price<lowestPrice||lowestPrice==0)){lowestPrice=c.price;a=c}});bestOfferUpsell='<a href="';bestOfferUpsell+=a.url;bestOfferUpsell+='" class="dell_upsell clearfix" data-product-sku="';bestOfferUpsell+=dellSku;bestOfferUpsell+='"><p>BUY DIRECT from DELL</p><span class="buttony">';bestOfferUpsell+=priceinfoGetCurrencySymbol();bestOfferUpsell+=a.price;bestOfferUpsell+="</span></a>";$("#sidebar a.dell_upsell").replaceWith(bestOfferUpsell)}function sortDeals(b){var a={};a.payg=[];a.contract=[];$.each(b,function(d,c){if((c.monthly_cost=="0.00"||c.monthly_cost==null)&&(c.contract_length=="0"||c.contract_length==null)){a.payg.push(c)}else{a.contract.push(c)}});return(a)}function priceinfoGetCurrencySymbol(){switch(GEO_LANGUAGE){case"en-us":case"en-au":var a="$";break;case"en-gb":default:var a="£";break}return a}function buildSidebarDeals(a){if($(".handsOn").length!=0||$("body").hasClass("GB")){return false}var c=priceinfoGetCurrencySymbol();var f=$("#sidebar nav.best-deals");var d="";d+='<header class="dynamic">';d+='<h1 class="sidebar-header txt11">Best deal</h1>';d+="</header>";d+='<ul class="nav clearfix">';d+="<li>";d+='<a href="#deals-contract" style="display: none;">Pay monthly</a>';d+="</li>";d+="<li>";d+='<a href="#deals-payg" style="display: none;">PAYG</a>';d+="</li>";d+="</ul>";d+='<div id="deals-contract" class="tab" style="display: none;"></div>';d+='<div id="deals-payg" class="tab" style="display: none;"></div>';if(f.length==0){if(GEO_LANGUAGE=="en-au"){$('<nav class="best-deals tabs clearfix">'+d+"</nav>").insertAfter("#sidebar div.advertBlock:first")}else{$("#sidebar").prepend('<nav class="best-deals tabs clearfix">'+d+"</nav>")}var f=$("#sidebar nav.best-deals")}f.html(d);if(a.contract.length>0){var e=a.contract[0];var b="";b+='<img src="'+e.phone_image.replace("-small.jpg","-medium.jpg")+'" alt="'+e.brand_name+" "+e.model_name+'" class="product-image">';b+='<ul class="clearfix txt13">';b+="<li><strong>Tariff/offer:</strong>"+e.tariff+"</li>";b+="<li><strong>Mins/text:</strong>"+e.free_calls_label.replace("99999","Unlimited")+" mins";if(e.free_sms_label!==""){b+=", "+e.free_sms_label+" texts"}b+="</li>";if(~~e.handset_cost!=0){b+="<li><strong>Handset cost:</strong>"+c+parseFloat(e.handset_cost).toFixed(2)+"</li>"}if(~~e.contract_length!=0){b+="<li><strong>Contract length:</strong>"+e.contract_length+" months</li>"}if(~~e.monthly_cost!=0){b+="<li><strong>Monthly cost:</strong>"+c+parseFloat(e.monthly_cost).toFixed(2)+"</li>"}if(typeof e.network_name!=="undefined"&&e.network_name!==""){b+="<li><strong>Network:</strong> "+e.network_name+"</li>"}b+='<li><strong>Offered by:</strong><a class="retailer" rel="nofollow" target="_blank" href="'+e.buy_link+'">'+e.retailer_name+"</a></li>";b+="</ul>";b+='<a class="cta buttony green" href="'+e.buy_link+'">See deal</a>';$('a[href="#deals-contract"]',f).show();$("#deals-contract",f).html(b)}if(a.payg.length>0){var h=a.payg[0];var g="";g+='<img src="'+h.phone_image.replace("-small.jpg","-medium.jpg")+'" alt="'+h.brand_name+" "+h.model_name+'" class="product-image">';g+='<ul class="clearfix txt13">';g+="<li><strong>Tariff/offer:</strong>"+h.tariff+"</li>";if(~~h.handset_cost!=0){g+="<li><strong>Handset cost:</strong>"+c+h.handset_cost+"</li>"}g+="<li><strong>Network:</strong>"+h.network_name+"</li>";g+='<li><strong>Offered by:</strong><a class="retailer" rel="nofollow" target="_blank" href="'+h.buy_link+'">'+h.retailer_name+"</a></li>";g+="</ul>";g+='<a class="cta buttony green" href="'+h.buy_link+'">See deal</a>';$('a[href="#deals-payg"]',f).show();$("#deals-payg",f).html(g)}if(a.contract.length==0){$("#deals-payg",f).show();$('a[href="#deals-payg"]',f).addClass("active")}else{$("#deals-contract",f).show();$('a[href="#deals-contract"]',f).addClass("active")}f.siblings(".launch-info,.shoppingLinks").remove();$("#review-header-wrapper li.shopping a").text("Best Deals").attr("href",a.phoneStoreLink)}function buildCenterDeals(a,f){var e=priceinfoGetCurrencySymbol();var c=$("#main .best-deals");var d="";d+='<header class="dynamic">';if(a.phoneStoreLink.length>0){d+='<h2 class="XL">Best deals <a rel="nofollow" href="'+a.phoneStoreLink+'">'+a.phoneBrand+" "+a.phoneModel+"</a></h2>"}else{d+='<h2 class="XL">Best deals '+a.phoneBrand+" "+a.phoneModel+"</h2>"}d+="</header>";d+='<ul class="nav clearfix">';d+='<li><a href="#maindeals-contract" style="display: none;">Pay monthly</a></li>';d+='<li><a href="#maindeals-payg" style="display: none;">PAYG</a></li>';d+="</ul>";if(c.length==0){$('<nav class="best-deals tabs clear">'+d+"</nav>").insertAfter(".related-lists");$("div.price-comparison-tab article#main").append('<nav class="best-deals tabs clear">'+d+"</nav>");var c=$("#main .best-deals")}var g="";g+='<div id="maindeals-contract" class="tab" style="display: none; ">';g+='<table class="dealWrap R">';g+="<thead>";g+='<tr class="R">';g+="<th>Model,&nbsp;Tariff &amp; Offer</th>";g+="<th>Mins&nbsp;&amp; Texts</th>";g+="<th>Handset cost</th>";g+="<th>Contract length</th>";g+="<th>Monthly cost</th>";g+="<th>Available from</th>";g+="</tr>";g+="</thead>";g+="<tbody></tbody>";g+="</table>";if(a.phoneStoreLink.length>0){g+='<a rel="nofollow" target="_blank" class="buttony" href="'+a.phoneStoreLink+'">See all '+a.phoneBrand+" "+a.phoneModel+" deals</a>"
}g+="</div>";var b="";b+='<div id="maindeals-payg" class="tab" style="display: none; ">';b+='<table class="dealWrap R">';b+="<thead>";b+='<tr class="R">';b+="<th>Model</th>";b+="<th>Handset cost</th>";b+="<th>Network</th>";b+="<th>Available from</th>";b+="</tr>";b+="</thead>";b+="<tbody></tbody>";b+="</table>";if(a.phoneStoreLink.length>0){b+='<a rel="nofollow" target="_blank" class="buttony" href="'+a.phoneStoreLink+'">See all '+a.phoneBrand+" "+a.phoneModel+" deals</a>"}c.html(d);if(a.contract.length>0){c.append(g);$.each(a.contract,function(j,h){if(a.contract.length<=f||Trd.Localise.getGeoLocation()!="en-us"){var i=buildCentreBestDealsContractItem(h);$("#maindeals-contract table",c).append(i);$('a[href="#maindeals-contract"]',c).show()}if(a.contract.length>f&&Trd.Localise.getGeoLocation()=="en-us"&&(j<5||j==f-1)){var i=buildCentreBestDealsContractItem(h);$("#maindeals-contract table",c).append(i);$('a[href="#maindeals-contract"]',c).show()}if(j==f-1){return false}})}if(a.payg.length>0){c.append(b);$.each(a.payg,function(h,j){if(a.payg.length<=f||Trd.Localise.getGeoLocation()!="en-us"){var i=buildCentreBestDealsPAYGItem(j);$("#maindeals-payg table",c).append(i);$('a[href="#maindeals-payg"]',c).show()}if(a.payg.length>f&&Trd.Localise.getGeoLocation()=="en-us"&&(h<5||h==f-1)){var i=buildCentreBestDealsPAYGItem(j);$("#maindeals-payg table",c).append(i);$('a[href="#maindeals-payg"]',c).show()}if(h==f-1){return false}})}if(a.contract.length==0){$("#maindeals-payg",c).show();$('a[href="#maindeals-payg"]',c).addClass("active")}else{$("#maindeals-contract",c).show();$('a[href="#maindeals-contract"]',c).addClass("active")}c.siblings(".shoppingLinks").remove()}function buildCentreBestDealsPAYGItem(c){var a=priceinfoGetCurrencySymbol();var b="";b+="<tr>";b+="<td>";b+='<img src="'+c.phone_image+'" alt="'+c.brand_name+" "+c.model_name+'" title="'+c.brand_name+" "+c.model_name+'">';b+='<p class="handsetName">'+c.brand_name+" "+c.model_name+"</p>";if(~~c.tariff!=0){b+='<p class="handsetDeal">'+c.tariff+"</p>"}b+="</td>";b+="<td><p><strong>"+a+parseFloat(~~c.handset_cost).toFixed(2)+"</strong></p></td>";b+='<td><p><img src="'+c.network_image+'" alt="'+c.network_name+'" title="'+c.network_name+'"></p></td>';b+='<td class="retailer">';b+='<img src="'+c.retailer_image+'" alt="Buy from '+c.retailer_name+'" title="Buy from '+c.retailer_name+'">';b+='<a rel="nofollow" target="_blank" href="'+c.buy_link+'" title="More info" class="buttony R">More info</a>';b+="</td>";b+="</tr>";return b}function buildCentreBestDealsContractItem(b){var a=priceinfoGetCurrencySymbol();var c="";c+="<tr>";c+="<td>";c+='<img src="'+b.phone_image+'" alt="'+b.brand_name+" "+b.model_name+'" title="'+b.brand_name+" "+b.model_name+'">';c+='<p class="handsetName">'+b.brand_name+" "+b.model_name+"</p>";if(~~b.tariff!=0){c+='<p class="handsetDeal">'+b.tariff+"</p>"}c+="</td>";c+="<td>";c+="<p><strong>"+String(b.free_calls_label).replace("99999","Unlimited")+"</strong> free minutes</p>";if(~~b.free_sms_label!=0){c+="<p><strong>"+b.free_sms_label+"</strong> free texts</p>"}if(~~b.unlimited_internet!=0){c+='<p><strong class="internet">'+b.unlimited_internet+"</strong> internet usage</p>"}c+="</td>";c+="<td><p><strong>"+a+parseFloat(~~b.handset_cost).toFixed(2)+"</strong></p></td>";c+="<td>";c+="<p><strong>"+b.contract_length+"</strong> months</p>";c+='<img src="'+b.network_image+'" alt="'+b.network_name+'" title="'+b.network_name+'">';c+="</td>";c+="<td><p><strong>"+a+parseFloat(~~b.monthly_cost).toFixed(2)+"</strong></p></td>";c+='<td class="retailer">';if(b.retailer_image!=null){c+='<img src="'+b.retailer_image+'" alt="Buy from '+b.retailer_name+'" title="Buy from '+b.retailer_name+'">'}c+='<a rel="nofollow" target="_blank" href="'+b.buy_link+'" title="More info" class="buttony R">More info</a>';c+="</td>";c+="</tr>";return c}function buildCenterBestPrices(a,f,e){if($("#sidebar").children(".dell_upsell").length!=0){return false}var d=$("#content .shoppingLinks table");var c=priceinfoGetCurrencySymbol();Trd.log("currencySymbol: currencySymbol");if(d.length==0){var b="";b+='<div class="shoppingLinks clear" data-product-id="">';b+='<div class="reevoo-top-three-offers">';b+='<p><a rel="nofollow" href="price-comparison" class="reevoomark_prices" id="reevoomark_prices">Best Prices</a></p>';b+='<table class="reevoo-prices"></table>';b+="</div>";b+="</div>";$("article#main").append(b);d=$(".shoppingLinks table")}d.empty();d.append("<tbody></tbody>");$.each(a.offers,function(l,k){var j='rel="nofollow" href="'+k.url+'" class="buy_link" target="_blank" title="Go to '+k.retailer+'"';var i="";var h=false;if(k.voucher_code!==null&&~~k.original_price!=0){h=true}i+='<tr class="odd';if(h){i+=" with-voucher"}i+='">';i+='<td class="retailer"><a href="'+k.url+'">';if(k.retailerLogo.length>0){i+='<img class="affiliate_logo" src="'+k.retailerLogo+'" alt="'+k.retailer+'"/>'}else{i+='<span class="retailer-name">'+k.retailer+"<span>"}i+="</a></td>";if(~~k.price!=0){i+='<td class="price">'+c+parseFloat(k.price).toFixed(2);if(h==true){i+="<strike>"+c+parseFloat(k.original_price).toFixed(2)+"</strike>"}i+="</td>"}i+='<td class="buy_link"><a '+j+">Go</a>";if(h){i+='<div class="voucher-code">using voucher code&nbsp;<strong>'+k.voucher_code+"</strong></div>"}i+="</td></tr>";$("tbody",d).append(i);if(l===f-1){return false}});if(a.aggregatorLink!==undefined){var g="";g+='<tfoot><tr class="even">';g+='<td class="reevoo_link">';g+='<a rel="nofollow" href="'+a.aggregatorLink+'" class="reevoomark_prices" id="reevoomark_prices">Prices, delivery and availability at '+a.count+" retailers</a>";g+="</td>";g+='<td class="buy_link">';g+='<a rel="nofollow" href="'+a.aggregatorLink+'" class="buy_link reevoomark_prices" target="_blank" title="Compare prices and availability at '+a.count+' retailers retailers">Go</a>';g+="</td>";g+="</tr>";g+="</tfoot>";d.append(g)}$("#content .reevoo_link").attr("colspan",2)}function buildSidebarBestPrices(a,f,c){if(GEO_LANGUAGE!="AU"){return false}if($(".handsOn").length!=0){return false}var b=priceinfoGetCurrencySymbol();var d=$("#sidebar");if(d.children(".dell_upsell").length!=0){return false}d.children(".shoppingLinks").remove();var e="";offers=a.offers;if(typeof a.topOffers!=="undefined"&&a.topOffers.length>0){offers=a.topOffers}$.each(offers,function(k,j){var h="";var i=false;if(j.voucher_code!==null&&~~j.original_price!=0){i=true}h+='<tr class="odd';if(i){h+=" with-voucher"}h+='">';h+='<td class="retailer">';h+='<a rel="nofollow" href="'+j.url+'">';if(typeof j.retailerLogo!=="undefined"&&j.retailerLogo!==""){h+='<img alt="'+j.retailer+'" class="affiliate_logo" src="'+j.retailerLogo+'" title="'+j.retailer+'">'}else{h+=j.retailer}h+="</a>";h+="</td>";if(~~j.price!=0){h+='<td class="price">'+b+parseFloat(j.price).toFixed(2);if(i==true){h+="<strike>"+b+parseFloat(j.original_price).toFixed(2)+"</strike>";h+='<div class="voucher-code">using voucher code&nbsp;<strong>'+j.voucher_code+"</strong></div>"}h+="</td>"}h+='<td class="buy_link"><a rel="nofollow" href="'+j.url+'" class="buy_link" target="_blank" title="Go to '+j.retailer+'">Go</a></td>';h+="</tr>";e+=h;if(k===f-1){return false}});var g="";g+='<section class="shoppingLinks clear">';g+='<div class="reevoo-top-three-offers">';g+='<p><a rel="nofollow" href="price-comparison" class="reevoomark_prices" id="reevoomark_prices">Best Prices</a></p>';if(a.aggregator=="Reevoo"){g+='<script>typeof(ReevooMark) !== "undefined" && ReevooMark.init_price_links();<\/script>'}g+='<table class="reevoo-prices">';g+="<tfoot>";if(typeof a.aggregatorLink!=="undefined"){g+='<tr class="even">';g+='<td colspan="2" class="reevoo_link"><a rel="nofollow" href="'+a.aggregatorLink+'" class="reevoomark_prices" id="reevoomark_prices">Prices, delivery and availability at '+a.count+" retailers</a></td>";g+='<td class="buy_link"><a rel="nofollow" href="'+a.aggregatorLink+'" class="reevoomark_prices buy_link" target="_blank" title="Compare '+a.count+' retailers">Go</a></td>';g+="</tr>"}g+='<tr class="odd">';
g+='<td colspan="3" class="see-more-prices"><a rel="nofollow" href="price-comparison" class="reevoomark_prices" id="reevoomark_prices">See more prices <span class="see-more-arrow"></span></a></td>';g+="</tr>";g+="</tfoot>";g+="<tbody>";g+=e;g+="</tbody>";g+="</table>";g+="</div>";g+="</section>";if(d.children(".dell_upsell").length!=0){$(g).insertAfter(d.children(".dell_upsell"))}else{if(d.children(".medion_upsell").length!=0){$(g).insertAfter(d.children(".medion_upsell"))}else{if(GEO_LANGUAGE=="en-au"){$(g).insertAfter("#sidebar div.advertBlock:first")}else{d.prepend(g)}}}}function renderPriceInfoSidebar(a,b){Trd.Template.setData(a);Trd.Template.setData({currencySymbol:priceinfoGetCurrencySymbol(),articleName:b});Trd.Template.loadTemplate("panels/priceinfo/sidebar");Trd.Template.renderTemplate("#sidebar .shoppingLinks")}function addPhonestoreLink(a,c){if(!c){c=$("#productSummary")}var b="";b+='<span class="see-best-deals sprite-after"><a href="'+a+'">See best phone deals</a></span>';c.append(b)};$(document).ready(function(){if($("#youtubevideos").length>0){$("#youtubevideos").youTubeChannel({userName:hubYouTubeId,channel:"favorites",hideAuthor:false,numberToDisplay:4,linksInNewWindow:true})}if($(".countdown_doohicky.active").length>0){$(".countdown_doohicky.active").countdown({until:new Date(eventDeadline),format:"dHM"})}});(function(a,d){var b={debug:false};function c(f,e){this.busy=false;this.errors=0;this.button=this.$button=this.element=this.$element=this.url=null;this.element=f;this.$element=a(this.element);this.options=a.extend({},b,e);this.init()}c.prototype.init=function(){this.url=this.$element.data("url");if(typeof this.url==="undefined"){return}if(this.$element.find("article").length<=0){return}this.addButton();return};c.prototype.addButton=function(){this.$element.append('<button type="button" class="buttony loadmore only-js">Load more</button>');this.$button=this.$element.find("button.buttony");var e=this;this.$button.on("click",function(f){f.preventDefault();e.loadNext()})};c.prototype.moveButton=function(){this.$element.append(this.button)};c.prototype.removeButton=function(){this.$button.remove()};c.prototype.loadNext=function(){var f=this.getLastArticleDateTime();var e=this.getUrl({dateTo:f});this.search(e)};c.prototype.search=function(f){var e=this;a.ajax({type:"GET",url:f,async:true,cache:true,timeout:4000,success:function(g){return e.onLoadComplete(g)},error:function(){return e.onLoadError()}})};c.prototype.onLoadComplete=function(f){this.errorCount=0;this.$element.append(f);this.$element.find("article time").each(function(){Trd.Time.init(a(this))});if(f.length<=0){Trd.flash("All stories displayed");return this.removeButton()}var e=f.match(/<!--ENDPAGINATION-->/i);if(e==null){this.removeButton();this.addButton()}else{this.removeButton()}};c.prototype.onLoadError=function(e){this.$button.removeClass("loading");this.busy=false;this.errorCount++};c.prototype.getLastArticleDateTime=function(){var g=this.$element.find("article:last");var e=g.find("time").attr("dateTime");var f=new Date(e.replace(/-/g,"/").replace(/[TZ]/g," "));f.setSeconds(f.getSeconds()-1);return formatDate(f,"yyyy-MM-dd HH:mm:ss")};c.prototype.getUrl=function(g){var e=this.url;if(typeof g!=="undefined"){for(var f in g){if(e.indexOf(f)<0){e+="&"+f+"="+g[f]}else{e=e.replace("/"+f+"=([^&]*)&/",f+"="+f+"&")}}}return e};jQuery.fn.LoadMore=function(e){return this.each(function(){if(!a.data(this,"LoadMore")){a.data(this,"LoadMore",new c(this,e))}})}})(jQuery);var ns_scriptversion="132";function ns_14(){var a=navigator.appVersion;var b=parseInt(a.substring(a.indexOf("MSIE")+5,a.indexOf("MSIE")+6));if(b>0){a=0}else{a=parseInt(a)}return a}function ns_22(){var a=navigator.appVersion;var b=parseInt(a.substring(a.indexOf("MSIE")+5,a.indexOf("MSIE")+6));if(b>0){a=b}else{a=0}return a}function ns_pluginNetscape(){var b=navigator.plugins.length;var a="";if(b>0){a="&ns_java="+navigator.javaEnabled()+"&ns_plugins=";for(ns_24=0;ns_24<b;ns_24++){var c=false;for(ns_23=0;ns_23<ns_24;ns_23++){c=(navigator.plugins[ns_24].description==navigator.plugins[ns_23].description)}if(!c){a+=escape(navigator.plugins[ns_24].description+"|")}}}return a}function ns_10(){var a=navigator.mimeTypes;var b=a.length;if(b>0){ns_08="&ns_mimetypes=";for(ns_24=0;ns_24<b;ns_24++){ns_29=false;for(ns_23=0;ns_23<ns_24;ns_23++){if(a[ns_24].enabledPlugin==a[ns_23].enabledPlugin){ns_29=true}}if(!ns_29){ns_08+=escape(a[ns_24].description+"|")}}}return ns_08}function ns_12(){if(!document.body){document.write("<body>")}var c=document.body;var a=0;var b=1;ns_11=new Array("47F67D00-9E55-11D1-BAEF-00C04FC2D130","7790769C-0471-11D2-AF11-00C04FA35D02","283807B5-2C60-11D0-A31D-00AA00B92C03","9381D8F2-0288-11D0-9501-00AA00B911A5","5A8D6EE0-3E18-11D0-821E-444553540000","630B1DA0-B465-11D1-9948-00C04F98BBC9","45EA75A0-A269-11D1-B5BF-0000F8051515","76C19B50-F0C8-11CF-87CC-0020AFEECF20","D27CDB6E-AE6D-11CF-96B8-444553540000","2A202491-F00D-11CF-87CC-0020AFEECF20","08B0E5C0-4FCB-11CF-AAA5-00401C608500","3AF36230-A269-11D1-B5BF-0000F8051515","3BF42070-B3B1-11D1-B5C5-0000F8051515","90A7533D-88FE-11D0-9DBE-0000C0411FC3","10072CEC-8CC1-11D1-986E-00A0C955B42F","4F645220-306D-11D2-995D-00C04F98BBC9","1CDEE860-E95B-11CF-B1B0-00AA00BBAD66","73FA19D0-2D75-11D2-995D-00C04F98BBC9","23064720-C4F8-11D1-994D-00C04F98BBC9","22D6F312-B0F6-11D0-94AB-0080C74C7E95","CA8A9784-280D-11CF-A24D-444553540000","CA8A9780-280D-11CF-A24D-444553540000","B801CA65-A1FC-11D0-85AD-444553540000");c.addBehavior("#default#clientcaps");for(var d=0;d<ns_11.length;d++){if(ns_11[d]){if(c.isComponentInstalled("{"+ns_11[d]+"}","ComponentID")){a|=b}}b*=2}return a}function ns_26(d){var e="";for(var c=0;c<d.elements.length;c++){var a=d.elements[c];if(a.name){if(a.type=="select-multiple"){for(var b=0;b<a.options.length;b++){if(a.options[b].selected){e+=a.name+";"}}}else{if(a.type=="select-one"){e+=a.name+";"}else{if(a.type=="checkbox"||a.type=="radio"){if(a.checked){e+=a.name+";"}}else{e+=a.name+";"}}}}}return e.substring(0,e.lastIndexOf(";"))}function sitestatForm(d,e,c){if(c==null){c=ns_26(d)}if(ns_14()>=4||ns_22()>=4){var i=c.split(";");ns_07_length=i.length;e+="&ns_type=submit&ns__t="+parseInt((new Date()).getTime());for(var f=0;f<d.elements.length;f++){var b=d.elements[f];var a;ns_16=false;if(c){for(ns_t=0;ns_t<ns_07_length;ns_t++){if(b.name==i[ns_t]){ns_16=true}}}else{if(b.name){ns_16=true}}if(ns_16){if(b.type=="select-multiple"){for(var h=0;h<b.options.length;h++){if(b.options[h].selected){e=e+"&ns_f_"+escape(b.name)+"="+escape(b.options[h].value)}}}else{if(b.type=="select-one"){a=b.options[b.selectedIndex].value}else{if(b.type=="checkbox"||b.type=="radio"){if(!b.checked){continue}}a=b.value}e=e+"&ns_f_"+escape(b.name)+"="+escape(a)}}}d.onsubmit=null;var g=new Image();g.ns_30=d;g.onload=ns_1O;g.onerror=ns_1O;g.onabort=ns_1O;document.sitestatForm=d;g.timerID=setTimeout(ns_19,5000);g.src=e}}function ns_1O(){this.onload=null;this.onerror=null;this.onabort=null;clearTimeout(this.timerID);this.ns_30.submit()}function ns_19(){var a=document.sitestatForm;a.onload=null;a.onerror=null;a.onabort=null;a.submit()}function ns_25(){ns_pixelUrl+="&ns_type=hidden&ns_ver="+ns_scriptversion;if(ns_14()>=3){ns_pixelUrl+=ns_pluginNetscape();ns_pixelUrl+=ns_10()}if(ns_14()>=4||ns_22()>=4){var a=screen;if(parent.innerWidth){ns_pixelUrl+="&ns_innersize="+parent.innerWidth+"x"+parent.innerHeight+"&ns_offset="+parent.pageXOffset+"x"+parent.pageYOffset}ns_pixelUrl+="&ns_availscreen="+a.availWidth+"x"+a.availHeight;if(a){ns_pixelUrl+="&ns_screen="+a.width+"x"+a.height+"&ns_colordepth="+a.colorDepth}}if(document.images){ns_pixel=new Image();ns_pixel.src=ns_pixelUrl}}function ns_09(){if(typeof(ns_loadingtime2)!="undefined"){var b=(ns_loadingtime2-ns_loadingtime1)/1000;var a=((new Date()).getTime()-ns_loadingtime1)/1000;ns_pixelUrl+="&ns_html_loading_time="+b+"&ns_full_loading_time="+a;ns_25()}if(typeof(ns_05)!="undefined"){ns_06()}}document.cookie="ns_cookietest=true";if(document.cookie.indexOf("ns_cookietest",0)>=0){if(document.cookie.indexOf("ns_session",0)<0){document.cookie="ns_session=true";if(typeof(ns_pixelUrl)!="undefined"){if(ns_22()>=5&&navigator.appVersion.indexOf("Mac")<0){ns_pixelUrl+="&ns_p="+ns_12()}if(typeof(ns_loadingtime1)=="undefined"||ns_22()<4){ns_25()}else{if(document.body.onload){ns_05=1;ns_06=document.body.onload}document.body.onload=ns_09}}}}typeof ns_=="undefined"&&(ns_={}),typeof ns_.b=="undefined"&&(ns_.b={}),ns_.b.ie=eval("/*@cc_on!@*/false"),ns_.b.ie4=eval("/*@if (@_jscript_version<4) !@end@*/false"),ns_.b.ie7=ns_.b.ie&&/MSIE\s*([7-9]|[1-9]\d+)/i.test(navigator.userAgent)?!0:!1,ns_.b.wk=/WebKit/i.test(navigator.userAgent),typeof ns_.ar=="undefined"&&(ns_.ar={}),ns_.ar.is=function(b){return b.constructor==Array},ns_.ar.shift=function(f){if(ns_.ar.is(f)&&Array.prototype&&typeof Array.prototype.shift=="function"){return f.shift()}for(var e=0,h=f[0],g=f.length-1;e<g;e++){f[e]=f[e+1]}return f.length--,h},ns_.ar.join=function(h,g){if(typeof Array.prototype.join=="function"){return h.join(g)}var l="";g=g||",";for(var k=0,j=h.length,i;i=h[k];k++){l+=i+(k!=j-1?g:"")}return l},ns_.ar.indexOf=function(f,e){for(var h=0,g;g=f[h];h++){if(g==e){return h}}return -1},ns_.ar.bSearch=function(h,g){var l=h[0],k=h[1],j,i;while(l<=k){j=parseInt(l+(k-l)/2,10),i=g.call(this,j);if(i<0){l=j+1;continue}if(i>0){k=j-1;continue}return j}return -1},typeof ns_.dom=="undefined"&&(ns_.dom={}),ns_.dom.addEvent=window.addEventListener?function(e,d,f){e.addEventListener(d,f,!1)}:document.attachEvent?function(e,d,f){e.attachEvent("on"+d,f)}:function(f,e,h){var g=f["on"+e];f["on"+e]=function(b){typeof g=="function"&&g(b),h(b)}},ns_.tc=ns_.tc||{},function(){if(ns_.b.ie4){ns_.tc.isTCProfile=function(){return !1};return}var v="3.1204.04",u=null,t=(new Date).getTime(),s=/^[^\s\/]*\/\//,r={},q=0,p=window,o=document;ns_.tc.getPX=function(){if(!u){var b=p.ns_pixelUrl||(p.ns_p?p.ns_p.src:"?");if(b){var y=b.split("&"),x=[],w=["ns__t","ns_type","type"],k=function(f){var e=w.length;while(e--){if(f.indexOf(w[e]+"=")==0){if(w[e]=="ns__t"){var h=f.split("=");h.length>1&&/\d+/.test(h[1])&&(t=h[1])}return !0}}return !1},g=0,c=y.length;while(g<c){y[g]&&typeof y[g]=="string"&&(k(y[g])||(x[x.length]=y[g])),g++}u=x.join("&")}}return u},ns_.tc.getTime=function(){return ns_.tc.getPX(),t};var n=function(d){var c=o.createElement("a");return c.href=d,c.hostname};ns_.tc.referrerSameDomain=function(){return o.referrer&&n(o.referrer)==o.domain?!0:!1},ns_.tc.isTCProfile=function(){return ns_.tc.getPX()&&o.referrer&&!ns_.tc.referrerSameDomain()};var m=function(a){if(!a){return}var j=[];a.ns_type="hidden",a.ns__t=ns_.tc.getTime(),a.ns_tc_sv=v;for(var i in a){j[j.length]=i+"="+(a[i]!=null&&typeof a[i]!="undefined"?escape(a[i].toString()):"")}var h=new Image,g=ns_.tc.getPX()+(ns_.tc.getPX()[ns_.tc.getPX().length-1]!="&"?"&":"")+ns_.ar.join(j,"&");h.src=g},l=function(d){for(var c in d){r[c]=d[c]}q--,q==0&&m(r)};ns_.tc.collectUpon=function(e,d,f){q++,ns_.dom.addEvent(e,d,function(){l(f())})}}();ns_.tc.isTCProfile()&&!ns_.b.ie4&&function(){function l(){for(var b in n){m[b]||(n[b]="")}}function j(b,c){n[b]=(new Date).getTime()-(c||h),m[b]=1}var i=(new Date).getTime(),h=typeof window.ns_tc_time!="undefined"&&!isNaN(parseInt(window.ns_tc_time))?window.ns_tc_time:typeof window.ns_loadingtime1!="undefined"&&!isNaN(parseInt(window.ns_loadingtime1))?window.ns_loadingtime1:i,n={dom:0,page:0,script:0},m={},k=function(){var y=new Date,x=new Date(y.getFullYear(),0,1,0,0,0,0),w=new Date(y.getFullYear(),6,1,0,0,0,0),v=x.toGMTString(),u=new Date(v.substring(0,v.lastIndexOf(" ")-1)),v=w.toGMTString(),t=new Date(v.substring(0,v.lastIndexOf(" ")-1)),s=(x-u)/3600000,r=(w-t)/3600000,q;
if(s==r){q=0}else{var p=s-r;p>=0&&(s=r),q=1}var o=function(){var f=parseInt(s),e=f;s-=parseInt(s),s*=60;var z=parseInt(s);s-=parseInt(s),s*=60;var g=parseInt(s);return e=f<10&&f>0?"+0"+f:"+"+f,e=f==0?"0"+f:e,e=f<0&&f>-10?"-0"+Math.abs(f):e,z=z<10?"0"+z:z,e+":"+z}();return{zn:o,dst:q}}();(function(){if(document.addEventListener&&!ns_.b.wk){ns_.dom.addEvent(document,"DOMContentLoaded",function(){j("dom")})}else{if(ns_.b.wk){var a=setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(a),j("dom"))},5)}else{if(ns_.b.ie&&!ns_.b.ie4){document.write(unescape('%3Cscript id="ns_technical_script" defer src="javascript:void(0)"%3E%3C%2Fscript%3E'));var d=document.getElementById("ns_technical_script");d.onreadystatechange=function(){this.readyState=="complete"&&j("dom")}}}}})(),j("script",i),ns_.tc.collectUpon(window,"load",function(){j("page"),l();var d=[],c={ns_html_loading_time:n.dom,ns_full_loading_time:n.page,ns_script_time:n.script,ns_timezone:k.zn,ns_timedst:k.dst};return c})}();ns_.tc.isTCProfile()&&!ns_.b.ie4&&function(){var e=typeof document.charset!="undefined"?document.charset:typeof document.characterSet!="undefined"?document.characterSet:null,d=navigator.userAgent||"",f=function(){var g=Math.max(isNaN(parseInt(window.innerWidth))?0:parseInt(window.innerWidth),document.body&&!isNaN(parseInt(document.body.clientWidth))?parseInt(document.body.clientWidth):0),c=Math.max(isNaN(parseInt(window.innerHeight))?0:parseInt(window.innerHeight),document.body&&!isNaN(parseInt(document.body.clientHeight))?parseInt(document.body.clientHeight):0);return ns_.ar.join([g,c],"x")}();_sOut=function(){var b=[0,0];return screen&&(typeof screen.width!="undefined"&&(b[0]=screen.width),typeof screen.height!="undefined"&&(b[1]=screen.height)),ns_.ar.join(b,"x")}(),ns_.tc.collectUpon(window,"load",function(){return{ns_charset:e,ns_screen:_sOut,ns_innersize:f,ns_useragent:d}})}();ns_.tc.isTCProfile()&&!ns_.b.ie4&&function(){function getPluginstoDetect(){return ns_.b.ie&&window.ns_tc_ieplugins&&ns_.ar.is(window.ns_tc_ieplugins)?window.ns_tc_ieplugins:!ns_.b.ie&&window.ns_tc_navplugins&&ns_.ar.is(window.ns_tc_navplugins)?window.ns_tc_navplugins:window.ns_tc_plugins&&ns_.ar.is(window.ns_tc_plugins)?window.ns_tc_plugins:window.ns_&&window.ns_.tmc&&window.ns_.tmc.plugins&&ns_.ar.is(window.ns_.tmc.plugins)?window.ns_.tmc.plugins:_dPls}function addPlugins(a){for(var b=0,c;c=a[b];b++){ns_.ar.indexOf(getPluginstoDetect(),c.alias)!=-1&&(_pls[_pls.length]=c,c.init())}}function getPlugins(){var a=[];if(ns_.ar.is(_pls)&&_pls.length){for(var b=0,c;c=_pls[b];b++){if(c.detectable&&c.enabled){var d=c.getVer();a[a.length]=c.code+(d?":"+d:"")}}}return ns_.ar.join(a,"|")}var _dPls=["quicktime","realplayer","wmp","shockwave","flash","acrobatreader","silverlight","googlegears","vlc","java"],_pls=[],_mimeTypes=function(){var a={};for(var b=0;b<navigator.mimeTypes.length;b++){a[navigator.mimeTypes[b].type]?a[navigator.mimeTypes[b].type].push(navigator.mimeTypes[b]):a[navigator.mimeTypes[b].type]=[navigator.mimeTypes[b]]}return a}(),P=function(a,b,c,d,e){var f={detectable:null,getExt:null,getVer:null,enabled:null,aliases:[]};this.options={};if(e){for(var g in f){this.options[g]=typeof e[g]!="undefined"?e[g]:f[g]}}this.code=a,this.alias=b,this.aliases=[this.alias].concat(this.options.aliases),this.mimeTypes=c,this.actX=null,this.actXs=d||[],this.enabled=!0,this.activeX=null,this.navPl=null,this.navMime=null,this.mode=null,this.ver=""};P.hasActiveX=!!(ns_.b.ie&&!ns_.b.ie4&&window.ActiveXObject),P.M_EXT=1,P.M_ACTX=2,P.M_NAV=3,P.RV=/\d+\S*/,P.prototype.detectable=function(){return typeof this.options.detectable=="function"?!!this.options.detectable(this):!0},P.prototype.getVer=function(){var a=P.RV;if(!this.ver&&this.mode){var b="";return this.options&&typeof this.options.getVer=="function"&&(b=this.options.getVer(this)||""),!b&&this.mode==P.M_NAV?typeof this.navPl.version=="string"&&a.test(this.navPl.version)?b=a.exec(this.navPl.version).toString():typeof this.navPl.description=="string"&&a.test(this.navPl.description)?b=a.exec(this.navPl.description).toString():typeof this.navPl.name=="string"&&a.test(this.navPl.name)&&(b=a.exec(this.navPl.name).toString()):!b&&this.activeX&&(b="x.x"),this.ver=a.test(b)?a.exec(b).toString():"x.x",this.ver}return this.ver},P.prototype.getActiveX=function(){if(P.hasActiveX){var activeX=null,actXs=this.actXs;if(!this.activeX){var arr=[].concat(actXs),progId,activeX=null;while((progId=ns_.ar.shift(arr))&&!activeX){activeX=eval("try{new ActiveXObject('"+progId+"')}catch(e){false;}"),activeX&&(this.actX=progId)}return activeX}}return this.activeX},P.prototype.getNavMime=function(){if(!this.navMime&&!ns_.b.ie&&window.navigator&&window.navigator.mimeTypes){for(var a=0,b;b=this.mimeTypes[a];a++){if(_mimeTypes[b]){for(var c=0,d;d=_mimeTypes[b][c];c++){if(d.enabledPlugin){if(typeof d.enabledPlugin["description"]=="string"&&this.hasAlias(d.enabledPlugin.description)){return d}if(typeof d.enabledPlugin["name"]=="string"&&this.hasAlias(d.enabledPlugin.name)){return d}}}}}}return this.navMime},P.prototype.getNavPl=function(){return !this.navPl&&this.navMime&&this.navMime.enabledPlugin?this.navMime.enabledPlugin?this.navMime.enabledPlugin:null:this.navPl},P.prototype.hasAlias=function(a){a=a.toLowerCase();for(var b=0,c;c=this.aliases[b];b++){if(a.indexOf(c)!=-1){return !0}}return !1},P.prototype.init=function(){if(this.detectable()){var a=null;if(typeof this.options.getExt=="function"&&(this.extension=this.options.getExt(this))){this.mode=P.M_EXT}else{if(this.navMime=this.getNavMime()){if(this.navPl=this.getNavPl()){this.mode=P.M_NAV}}else{if(this.activeX=this.getActiveX()){this.mode=P.M_ACTX}}}if(this.mode&&this.options&&typeof this.options.enabled=="function"){var b=this.options.enabled(this);typeof b=="boolean"&&(this.enabled=b)}}},function setPlugins(){var plQT=new P(0,"quicktime",["video/quicktime"],["QuickTime.QuickTime"]),plRP=new P(1,"realplayer",["audio/x-pn-realaudio-plugin"],["rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer"],{getVer:function(ref){return P.hasActiveX?eval("try{ref.activeX.GetVersionInfo();}catch(e){null;}"):null}}),plWM=new P(2,"wmp",["application/x-ms-wmp"],["WMPlayer.OCX","MediaPlayer.MediaPlayer.1"],{detectable:/Firefox\/1/i.test(navigator.userAgent),getVer:function(ref){return P.hasActiveX?eval("try{ref.activeX.versionInfo;}catch(e){null;}"):null}}),plSk=new P(3,"shockwave",["application/x-director"],["SWCtl.SWCtl"],{getVer:function(ref){var v=null;if(ref.mode==P.M_ACTX){var activeX=ref.activeX;if(activeX){var s=eval("try{!!(typeof(activeX.ShockwaveVersion) != 'undefined')}catch(e){false;}");if(s&&ns_.b.ie&&!ns_.b.ie4&&!!window.ActiveXObject){return eval("try{activeX.ShockwaveVersion('');}catch(e){null;}")}}}return null}}),plFl=new P(4,"flash",["application/x-shockwave-flash"],["ShockwaveFlash.ShockwaveFlash"],{getVer:function(ref){var v=null,activeX=null;if(P.hasActiveX){var id=ref.actXs[0];for(var i=10;i>0;i--){activeX=eval("try{new ActiveXObject('"+ref.actXs[0]+"."+i+"')}catch(e){null}");if(activeX){v=i;break}}v>=7&&(v=eval("try{activeX.GetVariable('$version')}catch(e){v}"))}return v}}),plAR=new P(5,"acrobatreader",["application/pdf"],["PDF.PdfCtrl","AcroPDF.PDF"],{getVer:function(ref){return P.hasActiveX&&ref.mode==P.M_ACTX&&ref.activeX?eval("try{ref.activeX.GetVersions().split(',')[0]}catch(e){null}"):null},aliases:["acrobat"]}),plSL=new P(6,"silverlight",["application/x-silverlight"],["AgControl.AgControl"],{getVer:function(ref){var v=null;if(P.hasActiveX&&ref.mode==P.M_ACTX&&ref.activeX&&ns_.b.ie){var s=eval("try{!!(ref.activeX['isVersionSupported'] != 'undefined')}catch(e){false}"),vp=function(rg,prefix,postfix){typeof prefix=="undefined"&&(prefix=""),typeof postfix=="undefined"&&(postfix="");var b,i=0;return ns_.ar.bSearch.call(this,rg,function(a){var rst,ver=prefix+a+postfix;return eval("try {!!(ref.activeX.isVersionSupported(ver));}catch(e){false;}")?(b=a,rst=-1):rst=1,rst
}),b},ma=vp.call(this,[0,10],null,".0"),mi,bld,rev;if(typeof ma=="number"){v=ma,mi=vp.call(this,[0,10],v+".");if(typeof mi=="number"){v=ma+"."+mi,bld=vp.call(this,[0,10000000],v+".");if(typeof bld=="number"){v=ma+"."+mi+"."+bld;var rev=vp.call(this,[0,100],v+".");typeof rev=="number"&&(v=ma+"."+mi+"."+bld+"."+rev)}}}}return v}}),plGG=new P(7,"googlegears",["application/x-googlegears"],["Gears.Factory"],{getExt:function(){return !!window.GearsFactory},getVer:function(ref){return P.hasActiveX&&ref.activeX?eval("try{ref.activeX.getBuildInfo().split(';')[0]}catch(e){null}"):eval("try{(new GearsFactory()).version}catch(e){null}")}}),plVLC=new P(8,"vlc",["video/mpeg","application/x-vlc-plugin"],["VideoLAN.VLCPlugin.1","VideoLAN.VLCPlugin.2"],{detectable:!ns_.b.ie7,getVer:function(ref){return P.hasActiveX&&ref.mode==P.M_ACTX&&ref.activeX?eval("try{ref.activeX.VersionInfo;}catch(e){null;}"):null}}),plJVM=new P(9,"java",["application/x-java-applet"],["JavaWebStart.isInstalled.1.7.0.0","JavaWebStart.isInstalled.1.6.0.0","JavaWebStart.isInstalled.1.5.0.0","JavaWebStart.isInstalled.1.4.2.0","JavaPlugin"],{enabled:function(){return ns_.b.ie?!0:typeof navigator!="undefined"&&typeof navigator.javaEnabled=="function"?navigator.javaEnabled():!1},getVer:function(a){return P.hasActiveX&&a.mode==P.M_ACTX&&a.activeX&&a.actX?P.RV.test(a.actX)?P.RV.exec(a.actX).toString():null:null}});addPlugins([plQT,plRP,plWM,plSk,plFl,plAR,plSL,plGG,plVLC,plJVM])}(),ns_.tc.collectUpon(window,"load",function(){return{ns_plugins:getPlugins()}})}();popup_galaxy_s4={elem:"",elem_id:"popup-samsung-galaxy-s4",link_elem:"",link_elem_id:"samsung-galaxy-s4-link",close_elem:"",close_elem_id:"btn-samsung-popup-close",wrapper_elem:"",wrapper_elem_id:"samsung-nav-wrapper",active_class:"active",ord:Math.round((new Date()).getTime()/1000),tracking_urls:["http://bs.serving-sys.com/BurstingPipe/adServer.bs?cn=tf&c=20&mc=click&pli=7674383&PluID=0&ord=","http://bs.serving-sys.com/BurstingPipe/adServer.bs?cn=tf&c=20&mc=click&pli=7674384&PluID=0&ord=","http://bs.serving-sys.com/BurstingPipe/adServer.bs?cn=tf&c=20&mc=click&pli=7674385&PluID=0&ord=","http://bs.serving-sys.com/BurstingPipe/adServer.bs?cn=tf&c=20&mc=click&pli=7674386&PluID=0&ord="],animation_duration:300,isVisible:function(){return !!this.wrapper_elem.hasClass(this.active_class)},close:function(){if(!this.isVisible()){return}this.wrapper_elem.removeClass(this.active_class)},setTrackingURLs:function(){var a;for(a=0;a<this.tracking_urls.length;a++){$($(".samsung-popup-link").get(a)).children("a").attr("href",this.tracking_urls[a]+this.ord)}},init:function(a){Trd.log("popup_galaxy_s4.init()");this.elem=$("#"+this.elem_id);this.close_elem=$("#"+this.close_elem_id);this.link_elem=$("#"+this.link_elem_id);this.wrapper_elem=$("#"+this.wrapper_elem_id);if(!this.link_elem.length){return}if(!this.elem.length){return}if(!this.wrapper_elem.length){return}this.wrapper_elem.mouseenter({popup_galaxy_s4:popup_galaxy_s4},function(b){b.preventDefault();b.data.popup_galaxy_s4.wrapper_elem.addClass(b.data.popup_galaxy_s4.active_class)});this.wrapper_elem.mouseleave({popup_galaxy_s4:popup_galaxy_s4},function(b){b.preventDefault();b.data.popup_galaxy_s4.wrapper_elem.removeClass(b.data.popup_galaxy_s4.active_class)});if(this.close_elem.length){this.close_elem.click({popup_galaxy_s4:popup_galaxy_s4},function(b){b.preventDefault();b.data.popup_galaxy_s4.close()})}this.setTrackingURLs();if(a){a()}}};var textReactions=[{text:"I own it & love it",ID:"own_and_love"},{text:"I own it & regret it",ID:"own_and_regret"},{text:"I want it",ID:"want_it"},{text:"Not for me",ID:"not_fot_me"}];var defaultUserAction={linkBack:"http://example.com",title:"This is the post title"};window.textReactionParams={containerID:"textReactionsDiv",reactions:textReactions,userAction:defaultUserAction,showCounts:"right",disabledProviders:"facebook,twitter,yahoo,messenger,linkedin,orkut,qq,renren,sina,yahoo-japan,VKontakte",onSendDone:function(){console.log("send done")},onError:function(){console.log("gigya bar error")},onReactionClicked:function(){console.log("reaction bar link clicked")}};var Trd=Trd||{};Trd.Rater=function(a){if(!a){return}var g=function(h){var j;if(h===undefined){h=false}for(j=1;j<=10;j++){$("ul",a).removeClass("highlighted-"+j);if(h){$("ul",a).removeClass("rated-"+j)}}if(h){$('input[name="score"]',a).val("-1")}},e=function(){return !$("#user-review-form").hasClass("disabled")},f=function(h){$('input[name="score"]',a).val(h);$("ul",a).addClass("rated-"+h)},d=function(h){if(!e()){return}g(true);f(h)},b=function(h){if(!e()){return}g();c(h)},c=function(h){if(!e()){return}$("ul",a).addClass("highlighted-"+h)};$("a",a).on("mouseover",function(){b($(this).data("score"))});$("a",a).on("mouseout",function(){g(false)});$("a",a).on("click",function(h){h.preventDefault();d($(this).data("score"))})};+function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(j){var g={pageUrl:window.location.href,facetStyle:{counts:"<data></data>"},facebook:{page:"techradar",actions:{like:{url:"",countUrl:"https://graph.facebook.com/techradar?callback=?",callback:k},share:{url:"",countUrl:"http://graph.facebook.com/?ids={{pageUrl}}",callback:d}}},twitter:{screenname:"techradar",actions:{follow:{url:"",countUrl:"https://syndication.twitter.com/widgets/followbutton/info.json?screen_names=techradar&callback=?",callback:e},tweet:{url:"",countUrl:"http://urls.api.twitter.com/1/urls/count.json?callback=?&url={{pageUrl}}",callback:m}}},youtube:{user:"techradar",actions:{subscribe:{url:"",countUrl:"http://gdata.youtube.com/feeds/api/users/techradar?callback=?",callback:i}}},reddit:{actions:{share:{countUrl:"http://www.reddit.com/api/info.json?url={{pageUrl}}",callback:n}}},linkedin:{actions:{share:{countUrl:"http://www.linkedin.com/countserv/count/share?callback=?&url={{pageUrl}}",callback:l}}}};j.fn.socialite=function(o){options=j.extend(g,o);return this.each(function(){var q=j(this),p=q.data("platform"),s=q.data("action"),r=null;if(!options.hasOwnProperty(p)||!options[p].actions.hasOwnProperty(s)){return true}if(p==="facebook"){r=a()}options[p].actions[s].countUrl=options[p].actions[s].countUrl.replace("{{pageUrl}}",r?r:options.pageUrl);b.call(this);q.on("click",function(t){if(options[p].actions[s].popupCallback!==undefined){t.preventDefault();options[p].actions[s].popupCallback.call()}})})};j.fn.socialite.options=g;function b(p){if(this){var s=j(this),o=s.data().platform,r=s.data().action,q;if(!o||!r){return}if(!g.hasOwnProperty(o)){return}if(!g[o].actions.hasOwnProperty(r)){return}if((typeof g[o].actions[r].countUrl==="undefined")||(typeof g[o].actions[r].callback==="undefined")){return}if(g[o].actions[r].post_data){q=j.ajax({url:g[o].actions[r].countUrl,data:g[o].actions[r].post_data,type:"POST",dataType:"jsonp",cache:false})}else{q=j.getJSON(g[o].actions[r].countUrl)}q.done(function(t){var u=g[o].actions[r].callback(t);s.append('<span class="social-count">'+f(u)+"</span>")})}}function a(){var o=null,r=j('meta[property="article:url"]').attr("content");if(r){var p=0,s=["us","au"];o="http://techradar.com"+r;for(p=0;p<s.length;p++){var q=s[p];o+=",http://www.techradar.com/"+q+r}}return o}function f(o){if(o>=1000000000){return(o/1000000000).toFixed(1)+"G"}if(o>=1000000){return(o/1000000).toFixed(1)+"M"}if(o>=1000){return(o/1000).toFixed(1)+"K"}return o}function h(){}function k(o){return g.facebook.actions.like.counts=o.likes}function e(o){return g.twitter.actions.follow.counts=o[0].followers_count}function i(o){return j(o).find("yt\\:statistics").attr("subscribercount")}function d(o){var p=0;j.each(o,function(q,r){p+=r.shares!==undefined?r.shares:0});return g.facebook.actions.share.counts=p}function m(o){return g.twitter.actions.tweet.counts=o.count}function n(o){var q=0,p;if(o.data===undefined||o.data.children===undefined||!o.data.children.length){return 0}for(p=0;p<o.data.children.length;p++){q+=o.data.children[p].data.score}return g.reddit.actions.share.count=q}function l(o){return g.linkedin.actions.share.count=o.count}function c(o){}});jQuery.getScript("//www.googletagservices.com/tag/js/gpt.js",function(){var a=function(){var w={small:{min:0,max:1279},large:{min:1280,max:12000}},v=window.screen.width,u="small";if(!w){return u}for(var e in w){if(!w.hasOwnProperty(e)){continue}if(v>=w[e].min&&v<=w[e].max){return e}}return u};if(dfpKeywords!==""){dfpKeywords=dfpKeywords.split(",")}try{window.Krux||((window.Krux=function(){Krux.q.push(arguments)}).q=[]);(function(){function u(y){var w,x="kx"+y;if(window.localStorage){return window.localStorage[x]||""}else{if(navigator.cookieEnabled){w=document.cookie.match(x+"=([^;]*)");return(w&&unescape(w[1]))||""}else{return""}}}Krux.user=u("user");Krux.segments=u("segs")?u("segs").split(","):[];var v=[];if(Krux.user){v.push("khost="+encodeURIComponent(location.hostname));v.push("kuid="+Krux.user)}for(var e=0;e<Krux.segments.length;e++){v.push("ksg="+Krux.segments[e])}Krux.dfppKeyValues=v.length?v.join(";")+";":""})()}catch(q){window.console&&console.log(q)}$.fn.dfp.defaults.singleRequest=true;$.fn.dfp.defaults.unit=dfpUnit;$.fn.dfp.defaults.globalTargetting.screen=a();$.fn.dfp.defaults.globalTargetting.kw=dfpKeywords;$.fn.dfp.defaults.globalTargetting.articleid=articleID;$.fn.dfp.defaults.globalTargetting.manu=productBrand;$.fn.dfp.defaults.globalTargetting.pagetype=pageType;$.fn.dfp.defaults.globalTargetting.vertical=vertical;$.fn.dfp.defaults.globalTargetting.provertical=proVertical;if(typeof Krux!=="undefined"){$.fn.dfp.defaults.globalTargetting.kuid=Krux.user}var s=$("#leaderboard"),c=$("#contentlist-newest").find("article").eq(1),j=$("#sidebar").not(".news-home #sidebar").not(".pages-error #sidebar"),o=$(".tr-pro #sidebar .articles-list"),h=$("#sidebarreviewtabs, .pro-spotlight, .buying-advice, .news-category1 .headline.tabs"),m=$("#future_company_footer"),d=$("<div />",{"class":"advertBlock clearfix skyscraper"});var l=$(".reviews-article #plainkickerwrapper"),b=$(".reviews-article.pro-article #sidebar, .reviews-home #sidebar, .reviews-category1 #sidebar, .news-article #sidebar, .news-category1 #sidebar, .news-category2 #sidebar").not(".pages-error #sidebar");if(l.length){l.before(d)}if(b.length){b.append(d)}var t=function(x){if(typeof x=="object"){var u=Array();for(var v in x){if(x.hasOwnProperty(v)){var e=x[v];e=e.replace(/[#*()+\-='",<>\{\}\[\]\\\/]/gi,"");u.push(e)}}return u}else{var w=x.replace(/[#*()+\-='",<>\{\}\[\]\\\/]/gi,"");return w}};var i=i||{fepPrimaryProduct:Array(),fepSecondaryProducts:Array(),fepCompanies:Array(),fepHawk:Array(),fepCategory:Array(),kwMunge:Array(),fepArticleName:"",fepPrimaryCompany:"",fepAlgorithm:"",fepNullified:"",ready:false};try{if(!i.ready){if(typeof FEP_object!=="undefined"){console.log("FEP: article tags loading");console.log(FEP_object);i.fepPrimaryProduct=FEP_object[0].adTags.primaryProduct;i.fepSecondaryProducts=FEP_object[0].adTags.secondaryProducts;i.fepCompanies=FEP_object[0].adTags.companies;i.fepCategory=FEP_object[0].adTags.category;i.fepArticleName=FEP_object[0].articleName;i.fepAlgorithm=FEP_object[0].strategy;i.fepNullified=FEP_object[0].nullified;if(FEP_object[0].adTags.primaryCompany!==null&&FEP_object[0].adTags.primaryCompany.length>=1){i.fepPrimaryCompany=FEP_object[0].adTags.primaryCompany}else{i.fepPrimaryCompany=" "}i.fepIAB=[];i.ready=true;var f=["fepPrimaryProduct","fepSecondaryProducts","fepCompanies","fepCategory"];f.forEach(function(u){console.log(u);var e=i[u];console.log("adding "+e);if(typeof e=="object"){e=e}i.kwMunge=i.kwMunge.concat(e)});i.kwMunge=i.kwMunge.filter(function(e,u){return i.kwMunge.indexOf(e)==u})}else{throw"FEPNotReady"}}console.log("FEP data to slots ");$.fn.dfp.defaults.globalTargetting.fepPrimaryProduct=t(i.fepPrimaryProduct);$.fn.dfp.defaults.globalTargetting.fepSecondaryProducts=t(i.fepSecondaryProducts);$.fn.dfp.defaults.globalTargetting.fepCompanies=t(i.fepCompanies);$.fn.dfp.defaults.globalTargetting.fepCategory=t(i.fepCategory);$.fn.dfp.defaults.globalTargetting.fepIAB=t(i.fepIAB);$.fn.dfp.defaults.globalTargetting.fepPrimaryCompany=t(i.fepPrimaryCompany)}catch(p){console.log("exception loading FEP AdTags ")}c.dfp({settings:{slotname:"dfp_nonrs_sponsored_post_home",sizes:[[580,175]],format:"roadblock",cssClass:"advertBlock clearfix sponsored-post",addType:"after",targetting:{pos:1,pagetype:"home",placement:"dfp_nonrs_sponsored_post_home"}}});s.dfp({settings:{slotname:"dfp_nonrs_desktop_leaderboard_1",sizes:[[728,90],[970,250],[970,90],[970,66]],format:"roadblock",cssClass:"advertBlock clearfix leaderboard",targetting:{pos:1,placement:"dfp_nonrs_desktop_leaderboard_1"}}});if(j.width()>=300){j.dfp({settings:{slotname:"dfp_nonrs_desktop_mpu_1",sizes:[[300,251],[300,250],[300,601],[300,600]],format:"roadblock",cssClass:"advertBlock clearfix mpu",addType:"prepend",targetting:{pos:1,placement:"dfp_nonrs_desktop_mpu_1"}}})}h.dfp({settings:{slotname:"dfp_nonrs_desktop_mpu_2",sizes:[[300,252],[300,250],[300,602],[300,600]],cssClass:"advertBlock clearfix skyscraper",addType:"after",targetting:{pos:2,placement:"dfp_nonrs_desktop_mpu_2"}}});o.dfp({settings:{slotname:"dfp_nonrs_desktop_mpu_2",sizes:[[300,252],[300,250],[300,602],[300,600]],cssClass:"advertBlock clearfix skyscraper",addType:"before",targetting:{pos:2,placement:"dfp_nonrs_desktop_mpu_2"}}});m.dfp({settings:{slotname:"dfp_nonrs_desktop_overlay_oop_1",oop:true,addType:"after",targetting:{pos:2,oop:"overlay",placement:"dfp_nonrs_desktop_overlay_oop_1"}}});m.dfp({settings:{slotname:"dfp_nonrs_desktop_skin_oop_1",oop:true,format:"roadblock",addType:"after",targetting:{pos:1,oop:"skin",placement:"dfp_nonrs_desktop_skin_oop_1"}}});if(b.length||l.length){d.dfp({settings:{slotname:"dfp_nonrs_desktop_mpu_3",sizes:[[300,250]],format:"adx",targetting:{pos:3,placement:"dfp_nonrs_desktop_mpu_3"}}})}var r="";var k=false;function n(x,u,e,w){u||(u="none"),w||(w="scroll");var v=$("#container").height();x?(console.log("Takeover incoming...\n  - skin_bg: "+u+"\n  - skin_url: "+x+"\n  - click_url: "+e+"\n  - skin_style: "+w),$(".bg-skin").css("background-image","none").css("background-color",u).css("background-image","url("+x+")").css("background-position","top center").css("background-repeat","no-repeat").height(v).addClass("has-takeover"),"fixed"==w&&setTimeout(function(){$(".bg-skin").css("position","fixed")},2000)):$(".bg-skin").css("background-color","transparent").css("background-image","none").removeClass("has-takeover"),e?($(".bg-skin").css("cursor","pointer"),r=e):($(".bg-skin").css("cursor","default"),r=!1),k=!0}function g(){r&&window.open(r,"_blank")}window.init_background_skin=n;window.handle_background_click=g});$(".tabs").ready(function(){if($("#sidebar > .reviews-panel").length>0){if($("body").hasClass("reviews-article")){$("#sidebar > .reviews-panel > nav > ul > li").each(function(){if($(this).find("a").attr("href").indexOf("toprated")!==-1){$(this).siblings().find("a").removeClass("active");$(this).find("a").addClass("active")}})}else{$("#sidebar > .reviews-panel > nav > ul > li").each(function(){if($(this).find("a").attr("href").indexOf("latest")!==-1){$(this).siblings().find("a").removeClass("active");$(this).find("a").addClass("active")}})}}$(".tabs").each(function(){$(this).find("> .nav").show();$(this).find("> .tab").hide();if($(this).find("> .nav li a.active").length>0){$(this).find("> .tab"+$(this).find("> .nav li a.active").attr("href")).show()}else{$(this).find("> .tab"+$(this).find("> .nav li:eq(0) a").attr("href")).show();$(this).find("> .nav li:eq(0) a").addClass("active")}})});$(".leaderboard").ready(function(){if($("body.en-us, body.en-au").length>0){return false}watchTheAd=setInterval(function(){bigAd=false;if($(".leaderboard a").length>0){clearInterval(watchTheAd);if($(".leaderboard a").width()>728){bigAd=true}}if($(".leaderboard object").length>0){clearInterval(watchTheAd);if($(".leaderboard object").width()>728){bigAd=true}}if($(".leaderboard embed").length>0){clearInterval(watchTheAd);if($(".leaderboard embed").width()>728){bigAd=true}}if($(".leaderboard > div").length>0){clearInterval(watchTheAd);if($(".leaderboard > div").width()>728){bigAd=true}}if(bigAd){if($("body.trbc").length>0){$(".leaderboard").css("border","none");$(".leaderboard").css("margin","0 0 12px")}else{}}},1000)});$(document).ready(function(){try{$(".content-list time").each(function(){Trd.Time.init($(this))});if(typeof b=="undefined"){var b=Number(b)||Math.floor(Math.random()*10000000000000)}$(".ord-to-randomise").each(function(){if($(this).is("a")&&$(this).attr("href")!==undefined){newHref=$(this).attr("href").replace("ord=%n","ord="+b);$(this).attr("href",newHref)}else{$(this).find("a").each(function(){if($(this).attr("href")!==undefined){newHref=$(this).attr("href").replace("mpt=%n","mpt="+b);$(this).attr("href",newHref)}})}});if(typeof thisBrowserCannotInterpretISO8601Timestamps==="undefined"){thisBrowserCannotInterpretISO8601Timestamps=false}Trd.Localise.init();if($(".pcc-widget-container").length>0){updatePrices()}else{window.omioWidgets=[];if($("#sidebar-omio").length>0){var c={brand:$("#sidebar-omio").data("omio-brand"),model:$("#sidebar-omio").data("omio-model")};window.omioWidgets.push({div:"sidebar-omio",type:"mpu",conf:c})}if($("#main-omio").length>0){var c={brand:$("#main-omio").data("omio-brand"),model:$("#main-omio").data("omio-model")};window.omioWidgets.push({div:"main-omio",type:"table",conf:c})}var a=function(){return typeof window.omioWidgets[0].conf.brand!=="undefined"&&window.omioWidgets[0].conf.model!=="undefined"};if(window.omioWidgets.length>0){(function(){var f=document.createElement("script"),g="tech_radar";f.type="text/javascript";f.async=true;f.src="http://widgets-v2.omio.com/"+g+"/widgets.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(f)})();window.omioWidgetLoad=function(h){for(var f=0;f<window.omioWidgets.length;f++){h.load(window.omioWidgets[f].div,window.omioWidgets[f].type,window.omioWidgets[f].conf)}var g=$("#productSummary"),k=$(".GB.lang-en-gb.reviews-article #review-top-level-meta");if((g.length>0&&a())||(k.length&&a())){var j="http://widgets-v2.omio.com/tech_radar/storelink/"+window.omioWidgets[0].conf.brand+"/"+window.omioWidgets[0].conf.model+"?jsoncallback=?";$.getJSON(j,null,function(i){if(typeof i.url!=="undefined"){if(!g.length&&k.length){addPhonestoreLink(i.url,k)}else{addPhonestoreLink(i.url)}}})}}}else{updatePrices()}}Trd.Search.init();Trd.Pro.Tabs.init();$(".trd-rater").each(function(){new Trd.Rater($(this))});$(".trd-loadmore").LoadMore();if(getPageType()=="news"||"review"){Trd.Time.init("time.datePublished")}pagination_mouseOver=false;if($(".pagination").length>0){$(".pagination").hover(function(){pagination_mouseOver=true},function(){pagination_mouseOver=false});$(document).mouseup(function(){if(!pagination_mouseOver){$(".pagination > nav").hide();$(".pagination > div.this-page, .pagination > span.arrow").show();$(".article-body object").css("visibility","")}})}$(".nojs").show();$(".hidejs").hide();$(".pagination-links").hide();$("#sidebar .headline.tabs .tab").css({"text-indent":"0",position:"relative"});$("#deals-payg").removeClass("hidden");initRotatingKickers();$(".content-list section article div.content p").each(function(){truncateLongSynopses(this)});$(".search-results-list article div.content p").each(function(){truncateLongSynopses(this)});$("section.pagination").each(function(){var f=$(this);f.find("> nav").css({"z-index":20000});f.find("> .trigger, > span.arrow, > .trigger, > nav.dropdown > li > span.up-arrow, div.this-page, > nav").click(function(){theDropdown=$(this).parents("section.pagination");if($(theDropdown).find("> div.this-page:visible").size()>0){$(theDropdown).find("> nav > ul > li:first-child").addClass("mouseover-by-force");$(theDropdown).find("> nav").show();$(theDropdown).find("> div.this-page, > span.arrow").hide();$(".article-body object").css("visibility","hidden")}else{$(theDropdown).find("> nav").hide();$(theDropdown).find("> div.this-page, > span.arrow").show();$(".article-body object").css("visibility","")}});f.find("span.up-arrow").mouseover(function(){theDropdown=$(this).parents("section.pagination");$(theDropdown).find("> nav > ul > li:first-child").addClass("mouseover-by-force")});f.find("span.up-arrow, > nav > ul > li:first-child").mouseout(function(){theDropdown=$(this).parents("section.pagination");$(theDropdown).find("> nav > ul > li:first-child").removeClass("mouseover-by-force")});f.find("> span.arrow").mouseover(function(){theDropdown=$(this).parents("section.pagination");$(theDropdown).find("> div.this-page").addClass("mouseover-by-force")});f.find("> span.arrow").mouseout(function(){theDropdown=$(this).parents("section.pagination");$(theDropdown).find("> div.this-page").removeClass("mouseover-by-force")})});if("ontouchstart" in document.documentElement){$("li.more").removeClass("opened");$("li.more").removeClass("closed");$("#techradar-network").removeClass("opened")}$("body").on("touchend",function(f){$("li.more").removeClass("opened");$("li.more").removeClass("closed")});$("a.touch-compatible-more-menu").on("touchend",function(f){Trd.log(f.target);if($(this).parents("li.more").hasClass("opened")){Trd.log("This should close.");$("li.more").removeClass("opened");$("li.more").removeClass("closed");$(this).parents("li.more").addClass("closed");$(this).parents("li.more").removeClass("opened")}else{Trd.log("This should open.");$("li.more").removeClass("opened");$("li.more").removeClass("closed");$(this).parents("li.more").addClass("opened")}return false});$("a#touch-compatible-trn-menu").on("touchend",function(f){$("#techradar-network ul").toggle();$("#techradar-network").toggleClass("opened");return false});$(".tabs .nav li a").live("click",function(g){var f=$(this).attr("href");if($(".tabs .tab"+f).length>0){$(this).parent().parent().parent().find("> .tab").hide();$(this).parent().siblings().find("> a").removeClass("active");$(".tabs .tab"+f).show();$(this).addClass("active")}g.preventDefault()});$(".content-list nav ul li a").click(function(k){var f=$(this).attr("href");var j=$(this).parent().parent().parent().parent();if(j.find("section"+f).length>0){j.find("> section").hide();j.find("> section"+f).show();$(this).parent().siblings().find("> a").removeClass("active");$(this).addClass("active");var i=j.find("> section"+f).find("article");if(i.length==0){j.find("> section .buttony.load-more").addClass("loading");var g=j.find("> section"+f).data("url");if(g.indexOf("/data/popular")>-1){var h=true}else{var h=false}$.get(g,function(l){j.find("> section"+f+" p.status").remove();if(l.length==0){return}j.find("> section .buttony.load-more").removeClass("loading");
j.find("> section"+f+" > header").after(l);j.find("> section"+f+" time").each(function(){Trd.Time.init($(this))});j.find("> section"+f+" div.content p").each(function(){truncateLongSynopses(this)});if(h){j.find("> section"+f+" > .buttony.load-more").remove()}})}}k.preventDefault()});$(".content-list").each(function(){if($(this).find("> .tab").size()>1){$(this).find("> .tab").hide();$(this).find("> section"+$(this).find("> nav ul li:eq(0) a").attr("href")).show();$(this).find("> nav ul li:eq(0) a").addClass("active");if($(this).find("> section").data("paginate")=="paginate"){$(this).find("> section").append('<button type="button" class="buttony load-more only-js">Load more</button>')}}else{if($(this).find("> section").data("paginate")=="paginate"){$(this).find("> section").append('<button type="button" class="buttony load-more only-js">Load more</button>')}}});setupPagination();Trd.Time.init("#last-updated");$("#last-updated").html("Updated "+$("#last-updated").html());makeTheImagesZoomable();fixTheUSTemplateLayout();$(".delayed-social").each(function(){$this=$(this);$this.attr("src",$this.attr("js-src"))});window.___gcfg={lang:"en-GB"};$("#carousel").each(function(){var f=new Object();f.hold=5000;f.prev_next=true;f.thumbs=false;f.pips=false;f.gallery=false;f.controls_fade=true;var g=new carousel("carousel",f)});popup_galaxy_s4.init()}catch(d){console.log&&console.log("core.js $(document).ready exception: "+d.message+"\n",d)}});$(".socialite").ready(function(){var a=$("body");if(a.hasClass("reviews-article")||a.hasClass("news-article")){var b=$('link[rel="canonical"]').attr("href");if(!b){$(".socialite").socialite({pageUrl:window.location.href})}else{$(".socialite").socialite({pageUrl:b})}}else{$(".socialite").socialite()}});function fixTheUSTemplateLayout(){setTimeout(function(){$("body.en-us .superleaderboard").each(function(){if($(this).height()<30){$(this).hide()}})},5000)}function setupPagination(){$("button.load-more").click(function(){var b=0;var h=0;var j=$(".content-list>section>article:visible").last().find("time").attr("dateTime");var i=new Date(j.replace(/-/g,"/").replace(/[TZ]/g," "));i.setSeconds(i.getSeconds()-1);var c=formatDate(i,"yyyy-MM-dd HH:mm:ss");if(b==0){b=1;var g=$(this);var a=g.parent();var f=g.parent().attr("data-url");Trd.log(f);g.addClass("loading");if(f.indexOf("dateTo")==-1){var d=f+"&dateTo="+c+"&"}else{var d=f.replace(/dateTo=([^&]*)&/,"dateTo="+c+"&")}if(h>2){g.remove()}$.ajax({type:"GET",url:d,async:true,cache:true,timeout:4000,error:function(){g.removeClass("loading");b=0;h++},success:function(l){h=0;a.append(l);$(a).find("time").each(function(){Trd.Time.init($(this))});var k=l.match(/<!--ENDPAGINATION-->/i);if(k==null){g.removeClass("loading");a.append(g);a.attr("data-url",d);b=0}else{g.remove()}}})}return false})}function initRotatingKickers(){tallest=0;if($(".rotatingkicker").length<2){return false}rotwrapper=$('<div class="advertBlock clearfix clear" id="rotisserie-wrapper"><span class="adtxt">Advertisement</span></div>');rotisserie=$('<div id="rotisserie" class="clearfix clear"></div>');rotator=$('<div id="rotator" class="clearfix clear"></div>');fullheight=first=0;shortest=10000;$(".rotatingkicker img").each(function(){fullheight+=$(this).height();if(tallest<$(this).height()){tallest=$(this).height()}if(shortest>$(this).height()){shortest=$(this).height()}});jQuery.data(rotator,"fullheight",0-fullheight);heightDifference=tallest-shortest;$(".rotatingkicker a").css({height:tallest+"px"});$(".rotatingkicker img").css({"margin-bottom":heightDifference+"px"});placeholder=$("#kickerHolder");if(placeholder.length==0){return false}last=$(".rotatingkicker").first().clone();$(".rotatingkicker").first().css("padding-top","0px");$(rotator).append($(".rotatingkicker"));$(rotator).append(last);$(rotisserie).append(rotator);$(rotwrapper).prepend(rotisserie);$(rotisserie).css({height:tallest});placeholder.replaceWith(rotwrapper);setTimeout(function(){rotateKickersOneByOne(rotator,tallest,fullheight)},1000)}function rotateKickersOneByOne(c,b,a){$(c).css("margin-top","0px");jQuery.fx.interval=75;$(c).children().each(function(){jQuery.data(this,"height",$(this).innerHeight())});rotatorInterval=setInterval(function(){if(typeof(jQuery.data(c,"child"))=="undefined"){jQuery.data(c,"child",0)}childCounter=jQuery.data(c,"child");theChild=$(c).children()[childCounter];theNextChild=$(c).children()[childCounter+1];currentChildHeight=$(theChild).innerHeight();nextChildHeight=$(theNextChild).innerHeight();newPos=parseInt($(c).css("margin-top").replace("px",""))-(currentChildHeight);jQuery.data(c,"previous-margin-top",$(c).css("margin-top").replace("px",""));$(c).animate({"margin-top":newPos+"px"},1000);jQuery.data(c,"child",jQuery.data(c,"child")+1);if(jQuery.data(c,"child")==$(c).children().length-1){jQuery.data(c,"child",0);setTimeout(function(){$(c).css("margin-top","0px")},2000);if(jQuery.data(c,"previous-margin-top")<=newPos||typeof(jQuery.data(c,"previous-margin-top"))=="undefined"){jQuery.data(c,"child",0);theChild=$(c).children()[0];theNextChild=$(c).children()[1];currentChildHeight=jQuery.data(theChild,"height");nextChildHeight=jQuery.data(theNextChild,"height");$(c).css("margin-top","0px");jQuery.data(c,"previous-margin-top",0)}else{jQuery.data(c,"previous-margin-top",newPos)}}},4000)}function toggleFilters(b,a){$("body.reviews-category2 nav.content-filters dl dd."+a).toggleClass("override");$(b).toggleClass("arrow-up");if($(b).text()=="Show more"){$(b).html("<span></span>Show less")}else{$(b).html("<span></span>Show more")}}$("body.reviews-category2 nav.content-filters dl a").click(function(){if(typeof(this.id)=="string"&&this.id.length>0){listclass=this.id;toggleFilters(this,listclass);return false}});function outerHTML(a){return a.outerHTML||new XMLSerializer().serializeToString(a)}function makeTheImagesZoomable(){imgRegex=new RegExp(/src="(.*[0-9]{1,3}-[0-9]{2,3}\.[a-zA-Z]{3,4})"/);$("article#main figure.img, div.article-body > figure, div.article-body > p > img").not(".no-expand").each(function(){if($(this).is("figure")){figure="<figure>"+$(this).html()+"</figure>"}else{figure="<figure>"+outerHTML(this)+"</figure>"}if(imgRegex.exec(figure)){imgsrc=imgRegex.exec(figure)[1];newimgsrc=fcsisImage(imgsrc,"900");figure.replace(imgsrc,newimgsrc);jQuery.data(this,"figure",figure);$(this).click(function(){$("#imagezoom-modal > .modal-panel > figure").remove();$("#imagezoom-modal > .modal-panel").append(jQuery.data(this,"figure"));$("#imagezoom-modal > .modal-panel img").removeAttr("width");$("#imagezoom-modal > .modal-panel img").attr("src",fcsisImage($("#imagezoom-modal > .modal-panel img").attr("src"),900));Trd.Auth.openModal("imagezoom-modal");$("#imagezoom-modal").click(function(){$("#imagezoom-modal").hide();$("#imagezoom-modal > .modal-panel > figure").remove()})})}})}var criteoKeywords=getParameterByName("searchTerm");var criteoKeywords=(criteoKeywords==null)?"":criteoKeywords;switch(GEO_LANGUAGE){case"en-us":var CRITEO_CONF=[[{pageType:"home",Keywords:criteoKeywords,Kpid:"383"}],[8526,"psu","us.","110",[[7725852,7725853]],{Keywords:["kw",2],Kpid:["kpid",2]}]];break;case"en-gb":var CRITEO_CONF=[[{pageType:"home",Keywords:criteoKeywords,Kpid:"379"}],[8471,"psu","","110",[[7725742,7725743]],{Keywords:["kw",2],Kpid:["kpid",2]}]];break}if(typeof CRITEO_CONF!=="undefined"){try{(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=STATIC_SERVER+"/"+STATIC_VERSION+"/js/libs/Criteo_loading2.min.js";var a=document.getElementsByTagName("body")[0];a.appendChild(b)})()}catch(e){}}else{};$('input[name="searchScope"]').change(function(){$("form.search").attr("action",this.value)});(function(){var a=0;var b=$(".lists section");b.each(function(){var c=$(this).height();if(c>a){a=c}});b.height(a)})();function CriteoLoad(){function q(){var b=(document.location.protocol=="https:"&&"https:"||"http:")+"//dap.criteo.com/dis/dis.aspx";b+="?t1=sendData&kpid="+cto_conf.i;b+="&kw="+encodeURIComponent(cto_conf.kw);if(typeof(cto_conf.c)!="undefined"&&cto_conf.c=="img"){b+="&resptype=gif"}try{b+="&cb="+Math.floor(Math.random()*99999999999)}catch(a){}try{b+="&ref="+encodeURIComponent(document.referrer)}catch(a){}try{b+="&sc_r="+encodeURIComponent(screen.width+"x"+screen.height)}catch(a){}try{b+="&sc_d="+encodeURIComponent(screen.colorDepth)}catch(a){}return b}function l(b){if(window.addEventListener){window.addEventListener("load",b,false)}else{if(window.attachEvent){window.attachEvent("onload",b)}else{var a=window.onload;window.onload=function(){if(a&&typeof(a.fired)=="undefined"){a.fired=true;a()}b()}}}}function n(){var a=document.createElement((typeof(cto_conf.c)!="undefined"&&cto_conf.c=="img")?"img":"iframe");if(a){a.width="1px";a.height="1px";a.style.display="none";a.src=q()}else{return}return a}function r(b){var a;a=document.getElementsByTagName("body");if(!a||a.length==0){return}a=a[0];if(a!=null&&a.appendChild){a.appendChild(b)}}try{var k="0.6";if(typeof(cto_conf)=="undefined"||!cto_conf.i){return}if(typeof(cto_conf.kw)=="undefined"||cto_conf.kw==""){cto_conf.kw="";if(typeof(cto_conf.r)!="undefined"){var m=typeof(cto_conf.g)!="undefined"?cto_conf.g:1;var g=new RegExp(cto_conf.r);var o=g.exec(window.location.href);cto_conf.kw=(o==null)?"":decodeURIComponent(o[m])}}if(typeof(cto_conf.a)=="undefined"){l(function(){r(n())})}else{r(n())}}catch(p){}}CriteoLoad();