!function(){var isGoodBrowser=function(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("msie 6")>-1||e.indexOf("msie 7")>-1;return!t};if(isGoodBrowser()){var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(!i||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[r]=t:(e[r]||(e[r]={}),mixin(e[r],t,n,i)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;t<e.length;t++)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1==t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,s,a,u,c,l,f,d,p,h,g,m=n&&n.split("/"),v=q.map,y=v&&v["*"];if(e&&(e=e.split("/"),l=e.length-1,q.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&m&&(g=m.slice(0,m.length-1),e=g.concat(e)),t(e),e=e.join("/")),i&&v&&(m||y)){s=e.split("/");e:for(a=s.length;a>0;a-=1){if(c=s.slice(0,a).join("/"),m)for(u=m.length;u>0;u-=1)if(o=getOwn(v,m.slice(0,u).join("/")),o&&(o=getOwn(o,c))){f=o,d=a;break e}!p&&y&&getOwn(y,c)&&(p=getOwn(y,c),h=a)}!f&&p&&(f=p,d=h),f&&(s.splice(0,d,f),e=s.join("/"))}return r=getOwn(q.pkgs,e),r?r:e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(q.paths,e);return t&&isArray(t)&&t.length>1?(t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,i,r){var s,a,u,c,l=null,f=t?t.name:null,d=e,p=!0,h="";return e||(p=!1,e="_@r"+(A+=1)),c=o(e),l=c[0],e=c[1],l&&(l=n(l,f,r),a=getOwn(S,l)),e&&(l?h=a&&a.normalize?a.normalize(e,function(e){return n(e,f,r)}):-1===e.indexOf("!")?n(e,f,r):e:(h=n(e,f,r),c=o(h),l=c[0],h=c[1],i=!0,s=w.nameToUrl(h))),u=!l||a||i?"":"_unnormalized"+(O+=1),{prefix:l,name:h,parentMap:t,unnormalized:!!u,url:s,originalName:d,isDefine:p,id:(l?l+"!"+h:h)+u}}function a(e){var t=e.id,n=getOwn(k,t);return n||(n=k[t]=new w.Module(e)),n}function u(e,t,n){var i=e.id,r=getOwn(k,i);!hasProp(S,i)||r&&!r.defineEmitComplete?(r=a(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(S[i])}function c(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(k,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function l(){globalDefQueue.length&&(apsp.apply(E,[E.length,0].concat(globalDefQueue)),globalDefQueue=[])}function f(e){delete k[e],delete C[e]}function d(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,s=getOwn(k,o);!s||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,S[o]),e.check()):d(s,t,n))}),n[i]=!0)}function p(){var e,t,n=1e3*q.waitSeconds,o=n&&w.startTime+n<(new Date).getTime(),s=[],a=[],u=!1,l=!0;if(!y){if(y=!0,eachProp(C,function(e){var n=e.map,c=n.id;if(e.enabled&&(n.isDefine||a.push(e),!e.error))if(!e.inited&&o)r(c)?(t=!0,u=!0):(s.push(c),i(c));else if(!e.inited&&e.fetched&&n.isDefine&&(u=!0,!n.prefix))return l=!1}),o&&s.length)return e=makeError("timeout","Load timeout for modules: "+s,null,s),e.contextName=w.contextName,c(e);l&&each(a,function(e){d(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||x||(x=setTimeout(function(){x=0,p()},50)),y=!1}}function h(e){hasProp(S,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function g(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return g(t,w.onScriptLoad,"load","onreadystatechange"),g(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(l();E.length;){if(e=E.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var y,b,w,_,x,q={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},k={},C={},T={},E=[],S={},j={},N={},A=1,O=1;return _={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?S[e.map.id]=e.exports:e.exports=S[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(q.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(T,e.id)||{},this.map=e,this.shim=getOwn(q.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;j[e]||(j[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=w.execCb(n,o,i,r)}catch(s){e=s}else r=w.execCb(n,o,i,r);if(this.map.isDefine&&void 0===r&&(t=this.module,t?r=t.exports:this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(S[n]=r,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),f(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=s(e.prefix);this.depMaps.push(i),u(i,"defined",bind(this,function(i){var r,o,l,d=getOwn(N,this.map.id),p=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,g=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(p=i.normalize(p,function(e){return n(e,h,!0)})||""),o=s(e.prefix+"!"+p,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),l=getOwn(k,o.id),void(l&&(this.depMaps.push(o),this.events.error&&l.on("error",bind(this,function(e){this.emit("error",e)})),l.enable()))):d?(this.map.url=w.nameToUrl(d),void this.load()):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(k,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&f(e.map.id)}),c(e)}),r.fromText=bind(this,function(n,i){var o=e.name,u=s(o),l=useInteractive;i&&(n=i),l&&(useInteractive=!1),a(u),hasProp(q.config,t)&&(q.config[o]=q.config[t]);try{req.exec(n)}catch(f){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+f,f,[t]))}l&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),g([o],r)}),void i.load(e.name,g,r,q))})),w.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){C[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(_,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",bind(this,this.errback))}n=e.id,i=k[n],hasProp(_,n)||!i||i.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(k,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:q,contextName:e,registry:k,defined:S,urlFetched:j,defQueue:E,Module:b,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=q.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(q[t]||(q[t]={}),mixin(q[t],e,!0,!0)):q[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(N[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,n){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),t[n]=e}),q.shim=t),e.packages&&each(e.packages,function(e){var t,n;e="string"==typeof e?{name:e}:e,n=e.name,t=e.location,t&&(q.paths[n]=e.location),q.pkgs[n]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(k,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function o(n,i,u){var l,f,d;return r.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(_,n)?_[n](k[t.id]):req.get?req.get(w,n,t,o):(f=s(n,t,!1,!0),l=f.id,hasProp(S,l)?S[l]:c(makeError("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),d=a(s(null,t)),d.skipMap=r.skipMap,d.init(n,i,u,{enabled:!0}),p()}),o)}return r=r||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],s="."===o||".."===o;return-1!==r&&(!s||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),w.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(S,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(S,e)||hasProp(k,e)}}),t||(o.undef=function(e){l();var n=s(e,t,!0),r=getOwn(k,e);i(e),delete S[e],delete j[n.url],delete T[e],eachReverse(E,function(t,n){t[0]===e&&E.splice(n,1)}),r&&(r.events.defined&&(T[e]=r.events),f(e))}),o},enable:function(e){var t=getOwn(k,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(q.shim,e)||{},s=o.exports;for(l();E.length;){if(n=E.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(i=getOwn(k,e),!t&&!hasProp(S,e)&&i&&!i.inited){if(!(!q.enforceDefine||s&&getGlobal(s)))return r(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var i,r,o,s,a,u,c,l=getOwn(q.pkgs,e);if(l&&(e=l),c=getOwn(N,e))return w.nameToUrl(c,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(i=q.paths,r=e.split("/"),o=r.length;o>0;o-=1)if(s=r.slice(0,o).join("/"),u=getOwn(i,s)){isArray(u)&&(u=u[0]),r.splice(0,o,u);break}a=r.join("/"),a+=t||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":q.baseUrl)+a}return q.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+q.urlArgs):a},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);return r(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.15",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,s=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(s=o.context),r=getOwn(contexts,s),r||(r=contexts[s]=req.s.newContext(s)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=req.createNode(r,t,n),i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("json",[],function(){var JSON={};return function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function stringifyDate(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}function str(e,t){var n,i,r,o,s,a=gap,u=t[e];switch(u instanceof Date?u=stringifyDate(u):(u instanceof String||u instanceof Number||u instanceof Boolean)&&(u=u.valueOf()),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)s[n]=str(n,u)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,u),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r=str(i,u),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),JSON}),define("cookieman/get_domains",["require","exports","module"],function(e,t,n){n.exports=function(e){var t,n=[],i=e.split("."),r=0,o=i.length;for(r;o-1>r;r++)t=i.slice(r,i.length).join("."),n.push(t,"."+t);return n.push(null),n}}),define("cookieman/get_paths",["require","exports","module"],function(e,t,n){n.exports=function(e){e=e.replace(/\/$/,"").split("/");var t=[],n=0,i=e.length;for(n;i>n;n++)t.push(e.slice(0,n+1).join("/")||"/");return t}}),define("cookieman/trim",["require","exports","module"],function(e,t,n){n.exports=function(e){return e.replace(/(^\s+|\s+$)/gi,"")}}),define("cookieman/cookieman",["require","exports","module","./get_domains","./get_paths","./trim"],function(e,t,n){!function(){function t(e){var t=[],n=r(),i=0,o=n.length;for(i;o>i;i++)n[i].name===e&&t.push(n[i]);return t}function i(e,t,n){var i=e+"="+t+";";n=n||{},n.expires&&(i+="Expires="+n.expires.toUTCString()+";"),n.path&&(i+="Path="+n.path+";"),n.domain&&(i+="Domain="+n.domain+";"),document.cookie=i}function r(){if(!document.cookie)return[];var e,t=[],n=document.cookie.split(";"),i=0,r=n.length;for(i;r>i;i++)e=n[i].split("="),t.push({name:c(e[0]),value:e[1]&&c(e[1])||null});return t}function o(e,t){var n=r().length;return t=t||{},t.expires=new Date(1),i(e,"",t),r().length!==n}function s(e){var t,n,i=[],r=u(window.location.pathname),s=a(window.location.hostname);if(o(e))return[{path:null,domain:null}];for(t=0;t<s.length;t++)for(n=0;n<r.length;n++)o(e,{path:r[n],domain:s[t]})&&i.push({domain:s[t],path:r[n]});return i}var a=e("./get_domains"),u=e("./get_paths"),c=e("./trim");n.exports={get:t,set:i,cookies:r,clear:o,clearAll:s}}()}),define("cookieman",["cookieman/cookieman"],function(e){return e}),define("base64Int/index",["require","exports","module"],function(e,t,n){function i(e,t){for(var n=0,i=0;i<e.length;i++)n+=Math.pow(t,e.length-1-i)*e[i];return n}function r(e,t){for(var n=[];e>0;){var i=e%t;n.unshift(i),e=(e-i)/t}return n}function o(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";n.exports={encode:function(e){return o(r(e,64),function(e){return s[e]}).join("")||s[0]},decode:function(e){return i(o(e.split(""),function(e){return s.indexOf(e)}),64)}}}),define("base64Int",["base64Int/index"],function(e){return e}),define("etc.widget/lib/encoders/helpers",["require","exports","module"],function(e,t,n){function i(e,t){if(e instanceof Array)for(var n=0;n<e.length;n++)t(e[n],n);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)}function r(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}function o(e,t){return e.decode(e.encode(t))!==t}function s(e,t){var n=!0;return i(e,function(){t.apply(window,arguments)||(n=!1)}),n}function a(e){var t=0;return i(e,function(){t++}),t}function u(e){return isFinite(parseFloat(e))}n.exports={forEach:i,map:r,lossy:o,every:s,size:a,isNumber:u}}),define("etc.widget/lib/encoders/_qb_se",["require","exports","module","base64Int","./helpers","json"],function(e,t,n){var i=e("base64Int"),r=e("./helpers"),o=e("json");n.exports={encoded:function(e){return/^[0-9A-Za-z+\/]+:/.test(e)},canEncode:function(e){var t;try{t=o.parse(e)}catch(n){return!1}return r.every(t,function(e,t){return r.isNumber(t)&&Number(t)>=0&&2===r.size(e)&&r.isNumber(e.e)&&r.isNumber(e.t)&&Number(e.e)>=0&&Number(e.t)>=0})},encode:function(e){var t=[];return r.forEach(o.parse(e),function(e,n){t.push(i.encode(Number(n))+":"+i.encode(Number(e.e))+"&"+i.encode(Number(e.t)))}),t.join("|")},decode:function(e){var t={},n=e.split("|");return r.forEach(n,function(e){var n=i.decode(e.match(/^[^:]+/)[0]),o=r.map(e.match(/[^:]+$/)[0].split("&"),function(e){return i.decode(e)});t[n]={e:o[0],t:o[1]}}),o.stringify(t)}}}),define("etc.widget/lib/encoders/qb_ss_status",["require","exports","module","base64Int","./helpers","json"],function(e,t,n){var i=e("base64Int"),r=e("./helpers"),o=e("json");n.exports={encoded:function(e){return/^[0-9A-Za-z+\/]+:/.test(e)},canEncode:function(e){var t;try{t=o.parse(e)}catch(n){return!1}return 1!==r.size(t)?!1:"object"!=typeof t.b||t.b instanceof Array||r.size(t.b)<1?!1:r.every(t.b,function(e,t){return!r.isNumber(t)||Number(t)<0?!1:e instanceof Array?4!==r.size(e)?!1:r.isNumber(e[0])?Number(e[0])<0||Number(e[0])>1?!1:!r.isNumber(e[1])||Number(e[1]<0)?!1:Number(e[1])!==Number(e[2])?!1:0!==e[3]?!1:!0:!1:!1})},encode:function(e){var t=[],n=o.parse(e).b;return r.forEach(n,function(e,n){t.push(i.encode(Number(n))+":"+i.encode(Math.round(1e3*e[0]))+"&"+i.encode(e[1]))}),t.join("|")},decode:function(e){var t={},n=e.split("|");return r.forEach(n,function(e){var n=i.decode(e.match(/^[^:]+/)[0]),r=e.match(/[^:]+$/)[0].split("&"),o=i.decode(r[1]);t[n]=[i.decode(r[0])/1e3,o,o,0]}),o.stringify({b:t})}}}),define("etc.widget/lib/encoders/ss_opts",["require","exports","module","base64Int","./helpers","json"],function(e,t,n){function i(e){return o.isNumber(e)&&Number(e)>=0}var r=e("base64Int"),o=e("./helpers"),s=e("json");n.exports={encoded:function(e){return/^([0-9A-Za-z+\/]+|_g):/.test(e)},canEncode:function(e){var t;try{t=s.parse(e)}catch(n){return!1}return o.size(t)<1?!1:o.every(t,function(e,t){return"object"!=typeof e?!1:("global"!==t||i(e.session_timer))&&("global"!==t||i(e.refresh_timer))?"global"===t?!0:!o.isNumber(t)||Number(t)<0?!1:o.every(e,function(e,t){return/^(close_time|close_duration|times_activated|times_activated_session)$/.test(t)&&i(e)?!0:!1}):!1})},encode:function(e){var t=[];return o.forEach(s.parse(e),function(e,n){var i;i="global"===n?[r.encode(e.session_timer),r.encode(e.refresh_timer)]:[e.times_activated?r.encode(e.times_activated):"",e.times_activated_session?r.encode(e.times_activated_session):"",e.close_time?r.encode(e.close_time):"",e.close_duration?r.encode(e.close_duration):""],t.push(("global"===n?"_g":r.encode(Number(n)))+":"+i.join("&"))}),t.join("|")},decode:function(e){var t={},n=e.split("|");return o.forEach(n,function(e){var n,i=e.match(/^[^:]+/)[0],o=e.match(/[^:]+$/)[0].split("&");"_g"===i?(i="global",n={session_timer:r.decode(o[0]),refresh_timer:r.decode(o[1])}):(n={},i=r.decode(i),o[0]&&""!==o[0]&&(n.times_activated=r.decode(o[0])),o[1]&&""!==o[1]&&(n.times_activated_session=r.decode(o[1])),o[2]&&""!==o[2]&&(n.close_time=r.decode(o[2])),o[3]&&""!==o[3]&&(n.close_duration=r.decode(o[3]))),t[i]=n}),s.stringify(t)}}}),define("etc.widget/lib/compressed_cookie",["require","exports","module","cookieman","./encoders/_qb_se","./encoders/qb_ss_status","./encoders/ss_opts"],function(e,t,n){function i(e){var t=a.get(e),n=t.length?t[0].value&&unescape(t[0].value):null;return n&&u[e]&&u[e].encoded(n)?u[e].decode(n):n}function r(e,t,n,i){t=u[e]&&u[e].canEncode(t)?u[e].encode(t):escape(t);var r={};return n&&(r.expires=new Date((new Date).valueOf()+864e5*n)),i&&(r.domain=i),r.path="/",a.set(e,t,r)}function o(e){var t,n,i=[],r=a.get(e),o=0,s=r.length;for(o=0;s>o;o++)t=unescape(r[o].value),n=!1,u[e]&&u[e].encoded(t||"")&&(n=!0,i.push(u[e].decode(t))),n||i.push(t);return i}function s(){return{v1:{get:i,encoders:u}}}var a=e("cookieman"),u={_qb_se:e("./encoders/_qb_se"),qb_ss_status:e("./encoders/qb_ss_status"),ss_opts:e("./encoders/ss_opts")};n.exports={readCookie:i,writeCookie:r,readAllCookies:o,api:s}}),define("etc.widget/lib/cookie",["require","exports","module","./compressed_cookie"],function(e,t,n){var i=e("./compressed_cookie");n.exports={readCookie:i.readCookie,readAllCookies:function(e){var t,n,i,r,o,s,a,u;for(o=e+"=",r=document.cookie.split(";"),t=/^\s+|\s+$/g,u=[],s=0,a=r.length;a>s;s+=1)n=r[s].replace(t,""),0===n.indexOf(o)&&(i=unescape(n.substring(o.length)),i.length>0&&u.push(i));return u},writeCookie:function(e,t,n,i){var r,o,s;n?(r=new Date,r.setTime(r.getTime()+864e5*n),o="; expires="+r.toGMTString()):o="",s=escape(e)+"="+escape(t)+o+"; path=/;",i&&(s+=" domain="+i),document.cookie=s}}}),define("match-condition/index",["require","exports","module"],function(e,t,n){function i(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return n}function r(e,t){for(var n=0;n<e.length;n++)if(!t(e[n]))return!1;return!0}function o(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function s(e){return"string"==typeof e}function a(e){return e.constructor===Array}function u(e,t){return s(e)&&e.indexOf(t)>-1}function c(e){return a(e)?e.slice(0):[e]}function l(e){return i(e,function(e){return s(e)?e.toLowerCase():e})}n.exports=function(e,t){function n(e){return r(a,function(t){return r(f,function(n){return e(t,n)})})}function i(e){return o(a,function(t){return o(f,function(n){return e(t,n)})})}var s=e.op,a=l(c(e.value)),f=l(c(t));switch(s){case"eq":return i(function(e,t){return t===e});case"neq":return n(function(e,t){return t!==e});case"gt":return i(function(e,t){return t>e});case"lt":return i(function(e,t){return e>t});case"in":return i(function(e,t){return u(t,e)});case"nin":return n(function(e,t){return!u(t,e)});case"regex":return i(function(e,t){return new RegExp(e).test(t)});case"nregex":return n(function(e,t){return!new RegExp(e).test(t)});default:return!1}}}),define("match-condition",["match-condition/index"],function(e){return e}),define("etc.widget/etc",["require","exports","module","json","./lib/cookie","./lib/compressed_cookie","match-condition"],function(e,t,n){n.exports=function(){function t(e,t,n){function i(){a=null,n||(o=e.apply(s,r))}var r,o,s,a;return function(){var u=n&&!a;return r=arguments,s=this,clearTimeout(a),a=setTimeout(i,t),u&&(o=e.apply(s,r)),o}}function n(e){return e&&e.constructor===Array}function i(e,t){var i,r,o;if(n(e))for(i=0,r=e.length;r>i;i++)t(e[i],i);else if(e)for(o in e)e.hasOwnProperty(o)&&t(e[o],o)}var r,o=e("json"),s=e("./lib/cookie"),a=e("./lib/compressed_cookie"),u=e("match-condition");window._qtd=window._qtd||[];var c={statusKey:"qb_ss_status",optsKey:"ss_opts",configKey:"_qb_ss",previewFlag:"smartserve_preview",localPreviewId:"smartserve_local",previewSyncFlag:"smartserve_preview_sync",debugFlag:"smartserve_debug",debugVariable:"_ss_debug",forceCreative:"etcForceCreative",deployedExperiments:{},excludedExperiments:{},defaultConfig:{domain:"",debug:!1,virtualPageViewOverlap:!1},uvCounter:0,goalCheckers:{pageCategory:{key:"pageviews.customvalues.uv.page.category",val:function(){var e=c.uv("page.category");return"string"==typeof e?e:void 0}},pageSubcategory:{key:"pageviews.customvalues.uv.page.subcategory",val:function(){var e=c.uv("page.subcategory");return"string"==typeof e?e:void 0}},url:{key:"pageviews.url",val:function(){return window.location.href}},event:{key:"pageviews.customvalues.uv.events.action",val:function(e){return"string"==typeof e.action?e.action:void 0}},conversion:{key:"metrics.conversion_rate"}},goalValueMultiple:1e6,start:function(){c.mergeConfig()&&!c.fireForcedCreatives()&&(c.isCookieEnabled()?(c.removeDeadCreatives(),c.calculateExcludedExperiments(),c.activateExistingCreatives(),c.process()):c.pingCookieDisabled()),c.whenUVHasTransaction(c.writeShownFlagsToUV),c.opts&&c.opts.experiments&&c.setupGoals()},setupGoals:function(){c.registerGoals(),c.newPageView(),c.handleExistingUVGoals(),window.uv_listener=window.uv_listener||[],window.uv_listener.push(["on","event",c.handleUVEvent])},getCookieLib:function(){var e=c.opts||window[c.configKey]&&window[c.configKey][0]||{};return e.cookieCompression?a:s},handleExistingUVGoals:function(){var e=window.universal_variable=window.universal_variable||{},t=e.events=e.events||[];i(t,c.handleUVEvent)},registerGoals:function(){var e=c.getExperimentStatus();c.goals={},i(c.opts.experiments,function(t){e[t.id]&&i(t.goals,function(n){n.key!==c.goalCheckers.conversion.key&&(n.send=function(i){var r,o,s;c.experimentSeen(t.id)&&(r=e[t.id],o=c.findCreativeByProbability(r.tc,r.ckg,r.c_prob),s={i:t.iterationId,e:r.e,tc:r.tc,ckg:r.ckg,c:o.creative_id,cm:o.id,s:"0",p:r.c_prob,cnt:o.control?1:0,g:n.id},i&&!isNaN(Number(i))&&(s.ga=Math.round(Number(i)*c.goalValueMultiple)),c.saveAndsendPing(s))},c.goals[n.key]=c.goals[n.key]||[],c.goals[n.key].push(n))})})},experimentSeen:function(e){var t;return i(c.getShownFlags(),function(n){n.e===e&&(t=!0)}),t},handleUVEvent:function(e){e&&e.action&&("newPageView"===e.action&&c.newPageView(),c.checkGoal("event",e))},newPageView:function(){c.checkGoal("pageCategory"),c.checkGoal("pageSubcategory"),c.checkGoal("url")},checkGoal:function(e,t){var n=c.goalCheckers[e].key,r=c.goalCheckers[e].val(t),o=c.goals[n];r&&i(o,function(e){u(e,r)&&(t&&t.value?e.send(t.value):e.send())})},uv:function(e){var t=window.universal_variable;return t?(i(e.split("."),function(e){t&&(t=t[e]?t[e]:!1)}),t):t},getExperimentStatus:function(){var e=c.getStatus(),t={};return i(e.c,function(e){t[e.e]=e}),t},isCookieEnabled:function(){var e,t,n;return e="etc_test_"+Math.round(1e3*Math.random()),t="Q",c.getCookieLib().writeCookie(e,t,null,c.opts.domain),n=t===c.getCookieLib().readCookie(e),n&&c.getCookieLib().writeCookie(e,t,-1,c.opts.domain),n},fireForcedCreatives:function(){return c.getUrl().indexOf("etcForceCreative")>=0?c.fireForcedCreativeViaQueryParam():c.getCookieLib().readCookie(c.forceCreative)?c.fireForcedCreativeViaCookie():void 0
},executionWrapper:function(e){return c.opts.virtualPageViewOverlap?e:c.ifSamePageView(e)},fireForcedCreativeViaQueryParam:function(){var e,t,n,i,r,o;n=c.getUrl();try{r=n.substring(n.indexOf("?")+1).split("&")}catch(s){r=[]}if(r.length>0){for(e=0,t=r.length;t>e;e+=1)i=r[e].split("="),i[0]===c.forceCreative&&(o=c.opts.creatives[i[1]],o.activation(c.generateCreativeActivator(null,null,null,o,-1,c.executionWrapper(o.execution))));return!0}return!1},fireForcedCreativeViaCookie:function(){var e,t,n,i;for(n=o.parse(c.getCookieLib().readCookie(c.forceCreative)),e=0,t=n.length;t>e;e+=1)i=c.opts.creatives[n[e]],i.activation(c.generateCreativeActivator(null,null,null,i,-1,c.executionWrapper(i.execution)));return e>0?!0:void 0},getUrl:function(){return document.location.href},removeDeadCreatives:function(){var e,t,n,i,r,o,s,a;for(s=12096e5,a=(new Date).getTime(),i=c.getStatus(),o=c.getOptsStatus(),r={},e=0,t=c.opts.experiments.length;t>e;e+=1)c.opts.experiments[e].pausedAt?a-c.opts.experiments[e].pausedAt<s&&(r[c.opts.experiments[e].id]=!0):r[c.opts.experiments[e].id]=!0;for(n in i.c)i.c.hasOwnProperty(n)&&(r[i.c[n].e]||delete i.c[n]);for(n in o)o.hasOwnProperty(n)&&"global"!==n&&(c.opts.creatives[n]?r[c.opts.creatives[n].e_id]||delete o[n]:delete o[n]);c.writeOptsStatus(o),c.writeStatus(i)},calculateExcludedExperiments:function(){var e,t,n;t=c.getStatus().c,n=c.opts.creatives;for(e in t)t.hasOwnProperty(e)&&(n[e]||(c.excludedExperiments[t[e].e]=!0))},inCreative:function(e){var t,n;n=!1;for(t in e.c)e.c.hasOwnProperty(t)&&(n=!0);return n},generateProbability:function(){return Math.round(1e3*Math.random())/1e3},pingCookieDisabled:function(){window._qtd.push({data:{smartserve_cookie_disabled:1}})},getPageViewId:function(){return window.__pageViewId__},mergeConfig:function(){if(window[c.configKey]){var e,t=window[c.configKey];if(!t||!t[0])return!1;c.opts={};for(e in c.defaultConfig)c.defaultConfig.hasOwnProperty(e)&&(c.opts[e]=c.defaultConfig[e]);return c.deepMerge(c.opts,t[0]),c.opts.pageViewId=c.getPageViewId(),!0}return!1},deepMerge:function(e,t){var n,i,r;for(n in t)t.hasOwnProperty(n)&&(i=e[n],r=t[n],i&&r&&"object"==typeof r?c.deepMerge(i,r):e[n]=r)},activateExistingCreatives:function(){var e,t,n,i,r,s;t=c.getStatus(),s=c.getPausedExperimentIds(),r=o.parse(o.stringify(t.c));for(e in r)r.hasOwnProperty(e)&&(i=r[e],s.hasOwnProperty(i.e)||c.excludedExperiments.hasOwnProperty(i.e)||(n=c.findCreativeByProbability(i.tc,i.ckg,i.c_prob),c.pingCreativeState(i.e,i.tc,i.ckg,n,i.c_prob,"0"),n.activation(c.generateCreativeActivator(i.e,i.tc,i.ckg,n,i.c_prob,c.executionWrapper(c.activateCreative))),c.deployedExperiments[n.e_id]=!0,e!==n.id&&(delete t.c[e],i.c=n.id,i.start=(new Date).getTime(),t.c[n.id]=i)));c.writeStatus(t)},getPausedExperimentIds:function(){var e,t,n,i;for(n=c.opts.experiments,i={},e=0,t=n.length;t>e;e+=1)n[e].pausedAt&&(i[n[e].id]=!0);return i},findExperimentById:function(e){var t,n,i,r;for(i=c.opts.experiments||[],t=0,n=i.length;n>t;t+=1)if(i[t].id===e){r=i[t];break}return r},findCreativeByProbability:function(e,t,n){var i,r,o;return i=c.opts.targetingCriteria[e],r=i.creatives[t],o=c.getRandomCreativeIndex(n,r),c.opts.creatives[r[o].id]},process:function(){var e,t,n,i;for(i=c.opts.experiments,e=0,t=i.length;t>e;e+=1)n=i[e],n.pausedAt||c.deployedExperiments[n.id]||c.excludedExperiments[n.id]||c.chooseTargetingCriteria(n)},chooseTargetingCriteria:function(e){var t;1===e.targetingCriteria.length?c.fireSingleTargetingCriteria(e):(t=e.ordered?c.chooseOrderedTargetingCriteria(e):c.chooseRandomTargetingCriteria(e),t&&c.setCreatives(e,t,t.creatives))},fireSingleTargetingCriteria:function(e){var t,n,i;t=!1,n=c.opts.targetingCriteria[e.targetingCriteria[0]],i=function(){t||(t=!0,c.shouldFireTargetingCriteriaBasedOnRate(n)&&c.setCreatives(e,n,n.creatives))},n.condition(i)&&i()},chooseOrderedTargetingCriteria:function(e){var t,n,i;for(t=0,n=e.targetingCriteria.length;n>t;t+=1)if(i=c.opts.targetingCriteria[e.targetingCriteria[t]],c.shouldFireTargetingCriteria(i))return i;return null},chooseRandomTargetingCriteria:function(e){var t,n;for(n=e.targetingCriteria.concat([]);n.length>0;)if(t=n.splice(c.getRandomIndex(n),1),t=c.opts.targetingCriteria[t[0]],c.shouldFireTargetingCriteria(t))return t;return null},shouldFireTargetingCriteria:function(e){return e.condition()&&c.shouldFireTargetingCriteriaBasedOnRate(e)},shouldFireTargetingCriteriaBasedOnRate:function(e){return e.firingRate===r||Math.random()<e.firingRate},getRandomIndex:function(e){return Math.floor(Math.random()*e.length,10)},setCreatives:function(e,t,n){var i,r,o,s,a,u;for(i=0,r=n.length;r>i;i+=1)s=n[i],o=c.generateProbability(),a=c.getRandomCreativeIndex(o,s),u=s[a].id,c.setCreative(e,t,i,c.opts.creatives[u],o)},getRandomCreativeIndex:function(e,t){var n,i,r=0;for(n=0,i=t.length;i>n;n+=1)if(r+=t[n].p,r>e)return n;return-1},setCreative:function(e,t,n,i,r){c.saveCreative(e,t,n,i,r),c.pingCreativeState(e.id,t.id,n,i,r,"0"),i.activation(c.generateCreativeActivator(e.id,t.id,n,i,r,c.executionWrapper(c.activateCreative)))},saveCreative:function(e,t,n,i,r){var o=c.getStatus();o.c[i.id]={e:e.id,tc:t.id,ckg:n,c:i.id,c_prob:r,start:(new Date).getTime()},c.writeStatus(o)},generateCreativeActivator:function(e,t,n,i,r,o){var s,a=1;return c.dependencyTimers=[]||c.dependencyTimers,s=function(){!i.dependencies||c.dependenciesExist(i.dependencies)?o(e,t,n,i,r):(a*=2,a>500&&(a=500),c.dependencyTimers.push(setTimeout(s,a)))}},clearTimers:function(){i(c.dependencyTimers,clearTimeout),c.dependencyTimers=[]},dependenciesExist:function(e){var t,n;for(t=0,n=e.length;n>t;t+=1)try{if(!e[t]())break}catch(i){break}return t===n},activateCreative:function(e,t,n,i,r){try{i.execution(),c.pingCreativeState(e,t,n,i,r,"1")}catch(o){c.pingCreativeState(e,t,n,i,r,"9",o.message)}},isSamePageView:function(e){return e===c.getPageViewId()},ifSamePageView:function(e){var t=c.opts.pageViewId;return function(){return c.isSamePageView(t)?e.apply(c,arguments):void 0}},extractProbabilty:function(e,t){var n,i,r;for(r=null,n=0;n<e.length;n+=1)for(i=0;i<e[n].length;i+=1)e[n][i].id===t&&(r=e[n][i].p);return r},whenUVHasTransaction:function(e){clearTimeout(c.uvHasTransactionTimeout),c.uvCounter+=1,window.universal_variable&&window.universal_variable.transaction?e():c.uvCounter<30&&(c.uvHasTransactionTimeout=setTimeout(function(){c.whenUVHasTransaction(e)},1e3))},writeShownFlagsToUV:function(){c.getCookieLib().readCookie("_qb_se")&&(window.universal_variable.transaction.shown_creatives=c.getShownFlags(),window._qtd.push({resendUniversalVariables:1}))},getShownFlags:function(){var e,t=[],n=c.getCookieLib().readCookie("_qb_se");if(n)try{n=o.parse(n);for(e in n)n.hasOwnProperty(e)&&t.push({cm:e,e:n[e].e})}catch(i){}return t},_storeShownFlags:function(e){var t,n,i=c.getCookieLib().readCookie("_qb_se");if(i)try{i=o.parse(i)}catch(r){i={}}else i={};i[e.cm]={e:e.e,t:+new Date},n=+new Date,n-=2592e6;for(t in i)i.hasOwnProperty(t)&&i[t].t<n&&delete i[t];c.getCookieLib().writeCookie("_qb_se",o.stringify(i),365,c.opts.domain)},storeShownFlags:function(){var e,t,n=window.qb_etc_data;for(e=0;e<n.length;e+=1)t=n[e],"1"===t.s&&c._storeShownFlags(t)},pingCreativeState:function(e,t,n,i,r,o,s){var a,u,l,f;try{u=c.opts.targetingCriteria[t].creatives}catch(d){u=[]}f=c.findExperimentById(e),a=c.extractProbabilty(u,i.id),l={e:e,tc:t,ckg:n,c:i.creative_id,cm:i.id,s:o,p:r,cnt:i.control?1:0},f&&f.iterationId&&(l.i=f.iterationId),s&&(l.err_e=s),null!==a&&(l.pc=a),c.saveAndsendPing(l),c.storeShownFlags()},uvListenerSupport:function(){var e=window.__qubit;return e&&e.qtracker&&e.qtracker.options&&e.qtracker.options.uvLocation},onQtrackerReady:function(e){window._qtd=window._qtd||[],c.isNative(window._qtd.push)?setTimeout(function(){c.onQtrackerReady(e)},500):e()},isNative:function(e){return/\[native code\]/.test(e.toString())},saveAndsendPing:function(e){var t="qb_etc_data";window[t]=window[t]||[],window[t].push(e),c.onQtrackerReady(function(){c.uvListenerSupport()?c.publishWithUV(t):c.publishWithQtd(t)})},publishWithQtd:function(e){var t={data:{}};t.data[e]=window[e],window._qtd.push(t)},publishWithUV:function(e){var t=window.universal_variable=window.universal_variable||{};t.qb=t.qb||{},t.qb[e]=window[e],c.resendUVs()},resendUVs:t(function(){window._qtd.push({resendUniversalVariables:1})},100),getStatus:function(){return c.extractStatus(c.getCookieLib().readCookie(c.statusKey))},getOptsStatus:function(){var e,t;if(e=c.getCookieLib().readCookie(c.optsKey)){try{t=o.parse(e)}catch(n){t={}}return t}return{}},extractStatus:function(e){return e?c.transformToInternalJSON(o.parse(e)):c.createDefaultStatus()},transformToExternalJSON:function(e){var t,n,i;if(i={b:{}},e.c)for(t in e.c)e.c.hasOwnProperty(t)&&(n=e.c[t],i.b[t]=[],i.b[t].push(n.c_prob),i.b[t].push(n.e),i.b[t].push(n.tc),i.b[t].push(n.ckg));return e.cg&&(i.cg=e.cg),i},transformToInternalJSON:function(e){var t,n,i;if(!e.b)return e;i=c.createDefaultStatus(),e.cg&&(i.cg=e.cg);for(t in e.b)e.b.hasOwnProperty(t)&&(n=e.b[t],i.c[t]={c_prob:n[0],e:n[1],tc:n[2],ckg:n[3],c:Number(t)});return i},createDefaultStatus:function(){return{c:{}}},writeStatus:function(e){var t=c.transformToExternalJSON(e);c.getCookieLib().writeCookie(c.statusKey,o.stringify(t),365,c.opts.domain)},writeOptsStatus:function(e){c.getCookieLib().writeCookie(c.optsKey,o.stringify(e),365,c.opts.domain)},isPreview:function(){return c.getCookieLib().readCookie(c.previewFlag)||document.location.href.indexOf(c.previewFlag)>-1},isSyncPreview:function(){return c.getCookieLib().readCookie(c.previewSyncFlag)||document.location.href.indexOf(c.previewSyncFlag)>-1||window[c.previewSyncFlag]===!0},isDebug:function(){return document.location.href.indexOf(c.debugFlag)>-1},loadPreview:function(){var e,t,n;e=c.getScript(),e&&!e.isPreview?(n=c.hashParams(),t=[],t.push("//smartserve"),"dd6zx4ibq538k"!==e.distro&&t.push("-dev"),t.push(".s3.amazonaws.com/smartserve-"),t.push(e.id),n[c.localPreviewId]&&t.push("-"+n[c.localPreviewId]),t.push("-preview.js"),c.loadScript(t.join(""))):c.start()},getScript:function(){var e,t,n,i,r,o,s,a=/smartserve-(\d+)(-\w+)?(-preview)?\.js/;for(i=c.getAllScripts(),e=0,t=i.length;t>e;e+=1)if(n=i[e],r=n.getAttribute("src"),r&&r.match(a)&&(o=!!r.match(/(-preview)/),s={isPreview:o,id:r.match(a)[1],distro:r.match(/\/\/(\w+)\.cloudfront\.net/)?r.match(/\/\/(\w+)\.cloudfront\.net/)[1]:r.match(/\/\/([\w\-]+)\.s3/)?r.match(/\/\/([\w\-]+)\.s3/)[1]:"dd6zx4ibq538k"},o))return s;return s},getAllScripts:function(){return document.getElementsByTagName("script")},getHead:function(){return document.getElementsByTagName("head")[0]},loadScript:function(e){if(c.isSyncPreview())document.write(["<scr","ipt src='",e,"'></scr","ipt>"].join(""));else{var t=document.createElement("script");t.src=e,c.getHead().appendChild(t)}},hashParams:function(){var e=c.getUrl();if(-1===e.indexOf("#"))return{};for(var t,n=e.substring(e.indexOf("#")+1).split("&"),i={},r=decodeURIComponent,o=n.length-1;o>=0;o--)t=n[o].split("="),i[r(t[0])]=t[1]?r(t[1]):!0;return i}};return c.isPreview()?(window[c.debugVariable]=!0,c.loadPreview()):window._etc_testing||(c.isDebug()&&(window[c.debugVariable]=!0),c.start()),c}}),function(){function e(){return A.pop()||[]}function t(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function n(e){e.length=0,A.length<M&&A.push(e)}function i(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,o=Array(0>r?0:r);++i<r;)o[i]=e[t+i];return o}function r(){}function o(e){function t(){if(r){var e=i(r);tt.apply(e,arguments)}if(this instanceof t){var s=st(n.prototype),a=n.apply(s,e||arguments);return m(a)?a:s}return n.apply(o,e||arguments)}var n=e[0],r=e[2],o=e[4];return t}function s(e,t,n){if("function"!=typeof e)return S;if("undefined"==typeof t||!("prototype"in e))return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return C(e,t)}function a(e){function t(){var e=l?u:this;if(o){var g=i(o);tt.apply(g,arguments)}if((s||d)&&(g||(g=i(arguments)),s&&tt.apply(g,s),d&&g.length<c))return r|=16,a([n,p?r:-4&r,g,null,u,c]);if(g||(g=arguments),f&&(n=e[h]),this instanceof t){e=st(n.prototype);var v=n.apply(e,g);return m(v)?v:e}return n.apply(e,g)}var n=e[0],r=e[1],o=e[2],s=e[3],u=e[4],c=e[5],l=1&r,f=2&r,d=4&r,p=8&r,h=n;return t}function u(e,t,n,i){for(var r=(i||0)-1,o=e?e.length:0,s=[];++r<o;){var a=e[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(ut(a)||at(a))){t||(a=u(a,t,n));var c=-1,l=a.length,f=s.length;for(s.length+=l;++c<l;)s[f++]=a[c]}else n||s.push(a)}return s}function c(i,r,o,s,a,u){if(o){var l=o(i,r);if("undefined"!=typeof l)return!!l}if(i===r)return 0!==i||1/i==1/r;var f=typeof i,d=typeof r;if(!(i!==i||i&&U[f]||r&&U[d]))return!1;if(null==i||null==r)return i===r;var p=Z.call(i),h=Z.call(r);if(p==$&&(p=R),h==$&&(h=R),p!=h)return!1;switch(p){case D:case H:return+i==+r;case B:return i!=+i?r!=+r:0==i?1/i==1/r:i==+r;case z:case W:return i==String(r)}var m=p==L;if(!m){var v=et.call(i,"__wrapped__"),y=et.call(r,"__wrapped__");if(v||y)return c(v?i.__wrapped__:i,y?r.__wrapped__:r,o,s,a,u);if(p!=R||!rt.nodeClass&&(t(i)||t(r)))return!1;var b=!rt.argsObject&&at(i)?Object:i.constructor,w=!rt.argsObject&&at(r)?Object:r.constructor;if(b!=w&&!(g(b)&&b instanceof b&&g(w)&&w instanceof w)&&"constructor"in i&&"constructor"in r)return!1}var _=!a;a||(a=e()),u||(u=e());for(var x=a.length;x--;)if(a[x]==i)return u[x]==r;var q=0;if(l=!0,a.push(i),u.push(r),m){if(x=i.length,q=r.length,l=q==x,l||s)for(;q--;){var k=x,C=r[q];if(s)for(;k--&&!(l=c(i[k],C,o,s,a,u)););else if(!(l=c(i[q],C,o,s,a,u)))break}}else gt(r,function(e,t,n){return et.call(n,t)?(q++,l=et.call(i,t)&&c(i[t],e,o,s,a,u)):void 0}),l&&!s&&gt(i,function(e,t,n){return et.call(n,t)?l=--q>-1:void 0});return a.pop(),u.pop(),_&&(n(a),n(u)),l}function l(e,t,n,i,r){(ut(t)?w:mt)(t,function(t,o){var s,a,u=t,c=e[o];if(t&&((a=ut(t))||vt(t))){for(var f=i.length;f--;)if(s=i[f]==t){c=r[f];break}if(!s){var d;n&&(u=n(c,t),(d="undefined"!=typeof u)&&(c=u)),d||(c=a?ut(c)?c:[]:vt(c)?c:{}),i.push(t),r.push(c),d||l(c,t,n,i,r)}}else n&&(u=n(c,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(c=u);e[o]=c})}function f(e,t,n,i,r,s){var u=2&t,c=16&t,l=32&t;if(!u&&!g(e))throw new TypeError;c&&!n.length&&(t&=-17,c=n=!1),l&&!i.length&&(t&=-33,l=i=!1);var f=1==t||17===t?o:a;return f([e,t,n,i,r,s])}function d(){V.shadowedProps=P,V.array=V.bottom=V.loop=V.top="",V.init="iterable",V.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)V[n]=e[n];var i=V.args;V.firstArg=/^[^,]+/.exec(i)[0];var r=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+i+") {\n"+ot(V)+"\n}");return r(s,I,K,et,O,at,ut,v,Q,U,it,W,Y,Z)}function p(e){var t=[];return gt(e,function(e,n){g(e)&&t.push(n)}),t.sort()}function h(e){return e===!0||e===!1||e&&"object"==typeof e&&Z.call(e)==D||!1}function g(e){return"function"==typeof e}function m(e){return!(!e||!U[typeof e])}function v(e){return"string"==typeof e||e&&"object"==typeof e&&Z.call(e)==W||!1}function y(t){var r=arguments,o=2;if(!m(t))return t;if("number"!=typeof r[2]&&(o=r.length),o>3&&"function"==typeof r[o-2])var a=s(r[--o-1],r[o--],2);else o>2&&"function"==typeof r[o-1]&&(a=r[--o]);for(var u=i(arguments,1,o),c=-1,f=e(),d=e();++c<o;)l(t,u[c],a,f,d);return n(f),n(d),t}function b(e,t,n){var i=!0;if(t=r.createCallback(t,n,3),ut(e))for(var o=-1,s=e.length;++o<s&&(i=!!t(e[o],o,e)););else pt(e,function(e,n,r){return i=!!t(e,n,r)});return i}function w(e,t,n){if(t&&"undefined"==typeof n&&ut(e))for(var i=-1,r=e.length;++i<r&&t(e[i],i,e)!==!1;);else pt(e,t,n);return e}function _(e,t,n){var i=-1,o=e?e.length:0,s=Array("number"==typeof o?o:0);if(t=r.createCallback(t,n,3),ut(e))for(;++i<o;)s[i]=t(e[i],i,e);else pt(e,function(e,n,r){s[++i]=t(e,n,r)});return s}function x(e,t,n,i){var o=arguments.length<3;if(t=r.createCallback(t,i,4),ut(e)){var s=-1,a=e.length;for(o&&(n=e[++s]);++s<a;)n=t(n,e[s],s,e)}else pt(e,function(e,i,r){n=o?(o=!1,e):t(n,e,i,r)});return n}function q(e,t,n){var i;if(t=r.createCallback(t,n,3),ut(e))for(var o=-1,s=e.length;++o<s&&!(i=t(e[o],o,e)););else pt(e,function(e,n,r){return!(i=t(e,n,r))});return!!i}function C(e,t){return arguments.length>2?f(e,17,i(arguments,2),null,t):f(e,1,null,null,t)}function T(e){for(var t=arguments.length>1?u(arguments,!0,!1,1):p(e),n=-1,i=t.length;++n<i;){var r=t[n];e[r]=f(e[r],1,null,null,e)}return e}function E(e,t,n){var i=typeof e;if(null==e||"function"==i)return s(e,t,n);if("object"!=i)return N(e);var r=ct(e),o=r[0],a=e[o];return 1!=r.length||a!==a||m(a)?function(t){for(var n=r.length,i=!1;n--&&(i=c(t[r[n]],e[r[n]],null,!0)););return i}:function(e){var t=e[o];return a===t&&(0!==a||1/a==1/t)}}function S(e){return e}function j(){}function N(e){return function(t){return t[e]}}var A=[],O={},M=40,P=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$="[object Arguments]",L="[object Array]",D="[object Boolean]",H="[object Date]",I="[object Error]",F="[object Function]",B="[object Number]",R="[object Object]",z="[object RegExp]",W="[object String]",V={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},U={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G=U[typeof window]&&window||this,X=U[typeof global]&&global;!X||X.global!==X&&X.window!==X||(G=X);var J=[],K=Error.prototype,Q=Object.prototype,Y=String.prototype,Z=Q.toString,et=Q.hasOwnProperty,tt=J.push,nt=Q.propertyIsEnumerable,it={};it[L]=it[H]=it[B]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},it[D]=it[W]={constructor:!0,toString:!0,valueOf:!0},it[I]=it[F]=it[z]={constructor:!0,toString:!0},it[R]={constructor:!0},function(){for(var e=P.length;e--;){var t=P[e];for(var n in it)et.call(it,n)&&!et.call(it[n],t)&&(it[n][t]=!1)}}();var rt=r.support={};!function(){var e=function(){this.x=1},t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var i in new e)n.push(i);for(i in arguments);rt.argsClass=!1,rt.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),rt.enumErrorProps=nt.call(K,"message")||nt.call(K,"name"),rt.enumPrototypes=nt.call(e,"prototype"),rt.nonEnumArgs=0!=i,rt.nonEnumShadows=!/valueOf/.test(n),rt.ownLast="x"!=n[0],rt.spliceObjects=(J.splice.call(t,0,1),!t[0]),rt.unindexedChars="x"[0]+Object("x")[0]!="xx";try{rt.nodeClass=!(Z.call(document)==R&&!({toString:0}+""))}catch(r){rt.nodeClass=!0}}(1);var ot=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",rt.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):rt.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),rt.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),rt.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(rt.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),rt.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",rt.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||rt.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"},st=function(){function e(){}return function(t){if(m(t)){e.prototype=t;var n=new e;e.prototype=null}return n||G.Object()}}(),at=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&et.call(e,"callee")&&!nt.call(e,"callee")||!1},ut=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Z.call(e)==L||!1},ct=d({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),lt={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},ft={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},dt={top:"if (!objectTypes[typeof iterable]) return result;\n"+lt.top,array:!1},pt=d(lt),ht=d(ft,{top:ft.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),gt=d(lt,dt,{useHas:!1}),mt=d(lt,dt);g(/x/)&&(g=function(e){return"function"==typeof e&&Z.call(e)==F});var vt=function(e){var n,i;return!e||Z.call(e)!=R||(n=e.constructor,g(n)&&!(n instanceof n))||!rt.argsClass&&at(e)||!rt.nodeClass&&t(e)?!1:rt.ownLast?(gt(e,function(e,t,n){return i=et.call(n,t),!1}),i!==!1):(gt(e,function(e,t){i=t}),"undefined"==typeof i||et.call(e,i))},yt=_;r.assign=ht,r.bind=C,r.bindAll=T,r.createCallback=E,r.forEach=w,r.forIn=gt,r.forOwn=mt,r.functions=p,r.keys=ct,r.map=_,r.merge=y,r.pluck=yt,r.property=N,r.collect=_,r.each=w,r.extend=ht,r.methods=p,r.every=b,r.identity=S,r.isArguments=at,r.isArray=ut,r.isBoolean=h,r.isFunction=g,r.isObject=m,r.isPlainObject=vt,r.isString=v,r.noop=j,r.reduce=x,r.some=q,r.all=b,r.any=q,r.foldl=x,r.inject=x,r.VERSION="2.4.1","function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("mini_lodash",[],function(){return r})}.call(this),function(e){e("when",[],function(){function e(e,n,i,r){return t(e).then(n,i,r)}function t(e){var t;return t=e instanceof r?e:u(e)?n(e):o(e)}function n(e){var t=a();try{e.then(function(e){t.resolve(e)},function(e){t.reject(e)},function(e){t.progress(e)})}catch(n){t.reject(n)}return t.promise}function i(t){return e(t,s)}function r(e){this.then=e}function o(e){var n=new r(function(n){try{return t("function"==typeof n?n(e):e)}catch(i){return s(i)}});return n}function s(e){var n=new r(function(n,i){try{return t("function"==typeof i?i(e):s(e))}catch(r){return s(r)}});return n}function a(){function e(e,t,n){return d(e,t,n)}function n(e){return h(t(e))}function i(e){return h(s(e))}function o(e){return p(e)}var u,c,l,f,d,p,h;return c=new r(e),u={then:e,resolve:n,reject:i,progress:o,notify:o,promise:c,resolver:{resolve:n,reject:i,progress:o,notify:o}},l=[],f=[],d=function(e,t,n){var i,r;return i=a(),r="function"==typeof n?function(e){try{i.notify(n(e))}catch(t){i.notify(t)}}:function(e){i.notify(e)},l.push(function(n){n.then(e,t).then(i.resolve,i.reject,r)}),f.push(r),i.promise},p=function(e){return m(f,e),e},h=function(e){return d=e.then,h=t,p=b,m(l,e),f=l=x,e},u}function u(e){return e&&"function"==typeof e.then}function c(t,n,i,r,o){return v(2,arguments),e(t,function(t){function s(e){g(e)}function u(e){h(e)}var c,l,f,d,p,h,g,m,v,b;if(v=t.length>>>0,c=Math.max(0,Math.min(n,v)),f=[],l=v-c+1,d=[],p=a(),c)for(m=p.notify,g=function(e){d.push(e),--l||(h=g=y,p.reject(d))},h=function(e){f.push(e),--c||(h=g=y,p.resolve(f))},b=0;v>b;++b)b in t&&e(t[b],u,s,m);else p.resolve(f);return p.promise.then(i,r,o)})}function l(e,t,n,i){function r(e){return t?t(e[0]):e[0]}return c(e,1,r,n,i)}function f(e,t,n,i){return v(1,arguments),p(e,b).then(t,n,i)}function d(){return p(arguments,b)}function p(t,n){return e(t,function(t){var i,r,o,s,u,c;if(o=r=t.length>>>0,i=[],c=a(),o)for(s=function(t,r){e(t,n).then(function(e){i[r]=e,--o||c.resolve(i)},c.reject,c.notify)},u=0;r>u;u++)u in t?s(t[u],u):--o;else c.resolve(i);return c.promise})}function h(t,n){var i=_.call(arguments,1);return e(t,function(t){var r;return r=t.length,i[0]=function(t,i,o){return e(t,function(t){return e(i,function(e){return n(t,e,o,r)})})},w.apply(t,i)})}function g(t,n,i){var r=arguments.length>2;return e(t,function(e){return e=r?i:e,n.resolve(e),e},function(e){return n.reject(e),s(e)},function(e){return"function"==typeof n.notify&&n.notify(e),e})}function m(e,t){for(var n,i=0;n=e[i++];)n(t)}function v(e,t){for(var n,i=t.length;i>e;)if(n=t[--i],null!=n&&"function"!=typeof n)throw new Error("arg "+i+" must be a function")}function y(){}function b(e){return e}var w,_,x;return e.defer=a,e.resolve=t,e.reject=i,e.join=d,e.all=f,e.map=p,e.reduce=h,e.any=l,e.some=c,e.chain=g,e.isPromise=u,r.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(x,e)},"yield":function(e){return this.then(function(){return e})},spread:function(e){return this.then(function(t){return f(t,function(t){return e.apply(x,t)})})}},_=[].slice,w=[].reduce||function(e){var t,n,i,r,o;if(o=0,t=Object(this),r=t.length>>>0,n=arguments,n.length<=1)for(;;){if(o in t){i=t[o++];break}if(++o>=r)throw new TypeError}else i=n[1];for(;r>o;++o)o in t&&(i=e(i,t[o],o,t));return i},e})}("function"==typeof define&&define.amd?define:function(e){"object"==typeof exports?module.exports=e():this.when=e()}),define("events",["require"],function(){var e=[],t=e.slice,n=/\s+/,i=function(e,t,i,r){if(!i)return!0;if("object"==typeof i)for(var o in i)e[t].apply(e,[o,i[o]].concat(r));else{if(!n.test(i))return!0;for(var s=i.split(n),a=0,u=s.length;u>a;a++)e[t].apply(e,[s[a]].concat(r))}},r=function(e,t){var n,i=-1,r=e.length;switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,t[0]);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,t[0],t[1]);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,t[0],t[1],t[2]);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},o={on:function(e,t,n){if(!i(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},off:function(e,t,n){var r,o,s,a,u,c,l,f;if(!this._events||!i(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:_.keys(this._events),u=0,c=a.length;c>u;u++)if(e=a[u],r=this._events[e]){if(s=[],t||n)for(l=0,f=r.length;f>l;l++)o=r[l],(t&&t!==o.callback&&t!==o.callback._callback||n&&n!==o.context)&&s.push(o);this._events[e]=s}return this},trigger:function(e){if(!this._events)return this;var n=t.call(arguments,1);if(!i(this,"trigger",e,n))return this;var o=this._events[e],s=this._events.all;return o&&r(o,n),s&&r(s,arguments),this}};return o}),define("logger",["require","json"],function(e){var t=e("json");return{logVariation:function(e,t,n){if(window._ss_debug){var i=["variation",e],r=Array.prototype.slice.call(t,0);i.push.apply(i,r),n?this.logError.apply(this,i):this.log.apply(this,i)}},logExperiment:function(e,t,n){if(window._ss_debug){var i=["experiment",e],r=Array.prototype.slice.call(t,0);i.push.apply(i,r),n?this.logError.apply(this,i):this.log.apply(this,i)}},logError:function(){if(window._ss_debug){var e=Array.prototype.slice.call(arguments,0);if(window.console)try{console.error.apply(console,e)}catch(n){console.error(t.stringify(e))}window._qb_messages=window._qb_messages||[],window._qb_messages.push(e)}},log:function(){if(window._ss_debug){var e=Array.prototype.slice.call(arguments,0);if(window.console)try{console.log.apply(console,e)}catch(n){console.log(t.stringify(e))}window._qb_messages=window._qb_messages||[],window._qb_messages.push(e)}}}}),define("cookie_manager",["require","json","./etc.widget/lib/cookie"],function(e){var t=e("json"),n=e("./etc.widget/lib/cookie"),i="ss_opts",r=function(){return{read:function(e,t){return this.getVariant(e)[t]},readGlobal:function(e){return this.read("global",e)},readInt:function(e,t){var n=this.read(e,t);try{n=parseInt(n,10)||0}catch(i){n=0}return n},write:function(e,n,r){var o=this.getValues(),s=o[e]||(o[e]={});s[n]=r;var a;window._qb_ss&&window._qb_ss[0]&&(a=window._qb_ss[0].domain),this.writeCookie(i,"{}",-1),this.writeCookie(i,"{}",-1,a),this.writeCookie(i,t.stringify(o),365,a)},writeGlobal:function(e,t){this.write("global",e,t)},getValues:function(){var e=this.readCookie(i);return e=e?t.parse(e):{}},getVariant:function(e){var t=this.getValues();return t[e]||(t[e]={})},readCookie:n.readCookie,writeCookie:n.writeCookie}}();return r}),define("exit_checker",["require"],function(){return function(e){var t;return t={defaultConfig:{debugMode:!1,topHeight:150,moveQueueDepth:2,moveDelay:500,moveVel:500,leftGap:10,attachTime:500,returnTime:1e3,eventInterval:100,showProb:1},start:function(){t.isBadBrowser(navigator.userAgent,window)||(t.startTime=(new Date).getTime(),t.setConfig(),t.initVars(),t.waitTillReady())},isBadBrowser:function(e,t){return e.indexOf("iPad")>=0||e.indexOf("iPhone")>=0||e.indexOf("android")>=0||e.indexOf("Android")>=0||e.indexOf("Mobile")>=0||e.indexOf("mobile")>=0||e.indexOf("MSIE 6")>=0||!t.sessionStorage},waitTillReady:function(){document.body&&document.getElementById?t.onReady():setTimeout(t.waitTillReady,100)},onReady:function(){t.opts.attachTime?setTimeout(t.attachEvents,t.opts.attachTime):t.attachEvents()},setConfig:function(){var n,i=e||{};t.opts={};for(n in t.defaultConfig)t.defaultConfig.hasOwnProperty(n)&&(t.opts[n]=t.defaultConfig[n]);t.deepMerge(t.opts,i)},deepMerge:function(e,n){var i,r,o;for(i in n)n.hasOwnProperty(i)&&(r=e[i],o=n[i],r&&o&&"object"==typeof o?t.deepMerge(r,o):e[i]=o)},setDefault:function(e,n){void 0===t.opts[e]&&(t.opts[e]=n)},initVars:function(){t.lastMoves=[]},attachEvents:function(){t.opts.debugMode&&window.console&&console.log("Listening to mouse");var e=document;t.attachMouseMove(e),t.attachMouseOut(e),t.detectField=e},createListenField:function(){var e=document.createElement("div");return e.style.width="100%",e.style.height=t.opts.topHeight+"px",e.style.top="0",e.style.left="0",e.style.position="fixed",e.style.marginLeft=t.opts.leftGap+"px",window.fb_testing&&(e.style.backgroundColor="green",e.style.opacity="0.2"),document.body.appendChild(e),e},attachMouseMove:function(e){e.attachEvent?e.attachEvent("onmousemove",t.onMouseMove):e.addEventListener&&e.addEventListener("mousemove",t.onMouseMove,!1)},onMouseMove:function(e){for(t.lastMoves.push({t:e.debug_time||(new Date).getTime(),x:e.clientX,y:e.clientY});t.lastMoves.length>t.opts.moveQueueDepth;)t.lastMoves.shift();t.returnTimeout&&(clearTimeout(t.returnTimeout),delete t.returnTimeout),e.clientY>t.opts.topHeight&&(t.removeEvent(t.detectField,"mousemove",t.onMouseMove),setTimeout(function(){t.attachMouseMove(document)},t.opts.eventInterval))},attachMouseOut:function(e){e.attachEvent?e.attachEvent("onmouseout",t.onMouseOut):e.addEventListener&&e.addEventListener("mouseout",t.onMouseOut,!0)},onMouseOut:function(){if(!t.returnTimeout){var e,n,i,r,o,s,a=(new Date).getTime();r=t.lastMoves[1],o=t.lastMoves[0],t.opts.debugMode&&window.console&&console.log(r,o),r&&o&&r.t>=a-t.opts.moveDelay&&o.y<=t.opts.topHeight&&(e=r.x-o.x,n=r.y-o.y,i=r.t-o.t,s=Math.sqrt(e*e+n*n)/i*1e3,t.opts.debugMode&&window.console&&(console.log("vel: ",s," ",e," ",n," ",i),console.log("lim: ",t.opts.moveVel)),s>=t.opts.moveVel&&(t.opts.returnTime?(t.returnTimeout=setTimeout(t.tryShowFeedback,t.opts.returnTime),t.removeEvent(t.detectField,"mousemove",t.onMouseMove),setTimeout(function(){t.attachMouseMove(t.detectField)},50)):t.tryShowFeedback()))}},tryShowFeedback:function(){t.removeEvents(),Math.random()<t.opts.showProb&&t.showFeedback()},removeEvents:function(){t.removeEvent(t.detectField,"mousemove",t.onMouseMove),t.removeEvent(t.detectField,"mouseout",t.onMouseOut)
},removeEvent:function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n)},showFeedback:function(){t.showTime=(new Date).getTime(),t.doShowFeedback()},doShowFeedback:function(){t.opts.callBack()},makeDelegate:function(e){return function(n){e(t.getAPI(),n)}},delegateEvents:function(e,n){if(n){var i,r,o,s;for(i in n)n.hasOwnProperty(i)&&2===i.split(" ").length&&(o=i.split(" ")[0],s=i.split(" ")[1],r=n[i],e.on(o,s,t.makeDelegate(r)));n.load&&n.load(t.getAPI())}}}}}),define("match_condition",["mini_lodash"],function(){function e(e,t){return i.isString(e)&&e.indexOf(t)>-1}function t(e){return i.isArray(e)?e.slice(0):[e]}function n(e){return i.map(e,function(e){return i.isString(e)?e.toLowerCase():e})}var i=require("mini_lodash");return function(r,o){function s(e){return i.all(c,function(t){return i.all(l,function(n){return e(t,n)})})}function a(e){return i.any(c,function(t){return i.any(l,function(n){return e(t,n)})})}var u=r.op,c=n(t(r.value)),l=n(t(o));switch(u){case"eq":return a(function(e,t){return t===e});case"neq":return s(function(e,t){return t!==e});case"gt":return a(function(e,t){return t>e});case"lt":return a(function(e,t){return e>t});case"in":return a(function(t,n){return e(n,t)});case"nin":return s(function(t,n){return!e(n,t)});case"regex":return a(function(e,t){return new RegExp(e).test(t)});default:return!1}}}),define("variation_manager",["require","mini_lodash","when","events","logger","cookie_manager","exit_checker","json","match_condition"],function(require){var _=require("mini_lodash"),when=require("when"),Events=require("events"),logger=require("logger"),CookieManager=require("cookie_manager"),exitChecker=require("exit_checker"),JSON=require("json"),matchCondition=require("match_condition"),on=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)},off=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n)},VariationManager=function(id,variation_id,experiment_id,params,cookieManager){cookieManager||(cookieManager=CookieManager);var vm={activation:function(e){this.log("trying to activate");var t=this.log;if(this._bypassTests())return t("Bypassing activation due to URL parameter."),t("activating"),e(),!0;var n=this._getTests(),i=0,r=_.bind(function(){var o=_.map(n[i],function(e){return e()});when.all(o).then(function(o){var s=_.all(o,function(e){return e});s&&(i+=1,i===n.length?(t("activating"),e()):r())})},this);r()},_bypassTests:function(){return this._getUrl().indexOf("bypass_activation")>-1},_getTests:function(){var e=[];return e.push([]),e[0].push(this._checkCloseTime),e[0].push(this._checkTimesActivated),e[0].push(this._checkTimesActivatedInSession),e[0].push(this._checkUrl),e[0].push(this._checkSessionNumber),e[0].push(this._checkMinPageViews),e[0].push(this._checkMaxPageViews),e[0].push(this._checkMinTimeOnPage),e[0].push(this._checkMinTimeOnSite),e[0].push(this._checkCustomJavascript),e[0].push(this._checkDepthVisibility),e[0].push(this._checkComponentUVs),e[0].push(this._checkUVs),e.push([]),e[1].push(this._checkLeavingPage),e},_checkComponentUVs:function(){var e=this,t=!0;return _.each(params&&params.components,function(n){n&&n.dependencies&&n.dependencies.uv&&_.each(n.dependencies.uv,function(n){t=t&&e._objHasPath(window.universal_variable||{},n)})}),this.log("activation rule: 'content UVs'.","Will activate?",t),t},_objHasPath:function(e,t){var n=!0,i=e,r=t.split(".");return _.each(r,function(e,t){n&&(i=i[r[t]],n=n&&void 0!==i)}),n},_checkCloseTime:function(){var e=cookieManager.readInt(id,"close_duration"),t=cookieManager.readInt(id,"close_time");if(e&&t){var n=t+1e3*e<this._getTime();return this.log("activation rule: 'block_time'.","Closed at:",new Date(t),"Staying closed till:",new Date(t+1e3*e),"Will activate?",n),n}return!0},_checkTimesActivated:function(){if(params.rules&&params.rules.times_activated){var e=params.rules.times_activated,t=cookieManager.readInt(id,"times_activated"),n=e>t;return this.log("activation rule: 'times_activated'.","Can fire count:",e,"Has fired count:",t,"Will activate?",n),n}return!0},_checkTimesActivatedInSession:function(){if(params.rules&&params.rules.times_activated_session){1===this._getPageViews()&&cookieManager.write(id,"times_activated_session",0);var e=cookieManager.readInt(id,"times_activated_session"),t=params.rules.times_activated_session,n=e<t.value;return this.log("activation rule: 'times_activated_session'.","Can fire count:",t.value,"Has fired count:",e,"Will activate?",n),n}return!0},_checkUVs:function(){if(params.rules){var e=params.rules,t=!0;return _.each(e,function(e,n){if(0===n.indexOf("pageviews__customvalues__uv")){var i=e.key;i=i.replace("pageviews.customvalues.uv","universal_variable");var r=this._getNested(window,i),o=!!this._testUVOperator(e.op,r,e.value);this.log("activation rule: 'universal_variable'.","key:",i,"operator:",e.op,"value:",r,"expected:",e.value,"matched?",o),o||(t=!1)}},this),t}return!0},_getNested:function(e,t){for(var n=t.split(".");n.length&&(e=e[n.shift()]););return e},_testUVOperator:function(e,t,n){return matchCondition({op:e,value:n},t)},_checkUrl:function(){return params.rules&&params.rules.page_url?(this.log(params.rules.page_url),_.any(params.rules.page_url.urls,function(e){var t,n,i,r="n"===e.match_type[0],o=e.match_phrase;o=_.isArray(o)?o:[o];var s=this._getUrl().toLowerCase();switch(e.match_type){case"contains":case"ncontains":n=function(e){return e=e.toLowerCase(),s.indexOf(e)>-1},i="url contains";break;case"regex":case"nregex":n=function(e){return s.match(new RegExp(e,"i"))},i="url matches regex";break;default:this.log("Didn't find an appropriate match type"),n=function(){return!1}}return t=_.some(o,n),t=r?!t:t,this.log("activation rule: '"+i+"'.","search term:",e.match_phrase,"reverse match?",r,"Will trigger? ",t),t},this)):!0},_checkSessionNumber:function(){if(params.rules&&params.rules.session_number){var e,t=params.rules.session_number,n=this._getSessionNumber();switch(t.op){case"eq":e=t.value===n;break;case"neq":e=t.value!==n;break;case"gt":e=t.value<n;break;case"lt":e=t.value>n}return this.log("activation rule: 'session number'",t.op,t.value,".","session number:",n,"Will activate?",e),e}return!0},_checkMinPageViews:function(){if(params.rules&&params.rules.min_page_views){var e=this._getPageViews(),t=!!e&&e>=params.rules.min_page_views;return this.log("activation rule: 'min page view'.","page views:",e,"min page views:",params.rules.min_page_views,"Will activate?",t),t}return!0},_checkMaxPageViews:function(){if(params.rules&&params.rules.max_page_views){var e=this._getPageViews(),t=!!e&&e<=params.rules.max_page_views;return this.log("activation rule: 'max page view'.","page views:",e,"max page views:",params.rules.max_page_views,"Will activate?",t),t}return!0},_checkMinTimeOnPage:function(){if(params.rules&&params.rules.min_time_on_page){var e=when.defer();return this.log("activation rule: 'min time on page'.","min time on page:",params.rules.min_time_on_page),setTimeout(_.bind(function(){this.log("activation rule: 'min time on page'.","time on page satisfied"),e.resolve(!0)},this),1e3*params.rules.min_time_on_page),e.promise}return!0},_checkMinTimeOnSite:function(){if(params.rules&&params.rules.min_time_in_session){var e=(new Date).getTime(),t=cookieManager.readGlobal("session_timer"),n=e-t,i=1e3*params.rules.min_time_in_session;if(n>i)return this.log("activation rule: 'min time on site'.","time on site satisfied"),!0;var r=new when.defer;return setTimeout(_.bind(function(){this.log("activation rule: 'min time on site'.","time on site satisfied"),r.resolve(!0)},this),i-n),r.promise}return!0},_checkCustomJavascript:function(){if(!params.rules||!params.rules.custom_javascript)return!0;var log=this.log,f,ret,d=when.defer(),src=params.rules.custom_javascript;log("activation rule: custom_javascript. status: checking"),src=/^function/.test(src)?"0 || "+src:src;try{if(f=eval("("+src+")"),"function"!=typeof f)return!!f;var resolveCallback=function(e){var t=0===arguments.length||e;log("activation rule: custom_javascript. status:",t?"passed":"failed"),d.resolve(t)};return ret=f(resolveCallback),"boolean"==typeof ret?(log("activation rule: custom_javascript. status:",ret?"passed":"failed"),ret):"undefined"==typeof ret?d.promise:(log("activation rule: custom_javascript. status: invalid_return_type"),!1)}catch(e){return this.log("Error in custom activation:",e.message),!1}},getDocHeight:function(){var e=document;return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))},windowProperties:function(){var e=document;return{viewportTop:Math.max(e.body.scrollTop,e.documentElement.scrollTop),clientHeight:e.documentElement.clientHeight,docHeight:this.getDocHeight()}},_checkDepthVisibility:function(){function e(){var s,a=o.windowProperties(),u=a.viewportTop,c=a.clientHeight,l=a.docHeight,f=u+c;switch(n){case"pct":u=u/l*100,f=f/l*100;case"top":s=i;break;case"bottom":s=l-i;break;default:return}s>=u&&f>=s&&(r("activation rule: 'scroll position satisfied'.","operator:",n,"expected:",i,"viewport top:",u,"viewport bottom:",f),t.resolve(!0),off(window,"scroll",e))}if(params.rules&&params.rules.scroll_position){var t=when.defer(),n=params.rules.scroll_position.op,i=params.rules.scroll_position.value,r=this.log,o=this;return r("activation rule: 'scroll position required'.","type:",n,"expected:",i),on(window,"scroll",e),e(),t.promise}return!0},_checkLeavingPage:function(){if(!params.rules||!params.rules.leaving_page)return!0;this.log("activation rule: 'leaving page'.","listening");var e=when.defer(),t={debugMode:!1,topHeight:150,moveQueueDepth:2,moveDelay:500,moveVel:500,leftGap:10,attachTime:1e3*(params.rules.leaving_page||1),returnTime:300,eventInterval:100,showProb:1,callBack:_.bind(function(){this.log("activation rule: 'leaving page'.","triggered"),window.q_ef_disable=!0,e.resolve(!0)},this)};try{return exitChecker(t).start(),e}catch(n){return!1}},_getSessionNumber:function(){var e=cookieManager.readCookie("_qst");try{if(e)return e=JSON.parse(e),e[0]>=e[1]?e[0]:e[1]}catch(t){return 1}},_getPageViews:function(){var e=window._qb_ss[0].trackingId,t=cookieManager.readCookie("_qPageNum_"+e);return t=parseInt(t,10),t+=1},_getTime:function(){return(new Date).getTime()},_getUrl:function(){return document.location.href},open:function(e){var t="same_tab"===e.target?"_self":"_blank";window.open(e.url,t),this.report("open",e.reason)},close:function(e){var t=e.behaviour;cookieManager.write(id,"close_time",(new Date).getTime()),"block_time"===t.type&&cookieManager.write(id,"close_duration",t.duration),this.report("close",e.reason),this.layer&&this.layer.destroy()},setLayer:function(e){this.layer=e},sliderShowing:function(e){return _.isBoolean(e)?(e?(this._incrementTimesShown(),window._ss_sliderShowing=!0):window._ss_sliderShowing=!1,void this.trigger("slider:"+(e?"show":"hide"))):!!window._ss_sliderShowing},_incrementTimesShown:function(){var e=cookieManager.readInt(id,"times_activated");cookieManager.write(id,"times_activated",e+1);var t=cookieManager.readInt(id,"times_activated_session");cookieManager.write(id,"times_activated_session",t+1)},on:function(){this.log("start listening to",arguments[0]),VariationManager.on.apply(VariationManager,arguments)},off:function(){this.log("stop listening to",arguments[0]),VariationManager.off.apply(VariationManager,arguments)},trigger:function(){this.log("triggered",arguments[0]),VariationManager.trigger.apply(VariationManager,arguments)},report:function(e,t){window._qtd=window._qtd||[],window._qtd.push({data:{smart_serve:{e:experiment_id,v:variation_id,vm:id,m:params.container.type,f:"deliver_reloaded",a:e,r:t}}})},log:function(){logger.logVariation(id,arguments)},logError:function(){logger.logVariation(id,arguments,!0)},addCustomStyles:function(){params.custom_styles&&(params.custom_styles.error?this.logError("LESS error",params.custom_styles.error):this._addStyleSheet(params.custom_styles))},_addStyleSheet:function(e){var t,n;t=document.getElementsByTagName("head")[0],n=document.createElement("style"),n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}};return _.bindAll(vm),vm};return _.extend(VariationManager,Events),VariationManager}),define("when_map",["require","mini_lodash","when"],function(e){return function(t){var n=e("mini_lodash"),i=e("when"),r=n.keys(t),o=n.map(r,function(e){return t[e]}),s=i.defer();return i.all(o).then(function(e){var t={};n.each(r,function(n,i){return t[n]=e[i]}),s.resolve(t)}),s.promise}}),define("data_util",["require","cookie_manager"],function(e){function t(e,n,i){e()?n():(i=(i||0)+1,setTimeout(function(){t(e,n,i)},50*i))}var n=e("cookie_manager");return{visitorId:function(e){t(function(){return n.readCookie("_qubitTracker")},function(){e(n.readCookie("_qubitTracker"))})},trackingId:function(){return window._qb_ss&&window._qb_ss.length>0&&window._qb_ss[0].trackingId?window._qb_ss[0].trackingId:window.location.hostname},cookieDomain:function(){var e;return window._qb_ss&&window._qb_ss.length>0&&(e=window._qb_ss[0].domain),e},protocol:function(){return"https:"===document.location.protocol?"https://":"http://"},supportLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}}}),define("orca",["require","mini_lodash","jquery","when","data_util","json"],function(e){function t(){}var n,i=e("mini_lodash"),r=e("jquery"),o=e("when"),s=e("data_util"),a=e("json"),u=36e5,c=24*u,l=1*c,f="orca.qubitproducts.com/orca",d="_q_visitor",p="_q_lookup_time",h={};return t.prototype.now=function(){return(new Date).getTime()},t.prototype.getItem=function(e){var t=localStorage.getItem(e);if(t)try{t=a.parse(t)}catch(n){t={}}else t={};return t},t.prototype.setItem=function(e,t){localStorage.setItem(e,a.stringify(t))},t.prototype.createRequestUrl=function(e){var t=o.defer();return s.visitorId(function(n){var i=e.endpoint||f;t.resolve([s.protocol(),i,"/",s.trackingId(),"/",n,"?attr=",e.attr].join(""))}),t.promise},t.prototype.recordExpired=function(e){var t=this.getItem(p);if(!t.hasOwnProperty(e.attr))return!0;var n=this.now()-t[e.attr];return n>=(e.expiresInMs||l)},t.prototype.updateRecordTime=function(e){var t=this.getItem(p);t[e.attr]=this.now(),this.setItem(p,t)},t.prototype.getLocalHistory=function(){return this.getItem(d)},t.prototype.resetLocalHistryByPath=function(e,t){var n=t.path.split("."),i=0,r=n.length,o=e;for(i=0;r>i&&o.hasOwnProperty(n[i]);i++){if(r-i===1){delete o[n[i]];break}o=o[n[i]]}return e},t.prototype.updateLocalHistory=function(e,t){var n=this.getLocalHistory();n=this.resetLocalHistryByPath(n,t),n=i.merge(n,e),this.setItem(d,n)},t.prototype.getRemoteHistory=function(e){return this.createRequestUrl(e).then(function(e){return r.when(r.ajax({url:e,crossDomain:!0,dataType:"jsonp"}))})},t.prototype.getJsonValueByPath=function(e,t,i){var r,o=t.split("."),s=0,a=o.length,u=e;for(s=0;a>s;s++){if(!u.hasOwnProperty(o[s])){r=i===n?null:i;break}if(u=u[o[s]],a-s===1){r=u;break}}return r},t.prototype.resolve=function(e,t,n){e.resolve(n.path?this.getJsonValueByPath(t,n.path,n.defaultValue):t)},t.prototype.lookup=function(e){return h||(h={}),h[e.endpoint]||(h[e.endpoint]={}),h[e.endpoint][e.attr]||(h[e.endpoint][e.attr]={}),h[e.endpoint][e.attr][e.path]||(h[e.endpoint][e.attr][e.path]=this._lookup(e)),h[e.endpoint][e.attr][e.path]},t.prototype.clearCache=function(){h={}},t.prototype._lookup=function(e){var t=o.defer();if(!s.supportLocalStorage())return t.reject(),t.promise;var n=this;if(n.recordExpired(e))n.getRemoteHistory(e).then(function(i){n.updateRecordTime(e),n.updateLocalHistory(i,e),n.resolve(t,i,e)},function(){t.reject()});else{var i=n.getLocalHistory(e);n.resolve(t,i,e)}return t.promise},t}),define("segmenter/segments/firstconversiondate",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"firstConversionDate",path:"0.firstConversionDate"})}}),define("segmenter/segments/firstpageviewdate",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"firstPageViewDate",path:"0.firstPageViewDate"})}}),define("segmenter/segments/lastconversiondate",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"lastConversionDate",path:"0.lastConversionDate"})}}),define("geolocation",["require","jquery","when","cookie_manager","data_util","json"],function(e){var t,n=e("jquery"),i=e("when"),r=e("cookie_manager"),o=e("data_util"),s=e("json"),a="_q_geo",u="2",c=function(e){var t=i.defer();return o.visitorId(function(n){var i=o.protocol(),r=o.trackingId();t.resolve(i+e+"?cid="+n+"&id="+r)}),t.promise},l=function(e){return[u,e.ip,e.country,e.region,e.metro_area,e.city,e.latitude,e.longitude]},f=function(e){var t=e[0];return u!==t?null:{version:e[0],ip:e[1],country:e[2],region:e[3],metro_area:e[4],city:e[5],latitude:e[6],longitude:e[7]}},d=function(){var e=r.readCookie(a);if(e)try{e=f(s.parse(e))}catch(t){e=null}else e=null;return e},p=function(e){var t=o.cookieDomain(),n=s.stringify(l(e));r.writeCookie(a,n,1,t)},h=function(e,t,n){e.resolve(n?t[n]:t)},g=function(e,t){var r=i.defer(),o=d();t=t||"orca.qubitproducts.com/ns";var s=function(t){t.geo&&(o=t.geo,p(o),h(r,o,e))};return o?h(r,o,e):c(t).then(function(e){n.ajax({url:e,crossDomain:!0,dataType:"jsonp",success:s,error:function(){r.reject()}})}),r.promise},m=function(){var e={};return t=function(){e={}},function(t,n){return e[n]||(e[n]={}),"undefined"==typeof e[n][t]&&(e[n][t]=g(t,n)),e[n][t]}}();return m.clearCache=t,m}),define("segmenter/segments/lastgeolocation",["require","geolocation"],function(e){return function(){return e("geolocation")("country")}}),define("segmenter/segments/lastgeolocationdetail.city",["geolocation"],function(){return function(){return require("geolocation")("city")}}),define("segmenter/segments/lastgeolocationdetail.metro_area",["require","geolocation"],function(e){return function(){return e("geolocation")("metro_area")}}),define("segmenter/segments/lastgeolocationdetail.region",["geolocation"],function(){return function(){return require("geolocation")("region")}}),define("segmenter/segments/lastpageviewdate",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"lastPageViewDate",path:"0.lastPageViewDate"})}}),define("segmenter/lib/browser_string_search",[],function(){return function(e){for(var t=0;t<e.length;t++){var n=e[t].string;n=n?n:window.navigator.userAgent,n=n.toLowerCase();var i=e[t].prop;if(n){var r,o=e[t].subString.split(",");for(r=0;r<o.length;r++)if(-1!==n.indexOf(o[r].toLowerCase()))return e[t].identity}else if(i)return e[t].identity}}}),define("segmenter/segments/lastuserwebagent.browser",["require","segmenter/lib/browser_string_search"],function(e){var t=e("segmenter/lib/browser_string_search");return function(){var e={init:function(){this.browser=t(this.dataBrowser)||"unknown"},dataBrowser:[{subString:"Silk-Accelerated",identity:"Silk"},{subString:"Googlebot,baiduspider,Google Web Preview,BingPreview",identity:"robot/spider"},{subString:"Camino",identity:"Camino"},{subString:"Opera",identity:"Opera"},{subString:"IEMobile",identity:"IE Mobile"},{subString:"MSIE",identity:"Internet Explorer"},{subString:"Chrome",identity:"Chrome"},{subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{subString:"CriOS,CrMo",identity:"Chrome Mobile"},{subString:"Safari",identity:"Safari"},{subString:"Flock",identity:"Flock"},{string:window.navigator.vendor,subString:"iCab",identity:"iCab"},{subString:"Konqueror",identity:"Konqueror"},{string:window.navigator.vendor,subString:"KDE",identity:"Konqueror"},{subString:"Firefox",identity:"Firefox"},{subString:"Netscape",identity:"Netscape"},{subString:"AppleWebKit",identity:"Apple WebKit"},{subString:"Gecko,Mozilla",identity:"Mozilla"}]};return e.init(),null===e.browser?null:e.browser.toLowerCase()}}),define("segmenter/segments/lastuserwebagent.browser_version",[],function(){return function(){var e,t=navigator.appName,n=navigator.userAgent,i=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!==(e=n.match(/version\/([\.\d]+)/i))&&(i[2]=e[1]),i=i?[i[1],i[2]]:[t,navigator.appVersion,"-?"],i[1]}}),define("segmenter/segments/lastuserwebagent.device_type",["segmenter/lib/browser_string_search"],function(){var e=require("segmenter/lib/browser_string_search");return function(){var t={init:function(){this.browser=e(this.dataBrowser)||"unknown"},dataBrowser:[{subString:"Slurp,Baiduspider,Googlebot,Seznam,masking-agent,CrOS",identity:"unknown"},{subString:"GoogleTV",identity:"digital media receiver"},{subString:"NintendoBrowser,PlayStation",identity:"Game Console"},{subString:"WOW64,IBIS,Macintosh,Linux i686,Windows NT,Linux Mint,Linux Next",identity:"computer"},{subString:"iPad,Opera,Tab,TouchPad,Nexus 7,Nexus 10,GT-N,Pad,GT-P,IdeaTab,SM-T,HP Slate,Xoom,Aurora-II,ME301T,A1-810,A1-811,NookHD,PMP5880D,QUANTUM7,Kindle Fire,KFTT,KFOT,KFJWI,KFJWA,KFSOWI,KFTHWI,KFTHWA,KFAPWI,KFAPWA,Silk,SGP3,Nook HD,Transformer,AT300,COBALT,MOMO,Sweet M,ARCHOS,NOOK,NABI2,MZ60,Vega,Slider,MID7,Streak,LePanII,HTC_Flyer,JRO03H,BNTV400,A500,KFTT Build,M805,POM727MC,cm_tenderloin",identity:"tablet"},{subString:"iPhone,iPod,iOS,IEMobile,Mobile,Opera Mobi",identity:"mobile"},{subString:"",identity:"computer"}]};return t.init(),null===t.browser?null:t.browser.toLowerCase()}}),define("segmenter/segments/numconversions",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"numConversions",path:"0.numConversions",defaultValue:0})}}),define("segmenter/segments/pageviews.entrance.referrerdetails.search_keywords",[],function(){return function(){try{var e=decodeURIComponent((new RegExp("[?|&]q=([^&;]+?)(&|#|;|$)").exec(document.referrer)||[,""])[1].replace(/\+/g,"%20").replace("/",""))||"";return e.toLowerCase()}catch(t){return""}}}),define("segmenter/segments/pageviews.entrance.referrertype",[],function(){return function(){var e=document.referrer,t=document.location.href,n=function(e){return e&&e.length>0?!0:!1},i=function(t){return n(e.match(t))},r=function(e){return n(t.match(e))},o=i(/^(?![^\?]*(https?:\/\/)?(mail|messag)).*/)||i(/(http:\/\/)?(www\.)?search\..*/)||i(/https?:\/\/([\-a-z]+\.search-results)\.com.*/)||i(/https?:\/\/(yourbestsearch)\.net.*/)||i(/https?:\/\/www\.(k9safesearch)\.com.*/)||i(/https?:\/\/(optu\.search-help)\.net.*/)||i(/https?:\/\/(www.)?(suche\.(t-online|web))\.de.*/)||i(/https?:\/\/www\.(t-mobile[\-a-z\/\.]+)\/search.*/)||i(/https?:\/\/www\.(talktalk)\.co\.uk\/search.*/)||i(/https?:\/\/(isearch\.(babylon|avg))\.com.* /)||i(/https?:\/\/(search(completion|ya))\.com.*/)||i(/https?:\/\/(advancedsearch\d\.virginmedia)\.com.*/)||i(/https?:\/\/(www.)?google.*/)||i(/https?:\/\/mybroadband.three.co.uk\/[^?#]*\/search_results.html.*/);if(r(/.*utm_medium=e-?mail.*/)||i(/[^?]*mail\.(aol|live|yahoo)\.com.*/)||i(/[^?]mail\.yahoo\.net.*/)||i(/.*\?mail=.*/)||i(/[^?]*(e|fs)mail\d\d\.(orange)\.co\.uk.*/)||i(/https?:\/\/(webmail).*/)||i(/[^?]*m\.(yahoo)\.com\/[a-z]+\/[a-z]+-mail\/.*/)||i(/https?:\/\/(messagingsuite\.(orange)|messagerie(pro|-\d{1,2})?\.(\w+))\..*/)||i(/https?:\/\/[a-z0-9]{6}\d{4}\.(outlook)\.com\/.*/)||i(/https?:\/\/posta\d\d?[a-z]\.mailbeta\.(libero)\.it.*/)||i(/https?:\/\/[mw]\d+\.mail\.(qq)\.com.*/)||i(/https?:\/\/(mail(-attachment|er|box[a-z]*|\d[a-z0-9]*)?)\.[\-a-z0-9\.]+\/.*/)||i(/https?:\/\/(www\.)?(email\d{0,3})\.[\-a-z0-9\.]+\/.*/)||r(/.*INT_[A-Z]+_EM.*/)||r(/.*s_emcid.*/))return"email";if(r(/.*utm_medium=(cse|vertical_search|comparison-?shopping).*/)||i(/.*google.*productsearch.*/)||i(/.*yell\.com.*/)||i(/.*(shopzilla).*/)||r(/.*[\?|&]s_pccid=.*/))return"vertical search";if(!(!i(/^$/)||!r(/.+/)||r(/.*gclid.*/)||r(/.*utm_source=.*/)||r(/.*s_kenid=.*/)||r(/.*bfdqbt=.*/)||r(/.*s_dscid=.*/)||r(/.*[\?|&]source=[0-9]*.*/)))return"direct";if((r(/.*utm_medium=(cpc|ppc|sem|paid_search).*/)||r(/.*gclid=.*/)&&i(/.*(google|bing|yahoo|ask)\..*/)||r(/.*gclid=.*/)&&""===document.referrer||r(/.*s_kenid=.*/)||r(/.*s_kwcid.*/)||i(/https?:\/\/[a-z\.]*google(adservices)?.*(\.[a-z]{2})?(\/(m|hws))?\/((pagead\/)?aclk|uds\/afs)\?.*/))&&!i(/.*chatzum\.com.*/))return"sem";if(r(/.*[&\?]gclid=.*/)&&!i(/.*(google|bing|yahoo|ask)\..*/)&&""!==document.referrer||r(/.*utm_medium=(display|banner|Display|retargeting).*/)||i(/[^?]*\.(criteo)\.(com|net)\/.*/)||i(/[^?]*\.(struq)\.(com|net)\/.*/)||r(/.*utm_source=(struq).*/)||i(/http:\/\/[a-z\.]+\.(doubleclick)\..*/)||i(/.*utm_source=criteo.*/)||i(/.*utm_source=banner.*/)||i(/.*doubleclick.net.*/)||r(/.*[&\?]s_dscid=.*/))return"display";if(r(/.*utm_medium=affiliate.*/)||r(/.*utm_source=awin.*/)||i(/https?:\/\/(?!www)([^\/]+)\.polyvore.com\/.*/)||i(/http:\/\/[^\/]+\.shopstyle\..*/)||i(/.*(shopping-time|shoerazzi|leblogdebetty|hotukdeals.com|ipad-stock|offeroftheday|lyst|upscalehype|studentbeans|commeuncamion|collegefashion|promocodefor|easyfundraising|discountvouchers|money.co.uk|quidco|myvouchercodes|coolspotters|polyvore|rstyle|vouchercodes).*/)||r(/.*[&\?]source=[0-9]*.*/))return"affiliate";var s=i(/http(s)?:\/\/.*(facebook|pinterest|vk|tumblr|reddit|youtube|blogspot|squidoo|odnoklassniki|vk\.com).*/);return i(/.*(bt\.com).*/)||i(/.*google.*/)||!(r(/.*utm_medium=social.*/)||s||i(/.*[&\?]eid=[^=]{1,100}.*/)||i(/.*t\.co.*/))?o&&!s?"seo":"other":"social"}}),define("segmenter/segments/pageviews.entrance.referrerurl.url",[],function(){return function(){return document.referrer}}),define("segmenter/segments/pageviews.sessionnumber",["require","cookie_manager","json"],function(e){return function(){var t=e("cookie_manager"),n=e("json"),i=t.readCookie("_qst");try{if(i)return i=n.parse(i),i[0]>=i[1]?i[0]:i[1]}catch(r){return null}}}),define("segmenter/segments/pageviews.url",[],function(){return function(){return document.location.href}}),define("segmenter/segments/totalconversionvalue.gbp",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"totalConversionValueGBP",path:"0.totalConversionValueGBP"})}}),define("segmenter/segments/totalconversionvalue",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"totalConversionValueBASE",path:"0.totalConversionValueBASE"})}}),define("segmenter/segments/totalpagenum",["require","orca"],function(e){return function(){var t=e("orca");return(new t).lookup({attr:"totalPageNum",path:"0.totalPageNum"})}}),define("segmenter/segments/custom_javascript",[],function(){return function(){}}),define("segmenter/segments/uv",["require","mini_lodash"],function(e){function t(e,t){return n.reduce(t.split("."),function(e,t){return e&&e[t]},e)}var n=e("mini_lodash");return function(e){return t(window,e.replace("pageviews.customvalues.uv","universal_variable"))}}),define("segmenter/lib/get_segment_value",["require","../segments/firstconversiondate","../segments/firstpageviewdate","../segments/lastconversiondate","../segments/lastgeolocation","../segments/lastgeolocationdetail.city","../segments/lastgeolocationdetail.metro_area","../segments/lastgeolocationdetail.region","../segments/lastpageviewdate","../segments/lastuserwebagent.browser","../segments/lastuserwebagent.browser_version","../segments/lastuserwebagent.device_type","../segments/numconversions","../segments/pageviews.entrance.referrerdetails.search_keywords","../segments/pageviews.entrance.referrertype","../segments/pageviews.entrance.referrerurl.url","../segments/pageviews.sessionnumber","../segments/pageviews.url","../segments/totalconversionvalue.gbp","../segments/totalconversionvalue","../segments/totalpagenum","../segments/custom_javascript","../segments/uv"],function(e){function t(e){return 0===e.indexOf("pageviews.customvalues.uv")}e("../segments/firstconversiondate"),e("../segments/firstpageviewdate"),e("../segments/lastconversiondate"),e("../segments/lastgeolocation"),e("../segments/lastgeolocationdetail.city"),e("../segments/lastgeolocationdetail.metro_area"),e("../segments/lastgeolocationdetail.region"),e("../segments/lastpageviewdate"),e("../segments/lastuserwebagent.browser"),e("../segments/lastuserwebagent.browser_version"),e("../segments/lastuserwebagent.device_type"),e("../segments/numconversions"),e("../segments/pageviews.entrance.referrerdetails.search_keywords"),e("../segments/pageviews.entrance.referrertype"),e("../segments/pageviews.entrance.referrerurl.url"),e("../segments/pageviews.sessionnumber"),e("../segments/pageviews.url"),e("../segments/totalconversionvalue.gbp"),e("../segments/totalconversionvalue"),e("../segments/totalpagenum"),e("../segments/custom_javascript");var n={};return function(i){return t(i)?e("../segments/uv")(i):(n[i]||(n[i]=e("../segments/"+i)()),n[i])}}),define("segmenter/fetch_segments",["require","mini_lodash","when_map","./lib/get_segment_value"],function(e){var t=e("mini_lodash"),n=e("when_map"),i=e("./lib/get_segment_value");return function(e){var r=t.reduce(e,function(e,t){return e[t]=i(t),e},{});return n(r)}}),define("segmenter/match_condition",["match_condition"],function(){function evaluateCode(condition){return condition.value?eval("(function () { var fn = "+condition.value+"; return fn(); })();"):!0}var matchCondition=require("match_condition");return function(e,t){switch(e.type){case"string":case"number":case"date":case"boolean":return matchCondition(e,t);case"code":return evaluateCode(e)}}}),define("segment",["require","mini_lodash","logger","segmenter/fetch_segments","segmenter/match_condition"],function(e){var t=e("mini_lodash"),n=e("logger"),i=e("segmenter/fetch_segments"),r=e("segmenter/match_condition");return function(e,o){function s(){n.logExperiment(e,arguments)}function a(e,t,n){s("segment filter:",JSON.stringify(e),"value:",t,"matches?",n)}return s("segmenting"),i(t.pluck(o,"key")).then(function(e){return t.every(o,function(t){var n=r(t,e[t.key]);return a(t,e[t.key],n),n})}).then(function(e){return s(e?"user is in the segment":"user is not in the segment"),e}).otherwise(function(e){s("segmentation errored",e)})}}),function(){function evaluateExecution(code){try{eval("var fn = "+code+"; fn()")}catch(err){throw window._ss_debug&&window.console&&window.console.error&&window.console.error("Execution failed",err),err}}function deliverReloaded(e){var t,n=e.params.dependencies,i=[];for(t in n)n.hasOwnProperty(t)&&i.push(t+"@"+n[t]);require(i,function(){var i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=require(t+"@"+n[t]));e.params.modules=i;var r=i["@qubit/layer"]?"@qubit/layer":"layer",o=require(r+"@"+n[r]),s=new o({close:function(t){switch(e.vm.sliderShowing(!1),t.duration&&(t.duration=parseInt(t.duration,10)),t.type){case"days":t.type="block_time",t.duration=24*t.duration*60*60;break;case"minutes":t.type="block_time",t.duration=60*t.duration}e.vm.close({behaviour:t})}},e.params),a=!0;s.isExclusive()?e.vm.sliderShowing()?(a=!1,s.destroy()):e.vm.sliderShowing(!0):e.vm._incrementTimesShown(),a&&(s.run(),e.vm.setLayer(s)),s.on&&(s.on("show",function(){e.vm.sliderShowing(!0)}),s.on("log",function(){e.vm.log.apply(e.vm,arguments)}),s.on("hide",function(){e.vm.sliderShowing(!1)}),s.on("destroy",function(){e.vm.close()}))})}require.config({paths:{jquery:"//dd6zx4ibq538k.cloudfront.net/jquery.1.8.2.nc.min","deliver-modules":"//d22rutvoghj3db.cloudfront.net/deliver-modules"},map:{"*":{"@qubit/jquery@^1.8.2":"@qubit---jquery@1.8.2","@qubit/emitter@^1.0.0":"@qubit---emitter@1.0.0","@qubit/underscore@^1.5.2":"@qubit---underscore@1.5.2","@qubit/backbone@^1.0.0":"@qubit---backbone@1.0.0","@qubit/jquery-ui@^1.10.3":"@qubit---jquery-ui@1.10.3","@qubit/backbone-deep-model@^0.10.4":"@qubit---backbone-deep-model@0.10.4","@qubit/container_style_processor@^1.0.0":"@qubit---container_style_processor@1.0.0","@qubit/text@^2.0.10":"@qubit---text@2.0.12","@qubit/css@^0.0.8":"@qubit---css@0.0.8","@qubit/inherits@^1.0.0":"@qubit---inherits@1.0.0","@qubit/less@^1.7.0":"@qubit---less@1.7.0","@qubit/maxz@^1.0.0":"@qubit---maxz@1.0.0","@qubit/overlay@^0.0.2":"@qubit---overlay@0.0.2","@qubit/jquery-simulate@^0.0.0":"@qubit---jquery-simulate@0.0.0","@qubit/dropdown@^1.0.0":"@qubit---dropdown@1.0.0","@qubit/selector@^1.0.0":"@qubit---selector@1.0.2","@qubit/layer@^1.0.0":"@qubit---layer@1.0.0","@qubit/in_page@^1.0.0":"@qubit---in_page@1.0.0","@qubit/attr@^1.0.0":"@qubit---attr@1.0.0","@qubit/textbox@^1.0.0":"@qubit---textbox@1.0.0","@qubit/pill-maker@^0.1.0":"@qubit---pill-maker@0.1.0","@qubit/editable@^0.0.1":"@qubit---editable@0.0.1","@qubit/inspector@^0.0.1":"@qubit---inspector@0.0.1","@qubit/proxify@^0.0.0":"@qubit---proxify@0.0.0","@qubit/each@^1.0.0":"@qubit---each@1.0.0","@qubit/layer@1.0.0":"@qubit---layer@1.0.0","@qubit/deliver@1.0.0":"@qubit---deliver@1.0.0","@qubit/slider@1.0.0":"@qubit---slider@1.0.0","@qubit/in_page@1.0.0":"@qubit---in_page@1.0.0","@qubit/rephrase@0.0.1":"@qubit---rephrase@0.0.1","@qubit/image@1.0.0":"@qubit---image@1.0.0","@qubit/close-button@1.0.0":"@qubit---close-button@1.0.0","@qubit/jquery@1.8.2":"@qubit---jquery@1.8.2","@qubit/emitter@1.0.0":"@qubit---emitter@1.0.0","@qubit/underscore@1.5.2":"@qubit---underscore@1.5.2","@qubit/backbone@1.0.0":"@qubit---backbone@1.0.0","@qubit/jquery-ui@1.10.3":"@qubit---jquery-ui@1.10.3","@qubit/backbone-deep-model@0.10.4":"@qubit---backbone-deep-model@0.10.4","@qubit/container_style_processor@1.0.0":"@qubit---container_style_processor@1.0.0","@qubit/text@2.0.12":"@qubit---text@2.0.12","@qubit/css@0.0.8":"@qubit---css@0.0.8","@qubit/inherits@1.0.0":"@qubit---inherits@1.0.0","@qubit/less@1.7.0":"@qubit---less@1.7.0","@qubit/maxz@1.0.0":"@qubit---maxz@1.0.0","@qubit/overlay@0.0.2":"@qubit---overlay@0.0.2","@qubit/jquery-simulate@0.0.0":"@qubit---jquery-simulate@0.0.0","@qubit/dropdown@1.0.0":"@qubit---dropdown@1.0.0","@qubit/selector@1.0.2":"@qubit---selector@1.0.2","@qubit/attr@1.0.0":"@qubit---attr@1.0.0","@qubit/textbox@1.0.0":"@qubit---textbox@1.0.0","@qubit/pill-maker@0.1.0":"@qubit---pill-maker@0.1.0","@qubit/editable@0.0.1":"@qubit---editable@0.0.1","@qubit/inspector@0.0.1":"@qubit---inspector@0.0.1","@qubit/proxify@0.0.0":"@qubit---proxify@0.0.0","@qubit/each@1.0.0":"@qubit---each@1.0.0",cookieman:"cookieman","match-condition":"match-condition",base64Int:"base64Int"},"@qubit---layer@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/emitter":"@qubit---emitter@1.0.0","@qubit/underscore":"@qubit---underscore@1.5.2","@qubit/backbone":"@qubit---backbone@1.0.0","@qubit/jquery-ui":"@qubit---jquery-ui@1.10.3","@qubit/backbone-deep-model":"@qubit---backbone-deep-model@0.10.4","@qubit/container_style_processor":"@qubit---container_style_processor@1.0.0",text:"@qubit---text@2.0.12",css:"@qubit---css@0.0.8","@qubit/inherits":"@qubit---inherits@1.0.0","@qubit/less":"@qubit---less@1.7.0"},"@qubit---deliver@1.0.0":{"@qubit/emitter":"@qubit---emitter@1.0.0"},"@qubit---slider@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/jquery-ui":"@qubit---jquery-ui@1.10.3","@qubit/emitter":"@qubit---emitter@1.0.0","@qubit/css":"@qubit---css@0.0.8","@qubit/maxz":"@qubit---maxz@1.0.0","@qubit/overlay":"@qubit---overlay@0.0.2","@qubit/backbone-deep-model":"@qubit---backbone-deep-model@0.10.4","@qubit/jquery-simulate":"@qubit---jquery-simulate@0.0.0"},"@qubit---in_page@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/emitter":"@qubit---emitter@1.0.0","@qubit/dropdown":"@qubit---dropdown@1.0.0","@qubit/jquery-ui":"@qubit---jquery-ui@1.10.3","@qubit/maxz":"@qubit---maxz@1.0.0","@qubit/backbone-deep-model":"@qubit---backbone-deep-model@0.10.4","@qubit/jquery-simulate":"@qubit---jquery-simulate@0.0.0",css:"@qubit---css@0.0.8","@qubit/selector":"@qubit---selector@1.0.2"},"@qubit---rephrase@0.0.1":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/underscore":"@qubit---underscore@1.5.2","@qubit/backbone":"@qubit---backbone@1.0.0","@qubit/layer":"@qubit---layer@1.0.0",css:"@qubit---css@0.0.8",text:"@qubit---text@2.0.12","@qubit/in_page":"@qubit---in_page@1.0.0","@qubit/selector":"@qubit---selector@1.0.2","@qubit/emitter":"@qubit---emitter@1.0.0","@qubit/jquery-ui":"@qubit---jquery-ui@1.10.3","@qubit/backbone-deep-model":"@qubit---backbone-deep-model@0.10.4","@qubit/jquery-simulate":"@qubit---jquery-simulate@0.0.0","@qubit/attr":"@qubit---attr@1.0.0","@qubit/textbox":"@qubit---textbox@1.0.0","@qubit/pill-maker":"@qubit---pill-maker@0.1.0","@qubit/editable":"@qubit---editable@0.0.1","@qubit/inspector":"@qubit---inspector@0.0.1","@qubit/proxify":"@qubit---proxify@0.0.0"},"@qubit---close-button@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/inherits":"@qubit---inherits@1.0.0"},"@qubit---emitter@1.0.0":{"@qubit/each":"@qubit---each@1.0.0"},"@qubit---backbone@1.0.0":{jquery:"@qubit---jquery@1.8.2",underscore:"@qubit---underscore@1.5.2"},"@qubit---jquery-ui@1.10.3":{jquery:"@qubit---jquery@1.8.2"},"@qubit---backbone-deep-model@0.10.4":{"@qubit/backbone":"@qubit---backbone@1.0.0","@qubit/underscore":"@qubit---underscore@1.5.2"},"@qubit---container_style_processor@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/underscore":"@qubit---underscore@1.5.2"},"@qubit---maxz@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2"},"@qubit---overlay@0.0.2":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/maxz":"@qubit---maxz@1.0.0"},"@qubit---jquery-simulate@0.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2"},"@qubit---dropdown@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/emitter":"@qubit---emitter@1.0.0",css:"@qubit---css@0.0.8"},"@qubit---selector@1.0.2":{"@qubit/jquery":"@qubit---jquery@1.8.2"},"@qubit---attr@1.0.0":{"@qubit/underscore":"@qubit---underscore@1.5.2"},"@qubit---textbox@1.0.0":{"@qubit/jquery":"@qubit---jquery@1.8.2","@qubit/jquery-ui":"@qubit---jquery-ui@1.10.3","@qubit/underscore":"@qubit---underscore@1.5.2","@qubit/backbone":"@qubit---backbone@1.0.0","@qubit/editable":"@qubit---editable@0.0.1","@qubit/inspector":"@qubit---inspector@0.0.1","@qubit/pill-maker":"@qubit---pill-maker@0.1.0","@qubit/attr":"@qubit---attr@1.0.0"},"@qubit---pill-maker@0.1.0":{"@qubit/underscore":"@qubit---underscore@1.5.2","@qubit/emitter":"@qubit---emitter@1.0.0","@qubit/jquery":"@qubit---jquery@1.8.2",css:"@qubit---css@0.0.8"},"@qubit---inspector@0.0.1":{"@qubit/underscore":"@qubit---underscore@1.5.2","@qubit/backbone":"@qubit---backbone@1.0.0"}},packages:[{name:"@qubit---layer@1.0.0",main:"src/layer",location:"@qubit/layer@1.0.0"},{name:"@qubit---deliver@1.0.0",main:"deliver",location:"@qubit/deliver@1.0.0"},{name:"@qubit---slider@1.0.0",main:"src/slider",location:"@qubit/slider@1.0.0"},{name:"@qubit---in_page@1.0.0",main:"src/in_page",location:"@qubit/in_page@1.0.0"},{name:"@qubit---rephrase@0.0.1",main:"src/index",location:"@qubit/rephrase@0.0.1"},{name:"@qubit---image@1.0.0",main:"image",location:"@qubit/image@1.0.0"},{name:"@qubit---close-button@1.0.0",main:"close-button",location:"@qubit/close-button@1.0.0"},{name:"@qubit---jquery@1.8.2",main:"jquery",location:"@qubit/jquery@1.8.2"},{name:"@qubit---emitter@1.0.0",main:"emitter",location:"@qubit/emitter@1.0.0"},{name:"@qubit---underscore@1.5.2",main:"underscore",location:"@qubit/underscore@1.5.2"},{name:"@qubit---backbone@1.0.0",main:"backbone",location:"@qubit/backbone@1.0.0"},{name:"@qubit---jquery-ui@1.10.3",main:"index",location:"@qubit/jquery-ui@1.10.3"},{name:"@qubit---backbone-deep-model@0.10.4",main:"main",location:"@qubit/backbone-deep-model@0.10.4"},{name:"@qubit---container_style_processor@1.0.0",main:"src/container_style_processor",location:"@qubit/container_style_processor@1.0.0"},{name:"@qubit---text@2.0.12",main:"text",location:"@qubit/text@2.0.12"},{name:"@qubit---css@0.0.8",main:"css",location:"@qubit/css@0.0.8"},{name:"@qubit---inherits@1.0.0",main:"inherits",location:"@qubit/inherits@1.0.0"},{name:"@qubit---less@1.7.0",main:"less",location:"@qubit/less@1.7.0"},{name:"@qubit---maxz@1.0.0",main:"src/maxz",location:"@qubit/maxz@1.0.0"},{name:"@qubit---overlay@0.0.2",main:"src/overlay",location:"@qubit/overlay@0.0.2"},{name:"@qubit---jquery-simulate@0.0.0",main:"jquery-simulate",location:"@qubit/jquery-simulate@0.0.0"},{name:"@qubit---dropdown@1.0.0",main:"src/dropdown",location:"@qubit/dropdown@1.0.0"},{name:"@qubit---selector@1.0.2",main:"selector",location:"@qubit/selector@1.0.2"},{name:"@qubit---attr@1.0.0",main:"attr",location:"@qubit/attr@1.0.0"},{name:"@qubit---textbox@1.0.0",main:"textbox",location:"@qubit/textbox@1.0.0"},{name:"@qubit---pill-maker@0.1.0",main:"pill-maker",location:"@qubit/pill-maker@0.1.0"},{name:"@qubit---editable@0.0.1",main:"editable.js",location:"@qubit/editable@0.0.1"},{name:"@qubit---inspector@0.0.1",main:"inspector",location:"@qubit/inspector@0.0.1"},{name:"@qubit---proxify@0.0.0",main:"./proxify.js",location:"@qubit/proxify@0.0.0"},{name:"@qubit---each@1.0.0",main:"each",location:"@qubit/each@1.0.0"},{name:"cookieman",main:"cookieman",location:"cookieman/lib"},{name:"match-condition",main:"index",location:"match-condition"},{name:"base64Int",main:"index",location:"base64Int"}],waitSeconds:60,skipDataMain:!0}),window.__qubit=window.__qubit||{},window.__qubit.amd={define:define,require:require},window.__qubit.smartserve={version:"1.1.0"},define("main-ss",["require","etc.widget/etc","variation_manager","logger","segment","cookie_manager","etc.widget/lib/compressed_cookie"],function(e){function t(e){try{window["v_"+e.id]=function(){var t=e.params,n=r(e.id,e.creative_id,e.experiment_id,t),i={id:e.id,activation:n.activation,vm:n,params:t};
return i}()}catch(t){window.console&&console.log&&o.logVariation(e.id,"Exception while creating variation "+e.id,t)}}var n,i=e("etc.widget/etc"),r=e("variation_manager"),o=e("logger"),s=e("segment");window.__qubit.smartserve.start=function(){n?n.start():n=i()},window._qb_ss=[],window._qb_ss.push({domain:".techradar.com",trackingId:"techradar_uk",experiments:[{id:17816,goals:[],iterationId:36028,targetingCriteria:[17816]},{id:20431,goals:[],pausedAt:1417022994e3,iterationId:41406,targetingCriteria:[20431]},{id:20435,goals:[],pausedAt:1417022979e3,iterationId:41405,targetingCriteria:[20435]}],targetingCriteria:{17816:{id:17816,condition:function(e){s(Number(17816),[{key:"custom_javascript",type:"code",value:""}]).then(function(t){t&&e()})},creatives:[[{id:79464,p:.5},{id:79465,p:.5}]]},20431:{id:20431,condition:function(e){s(Number(20431),[{key:"lastgeolocation",type:"string",op:"neq",value:["us","ca"]},{key:"pageviews.sessionnumber",type:"number",op:"gt",value:1},{key:"custom_javascript",type:"code",value:""}]).then(function(t){t&&e()})},creatives:[[{id:91813,p:.05},{id:91814,p:.95}]]},20435:{id:20435,condition:function(e){s(Number(20435),[{key:"lastgeolocation",type:"string",op:"eq",value:["us","ca"]},{key:"pageviews.sessionnumber",type:"number",op:"gt",value:1},{key:"custom_javascript",type:"code",value:""}]).then(function(t){t&&e()})},creatives:[[{id:91827,p:.05},{id:91828,p:.95}]]}},creatives:{79464:{id:79464,creative_id:79464,e_id:17816,activation:function(e){v_79464.activation(e)},execution:function(){v_79464.vm._incrementTimesShown()},control:!0},79465:{id:79465,creative_id:79465,e_id:17816,activation:function(e){v_79465.activation(e)},execution:function(){v_79465.vm._incrementTimesShown(),v_79465.vm.addCustomStyles(),evaluateExecution(v_79465.params.execution_code)},control:!1},91813:{id:91813,creative_id:91863,e_id:20431,activation:function(e){v_91813.activation(e)},execution:function(){v_91813.vm._incrementTimesShown()},control:!0},91814:{id:91814,creative_id:91864,e_id:20431,activation:function(e){v_91814.activation(e)},execution:function(){deliverReloaded(v_91814)},control:!1},91827:{id:91827,creative_id:91861,e_id:20435,activation:function(e){v_91827.activation(e)},execution:function(){v_91827.vm._incrementTimesShown()},control:!0},91828:{id:91828,creative_id:91862,e_id:20435,activation:function(e){v_91828.activation(e)},execution:function(){deliverReloaded(v_91828)},control:!1}},cookieCompression:!1,virtualPageViewOverlap:!1}),window._qb_ss_alt_domain&&(window._qb_ss[0].domain=window._qb_ss_alt_domain);var a=e("cookie_manager"),u=e("etc.widget/lib/compressed_cookie");window.__qubit=window.__qubit||{},window.__qubit.deliver=window.__qubit.deliver||{},window.__qubit.deliver.cookie=u.api(),a.readCookie=u.readCookie;var c=(new Date).getTime(),l=(a.readGlobal("session_timer"),a.readGlobal("refresh_timer"));(!l||c-l>18e5)&&a.writeGlobal("session_timer",c),a.writeGlobal("refresh_timer",c);for(var f,d=[{id:79464,creative_id:79464,experiment_id:17816,params:{rules:{}}},{id:79465,creative_id:79465,experiment_id:17816,params:{version:"3.0.1",container:{type:"@qubit/slider",overlay:!0,__style:{shadow:{color:"#222222",direction:{h:"0px",v:"0px"},blur:"0px",spread:"0px"},background:{color:"rgb(100%, 100%, 100%)",image_url:!1,repeat:!1,position:{x:"0px",y:"0px"}},border:{color:"rgba(0%, 0%, 0%, 1)",style:"solid",width:"0",radius:"2px"}},size:{width:400,height:200},style:{margin:0,padding:0},position:{offset:{x:0,y:20},my:"center top",fixed:!0},animation:{type:"fade",direction:"top"},speed:400,overlayOptions:{css:{background:"#141414"},autoShow:!1,speed:400,opacity:.8}},components:[],dependencies:{"@qubit/layer":"1.0.0","@qubit/deliver":"1.0.0","@qubit/slider":"1.0.0","@qubit/in_page":"1.0.0","@qubit/rephrase":"0.0.1"},rules:{},execution_code:"function () {}",custom_styles:""}},{id:91813,creative_id:91863,experiment_id:20431,params:{rules:{min_time_on_page:5,times_activated_session:{key:"times_activated_session",type:"number",op:"eq",value:1}}}},{id:91814,creative_id:91864,experiment_id:20431,params:{version:"3.0.1",container:{type:"@qubit/slider",overlay:!1,__style:{shadow:{color:"#222222",direction:{h:"0px",v:"0px"},blur:"0px",spread:"0px"},background:{color:"rgb(100%, 100%, 100%)",image_url:!1,repeat:!1,position:{x:"0px",y:"0px"}},border:{color:"rgba(0%, 0%, 0%, 1)",style:"solid",width:"0",radius:"2px"}},size:{width:400,height:200},style:{margin:0,padding:0},position:{offset:{x:0,y:0},my:"center bottom",fixed:!0},animation:{type:"slide",direction:"left"},speed:400,overlayOptions:{css:{background:"#141414"},autoShow:!1,speed:400,opacity:.8}},components:[{type:"@qubit/image",id:1,url:"//dd6zx4ibq538k.cloudfront.net/static/images/3401/52732e3bd17ff84e1ca95f93df84fd3c_500_200.jpeg",left:9,top:-4,click_action:{has_link:!0,url:"http://www.myfavouritemagazines.co.uk/content/christmas-gift-ideas/?utm_source=QuBit&utm_medium=Modal&utm_content=xmasgift&utm_campaign=XmasGiftIdeas",new_tab:!0,close_container:!0,close_duration:"1",close_duration_unit:"days"}},{type:"@qubit/close-button",id:2,style:"transparent",color:"#222",width:44.76190476190476,height:44.76190476190476,autoHeight:!1,click_action:{close_duration:"1",close_duration_unit:"days"},left:477,top:-14}],dependencies:{"@qubit/layer":"1.0.0","@qubit/deliver":"1.0.0","@qubit/slider":"1.0.0","@qubit/in_page":"1.0.0","@qubit/rephrase":"0.0.1","@qubit/image":"1.0.0","@qubit/close-button":"1.0.0"},rules:{min_time_on_page:5,times_activated_session:{key:"times_activated_session",type:"number",op:"eq",value:1}}}},{id:91827,creative_id:91861,experiment_id:20435,params:{rules:{min_time_on_page:5,times_activated_session:{key:"times_activated_session",type:"number",op:"eq",value:1}}}},{id:91828,creative_id:91862,experiment_id:20435,params:{version:"3.0.1",container:{type:"@qubit/slider",overlay:!1,__style:{shadow:{color:"#222222",direction:{h:"0px",v:"0px"},blur:"0px",spread:"0px"},background:{color:"rgb(100%, 100%, 100%)",image_url:!1,repeat:!1,position:{x:"0px",y:"0px"}},border:{color:"rgba(0%, 0%, 0%, 1)",style:"solid",width:"0",radius:"2px"}},size:{width:400,height:200},style:{margin:0,padding:0},position:{offset:{x:0,y:0},my:"center bottom",fixed:!0},animation:{type:"slide",direction:"left"},speed:400,overlayOptions:{css:{background:"#141414"},autoShow:!1,speed:400,opacity:.8}},components:[{type:"@qubit/image",id:1,url:"//dd6zx4ibq538k.cloudfront.net/static/images/3401/15e4ea9975e862af4ae9f810fc43d020_500_200.jpeg",left:9,top:-4,click_action:{has_link:!0,url:"http://www.myfavouritemagazines.co.uk/content/christmas-gift-ideas/?utm_source=QuBit&utm_medium=Modal&utm_content=xmasgift&utm_campaign=XmasGiftIdeas",new_tab:!0,close_container:!0,close_duration:"1",close_duration_unit:"days"}},{type:"@qubit/close-button",id:2,style:"transparent",color:"#222",width:44.76190476190476,height:44.76190476190476,autoHeight:!1,click_action:{close_duration:"1",close_duration_unit:"days"},left:477,top:-14}],dependencies:{"@qubit/layer":"1.0.0","@qubit/deliver":"1.0.0","@qubit/slider":"1.0.0","@qubit/in_page":"1.0.0","@qubit/rephrase":"0.0.1","@qubit/image":"1.0.0","@qubit/close-button":"1.0.0"},rules:{min_time_on_page:5,times_activated_session:{key:"times_activated_session",type:"number",op:"eq",value:1}}}}],p=0;p<d.length;p++)f=t(d[p]);window.__qubit.smartserve.start()})}(),function(){function e(e,t,n){for(var i=(n||0)-1,r=e?e.length:0;++i<r;)if(e[i]===t)return i;return-1}function t(e,t){for(var n=e.criteria,i=t.criteria,r=-1,o=n.length;++r<o;){var s=n[r],a=i[r];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}function n(e){return"\\"+xn[e]}function i(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var i=-1,r=n-t||0,o=Array(0>r?0:r);++i<r;)o[i]=e[t+i];return o}function r(e){return e instanceof r?e:new o(e)}function o(e,t){this.__chain__=!!t,this.__wrapped__=e}function s(e){function t(){if(r){var e=i(r);Mn.apply(e,arguments)}if(this instanceof t){var s=a(n.prototype),u=n.apply(s,e||arguments);return $(u)?u:s}return n.apply(o,e||arguments)}var n=e[0],r=e[2],o=e[4];return t}function a(e){return $(e)?$n(e):{}}function u(e,t,n){if("function"!=typeof e)return Wt;if("undefined"==typeof t||!("prototype"in e))return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return At(e,t)}function c(e){function t(){var e=f?u:this;if(o){var m=i(o);Mn.apply(m,arguments)}if((s||p)&&(m||(m=i(arguments)),s&&Mn.apply(m,s),p&&m.length<l))return r|=16,c([n,h?r:-4&r,m,null,u,l]);if(m||(m=arguments),d&&(n=e[g]),this instanceof t){e=a(n.prototype);var v=n.apply(e,m);return $(v)?v:e}return n.apply(e,m)}var n=e[0],r=e[1],o=e[2],s=e[3],u=e[4],l=e[5],f=1&r,d=2&r,p=4&r,h=8&r,g=n;return t}function l(e,t){for(var n=-1,i=y(),r=e?e.length:0,o=[];++n<r;){var s=e[n];i(t,s)<0&&o.push(s)}return o}function f(e,t,n,i){for(var r=(i||0)-1,o=e?e.length:0,s=[];++r<o;){var a=e[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Wn(a)||_(a))){t||(a=f(a,t,n));var u=-1,c=a.length,l=s.length;for(s.length+=c;++u<c;)s[l++]=a[u]}else n||s.push(a)}return s}function d(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;var o=typeof e,s=typeof t;if(!(e!==e||e&&_n[o]||t&&_n[s]))return!1;if(null==e||null==t)return e===t;var a=Sn.call(e),u=Sn.call(t);if(a!=u)return!1;switch(a){case hn:case gn:return+e==+t;case vn:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case bn:case wn:return e==String(t)}var c=a==pn;if(!c){var l=e instanceof r,f=t instanceof r;if(l||f)return d(l?e.__wrapped__:e,f?t.__wrapped__:t,n,i);if(a!=yn)return!1;var p=e.constructor,h=t.constructor;if(p!=h&&!(P(p)&&p instanceof p&&P(h)&&h instanceof h)&&"constructor"in e&&"constructor"in t)return!1}n||(n=[]),i||(i=[]);for(var g=n.length;g--;)if(n[g]==e)return i[g]==t;var m=!0,v=0;if(n.push(e),i.push(t),c){if(v=t.length,m=v==e.length)for(;v--&&(m=d(e[v],t[v],n,i)););}else Qn(t,function(t,r,o){return On.call(o,r)?(v++,!(m=On.call(e,r)&&d(e[r],t,n,i))&&an):void 0}),m&&Qn(e,function(e,t,n){return On.call(n,t)?!(m=--v>-1)&&an:void 0});return n.pop(),i.pop(),m}function p(e,t){return e+An(Rn()*(t-e+1))}function h(e,t,n){for(var i=-1,r=y(),o=e?e.length:0,s=[],a=n?[]:s;++i<o;){var u=e[i],c=n?n(u,i,e):u;(t?!i||a[a.length-1]!==c:r(a,c)<0)&&(n&&a.push(c),s.push(u))}return s}function g(e){return function(t,n,i){var r={};n=Rt(n,i,3);var o=-1,s=t?t.length:0;if("number"==typeof s)for(;++o<s;){var a=t[o];e(r,a,n(a,o,t),t)}else Yn(t,function(t,i,o){e(r,t,n(t,i,o),o)});return r}}function m(e,t,n,i,r,o){var a=2&t,u=16&t,l=32&t;if(!a&&!P(e))throw new TypeError;u&&!n.length&&(t&=-17,u=n=!1),l&&!i.length&&(t&=-33,l=i=!1);var f=1==t||17===t?s:c;return f([e,t,n,i,r,o])}function v(e){return Gn[e]}function y(){var t=(t=r.indexOf)===vt?e:t;return t}function b(e){return"function"==typeof e&&jn.test(e)}function w(e){return Xn[e]}function _(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Sn.call(e)==dn||!1}function x(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];if(i)for(var r in i)e[r]=i[r]}return e}function q(e){return $(e)?Wn(e)?i(e):x({},e):e}function k(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];if(i)for(var r in i)"undefined"==typeof e[r]&&(e[r]=i[r])}return e}function C(e){var t=[];return Qn(e,function(e,n){P(e)&&t.push(n)}),t.sort()}function T(e,t){return e?On.call(e,t):!1}function E(e){for(var t=-1,n=Un(e),i=n.length,r={};++t<i;){var o=n[t];r[e[o]]=o}return r}function S(e){return e===!0||e===!1||e&&"object"==typeof e&&Sn.call(e)==hn||!1}function j(e){return e&&"object"==typeof e&&Sn.call(e)==gn||!1}function N(e){return e&&1===e.nodeType||!1}function A(e){if(!e)return!0;if(Wn(e)||F(e))return!e.length;for(var t in e)if(On.call(e,t))return!1;return!0}function O(e,t){return d(e,t)}function M(e){return Dn(e)&&!Hn(parseFloat(e))}function P(e){return"function"==typeof e}function $(e){return!(!e||!_n[typeof e])}function L(e){return H(e)&&e!=+e}function D(e){return null===e}function H(e){return"number"==typeof e||e&&"object"==typeof e&&Sn.call(e)==vn||!1}function I(e){return e&&_n[typeof e]&&Sn.call(e)==bn||!1}function F(e){return"string"==typeof e||e&&"object"==typeof e&&Sn.call(e)==wn||!1}function B(e){return"undefined"==typeof e}function R(e){var t=[];Qn(e,function(e,n){t.push(n)}),t=l(t,f(arguments,!0,!1,1));for(var n=-1,i=t.length,r={};++n<i;){var o=t[n];r[o]=e[o]}return r}function z(e){for(var t=-1,n=Un(e),i=n.length,r=Array(i);++t<i;){var o=n[t];r[t]=[o,e[o]]}return r}function W(e){for(var t=-1,n=f(arguments,!0,!1,1),i=n.length,r={};++t<i;){var o=n[t];o in e&&(r[o]=e[o])}return r}function V(e){for(var t=-1,n=Un(e),i=n.length,r=Array(i);++t<i;)r[t]=e[n[t]];return r}function U(e,t){var n=y(),i=e?e.length:0,r=!1;return i&&"number"==typeof i?r=n(e,t)>-1:Yn(e,function(e){return(r=e===t)&&an}),r}function G(e,t,n){var i=!0;t=Rt(t,n,3);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;++r<o&&(i=!!t(e[r],r,e)););else Yn(e,function(e,n,r){return!(i=!!t(e,n,r))&&an});return i}function X(e,t,n){var i=[];t=Rt(t,n,3);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;++r<o;){var s=e[r];t(s,r,e)&&i.push(s)}else Yn(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i}function J(e,t,n){t=Rt(t,n,3);var i=-1,r=e?e.length:0;if("number"!=typeof r){var o;return Yn(e,function(e,n,i){return t(e,n,i)?(o=e,an):void 0}),o}for(;++i<r;){var s=e[i];if(t(s,i,e))return s}}function K(e,t){return dt(e,t,!0)}function Q(e,t,n){var i=-1,r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:u(t,n,3),"number"==typeof r)for(;++i<r&&t(e[i],i,e)!==an;);else Yn(e,t)}function Y(e,t){var n=e?e.length:0;if("number"==typeof n)for(;n--&&t(e[n],n,e)!==!1;);else{var i=Un(e);n=i.length,Yn(e,function(e,r,o){return r=i?i[--n]:--n,t(o[r],r,o)===!1&&an})}}function Z(e,t){var n=i(arguments,2),r=-1,o="function"==typeof t,s=e?e.length:0,a=Array("number"==typeof s?s:0);return Q(e,function(e){a[++r]=(o?t:e[t]).apply(e,n)}),a}function et(e,t,n){var i=-1,r=e?e.length:0;if(t=Rt(t,n,3),"number"==typeof r)for(var o=Array(r);++i<r;)o[i]=t(e[i],i,e);else o=[],Yn(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function tt(e,t,n){var i=-1/0,r=i;"function"!=typeof t&&n&&n[t]===e&&(t=null);var o=-1,s=e?e.length:0;if(null==t&&"number"==typeof s)for(;++o<s;){var a=e[o];a>r&&(r=a)}else t=Rt(t,n,3),Q(e,function(e,n,o){var s=t(e,n,o);s>i&&(i=s,r=e)});return r}function nt(e,t,n){var i=1/0,r=i;"function"!=typeof t&&n&&n[t]===e&&(t=null);var o=-1,s=e?e.length:0;if(null==t&&"number"==typeof s)for(;++o<s;){var a=e[o];r>a&&(r=a)}else t=Rt(t,n,3),Q(e,function(e,n,o){var s=t(e,n,o);i>s&&(i=s,r=e)});return r}function it(e,t,n,i){if(!e)return n;var r=arguments.length<3;t=Rt(t,i,4);var o=-1,s=e.length;if("number"==typeof s)for(r&&(n=e[++o]);++o<s;)n=t(n,e[o],o,e);else Yn(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)});return n}function rt(e,t,n,i){var r=arguments.length<3;return t=Rt(t,i,4),Y(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function ot(e,t,n){return t=Rt(t,n,3),X(e,function(e,n,i){return!t(e,n,i)})}function st(e,t,n){if(e&&"number"!=typeof e.length&&(e=V(e)),null==t||n)return e?e[p(0,e.length-1)]:on;var i=at(e);return i.length=Bn(Fn(0,t),i.length),i}function at(e){var t=-1,n=e?e.length:0,i=Array("number"==typeof n?n:0);return Q(e,function(e){var n=p(0,++t);i[t]=i[n],i[n]=e}),i}function ut(e){var t=e?e.length:0;return"number"==typeof t?t:Un(e).length}function ct(e,t,n){var i;t=Rt(t,n,3);var r=-1,o=e?e.length:0;if("number"==typeof o)for(;++r<o&&!(i=t(e[r],r,e)););else Yn(e,function(e,n,r){return(i=t(e,n,r))&&an});return!!i}function lt(e,n,i){var r=-1,o=e?e.length:0,s=Array("number"==typeof o?o:0);for(n=Rt(n,i,3),Q(e,function(e,t,i){s[++r]={criteria:[n(e,t,i)],index:r,value:e}}),o=s.length,s.sort(t);o--;)s[o]=s[o].value;return s}function ft(e){return Wn(e)?i(e):e&&"number"==typeof e.length?et(e):V(e)}function dt(e,t,n){return n&&A(t)?on:(n?J:X)(e,t)}function pt(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function ht(e){return l(e,f(arguments,!0,!0,1))}function gt(e,t,n){var r=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var s=-1;for(t=Rt(t,n,3);++s<o&&t(e[s],s,e);)r++}else if(r=t,null==r||n)return e?e[0]:on;return i(e,0,Bn(Fn(0,r),o))}function mt(e,t){return f(e,t)}function vt(t,n,i){if("number"==typeof i){var r=t?t.length:0;i=0>i?Fn(0,r+i):i||0}else if(i){var o=kt(t,n);return t[o]===n?o:-1}return e(t,n,i)}function yt(e,t,n){var r=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var s=o;for(t=Rt(t,n,3);s--&&t(e[s],s,e);)r++}else r=null==t||n?1:t||r;return i(e,0,Bn(Fn(0,o-r),o))}function bt(){for(var e=[],t=-1,n=arguments.length;++t<n;){var i=arguments[t];(Wn(i)||_(i))&&e.push(i)}var r=e[0],o=-1,s=y(),a=r?r.length:0,u=[];e:for(;++o<a;)if(i=r[o],s(u,i)<0){for(var t=n;--t;)if(s(e[t],i)<0)continue e;u.push(i)}return u}function wt(e,t,n){var r=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var s=o;for(t=Rt(t,n,3);s--&&t(e[s],s,e);)r++}else if(r=t,null==r||n)return e?e[o-1]:on;return i(e,Fn(0,o-r))}function _t(e,t,n){var i=e?e.length:0;for("number"==typeof n&&(i=(0>n?Fn(0,i+n):Bn(n,i-1))+1);i--;)if(e[i]===t)return i;return-1}function xt(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var i=-1,r=Fn(0,Nn((t-e)/n)),o=Array(r);++i<r;)o[i]=e,e+=n;return o}function qt(e,t,n){if("number"!=typeof t&&null!=t){var r=0,o=-1,s=e?e.length:0;for(t=Rt(t,n,3);++o<s&&t(e[o],o,e);)r++}else r=null==t||n?1:Fn(0,t);return i(e,r)}function kt(e,t,n,i){var r=0,o=e?e.length:r;for(n=n?Rt(n,i,1):Wt,t=n(t);o>r;){var s=r+o>>>1;n(e[s])<t?r=s+1:o=s}return r}function Ct(){return h(f(arguments,!0,!0))}function Tt(e,t,n,i){return"boolean"!=typeof t&&null!=t&&(i=n,n="function"!=typeof t&&i&&i[t]===e?null:t,t=!1),null!=n&&(n=Rt(n,i,3)),h(e,t,n)}function Et(e){return l(e,i(arguments,1))}function St(){for(var e=-1,t=tt(ni(arguments,"length")),n=Array(0>t?0:t);++e<t;)n[e]=ni(arguments,e);return n}function jt(e,t){var n=-1,i=e?e.length:0,r={};for(t||!i||Wn(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}function Nt(e,t){if(!P(t))throw new TypeError;return function(){return--e<1?t.apply(this,arguments):void 0}}function At(e,t){return arguments.length>2?m(e,17,i(arguments,2),null,t):m(e,1,null,null,t)}function Ot(e){for(var t=arguments.length>1?f(arguments,!0,!1,1):C(e),n=-1,i=t.length;++n<i;){var r=t[n];e[r]=m(e[r],1,null,null,e)}return e}function Mt(){for(var e=arguments,t=e.length;t--;)if(!P(e[t]))throw new TypeError;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Pt(e,t,n){var i,r,o,s,a,u,c,l=0,f=!1,d=!0;if(!P(e))throw new TypeError;if(t=Fn(0,t)||0,n===!0){var p=!0;d=!1}else $(n)&&(p=n.leading,f="maxWait"in n&&(Fn(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var h=function(){var n=t-(ii()-s);if(0>=n){r&&clearTimeout(r);var f=c;r=u=c=on,f&&(l=ii(),o=e.apply(a,i),u||r||(i=a=null))}else u=setTimeout(h,n)},g=function(){u&&clearTimeout(u),r=u=c=on,(d||f!==t)&&(l=ii(),o=e.apply(a,i),u||r||(i=a=null))};return function(){if(i=arguments,s=ii(),a=this,c=d&&(u||!p),f===!1)var n=p&&!u;else{r||p||(l=s);var m=f-(s-l),v=0>=m;v?(r&&(r=clearTimeout(r)),l=s,o=e.apply(a,i)):r||(r=setTimeout(g,m))}return v&&u?u=clearTimeout(u):u||t===f||(u=setTimeout(h,t)),n&&(v=!0,o=e.apply(a,i)),!v||u||r||(i=a=null),o}}function $t(e){if(!P(e))throw new TypeError;var t=i(arguments,1);return setTimeout(function(){e.apply(on,t)},1)}function Lt(e,t){if(!P(e))throw new TypeError;var n=i(arguments,2);return setTimeout(function(){e.apply(on,n)},t)}function Dt(e,t){var n={};return function(){var i=t?t.apply(this,arguments):un+arguments[0];return On.call(n,i)?n[i]:n[i]=e.apply(this,arguments)}}function Ht(e){var t,n;if(!P(e))throw new TypeError;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function It(e){return m(e,16,i(arguments,1))}function Ft(e,t,n){var i=!0,r=!0;if(!P(e))throw new TypeError;return n===!1?i=!1:$(n)&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),n={},n.leading=i,n.maxWait=t,n.trailing=r,Pt(e,t,n)}function Bt(e,t){return m(t,16,[e])}function Rt(e,t,n){var i=typeof e;if(null==e||"function"==i)return u(e,t,n);if("object"!=i)return Gt(e);var r=Un(e);return function(t){for(var n=r.length,i=!1;n--&&(i=t[r[n]]===e[r[n]]););return i}}function zt(e){return null==e?"":String(e).replace(Kn,v)}function Wt(e){return e}function Vt(e){Q(C(e),function(t){var n=r[t]=e[t];r.prototype[t]=function(){var e=[this.__wrapped__];Mn.apply(e,arguments);var t=n.apply(r,e);return this.__chain__?new o(t,!0):t}})}function Ut(){return qn._=En,this}function Gt(e){return function(t){return t[e]}}function Xt(e,t){return null==e&&null==t&&(t=1),e=+e||0,null==t?(t=e,e=0):t=+t||0,e+An(Rn()*(t-e+1))}function Jt(e,t){if(e){var n=e[t];return P(n)?e[t]():n}}function Kt(e,t,i){var o=r,s=o.templateSettings;e=String(e||""),i=k({},i,s);var a=0,u="__p += '",c=i.variable,l=RegExp((i.escape||ln).source+"|"+(i.interpolate||ln).source+"|"+(i.evaluate||ln).source+"|$","g");e.replace(l,function(t,i,r,o,s){return u+=e.slice(a,s).replace(fn,n),i&&(u+="' +\n_.escape("+i+") +\n'"),o&&(u+="';\n"+o+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),a=s+t.length,t}),u+="';\n",c||(c="obj",u="with ("+c+" || {}) {\n"+u+"\n}\n"),u="function("+c+") {\nvar __t, __p = '', __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"+u+"return __p\n}";try{var f=Function("_","return "+u)(o)}catch(d){throw d.source=u,d}return t?f(t):(f.source=u,f)}function Qt(e,t,n){e=(e=+e)>-1?e:0;var i=-1,r=Array(e);for(t=u(t,n,1);++i<e;)r[i]=t(i);return r}function Yt(e){return null==e?"":String(e).replace(Jn,w)}function Zt(e){var t=++sn+"";return e?e+t:t}function en(e){return e=new o(e),e.__chain__=!0,e}function tn(e,t){return t(e),e}function nn(){return this.__chain__=!0,this}function rn(){return this.__wrapped__}var on,sn=0,an={},un=+new Date+"",cn=/<%=([\s\S]+?)%>/g,ln=/($^)/,fn=/['\n\r\t\u2028\u2029\\]/g,dn="[object Arguments]",pn="[object Array]",hn="[object Boolean]",gn="[object Date]",mn="[object Function]",vn="[object Number]",yn="[object Object]",bn="[object RegExp]",wn="[object String]",_n={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},xn={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},qn=_n[typeof window]&&window||this,kn=_n[typeof global]&&global;!kn||kn.global!==kn&&kn.window!==kn||(qn=kn);var Cn=[],Tn=Object.prototype,En=qn._,Sn=Tn.toString,jn=RegExp("^"+String(Sn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Nn=Math.ceil,An=Math.floor,On=Tn.hasOwnProperty,Mn=Cn.push,Pn=Tn.propertyIsEnumerable,$n=b($n=Object.create)&&$n,Ln=b(Ln=Array.isArray)&&Ln,Dn=qn.isFinite,Hn=qn.isNaN,In=b(In=Object.keys)&&In,Fn=Math.max,Bn=Math.min,Rn=Math.random;o.prototype=r.prototype;var zn={};!function(){var e={0:1,length:1};zn.spliceObjects=(Cn.splice.call(e,0,1),!e[0])}(1),r.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:cn,variable:""},$n||(a=function(){function e(){}return function(t){if($(t)){e.prototype=t;var n=new e;e.prototype=null}return n||qn.Object()}}()),_(arguments)||(_=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&On.call(e,"callee")&&!Pn.call(e,"callee")||!1});var Wn=Ln||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Sn.call(e)==pn||!1},Vn=function(e){var t,n=e,i=[];if(!n)return i;if(!_n[typeof e])return i;for(t in n)On.call(n,t)&&i.push(t);return i},Un=In?function(e){return $(e)?In(e):[]}:Vn,Gn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Xn=E(Gn),Jn=RegExp("("+Un(Xn).join("|")+")","g"),Kn=RegExp("["+Un(Gn).join("")+"]","g"),Qn=function(e,t){var n,i=e,r=i;if(!i)return r;if(!_n[typeof i])return r;for(n in i)if(t(i[n],n,e)===an)return r;return r},Yn=function(e,t){var n,i=e,r=i;if(!i)return r;if(!_n[typeof i])return r;for(n in i)if(On.call(i,n)&&t(i[n],n,e)===an)return r;return r};P(/x/)&&(P=function(e){return"function"==typeof e&&Sn.call(e)==mn});var Zn=g(function(e,t,n){On.call(e,n)?e[n]++:e[n]=1}),ei=g(function(e,t,n){(On.call(e,n)?e[n]:e[n]=[]).push(t)}),ti=g(function(e,t,n){e[n]=t}),ni=et,ii=b(ii=Date.now)&&ii||function(){return(new Date).getTime()};r.after=Nt,r.bind=At,r.bindAll=Ot,r.chain=en,r.compact=pt,r.compose=Mt,r.countBy=Zn,r.debounce=Pt,r.defaults=k,r.defer=$t,r.delay=Lt,r.difference=ht,r.filter=X,r.flatten=mt,r.forEach=Q,r.functions=C,r.groupBy=ei,r.indexBy=ti,r.initial=yt,r.intersection=bt,r.invert=E,r.invoke=Z,r.keys=Un,r.map=et,r.max=tt,r.memoize=Dt,r.min=nt,r.omit=R,r.once=Ht,r.pairs=z,r.partial=It,r.pick=W,r.pluck=ni,r.range=xt,r.reject=ot,r.rest=qt,r.shuffle=at,r.sortBy=lt,r.tap=tn,r.throttle=Ft,r.times=Qt,r.toArray=ft,r.union=Ct,r.uniq=Tt,r.values=V,r.where=dt,r.without=Et,r.wrap=Bt,r.zip=St,r.collect=et,r.drop=qt,r.each=Q,r.extend=x,r.methods=C,r.object=jt,r.select=X,r.tail=qt,r.unique=Tt,r.clone=q,r.contains=U,r.escape=zt,r.every=G,r.find=J,r.has=T,r.identity=Wt,r.indexOf=vt,r.isArguments=_,r.isArray=Wn,r.isBoolean=S,r.isDate=j,r.isElement=N,r.isEmpty=A,r.isEqual=O,r.isFinite=M,r.isFunction=P,r.isNaN=L,r.isNull=D,r.isNumber=H,r.isObject=$,r.isRegExp=I,r.isString=F,r.isUndefined=B,r.lastIndexOf=_t,r.mixin=Vt,r.noConflict=Ut,r.random=Xt,r.reduce=it,r.reduceRight=rt,r.result=Jt,r.size=ut,r.some=ct,r.sortedIndex=kt,r.template=Kt,r.unescape=Yt,r.uniqueId=Zt,r.all=G,r.any=ct,r.detect=J,r.findWhere=K,r.foldl=it,r.foldr=rt,r.include=U,r.inject=it,r.first=gt,r.last=wt,r.sample=st,r.take=gt,r.head=gt,Vt(r),r.VERSION="2.4.1",r.prototype.chain=nn,r.prototype.value=rn,Q(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Cn[e];r.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),zn.spliceObjects||0!==e.length||delete e[0],this}}),Q(["concat","join","slice"],function(e){var t=Cn[e];r.prototype[e]=function(){var e=this.__wrapped__,n=t.apply(e,arguments);return this.__chain__&&(n=new o(n),n.__chain__=!0),n}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd&&define("@qubit---underscore@1.5.2/lodash-underscore",[],function(){return r})}.call(this),define("@qubit---underscore@1.5.2/underscore",["require","./lodash-underscore"],function(e){return e("./lodash-underscore")}),define("@qubit---underscore@1.5.2",["@qubit---underscore@1.5.2/underscore"],function(e){return e}),function(e,t){function n(e){var t=ht[e]={};return Y.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(mt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:gt.test(i)?Y.parseJSON(i):i}catch(o){}Y.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!Y.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function s(){return!0}function a(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,n){if(t=t||0,Y.isFunction(t))return Y.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Y.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=Y.grep(e,function(e){return 1===e.nodeType});if(Lt.test(t))return Y.filter(t,i,!n);t=Y.filter(t,i)}return Y.grep(e,function(e){return Y.inArray(e,t)>=0===n})}function l(e){var t=It.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function d(e,t){if(1===t.nodeType&&Y.hasData(e)){var n,i,r,o=Y._data(e),s=Y._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)Y.event.add(t,n,a[n][i])}s.data&&(s.data=Y.extend({},s.data))}}function p(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Y.support.html5Clone&&e.innerHTML&&!Y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Jt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Y.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Jt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=yn.length;r--;)if(t=yn[r]+n,t in e)return t;return i}function v(e,t){return e=t||e,"none"===Y.css(e,"display")||!Y.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,r=[],o=0,s=e.length;s>o;o++)n=e[o],n.style&&(r[o]=Y._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=Y._data(n,"olddisplay",x(n.nodeName)))):(i=nn(n,"display"),r[o]||"none"===i||Y._data(n,"olddisplay",i)));for(o=0;s>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function b(e,t,n){var i=fn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function w(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Y.css(e,n+vn[r],!0)),i?("content"===n&&(o-=parseFloat(nn(e,"padding"+vn[r]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+vn[r]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+vn[r]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+vn[r]+"Width"))||0));return o}function _(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing");if(0>=i||null==i){if(i=nn(e,t),(0>i||null==i)&&(i=e.style[t]),dn.test(i))return i;r=o&&(Y.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+w(e,t,n||(o?"border":"content"),r)+"px"}function x(e){if(hn[e])return hn[e];var t=Y("<"+e+">").appendTo(B.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=B.body.appendChild(rn||Y.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),B.body.removeChild(rn)),hn[e]=n,n}function q(e,t,n,i){var r;if(Y.isArray(t))Y.each(t,function(t,r){n||_n.test(e)?i(e,r):q(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Y.type(t))i(e,t);else for(r in t)q(e+"["+r+"]",t[r],n,i)}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,o,s=t.toLowerCase().split(tt),a=0,u=s.length;if(Y.isFunction(n))for(;u>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function C(e,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,u=e[o],c=0,l=u?u.length:0,f=e===Dn;l>c&&(f||!a);c++)a=u[c](n,i,r),"string"==typeof a&&(!f||s[a]?a=t:(n.dataTypes.unshift(a),a=C(e,n,i,r,a,s)));return!f&&a||s["*"]||(a=C(e,n,i,r,"*",s)),a}function T(e,n){var i,r,o=Y.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&Y.extend(!0,e,r)}function E(e,n,i){var r,o,s,a,u=e.contents,c=e.dataTypes,l=e.responseFields;for(o in l)o in i&&(n[l[o]]=i[o]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in u)if(u[o]&&u[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function S(e,t){var n,i,r,o,s=e.dataTypes.slice(),a=s[0],u={},c=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(n in e.converters)u[n.toLowerCase()]=e.converters[n];for(;r=s[++c];)if("*"!==r){if("*"!==a&&a!==r){if(n=u[a+" "+r]||u["* "+r],!n)for(i in u)if(o=i.split(" "),o[1]===r&&(n=u[a+" "+o[0]]||u["* "+o[0]])){n===!0?n=u[i]:u[i]!==!0&&(r=o[0],s.splice(c--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}function j(){try{return new e.XMLHttpRequest}catch(t){}}function N(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function A(){return setTimeout(function(){Xn=t},0),Xn=Y.now()}function O(e,t){Y.each(t,function(t,n){for(var i=(ei[t]||[]).concat(ei["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function M(e,t,n){var i,r=0,o=Zn.length,s=Y.Deferred().always(function(){delete a.elem}),a=function(){for(var t=Xn||A(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);
return s.notifyWith(e,[u,i,n]),1>i&&o?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Y.extend({},t),opts:Y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Y.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){for(var n=0,i=t?u.tweens.length:0;i>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(P(c,u.opts.specialEasing);o>r;r++)if(i=Zn[r].call(u,e,c,u.opts))return i;return O(u,c),Y.isFunction(u.opts.start)&&u.opts.start.call(e,u),Y.fx.timer(Y.extend(a,{anim:u,queue:u.opts.queue,elem:e})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(e,t){var n,i,r,o,s;for(n in e)if(i=Y.camelCase(n),r=t[i],o=e[n],Y.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=Y.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function $(e,t,n){var i,r,o,s,a,u,c,l,f=this,d=e.style,p={},h=[],g=e.nodeType&&v(e);n.queue||(c=Y._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,l=c.empty.fire,c.empty.fire=function(){c.unqueued||l()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,Y.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===Y.css(e,"display")&&"none"===Y.css(e,"float")&&(Y.support.inlineBlockNeedsLayout&&"inline"!==x(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",Y.support.shrinkWrapBlocks||f.done(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Kn.exec(o)){if(delete t[i],o===(g?"hide":"show"))continue;h.push(i)}if(s=h.length)for(a=Y._data(e,"fxshow")||Y._data(e,"fxshow",{}),g?Y(e).show():f.done(function(){Y(e).hide()}),f.done(function(){var t;Y.removeData(e,"fxshow",!0);for(t in p)Y.style(e,t,p[t])}),i=0;s>i;i++)r=h[i],u=f.createTween(r,g?a[r]:0),p[r]=a[r]||Y.style(e,r),r in a||(a[r]=u.start,g&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}function L(e,t,n,i,r){return new L.prototype.init(e,t,n,i,r)}function D(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=vn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function H(e){return Y.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var I,F,B=e.document,R=e.location,z=e.navigator,W=e.jQuery,V=e.$,U=Array.prototype.push,G=Array.prototype.slice,X=Array.prototype.indexOf,J=Object.prototype.toString,K=Object.prototype.hasOwnProperty,Q=String.prototype.trim,Y=function(e,t){return new Y.fn.init(e,t,I)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,at=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ut=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,lt=/-([\da-z])/gi,ft=function(e,t){return(t+"").toUpperCase()},dt=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",dt,!1),Y.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",dt),Y.ready())},pt={};Y.fn=Y.prototype={constructor:Y,init:function(e,n,i){var r,o,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:it.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof Y?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:B,e=Y.parseHTML(r[1],s,!0),rt.test(r[1])&&Y.isPlainObject(n)&&this.attr.call(e,n,!0),Y.merge(this,e);if(o=B.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=B,this.selector=e,this}return Y.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Y.makeArray(e,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return G.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Y.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Y.each(this,e,t)},ready:function(e){return Y.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(e){return this.pushStack(Y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},u=2),"object"==typeof a||Y.isFunction(a)||(a={}),c===u&&(a=this,--u);c>u;u++)if(null!=(e=arguments[u]))for(n in e)i=a[n],r=e[n],a!==r&&(l&&r&&(Y.isPlainObject(r)||(o=Y.isArray(r)))?(o?(o=!1,s=i&&Y.isArray(i)?i:[]):s=i&&Y.isPlainObject(i)?i:{},a[n]=Y.extend(l,s,r)):r!==t&&(a[n]=r));return a},Y.extend({noConflict:function(t){return e.$===Y&&(e.$=V),t&&e.jQuery===Y&&(e.jQuery=W),Y},isReady:!1,readyWait:1,holdReady:function(e){e?Y.readyWait++:Y.ready(!0)},ready:function(e){if(e===!0?!--Y.readyWait:!Y.isReady){if(!B.body)return setTimeout(Y.ready,1);Y.isReady=!0,e!==!0&&--Y.readyWait>0||(F.resolveWith(B,[Y]),Y.fn.trigger&&Y(B).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Y.type(e)},isArray:Array.isArray||function(e){return"array"===Y.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[J.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Y.type(e)||e.nodeType||Y.isWindow(e))return!1;try{if(e.constructor&&!K.call(e,"constructor")&&!K.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||K.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||B,(i=rt.exec(e))?[t.createElement(i[1])]:(i=Y.buildFragment([e],t,n?null:[]),Y.merge([],(i.cacheable?Y.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Y.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(at,"@").replace(ut,"]").replace(st,""))?new Function("return "+t)():void Y.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Y.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(lt,ft)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,s=e.length,a=s===t||Y.isFunction(e);if(i)if(a){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>o&&n.apply(e[o++],i)!==!1;);else if(a){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;s>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:Q&&!Q.call("\ufeff\xa0")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Y.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Y.isWindow(e)?U.call(i,e):Y.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(X)return X.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,s=[],a=0,u=e.length,c=e instanceof Y||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||Y.isArray(e));if(c)for(;u>a;a++)r=n(e[a],a,i),null!=r&&(s[s.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),Y.isFunction(e)?(r=G.call(arguments,2),o=function(){return e.apply(n,r.concat(G.call(arguments)))},o.guid=e.guid=e.guid||Y.guid++,o):t},access:function(e,n,i,r,o,s,a){var u,c=null==i,l=0,f=e.length;if(i&&"object"==typeof i){for(l in i)Y.access(e,n,l,i[l],1,s,r);o=1}else if(r!==t){if(u=a===t&&Y.isFunction(r),c&&(u?(u=n,n=function(e,t,n){return u.call(Y(e),n)}):(n.call(e,r),n=null)),n)for(;f>l;l++)n(e[l],i,u?r.call(e[l],l,n(e[l],i)):r,a);o=1}return o?e:c?n.call(e):f?n(e[0],i):s},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(t){if(!F)if(F=Y.Deferred(),"complete"===B.readyState)setTimeout(Y.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",dt,!1),e.addEventListener("load",Y.ready,!1);else{B.attachEvent("onreadystatechange",dt),e.attachEvent("onload",Y.ready);var n=!1;try{n=null==e.frameElement&&B.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Y.ready()}}()}return F.promise(t)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),I=Y(B);var ht={};Y.Callbacks=function(e){e="string"==typeof e?ht[e]||n(e):Y.extend({},e);var i,r,o,s,a,u,c=[],l=!e.once&&[],f=function(t){for(i=e.memory&&t,r=!0,u=s||0,s=0,a=c.length,o=!0;c&&a>u;u++)if(c[u].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,c&&(l?l.length&&f(l.shift()):i?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function n(t){Y.each(t,function(t,i){var r=Y.type(i);"function"!==r||e.unique&&d.has(i)?i&&i.length&&"string"!==r&&n(i):c.push(i)})}(arguments),o?a=c.length:i&&(s=t,f(i))}return this},remove:function(){return c&&Y.each(arguments,function(e,t){for(var n;(n=Y.inArray(t,c,n))>-1;)c.splice(n,1),o&&(a>=n&&a--,u>=n&&u--)}),this},has:function(e){return Y.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=l=i=t,this},disabled:function(){return!c},lock:function(){return l=t,i||d.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||r&&!l||(o?l.push(t):f(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Y.extend({Deferred:function(e){var t=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Y.Deferred(function(n){Y.each(t,function(t,i){var o=i[0],s=e[t];r[i[1]](Y.isFunction(s)?function(){var e=s.apply(this,arguments);e&&Y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?Y.extend(e,i):i}},r={};return i.pipe=i.then,Y.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=s.fire,r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=G.call(arguments),s=o.length,a=1!==s||e&&Y.isFunction(e.promise)?s:0,u=1===a?e:Y.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?G.call(arguments):r,i===t?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&Y.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(u.reject).progress(c(r,n,t)):--a;return a||u.resolveWith(i,o),u.promise()}}),Y.support=function(){var t,n,i,r,o,s,a,u,c,l,f,d=B.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],i.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length)return{};r=B.createElement("select"),o=r.appendChild(B.createElement("option")),s=d.getElementsByTagName("input")[0],t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",f=function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",f)),s=B.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),d.appendChild(s),a=B.createDocumentFragment(),a.appendChild(d.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,a.removeChild(s),a.appendChild(d),d.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})u="on"+c,l=u in d,l||(d.setAttribute(u,"return;"),l="function"==typeof d[u]),t[c+"Bubbles"]=l;return Y(function(){var n,i,r,o,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=B.getElementsByTagName("body")[0];a&&(n=B.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),i=B.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=l&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,o=B.createElement("div"),o.style.cssText=i.style.cssText=s,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),a.removeChild(n),n=i=r=o=null)}),a.removeChild(d),n=i=r=o=s=a=d=null,t}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Y.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Y.cache[e[Y.expando]]:e[Y.expando],!!e&&!r(e)},data:function(e,n,i,r){if(Y.acceptData(e)){var o,s,a=Y.expando,u="string"==typeof n,c=e.nodeType,l=c?Y.cache:e,f=c?e[a]:e[a]&&a;if(f&&l[f]&&(r||l[f].data)||!u||i!==t)return f||(c?e[a]=f=Y.deletedIds.pop()||Y.guid++:f=a),l[f]||(l[f]={},c||(l[f].toJSON=Y.noop)),("object"==typeof n||"function"==typeof n)&&(r?l[f]=Y.extend(l[f],n):l[f].data=Y.extend(l[f].data,n)),o=l[f],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[Y.camelCase(n)]=i),u?(s=o[n],null==s&&(s=o[Y.camelCase(n)])):s=o,s}},removeData:function(e,t,n){if(Y.acceptData(e)){var i,o,s,a=e.nodeType,u=a?Y.cache:e,c=a?e[Y.expando]:Y.expando;if(u[c]){if(t&&(i=n?u[c]:u[c].data)){Y.isArray(t)||(t in i?t=[t]:(t=Y.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,s=t.length;s>o;o++)delete i[t[o]];if(!(n?r:Y.isEmptyObject)(i))return}(n||(delete u[c].data,r(u[c])))&&(a?Y.cleanData([e],!0):Y.support.deleteExpando||u!=u.window?delete u[c]:u[c]=null)}}},_data:function(e,t,n){return Y.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Y.fn.extend({data:function(e,n){var r,o,s,a,u,c=this[0],l=0,f=null;if(e===t){if(this.length&&(f=Y.data(c),1===c.nodeType&&!Y._data(c,"parsedAttrs"))){for(s=c.attributes,u=s.length;u>l;l++)a=s[l].name,a.indexOf("data-")||(a=Y.camelCase(a.substring(5)),i(c,a,f[a]));Y._data(c,"parsedAttrs",!0)}return f}return"object"==typeof e?this.each(function(){Y.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Y.access(this,function(n){return n===t?(f=this.triggerHandler("getData"+o,[r[0]]),f===t&&c&&(f=Y.data(c,e),f=i(c,e,f)),f===t&&r[1]?this.data(r[0]):f):(r[1]=n,void this.each(function(){var t=Y(this);t.triggerHandler("setData"+o,r),Y.data(this,e,n),t.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Y.removeData(this,e)})}}),Y.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Y._data(e,t),n&&(!i||Y.isArray(n)?i=Y._data(e,t,Y.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Y.queue(e,t),i=n.length,r=n.shift(),o=Y._queueHooks(e,t),s=function(){Y.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y._data(e,n)||Y._data(e,n,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(e,t+"queue",!0),Y.removeData(e,n,!0)})})}}),Y.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Y.queue(this[0],e):n===t?this:this.each(function(){var t=Y.queue(this,e,n);Y._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Y.dequeue(this,e)})},delay:function(e,t){return e=Y.fx?Y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=Y.Deferred(),s=this,a=this.length,u=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=Y._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(u));return u(),o.promise(n)}});var vt,yt,bt,wt=/[\t\r\n]/g,_t=/\r/g,xt=/^(?:button|input)$/i,qt=/^(?:button|input|object|select|textarea)$/i,kt=/^a(?:rea|)$/i,Ct=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Tt=Y.support.getSetAttribute;Y.fn.extend({attr:function(e,t){return Y.access(this,Y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Y.removeAttr(this,e)})},prop:function(e,t){return Y.access(this,Y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s,a;if(Y.isFunction(e))return this.each(function(t){Y(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",s=0,a=t.length;a>s;s++)o.indexOf(" "+t[s]+" ")<0&&(o+=t[s]+" ");r.className=Y.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,s,a,u;if(Y.isFunction(e))return this.each(function(t){Y(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),a=0,u=this.length;u>a;a++)if(r=this[a],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(wt," "),o=0,s=n.length;s>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=e?Y.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(Y.isFunction(e)?function(n){Y(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var r,o=0,s=Y(this),a=t,u=e.split(tt);r=u[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Y._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=Y.isFunction(e),this.each(function(i){var o,s=Y(this);1===this.nodeType&&(o=r?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":Y.isArray(o)&&(o=Y.map(o,function(e){return null==e?"":e+""})),n=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=Y.valHooks[o.type]||Y.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(_t,""):null==i?"":i)}}}),Y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,r,o=e.selectedIndex,s=[],a=e.options,u="select-one"===e.type;if(0>o)return null;for(n=u?o:0,i=u?o+1:a.length;i>n;n++)if(r=a[n],!(!r.selected||(Y.support.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&Y.nodeName(r.parentNode,"optgroup"))){if(t=Y(r).val(),u)return t;s.push(t)}return u&&!s.length&&a.length?Y(a[o]).val():s},set:function(e,t){var n=Y.makeArray(t);return Y(e).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,s,a,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return r&&Y.isFunction(Y.fn[n])?Y(e)[n](i):"undefined"==typeof e.getAttribute?Y.prop(e,n,i):(a=1!==u||!Y.isXMLDoc(e),a&&(n=n.toLowerCase(),s=Y.attrHooks[n]||(Ct.test(n)?yt:vt)),i!==t?null===i?void Y.removeAttr(e,n):s&&"set"in s&&a&&(o=s.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):s&&"get"in s&&a&&null!==(o=s.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,i,r,o,s=0;if(t&&1===e.nodeType)for(i=t.split(tt);s<i.length;s++)r=i[s],r&&(n=Y.propFix[r]||r,o=Ct.test(r),o||Y.attr(e,r,""),e.removeAttribute(Tt?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(xt.test(e.nodeName)&&e.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&"radio"===t&&Y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return vt&&Y.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,n){return vt&&Y.nodeName(e,"button")?vt.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!Y.isXMLDoc(e),s&&(n=Y.propFix[n]||n,o=Y.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):qt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var i,r=Y.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Y.removeAttr(e,n):(i=Y.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},Tt||(bt={name:!0,id:!0,coords:!0},vt=Y.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(bt[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=B.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Y.each(["width","height"],function(e,t){Y.attrHooks[t]=Y.extend(Y.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Y.attrHooks.contenteditable={get:vt.get,set:function(e,t,n){""===t&&(t="false"),vt.set(e,t,n)}}),Y.support.hrefNormalized||Y.each(["href","src","width","height"],function(e,n){Y.attrHooks[n]=Y.extend(Y.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Y.support.style||(Y.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Y.support.optSelected||(Y.propHooks.selected=Y.extend(Y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Y.support.enctype||(Y.propFix.enctype="encoding"),Y.support.checkOn||Y.each(["radio","checkbox"],function(){Y.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]=Y.extend(Y.valHooks[this],{set:function(e,t){return Y.isArray(t)?e.checked=Y.inArray(Y(e).val(),t)>=0:void 0}})});var Et=/^(?:textarea|input|select)$/i,St=/^([^\.]*|)(?:\.(.+)|)$/,jt=/(?:^|\s)hover(\.\S+|)\b/,Nt=/^key/,At=/^(?:mouse|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Mt=function(e){return Y.event.special.hover?e:e.replace(jt,"mouseenter$1 mouseleave$1")};Y.event={add:function(e,n,i,r,o){var s,a,u,c,l,f,d,p,h,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=Y._data(e))){for(i.handler&&(h=i,i=h.handler,o=h.selector),i.guid||(i.guid=Y.guid++),u=s.events,u||(s.events=u={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof Y||e&&Y.event.triggered===e.type?t:Y.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=Y.trim(Mt(n)).split(" "),c=0;c<n.length;c++)l=St.exec(n[c])||[],f=l[1],d=(l[2]||"").split(".").sort(),m=Y.event.special[f]||{},f=(o?m.delegateType:m.bindType)||f,m=Y.event.special[f]||{},p=Y.extend({type:f,origType:l[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Y.expr.match.needsContext.test(o),namespace:d.join(".")},h),g=u[f],g||(g=u[f]=[],g.delegateCount=0,m.setup&&m.setup.call(e,r,d,a)!==!1||(e.addEventListener?e.addEventListener(f,a,!1):e.attachEvent&&e.attachEvent("on"+f,a))),m.add&&(m.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),o?g.splice(g.delegateCount++,0,p):g.push(p),Y.event.global[f]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,s,a,u,c,l,f,d,p,h,g,m=Y.hasData(e)&&Y._data(e);if(m&&(d=m.events)){for(t=Y.trim(Mt(t||"")).split(" "),o=0;o<t.length;o++)if(s=St.exec(t[o])||[],a=u=s[1],c=s[2],a){for(p=Y.event.special[a]||{},a=(i?p.delegateType:p.bindType)||a,h=d[a]||[],l=h.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=0;f<h.length;f++)g=h[f],!r&&u!==g.origType||n&&n.guid!==g.guid||c&&!c.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(h.splice(f--,1),g.selector&&h.delegateCount--,p.remove&&p.remove.call(e,g));0===h.length&&l!==h.length&&(p.teardown&&p.teardown.call(e,c,m.handle)!==!1||Y.removeEvent(e,a,m.handle),delete d[a])}else for(a in d)Y.event.remove(e,a+t[o],n,i,!0);Y.isEmptyObject(d)&&(delete m.handle,Y.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,u,c,l,f,d,p,h,g,m=n.type||n,v=[];if(!Ot.test(m+Y.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),a=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),r&&!Y.event.customEvent[m]||Y.event.global[m]))if(n="object"==typeof n?n[Y.expando]?n:new Y.Event(m,n):new Y.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f=m.indexOf(":")<0?"on"+m:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?Y.makeArray(i):[],i.unshift(n),d=Y.event.special[m]||{},!d.trigger||d.trigger.apply(r,i)!==!1){if(h=[[r,d.bindType||m]],!o&&!d.noBubble&&!Y.isWindow(r)){for(g=d.delegateType||m,c=Ot.test(g+m)?r:r.parentNode,l=r;c;c=c.parentNode)h.push([c,g]),l=c;l===(r.ownerDocument||B)&&h.push([l.defaultView||l.parentWindow||e,g])}for(u=0;u<h.length&&!n.isPropagationStopped();u++)c=h[u][0],n.type=h[u][1],p=(Y._data(c,"events")||{})[n.type]&&Y._data(c,"handle"),p&&p.apply(c,i),p=f&&c[f],p&&Y.acceptData(c)&&p.apply&&p.apply(c,i)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,i)!==!1||"click"===m&&Y.nodeName(r,"a")||!Y.acceptData(r)||f&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!Y.isWindow(r)&&(l=r[f],l&&(r[f]=null),Y.event.triggered=m,r[m](),Y.event.triggered=t,l&&(r[f]=l)),n.result}}else{s=Y.cache;for(u in s)s[u].events&&s[u].events[m]&&Y.event.trigger(n,i,s[u].handle.elem,!0)}}},dispatch:function(n){n=Y.event.fix(n||e.event);var i,r,o,s,a,u,c,l,f,d=(Y._data(this,"events")||{})[n.type]||[],p=d.delegateCount,h=G.call(arguments),g=!n.exclusive&&!n.namespace,m=Y.event.special[n.type]||{},v=[];if(h[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(a={},c=[],i=0;p>i;i++)l=d[i],f=l.selector,a[f]===t&&(a[f]=l.needsContext?Y(f,this).index(o)>=0:Y.find(f,this,null,[o]).length),a[f]&&c.push(l);c.length&&v.push({elem:o,matches:c})}for(d.length>p&&v.push({elem:this,matches:d.slice(p)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(u=v[i],n.currentTarget=u.elem,r=0;r<u.matches.length&&!n.isImmediatePropagationStopped();r++)l=u.matches[r],(g||!n.namespace&&!l.namespace||n.namespace_re&&n.namespace_re.test(l.namespace))&&(n.data=l.data,n.handleObj=l,s=((Y.event.special[l.origType]||{}).handle||l.handler).apply(u.elem,h),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||B,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Y.expando])return e;var t,n,i=e,r=Y.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=Y.Event(i),t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||B),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Y.isWindow(this)&&(this.onbeforeunload=n)
},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Y.extend(new Y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Y.event.trigger(r,null,t):Y.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=B.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Y.Event=function(e,t){return this instanceof Y.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:o):this.type=e,t&&Y.extend(this,t),this.timeStamp=e&&e.timeStamp||Y.now(),void(this[Y.expando]=!0)):new Y.Event(e,t)},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Y.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector}return(!r||r!==i&&!Y.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Y.support.submitBubbles||(Y.event.special.submit={setup:function(){return Y.nodeName(this,"form")?!1:void Y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Y.nodeName(n,"input")||Y.nodeName(n,"button")?n.form:t;i&&!Y._data(i,"_submit_attached")&&(Y.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Y._data(i,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Y.nodeName(this,"form")?!1:void Y.event.remove(this,"._submit")}}),Y.support.changeBubbles||(Y.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Y.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Y.event.simulate("change",this,e,!0)})),!1):void Y.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!Y._data(t,"_change_attached")&&(Y.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Y.event.simulate("change",this.parentNode,e,!0)}),Y._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Y.event.remove(this,"._change"),!Et.test(this.nodeName)}}),Y.support.focusinBubbles||Y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Y.event.simulate(t,e.target,Y.event.fix(e),!0)};Y.event.special[t]={setup:function(){0===n++&&B.addEventListener(e,i,!0)},teardown:function(){0===--n&&B.removeEventListener(e,i,!0)}}}),Y.fn.extend({on:function(e,n,i,r,s){var a,u;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(u in e)this.on(u,n,i,e[u],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=o;else if(!r)return this;return 1===s&&(a=r,r=function(e){return Y().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Y.guid++)),this.each(function(){Y.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Y(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=o),this.each(function(){Y.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Y(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Y(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Y.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Y.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Y.guid++,i=0,r=function(n){var r=(Y._data(this,"lastToggle"+e.guid)||0)%i;return Y._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Y.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Nt.test(t)&&(Y.event.fixHooks[t]=Y.event.keyHooks),At.test(t)&&(Y.event.fixHooks[t]=Y.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||A;var r,o,s,a,u=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==u&&9!==u)return[];if(s=_(t),!s&&!i&&(r=nt.exec(e)))if(a=r[1]){if(9===u){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&x(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return L.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&dt&&t.getElementsByClassName)return L.apply(n,D.call(t.getElementsByClassName(a),0)),n}return g(e.replace(Q,"$1"),t,n,i,s)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return I(function(t){return t=+t,I(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function s(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function a(e,t){var i,r,o,s,a,u,c,l=R[j][e];if(l)return t?0:l.slice(0);for(a=e,u=[],c=b.preFilter;a;){(!i||(r=Z.exec(a)))&&(r&&(a=a.slice(r[0].length)),u.push(o=[])),i=!1,(r=et.exec(a))&&(o.push(i=new N(r.shift())),a=a.slice(i.length),i.type=r[0].replace(Q," "));for(s in b.filter)!(r=at[s].exec(a))||c[s]&&!(r=c[s](r,A,!0))||(o.push(i=new N(r.shift())),a=a.slice(i.length),i.type=s,i.matches=r);if(!i)break}return t?a.length:a?n.error(e):R(e,u).slice(0)}function u(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=P++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,s){if(s){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,s))return t}else for(var a,u=M+" "+o+" ",c=u+v;t=t[i];)if(r||1===t.nodeType){if((a=t[j])===c)return t.sizset;if("string"==typeof a&&0===a.indexOf(u)){if(t.sizset)return t}else{if(t[j]=c,e(t,n,s))return t.sizset=!0,t;t.sizset=!1}}}}function c(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function l(e,t,n,i,r){for(var o,s=[],a=0,u=e.length,c=null!=t;u>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function f(e,t,n,i,r,o){return i&&!i[j]&&(i=f(i)),r&&!r[j]&&(r=f(r,o)),I(function(o,s,a,u){if(!o||!r){var c,f,d,p=[],g=[],m=s.length,v=o||h(t||"*",a.nodeType?[a]:a,[],o),y=!e||!o&&t?v:l(v,p,e,a,u),b=n?r||(o?e:m||i)?[]:s:y;if(n&&n(y,b,a,u),i)for(d=l(b,g),i(d,[],a,u),c=d.length;c--;)(f=d[c])&&(b[g[c]]=!(y[g[c]]=f));if(o)for(c=e&&b.length;c--;)(f=b[c])&&(o[p[c]]=!(s[p[c]]=f));else b=l(b===s?b.splice(m,b.length):b),r?r(null,s,b,u):L.apply(s,b)}})}function d(e){for(var t,n,i,r=e.length,o=b.relative[e[0].type],s=o||b.relative[" "],a=o?1:0,l=u(function(e){return e===t},s,!0),p=u(function(e){return H.call(t,e)>-1},s,!0),h=[function(e,n,i){return!o&&(i||n!==T)||((t=n).nodeType?l(e,n,i):p(e,n,i))}];r>a;a++)if(n=b.relative[e[a].type])h=[u(c(h),n)];else{if(n=b.filter[e[a].type].apply(null,e[a].matches),n[j]){for(i=++a;r>i&&!b.relative[e[i].type];i++);return f(a>1&&c(h),a>1&&e.slice(0,a-1).join("").replace(Q,"$1"),n,i>a&&d(e.slice(a,i)),r>i&&d(e=e.slice(i)),r>i&&e.join(""))}h.push(n)}return c(h)}function p(e,t){var i=t.length>0,r=e.length>0,o=function(s,a,u,c,f){var d,p,h,g=[],m=0,y="0",w=s&&[],_=null!=f,x=T,q=s||r&&b.find.TAG("*",f&&a.parentNode||a),k=M+=null==x?1:Math.E;for(_&&(T=a!==A&&a,v=o.el);null!=(d=q[y]);y++){if(r&&d){for(p=0;h=e[p];p++)if(h(d,a,u)){c.push(d);break}_&&(M=k,v=++o.el)}i&&((d=!h&&d)&&m--,s&&w.push(d))}if(m+=y,i&&y!==m){for(p=0;h=t[p];p++)h(w,g,a,u);if(s){if(m>0)for(;y--;)w[y]||g[y]||(g[y]=$.call(c));g=l(g)}L.apply(c,g),_&&!s&&g.length>0&&m+t.length>1&&n.uniqueSort(c)}return _&&(M=k,T=x),w};return o.el=0,i?I(o):o}function h(e,t,i,r){for(var o=0,s=t.length;s>o;o++)n(e,t[o],i,r);return i}function g(e,t,n,i,r){{var o,s,u,c,l,f=a(e);f.length}if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&9===t.nodeType&&!r&&b.relative[s[1].type]){if(t=b.find.ID(u.matches[0].replace(st,""),t,r)[0],!t)return n;e=e.slice(s.shift().length)}for(o=at.POS.test(e)?-1:s.length-1;o>=0&&(u=s[o],!b.relative[c=u.type]);o--)if((l=b.find[c])&&(i=l(u.matches[0].replace(st,""),it.test(s[0].type)&&t.parentNode||t,r))){if(s.splice(o,1),e=i.length&&s.join(""),!e)return L.apply(n,D.call(i,0)),n;break}}return q(e,f)(i,t,r,n,it.test(e)),n}function m(){}var v,y,b,w,_,x,q,k,C,T,E=!0,S="undefined",j=("sizcache"+Math.random()).replace(".",""),N=String,A=e.document,O=A.documentElement,M=0,P=0,$=[].pop,L=[].push,D=[].slice,H=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},I=function(e,t){return e[j]=null==t||t,e},F=function(){var e={},t=[];return I(function(n,i){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n]=i},e)},B=F(),R=F(),z=F(),W="[\\x20\\t\\r\\n\\f]",V="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",U=V.replace("w","w#"),G="([*^$|!~]?=)",X="\\["+W+"*("+V+")"+W+"*(?:"+G+W+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+U+")|)|)"+W+"*\\]",J=":("+V+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+X+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g"),Z=new RegExp("^"+W+"*,"+W+"*"),et=new RegExp("^"+W+"*([\\x20\\t\\r\\n\\f>+~])"+W+"*"),tt=new RegExp(J),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,ot=/input|select|textarea|button/i,st=/\\(?!\\)/g,at={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),NAME:new RegExp("^\\[name=['\"]?("+V+")['\"]?\\]"),TAG:new RegExp("^("+V.replace("w","w*")+")"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),needsContext:new RegExp("^"+W+"*[>+~]|"+K,"i")},ut=function(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ct=ut(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),lt=ut(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==S&&"#"===e.firstChild.getAttribute("href")}),ft=ut(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),dt=ut(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=ut(function(e){e.id=j+0,e.innerHTML="<a name='"+j+"'></a><div name='"+j+"'></div>",O.insertBefore(e,O.firstChild);var t=A.getElementsByName&&A.getElementsByName(j).length===2+A.getElementsByName(j+0).length;return y=!A.getElementById(j),O.removeChild(e),t});try{D.call(O.childNodes,0)[0].nodeType}catch(ht){D=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},w=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=w(t);return n},_=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=n.contains=O.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:O.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=_(e);return i||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):i||ft?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:I,match:at,attrHandle:lt?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==S&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==S&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==S&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ct?function(e,t){return typeof t.getElementsByTagName!==S?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:pt&&function(e,t){return typeof t.getElementsByName!==S?t.getElementsByName(name):void 0},CLASS:dt&&function(e,t,n){return typeof t.getElementsByClassName===S||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,""),e[3]=(e[4]||e[5]||"").replace(st,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return at.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=a(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(st,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(st,""),function(t){var n=typeof t.getAttributeNode!==S&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(st,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=B[j][e];return t||(t=B(e,new RegExp("(^|"+W+")"+e+"("+W+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==S&&e.getAttribute("class")||"")}},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.substr(o.length-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[j]?r(t):r.length>1?(i=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?I(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)i=H.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:I(function(e){var t=[],n=[],i=q(e.replace(Q,"$1"));return i[j]?I(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:I(function(e){return function(t){return n(e,t).length>0}}),contains:I(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k=O.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],a=e.parentNode,u=t.parentNode,c=a;if(a===u)return s(e,t);if(!a)return-1;if(!u)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=u;c;)o.unshift(c),c=c.parentNode;n=r.length,i=o.length;for(var l=0;n>l&&i>l;l++)if(r[l]!==o[l])return s(r[l],o[l]);return l===n?s(e,o[l],-1):s(r[l],t,1)},[0,0].sort(k),E=!C,n.uniqueSort=function(e){var t,n=1;if(C=E,e.sort(k),C)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},q=n.compile=function(e,t){var n,i=[],r=[],o=z[j][e];if(!o){for(t||(t=a(e)),n=t.length;n--;)o=d(t[n]),o[j]?i.push(o):r.push(o);o=z(e,p(r,i))}return o},A.querySelectorAll&&!function(){var e,t=g,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],s=[":active",":focus"],u=O.matchesSelector||O.mozMatchesSelector||O.webkitMatchesSelector||O.oMatchesSelector||O.msMatchesSelector;ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+W+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),ut(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+W+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),g=function(e,n,r,s,u){if(!(s||u||o&&o.test(e))){var c,l,f=!0,d=j,p=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(c=a(e),(f=n.getAttribute("id"))?d=f.replace(i,"\\$&"):n.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+c[l].join("");p=it.test(e)&&n.parentNode||n,h=c.join(",")}if(h)try{return L.apply(r,D.call(p.querySelectorAll(h),0)),r}catch(g){}finally{f||n.removeAttribute("id")}}return t(e,n,r,s,u)},u&&(ut(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",J)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!(_(t)||s.test(i)||o&&o.test(i)))try{var a=u.call(t,i);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(c){}return n(i,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=Y.attr,Y.find=n,Y.expr=n.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=n.uniqueSort,Y.text=n.getText,Y.isXMLDoc=n.isXML,Y.contains=n.contains}(e);var Pt=/Until$/,$t=/^(?:parents|prev(?:Until|All))/,Lt=/^.[^:#\[\.,]*$/,Dt=Y.expr.match.needsContext,Ht={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(e){var t,n,i,r,o,s,a=this;if("string"!=typeof e)return Y(e).filter(function(){for(t=0,n=a.length;n>t;t++)if(Y.contains(a[t],this))return!0});for(s=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=s.length,Y.find(e,this[t],s),t>0)for(r=i;r<s.length;r++)for(o=0;i>o;o++)if(s[o]===s[r]){s.splice(r--,1);break}return s},has:function(e){var t,n=Y(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Dt.test(e)?Y(e,this.context).index(this[0])>=0:Y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Dt.test(e)||"string"!=typeof e?Y(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:Y.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?Y.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?Y.inArray(this[0],Y(e)):Y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Y(e,t):Y.makeArray(e&&e.nodeType?[e]:e),i=Y.merge(this.get(),n);return this.pushStack(a(n[0])||a(i[0])?i:Y.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Y.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return Y.dir(e,"nextSibling")},prevAll:function(e){return Y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Y.dir(e,"previousSibling",n)},siblings:function(e){return Y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Y.sibling(e.firstChild)},contents:function(e){return Y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Y.merge([],e.childNodes)}},function(e,t){Y.fn[e]=function(n,i){var r=Y.map(this,t,n);return Pt.test(e)||(i=n),i&&"string"==typeof i&&(r=Y.filter(i,r)),r=this.length>1&&!Ht[e]?Y.unique(r):r,this.length>1&&$t.test(e)&&(r=r.reverse()),this.pushStack(r,e,G.call(arguments).join(","))}}),Y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Y.find.matchesSelector(t[0],e)?[t[0]]:[]:Y.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!Y(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var It="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ft=/ jQuery\d+="(?:null|\d+)"/g,Bt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Wt=/<tbody/i,Vt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,Gt=/<(?:script|object|embed|option|style)/i,Xt=new RegExp("<(?:"+It+")[\\s/>]","i"),Jt=/^(?:checkbox|radio)$/,Kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/\/(java|ecma)script/i,Yt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=l(B),tn=en.appendChild(B.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Y.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(e){return Y.access(this,function(e){return e===t?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Y.isFunction(e))return this.each(function(t){Y(this).wrapAll(e.call(this,t))});if(this[0]){var t=Y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(Y.isFunction(e)?function(t){Y(this).wrapInner(e.call(this,t))}:function(){var t=Y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y.isFunction(e);return this.each(function(n){Y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(e,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Y.filter(e,[n]).length)&&(t||1!==n.nodeType||(Y.cleanData(n.getElementsByTagName("*")),Y.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Y.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Y.clone(this,e,t)})},html:function(e){return Y.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ft,""):t;if(!("string"!=typeof e||Ut.test(e)||!Y.support.htmlSerialize&&Xt.test(e)||!Y.support.leadingWhitespace&&Bt.test(e)||Zt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Y.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return a(this[0])?this.length?this.pushStack(Y(Y.isFunction(e)?e():e),"replaceWith",e):this:Y.isFunction(e)?this.each(function(t){var n=Y(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Y(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Y(this).remove(),t?Y(t).before(e):Y(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,o,s,a,u=0,c=e[0],l=[],d=this.length;if(!Y.support.checkClone&&d>1&&"string"==typeof c&&Kt.test(c))return this.each(function(){Y(this).domManip(e,n,i)});if(Y.isFunction(c))return this.each(function(r){var o=Y(this);e[0]=c.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(r=Y.buildFragment(e,this,l),s=r.fragment,o=s.firstChild,1===s.childNodes.length&&(s=o),o)for(n=n&&Y.nodeName(o,"tr"),a=r.cacheable||d-1;d>u;u++)i.call(n&&Y.nodeName(this[u],"table")?f(this[u],"tbody"):this[u],u===a?s:Y.clone(s,!0,!0));s=o=null,l.length&&Y.each(l,function(e,t){t.src?Y.ajax?Y.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Y.error("no ajax"):Y.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Yt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Y.buildFragment=function(e,n,i){var r,o,s,a=e[0];return n=n||B,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof a&&a.length<512&&n===B&&"<"===a.charAt(0))||Gt.test(a)||!Y.support.checkClone&&Kt.test(a)||!Y.support.html5Clone&&Xt.test(a)||(o=!0,r=Y.fragments[a],s=r!==t),r||(r=n.createDocumentFragment(),Y.clean(e,n,r,i),o&&(Y.fragments[a]=s&&r)),{fragment:r,cacheable:o}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Y.fn[e]=function(n){var i,r=0,o=[],s=Y(n),a=s.length,u=1===this.length&&this[0].parentNode;if((null==u||u&&11===u.nodeType&&1===u.childNodes.length)&&1===a)return s[t](this[0]),this;for(;a>r;r++)i=(r>0?this.clone(!0):this).get(),Y(s[r])[t](i),o=o.concat(i);return this.pushStack(o,e,s.selector)}}),Y.extend({clone:function(e,t,n){var i,r,o,s;if(Y.support.html5Clone||Y.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(s=tn.firstChild)),!(Y.support.noCloneEvent&&Y.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Y.isXMLDoc(e)))for(p(e,s),i=h(e),r=h(s),o=0;i[o];++o)r[o]&&p(i[o],r[o]);if(t&&(d(e,s),n))for(i=h(e),r=h(s),o=0;i[o];++o)d(i[o],r[o]);return i=r=null,s},clean:function(e,t,n,i){var r,o,s,a,u,c,f,d,p,h,m,v=t===B&&en,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=B),r=0;null!=(s=e[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Vt.test(s)){for(v=v||l(t),f=t.createElement("div"),v.appendChild(f),s=s.replace(Rt,"<$1></$2>"),a=(zt.exec(s)||["",""])[1].toLowerCase(),u=Zt[a]||Zt._default,c=u[0],f.innerHTML=u[1]+s+u[2];c--;)f=f.lastChild;if(!Y.support.tbody)for(d=Wt.test(s),p="table"!==a||d?"<table>"!==u[1]||d?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes,o=p.length-1;o>=0;--o)Y.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!Y.support.leadingWhitespace&&Bt.test(s)&&f.insertBefore(t.createTextNode(Bt.exec(s)[0]),f.firstChild),s=f.childNodes,f.parentNode.removeChild(f)}else s=t.createTextNode(s);s.nodeType?y.push(s):Y.merge(y,s)}if(f&&(s=f=v=null),!Y.support.appendChecked)for(r=0;null!=(s=y[r]);r++)Y.nodeName(s,"input")?g(s):"undefined"!=typeof s.getElementsByTagName&&Y.grep(s.getElementsByTagName("input"),g);if(n)for(h=function(e){return!e.type||Qt.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(s=y[r]);r++)Y.nodeName(s,"script")&&h(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(m=Y.grep(Y.merge([],s.getElementsByTagName("script")),h),y.splice.apply(y,[r+1,0].concat(m)),r+=m.length));return y},cleanData:function(e,t){for(var n,i,r,o,s=0,a=Y.expando,u=Y.cache,c=Y.support.deleteExpando,l=Y.event.special;null!=(r=e[s]);s++)if((t||Y.acceptData(r))&&(i=r[a],n=i&&u[i])){if(n.events)for(o in n.events)l[o]?Y.event.remove(r,o):Y.removeEvent(r,o,n.handle);u[i]&&(delete u[i],c?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,Y.deletedIds.push(i))}}}),function(){var e,t;Y.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];
return{browser:t[1]||"",version:t[2]||"0"}},e=Y.uaMatch(z.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Y.browser=t,Y.sub=function(){function e(t,n){return new e.fn.init(t,n)}Y.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Y&&!(i instanceof e)&&(i=e(i)),Y.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(B);return e}}();var nn,rn,on,sn=/alpha\([^)]*\)/i,an=/opacity=([^)]*)/,un=/^(top|right|bottom|left)$/,cn=/^(none|table(?!-c[ea]).+)/,ln=/^margin/,fn=new RegExp("^("+Z+")(.*)$","i"),dn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+Z+")","i"),hn={},gn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Y.fn.toggle;Y.fn.extend({css:function(e,n){return Y.access(this,function(e,n,i){return i!==t?Y.style(e,n,i):Y.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return Y.isFunction(e)&&Y.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:v(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,u=Y.camelCase(n),c=e.style;if(n=Y.cssProps[u]||(Y.cssProps[u]=m(c,u)),a=Y.cssHooks[n]||Y.cssHooks[u],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:c[n];if(s=typeof i,"string"===s&&(o=pn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Y.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||Y.cssNumber[u]||(i+="px"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{c[n]=i}catch(l){}}},css:function(e,n,i,r){var o,s,a,u=Y.camelCase(n);return n=Y.cssProps[u]||(Y.cssProps[u]=m(e.style,u)),a=Y.cssHooks[n]||Y.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,r)),o===t&&(o=nn(e,n)),"normal"===o&&n in mn&&(o=mn[n]),i||r!==t?(s=parseFloat(o),i||Y.isNumeric(s)?s||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?nn=function(t,n){var i,r,o,s,a=e.getComputedStyle(t,null),u=t.style;return a&&(i=a[n],""!==i||Y.contains(t.ownerDocument,t)||(i=Y.style(t,n)),dn.test(i)&&ln.test(n)&&(r=u.width,o=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=i,i=a.width,u.width=r,u.minWidth=o,u.maxWidth=s)),i}:B.documentElement.currentStyle&&(nn=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),dn.test(r)&&!un.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),Y.each(["height","width"],function(e,t){Y.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&cn.test(nn(e,"display"))?Y.swap(e,gn,function(){return _(e,t,i)}):_(e,t,i):void 0},set:function(e,n,i){return b(e,n,i?w(e,t,i,Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing")):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(e,t){return an.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Y.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Y.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(e,t){return Y.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(e,t){Y.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return dn.test(i)?Y(e).position()[t]+"px":i}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Y.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Y.expr.filters.visible=function(e){return!Y.expr.filters.hidden(e)}),Y.each({margin:"",padding:"",border:"Width"},function(e,t){Y.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[e+vn[i]+t]=r[i]||r[i-2]||r[0];return o}},ln.test(e)||(Y.cssHooks[e+t].set=b)});var wn=/%20/g,_n=/\[\]$/,xn=/\r?\n/g,qn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,kn=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||kn.test(this.nodeName)||qn.test(this.type))}).map(function(e,t){var n=Y(this).val();return null==n?null:Y.isArray(n)?Y.map(n,function(e){return{name:t.name,value:e.replace(xn,"\r\n")}}):{name:t.name,value:n.replace(xn,"\r\n")}}).get()}}),Y.param=function(e,n){var i,r=[],o=function(e,t){t=Y.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Y.ajaxSettings&&Y.ajaxSettings.traditional),Y.isArray(e)||e.jquery&&!Y.isPlainObject(e))Y.each(e,function(){o(this.name,this.value)});else for(i in e)q(i,e[i],n,o);return r.join("&").replace(wn,"+")};var Cn,Tn,En=/#.*$/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,An=/^\/\//,On=/\?/,Mn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pn=/([?&])_=[^&]*/,$n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ln=Y.fn.load,Dn={},Hn={},In=["*/"]+["*"];try{Tn=R.href}catch(Fn){Tn=B.createElement("a"),Tn.href="",Tn=Tn.href}Cn=$n.exec(Tn.toLowerCase())||[],Y.fn.load=function(e,n,i){if("string"!=typeof e&&Ln)return Ln.apply(this,arguments);if(!this.length)return this;var r,o,s,a=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u,e.length),e=e.slice(0,u)),Y.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),Y.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){i&&a.each(i,s||[e.responseText,t,e])}}).done(function(e){s=arguments,a.html(r?Y("<div>").append(e.replace(Mn,"")).find(r):e)}),this},Y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Y.fn[t]=function(e){return this.on(t,e)}}),Y.each(["get","post"],function(e,n){Y[n]=function(e,i,r,o){return Y.isFunction(i)&&(o=o||r,r=i,i=t),Y.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),Y.extend({getScript:function(e,n){return Y.get(e,t,n,"script")},getJSON:function(e,t,n){return Y.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?T(e,Y.ajaxSettings):(t=e,e=Y.ajaxSettings),T(e,t),e},ajaxSettings:{url:Tn,isLocal:jn.test(Cn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":In},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Y.parseJSON,"text xml":Y.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:k(Dn),ajaxTransport:k(Hn),ajax:function(e,n){function i(e,n,i,s){var c,f,y,b,_,q=n;2!==w&&(w=2,u&&clearTimeout(u),a=t,o=s||"",x.readyState=e>0?4:0,i&&(b=E(d,x,i)),e>=200&&300>e||304===e?(d.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(Y.lastModified[r]=_),_=x.getResponseHeader("Etag"),_&&(Y.etag[r]=_)),304===e?(q="notmodified",c=!0):(c=S(d,b),q=c.state,f=c.data,y=c.error,c=!y)):(y=q,(!q||e)&&(q="error",0>e&&(e=0))),x.status=e,x.statusText=(n||q)+"",c?g.resolveWith(p,[f,q,x]):g.rejectWith(p,[x,q,y]),x.statusCode(v),v=t,l&&h.trigger("ajax"+(c?"Success":"Error"),[x,d,c?f:y]),m.fireWith(p,[x,q]),l&&(h.trigger("ajaxComplete",[x,d]),--Y.active||Y.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,u,c,l,f,d=Y.ajaxSetup({},n),p=d.context||d,h=p!==d&&(p.nodeType||p instanceof Y)?Y(p):Y.event,g=Y.Deferred(),m=Y.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(e){var n;if(2===w){if(!s)for(s={};n=Sn.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(d.mimeType=e),this},abort:function(e){return e=e||_,a&&a.abort(e),i(0,e),this}};if(g.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[x.status],x.always(t)}return this},d.url=((e||d.url)+"").replace(En,"").replace(An,Cn[1]+"//"),d.dataTypes=Y.trim(d.dataType||"*").toLowerCase().split(tt),null==d.crossDomain&&(c=$n.exec(d.url.toLowerCase())||!1,d.crossDomain=c&&c.join(":")+(c[3]?"":"http:"===c[1]?80:443)!==Cn.join(":")+(Cn[3]?"":"http:"===Cn[1]?80:443)),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Y.param(d.data,d.traditional)),C(Dn,d,n,x),2===w)return x;if(l=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Nn.test(d.type),l&&0===Y.active++&&Y.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(On.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var q=Y.now(),k=d.url.replace(Pn,"$1_="+q);d.url=k+(k===d.url?(On.test(d.url)?"&":"?")+"_="+q:"")}(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,Y.lastModified[r]&&x.setRequestHeader("If-Modified-Since",Y.lastModified[r]),Y.etag[r]&&x.setRequestHeader("If-None-Match",Y.etag[r])),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+In+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)x.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===w))return x.abort();_="abort";for(f in{success:1,error:1,complete:1})x[f](d[f]);if(a=C(Hn,d,n,x)){x.readyState=1,l&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},d.timeout));try{w=1,a.send(y,i)}catch(T){if(!(2>w))throw T;i(-1,T)}}else i(-1,"No Transport");return x},active:0,lastModified:{},etag:{}});var Bn=[],Rn=/\?/,zn=/(=)\?(?=&|$)|\?\?/,Wn=Y.now();Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bn.pop()||Y.expando+"_"+Wn++;return this[e]=!0,e}}),Y.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,u=n.data,c=n.url,l=n.jsonp!==!1,f=l&&zn.test(c),d=l&&!f&&"string"==typeof u&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&zn.test(u);return"jsonp"===n.dataTypes[0]||f||d?(o=n.jsonpCallback=Y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=e[o],f?n.url=c.replace(zn,"$1"+o):d?n.data=u.replace(zn,"$1"+o):l&&(n.url+=(Rn.test(c)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||Y.error(o+" was not called"),a[0]},n.dataTypes[0]="json",e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Bn.push(o)),a&&Y.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Y.globalEval(e),e}}}),Y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Y.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(r,o){n=B.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Vn,Un=e.ActiveXObject?function(){for(var e in Vn)Vn[e](0,1)}:!1,Gn=0;Y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&j()||N()}:j,function(e){Y.extend(Y.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Y.ajaxSettings.xhr()),Y.support.ajax&&Y.ajaxTransport(function(n){if(!n.crossDomain||Y.support.cors){var i;return{send:function(r,o){var s,a,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)u[a]=n.xhrFields[a];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)u.setRequestHeader(a,r[a])}catch(c){}u.send(n.hasContent&&n.data||null),i=function(e,r){var a,c,l,f,d;try{if(i&&(r||4===u.readyState))if(i=t,s&&(u.onreadystatechange=Y.noop,Un&&delete Vn[s]),r)4!==u.readyState&&u.abort();else{a=u.status,l=u.getAllResponseHeaders(),f={},d=u.responseXML,d&&d.documentElement&&(f.xml=d);try{f.text=u.responseText}catch(e){}try{c=u.statusText}catch(p){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=f.text?200:404}}catch(h){r||o(-1,h)}f&&o(a,c,f,l)},n.async?4===u.readyState?setTimeout(i,0):(s=++Gn,Un&&(Vn||(Vn={},Y(e).unload(Un)),Vn[s]=i),u.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Xn,Jn,Kn=/^(?:toggle|show|hide)$/,Qn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Yn=/queueHooks$/,Zn=[$],ei={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Qn.exec(t),s=r.cur(),a=+s||0,u=1,c=20;if(o){if(n=+o[2],i=o[3]||(Y.cssNumber[e]?"":"px"),"px"!==i&&a){a=Y.css(r.elem,e,!0)||n||1;do u=u||".5",a/=u,Y.style(r.elem,e,a+i);while(u!==(u=r.cur()/s)&&1!==u&&--c)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};Y.Animation=Y.extend(M,{tweener:function(e,t){Y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Y.Tween=L,L.prototype={constructor:L,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Y.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.pos=t=this.options.duration?Y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Y.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Y.fx.step[e.prop]?Y.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Y.cssProps[e.prop]]||Y.cssHooks[e.prop])?Y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Y.each(["toggle","show","hide"],function(e,t){var n=Y.fn[t];Y.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&Y.isFunction(i)&&Y.isFunction(r)?n.apply(this,arguments):this.animate(D(t,!0),i,r,o)}}),Y.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Y.isEmptyObject(e),o=Y.speed(t,n,i),s=function(){var t=M(this,Y.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Y.timers,s=Y._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Yn.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Y.dequeue(this,e)})}}),Y.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Y.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Y.speed=function(e,t,n){var i=e&&"object"==typeof e?Y.extend({},e):{complete:n||!n&&t||Y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Y.isFunction(t)&&t};return i.duration=Y.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Y.fx.speeds?Y.fx.speeds[i.duration]:Y.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Y.isFunction(i.old)&&i.old.call(this),i.queue&&Y.dequeue(this,i.queue)},i},Y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Y.timers=[],Y.fx=L.prototype.init,Y.fx.tick=function(){for(var e,t=Y.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||Y.fx.stop()},Y.fx.timer=function(e){e()&&Y.timers.push(e)&&!Jn&&(Jn=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval(Jn),Jn=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(e){return Y.grep(Y.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;Y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Y.offset.setOffset(this,e,t)});var n,i,r,o,s,a,u,c={top:0,left:0},l=this[0],f=l&&l.ownerDocument;if(f)return(i=f.body)===l?Y.offset.bodyOffset(l):(n=f.documentElement,Y.contains(n,l)?("undefined"!=typeof l.getBoundingClientRect&&(c=l.getBoundingClientRect()),r=H(f),o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=r.pageYOffset||n.scrollTop,u=r.pageXOffset||n.scrollLeft,{top:c.top+a-o,left:c.left+u-s}):c)},Y.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Y.css(e,"marginTop"))||0,n+=parseFloat(Y.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Y.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=Y(e),a=s.offset(),u=Y.css(e,"top"),c=Y.css(e,"left"),l=("absolute"===i||"fixed"===i)&&Y.inArray("auto",[u,c])>-1,f={},d={};l?(d=s.position(),r=d.top,o=d.left):(r=parseFloat(u)||0,o=parseFloat(c)||0),Y.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(f.top=t.top-a.top+r),null!=t.left&&(f.left=t.left-a.left+o),"using"in t?t.using.call(e,f):s.css(f)}},Y.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Y.css(e,"marginTop"))||0,n.left-=parseFloat(Y.css(e,"marginLeft"))||0,i.top+=parseFloat(Y.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Y.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||B.body;e&&!ti.test(e.nodeName)&&"static"===Y.css(e,"position");)e=e.offsetParent;return e||B.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Y.fn[e]=function(r){return Y.access(this,function(e,r,o){var s=H(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:void(s?s.scrollTo(i?Y(s).scrollLeft():o,i?o:Y(s).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(e,n){Y.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Y.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Y.access(this,function(n,i,r){var o;return Y.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?Y.css(n,i,r,a):Y.style(n,i,r,a)},n,s?r:t,s,null)}})}),"function"==typeof define&&define.amd&&define.amd.jQuery&&define("@qubit---jquery@1.8.2/jquery",[],function(){return Y})}(window),define("@qubit---jquery@1.8.2",["@qubit---jquery@1.8.2/jquery"],function(e){return e}),function(e,t){"undefined"!=typeof exports?t(e,exports,require("underscore")):"function"==typeof define&&define.amd?define("@qubit---backbone@1.0.0/backbone",["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)}):e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){var r=e.Backbone,o=[],s=o.push,a=o.slice,u=o.splice;t.VERSION="1.0.0",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var c=t.Events={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!f(this,"once",e,[t,i])||!t)return this;var r=this,o=n.once(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,i)},off:function(e,t,i){var r,o,s,a,u,c,l,d;if(!this._events||!f(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(a=e?[e]:n.keys(this._events),u=0,c=a.length;c>u;u++)if(e=a[u],s=this._events[e]){if(this._events[e]=r=[],t||i)for(l=0,d=s.length;d>l;l++)o=s[l],(t&&t!==o.callback&&t!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}},l=/\s+/,f=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;a>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){c[t]=function(t,i,r){var o=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=n.uniqueId("l"));return o[s]=t,"object"==typeof i&&(r=this),t[e](i,r,this),this}}),c.bind=c.on,c.unbind=c.off,n.extend(t,c);var h=t.Model=function(e,t){var i,r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},n.extend(this,n.pick(t,g)),t.parse&&(r=this.parse(r,t)||{}),(i=n.result(this,"defaults"))&&(r=n.defaults({},r,i)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},g=["url","urlRoot","collection"];n.extend(h.prototype,c,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,o,s,a,u,c,l,f;if(null==e)return this;if("object"==typeof e?(o=e,i=t):(o={})[e]=t,i||(i={}),!this._validate(o,i))return!1;s=i.unset,u=i.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),f=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)t=o[r],n.isEqual(f[r],t)||a.push(r),n.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete f[r]:f[r]=t;if(!u){a.length&&(this._pending=!0);for(var d=0,p=a.length;p>d;d++)this.trigger("change:"+a[d],this,f[a[d]],i)}if(c)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(r[o],t=e[o])||((i||(i={}))[o]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,o,s,a=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,!(!r||i&&i.wait||this.set(r,i)))return!1;if(i=n.extend({validate:!0},i),!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},a,r)),void 0===i.parse&&(i.parse=!0);var u=this,c=i.success;return i.success=function(e){u.attributes=a;var t=u.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!u.set(t,i)?!1:(c&&c(u,e,i),void u.trigger("sync",u,e,i))},H(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),s=this.sync(o,this,i),r&&i.wait&&(this.attributes=a),s},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;H(this,e);var o=this.sync("delete",this,e);return e.wait||r(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t||{},{validationError:i})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];n.each(m,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var v=t.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},y={add:!0,remove:!0,merge:!0},b={add:!0,merge:!1,remove:!1};n.extend(v.prototype,c,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.defaults(t||{},b))},remove:function(e,t){e=n.isArray(e)?e.slice():[e],t||(t={});var i,r,o,s;for(i=0,r=e.length;r>i;i++)s=this.get(e[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s));return this},set:function(e,t){t=n.defaults(t||{},y),t.parse&&(e=this.parse(e,t)),n.isArray(e)||(e=e?[e]:[]);var i,r,o,a,c,l=t.at,f=this.comparator&&null==l&&t.sort!==!1,d=n.isString(this.comparator)?this.comparator:null,p=[],h=[],g={};for(i=0,r=e.length;r>i;i++)(o=this._prepareModel(e[i],t))&&((a=this.get(o))?(t.remove&&(g[a.cid]=!0),t.merge&&(a.set(o.attributes,t),f&&!c&&a.hasChanged(d)&&(c=!0))):t.add&&(p.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(t.remove){for(i=0,r=this.length;r>i;++i)g[(o=this.models[i]).cid]||h.push(o);h.length&&this.remove(h,t)}if(p.length&&(f&&(c=!0),this.length+=p.length,null!=l?u.apply(this.models,[l,0].concat(p)):s.apply(this.models,p)),c&&this.sort({silent:!0}),t.silent)return this;for(i=0,r=p.length;r>i;i++)(o=p[i]).trigger("add",o,this,t);return c&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i]);return t.previousModels=this.models,this._reset(),this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,n.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,n.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,i){t||(t=this.comparator);var r=n.isFunction(t)?t:function(e){return e.get(t)};return n.sortedIndex(this.models,e,r,i)},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];n.each(w,function(e){v.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var _=["groupBy","countBy","sortBy"];n.each(_,function(e){v.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var x=t.View=function(e){this.cid=n.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},q=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];n.extend(x.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this
},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(q),o=r[1],s=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,i):this.$el.on(o,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=n.extend({},n.result(this,"options"),e)),n.extend(this,n.pick(e,k)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var o=C[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||D()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1),"PATCH"!==s.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=t.ajax(n.extend(s,r));return i.trigger("request",i,u,r),u};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,j=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);r&&r.apply(o,s),o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),t.history.trigger("route",o,i,s)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(E,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(j,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e){return e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,M=/^\/+|\/+$/g,P=/msie [\w.]+/,$=/\/$/;A.started=!1,n.extend(A.prototype,c,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace($,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(O,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=P.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(M,"/"),o&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(i)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location,a=s.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&s.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!A.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new A;var L=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};h.extend=v.extend=T.extend=x.extend=A.extend=L;var D=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),define("@qubit---backbone@1.0.0",["@qubit---backbone@1.0.0/backbone"],function(e){return e}),define("@qubit---backbone-deep-model@0.10.4/deep_helpers",["require","@qubit/underscore","@qubit/backbone"],function(e){var t,n,i,r,o,s,a=e("@qubit/underscore"),u=e("@qubit/backbone"),c=[].slice;return i=function(e){var t,n;return!a.isObject(e)||a.isFunction(e)?e:e instanceof u.Collection||e instanceof u.Model?e:a.isDate(e)?new Date(e.getTime()):a.isRegExp(e)?new RegExp(e.source,e.toString().replace(/.*\//,"")):(n=a.isArray(e||a.isArguments(e)),t=function(e,t,r){return n?e.push(i(t)):e[r]=i(t),e},a.reduce(e,t,n?[]:{}))},s=function(e){return null===e?!1:!(e.prototype!=={}.prototype&&e.prototype!==Object.prototype||!a.isObject(e)||a.isArray(e)||a.isFunction(e)||a.isDate(e)||a.isRegExp(e)||a.isArguments(e))},n=function(e){return a.filter(a.keys(e),function(t){return s(e[t])})},t=function(e){return a.filter(a.keys(e),function(t){return a.isArray(e[t])})},o=function(e,i,r){var s,u,c,l,f,d,p,h,g,m;if(null===r&&(r=20),0>=r)return console.warn("_.deepExtend(): Maximum depth of recursion hit."),a.extend(e,i);for(d=a.intersection(n(e),n(i)),u=function(t){return i[t]=o(e[t],i[t],r-1)},p=0,g=d.length;g>p;p++)f=d[p],u(f);for(l=a.intersection(t(e),t(i)),s=function(t){return i[t]=a.union(e[t],i[t])},h=0,m=l.length;m>h;h++)c=l[h],s(c);return a.extend(e,i)},r=function(){var e,t,n,r;if(n=2<=arguments.length?c.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],a.isNumber(t)||(n.push(t),t=20),n.length<=1)return n[0];if(0>=t)return a.extend.apply(this,n);for(e=n.shift();n.length>0;)e=o(e,i(n.shift()),t);return e},{deepClone:i,isBasicObject:s,basicObjects:n,arrays:t,deepExtend:r}}),define("@qubit---backbone-deep-model@0.10.4/backbone-deep-model",["@qubit/underscore","@qubit/backbone","./deep_helpers"],function(e,t,n){function i(t){var n={},r=a.keyPathSeparator;for(var o in t){var s=t[o];if(s&&s.constructor===Object&&!e.isEmpty(s)){var u=i(s);for(var c in u){var l=u[c];n[o+r+c]=l}}else n[o]=s}return n}function r(t,n,i){for(var r=a.keyPathSeparator,o=n.split(r),s=t,u=0,c=o.length;c>u;u++){if(i&&!e.has(s,o[u]))return!1;if(s=s[o[u]],null==s&&c-1>u&&(s={}),"undefined"==typeof s)return i?!0:s}return i?!0:s}function o(t,n,i,r){r=r||{};for(var o=a.keyPathSeparator,s=n.split(o),u=t,c=0,l=s.length;l>c&&void 0!==u;c++){var f=s[c];c===l-1?r.unset?delete u[f]:u[f]=i:("undefined"!=typeof u[f]&&e.isObject(u[f])||(u[f]={}),u=u[f])}}function s(e,t){o(e,t,null,{unset:!0})}var a=t.Model.extend({constructor:function(t,i){var r,o=t||{};this.cid=e.uniqueId("c"),this.attributes={},i&&i.collection&&(this.collection=i.collection),i&&i.parse&&(o=this.parse(o,i)||{}),(r=e.result(this,"defaults"))&&(o=n.deepExtend({},r,o)),this.set(o,i),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(){return n.deepClone(this.attributes)},get:function(e){return r(this.attributes,e)},set:function(t,u,c){var l,f,d,p,h,g,m,v;if(null==t)return this;if("object"==typeof t?(f=t,c=u||{}):(f={})[t]=u,c||(c={}),!this._validate(f,c))return!1;d=c.unset,h=c.silent,p=[],g=this._changing,this._changing=!0,g||(this._previousAttributes=n.deepClone(this.attributes),this.changed={}),v=this.attributes,m=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]),f=i(f);for(l in f)u=f[l],e.isEqual(r(v,l),u)||p.push(l),e.isEqual(r(m,l),u)?s(this.changed,l):o(this.changed,l,u),d?s(v,l):o(v,l,u);if(!h){p.length&&(this._pending=!0);for(var y=a.keyPathSeparator,b=0,w=p.length;w>b;b++){var t=p[b];this.trigger("change:"+t,this,r(v,t),c);for(var _=t.split(y),x=_.length-1;x>0;x--){var q=e.first(_,x).join(y),k=q+y+"*";this.trigger("change:"+k,this,r(v,q),c)}}}if(g)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},clear:function(t){var n={},r=i(this.attributes);for(var o in r)n[o]=void 0;return this.set(n,e.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!e.isEmpty(this.changed):void 0!==r(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i(this.changed):!1;var n=this._changing?this._previousAttributes:this.attributes;t=i(t),n=i(n);var r,o=!1;for(var s in t)e.isEqual(n[s],r=t[s])||((o||(o={}))[s]=r);return o},previous:function(e){return null!=e&&this._previousAttributes?r(this._previousAttributes,e):null},previousAttributes:function(){return n.deepClone(this._previousAttributes)}});return a.keyPathSeparator=".",a}),define("@qubit---backbone-deep-model@0.10.4/main",["require","./backbone-deep-model"],function(e){var t=e("./backbone-deep-model");return t.extend()}),define("@qubit---backbone-deep-model@0.10.4",["@qubit---backbone-deep-model@0.10.4/main"],function(e){return e}),define("@qubit---layer@1.0.0/src/models/base_model",["require","@qubit/backbone-deep-model"],function(e){var t=e("@qubit/backbone-deep-model");return t.extend({})}),define("@qubit---layer@1.0.0/src/models/component_model",["require","./base_model"],function(e){var t=e("./base_model");return t.extend({})}),define("@qubit---layer@1.0.0/src/models/component_collection",["require","@qubit/backbone","./component_model"],function(e){var t=e("@qubit/backbone");return t.Collection.extend({model:e("./component_model")})}),define("@qubit---container_style_processor@1.0.0/src/modules/css_property",["require","@qubit/underscore"],function(e){function t(){this.init()}var n=e("@qubit/underscore"),i={"border-radius":["moz","webkit"],"box-shadow":["moz","webkit"]};return t.prototype.init=function(){this.properties={}},t.prototype.set=function(e,t){var r=i[e];r&&n.each(r,function(n){this.properties["-"+n+"-"+e]=t},this),this.properties[e]=t},t.prototype.exports=function(){return this.properties},t}),define("@qubit---container_style_processor@1.0.0/src/modules/background",["require","./css_property"],function(e){var t=e("./css_property");return function(e){var n=new t;return e?(e.image_url?n.set("background-image","url("+e.image_url+")"):n.set("background-image",""),e.repeat?n.set("background-repeat","repeat"):n.set("background-repeat","no-repeat"),e.position?n.set("background-position",e.position.x+" "+e.position.y):n.set("background-position",""),e.color?n.set("background-color",e.color):n.set("background-color",""),n.exports()):{background:""}}}),define("@qubit---container_style_processor@1.0.0/src/modules/border",["require","./css_property"],function(e){var t=e("./css_property");return function(e){var n=new t;return e?(e.color?n.set("border-color",e.color):n.set("border-color",""),e.radius?n.set("border-radius",e.radius):n.set("border-radius",0),e.width?n.set("border-width",e.width):n.set("border-width",0),e.style?n.set("border-style",e.style):n.set("border-style","solid"),n.exports()):{}}}),define("@qubit---container_style_processor@1.0.0/src/modules/shadow",["require","./css_property"],function(e){var t=e("./css_property");return function(e){var n=new t,i=[];return e?(e.direction?(i.push(e.direction.h||"0px"),i.push(e.direction.v||"0px")):i.push("0px 0px"),e.blur&&i.push(e.blur),e.spread&&i.push(e.spread),e.color&&i.push(e.color),e.inset&&i.push("inset"),n.set("box-shadow",i.join(" ")),n.exports()):{}}}),define("@qubit---container_style_processor@1.0.0/src/container_style_processor",["require","@qubit/jquery","./modules/background","./modules/border","./modules/shadow"],function(e){var t=e("@qubit/jquery"),n=e("./modules/background"),i=e("./modules/border"),r=e("./modules/shadow");return function(e){var o=n(e.background),s=i(e.border),a=r(e.shadow);return t.extend({},o,s,a)}}),define("@qubit---container_style_processor@1.0.0",["@qubit---container_style_processor@1.0.0/src/container_style_processor"],function(e){return e}),define("@qubit---each@1.0.0/each",[],function(){var e={},t=Array.prototype,n=t.forEach;return function(t,i,r){if(null!=t)if(n&&t.forEach===n)t.forEach(i,r);else if(t.length===+t.length){for(var o=0,s=t.length;s>o;o++)if(i.call(r,t[o],o,t)===e)return}else for(var a in t)if(t.hasOwnProperty(a)&&i.call(r,t[a],a,t)===e)return}}),define("@qubit---each@1.0.0",["@qubit---each@1.0.0/each"],function(e){return e}),define("@qubit---emitter@1.0.0/emitter",["require","@qubit/each"],function(e){function t(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function n(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function i(e){var t=++f+"";return e?e+t:t}function r(e){for(var t in s)e[t]=s[t];return e}var o=e("@qubit/each"),s={on:function(e,t,n){if(!u(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,n,i){if(!u(this,"once",e,[n,i])||!n)return this;var r=this,o=t(function(){r.off(e,t),n.apply(this,arguments)});return o._callback=n,this.on(e,o,i)},off:function(e,t,i){var r,o,s,a,c,l,f,d;if(!this._events||!u(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events={},this;for(a=e?[e]:n(this._events),c=0,l=a.length;l>c;c++)if(e=a[c],s=this._events[e]){if(this._events[e]=r=[],t||i)for(f=0,d=s.length;d>f;f++)o=s[f],(t&&t!==o.callback&&t!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=Array.prototype.slice.call(arguments,1);if(!u(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}},a=/\s+/,u=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(a.test(n)){for(var o=n.split(a),s=0,u=o.length;u>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},l={listenTo:"on",listenToOnce:"once"};o(l,function(e,t){s[t]=function(t,n,r){var o=this._listeners||(this._listeners={}),s=t._listenerId||(t._listenerId=i("l"));return o[s]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}});var f=0;return s.emit=s.trigger,function(e){return r(e)}}),define("@qubit---emitter@1.0.0",["@qubit---emitter@1.0.0/emitter"],function(e){return e}),define("@qubit---layer@1.0.0/src/prod/component_prod_api",["require","@qubit/emitter"],function(e){var t=e("@qubit/emitter");return function(e){var n=t({isPreviewMode:function(){return!1},layer:{close:function(t){e.close(t)}}});return n}}),define("@qubit---layer@1.0.0/src/prod/component_wrapper_view",["require","@qubit/jquery","@qubit/backbone"],function(e){var t=e("@qubit/jquery"),n=e("@qubit/backbone");return n.View.extend({initialize:function(e){this.api=e.api,this.$el.addClass("deliver-component-wrapper"),this.isLink="a"===this.options.componentView.el.tagName.toLowerCase()},render:function(){return this.$el.html(this.options.componentView.render().el),this.position(),this.resize(),this.isLink||this.setupClickAction(),this.setZIndex(),this},setZIndex:function(){this.$el.css("z-index",this.model.id)},position:function(){this.$el.css({position:"absolute",top:this.model.get("top"),left:this.model.get("left")})},wrapLink:function(e){var n=this.model.get("click_action.url"),i=this.model.get("click_action.new_tab"),r=this.api,o=t(this.options.componentView.el);if(this.$a||(this.$a=t("<a></a>").css({textDecoration:"inherit"}),this.$a.insertBefore(o),o.appendTo(this.$a)),this.$a.attr("href",n),i?this.$a.attr("target","blank"):this.$a.removeAttr("target"),e&&this.model.get("click_action.close_container")){var s=parseInt(this.model.get("click_action.close_duration"),10),a=this.model.get("click_action.close_duration_unit");this.$a.on("click",function(){r.layer.close({duration:s,type:a})})}},setupClickAction:function(){var e=this.model.get("click_action.has_link");e&&this.wrapLink(!0)},resize:function(){function e(e,t){(t||{}).auto?(n.css(e,""),i.css(e,"")):(n.css(e,"100%"),i.css(e,r.get(e)))}var n=t(this.options.componentView.el),i=this.$el,r=this.model;r.get("width")&&e("width"),r.get("autoHeight")?e("height",{auto:!0}):r.get("height")&&e("height")}})}),define("@qubit---layer@1.0.0/src/prod/composer",["require","@qubit/jquery","@qubit/underscore","@qubit/container_style_processor","./component_prod_api","./component_wrapper_view"],function(e){function t(e){this.options=e,this.require=e.require}var n=e("@qubit/jquery"),i=e("@qubit/underscore"),r=e("@qubit/container_style_processor"),o=e("./component_prod_api"),s=e("./component_wrapper_view");return t.prototype.compose=function(){if(this.container=this.createContainer(this.options.containerModel),this.components=this.options.componentCollection.map(function(e){return this.createComponent(e)},this),this.container.render(),this.container.el){this.styleContainer();var e=n(this.container.el);i.each(this.components,function(t){e.append(t.render().el)})}return this},t.prototype.createComponent=function(e){var t=o(this.options.deliver),n=this.create(e.get("type"),{model:e},t);return new s({componentView:n,model:e,api:t})},t.prototype.createContainer=function(e){var t=this.create(e.get("type"),{model:e},o(this.options.deliver));return t.model=e,t.el&&n(t.el).addClass("deliver-container"),t},t.prototype.styleContainer=function(){var e=this.options.containerModel,t=r(e.get("__style")||{});n(this.container.el).css(t)},t.prototype.create=function(e,t,n){return new(this.require(e))(t,n)},t.prototype.destroyComponents=function(){this.components&&this.components.length&&i.invoke(this.components,"remove",this)},t.prototype.destroy=function(){var e=this;this.container&&this.container.close?this.container.close(function(){e.container.remove(),e.destroyComponents.call(e)}):e.destroyComponents.call(e)},t}),define("@qubit---layer@1.0.0/src/advanced_mode",["require","@qubit/jquery"],function(e){function t(e){this.initialize(e)}var n=e("@qubit/jquery");return t.prototype.initialize=function(e){this.options=e,this.exec()},t.prototype.update=function(e){this.options=e,this.exec()},t.prototype.escape=function(e){return e.replace("\\","\\").replace('"','"').replace("'","'").replace("\n","\n")},t.prototype.exec=function(){if(this.options&&this.options.code){var e="(function () { var require = window.__qubit.amd.require;";e+=this.options.globalCode||"",e+=";\n("+this.options.code+")();",e+="}());";var t=this.escape(e);try{this.applyStyles(),n.globalEval(t)}catch(i){}}},t.prototype.applyStyles=function(){this.options.styles&&this._addStyleSheet(this.options.styles)},t.prototype._addStyleSheet=function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("class","deliver-advanced-styles"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},t}),define("@qubit---layer@1.0.0/src/layer",["require","./models/base_model","./models/component_collection","./prod/composer","./advanced_mode","@qubit/emitter"],function(e){function t(e){document.body?e():setTimeout(function(){t(e)},50)}function n(){this.initialize.apply(this,arguments)}var i=e("./models/base_model"),r=e("./models/component_collection"),o=e("./prod/composer"),s=e("./advanced_mode"),a=e("@qubit/emitter");return a(n.prototype),n.prototype.getAdvancedModeClass=function(){return s},n.prototype.getComposerClass=function(){return o},n.prototype.initialize=function(e,t){this.deliver=e,this.options=t,this.isAdvancedMode()?this.advancedMode=new(this.getAdvancedModeClass())(t.advanced):this.createModels(t)},n.prototype.isExclusive=function(){return this.options.modules[this.containerModel.get("type")].isExclusive},n.prototype.run=function(e){var n=this;this.isAdvancedMode()?e&&e():t(function(){n.compose(),e&&e()})},n.prototype.compose=function(){var e=this;this.composer=new(this.getComposerClass())({containerModel:this.containerModel,componentCollection:this.componentCollection,deliver:this.deliver,require:function(t){return e.options.modules[t]}}),this.composer.compose()},n.prototype.isAdvancedMode=function(){return this.options&&this.options.advanced&&this.options.advanced.enabled},n.prototype.createModels=function(e){this.componentCollection=new r(e.components),this.containerModel=new i(e.container)},n.prototype.destroy=function(){this.composer&&this.composer.destroy()},n}),define("@qubit---layer@1.0.0",["@qubit---layer@1.0.0/src/layer"],function(e){return e}),define("@qubit---deliver@1.0.0/deliver",["require","@qubit/emitter"],function(e){function t(){this._handlers={}}var n=e("@qubit/emitter"),i=Array.prototype.slice;return n(t.prototype),t.prototype.setHandler=function(e,t,n){if(this._handlers[e])throw new Error("This handler is already registered, unset it first if you want to change it");this._handlers[e]={method:t,context:n}},t.prototype.unsetHandler=function(e){delete this._handlers[e]},t.prototype.unsetHandlers=function(){this._handlers={}},t.prototype.execute=function(){return this._execute.apply(this,arguments)},t.prototype.handleMessage=function(){return this._handleRequest.apply(this,arguments)},t.prototype.registerMessenger=function(e){this._execute=e},t.prototype.close=function(e){this.trigger("close",e)},t.prototype._handleRequest=function(e){var t=i.call(arguments);t.shift();var n=this._handlers[e];if(n)return n.method.apply(n.context,t);throw new Error("Handler not found")},t.prototype.destroy=function(){this._handlers={}},t}),define("@qubit---deliver@1.0.0",["@qubit---deliver@1.0.0/deliver"],function(e){return e}),define("@qubit---maxz@1.0.0/src/maxz",["@qubit/jquery"],function(e){return function(t,n,i){var r=0,o=0,s=document.body.getElementsByTagName("*"),a=[];for(i=i||0,o=0;o<s.length;o++)if(s[o].style){var u=s[o].style.position;if(u&&"static"!==u){s[o].style.position="relative";var c=+e(s[o]).css("zIndex");r=Math.max(r,c||0),n&&c&&c>i&&a.push({el:s[o],zIndex:c})}s[o].style.position=u}if(n){for(a.sort(function(e,t){return e.zIndex-t.zIndex}),o=0;o<a.length;o++)e(a[o].el).css("zIndex",o+i);return o+i}return r}}),define("@qubit---maxz@1.0.0",["@qubit---maxz@1.0.0/src/maxz"],function(e){return e}),function(){function e(e,t){function n(e,t){return this.init(e,t),this}return n.prototype={options:{speed:0,css:{background:"transparent"},autoShow:!0,opacity:1},show:function(e){var n=this;this.$overlay.css({zIndex:t(this.$el,!0,1e4)+1,display:"inherit",opacity:0}),this.$overlay.fadeTo(this.options.speed,this.options.opacity,function(){n.$el.trigger("deliver-overlay-show"),e&&e(n)})},hide:function(e){var t=this;this.$overlay.fadeOut(this.options.speed,function(){t.$el.trigger("deliver-overlay-hide"),e&&e(t)})},init:function(n,i){if(this.$el=e(n),this.$overlay=(this.$overlay||e("<div></div")).addClass("deliver-overlay"),this.options=e.extend({},this.options,i),this.isBody=this.$el.is("body"),this.$container=(this.isBody?this.$el:e("<div></div")).addClass("deliver-overlay-container"),this.$overlay.appendTo(this.$container).css(e.extend({},{position:"fixed",display:"block",width:"100%",height:"100%",top:0,left:0,zIndex:this.$el.css("zIndex")+1},this.options.css)).hide(),this.isBody)this.$overlay.css({zIndex:t(this.$el,!0,1e4)+1});else{var r=this.$el.css("position")||"relative";this._style=this.$el.attr("style"),this.$container.insertAfter(this.$el).append(this.$el).css({width:this.$el.outerWidth(),height:this.$el.outerHeight(),position:"static"===r?"relative":r,padding:0}),this.copyCss("left right top bottom margin".split(" "),this.$el,this.$container),this.copyCss("top left bottom right margin",[0,0,0,0,0],this.$el)}this.options.autoShow&&this.show()},copyCss:function(t,n,i){e.each(t,function(t,r){i.css(r,e.isArray(n)?n[t]:n.css(r))})},destroy:function(){this.$overlay.stop().remove(),this.isBody?this.$el.removeClass("deliver-overlay-container"):(this.$el.attr("style",this._style),this.$el.insertAfter(this.$container),this.$container.stop().remove()),this.$el.removeData("overlay")}},e.fn.overlay=function(t){if(e.isFunction(n.prototype[t])){var i=e(this).data("overlay");return i[t].apply(i,Array.prototype.slice.call(arguments,1))}return this.each(function(){var i=e.data(this,"overlay");i||e.data(this,"overlay",new n(this,t))})},n}"function"==typeof define&&define.amd?define("@qubit---overlay@0.0.2/src/overlay",["@qubit/jquery","@qubit/maxz"],e):e(jQuery)}(),define("@qubit---overlay@0.0.2",["@qubit---overlay@0.0.2/src/overlay"],function(e){return e}),define("@qubit---jquery-ui@1.10.3/position",["jquery"],function(e){!function(e,t){function n(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s=Math.max,a=Math.abs,u=Math.round,c=/left|center|right/,l=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),n=s.offsetWidth,r.css("overflow","scroll"),i=s.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return h.apply(this,arguments);t=e.extend({},t);var o,p,g,m,v,y,b=e(t.of),w=e.position.getWithinInfo(t.within),_=e.position.getScrollInfo(w),x=(t.collision||"flip").split(" "),q={};return y=r(b),b[0].preventDefault&&(t.at="left top"),p=y.width,g=y.height,m=y.offset,v=e.extend({},m),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",e=f.exec(i[0]),n=f.exec(i[1]),q[this]=[e?e[0]:0,n?n[0]:0],t[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=g:"center"===t.at[1]&&(v.top+=g/2),o=n(q.at,p,g),v.left+=o[0],v.top+=o[1],this.each(function(){var r,c,l=e(this),f=l.outerWidth(),d=l.outerHeight(),h=i(this,"marginLeft"),y=i(this,"marginTop"),k=f+h+i(this,"marginRight")+_.width,C=d+y+i(this,"marginBottom")+_.height,T=e.extend({},v),E=n(q.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?T.left-=f:"center"===t.my[0]&&(T.left-=f/2),"bottom"===t.my[1]?T.top-=d:"center"===t.my[1]&&(T.top-=d/2),T.left+=E[0],T.top+=E[1],e.support.offsetFractions||(T.left=u(T.left),T.top=u(T.top)),r={marginLeft:h,marginTop:y},e.each(["left","top"],function(n,i){e.ui.position[x[n]]&&e.ui.position[x[n]][i](T,{targetWidth:p,targetHeight:g,elemWidth:f,elemHeight:d,collisionPosition:r,collisionWidth:k,collisionHeight:C,offset:[o[0]+E[0],o[1]+E[1]],my:t.my,at:t.at,within:w,elem:l})}),t.using&&(c=function(e){var n=m.left-T.left,i=n+p-f,r=m.top-T.top,o=r+g-d,u={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:l,left:T.left,top:T.top,width:f,height:d},horizontal:0>i?"left":n>0?"right":"center",vertical:0>o?"top":r>0?"bottom":"middle"};f>p&&a(n+i)<p&&(u.horizontal="center"),d>g&&a(r+o)<g&&(u.vertical="middle"),u.important=s(a(n),a(i))>s(a(r),a(o))?"horizontal":"vertical",t.using.call(this,e,u)}),l.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,u=r-a,c=a+t.collisionWidth-o-r;t.collisionWidth>o?u>0&&0>=c?(n=e.left+u+t.collisionWidth-o-r,e.left+=u-n):e.left=c>0&&0>=u?r:u>c?r+o-t.collisionWidth:r:u>0?e.left+=u:c>0?e.left-=c:e.left=s(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,u=r-a,c=a+t.collisionHeight-o-r;t.collisionHeight>o?u>0&&0>=c?(n=e.top+u+t.collisionHeight-o-r,e.top+=u-n):e.top=c>0&&0>=u?r:u>c?r+o-t.collisionHeight:r:u>0?e.top+=u:c>0?e.top-=c:e.top=s(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,s=r.width,u=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,l=c-u,f=c+t.collisionWidth-s-u,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];0>l?(n=e.left+d+p+h+t.collisionWidth-s-o,(0>n||n<a(l))&&(e.left+=d+p+h)):f>0&&(i=e.left-t.collisionPosition.marginLeft+d+p+h-u,(i>0||a(i)<f)&&(e.left+=d+p+h))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,s=r.height,u=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,l=c-u,f=c+t.collisionHeight-s-u,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];
0>l?(i=e.top+p+h+g+t.collisionHeight-s-o,e.top+p+h+g>l&&(0>i||i<a(l))&&(e.top+=p+h+g)):f>0&&(n=e.top-t.collisionPosition.marginTop+p+h+g-u,e.top+p+h+g>f&&(n>0||a(n)<f)&&(e.top+=p+h+g))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,s=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in i)t.style[o]=i[o];t.appendChild(a),n=s||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",r=e(a).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(e)}),define("@qubit---slider@1.0.0/src/slider",["require","@qubit/jquery","@qubit/maxz","@qubit/overlay","@qubit/jquery-ui/position"],function(e){function t(e,t){this.init(e,t)}var n=e("@qubit/jquery"),i=e("@qubit/maxz"),r=e("@qubit/overlay");return e("@qubit/jquery-ui/position"),t.prototype={init:function(e,t){this.model=e.model,this.api=t,this.$el=n('<div class="deliver-slider"></div>'),this.el=this.$el.get(0),e.container&&(this.$container=n(e.container))},cacheSelectors:function(){var e=this;this.$container=this.$container||n(document.body),this.$window=n(window),this.$window.off("resize.qubit.deliver_slider"),this.$window.on("resize.qubit.deliver_slider",function(t){e.$window.is(n(t.target))&&e.position()})},closeLayer:function(){this.api.layer.close({duration:0,type:"days"})},renderOverlay:function(){var e=this;return this.$el.hide(),this.overlay=new r(this.$container,this.model.get("overlayOptions")),this.overlay.$overlay.on("click",function(){e.closeLayer()}),this.overlay.show(function(){return e.hasOverlay=!0,e.render()}),this},destroyOverlay:function(){this.overlay&&(this.overlay.destroy(),this.$container.off("deliver-overlay-show"),this.hasOverlay=!1,delete this.overlay)},render:function(){if(this.cacheSelectors(),this.hasOverlay)delete this.hasOverlay;else if(this.destroyOverlay(),this.$el.appendTo(this.$container),this.model.get("overlay"))return this.renderOverlay();return this.afterRender(),window.q_ef_disable=!0,this},afterRender:function(){this.$el.css(this.model.get("style")||{}),this.resize(),this.animate()},resize:function(){var e=this.model.get("size")||{};e.width&&e.height&&this.$el.css(this.model.get("size"))},limit:function(e){var t=this.$container.is("body")?n(document):this.$container,i=t.outerWidth()-this.$el.outerWidth(),r=t.outerHeight()-this.$el.outerHeight();return e.left=e.left<0?0:e.left,e.left=e.left>i?i:e.left,e.top=e.top<0?0:e.top,e.top=e.top>r?r:e.top,e},setOffset:function(e,t){var n=0;return e.replace(/(left|right|center|top|bottom)([+-]\d+)?/gi,function(e,i){var r=n++?t.y:t.x;return 0===r?i:(("right"===i||"bottom"===i)&&(r=-r),i+(r>=0?"+":"")+r)})},clearPosition:function(){this.$el.css({top:0,left:0,position:this.model.get("position.fixed")?"fixed":"absolute",margin:0})},getPositionOptions:function(e){var t=this,i={my:this.setOffset(e.my,e.offset),at:e.my,of:e.fixed?this.$window:this.$container.is("body")?n(document):this.$container,collision:"none"};return i.using=function(e){t.$el.css(t.limit(e))},i},animate:function(){var e=this;if("fade"===this.model.get("animation.type"))this.position(),this.$el.hide().fadeIn(this.model.get("speed"),function(){e.$el.trigger("rendered")});else if("slide"===this.model.get("animation.type")){var t,i;this.clearPosition();var r=this.getPositionOptions(this.model.get("position"));r.using=function(t){i=e.limit(t)},this.$el.position(r);var o=r.of.outerWidth(),s=r.of.outerWidth(),a=this.$el.outerWidth(),u=this.$el.outerWidth();switch(this.model.get("animation.direction")){case"top":t=n.extend({},i,{top:-u});break;case"bottom":t=n.extend({},i,{top:o+u});break;case"left":t=n.extend({},i,{left:-a});break;default:t=n.extend({},i,{left:s+a})}this.maxz(),this.$el.css(t).show().animate(i,this.model.get("speed"),function(){e.$el.trigger("rendered")})}else this.position(),this.$el.trigger("rendered")},maxz:function(){this.$el.css("zIndex",i(n(document.body),!0,1e7)+1)},position:function(){this.$el.show(),this.clearPosition();var e=this.getPositionOptions(this.model.get("position"));this.$el.position(e),this.maxz()},close:function(e){this.overlay&&this.overlay.hide(),this.$el.fadeOut(this.model.get("speed"),function(){e()})},remove:function(){this.destroyOverlay(),this.$window&&this.$window.off("resize.qubit.deliver_slider"),this.$el.stop().remove()}},t.isExclusive=!0,t}),define("@qubit---slider@1.0.0",["@qubit---slider@1.0.0/src/slider"],function(e){return e}),define("@qubit---selector@1.0.2/lib/selectors",["require","@qubit/jquery"],function(e){var t=e("@qubit/jquery");return{id:function(e){var t=e.attr("id");return t?"#"+t:""},classnames:function(e,n){var i=(e.attr("class")||"").match(/\S+/g)||[];return i=t.map(i,function(e){return"."+e}),i=t.grep(i,function(e){return!e.match(n)})},tagname:function(e){return(e.prop("tagName")||"").toLowerCase()},index:function(e,n){var i=t(e.parent().children());return n&&(i=i.filter(n)),(n||"")+":eq("+i.index(e)+")"}}}),define("@qubit---selector@1.0.2/selector",["require","@qubit/jquery","./lib/selectors"],function(e){function t(e){this.init(e)}var n=e("@qubit/jquery"),i=e("./lib/selectors");return t.prototype={separator:" > ",init:function(e){this.options=n.extend(!0,{},{ignore:!1},e)},destroy:function(){},elementFromPoint:function(e,t){var i=!1,r=!0;if(!document.elementFromPoint)return null;if(!i){var o;(o=n(document).scrollTop())>0?r=!document.elementFromPoint(0,o+n(window).height()-1):(o=n(document).scrollLeft())>0&&(r=!document.elementFromPoint(o+n(window).width()-1,0)),i=o>0}return r||(e+=n(document).scrollLeft(),t+=n(document).scrollTop()),n(document.elementFromPoint(e,t))},eatParents:function(e,t){var i=e.parent();if(!i.length)return e;if(i.is("html")||i.is("body"))return e;if(i.get(0).getBoundingClientRect&&e.get(0).getBoundingClientRect){var r=!0,o=e.get(0).getBoundingClientRect();if(n.each(i.get(0).getBoundingClientRect(),function(e,n){r=r&&Math.abs(o[e]-n)<(t||1)}),r)return this.eatParents(i)}return e},bestSelector:function(e,t,i){var r,o=!1;return n.each(e,function(e,s){var a=n(s,i).length;o===!1&&(t.is(s)&&(r=s),o=a),t.is(s)&&n(s,i).length<o&&(r=s,o=a)}),r},checkSelector:function(e,t,i){var r=n(e,i);return 1===r.length&&t.is(r)},selectorsEquivalent:function(e,t){return e=n(e),t=n(t),t&&e.length===t.length&&e.length===e.filter(t).length},compact:function(e){var t=this;e=this.removeRedundantHierarchy(e);var i=e.match(/\S+/g)||[],r=0;return n.each(i,function(e){var n=i.slice(0);n.splice(e-r,1),t.selectorsEquivalent(n.join(" "),i.join(" "))&&(i=n,r++)}),i.join(" ")},removeRedundantHierarchy:function(e){for(var t,n=/>/gi;n.exec(e);)t=(e.substring(0,n.lastIndex).replace(">"," ")+e.substring(n.lastIndex)).replace(/\s+/gi," "),this.selectorsEquivalent(t,e)&&(e=t);return e},generateSelector:function(e,t,n){var r=e.parent();t=t||"";var o=i.id(e);if(o&&this.checkSelector(t+o,e,n))return o;var s=i.tagname(e);if(this.checkSelector(t+s,e,n))return s;var a=i.classnames(e,this.options.ignore),u=this.bestSelector(a,e,t,n);if(u&&this.checkSelector(t+u,e,n))return u;var c=!n||r.get(0)!==n.get(0);return!t&&r.length&&c?(t=this.generateSelector(r,null,n)+this.separator,t+this.generateSelector(e,t,n)):i.index(e,o||u||s)}},t}),define("@qubit---selector@1.0.2",["@qubit---selector@1.0.2/selector"],function(e){return e}),define("@qubit---in_page@1.0.0/src/in_page",["require","@qubit/jquery","@qubit/selector","@qubit/jquery-ui/position"],function(e){function t(e,t){this.api=t,this.init(e)}var n=e("@qubit/jquery"),i=e("@qubit/selector");return e("@qubit/jquery-ui/position"),t.prototype={options:{},init:function(e){this.model=e.model,this.$el=n("<div>&nbsp;</div>"),this.$dummy=n("<div>&nbsp;</div>").addClass(this.model.get("dummy.className")),this.el=this.$el.get(0),this.initHelpers(),this.$window=n(window),this.pollCount=0},initHelpers:function(){this.selector=new i},selectEl:function(e){if(this.$selected&&this.$selected.is(e))return!0;try{return this.$selected&&(this.$selected.html()!==this.$selected.data("deliver-in-page.html")&&this.$selected.html(this.$selected.data("deliver-in-page.html")||""),this.$selected.attr("style",this.$selected.data("deliver-in-page.attr.style")||"")),this.$selected=n(e),this.$selected.length&&(this.$selected.find("script").remove(),this.$selected.data("deliver-in-page.attr.style")||this.$selected.data("deliver-in-page.attr.style",this.$selected.attr("style")),this.$selected.data("deliver-in-page.html")||this.$selected.data("deliver-in-page.html",this.$selected.html())),this.$selected.length}catch(t){return!1}},whenExists:function(e,t){var n=this,i="complete"===document.readyState;if(this.selectEl(this.model.get("selector")),this.$selected&&this.$selected.length&&this.$selected.is(":visible"))this.$el.show(),e();else{if(i&&(this.pollCount++,"function"==typeof t&&this.pollCount>5))return t();n.timeout=setTimeout(function(){n.whenExists(e,t)},this.model.get("pollingFrequency"))}},edit:function(){this.$el.hide(),this.$selected.html(this.model.get("html"))},applySize:function(){this.model.get("size")&&this.$el.css(this.model.get("size"))},applyMargin:function(){this.model.get("margin")&&this.$el.css(this.model.get("margin"))},getCss:function(e){var t=e.css("position");return{position:"static"===t?"relative":t,display:/inline/.test(e.css("display"))?"inline-block":"block","float":e.css("float")||"none",zIndex:e.css("zIndex"),top:e.css("top")||0,left:e.css("left")||0,right:e.css("right")||0,bottom:e.css("bottom")||0,margin:e.css("margin")||0,width:e.outerWidth(),height:e.outerHeight()}},createContainer:function(){var e=this.model.get("inject");if("edit"===e)return this.edit();var t=this.getCss(this.$selected);this.$el.show().addClass(this.model.get("container.className")).css(t).css(this.model.get("container.css")),this.$el["after"===e?"insertAfter":"insertBefore"](this.$selected),"replace"===e&&this.$selected.hide(),this.applySize(),this.applyMargin()},render:function(){var e=this;return this.$body=n("body").css("margin",0),this.whenExists(function(){e.createContainer()}),this},cleanUp:function(){this.$el.hide(),this.$dummy.hide(),clearTimeout(this.timeout),this.pollCount=0,delete this.timeout,this.$selected&&(this.$selected.attr("style",this.$selected.data("deliver-in-page.attr.style")||""),this.$selected.html()!==this.$selected.data("deliver-in-page.html")&&this.$selected.html(this.$selected.data("deliver-in-page.html")||""),this.$selected.show(),delete this.$selected)},remove:function(){this.cleanUp(),this.selector.destroy(),this.$el.remove(),this.$dummy.remove()}},t.isExclusive=!1,t}),define("@qubit---in_page@1.0.0",["@qubit---in_page@1.0.0/src/in_page"],function(e){return e}),define("@qubit---attr@1.0.0/attr",["require","@qubit/underscore"],function(e){var t=e("@qubit/underscore");return function(e,n){return t.reduce(n.split("."),function(e,t){return e&&e[t]},e)}}),define("@qubit---attr@1.0.0",["@qubit---attr@1.0.0/attr"],function(e){return e}),define("@qubit---rephrase@0.0.1/src/index",["require","@qubit/jquery","@qubit/underscore","@qubit/attr"],function(e){function t(e){this.state=e.model}var n=e("@qubit/jquery"),i=e("@qubit/underscore"),r=e("@qubit/attr");return t.prototype.render=function(){var e=this;this.canApplyEdits()?this.applyEdits():i.defer(function(){e.canApplyEdits()?e.applyEdits():n(function(){e.poll()})})},t.prototype.applyEdits=function(){this.state.set("edits",this.initEdits(this.state.get("edits")),{silent:!0}),this.renderEdits(this.state.get("edits"))},t.prototype.canApplyEdits=function(){var e=this.initEdits(this.state.get("edits")),t=n("<body></body>").html(n("body").clone().find("script,noscript,style").remove().end().html());return!this.renderEdits(e,t)},t.prototype.poll=function(){var e,t,n=this,i=1e3;this.wait(function(){return t=!i--,e=n.canApplyEdits(),e||t},function(){e&&n.applyEdits()})},t.prototype.wait=function o(e,t){clearTimeout(this.timeout),e()?t():this.timeout=setTimeout(function(){o(e,t)},20)},t.prototype.renderEdits=function(e,t){return i.find(e,function(e){return!this.renderEdit(e,t)},this)},t.prototype.renderEdit=function(e,t){e=this.addUVs(e);var i=n(e.selector,t);if(!i.length)return!1;if("insertAfter"===e.operation&&(i=i.clone().insertAfter(i)),i.html(e.content).toggle(!e.hidden),n.trim(e.css)&&(i.addClass("deliver-rephrase-edit-"+e.cid),n('<style type="text/css" class="deliver_reprhase_styles"></style>').empty().append(e.css).appendTo(n("head",t))),e.hidden&&i.is(":visible")){var r=i.attr("style").replace(/display:\s?none/gi,"display: none !important");i.attr("style",r)}return!0},t.prototype.initEdits=function(e){return(e||[]).slice(0)},t.prototype.addUVs=function(e){if(e=i.clone(e),e.content&&""!==e.content){var t=e.content.match(/\{\{([^}]*)\}\}/g);t&&i.each(t,function(t){var n=t.replace(/{|}/g,"");if(n.indexOf("universal_variable.")>-1)try{var o=r(window,n);i.isArray(o)||i.isObject(o)||(e.content=e.content.replace("{{"+n+"}}",o||""))}catch(s){}},this)}return e},t.prototype.remove=function(){},t}),define("@qubit---rephrase@0.0.1",["@qubit---rephrase@0.0.1/src/index"],function(e){return e}),define("@qubit---image@1.0.0/image",[],function(){function e(e,t){this.options=e,this.model=this.options.model,this.api=t,this.el=document.createElement("img"),this.model.get("url")||(t.imageUploader.show(),t.imageUploader.on("uploaded",function(e){this.model.set("url",e),t.imageUploader.off()},this),t.imageUploader.on("cancel",function(){t.remove(),t.imageUploader.off()},this)),this.model.on("change:url",this.render,this),t.isPreviewMode()&&t.panels.register(["image","click_action"])}return e.prototype.render=function(){return this.el.src=this.model.get("url"),this},e.prototype.remove=function(){this.el.parentNode.removeChild(this.el)},e}),define("@qubit---image@1.0.0",["@qubit---image@1.0.0/image"],function(e){return e}),define("@qubit---close-button@1.0.0/close-button",["require","@qubit/jquery"],function(e){function t(e){return e[0].toUpperCase()+e.slice(1)}function n(e,t){this.initialize(e,t),this.setDefaults(),this.attachEvents()}var i=e("@qubit/jquery");return n.prototype.initialize=function(e,t){this.model=e.model,this.api=t,this.el=document.createElement("a"),this.$el=i(this.el)},n.prototype.setDefaults=function(){this.model.get("style")||this.model.set({style:"thick",color:"#222",width:20}),this.model.get("click_action.close_duration")||this.model.set("click_action.close_duration","30"),this.model.get("click_action.close_duration_unit")||this.model.set("click_action.close_duration_unit","days")},n.prototype.attachEvents=function(){this.$el.on("click",i.proxy(this,"handleClick"))},n.prototype.render=function(){this.$el.empty(),this.$el.css({textDecoration:"none"});var e=this.model.get("style");return e&&this["render"+t(e)](),this},n.prototype.renderTransparent=function(){this.$content=i("<div>",{css:{cursor:"pointer",height:"100%"}}).appendTo(this.$el),this.api.isPreviewMode()&&this.$content.css({outline:"1px dashed #4FB1BA",minHeight:"5px"})},n.prototype.renderThin=function(){var e=this.model.get("width");this.model.set("height",e),this.$content=i("<div>&times;</div>"),this.$content.css({lineHeight:e+"px",cursor:"pointer",marginLeft:-.02*e,marginTop:.02*e,marginBottom:.02*e,fontFamily:"Times New Roman, serif",fontSize:1.8*e+"px",color:this.model.get("color"),fontWeight:"normal"}).appendTo(this.$el)},n.prototype.renderThick=function(){var e=this.model.get("width");this.model.set("height",e),this.$content=i("<div>&times;</div>"),this.$content.css({lineHeight:e+"px",cursor:"pointer",marginLeft:-.02*e,marginTop:.04*e,fontFamily:"Arial, sans-serif",fontSize:1.8*e+"px",color:this.model.get("color"),fontWeight:"bold"}).appendTo(this.$el)},n.renderImage=function(){var e=this.model,t=e.get("image.src");0!==t.indexOf("data:image")&&0!==t.indexOf("http://")&&t.indexOf("https://")&&(t=location.protocol+t),this.$content=i("<img>",{attr:{src:t},css:{width:"100%",display:"block"}}).appendTo(this.$el)},n.prototype.remove=function(){this.$el.off().remove()},n.prototype.handleClick=function(){var e=this.model.get("click_action.close_duration"),t=this.model.get("click_action.close_duration_unit");this.api.layer.close({duration:parseInt(e,10),type:t})},n}),define("@qubit---close-button@1.0.0",["@qubit---close-button@1.0.0/close-button"],function(e){return e}),require(["main-ss"])}}();