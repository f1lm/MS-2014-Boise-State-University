<!DOCTYPE html>
<!-- saved from url=(0073)http://www.javathlon.com/stack-heap-memory-ocjp-questions-job-interviews/ -->
<html lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
<title>Stack and heap memory questions in OCJP and job interviews</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="http://www.javathlon.com/xmlrpc.php">

	<link rel="dns-prefetch" href="http://fonts.googleapis.com/">
	
<!-- This site is optimized with the Yoast WordPress SEO plugin v1.6.3 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Java is passed by value. Address values of objects are passed and stack memory is used for method internals. Instances are stored in heap memory.">
<link rel="canonical" href="./Stack and heap memory questions in OCJP and job interviews_files/Stack and heap memory questions in OCJP and job interviews.html">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Stack and heap memory questions in OCJP and job interviews">
<meta property="og:description" content="Java is passed by value. Address values of objects are passed and stack memory is used for method internals. Instances are stored in heap memory.">
<meta property="og:url" content="http://www.javathlon.com/stack-heap-memory-ocjp-questions-job-interviews/">
<meta property="og:site_name" content="Javathlon">
<meta property="article:publisher" content="http://www.facebook.com/javathlon">
<meta property="article:section" content="Interview and OCJP questions">
<meta property="article:published_time" content="2015-02-19T10:53:59+00:00">
<meta property="article:modified_time" content="2015-02-19T15:32:09+00:00">
<meta property="og:updated_time" content="2015-02-19T15:32:09+00:00">
<meta property="fb:admins" content="752418198">
<meta property="og:image" content="http://www.javathlon.com/wp-content/uploads/2015/02/ex1.3.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@javathlon">
<meta name="twitter:domain" content="Javathlon">
<meta name="twitter:creator" content="@javathlon">
<!-- / Yoast WordPress SEO plugin. -->

<link rel="alternate" type="application/rss+xml" title="Javathlon » Feed" href="http://www.javathlon.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Javathlon » Comments Feed" href="http://www.javathlon.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Javathlon » Stack and heap memory questions in OCJP exam and job interviews Comments Feed" href="http://www.javathlon.com/stack-heap-memory-ocjp-questions-job-interviews/feed/">
<link rel="stylesheet" id="socialshare-styles-css" href="./Stack and heap memory questions in OCJP and job interviews_files/Styles.css" type="text/css" media="screen">
<link rel="stylesheet" id="contact-form-7-css" href="./Stack and heap memory questions in OCJP and job interviews_files/Styles(1).css" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="./Stack and heap memory questions in OCJP and job interviews_files/pagenavi-css.css" type="text/css" media="all">
<link rel="stylesheet" id="stag-google-fonts-css" href="./Stack and heap memory questions in OCJP and job interviews_files/css" type="text/css" media="all">
<link rel="stylesheet" id="stag-style-css" href="./Stack and heap memory questions in OCJP and job interviews_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="./Stack and heap memory questions in OCJP and job interviews_files/font-awesome.css" type="text/css" media="all">
<link rel="stylesheet" id="smh-widget-style-css" href="./Stack and heap memory questions in OCJP and job interviews_files/smh_front.css" type="text/css" media="all">
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/jquery.js"></script><style type="text/css"></style>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/jquery-migrate.min.js"></script>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/spin.min.js"></script><style type="text/css"></style>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/jquery.spin.min.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.javathlon.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.javathlon.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.0.1">
<link rel="shortlink" href="http://www.javathlon.com/?p=49">
<meta name="generator" content="Ink 1.3.0">
<meta name="generator" content="StagCustomizer 1.0">
	<style id="stag-custom-css" type="text/css">
		body,
		.site,
		hr:not(.stag-divider)::before {
			background-color: #ffffff;
		}
		body, .entry-subtitle {
			font-family: "Roboto Slab";
		}
		a,
		.archive-header__title span,
		.footer-menu a:hover {
			color: #f0ad2c;
		}
		h1, h2, h3, h4, h5, h6, .button, .stag-button, input[type="submit"], input[type="reset"], .button-secondary, legend, .rcp_subscription_level_name, .post-navigation {
			font-family: "Montserrat";
		}
		.post-grid {
			border-color: #ffffff;
		}
			</style>
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style><style type="text/css">.fancybox-margin{margin-right:0px;}</style></head>
<body class="single single-post postid-49 single-format-standard chrome header-over" data-layout="" data-twttr-rendered="true" data-gclp-initialized="true" data-gistbox-initialized="true">

<nav class="site-nav" role="complementary">
	<div class="site-nav--scrollable-container">
		<i class="fa fa-times close-nav"></i>

		
			</div>
</nav>
<div class="site-nav-overlay"></div>

<div id="page" class="hfeed site">

	<div id="content" class="site-content">

		<header id="masthead" class="site-header">

			<div class="site-branding">
									<h1 class="site-title"><a href="http://www.javathlon.com/">Javathlon</a></h1>
				
				<p class="site-description"></p>
			</div>

			<a href="http://www.javathlon.com/stack-heap-memory-ocjp-questions-job-interviews/#" id="site-navigation-toggle" class="site-navigation-toggle"><i class="fa fa-navicon"></i></a>

			
		</header><!-- #masthead -->

	
	<style type="text/css" scoped="">
				.article-cover--49 { background-color: #000000; }
		
		.background-video { opacity: 0.4; }

		
			</style>

	
<div class="article-cover article-cover--49" style="height: 624px;">
	<div class="article-cover__background stag-image--none"></div>

	
	<div class="article-cover__inner">
		<div class="article-cover__content">
			<h1 class="entry-title">
				Stack and heap memory questions in OCJP exam and job interviews
							</h1>


			<footer class="entry-meta">
				<span class="posted-on"><a href="./Stack and heap memory questions in OCJP and job interviews_files/Stack and heap memory questions in OCJP and job interviews.html" title="10:53 am" rel="bookmark"><time class="entry-date published" datetime="2015-02-19T10:53:59+00:00">February 19, 2015</time><time class="updated" datetime="2015-02-19T15:32:09+00:00">February 19, 2015</time></a></span><span class="reading-time">3 minute read</span><span class="byline">by <span class="author vcard"><a class="url fn n" href="http://www.javathlon.com/author/javathlon/">Talha Ocakçı</a></span></span>											</footer>

					</div>
	</div>

	
	<span id="scroll-to-content" class="article-cover__arrow">
		<i class="fa fa-chevron-down"></i>
	</span>

</div>

	<main id="main" class="site-main">

		
		
<article id="post-49" class="post-49 post type-post status-publish format-standard hentry category-interview-and-ocjp-questions">

	<div class="entry-content">
		<p>Most of the <a id="_GPLITA_0" style="border: none !important; display: inline-block !important; text-indent: 0px !important; float: none !important; font-weight: bold !important; height: auto !important; margin: 0px !important; min-height: 0px !important; min-width: 0px !important; padding: 0px !important; text-transform: uppercase !important; text-decoration: underline !important; vertical-align: baseline !important; width: auto !important; background: transparent !important;" title="Click to Continue &gt; by BlockIt Ad remover" href="http://www.javathlon.com/stack-heap-memory-ocjp-questions-job-interviews/#">job<img style="border: none !important; display: inline-block !important; text-indent: 0px !important; float: none !important; font-weight: bold !important; height: 10px !important; margin: 0px 0px 0px 3px !important; min-height: 0px !important; min-width: 0px !important; padding: 0px !important; text-transform: uppercase !important; text-decoration: underline !important; vertical-align: super !important; width: 10px !important; background: transparent !important;" src="./Stack and heap memory questions in OCJP and job interviews_files/arrow-10x10.png" alt=""></a> interviewers ask about memory management to newbies and even to experienced developers.&nbsp;Because misusing the references cause unpredictable defects in any software.&nbsp;For instance I love asking this easy but somehow tricky question to newbies:</p>
<p><a href="http://www.javathlon.com/wp-content/uploads/2015/02/Resim1.png"><img class="wp-image-50 size-large" src="./Stack and heap memory questions in OCJP and job interviews_files/Resim1-1024x565.png" alt="Swapping the references" width="975" height="537"></a></p>
<p>In this snippet, we are trying to swap two references to customer instances. Question is that, after&nbsp;passing&nbsp;the references to swap method, &nbsp;will the references point to the new addresses or not, as a result, &nbsp;whether “talha” or “john” is printed.</p>
<figure id="attachment_55" style="width: 300px;" class="wp-caption alignright"><img class="wp-image-55 size-medium" src="./Stack and heap memory questions in OCJP and job interviews_files/stackspace-300x228.png" alt="stack space structure and stack frames" width="300" height="228"><figcaption class="wp-caption-text"><em>Figure2- Structure of stack space</em></figcaption></figure>
<p>If your answer is “talha”, you are good with the logic of memory management, cool. Otherwise if you either know the answer but don’t know the exact reason or you responded wrong, go on reading.</p>
<p>The main manner in this question&nbsp;is whether the candidate knows about heap space and stack space.</p>
<p><strong>Heap space:</strong> Most of the object instances (not primitive ones and interned strings) are stored in this area physically.<strong> When you create an instance with new() keyword, &nbsp;this object will be stored in heap space.</strong> This is a common place for all threads in JVM.</p>
<p>When you want to refer to an instance as;</p>
<p>Customer c =new Customer();</p>
<p>c reference will only store&nbsp;<strong>the memory address value</strong> of this instance. And <strong>this reference is stored inside a stack-frame inside stack space.</strong></p>
<p><strong>Stack space:</strong> For each thread, a stack is allocated. Each stack is consisting of multiple stack frames as in Figure 2. A <strong>stack frame</strong> stores method related data, namely:</p>
<ol>
<li>return type of the method,</li>
<li>argument list (input list) of the method,</li>
<li><strong>address values</strong> of local objects,</li>
<li><strong>values of</strong> local primitive values used in a method.</li>
</ol>
<p><img class="alignleft wp-image-59 " src="./Stack and heap memory questions in OCJP and job interviews_files/stacklifecycle-150x150.png" alt="stacklifecycle" width="194" height="194">&nbsp;A stack frame is pushed to the stack when a method is invoked and it is popped from the stack when the method returns (finishes execution) as in Figure 3.</p>
<p>So, when a method finishes executing, all local objects inside the method becomes eligible for the garbage collection and all the local references are destroyed without changing the addresses of the arguments. Now, let’s&nbsp;interpret the code line by line.&nbsp;(Current line is bold)</p>
<p><a href="http://www.javathlon.com/wp-content/uploads/2015/02/ex1.1.png"><img class="aligncenter wp-image-72" src="./Stack and heap memory questions in OCJP and job interviews_files/ex1.1-1024x514.png" alt="ex1.1" width="503" height="252"></a></p>
<p><strong>Before&nbsp;swapCustomers() method is called, only the stack frame of main method is stored.</strong> There are two customer references, namely, customer1 and customer2. Assume they are pointing to memory address 1000 and 2000 for now.</p>
<p><img class="aligncenter wp-image-73" src="./Stack and heap memory questions in OCJP and job interviews_files/ex1.2-1024x514.png" alt="ex1.2" width="506" height="254"></p>
<p>When swapCustomers() method is called with&nbsp;given arguments,&nbsp;a stack frame is pushed into the stack space including 2 customer references which are the input arguments of the method. At this moment they don’t point to any memory address.</p>
<p><img class="aligncenter wp-image-79" src="./Stack and heap memory questions in OCJP and job interviews_files/ex1.3-1024x514.png" alt="ex1.3" width="470" height="236">On the first line of the method, cust1 refers to the address of customer1 instance’s address value. and cust2 refers to customer2 instance’s address value since we call the method as&nbsp;<strong>swapCustomers(customer1, customer2)</strong>.&nbsp;Then temp reference is set with the same memory address value as cust2:2000</p>
<p><img class="aligncenter wp-image-83" src="./Stack and heap memory questions in OCJP and job interviews_files/ex1.4-1024x514.png" alt="ex1.4" width="477" height="239">On the second line, cust2 is set the same memory address value as cust1: 1000.&nbsp;There is no changes on the address values of customer1 and customer2 references.</p>
<p><img class="aligncenter wp-image-88" src="./Stack and heap memory questions in OCJP and job interviews_files/ex1.5-1024x514.png" alt="ex1.5" width="415" height="208">On the third line, cust1 is set the same address value as temp: 2000. Still no changes on&nbsp;customer1 and customer2 references.&nbsp;<img class="aligncenter wp-image-93" src="./Stack and heap memory questions in OCJP and job interviews_files/ex1.6-1024x514.png" alt="ex1.6" width="426" height="214"></p>
<p>After the execution of the method, stack frame related to it is popped&nbsp;out from the stack space and all the references, local primitives inside the stack frame become eligible for the garbage collection. temp, cust1 and cust references also will be destroyed. (Shown in dashed lines)</p>
<p>That’s why, when execution returns back to the main method, nothing is really changed on the references customer1 and customer 2. <strong>They are still pointing to the very same address values they do before the execution of swapCustomers() method.<img class="aligncenter wp-image-94" src="./Stack and heap memory questions in OCJP and job interviews_files/ex1.7-1024x514.png" alt="ex1.7" width="372" height="187"></strong></p>
<p></p>	</div><!-- .entry-content -->

		<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Post navigation</h1>
		<div class="nav-links">
			<div class="nav-previous nav-link"><a href="http://www.javathlon.com/jsp-servlet-development-video-tutorials/" rel="prev"><span class="meta-nav"><i class="fa fa-chevron-left"></i> Previous Post</span></a></div>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
		<footer class="entry-footer">
		<div class="grid">

			<div class="unit one-of-two">
				Category: <a href="http://www.javathlon.com/javatraining/interview-and-ocjp-questions/" rel="category tag">Interview and OCJP questions</a>
							</div>

						<div class="unit one-of-two">
				
<div class="post-share-buttons">
	<h5>Share on</h5>

		<a target="_blank" class="button" href="http://www.twitter.com/?status=Stack+and+heap+memory+questions+in+OCJP+exam+and+job+interviews+on+Javathlon+http%3A%2F%2Fwww.javathlon.com%2Fstack-heap-memory-ocjp-questions-job-interviews%2F">Twitter</a>
	<a target="_blank" class="button" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fwww.javathlon.com%2Fstack-heap-memory-ocjp-questions-job-interviews%2F">Facebook</a>
	</div>
			</div>
					</div>
	</footer><!-- .entry-meta -->
	
</article><!-- #post-## -->

<div id="comments" class="comments-area">

	
	
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Submit a comment <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.javathlon.com/stack-heap-memory-ocjp-questions-job-interviews/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://www.javathlon.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate="">
																										<p class="comment-form-author"><input class="text-input respond-type" type="text" name="author" id="author" value="" size="50" aria-required="true" tabindex="1"><label for="author">Name</label></p>
<p class="comment-form-email"><input class="text-input respond-type" type="email" name="email" id="email" value="" size="50" aria-required="true" tabindex="2"><label for="email">Email</label></p>
<p class="comment-form-url"><input class="text-input respond-type" type="url" name="url" id="url" value="" size="50" tabindex="3"><label for="url">Website</label></p>
												<p class="comment-form-comment"><textarea id="comment" class="blog-textarea respond-type" name="comment" cols="58" rows="10" aria-required="true" tabindex="4"></textarea><label for="comment">Your Comment</label></p>												<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Submit comment">
							<input type="hidden" name="comment_post_ID" value="49" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
											</form>
							</div><!-- #respond -->
			
</div><!-- #comments -->

	
	</main><!-- #main -->

		<footer id="colophon" class="site-footer" role="contentinfo">
						<div class="footer-widgets-container">
				<div class="inside">
					<div class="footer-widgets grid">
								<aside id="recent-posts-2" class="widget unit one-of-two widget_recent_entries">		<h3 class="widgettitle">HOTTEST TIPS</h3>		<ul>
					<li>
				<a href="./Stack and heap memory questions in OCJP and job interviews_files/Stack and heap memory questions in OCJP and job interviews.html">Stack and heap memory questions in OCJP exam and job interviews</a>
						</li>
					<li>
				<a href="http://www.javathlon.com/jsp-servlet-development-video-tutorials/">Sticky: JAVA WEB DEVELOPMENT TRAINING KIT</a>
						</li>
					<li>
				<a href="http://www.javathlon.com/jsf-and-primefaces-in-8-questions/">JSF and Primefaces in 8 questions</a>
						</li>
					<li>
				<a href="http://www.javathlon.com/using-ajax-in-voting-system/">Using AJAX in voting system</a>
						</li>
					<li>
				<a href="http://www.javathlon.com/7/">Implement voting system with JSP and Servlet</a>
						</li>
				</ul>
		</aside><aside id="categories-2" class="widget unit one-of-two widget_categories"><h3 class="widgettitle">INTERESTS</h3>		<ul>
	<li class="cat-item cat-item-7"><a href="http://www.javathlon.com/javatraining/interview-and-ocjp-questions/">Interview and OCJP questions</a>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.javathlon.com/javatraining/training-videos/">Training videos</a>
</li>
	<li class="cat-item cat-item-1"><a href="http://www.javathlon.com/javatraining/uncategorized/">Uncategorized</a>
</li>
		</ul>
</aside><aside id="recent-comments-2" class="widget unit one-of-two widget_recent_comments"><h3 class="widgettitle">Recent Comments</h3><ul id="recentcomments"></ul></aside><aside id="archives-2" class="widget unit one-of-two widget_archive"><h3 class="widgettitle">Archives</h3>		<ul>
	<li><a href="http://www.javathlon.com/2015/02/">February 2015</a></li>
	<li><a href="http://www.javathlon.com/2014/10/">October 2014</a></li>
	<li><a href="http://www.javathlon.com/2014/09/">September 2014</a></li>
		</ul>
</aside><aside id="socialshare-widget-3" class="widget unit one-of-two share_links"><h3 class="widgettitle"> </h3>		
		<div class="socialshare-widget">
			<!-- Twitter -->
			<div class="socialshare-twitter">
			
			<iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Stack and heap memory questions in OCJP and job interviews_files/tweet_button.62da0a34306f5c17db7d290755ed1d7d.en.html" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-vertical" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 55px; height: 62px;"></iframe><script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/widgets.js"></script>			</div>
			
			<!-- StumbleUpon -->
			<div class="socialshare-stumbleupon">
			
						</div>
			
			<!-- Reddit.com -->
			<div class="socialshare-reddit">
			
						</div>
			
			<!-- Facebook -->
						</div>
		</aside></div>
		
		<aside id="smhwidget-3" class="widget unit one-of-two SMHWidget"><!-- BEGIN SOCIAL MEDIA CONTACTS -->
<div id="socialmedia-container">
</div>
<!-- END SOCIAL MEDIA CONTACTS -->
</aside>					</div>
				</div>
			</footer></div><!-- .site-footer -->
			
									<div class="copyright">
				<div class="inside">

					<div class="grid">
						<div class="unit one-of-two site-info">
							Copyright © 2015 — Made with ♥ and intention by <a href="https://codestag.com/">Codestag</a>						</div><!-- .site-info -->

											</div>

				</div>
			</div><!-- .copyright -->
					<!-- #colophon -->

	</div><!-- #content -->

<!-- #page -->

<div style="display:none">[%%LINKS%%]</div><script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/jquery.form.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/www.javathlon.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","sending":"Sending ..."};
/* ]]> */
</script>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/scripts.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var StagFitvidsCustomSelectors = {"customSelector":"iframe[src*='www.viddler.com'],iframe[src*='money.cnn.com'],iframe[src*='www.educreations.com'],iframe[src*='\/\/blip.tv'],iframe[src*='\/\/embed.ted.com'],iframe[src*='\/\/www.hulu.com']"};
var postSettings = {"ajaxurl":"http:\/\/www.javathlon.com\/wp-admin\/admin-ajax.php","nonce":"f9575b392b","category":"","search":""};
/* ]]> */
</script>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/jquery.custom.min.js"></script>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/plugins.js"></script>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/jquery.fitvids.min.js"></script>
<script type="text/javascript" src="./Stack and heap memory questions in OCJP and job interviews_files/comment-reply.min.js"></script>


<iframe frameborder="0" scrolling="no" style="border: 0px; display: none; background-color: transparent;"></iframe><div id="GOOGLE_INPUT_CHEXT_FLAG" input="null" input_stat="{&quot;tlang&quot;:true,&quot;tsbc&quot;:true,&quot;pun&quot;:true,&quot;mk&quot;:false,&quot;ss&quot;:true}" style="display: none;"></div><form id="gclp-frame-form" target="gclp-frame" method="post" style="display: none;"></form></body></html>