function google_ad_request_done(e){var t,n="";if(0!==e.length){if("flash"==e[0].type)n+='<a href="'+google_info.feedback_url+'">Ads by Google</a><br>'+'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+' codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0" WIDTH="'+google_ad.image_width+'" HEIGHT="'+google_ad.image_height+'"> <PARAM NAME="movie" VALUE="'+google_ad.image_url+'">'+'<PARAM NAME="quality" VALUE="high">'+'<PARAM NAME="AllowScriptAccess" VALUE="never">'+'<EMBED src="'+google_ad.image_url+'" WIDTH="'+google_ad.image_width+'" HEIGHT="'+google_ad.image_height+'" TYPE="application/x-shockwave-flash"'+' AllowScriptAccess="never" '+' PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>';else if("image"==e[0].type)n+='<a href="'+google_info.feedback_url+'">Ads by Google</a><br> <a href="'+e[0].url+'" target="_top" title="go to '+e[0].visible_url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+e[0].visible_url+'\';return true"><img border="0" src="'+e[0].image_url+'"width="'+e[0].image_width+'"height="'+e[0].image_height+'"></a>';else if("html"==e[0].type)n+=e[0].snippet;else{for(n+='<p><a href="'+google_info.feedback_url+'" style="text-decoration:none; font-size:11px; color: #333" >Ads by Google</a>',t=0;t<e.length;++t)n+='<br><a style="text-decoration:none" href="'+e[t].url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+e[t].visible_url+'\';return true"> <span style="text-decoration:underline; font-size: 14px"> <b>'+e[t].line1+"</b></span></a> - <span>"+e[t].line2+"&nbsp;"+e[t].line3+'<br></span> <span><a style="text-decoration:none; font-size:11px" href="'+e[t].url+'" onmouseout="window.status=\'\'" onmouseover="window.status=\'go to '+e[t].visible_url+"';return true\">"+e[t].visible_url+"</span></a>";n+="</p>"}n="<div class=adsense-wrapper>"+n+"</div>",$(".adsense").last().html(n)}}function s_gi(e,t,n){var i,r,s,a,o,l="s.version='H.24.4';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(m,\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){if(!o)return o;var n=new Object,x;for(x in o)if(x.indexOf('select')<0&&x.indexOf('filter')<0)n[x]=o[x];return n};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3)x=encodeURIComponent(x);else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=escape(''+x);x=s.rep(x,'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this;if(x){x=s.rep(''+x,'+',' ');return s.em==3?decodeURIComponent(x):unescape(x)}return x};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){while(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+(un),im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im.src=rs;if((!ta||ta=='_self'||ta=='_top'||(s.wd.name&&ta==s.wd.name))&&rs.indexOf('&pe=')>=0){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';v=s.fl(v,255)}else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.substring(0,1)!='#'&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=s.co(this);s.t();s.lnk=0;if(b)return this[b](e);return true');s.bc=new Function('e','var s=s_c_il['+s._in+'],f,tcf;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;s.eo=e.srcElement?e.srcElement:e.target;tcf=new Function(\"s\",\"var e;try{if(s.eo&&(s.eo.tagName||s.eo.parentElement||s.eo.parentNode))s.t()}catch(e){}\");tcf(s);s.eo=0');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener)s.b.addEventListener('click',s.bc,false);else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next)j='1.7'}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}else s.dl(vo);if(vo)s.voa(vb,1);s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo){var s=this;s.lnk=s.co(o);s.linkType=t;s.linkName=n;s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='timestamp,dynamicVariablePrefix,visitorID,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){s_gi(\"_\",1,1).co(o)};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",c=window,p=c.s_c_il,u=navigator,h=u.userAgent,d=u.appVersion,f=d.indexOf("MSIE "),m=h.indexOf("Netscape6/");if(e&&(e=e.toLowerCase(),p))for(s=0;2>s;s++)for(r=0;r<p.length;r++)if(o=p[r],a=o._c,(!a||"s_c"==a||s>0&&"s_l"==a)&&(o.oun==e||o.fs&&o.sa&&o.fs(o.oun,e))){if(o.sa&&o.sa(e),"s_c"==a)return o}else o=0;return c.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a"),c.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x"),c.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)"),c.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x"),c.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")"),c.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a"),c.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;"),l=s_d(l),f>0?(i=parseInt(r=d.substring(f+5)),i>3&&(i=parseFloat(r))):i=m>0?parseFloat(h.substring(m+10)):parseFloat(d),(5>i||d.indexOf("Opera")>=0||h.indexOf("Opera")>=0)&&(l=s_ft(l)),o||(o=new Object,c.s_c_in||(c.s_c_il=new Array,c.s_c_in=0),o._il=c.s_c_il,o._in=c.s_c_in,o._il[o._in]=o,c.s_c_in++),o._c="s_c",new Function("s","un","pg","ss",l)(o,e,t,n),o}function s_giqf(){var e,t,n,i=window,r=i.s_giq;if(r)for(e=0;e<r.length;e++)t=r[e],n=s_gi(t.oun),n.sa(t.un),n.setTagContainer(t.tagContainerName);i.s_giq=0}!function(e,t){function n(e){var t=e.length,n=pt.type(e);return pt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Tt[e]={};return pt.each(e.match(ht)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(pt.acceptData(e)){var s,a,o=pt.expando,l=e.nodeType,c=l?pt.cache:e,p=l?e[o]:e[o]&&o;if(p&&c[p]&&(r||c[p].data)||i!==t||"string"!=typeof n)return p||(p=l?e[o]=tt.pop()||pt.guid++:o),c[p]||(c[p]=l?{}:{toJSON:pt.noop}),("object"==typeof n||"function"==typeof n)&&(r?c[p]=pt.extend(c[p],n):c[p].data=pt.extend(c[p].data,n)),a=c[p],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[pt.camelCase(n)]=i),"string"==typeof n?(s=a[n],null==s&&(s=a[pt.camelCase(n)])):s=a,s}}function s(e,t,n){if(pt.acceptData(e)){var i,r,s=e.nodeType,a=s?pt.cache:e,l=s?e[pt.expando]:pt.expando;if(a[l]){if(t&&(i=n?a[l]:a[l].data)){pt.isArray(t)?t=t.concat(pt.map(t,pt.camelCase)):t in i?t=[t]:(t=pt.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!o(i):!pt.isEmptyObject(i))return}(n||(delete a[l].data,o(a[l])))&&(s?pt.cleanData([e],!0):pt.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(Pt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:At.test(i)?pt.parseJSON(i):i}catch(s){}pt.data(e,n,i)}else i=t}return i}function o(e){var t;for(t in e)if(("data"!==t||!pt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function p(){try{return X.activeElement}catch(e){}}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,n){if(pt.isFunction(t))return pt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return pt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ft.test(t))return pt.filter(t,e,n);t=pt.filter(t,e)}return pt.grep(e,function(e){return pt.inArray(e,t)>=0!==n
})}function d(e){var t=Wt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return pt.nodeName(e,"table")&&pt.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==pt.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=sn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n,i=0;null!=(n=e[i]);i++)pt._data(n,"globalEval",!t||pt._data(t[i],"globalEval"))}function w(e,t){if(1===t.nodeType&&pt.hasData(e)){var n,i,r,s=pt._data(e),a=pt._data(t,s),o=s.events;if(o){delete a.handle,a.events={};for(n in o)for(i=0,r=o[n].length;r>i;i++)pt.event.add(t,n,o[n][i])}a.data&&(a.data=pt.extend({},a.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!pt.support.noCloneEvent&&t[pt.expando]){r=pt._data(t);for(i in r.events)pt.removeEvent(t,i,r.handle);t.removeAttribute(pt.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),pt.support.html5Clone&&e.innerHTML&&!pt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,s=0,a=typeof e.getElementsByTagName!==G?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[s]);s++)!n||pt.nodeName(r,n)?a.push(r):pt.merge(a,b(r,n));return n===t||n&&pt.nodeName(e,n)?pt.merge([e],a):a}function _(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function k(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Tn.length;r--;)if(t=Tn[r]+n,t in e)return t;return i}function x(e,t){return e=t||e,"none"===pt.css(e,"display")||!pt.contains(e.ownerDocument,e)}function C(e,t){for(var n,i,r,s=[],a=0,o=e.length;o>a;a++)i=e[a],i.style&&(s[a]=pt._data(i,"olddisplay"),n=i.style.display,t?(s[a]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(s[a]=pt._data(i,"olddisplay",S(i.nodeName)))):s[a]||(r=x(i),(n&&"none"!==n||!r)&&pt._data(i,"olddisplay",r?n:pt.css(i,"display"))));for(a=0;o>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[a]||"":"none"));return e}function T(e,t,n){var i=wn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function A(e,t,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=pt.css(e,n+Cn[s],!0,r)),i?("content"===n&&(a-=pt.css(e,"padding"+Cn[s],!0,r)),"margin"!==n&&(a-=pt.css(e,"border"+Cn[s]+"Width",!0,r))):(a+=pt.css(e,"padding"+Cn[s],!0,r),"padding"!==n&&(a+=pt.css(e,"border"+Cn[s]+"Width",!0,r)));return a}function P(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=un(e),a=pt.support.boxSizing&&"border-box"===pt.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=hn(e,t,s),(0>r||null==r)&&(r=e.style[t]),yn.test(r))return r;i=a&&(pt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+A(e,t,n||(a?"border":"content"),i,s)+"px"}function S(e){var t=X,n=_n[e];return n||(n=I(e,t),"none"!==n&&n||(pn=(pn||pt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(pn[0].contentWindow||pn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=I(e,t),pn.detach()),_n[e]=n),n}function I(e,t){var n=pt(t.createElement(e)).appendTo(t.body),i=pt.css(n[0],"display");return n.remove(),i}function E(e,t,n,i){var r;if(pt.isArray(t))pt.each(t,function(t,r){n||Pn.test(e)?i(e,r):E(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==pt.type(t))i(e,t);else for(r in t)E(e+"["+r+"]",t[r],n,i)}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(ht)||[];if(pt.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function L(e,n,i,r){function s(l){var c;return a[l]=!0,pt.each(e[l]||[],function(e,l){var p=l(n,i,r);return"string"!=typeof p||o||a[p]?o?!(c=p):t:(n.dataTypes.unshift(p),s(p),!1)}),c}var a={},o=e===Rn;return s(n.dataTypes[0])||!a["*"]&&s("*")}function j(e,n){var i,r,s=pt.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);return i&&pt.extend(!0,e,i),e}function N(e,n,i){for(var r,s,a,o,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(o in l)if(l[o]&&l[o].test(s)){c.unshift(o);break}if(c[0]in i)a=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):t}function O(e,t,n,i){var r,s,a,o,l,c={},p=e.dataTypes.slice();if(p[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(s=p.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=p.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(a=c[l+" "+s]||c["* "+s],!a)for(r in c)if(o=r.split(" "),o[1]===s&&(a=c[l+" "+o[0]]||c["* "+o[0]])){a===!0?a=c[r]:c[r]!==!0&&(s=o[0],p.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function B(){try{return new e.XMLHttpRequest}catch(t){}}function D(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function M(){return setTimeout(function(){Zn=t}),Zn=pt.now()}function H(e,t,n){for(var i,r=(si[t]||[]).concat(si["*"]),s=0,a=r.length;a>s;s++)if(i=r[s].call(n,t,e))return i}function z(e,t,n){var i,r,s=0,a=ri.length,o=pt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zn||M(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,s=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(s);return o.notifyWith(e,[c,s,n]),1>s&&l?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:pt.extend({},t),opts:pt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||M(),duration:n.duration,tweens:[],createTween:function(t,n){var i=pt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),p=c.props;for(q(p,c.opts.specialEasing);a>s;s++)if(i=ri[s].call(c,e,p,c.opts))return i;return pt.map(p,H,c),pt.isFunction(c.opts.start)&&c.opts.start.call(e,c),pt.fx.timer(pt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(e,t){var n,i,r,s,a;for(n in e)if(i=pt.camelCase(n),r=t[i],s=e[n],pt.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),a=pt.cssHooks[i],a&&"expand"in a){s=a.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}function F(e,t,n){var i,r,s,a,o,l,c=this,p={},u=e.style,h=e.nodeType&&x(e),d=pt._data(e,"fxshow");n.queue||(o=pt._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,pt.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===pt.css(e,"display")&&"none"===pt.css(e,"float")&&(pt.support.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?u.zoom=1:u.display="inline-block")),n.overflow&&(u.overflow="hidden",pt.support.shrinkWrapBlocks||c.always(function(){u.overflow=n.overflow[0],u.overflowX=n.overflow[1],u.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],ti.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(h?"hide":"show"))continue;p[i]=d&&d[i]||pt.style(e,i)}if(!pt.isEmptyObject(p)){d?"hidden"in d&&(h=d.hidden):d=pt._data(e,"fxshow",{}),s&&(d.hidden=!h),h?pt(e).show():c.done(function(){pt(e).hide()}),c.done(function(){var t;pt._removeData(e,"fxshow");for(t in p)pt.style(e,t,p[t])});for(i in p)a=H(h?d[i]:0,i,c),i in d||(d[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function U(e,t,n,i,r){return new U.prototype.init(e,t,n,i,r)}function R(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Cn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function V(e){return pt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,Y,G=typeof t,K=e.location,X=e.document,J=X.documentElement,Q=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,rt=tt.push,st=tt.slice,at=tt.indexOf,ot=et.toString,lt=et.hasOwnProperty,ct=nt.trim,pt=function(e,t){return new pt.fn.init(e,t,Y)},ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=/\S+/g,dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,wt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bt=/^-ms-/,_t=/-([\da-z])/gi,kt=function(e,t){return t.toUpperCase()},xt=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(Ct(),pt.ready())},Ct=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",xt,!1),e.removeEventListener("load",xt,!1)):(X.detachEvent("onreadystatechange",xt),e.detachEvent("onload",xt))};pt.fn=pt.prototype={jquery:nt,constructor:pt,init:function(e,n,i){var r,s;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof pt?n[0]:n,pt.merge(this,pt.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),mt.test(r[1])&&pt.isPlainObject(n))for(r in n)pt.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(s=X.getElementById(r[2]),s&&s.parentNode){if(s.id!==r[2])return i.find(e);this.length=1,this[0]=s}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),pt.makeArray(e,this))},selector:"",length:0,toArray:function(){return st.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=pt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return pt.each(this,e,t)},ready:function(e){return pt.ready.promise().done(e),this},slice:function(){return this.pushStack(st.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(pt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:[].sort,splice:[].splice},pt.fn.init.prototype=pt.fn,pt.extend=pt.fn.extend=function(){var e,n,i,r,s,a,o=arguments[0]||{},l=1,c=arguments.length,p=!1;for("boolean"==typeof o&&(p=o,o=arguments[1]||{},l=2),"object"==typeof o||pt.isFunction(o)||(o={}),c===l&&(o=this,--l);c>l;l++)if(null!=(s=arguments[l]))for(r in s)e=o[r],i=s[r],o!==i&&(p&&i&&(pt.isPlainObject(i)||(n=pt.isArray(i)))?(n?(n=!1,a=e&&pt.isArray(e)?e:[]):a=e&&pt.isPlainObject(e)?e:{},o[r]=pt.extend(p,a,i)):i!==t&&(o[r]=i));return o},pt.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===pt&&(e.$=Z),t&&e.jQuery===pt&&(e.jQuery=Q),pt},isReady:!1,readyWait:1,holdReady:function(e){e?pt.readyWait++:pt.ready(!0)},ready:function(e){if(e===!0?!--pt.readyWait:!pt.isReady){if(!X.body)return setTimeout(pt.ready);pt.isReady=!0,e!==!0&&--pt.readyWait>0||(W.resolveWith(X,[pt]),pt.fn.trigger&&pt(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===pt.type(e)},isArray:Array.isArray||function(e){return"array"===pt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?et[ot.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==pt.type(e)||e.nodeType||pt.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(pt.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=mt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=pt.buildFragment([e],t,r),r&&pt(r).remove(),pt.merge([],i.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=pt.trim(n),n&&gt.test(n.replace(wt,"@").replace(yt,"]").replace(vt,"")))?Function("return "+n)():(pt.error("Invalid JSON: "+n),t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(s){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&pt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(bt,"ms-").replace(_t,kt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,s=0,a=e.length,o=n(e);if(i){if(o)for(;a>s&&(r=t.apply(e[s],i),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],i),r===!1)break}else if(o)for(;a>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(dt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?pt.merge(i,"string"==typeof e?[e]:e):rt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(at)return at.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,s=0;if("number"==typeof i)for(;i>s;s++)e[r++]=n[s];else for(;n[s]!==t;)e[r++]=n[s++];return e.length=r,e},grep:function(e,t,n){var i,r=[],s=0,a=e.length;for(n=!!n;a>s;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,t,i){var r,s=0,a=e.length,o=n(e),l=[];if(o)for(;a>s;s++)r=t(e[s],s,i),null!=r&&(l[l.length]=r);else for(s in e)r=t(e[s],s,i),null!=r&&(l[l.length]=r);return it.apply([],l)},guid:1,proxy:function(e,n){var i,r,s;return"string"==typeof n&&(s=e[n],n=e,e=s),pt.isFunction(e)?(i=st.call(arguments,2),r=function(){return e.apply(n||this,i.concat(st.call(arguments)))},r.guid=e.guid=e.guid||pt.guid++,r):t},access:function(e,n,i,r,s,a,o){var l=0,c=e.length,p=null==i;if("object"===pt.type(i)){s=!0;for(l in i)pt.access(e,n,l,i[l],!0,a,o)}else if(r!==t&&(s=!0,pt.isFunction(r)||(o=!0),p&&(o?(n.call(e,r),n=null):(p=n,n=function(e,t,n){return p.call(pt(e),n)})),n))for(;c>l;l++)n(e[l],i,o?r:r.call(e[l],l,n(e[l],i)));return s?e:p?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=a[s];return r}}),pt.ready.promise=function(t){if(!W)if(W=pt.Deferred(),"complete"===X.readyState)setTimeout(pt.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",xt,!1),e.addEventListener("load",xt,!1);else{X.attachEvent("onreadystatechange",xt),e.attachEvent("onload",xt);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!pt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Ct(),pt.ready()}}()}return W.promise(t)},pt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),Y=pt(X),function(e,t){function n(e,t,n,i){var r,s,a,o,l,c,p,u,f,m;if((t?t.ownerDocument||t:z)!==L&&$(t),t=t||L,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(N&&!i){if(r=yt.exec(e))if(a=r[1]){if(9===o){if(s=t.getElementById(a),!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&M(t,s)&&s.id===a)return n.push(s),n}else{if(r[2])return et.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&x.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!O||!O.test(e))){if(u=p=H,f=t,m=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(p=t.getAttribute("id"))?u=p.replace(kt,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+d(c[l]);f=dt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{p||t.removeAttribute("id")}}}return _(e.replace(ct,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>T.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function r(e){return e[H]=!0,e}function s(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)T.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function p(e){return r(function(t){return t=+t,r(function(n,i){for(var r,s=e([],n.length,t),a=s.length;a--;)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(){}function h(e,t){var i,r,s,a,o,l,c,p=R[e+" "];if(p)return t?0:p.slice(0);for(o=e,l=[],c=T.preFilter;o;){(!i||(r=ut.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(s=[])),i=!1,(r=ht.exec(o))&&(i=r.shift(),s.push({value:i,type:r[0].replace(ct," ")}),o=o.slice(i.length));for(a in T.filter)!(r=vt[a].exec(o))||c[a]&&!(r=c[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),o=o.slice(i.length));if(!i)break}return t?o.length:o?n.error(e):R(e,l).slice(0)}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,s=F++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,a){var o,l,c,p=q+" "+s;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[H]||(t[H]={}),(l=c[i])&&l[0]===p){if((o=l[1])===!0||o===C)return o===!0}else if(l=c[i]=[p],l[1]=e(t,n,a)||C,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,r){for(var s,a=[],o=0,l=e.length,c=null!=t;l>o;o++)(s=e[o])&&(!n||n(s,i,r))&&(a.push(s),c&&t.push(o));return a}function v(e,t,n,i,s,a){return i&&!i[H]&&(i=v(i)),s&&!s[H]&&(s=v(s,a)),r(function(r,a,o,l){var c,p,u,h=[],d=[],f=a.length,m=r||b(t||"*",o.nodeType?[o]:o,[]),v=!e||!r&&t?m:g(m,h,e,o,l),w=n?s||(r?e:f||i)?[]:a:v;if(n&&n(v,w,o,l),i)for(c=g(w,d),i(c,[],o,l),p=c.length;p--;)(u=c[p])&&(w[d[p]]=!(v[d[p]]=u));if(r){if(s||e){if(s){for(c=[],p=w.length;p--;)(u=w[p])&&c.push(v[p]=u);s(null,w=[],c,l)}for(p=w.length;p--;)(u=w[p])&&(c=s?nt.call(r,u):h[p])>-1&&(r[c]=!(a[c]=u))}}else w=g(w===a?w.splice(f,w.length):w),s?s(null,a,w,l):et.apply(a,w)})}function w(e){for(var t,n,i,r=e.length,s=T.relative[e[0].type],a=s||T.relative[" "],o=s?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return nt.call(t,e)>-1},a,!0),p=[function(e,n,i){return!s&&(i||n!==I)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>o;o++)if(n=T.relative[e[o].type])p=[f(m(p),n)];else{if(n=T.filter[e[o].type].apply(null,e[o].matches),n[H]){for(i=++o;r>i&&!T.relative[e[i].type];i++);return v(o>1&&m(p),o>1&&d(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ct,"$1"),n,i>o&&w(e.slice(o,i)),r>i&&w(e=e.slice(i)),r>i&&d(e))}p.push(n)}return m(p)}function y(e,t){var i=0,s=t.length>0,a=e.length>0,o=function(r,o,l,c,p){var u,h,d,f=[],m=0,v="0",w=r&&[],y=null!=p,b=I,_=r||a&&T.find.TAG("*",p&&o.parentNode||o),k=q+=null==b?1:Math.random()||.1;for(y&&(I=o!==L&&o,C=i);null!=(u=_[v]);v++){if(a&&u){for(h=0;d=e[h++];)if(d(u,o,l)){c.push(u);break}y&&(q=k,C=++i)}s&&((u=!d&&u)&&m--,r&&w.push(u))}if(m+=v,s&&v!==m){for(h=0;d=t[h++];)d(w,f,o,l);if(r){if(m>0)for(;v--;)w[v]||f[v]||(f[v]=Q.call(c));f=g(f)}et.apply(c,f),y&&!r&&f.length>0&&m+t.length>1&&n.uniqueSort(c)}return y&&(q=k,I=b),w};return s?r(o):o}function b(e,t,i){for(var r=0,s=t.length;s>r;r++)n(e,t[r],i);return i}function _(e,t,n,i){var r,s,a,o,l,c=h(e);if(!i&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&x.getById&&9===t.nodeType&&N&&T.relative[s[1].type]){if(t=(T.find.ID(a.matches[0].replace(xt,Ct),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}for(r=vt.needsContext.test(e)?0:s.length;r--&&(a=s[r],!T.relative[o=a.type]);)if((l=T.find[o])&&(i=l(a.matches[0].replace(xt,Ct),dt.test(s[0].type)&&t.parentNode||t))){if(s.splice(r,1),e=i.length&&d(s),!e)return et.apply(n,i),n;break}}return S(e,c)(i,t,!N,n,dt.test(e)),n}var k,x,C,T,A,P,S,I,E,$,L,j,N,O,B,D,M,H="sizzle"+-new Date,z=e.document,q=0,F=0,U=i(),R=i(),V=i(),W=!1,Y=function(e,t){return e===t?(W=!0,0):0},G=typeof t,K=1<<31,X={}.hasOwnProperty,J=[],Q=J.pop,Z=J.push,et=J.push,tt=J.slice,nt=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",st="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=st.replace("w","w#"),ot="\\["+rt+"*("+st+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+rt+"*\\]",lt=":("+st+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ot.replace(3,8)+")*)|.*)\\)|)",ct=RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ut=RegExp("^"+rt+"*,"+rt+"*"),ht=RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),dt=RegExp(rt+"*[+~]"),ft=RegExp("="+rt+"*([^\\]'\"]*)"+rt+"*\\]","g"),mt=RegExp(lt),gt=RegExp("^"+at+"$"),vt={ID:RegExp("^#("+st+")"),CLASS:RegExp("^\\.("+st+")"),TAG:RegExp("^("+st.replace("w","w*")+")"),ATTR:RegExp("^"+ot),PSEUDO:RegExp("^"+lt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:RegExp("^(?:"+it+")$","i"),needsContext:RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},wt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,kt=/'|\\/g,xt=RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),Ct=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{et.apply(J=tt.call(z.childNodes),z.childNodes),J[z.childNodes.length].nodeType}catch(Tt){et={apply:J.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}P=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=n.support={},$=n.setDocument=function(e){var n=e?e.ownerDocument||e:z,i=n.defaultView;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,j=n.documentElement,N=!P(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){$()}),x.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=s(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=s(function(e){return j.appendChild(e).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),x.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==G&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=x.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==G?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},T.find.CLASS=x.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==G&&N?n.getElementsByClassName(e):t},B=[],O=[],(x.qsa=wt.test(n.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||O.push("\\["+rt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),s(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&O.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=wt.test(D=j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&s(function(e){x.disconnectedMatch=D.call(e,"div"),D.call(e,"[s!='']:x"),B.push("!=",lt)}),O=O.length&&RegExp(O.join("|")),B=B.length&&RegExp(B.join("|")),M=wt.test(j.contains)||j.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=j.compareDocumentPosition?function(e,t){if(e===t)return W=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||M(z,e)?-1:t===n||M(z,t)?1:E?nt.call(E,e)-nt.call(E,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,r=0,s=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return W=!0,0;if(!s||!a)return e===n?-1:t===n?1:s?-1:a?1:E?nt.call(E,e)-nt.call(E,t):0;if(s===a)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?o(l[r],c[r]):l[r]===z?-1:c[r]===z?1:0},n):L},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&$(e),t=t.replace(ft,"='$1']"),!(!x.matchesSelector||!N||B&&B.test(t)||O&&O.test(t)))try{var i=D.call(e,t);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return n(t,L,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==L&&$(e),M(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==L&&$(e);var i=T.attrHandle[n.toLowerCase()],r=i&&X.call(T.attrHandle,n.toLowerCase())?i(e,n,!N):t;return r===t?x.attributes||!N?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(W=!x.detectDuplicates,E=!x.sortStable&&e.slice(0),e.sort(Y),W){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},A=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=A(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=A(t);return n},T=n.selectors={cacheLength:50,createPseudo:r,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Ct),e[3]=(e[4]||e[5]||"").replace(xt,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&mt.test(i)&&(n=h(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var s=n.attr(r,e);return null==s?"!="===t:t?(s+="","="===t?s===i:"!="===t?s!==i:"^="===t?i&&0===s.indexOf(i):"*="===t?i&&s.indexOf(i)>-1:"$="===t?i&&s.slice(-i.length)===i:"~="===t?(" "+s+" ").indexOf(i)>-1:"|="===t?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,p,u,h,d,f,m=s!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),w=!l&&!o;if(g){if(s){for(;m;){for(u=t;u=u[m];)if(o?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&w){for(p=g[H]||(g[H]={}),c=p[e]||[],d=c[0]===q&&c[1],h=c[0]===q&&c[2],u=d&&g.childNodes[d];u=++d&&u&&u[m]||(h=d=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){p[e]=[q,d,h];break}}else if(w&&(c=(t[H]||(t[H]={}))[e])&&c[0]===q)h=c[1];else for(;(u=++d&&u&&u[m]||(h=d=0)||f.pop())&&((o?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(w&&((u[H]||(u[H]={}))[e]=[q,h]),u!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var i,s=T.pseudos[e]||T.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return s[H]?s(t):s.length>1?(i=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var i,r=s(e,t),a=r.length;a--;)i=nt.call(e,r[a]),e[i]=!(n[i]=r[a])}):function(e){return s(e,0,i)}):s}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(ct,"$1"));return i[H]?r(function(e,t,n,r){for(var s,a=i(e,null,r,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),!n.pop()}}),has:r(function(e){return function(t){return n(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||A(t)).indexOf(e)>-1}}),lang:r(function(e){return gt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(xt,Ct).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===j},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return _t.test(e.nodeName)},input:function(e){return bt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:p(function(){return[0]}),last:p(function(e,t){return[t-1]}),eq:p(function(e,t,n){return[0>n?n+t:n]
}),even:p(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:p(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:p(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:p(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}},T.pseudos.nth=T.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[k]=l(k);for(k in{submit:!0,reset:!0})T.pseudos[k]=c(k);u.prototype=T.filters=T.pseudos,T.setFilters=new u,S=n.compile=function(e,t){var n,i=[],r=[],s=V[e+" "];if(!s){for(t||(t=h(e)),n=t.length;n--;)s=w(t[n]),s[H]?i.push(s):r.push(s);s=V(e,y(r,i))}return s},x.sortStable=H.split("").sort(Y).join("")===H,x.detectDuplicates=W,$(),x.sortDetached=s(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,n,i){return i?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),x.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,n,i){return i||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||a(it,function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&r.specified?r.value:e[n]===!0?n.toLowerCase():null}),pt.find=n,pt.expr=n.selectors,pt.expr[":"]=pt.expr.pseudos,pt.unique=n.uniqueSort,pt.text=n.getText,pt.isXMLDoc=n.isXML,pt.contains=n.contains}(e);var Tt={};pt.Callbacks=function(e){e="string"==typeof e?Tt[e]||i(e):pt.extend({},e);var n,r,s,a,o,l,c=[],p=!e.once&&[],u=function(t){for(r=e.memory&&t,s=!0,o=l||0,l=0,a=c.length,n=!0;c&&a>o;o++)if(c[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,c&&(p?p.length&&u(p.shift()):r?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){pt.each(t,function(t,n){var r=pt.type(n);"function"===r?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=c.length:r&&(l=t,u(r))}return this},remove:function(){return c&&pt.each(arguments,function(e,t){for(var i;(i=pt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,o>=i&&o--)}),this},has:function(e){return e?pt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=p=r=t,this},disabled:function(){return!c},lock:function(){return p=t,r||h.disable(),this},locked:function(){return!p},fireWith:function(e,t){return!c||s&&!p||(t=t||[],t=[e,t.slice?t.slice():t],n?p.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},pt.extend({Deferred:function(e){var t=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pt.Deferred(function(n){pt.each(t,function(t,s){var a=s[0],o=pt.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&pt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pt.extend(e,i):i}},r={};return i.pipe=i.then,pt.each(t,function(e,s){var a=s[2],o=s[3];i[s[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,s=st.call(arguments),a=s.length,o=1!==a||e&&pt.isFunction(e.promise)?a:0,l=1===o?e:pt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?st.call(arguments):r,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(a>1)for(t=Array(a),n=Array(a),i=Array(a);a>r;r++)s[r]&&pt.isFunction(s[r].promise)?s[r].promise().done(c(r,i,s)).fail(l.reject).progress(c(r,n,t)):--o;return o||l.resolveWith(i,s),l.promise()}}),pt.support=function(t){var n,i,r,s,a,o,l,c,p,u=X.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("*")||[],i=u.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;s=X.createElement("select"),o=s.appendChild(X.createElement("option")),r=u.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==u.className,t.leadingWhitespace=3===u.firstChild.nodeType,t.tbody=!u.getElementsByTagName("tbody").length,t.htmlSerialize=!!u.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!r.value,t.optSelected=o.selected,t.enctype=!!X.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete u.test}catch(h){t.deleteExpando=!1}r=X.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=X.createDocumentFragment(),a.appendChild(r),t.appendChecked=r.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(p in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+p,"t"),t[p+"Bubbles"]=l in e||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip;for(p in pt(t))break;return t.ownLast="0"!==p,pt(function(){var n,i,r,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=X.getElementsByTagName("body")[0];a&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=u.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",pt.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===u.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,i=u.appendChild(X.createElement("div")),i.style.cssText=u.style.cssText=s,i.style.marginRight=i.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof u.style.zoom!==G&&(u.innerHTML="",u.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=u=r=i=null)}),n=s=a=o=i=r=null,t}({});var At=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Pt=/([A-Z])/g;pt.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?pt.cache[e[pt.expando]]:e[pt.expando],!!e&&!o(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return s(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return s(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&pt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),pt.fn.extend({data:function(e,n){var i,r,s=null,o=0,l=this[0];if(e===t){if(this.length&&(s=pt.data(l),1===l.nodeType&&!pt._data(l,"parsedAttrs"))){for(i=l.attributes;i.length>o;o++)r=i[o].name,0===r.indexOf("data-")&&(r=pt.camelCase(r.slice(5)),a(l,r,s[r]));pt._data(l,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){pt.data(this,e)}):arguments.length>1?this.each(function(){pt.data(this,e,n)}):l?a(l,e,pt.data(l,e)):null},removeData:function(e){return this.each(function(){pt.removeData(this,e)})}}),pt.extend({queue:function(e,n,i){var r;return e?(n=(n||"fx")+"queue",r=pt._data(e,n),i&&(!r||pt.isArray(i)?r=pt._data(e,n,pt.makeArray(i)):r.push(i)),r||[]):t},dequeue:function(e,t){t=t||"fx";var n=pt.queue(e,t),i=n.length,r=n.shift(),s=pt._queueHooks(e,t),a=function(){pt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pt._data(e,n)||pt._data(e,n,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(e,t+"queue"),pt._removeData(e,n)})})}}),pt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?pt.queue(this[0],e):n===t?this:this.each(function(){var t=pt.queue(this,e,n);pt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&pt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pt.dequeue(this,e)})},delay:function(e,t){return e=pt.fx?pt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,s=pt.Deferred(),a=this,o=this.length,l=function(){--r||s.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";o--;)i=pt._data(a[o],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),s.promise(n)}});var St,It,Et=/[\t\r\n\f]/g,$t=/\r/g,Lt=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i,Nt=/^(?:checked|selected)$/i,Ot=pt.support.getSetAttribute,Bt=pt.support.input;pt.fn.extend({attr:function(e,t){return pt.access(this,pt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pt.removeAttr(this,e)})},prop:function(e,t){return pt.access(this,pt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,s,a=0,o=this.length,l="string"==typeof e&&e;if(pt.isFunction(e))return this.each(function(t){pt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):" ")){for(s=0;r=t[s++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=pt.trim(i)}return this},removeClass:function(e){var t,n,i,r,s,a=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(pt.isFunction(e))return this.each(function(t){pt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):"")){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?pt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pt.isFunction(e)?this.each(function(n){pt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=pt(this),s=e.match(ht)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===G||"boolean"===n)&&(this.className&&pt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":pt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Et," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,s=this[0];return arguments.length?(r=pt.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(s=r?e.call(this,n,pt(this).val()):e,null==s?s="":"number"==typeof s?s+="":pt.isArray(s)&&(s=pt.map(s,function(e){return null==e?"":e+""})),i=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==t||(this.value=s))})):s?(i=pt.valHooks[s.type]||pt.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace($t,""):null==n?"":n)):void 0}}),pt.extend({valHooks:{option:{get:function(e){var t=pt.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,a=s?null:[],o=s?r+1:i.length,l=0>r?o:s?r:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==r||(pt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&pt.nodeName(n.parentNode,"optgroup"))){if(t=pt(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,s=pt.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=pt.inArray(pt(i).val(),s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}},attr:function(e,n,i){var r,s,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?typeof e.getAttribute===G?pt.prop(e,n,i):(1===a&&pt.isXMLDoc(e)||(n=n.toLowerCase(),r=pt.attrHooks[n]||(pt.expr.match.bool.test(n)?It:St)),i===t?r&&"get"in r&&null!==(s=r.get(e,n))?s:(s=pt.find.attr(e,n),null==s?t:s):null!==i?r&&"set"in r&&(s=r.set(e,i,n))!==t?s:(e.setAttribute(n,i+""),i):(pt.removeAttr(e,n),t)):void 0},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(ht);if(s&&1===e.nodeType)for(;n=s[r++];)i=pt.propFix[n]||n,pt.expr.match.bool.test(n)?Bt&&Ot||!Nt.test(n)?e[i]=!1:e[pt.camelCase("default-"+n)]=e[i]=!1:pt.attr(e,n,""),e.removeAttribute(Ot?n:i)},attrHooks:{type:{set:function(e,t){if(!pt.support.radioValue&&"radio"===t&&pt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,s,a,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(a=1!==o||!pt.isXMLDoc(e),a&&(n=pt.propFix[n]||n,s=pt.propHooks[n]),i!==t?s&&"set"in s&&(r=s.set(e,i,n))!==t?r:e[n]=i:s&&"get"in s&&null!==(r=s.get(e,n))?r:e[n]):void 0},propHooks:{tabIndex:{get:function(e){var t=pt.find.attr(e,"tabindex");return t?parseInt(t,10):Lt.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}}}),It={set:function(e,t,n){return t===!1?pt.removeAttr(e,n):Bt&&Ot||!Nt.test(n)?e.setAttribute(!Ot&&pt.propFix[n]||n,n):e[pt.camelCase("default-"+n)]=e[n]=!0,n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(e,n){var i=pt.expr.attrHandle[n]||pt.find.attr;pt.expr.attrHandle[n]=Bt&&Ot||!Nt.test(n)?function(e,n,r){var s=pt.expr.attrHandle[n],a=r?t:(pt.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return pt.expr.attrHandle[n]=s,a}:function(e,n,i){return i?t:e[pt.camelCase("default-"+n)]?n.toLowerCase():null}}),Bt&&Ot||(pt.attrHooks.value={set:function(e,n,i){return pt.nodeName(e,"input")?(e.defaultValue=n,t):St&&St.set(e,n,i)}}),Ot||(St={set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},pt.expr.attrHandle.id=pt.expr.attrHandle.name=pt.expr.attrHandle.coords=function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&""!==r.value?r.value:null},pt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:St.set},pt.attrHooks.contenteditable={set:function(e,t,n){St.set(e,""===t?!1:t,n)}},pt.each(["width","height"],function(e,n){pt.attrHooks[n]={set:function(e,i){return""===i?(e.setAttribute(n,"auto"),i):t}}})),pt.support.hrefNormalized||pt.each(["href","src"],function(e,t){pt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),pt.support.style||(pt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),pt.support.optSelected||(pt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.support.enctype||(pt.propFix.enctype="encoding"),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(e,n){return pt.isArray(n)?e.checked=pt.inArray(pt(e).val(),n)>=0:t}},pt.support.checkOn||(pt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Dt=/^(?:input|select|textarea)$/i,Mt=/^key/,Ht=/^(?:mouse|contextmenu)|click/,zt=/^(?:focusinfocus|focusoutblur)$/,qt=/^([^.]*)(?:\.(.+)|)$/;pt.event={global:{},add:function(e,n,i,r,s){var a,o,l,c,p,u,h,d,f,m,g,v=pt._data(e);if(v){for(i.handler&&(c=i,i=c.handler,s=c.selector),i.guid||(i.guid=pt.guid++),(o=v.events)||(o=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof pt===G||e&&pt.event.triggered===e.type?t:pt.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(ht)||[""],l=n.length;l--;)a=qt.exec(n[l])||[],f=g=a[1],m=(a[2]||"").split(".").sort(),f&&(p=pt.event.special[f]||{},f=(s?p.delegateType:p.bindType)||f,p=pt.event.special[f]||{},h=pt.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:s,needsContext:s&&pt.expr.match.needsContext.test(s),namespace:m.join(".")},c),(d=o[f])||(d=o[f]=[],d.delegateCount=0,p.setup&&p.setup.call(e,r,m,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,h):d.push(h),pt.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var s,a,o,l,c,p,u,h,d,f,m,g=pt.hasData(e)&&pt._data(e);if(g&&(p=g.events)){for(t=(t||"").match(ht)||[""],c=t.length;c--;)if(o=qt.exec(t[c])||[],d=m=o[1],f=(o[2]||"").split(".").sort(),d){for(u=pt.event.special[d]||{},d=(i?u.delegateType:u.bindType)||d,h=p[d]||[],o=o[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)a=h[s],!r&&m!==a.origType||n&&n.guid!==a.guid||o&&!o.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(s,1),a.selector&&h.delegateCount--,u.remove&&u.remove.call(e,a));l&&!h.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||pt.removeEvent(e,d,g.handle),delete p[d])}else for(d in p)pt.event.remove(e,d+t[c],n,i,!0);pt.isEmptyObject(p)&&(delete g.handle,pt._removeData(e,"events"))}},trigger:function(n,i,r,s){var a,o,l,c,p,u,h,d=[r||X],f=lt.call(n,"type")?n.type:n,m=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=u=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!zt.test(f+pt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),o=0>f.indexOf(":")&&"on"+f,n=n[pt.expando]?n:new pt.Event(f,"object"==typeof n&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:pt.makeArray(i,[n]),p=pt.event.special[f]||{},s||!p.trigger||p.trigger.apply(r,i)!==!1)){if(!s&&!p.noBubble&&!pt.isWindow(r)){for(c=p.delegateType||f,zt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)d.push(l),u=l;u===(r.ownerDocument||X)&&d.push(u.defaultView||u.parentWindow||e)}for(h=0;(l=d[h++])&&!n.isPropagationStopped();)n.type=h>1?c:p.bindType||f,a=(pt._data(l,"events")||{})[n.type]&&pt._data(l,"handle"),a&&a.apply(l,i),a=o&&l[o],a&&pt.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!s&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(d.pop(),i)===!1)&&pt.acceptData(r)&&o&&r[f]&&!pt.isWindow(r)){u=r[o],u&&(r[o]=null),pt.event.triggered=f;try{r[f]()}catch(g){}pt.event.triggered=t,u&&(r[o]=u)}return n.result}},dispatch:function(e){e=pt.event.fix(e);var n,i,r,s,a,o=[],l=st.call(arguments),c=(pt._data(this,"events")||{})[e.type]||[],p=pt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!p.preDispatch||p.preDispatch.call(this,e)!==!1){for(o=pt.event.handlers.call(this,e,c),n=0;(s=o[n++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,a=0;(r=s.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((pt.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,s,a,o=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(s=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",s[i]===t&&(s[i]=r.needsContext?pt(i,this).index(c)>=0:pt.find(i,this,null,[c]).length),s[i]&&s.push(r);s.length&&o.push({elem:c,handlers:s})}return n.length>l&&o.push({elem:this,handlers:n.slice(l)}),o},fix:function(e){if(e[pt.expando])return e;var t,n,i,r=e.type,s=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ht.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new pt.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=s.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,s,a=n.button,o=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,s=r.documentElement,i=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?n.toElement:o),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return pt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=pt.extend(new pt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?pt.event.trigger(r,null,t):pt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},pt.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===G&&(e[i]=null),e.detachEvent(i,n))},pt.Event=function(e,n){return this instanceof pt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,n&&pt.extend(this,n),this.timeStamp=e&&e.timeStamp||pt.now(),this[pt.expando]=!0,t):new pt.Event(e,n)},pt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){pt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!pt.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),pt.support.submitBubbles||(pt.event.special.submit={setup:function(){return pt.nodeName(this,"form")?!1:(pt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=pt.nodeName(n,"input")||pt.nodeName(n,"button")?n.form:t;i&&!pt._data(i,"submitBubbles")&&(pt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),pt._data(i,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&pt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return pt.nodeName(this,"form")?!1:(pt.event.remove(this,"._submit"),t)}}),pt.support.changeBubbles||(pt.event.special.change={setup:function(){return Dt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(pt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),pt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),pt.event.simulate("change",this,e,!0)})),!1):(pt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Dt.test(t.nodeName)&&!pt._data(t,"changeBubbles")&&(pt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pt.event.simulate("change",this.parentNode,e,!0)}),pt._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return pt.event.remove(this,"._change"),!Dt.test(this.nodeName)}}),pt.support.focusinBubbles||pt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){pt.event.simulate(t,e.target,pt.event.fix(e),!0)};pt.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,i,!0)},teardown:function(){0===--n&&X.removeEventListener(e,i,!0)}}}),pt.fn.extend({on:function(e,n,i,r,s){var a,o;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===s&&(o=r,r=function(e){return pt().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=pt.guid++)),this.each(function(){pt.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){pt.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){pt.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?pt.event.trigger(e,n,i,!0):t}});var Ft=/^.[^:#\[\.,]*$/,Ut=/^(?:parents|prev(?:Until|All))/,Rt=pt.expr.match.needsContext,Vt={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(pt(e).filter(function(){for(t=0;r>t;t++)if(pt.contains(i[t],this))return!0}));for(t=0;r>t;t++)pt.find(e,i[t],n);return n=this.pushStack(r>1?pt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=pt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(pt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&Rt.test(e)?pt(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,s=[],a=Rt.test(e)||"string"!=typeof e?pt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&pt.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?pt.unique(s):s)},index:function(e){return e?"string"==typeof e?pt.inArray(this[0],pt(e)):pt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?pt(e,t):pt.makeArray(e&&e.nodeType?[e]:e),i=pt.merge(this.get(),n);return this.pushStack(pt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return pt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return pt.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return pt.dir(e,"nextSibling")},prevAll:function(e){return pt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return pt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return pt.dir(e,"previousSibling",n)},siblings:function(e){return pt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return pt.sibling(e.firstChild)},contents:function(e){return pt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pt.merge([],e.childNodes)}},function(e,t){pt.fn[e]=function(n,i){var r=pt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pt.filter(i,r)),this.length>1&&(Vt[e]||(r=pt.unique(r)),Ut.test(e)&&(r=r.reverse())),this.pushStack(r)}}),pt.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?pt.find.matchesSelector(i,e)?[i]:[]:pt.find.matches(e,pt.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],s=e[n];s&&9!==s.nodeType&&(i===t||1!==s.nodeType||!pt(s).is(i));)1===s.nodeType&&r.push(s),s=s[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Yt=/ jQuery\d+="(?:null|\d+)"/g,Gt=RegExp("<(?:"+Wt+")[\\s/>]","i"),Kt=/^\s+/,Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Jt=/<([\w:]+)/,Qt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,sn=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,on={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:pt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=d(X),cn=ln.appendChild(X.createElement("div"));on.optgroup=on.option,on.tbody=on.tfoot=on.colgroup=on.caption=on.thead,on.th=on.td,pt.fn.extend({text:function(e){return pt.access(this,function(e){return e===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?pt.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||pt.cleanData(b(n)),n.parentNode&&(t&&pt.contains(n.ownerDocument,n)&&v(b(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pt.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return pt.clone(this,e,t)
})},html:function(e){return pt.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Yt,""):t;if(!("string"!=typeof e||en.test(e)||!pt.support.htmlSerialize&&Gt.test(e)||!pt.support.leadingWhitespace&&Kt.test(e)||on[(Jt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Xt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(pt.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=pt.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),pt(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,r,s,a,o,l,c=0,p=this.length,u=this,h=p-1,d=e[0],f=pt.isFunction(d);if(f||!(1>=p||"string"!=typeof d||pt.support.checkClone)&&nn.test(d))return this.each(function(i){var r=u.eq(i);f&&(e[0]=d.call(this,i,r.html())),r.domManip(e,t,n)});if(p&&(l=pt.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=pt.map(b(l,"script"),m),s=a.length;p>c;c++)r=l,c!==h&&(r=pt.clone(r,!0,!0),s&&pt.merge(a,b(r,"script"))),t.call(this[c],r,c);if(s)for(o=a[a.length-1].ownerDocument,pt.map(a,g),c=0;s>c;c++)r=a[c],rn.test(r.type||"")&&!pt._data(r,"globalEval")&&pt.contains(o,r)&&(r.src?pt._evalUrl(r.src):pt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(an,"")));l=i=null}return this}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pt.fn[e]=function(e){for(var n,i=0,r=[],s=pt(e),a=s.length-1;a>=i;i++)n=i===a?this:this.clone(!0),pt(s[i])[t](n),rt.apply(r,n.get());return this.pushStack(r)}}),pt.extend({clone:function(e,t,n){var i,r,s,a,o,l=pt.contains(e.ownerDocument,e);if(pt.support.html5Clone||pt.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(s=cn.firstChild)),!(pt.support.noCloneEvent&&pt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pt.isXMLDoc(e)))for(i=b(s),o=b(e),a=0;null!=(r=o[a]);++a)i[a]&&y(r,i[a]);if(t)if(n)for(o=o||b(e),i=i||b(s),a=0;null!=(r=o[a]);a++)w(r,i[a]);else w(e,s);return i=b(s,"script"),i.length>0&&v(i,!l&&b(e,"script")),i=o=r=null,s},buildFragment:function(e,t,n,i){for(var r,s,a,o,l,c,p,u=e.length,h=d(t),f=[],m=0;u>m;m++)if(s=e[m],s||0===s)if("object"===pt.type(s))pt.merge(f,s.nodeType?[s]:s);else if(Zt.test(s)){for(o=o||h.appendChild(t.createElement("div")),l=(Jt.exec(s)||["",""])[1].toLowerCase(),p=on[l]||on._default,o.innerHTML=p[1]+s.replace(Xt,"<$1></$2>")+p[2],r=p[0];r--;)o=o.lastChild;if(!pt.support.leadingWhitespace&&Kt.test(s)&&f.push(t.createTextNode(Kt.exec(s)[0])),!pt.support.tbody)for(s="table"!==l||Qt.test(s)?"<table>"!==p[1]||Qt.test(s)?0:o:o.firstChild,r=s&&s.childNodes.length;r--;)pt.nodeName(c=s.childNodes[r],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(pt.merge(f,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=h.lastChild}else f.push(t.createTextNode(s));for(o&&h.removeChild(o),pt.support.appendChecked||pt.grep(b(f,"input"),_),m=0;s=f[m++];)if((!i||-1===pt.inArray(s,i))&&(a=pt.contains(s.ownerDocument,s),o=b(h.appendChild(s),"script"),a&&v(o),n))for(r=0;s=o[r++];)rn.test(s.type||"")&&n.push(s);return o=null,h},cleanData:function(e,t){for(var n,i,r,s,a=0,o=pt.expando,l=pt.cache,c=pt.support.deleteExpando,p=pt.event.special;null!=(n=e[a]);a++)if((t||pt.acceptData(n))&&(r=n[o],s=r&&l[r])){if(s.events)for(i in s.events)p[i]?pt.event.remove(n,i):pt.removeEvent(n,i,s.handle);l[r]&&(delete l[r],c?delete n[o]:typeof n.removeAttribute!==G?n.removeAttribute(o):n[o]=null,tt.push(r))}},_evalUrl:function(e){return pt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),pt.fn.extend({wrapAll:function(e){if(pt.isFunction(e))return this.each(function(t){pt(this).wrapAll(e.call(this,t))});if(this[0]){var t=pt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pt.isFunction(e)?this.each(function(t){pt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pt.isFunction(e);return this.each(function(n){pt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}});var pn,un,hn,dn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,wn=RegExp("^("+ut+")(.*)$","i"),yn=RegExp("^("+ut+")(?!px)[a-z%]+$","i"),bn=RegExp("^([+-])=("+ut+")","i"),_n={BODY:"block"},kn={position:"absolute",visibility:"hidden",display:"block"},xn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],Tn=["Webkit","O","Moz","ms"];pt.fn.extend({css:function(e,n){return pt.access(this,function(e,n,i){var r,s,a={},o=0;if(pt.isArray(n)){for(s=un(e),r=n.length;r>o;o++)a[n[o]]=pt.css(e,n[o],!1,s);return a}return i!==t?pt.style(e,n,i):pt.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){x(this)?pt(this).show():pt(this).hide()})}}),pt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":pt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,o,l=pt.camelCase(n),c=e.style;if(n=pt.cssProps[l]||(pt.cssProps[l]=k(c,l)),o=pt.cssHooks[n]||pt.cssHooks[l],i===t)return o&&"get"in o&&(s=o.get(e,!1,r))!==t?s:c[n];if(a=typeof i,"string"===a&&(s=bn.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(pt.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||pt.cssNumber[l]||(i+="px"),pt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),o&&"set"in o&&(i=o.set(e,i,r))===t)))try{c[n]=i}catch(p){}}},css:function(e,n,i,r){var s,a,o,l=pt.camelCase(n);return n=pt.cssProps[l]||(pt.cssProps[l]=k(e.style,l)),o=pt.cssHooks[n]||pt.cssHooks[l],o&&"get"in o&&(a=o.get(e,!0,i)),a===t&&(a=hn(e,n,r)),"normal"===a&&n in xn&&(a=xn[n]),""===i||i?(s=parseFloat(a),i===!0||pt.isNumeric(s)?s||0:a):a}}),e.getComputedStyle?(un=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var r,s,a,o=i||un(e),l=o?o.getPropertyValue(n)||o[n]:t,c=e.style;return o&&(""!==l||pt.contains(e.ownerDocument,e)||(l=pt.style(e,n)),yn.test(l)&&vn.test(n)&&(r=c.width,s=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=o.width,c.width=r,c.minWidth=s,c.maxWidth=a)),l}):X.documentElement.currentStyle&&(un=function(e){return e.currentStyle},hn=function(e,n,i){var r,s,a,o=i||un(e),l=o?o[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),yn.test(l)&&!mn.test(n)&&(r=c.left,s=e.runtimeStyle,a=s&&s.left,a&&(s.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(s.left=a)),""===l?"auto":l}),pt.each(["height","width"],function(e,n){pt.cssHooks[n]={get:function(e,i,r){return i?0===e.offsetWidth&&gn.test(pt.css(e,"display"))?pt.swap(e,kn,function(){return P(e,n,r)}):P(e,n,r):t},set:function(e,t,i){var r=i&&un(e);return T(e,t,i?A(e,n,i,pt.support.boxSizing&&"border-box"===pt.css(e,"boxSizing",!1,r),r):0)}}}),pt.support.opacity||(pt.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=pt.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===pt.trim(s.replace(dn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=dn.test(s)?s.replace(dn,r):s+" "+r)}}),pt(function(){pt.support.reliableMarginRight||(pt.cssHooks.marginRight={get:function(e,n){return n?pt.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):t}}),!pt.support.pixelPosition&&pt.fn.position&&pt.each(["top","left"],function(e,n){pt.cssHooks[n]={get:function(e,i){return i?(i=hn(e,n),yn.test(i)?pt(e).position()[n]+"px":i):t}}})}),pt.expr&&pt.expr.filters&&(pt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!pt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||pt.css(e,"display"))},pt.expr.filters.visible=function(e){return!pt.expr.filters.hidden(e)}),pt.each({margin:"",padding:"",border:"Width"},function(e,t){pt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Cn[i]+t]=s[i]||s[i-2]||s[0];return r}},vn.test(e)||(pt.cssHooks[e+t].set=T)});var An=/%20/g,Pn=/\[\]$/,Sn=/\r?\n/g,In=/^(?:submit|button|image|reset|file)$/i,En=/^(?:input|select|textarea|keygen)/i;pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pt.prop(this,"elements");return e?pt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pt(this).is(":disabled")&&En.test(this.nodeName)&&!In.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),pt.param=function(e,n){var i,r=[],s=function(e,t){t=pt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(e)||e.jquery&&!pt.isPlainObject(e))pt.each(e,function(){s(this.name,this.value)});else for(i in e)E(i,e[i],n,s);return r.join("&").replace(An,"+")},pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var $n,Ln,jn=pt.now(),Nn=/\?/,On=/#.*$/,Bn=/([?&])_=[^&]*/,Dn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,zn=/^\/\//,qn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fn=pt.fn.load,Un={},Rn={},Vn="*/".concat("*");try{Ln=K.href}catch(Wn){Ln=X.createElement("a"),Ln.href="",Ln=Ln.href}$n=qn.exec(Ln.toLowerCase())||[],pt.fn.load=function(e,n,i){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);var r,s,a,o=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),pt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),o.length>0&&pt.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){s=arguments,o.html(r?pt("<div>").append(pt.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){o.each(i,s||[e.responseText,t,e])}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pt.fn[t]=function(e){return this.on(t,e)}}),pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ln,type:"GET",isLocal:Mn.test($n[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,pt.ajaxSettings),t):j(pt.ajaxSettings,e)},ajaxPrefilter:$(Un),ajaxTransport:$(Rn),ajax:function(e,n){function i(e,n,i,r){var s,u,w,y,_,x=n;2!==b&&(b=2,l&&clearTimeout(l),p=t,o=r||"",k.readyState=e>0?4:0,s=e>=200&&300>e||304===e,i&&(y=N(h,k,i)),y=O(h,y,k,s),s?(h.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(pt.lastModified[a]=_),_=k.getResponseHeader("etag"),_&&(pt.etag[a]=_)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=y.state,u=y.data,w=y.error,s=!w)):(w=x,(e||!x)&&(x="error",0>e&&(e=0))),k.status=e,k.statusText=(n||x)+"",s?m.resolveWith(d,[u,x,k]):m.rejectWith(d,[k,x,w]),k.statusCode(v),v=t,c&&f.trigger(s?"ajaxSuccess":"ajaxError",[k,h,s?u:w]),g.fireWith(d,[k,x]),c&&(f.trigger("ajaxComplete",[k,h]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,s,a,o,l,c,p,u,h=pt.ajaxSetup({},n),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?pt(d):pt.event,m=pt.Deferred(),g=pt.Callbacks("once memory"),v=h.statusCode||{},w={},y={},b=0,_="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Dn.exec(o);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,w[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||_;return p&&p.abort(t),i(0,t),this}};if(m.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,h.url=((e||h.url||Ln)+"").replace(On,"").replace(zn,$n[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=pt.trim(h.dataType||"*").toLowerCase().match(ht)||[""],null==h.crossDomain&&(r=qn.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===$n[1]&&r[2]===$n[2]&&(r[3]||("http:"===r[1]?"80":"443"))===($n[3]||("http:"===$n[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pt.param(h.data,h.traditional)),L(Un,h,n,k),2===b)return k;c=h.global,c&&0===pt.active++&&pt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Hn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Nn.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Bn.test(a)?a.replace(Bn,"$1_="+jn++):a+(Nn.test(a)?"&":"?")+"_="+jn++)),h.ifModified&&(pt.lastModified[a]&&k.setRequestHeader("If-Modified-Since",pt.lastModified[a]),pt.etag[a]&&k.setRequestHeader("If-None-Match",pt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vn+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)k.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(d,k,h)===!1||2===b))return k.abort();_="abort";for(s in{success:1,error:1,complete:1})k[s](h[s]);if(p=L(Rn,h,n,k)){k.readyState=1,c&&f.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},h.timeout));try{b=1,p.send(w,i)}catch(x){if(!(2>b))throw x;i(-1,x)}}else i(-1,"No Transport");return k},getJSON:function(e,t,n){return pt.get(e,t,n,"json")},getScript:function(e,n){return pt.get(e,t,n,"script")}}),pt.each(["get","post"],function(e,n){pt[n]=function(e,i,r,s){return pt.isFunction(i)&&(s=s||r,r=i,i=t),pt.ajax({url:e,type:n,dataType:s,data:i,success:r})}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return pt.globalEval(e),e}}}),pt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=X.head||pt("head")[0]||X.documentElement;return{send:function(t,r){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Yn=[],Gn=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yn.pop()||pt.expando+"_"+jn++;return this[e]=!0,e}}),pt.ajaxPrefilter("json jsonp",function(n,i,r){var s,a,o,l=n.jsonp!==!1&&(Gn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=pt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Gn,"$1"+s):n.jsonp!==!1&&(n.url+=(Nn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return o||pt.error(s+" was not called"),o[0]},n.dataTypes[0]="json",a=e[s],e[s]=function(){o=arguments},r.always(function(){e[s]=a,n[s]&&(n.jsonpCallback=i.jsonpCallback,Yn.push(s)),o&&pt.isFunction(a)&&a(o[0]),o=a=t}),"script"):t});var Kn,Xn,Jn=0,Qn=e.ActiveXObject&&function(){var e;for(e in Kn)Kn[e](t,!0)};pt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&B()||D()}:B,Xn=pt.ajaxSettings.xhr(),pt.support.cors=!!Xn&&"withCredentials"in Xn,Xn=pt.support.ajax=!!Xn,Xn&&pt.ajaxTransport(function(n){if(!n.crossDomain||pt.support.cors){var i;return{send:function(r,s){var a,o,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(o in n.xhrFields)l[o]=n.xhrFields[o];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)l.setRequestHeader(o,r[o])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var o,c,p,u;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=pt.noop,Qn&&delete Kn[a]),r)4!==l.readyState&&l.abort();else{u={},o=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{p=l.statusText}catch(h){p=""}o||!n.isLocal||n.crossDomain?1223===o&&(o=204):o=u.text?200:404}}catch(d){r||s(-1,d)}u&&s(o,p,u,c)},n.async?4===l.readyState?setTimeout(i):(a=++Jn,Qn&&(Kn||(Kn={},pt(e).unload(Qn)),Kn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[F],si={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=ni.exec(t),s=r&&r[3]||(pt.cssNumber[e]?"":"px"),a=(pt.cssNumber[e]||"px"!==s&&+i)&&ni.exec(pt.css(n.elem,e)),o=1,l=20;if(a&&a[3]!==s){s=s||a[3],r=r||[],a=+i||1;do o=o||".5",a/=o,pt.style(n.elem,e,a+s);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=s,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};pt.Animation=pt.extend(z,{tweener:function(e,t){pt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],si[n]=si[n]||[],si[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),pt.Tween=U,U.prototype={constructor:U,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(pt.cssNumber[n]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(e){var t,n=U.propHooks[this.prop];return this.pos=t=this.options.duration?pt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=pt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){pt.fx.step[e.prop]?pt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[pt.cssProps[e.prop]]||pt.cssHooks[e.prop])?pt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pt.each(["toggle","show","hide"],function(e,t){var n=pt.fn[t];pt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,i,r)}}),pt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=pt.isEmptyObject(e),s=pt.speed(t,n,i),a=function(){var t=z(this,pt.extend({},e),s);(r||pt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=pt.timers,a=pt._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(i),t=!1,s.splice(n,1));(t||!i)&&pt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=pt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=pt.timers,a=i?i.length:0;for(n.finish=!0,pt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),pt.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),pt.speed=function(e,t,n){var i=e&&"object"==typeof e?pt.extend({},e):{complete:n||!n&&t||pt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pt.isFunction(t)&&t};return i.duration=pt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pt.fx.speeds?pt.fx.speeds[i.duration]:pt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},pt.timers=[],pt.fx=U.prototype.init,pt.fx.tick=function(){var e,n=pt.timers,i=0;for(Zn=pt.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||pt.fx.stop(),Zn=t},pt.fx.timer=function(e){e()&&pt.timers.push(e)&&pt.fx.start()},pt.fx.interval=13,pt.fx.start=function(){ei||(ei=setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){clearInterval(ei),ei=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fx.step={},pt.expr&&pt.expr.filters&&(pt.expr.filters.animated=function(e){return pt.grep(pt.timers,function(t){return e===t.elem}).length}),pt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){pt.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},s=this[0],a=s&&s.ownerDocument;return a?(n=a.documentElement,pt.contains(n,s)?(typeof s.getBoundingClientRect!==G&&(r=s.getBoundingClientRect()),i=V(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r):void 0},pt.offset={setOffset:function(e,t,n){var i=pt.css(e,"position");"static"===i&&(e.style.position="relative");var r,s,a=pt(e),o=a.offset(),l=pt.css(e,"top"),c=pt.css(e,"left"),p=("absolute"===i||"fixed"===i)&&pt.inArray("auto",[l,c])>-1,u={},h={};p?(h=a.position(),r=h.top,s=h.left):(r=parseFloat(l)||0,s=parseFloat(c)||0),pt.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+r),null!=t.left&&(u.left=t.left-o.left+s),"using"in t?t.using.call(e,u):a.css(u)}},pt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===pt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pt.nodeName(e[0],"html")||(n=e.offset()),n.top+=pt.css(e[0],"borderTopWidth",!0),n.left+=pt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-pt.css(i,"marginTop",!0),left:t.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J;e&&!pt.nodeName(e,"html")&&"static"===pt.css(e,"position");)e=e.offsetParent;return e||J})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);pt.fn[e]=function(r){return pt.access(this,function(e,r,s){var a=V(e);return s===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(i?pt(a).scrollLeft():s,i?s:pt(a).scrollTop()):e[r]=s,t)},e,r,arguments.length,null)}}),pt.each({Height:"height",Width:"width"},function(e,n){pt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){pt.fn[r]=function(r,s){var a=arguments.length&&(i||"boolean"!=typeof r),o=i||(r===!0||s===!0?"margin":"border");return pt.access(this,function(n,i,r){var s;return pt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):r===t?pt.css(n,i,o):pt.style(n,i,r,o)},n,a?r:t,a,null)}})}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=pt:(e.jQuery=e.$=pt,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt}))}(window),/*!
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
function(e,t,n){function i(n){var i=t.console;s[n]||(s[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function r(t,n,r,s){if(Object.defineProperty)try{return Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i(s),r},set:function(e){i(s),r=e}}),void 0}catch(a){}e._definePropertyBroken=!0,t[n]=r}var s={};e.migrateWarnings=[],e.migrateMute=!0,!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){s={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,o=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},p=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,d=/^(?:checked|selected)$/i;r(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,s,l){var c=r.toLowerCase(),f=t&&t.nodeType;return l&&(o.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(f)&&(a?r in a:e.isFunction(e.fn[r])))?e(t)[r](s):("type"===r&&s!==n&&p.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,i){var r,s=e.prop(t,i);return s===!0||"boolean"!=typeof s&&(r=t.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():n},set:function(t,n,i){var r;return n===!1?e.removeAttr(t,i):(r=e.propFix[i]||i,r in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},d.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),o.call(e,t,r,s))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?c.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,void 0)}};var f,m,g=e.fn.init,v=e.parseJSON,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,r){var s;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(s=w.exec(e.trim(t)))&&s[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),s[3]&&i("$(html) HTML text after last tag is ignored"),"#"===s[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(s[2],n,!0),n,r):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f=e.uaMatch(navigator.userAgent),m={},f.browser&&(m[f.browser]=!0,m.version=f.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),r(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,i,r,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var y=e.fn.data;e.fn.data=function(t){var r,s,a=this[0];return!a||"events"!==t||1!==arguments.length||(r=e.data(a,t),s=e._data(a,t),r!==n&&r!==s||s===n)?y.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),s)};var b=/\/(java|ecma)script/i,_=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),_.apply(this,arguments)},e.clean||(e.clean=function(t,n,r,s){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i("jQuery.clean() is deprecated");var a,o,l,c,p=[];if(e.merge(p,e.buildFragment(t,n).childNodes),r)for(l=function(e){return!e.type||b.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e):void 0},a=0;null!=(o=p[a]);a++)e.nodeName(o,"script")&&l(o)||(r.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(c=e.grep(e.merge([],o.getElementsByTagName("script")),l),p.splice.apply(p,[a+1,0].concat(c)),a+=c.length));return p});var k=e.event.add,x=e.event.remove,C=e.event.trigger,T=e.fn.toggle,A=e.fn.live,P=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",I=new RegExp("\\b(?:"+S+")\\b"),E=/(?:^|\s)hover(\.\S+|)\b/,$=function(t){return"string"!=typeof t||e.event.special.hover?t:(E.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(E,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,s){e!==document&&I.test(t)&&i("AJAX events should be attached to document: "+t),k.call(this,e,$(t||""),n,r,s)},e.event.remove=function(e,t,n,i,r){x.call(this,e,$(t)||"",n,i,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return T.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,s=t.guid||e.guid++,a=0,o=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(o.guid=s;a<r.length;)r[a++].guid=s;return this.click(o)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),P?P.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||I.test(e)||i("Global events are undocumented and deprecated"),C.call(this,e,t,n||document,r)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),window.Modernizr=function(e,t,n){function i(e){w.cssText=e}function r(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var i in e){var r=e[i];if(!s(r,"-")&&w[r]!==n)return"pfx"==t?r:!0}return!1}function o(e,t,i){for(var s in e){var a=t[e[s]];if(a!==n)return i===!1?e[s]:r(a,"function")?a.bind(i||t):a}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+x.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?a(s,t):(s=(e+" "+C.join(i+" ")+i).split(" "),o(s,t,n))}function c(){d.input=function(n){for(var i=0,r=n.length;r>i;i++)P[n[i]]=n[i]in y;return P.list&&(P.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),P}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),d.inputtypes=function(e){for(var i,r,s,a=0,o=e.length;o>a;a++)y.setAttribute("type",r=e[a]),i="text"!==y.type,i&&(y.value=b,y.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&y.style.WebkitAppearance!==n?(m.appendChild(y),s=t.defaultView,i=s.getComputedStyle&&"textfield"!==s.getComputedStyle(y,null).WebkitAppearance&&0!==y.offsetHeight,m.removeChild(y)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?y.checkValidity&&y.checkValidity()===!1:y.value!=b)),A[e[a]]=!!i;return A}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var p,u,h="2.6.2",d={},f=!0,m=t.documentElement,g="modernizr",v=t.createElement(g),w=v.style,y=t.createElement("input"),b=":)",_=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),k="Webkit Moz O ms",x=k.split(" "),C=k.toLowerCase().split(" "),T={},A={},P={},S=[],I=S.slice,E=function(e,n,i,r){var s,a,o,l,c=t.createElement("div"),p=t.body,u=p||t.createElement("body");if(parseInt(i,10))for(;i--;)o=t.createElement("div"),o.id=r?r[i]:g+(i+1),c.appendChild(o);return s=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),c.id=g,(p?c:u).innerHTML+=s,u.appendChild(c),p||(u.style.background="",u.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(u)),a=n(c,e),p?c.parentNode.removeChild(c):(u.parentNode.removeChild(u),m.style.overflow=l),!!a},$=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var i;return E("@media "+t+" { #"+g+" { position: absolute; } }",function(t){i="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),i},L=function(){function e(e,s){s=s||t.createElement(i[e]||"div"),e="on"+e;var a=e in s;return a||(s.setAttribute||(s=t.createElement("div")),s.setAttribute&&s.removeAttribute&&(s.setAttribute(e,""),a=r(s[e],"function"),r(s[e],"undefined")||(s[e]=n),s.removeAttribute(e))),s=null,a}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),j={}.hasOwnProperty;u=r(j,"undefined")||r(j.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return j.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=I.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var s=new r,a=t.apply(s,n.concat(I.call(arguments)));return Object(a)===a?a:s}return t.apply(e,n.concat(I.call(arguments)))};return i}),T.flexbox=function(){return l("flexWrap")},T.flexboxlegacy=function(){return l("boxDirection")},T.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},T.canvastext=function(){return!!d.canvas&&!!r(t.createElement("canvas").getContext("2d").fillText,"function")},T.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:E(["@media (",_.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},T.postmessage=function(){return!!e.postMessage},T.hashchange=function(){return L("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},T.history=function(){return!!e.history&&!!history.pushState},T.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},T.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(w.backgroundColor,"rgba")},T.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),s(w.backgroundColor,"rgba")||s(w.backgroundColor,"hsla")},T.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(w.background)},T.backgroundsize=function(){return l("backgroundSize")},T.borderimage=function(){return l("borderImage")},T.cssanimations=function(){return l("animationName")},T.csscolumns=function(){return l("columnCount")},T.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+_.join(n+e)).slice(0,-e.length)),s(w.backgroundImage,"gradient")},T.cssreflections=function(){return l("boxReflect")},T.csstransforms=function(){return!!l("transform")},T.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in m.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},T.csstransitions=function(){return l("transition")},T.fontface=function(){var e;return E('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=t.getElementById("smodernizr"),s=r.sheet||r.styleSheet,a=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(i.split(" ")[0])}),e},T.generatedcontent=function(){var e;return E(["#",g,"{font:0/0 a}#",g,':after{content:"',b,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},T.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},T.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},T.localstorage=function(){try{return localStorage.setItem(g,g),localStorage.removeItem(g),!0}catch(e){return!1}},T.sessionstorage=function(){try{return sessionStorage.setItem(g,g),sessionStorage.removeItem(g),!0}catch(e){return!1}},T.webworkers=function(){return!!e.Worker},T.applicationcache=function(){return!!e.applicationCache};for(var N in T)u(T,N)&&(p=N.toLowerCase(),d[p]=T[N](),S.push((d[p]?"":"no-")+p));return d.input||c(),d.addTest=function(e,t){if("object"==typeof e)for(var i in e)u(e,i)&&d.addTest(i,e[i]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(m.className+=" "+(t?"":"no-")+e),d[e]=t}return d},i(""),v=y=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=g[e[f]];return t||(t={},m++,e[f]=m,g[m]=t),t}function s(e,n,i){if(n||(n=t),p)return n.createElement(e);i||(i=r(n));var s;return s=i.cache[e]?i.cache[e].cloneNode():d.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),s.canHaveChildren&&!h.test(e)?i.frag.appendChild(s):s}function a(e,n){if(e||(e=t),p)return e.createDocumentFragment();n=n||r(e);for(var s=n.frag.cloneNode(),a=0,o=i(),l=o.length;l>a;a++)s.createElement(o[a]);return s}function o(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function l(e){e||(e=t);var i=r(e);return v.shivCSS&&!c&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),p||o(e,i),e}var c,p,u=e.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,p=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,p=!0}}();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:u.shivCSS!==!1,supportsUnknownElements:p,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:s,createDocumentFragment:a};e.html5=v,l(t)}(this,t),d._version=h,d._prefixes=_,d._domPrefixes=C,d._cssomPrefixes=x,d.mq=$,d.hasEvent=L,d.testProp=function(e){return a([e])},d.testAllProps=l,d.testStyles=E,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+S.join(" "):""),d}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==g.call(e)}function r(e){return"string"==typeof e}function s(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function o(){var e=v.shift();w=1,e?e.t?f(function(){("c"==e.t?h.injectCss:h.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),o()):w=0}function l(e,n,i,r,s,l,c){function p(t){if(!d&&a(u.readyState)&&(y.r=d=1,!w&&o(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&f(function(){_.removeChild(u)},50);for(var i in A[n])A[n].hasOwnProperty(i)&&A[n][i].onload()}}var c=c||h.errorTimeout,u=t.createElement(e),d=0,g=0,y={t:i,s:n,e:s,a:l,x:c};1===A[n]&&(g=1,A[n]=[]),"object"==e?u.data=n:(u.src=n,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){p.call(this,g)},v.splice(r,0,y),"img"!=e&&(g||2===A[n]?(_.insertBefore(u,b?null:m),f(p,c)):A[n].push(u))}function c(e,t,n,i,s){return w=0,t=t||"j",r(e)?l("c"==t?x:k,e,t,this.i++,n,i,s):(v.splice(this.i++,0,e),1==v.length&&o()),this}function p(){var e=h;return e.loader={load:c,i:0},e}var u,h,d=t.documentElement,f=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],w=0,y="MozAppearance"in d.style,b=y&&!!t.createRange().compareNode,_=b?d:m.parentNode,d=e.opera&&"[object Opera]"==g.call(e.opera),d=!!t.attachEvent&&!d,k=y?"object":d?"script":"img",x=d?"script":k,C=Array.isArray||function(e){return"[object Array]"==g.call(e)},T=[],A={},P={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};h=function(e){function t(e){var t,n,i,e=e.split("!"),r=T.length,s=e.pop(),a=e.length,s={url:s,origUrl:s,prefixes:e};for(n=0;a>n;n++)i=e[n].split("="),(t=P[i.shift()])&&(s=t(s,i));for(n=0;r>n;n++)s=T[n](s);return s}function a(e,r,s,a,o){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[e]||r[a]||r[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,r,s,a,o):(A[l.url]?l.noexec=!0:A[l.url]=1,s.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(c))&&s.load(function(){p(),r&&r(l.origUrl,o,a),c&&c(l.origUrl,o,a),A[l.url]=2})))}function o(e,t){function n(e,n){if(e){if(r(e))n||(u=function(){var e=[].slice.call(arguments);h.apply(this,e),d()}),a(e,u,t,0,c);else if(Object(e)===e)for(l in o=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--o&&(i(u)?u=function(){var e=[].slice.call(arguments);h.apply(this,e),d()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),d()}}(h[l])),a(e[l],u,t,l,c))}else!n&&d()}var o,l,c=!!e.test,p=e.load||e.both,u=e.callback||s,h=u,d=e.complete||s;n(c?e.yep:e.nope,!!p),p&&n(p)}var l,c,u=this.yepnope.loader;if(r(e))a(e,0,u,0);else if(C(e))for(l=0;l<e.length;l++)c=e[l],r(c)?a(c,0,u,0):C(c)?h(c):Object(c)===c&&o(c,u);else Object(e)===e&&o(e,u)},h.addPrefix=function(e,t){P[e]=t},h.addFilter=function(e){T.push(e)},h.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=p(),e.yepnope.executeStack=o,e.yepnope.injectJs=function(e,n,i,r,l,c){var p,u,d=t.createElement("script"),r=r||h.errorTimeout;d.src=e;for(u in i)d.setAttribute(u,i[u]);n=c?o:n||s,d.onreadystatechange=d.onload=function(){!p&&a(d.readyState)&&(p=1,n(),d.onload=d.onreadystatechange=null)},f(function(){p||(p=1,n(1))},r),l?d.onload():m.parentNode.insertBefore(d,m)},e.yepnope.injectCss=function(e,n,i,r,a,l){var c,r=t.createElement("link"),n=l?o:n||s;r.href=e,r.rel="stylesheet",r.type="text/css";for(c in i)r.setAttribute(c,i[c]);a||(m.parentNode.insertBefore(r,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},/*!
* ZeroClipboard
* The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
* Copyright (c) 2014 Jon Rohan, James M. Greene
* Licensed MIT
* http://zeroclipboard.org/
* v2.0.0-alpha.1
*/
!function(){"use strict";function e(e){return e.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function t(t){return parseFloat(e(t))>=10}var n,i={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},r={},s=0,a={},o=0,l={},c=null,p=null,u=function(){var e,t,n,i,r="ZeroClipboard.swf";if(document.currentScript&&(i=document.currentScript.src));else{var s=document.getElementsByTagName("script");if("readyState"in s[0])for(e=s.length;e--&&("interactive"!==s[e].readyState||!(i=s[e].src)););else if("loading"===document.readyState)i=s[s.length-1].src;else{for(e=s.length;e--;){if(n=s[e].src,!n){t=null;break}if(n=n.split("#")[0].split("?")[0],n=n.slice(0,n.lastIndexOf("/")+1),null==t)t=n;else if(t!==n){t=null;break}}null!==t&&(i=t)}}return i&&(i=i.split("#")[0].split("?")[0],r=i.slice(0,i.lastIndexOf("/")+1)+r),r}(),h=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),d=function(e,t){var n,i,r;return window.getComputedStyle?n=window.getComputedStyle(e,null).getPropertyValue(t):(i=h(t),n=e.currentStyle?e.currentStyle[i]:e.style[i]),"cursor"!==t||n&&"auto"!==n||(r=e.tagName.toLowerCase(),"a"!==r)?n:"pointer"},f=function(e){e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),N.activate(t)},m=function(e,t,n){e&&1===e.nodeType&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))},g=function(e,t,n){e&&1===e.nodeType&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n))},v=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",r=e.className,s=0,a=n.length;a>s;s++)i.indexOf(" "+n[s]+" ")<0&&(r+=" "+n[s]);e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},w=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var i=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,s=n.length;s>r;r++)i=i.replace(" "+n[r]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},y=function(){var e,t,n,i=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,i=Math.round(100*(t/n))/100),i},b=function(e,t){var n={left:0,top:0,width:0,height:0,zIndex:A(t)-1};if(e.getBoundingClientRect){var i,r,s,a=e.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(i=window.pageXOffset,r=window.pageYOffset):(s=y(),i=Math.round(document.documentElement.scrollLeft/s),r=Math.round(document.documentElement.scrollTop/s));var o=document.documentElement.clientLeft||0,l=document.documentElement.clientTop||0;n.left=a.left+i-o,n.top=a.top+r-l,n.width="width"in a?a.width:a.right-a.left,n.height="height"in a?a.height:a.bottom-a.top}return n},_=function(e,t){var n=null==t||t&&t.cacheBust===!0&&t.useNoCache===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},k=function(e){var t,n,i,r=[],s=[],a=[];if(e.trustedOrigins&&("string"==typeof e.trustedOrigins?s.push(e.trustedOrigins):"object"==typeof e.trustedOrigins&&"length"in e.trustedOrigins&&(s=s.concat(e.trustedOrigins))),e.trustedDomains&&("string"==typeof e.trustedDomains?s.push(e.trustedDomains):"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(s=s.concat(e.trustedDomains))),s.length)for(t=0,n=s.length;n>t;t++)if(s.hasOwnProperty(t)&&s[t]&&"string"==typeof s[t]){if(i=I(s[t]),!i)continue;if("*"===i){a=[i];break}a.push.apply(a,[i,"//"+i,window.location.protocol+"//"+i])}return a.length&&r.push("trustedOrigins="+encodeURIComponent(a.join(","))),"string"==typeof e.jsModuleId&&e.jsModuleId&&r.push("jsModuleId="+encodeURIComponent(e.jsModuleId)),r.join("&")},x=function(e,t,n){if("function"==typeof t.indexOf)return t.indexOf(e,n);var i,r=t.length;for("undefined"==typeof n?n=0:0>n&&(n=r+n),i=n;r>i;i++)if(t.hasOwnProperty(i)&&t[i]===e)return i;return-1},C=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},T=function(e,t,n,i){i?window.setTimeout(function(){e.apply(t,n)},0):e.apply(t,n)},A=function(e){var t,n;return e&&("number"==typeof e&&e>0?t=e:"string"==typeof e&&(n=parseInt(e,10))&&!isNaN(n)&&n>0&&(t=n)),t||("number"==typeof D.zIndex&&D.zIndex>0?t=D.zIndex:"string"==typeof D.zIndex&&(n=parseInt(D.zIndex,10))&&!isNaN(n)&&n>0&&(t=n)),t||0},P=function(e,t){if(e&&t!==!1&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var n="`"+e+"` is deprecated. See docs for more info:\n    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";console.warn?console.warn(n):console.log(n)}},S=function(){var e,t,n,i,r,s,a=arguments[0]||{};for(e=1,t=arguments.length;t>e;e++)if(null!=(n=arguments[e]))for(i in n)if(n.hasOwnProperty(i)){if(r=a[i],s=n[i],a===s)continue;void 0!==s&&(a[i]=s)}return a},I=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},E=function(){var e=function(e,t){var n,i,r;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"length"in e))for(n=0,i=e.length;i>n;n++)if(e.hasOwnProperty(n)&&(r=I(e[n]))){if("*"===r){t.length=0,t.push("*");break}-1===x(r,t)&&t.push(r)}},t={always:"always",samedomain:"sameDomain",never:"never"};return function(n,i){var r,s=i.allowScriptAccess;if("string"==typeof s&&(r=s.toLowerCase())&&/^always|samedomain|never$/.test(r))return t[r];var a=I(i.moviePath);null===a&&(a=n);var o=[];e(i.trustedOrigins,o),e(i.trustedDomains,o);var l=o.length;if(l>0){if(1===l&&"*"===o[0])return"always";if(-1!==x(n,o))return 1===l&&n===a?"sameDomain":"always"}return"never"}}(),$=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},L=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},j=function(){var e=!1;if("boolean"==typeof i.disabled)e=i.disabled===!1;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e},N=function(e,t){return this instanceof N?(this.id=""+s++,a[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),"undefined"!=typeof t&&(P("new ZeroClipboard(elements, options)",D.debug),N.config(t)),this.options=N.config(),"boolean"!=typeof i.disabled&&(i.disabled=!j()),i.disabled===!1&&i.outdated!==!0&&null===i.bridge&&(i.outdated=!1,i.ready=!1,M()),void 0):new N(e,t)};N.prototype.setText=function(e){return e&&""!==e&&(r["text/plain"]=e,i.ready===!0&&i.bridge&&i.bridge.setText(e)),this},N.prototype.setSize=function(e,t){return i.ready===!0&&i.bridge&&i.bridge.setSize(e,t),this};var O=function(e){i.ready===!0&&i.bridge&&i.bridge.setHandCursor(e)};N.prototype.destroy=function(){this.unclip(),this.off(),delete a[this.id]};var B=function(){var e,t,n,i=[],r=$(a);for(e=0,t=r.length;t>e;e++)n=a[r[e]].instance,n&&n instanceof N&&i.push(n);return i};N.version="2.0.0-alpha.1";var D={swfPath:u,trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};N.config=function(e){if("object"==typeof e&&null!==e&&S(D,e),"string"!=typeof e||!e){var t={};for(var n in D)D.hasOwnProperty(n)&&(t[n]="object"==typeof D[n]&&null!==D[n]?"length"in D[n]?D[n].slice(0):S({},D[n]):D[n]);return t}return D.hasOwnProperty(e)?D[e]:void 0},N.destroy=function(){N.deactivate();for(var e in a)if(a.hasOwnProperty(e)&&a[e]){var t=a[e].instance;t&&"function"==typeof t.destroy&&t.destroy()}var n=H(i.bridge);n&&n.parentNode&&(n.parentNode.removeChild(n),i.ready=null,i.bridge=null)},N.activate=function(e){n&&(w(n,D.hoverClass),w(n,D.activeClass)),n=e,v(e,D.hoverClass),z();var t=D.title||e.getAttribute("title");if(t){var r=H(i.bridge);r&&r.setAttribute("title",t)}var s=D.forceHandCursor===!0||"pointer"===d(e,"cursor");O(s)},N.deactivate=function(){var e=H(i.bridge);e&&(e.style.left="0px",e.style.top="-9999px",e.removeAttribute("title")),n&&(w(n,D.hoverClass),w(n,D.activeClass),n=null)};var M=function(){var e,t,n=document.getElementById("global-zeroclipboard-html-bridge");if(!n){var r=N.config();r.jsModuleId="string"==typeof c&&c||"string"==typeof p&&p||null;var s=E(window.location.host,D),a=k(r),o=D.moviePath+_(D.moviePath,D),l='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+o+'"/>         <param name="allowScriptAccess" value="'+s+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+a+'"/>         <embed src="'+o+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+s+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+a+'"           scale="exactfit">         </embed>       </object>';n=document.createElement("div"),n.id="global-zeroclipboard-html-bridge",n.setAttribute("class","global-zeroclipboard-container"),n.style.position="absolute",n.style.left="0px",n.style.top="-9999px",n.style.width="15px",n.style.height="15px",n.style.zIndex=""+A(D.zIndex),document.body.appendChild(n),n.innerHTML=l}e=document["global-zeroclipboard-flash-bridge"],e&&(t=e.length)&&(e=e[t-1]),i.bridge=e||n.children[0].lastElementChild},H=function(e){for(var t=/^OBJECT|EMBED$/,n=e&&e.parentNode;n&&t.test(n.nodeName)&&n.parentNode;)n=n.parentNode;return n||null},z=function(){if(n){var e=b(n,D.zIndex),t=H(i.bridge);t&&(t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.zIndex=e.zIndex+1),i.ready===!0&&i.bridge&&i.bridge.setSize(e.width,e.height)}return this};N.prototype.on=function(e,t){var n,r,s,o={},l=a[this.id]&&a[this.id].handlers;if("string"==typeof e&&e)s=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(s&&s.length){for(n=0,r=s.length;r>n;n++)e=s[n].replace(/^on/,""),o[e]=!0,l[e]||(l[e]=[]),l[e].push(t);o.noflash&&i.disabled&&U.call(this,"noflash",{}),o.wrongflash&&i.outdated&&U.call(this,"wrongflash",{flashVersion:i.version}),o.load&&i.ready&&U.call(this,"load",{flashVersion:i.version})}return this},N.prototype.off=function(e,t){var n,i,r,s,o,l=a[this.id]&&a[this.id].handlers;if(0===arguments.length)s=$(l);else if("string"==typeof e&&e)s=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)e.hasOwnProperty(n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(s&&s.length)for(n=0,i=s.length;i>n;n++)if(e=s[n].toLowerCase().replace(/^on/,""),o=l[e],o&&o.length)if(t)for(r=x(t,o);-1!==r;)o.splice(r,1),r=x(t,o,r);else l[e].length=0;return this},N.prototype.handlers=function(e){var t,n=null,i=a[this.id]&&a[this.id].handlers;if(i){if("string"==typeof e&&e)return i[e]?i[e].slice(0):null;n={};for(t in i)i.hasOwnProperty(t)&&i[t]&&(n[t]=i[t].slice(0))}return n};var q=function(e,t,n,i){var r=a[this.id]&&a[this.id].handlers[e];if(r&&r.length){var s,o,l,c=t||this;for(s=0,o=r.length;o>s;s++)l=r[s],t=c,"string"==typeof l&&"function"==typeof window[l]&&(l=window[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(t=l,l=l.handleEvent),"function"==typeof l&&T(l,t,n,i)}return this};N.prototype.clip=function(e){e=C(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===x(this.id,l[e[t].zcClippingId])&&l[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+o++,l[e[t].zcClippingId]=[this.id],D.autoActivate===!0&&m(e[t],"mouseover",f));var n=a[this.id].elements;-1===x(e[t],n)&&n.push(e[t])}return this},N.prototype.unclip=function(e){var t=a[this.id];if(t){var n,i=t.elements;e="undefined"==typeof e?i.slice(0):C(e);for(var r=e.length;r--;)if(e.hasOwnProperty(r)&&e[r]&&1===e[r].nodeType){for(n=0;-1!==(n=x(e[r],i,n));)i.splice(n,1);var s=l[e[r].zcClippingId];if(s){for(n=0;-1!==(n=x(this.id,s,n));)s.splice(n,1);0===s.length&&(D.autoActivate===!0&&g(e[r],"mouseover",f),delete e[r].zcClippingId)}}}return this},N.prototype.elements=function(){var e=a[this.id];return e&&e.elements?e.elements.slice(0):[]};var F=function(e){var t,n,i,r,s,o=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&l.hasOwnProperty(t)&&(n=l[t],n&&n.length))for(i=0,r=n.length;r>i;i++)s=a[n[i]].instance,s&&s instanceof N&&o.push(s);return o};D.hoverClass="zeroclipboard-is-hover",D.activeClass="zeroclipboard-is-active",D.trustedOrigins=null,D.allowScriptAccess=null,D.useNoCache=!0,D.moviePath="ZeroClipboard.swf",N.detectFlashSupport=function(){return P("ZeroClipboard.detectFlashSupport",D.debug),j()},N.dispatch=function(e,t){if("string"==typeof e&&e){var i=e.toLowerCase().replace(/^on/,"");if(i)for(var r=n?F(n):B(),s=0,a=r.length;a>s;s++)U.call(r[s],i,t)}},N.prototype.setHandCursor=function(e){return P("ZeroClipboard.prototype.setHandCursor",D.debug),e="boolean"==typeof e?e:!!e,O(e),D.forceHandCursor=e,this},N.prototype.reposition=function(){return P("ZeroClipboard.prototype.reposition",D.debug),z()},N.prototype.receiveEvent=function(e,t){if(P("ZeroClipboard.prototype.receiveEvent",D.debug),"string"==typeof e&&e){var n=e.toLowerCase().replace(/^on/,"");n&&U.call(this,n,t)}},N.prototype.setCurrent=function(e){return P("ZeroClipboard.prototype.setCurrent",D.debug),N.activate(e),this},N.prototype.resetBridge=function(){return P("ZeroClipboard.prototype.resetBridge",D.debug),N.deactivate(),this},N.prototype.setTitle=function(e){if(P("ZeroClipboard.prototype.setTitle",D.debug),e=e||D.title||n&&n.getAttribute("title")){var t=H(i.bridge);t&&t.setAttribute("title",e)}return this},N.setDefaults=function(e){P("ZeroClipboard.setDefaults",D.debug),N.config(e)},N.prototype.addEventListener=function(e,t){return P("ZeroClipboard.prototype.addEventListener",D.debug),this.on(e,t)},N.prototype.removeEventListener=function(e,t){return P("ZeroClipboard.prototype.removeEventListener",D.debug),this.off(e,t)},N.prototype.ready=function(){return P("ZeroClipboard.prototype.ready",D.debug),i.ready===!0};var U=function(s,a){s=s.toLowerCase().replace(/^on/,"");var o=a&&a.flashVersion&&e(a.flashVersion)||null,l=n,c=!0;switch(s){case"load":if(o){if(!t(o))return U.call(this,"onWrongFlash",{flashVersion:o}),void 0;i.outdated=!1,i.ready=!0,i.version=o}break;case"wrongflash":o&&!t(o)&&(i.outdated=!0,i.ready=!1,i.version=o);break;case"mouseover":v(l,D.hoverClass);break;case"mouseout":D.autoActivate===!0&&N.deactivate();break;case"mousedown":v(l,D.activeClass);break;case"mouseup":w(l,D.activeClass);break;case"datarequested":var p=l.getAttribute("data-clipboard-target"),u=p?document.getElementById(p):null;if(u){var h=u.value||u.textContent||u.innerText;h&&this.setText(h)}else{var d=l.getAttribute("data-clipboard-text");d&&this.setText(d)}c=!1;break;case"complete":L(r)}var f=l,m=[this,a];return q.call(this,s,f,m,c)};"function"==typeof define&&define.amd?define(["require","exports","module"],function(e,t,n){return c=n&&n.id||null,N}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?(p=module.id||null,module.exports=N):window.ZeroClipboard=N}(),function(){var e,t,n,i,r,s;e=2500,s=null,r=!1,i=!1,window.comscoreBeacon=function(){return(new Date).getTime()-s<e?void 0:("undefined"!=typeof COMSCORE&&null!==COMSCORE&&COMSCORE.beacon({c1:"2",c2:"8750086"}),$.get("/pv.xml?t="+(new Date).getTime()))},window.ga=function(t){return!window._gaq||(new Date).getTime()-s<e?void 0:(t=_.compact(_.flatten([["_trackPageview"],t])),window._gaq.push(t))},n=[],window.omniCallback=function(e){return n.push(e)},window.loadOmniture=function(){return r=!0,i=!0,s=(new Date).getTime()},window.omni=function(a){var o,l,c,p,u,h,d,f,m,g,v,w,y,b,k,x,C,T,A,P,S,I,E;if(r&&window.s_gi&&!(!i&&!window.pageLoaded||(new Date).getTime()-s<e&&!i)){for(i=!1,o="mashtesladev",h="mashable",g="mashable.d2.sc.omtrdc.net",window.location.host.match(/^mashable.com/)&&(o="mashdev"),m=window.s_gi(o),c=null!=a&&null!=a.track_link?$.extend({},a):$.extend({},window.__o,a),f=["clearVars","p_gvf","p_gpv","getQueryParam","getTimeParting","split","usePlugins","doPlugins"],y=0,C=f.length;C>y;y++)d=f[y],m[d]=window.s[d];for(m.charSet="ISO-8859-1",m.currencyCode="USD",m.trackDownloadLinks=!1,m.trackExternalLinks=!0,m.trackInlineStats=!1,m.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",m.linkInternalFilters="javascript:,"+window.location.hostname,m.linkLeaveQueryString=!1,null!=c.track_vars&&(m.linkTrackVars=c.track_vars),null!=c.track_events&&(m.linkTrackEvents=c.track_events),m.visitorNamespace=h,m.trackingServer=g,w=(new Date).getUTCHours(),null==c.events||""===c.events?(m.events="event1",m.list2=App.UXTesting.asOmniVar()):_.some(["event25","event35"],function(e){return~c.events.indexOf(e)})?m.events=c.events:(m.events=c.events.split(",").concat("event1").join(),m.list2=App.UXTesting.asOmniVar()),m.pageName=document.title,m.pageType=c.pageClass,m.channel=c.channel,m.prop1=c.location||window.location.pathname,m.prop2=c.content_type,m.prop3=c.page_type||"Standard",m.prop4=c.embedded_content,m.prop5=c.content_source,m.prop6=c.page_number,null!=c.top_channel&&(m.prop7=c.top_channel),c.isPostView?(null!=c.post_lead_type&&(m.prop9=c.post_lead_type),m.prop10=c.display_mode,null!=c.content_source_type&&(m.prop11=c.content_source_type),null!=c.content_source_name&&(m.prop12=c.content_source_name),null!=c.author_name&&(m.prop13=c.author_name),null!=c.age&&(m.prop14=c.age),m.prop15=w,null!=c.pub_day&&(m.prop16=c.pub_day),null!=c.pub_month&&(m.prop17=c.pub_month),null!=c.pub_year&&(m.prop18=c.pub_year),null!=c.pub_date&&(m.prop19=c.pub_date),null!=c.gallery_index&&(m.prop36=c.gallery_index),null!=c.gallery_length&&(m.prop37=c.gallery_length),null!=c.campaign&&(m.prop51=c.campaign),null!=c.v_buy&&(m.prop52=String(c.v_buy)),null!=c.v_cur&&(m.prop53=String(c.v_cur)),null!=c.v_max&&(m.prop54=String(c.v_max)),null!=c.h_pub&&(m.prop55=String(c.h_pub)),null!=c.h_buy&&(m.prop56=String(c.h_buy)),null!=c.h_pub_buy&&(m.prop57=String(c.h_pub_buy)),null!=c.v_buy_i&&(m.prop58=String(c.v_buy_i)),null!=c.v_cur_i&&(m.prop59=String(c.v_cur_i)),null!=c.v_max_i&&(m.prop60=String(c.v_max_i)),null!=c.topics&&(m.list1=c.topics)):(m.prop9=null,m.prop10=null,m.prop11=null,m.prop12=null,m.prop13=null,m.prop14=null,m.prop15=null,m.prop16=null,m.prop17=null,m.prop18=null,m.prop19=null,m.prop51=null,m.prop52=null,m.prop53=null,m.prop54=null,m.prop55=null,m.prop56=null,m.prop57=null,m.prop58=null,m.prop59=null,m.prop60=null),null!=c.query&&(m.prop31=c.query),S=[1,2,3,4,5,6,7,9,31],b=0,T=S.length;T>b;b++)p=S[b],m["eVar"+p]=null!=m["prop"+p]?"D=c"+p:null;for(I=[10,11,12,13,14,15,16,17,18,19,36,37].concat([51,52,53,54,55,56,57,58,59,60]),k=0,A=I.length;A>k;k++)p=I[k],m["eVar"+p]=c.isPostView&&null!=m["prop"+p]?"D=c"+p:null;for(null!=c.microNetwork&&(m.eVar25=c.microNetwork),null!=c.microType&&(m.eVar26=c.microType),null!=c.microUrl&&(m.eVar27=c.microUrl),null!=c.microUsername&&(m.eVar29=c.microUsername),null!=c.gallery_view&&(m.eVar35=c.gallery_view),x=0,P=n.length;P>x;x++)l=n[x],l(m);if(null!=c.raw){E=c.raw;for(u in E)v=E[u],m[u]=v}return null!=c.track_link?m.tl(!0,"o",c.track_link):m.t(),t(m)}},t=function(e){return $(function(){var t,n,i,r,s,a,o,l,c,p,u,h;return $("body").append('<iframe name="__bkframe" height="0" width="0" frameborder="0" src="javascript:void(0)"></iframe>'),bk_addPageCtx("page",null!=(t=e.pageName)?t:""),bk_addPageCtx("channel",null!=(n=e.channel)?n:""),bk_addPageCtx("prop2",null!=(s=e.prop2)?s:""),bk_addPageCtx("prop3",null!=(a=e.prop3)?a:""),bk_addPageCtx("prop7",null!=(o=e.prop7)?o:""),bk_addPageCtx("prop11",null!=(l=e.prop11)?l:""),bk_addPageCtx("prop12",null!=(c=e.prop12)?c:""),bk_addPageCtx("prop13",null!=(p=e.prop13)?p:""),bk_addPageCtx("prop17",null!=(u=e.prop17)?u:""),bk_addPageCtx("prop18",null!=(h=e.prop18)?h:""),bk_addPageCtx("prop19",null!=(i=e.prop19)?i:""),bk_addPageCtx("list1",null!=(r=e.list1)?r:""),bk_doJSTag(19275,10)})}}.call(this),function(){function e(t,n,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;if(t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped),t.isEqual&&x.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&x.isFunction(n.isEqual))return n.isEqual(t);var r=c.call(t);if(r!=c.call(n))return!1;switch(r){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var s=i.length;s--;)if(i[s]==t)return!0;i.push(t);var a=0,o=!0;if("[object Array]"==r){if(a=t.length,o=a==n.length)for(;a--&&(o=a in t==a in n&&e(t[a],n[a],i)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var l in t)if(x.has(t,l)&&(a++,!(o=x.has(n,l)&&e(t[l],n[l],i))))break;if(o){for(l in n)if(x.has(n,l)&&!a--)break;o=!a}}return i.pop(),o}var t=this,n=t._,i={},r=Array.prototype,s=Object.prototype,a=Function.prototype,o=r.slice,l=r.unshift,c=s.toString,p=s.hasOwnProperty,u=r.forEach,h=r.map,d=r.reduce,f=r.reduceRight,m=r.filter,g=r.every,v=r.some,w=r.indexOf,y=r.lastIndexOf,b=Array.isArray,_=Object.keys,k=a.bind,x=function(e){return new N(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.3.3";var C=x.each=x.forEach=function(e,t,n){if(null!=e)if(u&&e.forEach===u)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;s>r;r++)if(r in e&&t.call(n,e[r],r,e)===i)return}else for(var a in e)if(x.has(e,a)&&t.call(n,e[a],a,e)===i)return};x.map=x.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(C(e,function(e,r,s){i[i.length]=t.call(n,e,r,s)}),e.length===+e.length&&(i.length=e.length),i)},x.reduce=x.foldl=x.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),d&&e.reduce===d)return i&&(t=x.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(C(e,function(e,s,a){r?n=t.call(i,n,e,s,a):(n=e,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},x.reduceRight=x.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=x.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var s=x.toArray(e).reverse();return i&&!r&&(t=x.bind(t,i)),r?x.reduce(s,t,n,i):x.reduce(s,t)},x.find=x.detect=function(e,t,n){var i;return T(e,function(e,r,s){return t.call(n,e,r,s)?(i=e,!0):void 0}),i},x.filter=x.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(C(e,function(e,r,s){t.call(n,e,r,s)&&(i[i.length]=e)}),i)},x.reject=function(e,t,n){var i=[];return null==e?i:(C(e,function(e,r,s){t.call(n,e,r,s)||(i[i.length]=e)}),i)},x.every=x.all=function(e,t,n){var r=!0;return null==e?r:g&&e.every===g?e.every(t,n):(C(e,function(e,s,a){return(r=r&&t.call(n,e,s,a))?void 0:i}),!!r)};var T=x.some=x.any=function(e,t,n){t||(t=x.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,n):(C(e,function(e,s,a){return r||(r=t.call(n,e,s,a))?i:void 0}),!!r)};x.include=x.contains=function(e,t){var n=!1;return null==e?n:w&&e.indexOf===w?-1!=e.indexOf(t):n=T(e,function(e){return e===t})},x.invoke=function(e,t){var n=o.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t||e:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var i={computed:-1/0};return C(e,function(e,r,s){var a=t?t.call(n,e,r,s):e;a>=i.computed&&(i={value:e,computed:a})}),i.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var i={computed:1/0};return C(e,function(e,r,s){var a=t?t.call(n,e,r,s):e;a<i.computed&&(i={value:e,computed:a})}),i.value},x.shuffle=function(e){var t,n=[];return C(e,function(e,i){t=Math.floor(Math.random()*(i+1)),n[i]=n[t],n[t]=e}),n},x.sortBy=function(e,t,n){var i=x.isFunction(t)?t:function(e){return e[t]};return x.pluck(x.map(e,function(e,t,r){return{value:e,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return void 0===n?1:void 0===i?-1:i>n?-1:n>i?1:0}),"value")},x.groupBy=function(e,t){var n={},i=x.isFunction(t)?t:function(e){return e[t]};return C(e,function(e,t){var r=i(e,t);(n[r]||(n[r]=[])).push(e)}),n},x.sortedIndex=function(e,t,n){n||(n=x.identity);for(var i=0,r=e.length;r>i;){var s=i+r>>1;n(e[s])<n(t)?i=s+1:r=s}return i},x.toArray=function(e){return e?x.isArray(e)?o.call(e):x.isArguments(e)?o.call(e):e.toArray&&x.isFunction(e.toArray)?e.toArray():x.values(e):[]},x.size=function(e){return x.isArray(e)?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==t||n?e[0]:o.call(e,0,t)},x.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},x.rest=x.tail=function(e,t,n){return o.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,function(e){return!!e})},x.flatten=function(e,t){return x.reduce(e,function(e,n){return x.isArray(n)?e.concat(t?n:x.flatten(n)):(e[e.length]=n,e)},[])},x.without=function(e){return x.difference(e,o.call(arguments,1))},x.uniq=x.unique=function(e,t,n){var i=n?x.map(e,n):e,r=[];return e.length<3&&(t=!0),x.reduce(i,function(n,i,s){return(t?x.last(n)===i&&n.length:x.include(n,i))||(n.push(i),r.push(e[s])),n},[]),r},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=x.intersect=function(e){var t=o.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=x.flatten(o.call(arguments,1),!0);return x.filter(e,function(e){return!x.include(t,e)})},x.zip=function(){for(var e=o.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t),i=0;t>i;i++)n[i]=x.pluck(e,""+i);return n},x.indexOf=function(e,t,n){if(null==e)return-1;var i,r;if(n)return i=x.sortedIndex(e,t),e[i]===t?i:-1;if(w&&e.indexOf===w)return e.indexOf(t);for(i=0,r=e.length;r>i;i++)if(i in e&&e[i]===t)return i;return-1},x.lastIndexOf=function(e,t){if(null==e)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,s=new Array(i);i>r;)s[r++]=e,e+=n;return s};var A=function(){};x.bind=function(e,t){var n,i;if(e.bind===k&&k)return k.apply(e,o.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return i=o.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(o.call(arguments)));A.prototype=e.prototype;var r=new A,s=e.apply(r,i.concat(o.call(arguments)));return Object(s)===s?s:r}},x.bindAll=function(e){var t=o.call(arguments,1);return 0==t.length&&(t=x.functions(e)),C(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var i=t.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},x.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(o.call(arguments,1)))},x.throttle=function(e,t){var n,i,r,s,a,o,l=x.debounce(function(){a=s=!1},t);return function(){n=this,i=arguments;var c=function(){r=null,a&&e.apply(n,i),l()};return r||(r=setTimeout(c,t)),s?a=!0:o=e.apply(n,i),l(),s=!0,o}},x.debounce=function(e,t,n){var i;return function(){var r=this,s=arguments,a=function(){i=null,n||e.apply(r,s)};n&&!i&&e.apply(r,s),clearTimeout(i),i=setTimeout(a,t)}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}},x.wrap=function(e,t){return function(){var n=[e].concat(o.call(arguments,0));return t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){return x.map(e,x.identity)},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return C(o.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={};return C(x.flatten(o.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},x.defaults=function(e){return C(o.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isEqual=function(t,n){return e(t,n,[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!=e.nodeType)},x.isArray=b||function(e){return"[object Array]"==c.call(e)},x.isObject=function(e){return e===Object(e)},x.isArguments=function(e){return"[object Arguments]"==c.call(e)},x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),x.isFunction=function(e){return"[object Function]"==c.call(e)},x.isString=function(e){return"[object String]"==c.call(e)},x.isNumber=function(e){return"[object Number]"==c.call(e)},x.isFinite=function(e){return x.isNumber(e)&&isFinite(e)},x.isNaN=function(e){return e!==e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},x.isDate=function(e){return"[object Date]"==c.call(e)},x.isRegExp=function(e){return"[object RegExp]"==c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return p.call(e,t)},x.noConflict=function(){return t._=n,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var i=0;e>i;i++)t.call(n,i)},x.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){C(x.functions(e),function(t){B(t,x[t]=e[t])})};var P=0;x.uniqueId=function(e){var t=P++;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var S=/.^/,I={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var E in I)I[I[E]]=E;var $=/\\|'|\r|\n|\t|\u2028|\u2029/g,L=/\\(\\|'|r|n|t|u2028|u2029)/g,j=function(e){return e.replace(L,function(e,t){return I[t]})};x.template=function(e,t,n){n=x.defaults(n||{},x.templateSettings);var i="__p+='"+e.replace($,function(e){return"\\"+I[e]}).replace(n.escape||S,function(e,t){return"'+\n_.escape("+j(t)+")+\n'"}).replace(n.interpolate||S,function(e,t){return"'+\n("+j(t)+")+\n'"}).replace(n.evaluate||S,function(e,t){return"';\n"+j(t)+"\n;__p+='"})+"';\n";n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+i+"return __p;\n";var r=new Function(n.variable||"obj","_",i);if(t)return r(t,x);var s=function(e){return r.call(this,e,x)};return s.source="function("+(n.variable||"obj")+"){\n"+i+"}",s},x.chain=function(e){return x(e).chain()};var N=function(e){this._wrapped=e};x.prototype=N.prototype;var O=function(e,t){return t?x(e).chain():e},B=function(e,t){N.prototype[e]=function(){var e=o.call(arguments);
return l.call(e,this._wrapped),O(t.apply(x,e),this._chain)}};x.mixin(x),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];N.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;return"shift"!=e&&"splice"!=e||0!==i||delete n[0],O(n,this._chain)}}),C(["concat","join","slice"],function(e){var t=r[e];N.prototype[e]=function(){return O(t.apply(this._wrapped,arguments),this._chain)}}),N.prototype.chain=function(){return this._chain=!0,this},N.prototype.value=function(){return this._wrapped}}.call(this),function(){var e,t=this,n=t.Backbone,i=Array.prototype.slice,r=Array.prototype.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.2";var s=t._;s||"undefined"==typeof require||(s=require("underscore"));var a=t.jQuery||t.Zepto||t.ender;e.setDomLibrary=function(e){a=e},e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=/\s+/,l=e.Events={on:function(e,t,n){var i,r,s,a,l;if(!t)return this;for(e=e.split(o),i=this._callbacks||(this._callbacks={});r=e.shift();)l=i[r],s=l?l.tail:{},s.next=a={},s.context=n,s.callback=t,i[r]={tail:a,next:l?l.next:s};return this},off:function(e,t,n){var i,r,a,l,c,p;if(r=this._callbacks){if(!(e||t||n))return delete this._callbacks,this;for(e=e?e.split(o):s.keys(r);i=e.shift();)if(a=r[i],delete r[i],a&&(t||n))for(l=a.tail;(a=a.next)!==l;)c=a.callback,p=a.context,(t&&c!==t||n&&p!==n)&&this.on(i,c,p);return this}},trigger:function(e){var t,n,r,s,a,l,c;if(!(r=this._callbacks))return this;for(l=r.all,e=e.split(o),c=i.call(arguments,1);t=e.shift();){if(n=r[t])for(s=n.tail;(n=n.next)!==s;)n.callback.apply(n.context||this,c);if(n=l)for(s=n.tail,a=[t].concat(c);(n=n.next)!==s;)n.callback.apply(n.context||this,a)}return this}};l.bind=l.on,l.unbind=l.off;var c=e.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e)),(n=A(this,"defaults"))&&(e=s.extend({},n,e)),t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes={},this.initialize.apply(this,arguments)};s.extend(c.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(null==n?"":""+n)},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,a;if(s.isObject(e)||null==e?(i=e,n=t):(i={},i[e]=t),n||(n={}),!i)return this;if(i instanceof c&&(i=i.attributes),n.unset)for(r in i)i[r]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var o=n.changes={},l=this.attributes,p=this._escapedAttributes,u=this._previousAttributes||{};for(r in i)a=i[r],(!s.isEqual(l[r],a)||n.unset&&s.has(l,r))&&(delete p[r],(n.silent?this._silent:o)[r]=!0),n.unset?delete l[r]:l[r]=a,s.isEqual(u[r],a)&&s.has(l,r)==s.has(u,r)?(delete this.changed[r],delete this._pending[r]):(this.changed[r]=a,n.silent||(this._pending[r]=!0));return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(t){t=t?s.clone(t):{};var n=this,i=t.success;return t.success=function(e,r,s){return n.set(n.parse(e,s),t)?(i&&i(n,e),void 0):!1},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},save:function(t,n,i){var r,a;if(s.isObject(t)||null==t?(r=t,i=n):(r={},r[t]=n),i=i?s.clone(i):{},i.wait){if(!this._validate(r,i))return!1;a=s.clone(this.attributes)}var o=s.extend({},i,{silent:!0});if(r&&!this.set(r,i.wait?o:i))return!1;var l=this,c=i.success;i.success=function(e,t,n){var a=l.parse(e,n);return i.wait&&(delete i.wait,a=s.extend(r||{},a)),l.set(a,i)?(c?c(l,e):l.trigger("sync",l,e,i),void 0):!1},i.error=e.wrapError(i.error,l,i);var p=this.isNew()?"create":"update",u=(this.sync||e.sync).call(this,p,this,i);return i.wait&&this.set(a,o),u},destroy:function(t){t=t?s.clone(t):{};var n=this,i=t.success,r=function(){n.trigger("destroy",n,n.collection,t)};if(this.isNew())return r(),!1;t.success=function(e){t.wait&&r(),i?i(n,e):n.trigger("sync",n,e,t)},t.error=e.wrapError(t.error,n,t);var a=(this.sync||e.sync).call(this,"delete",this,t);return t.wait||r(),a},url:function(){var e=A(this,"urlRoot")||A(this.collection,"url")||P();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var i=s.extend({},e.changes,this._silent);this._silent={};for(var n in i)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;for(;!s.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,i=this._previousAttributes;for(var r in e)s.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var p=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(p.prototype,l,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,a,o,l,c,p={},u={},h=[];for(t||(t={}),e=s.isArray(e)?e.slice():[e],n=0,a=e.length;a>n;n++){if(!(o=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");l=o.cid,c=o.id,p[l]||this._byCid[l]||null!=c&&(u[c]||this._byId[c])?h.push(n):p[l]=u[c]=o}for(n=h.length;n--;)e.splice(h[n],1);for(n=0,a=e.length;a>n;n++)(o=e[n]).on("all",this._onModelEvent,this),this._byCid[o.cid]=o,null!=o.id&&(this._byId[o.id]=o);if(this.length+=a,i=null!=t.at?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent)return this;for(n=0,a=this.models.length;a>n;n++)p[(o=this.models[n]).cid]&&(t.index=n,o.trigger("add",o,this,t));return this},remove:function(e,t){var n,i,r,a;for(t||(t={}),e=s.isArray(e)?e.slice():[e],n=0,i=e.length;i>n;n++)a=this.getByCid(e[n])||this.get(e[n]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,t.silent||(t.index=r,a.trigger("remove",a,this,t)),this._removeReference(a));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(t){t=t?s.clone(t):{},void 0===t.parse&&(t.parse=!0);var n=this,i=t.success;return t.success=function(e,r,s){n[t.add?"add":"reset"](n.parse(e,s),t),i&&i(n,e)},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},create:function(e,t){var n=this;if(t=t?s.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||n.add(e,t);var i=t.success;return t.success=function(r,s){t.wait&&n.add(r,t),i?i(r,s):r.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e){return e},chain:function(){return s(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof c)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!=e&&"remove"!=e||n==this)&&("destroy"==e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var u=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(u,function(e){p.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var h=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},d=/:\w+/g,f=/\*\w+/g,m=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(h.prototype,l,{initialize:function(){},route:function(t,n,i){return e.history||(e.history=new g),s.isRegExp(t)||(t=this._routeToRegExp(t)),i||(i=this[n]),e.history.route(t,s.bind(function(r){var s=this._extractParameters(t,r);i&&i.apply(this,s),this.trigger.apply(this,["route:"+n].concat(s)),e.history.trigger("route",this,n,s)},this)),this},navigate:function(t,n){e.history.navigate(t,n)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,i=e.length;i>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(m,"\\$&").replace(d,"([^/]+)").replace(f,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var g=e.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},v=/^[#\/]/,w=/msie [\w.]+/;g.started=!1,s.extend(g.prototype,l,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(v,"")},start:function(e){if(g.started)throw new Error("Backbone.history has already been started");g.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,i=w.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);i&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var r=window.location,o=r.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&r.hash&&(this.fragment=this.getHash().replace(v,""),window.history.replaceState({},document.title,r.protocol+"//"+r.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e==this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!g.started)return!1;t&&t!==!0||(t={trigger:t});var n=(e||"").replace(v,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var y=e.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName"];s.extend(y.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var i=document.createElement(e);return t&&a(i).attr(t),n&&a(i).html(n),i},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof a?e:a(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=A(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];if(s.isFunction(n)||(n=this[e[t]]),!n)throw new Error('Method "'+e[t]+'" does not exist');var i=t.match(b),r=i[1],a=i[2];n=s.bind(n,this),r+=".delegateEvents"+this.cid,""===a?this.$el.bind(r,n):this.$el.delegate(a,r,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=_.length;n>t;t++){var i=_[t];e[i]&&(this[i]=e[i])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=A(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var k=function(e,t){var n=T(this,e,t);return n.extend=this.extend,n};c.extend=p.extend=h.extend=y.extend=k;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(t,n,i){var r=x[t];i||(i={});var o={type:r,dataType:"json"};return i.url||(o.url=A(n,"url")||P()),i.data||!n||"create"!=t&&"update"!=t||(o.contentType="application/json",o.data=JSON.stringify(n.toJSON())),e.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),e.emulateHTTP&&("PUT"===r||"DELETE"===r)&&(e.emulateJSON&&(o.data._method=r),o.type="POST",o.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),"GET"===o.type||e.emulateJSON||(o.processData=!1),a.ajax(s.extend(o,i))},e.wrapError=function(e,t,n){return function(i,r){r=i===t?r:i,e?e(t,r,n):t.trigger("error",t,r,n)}};var C=function(){},T=function(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},s.extend(i,e),C.prototype=e.prototype,i.prototype=new C,t&&s.extend(i.prototype,t),n&&s.extend(i,n),i.prototype.constructor=i,i.__super__=e.prototype,i},A=function(e,t){return e&&e[t]?s.isFunction(e[t])?e[t]():e[t]:null},P=function(){throw new Error('A "url" property or function must be specified')}}.call(this),/* bootstrap-tab.js v2.0.4
 * Copyright 2012 Twitter, Inc.
 * Licensed under the Apache License, Version 2.0 (the "License");*/
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,s=r.closest("ul:not(.dropdown-menu)"),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=s.find(".active a").last()[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(a),this.activate(r.parent("li"),s),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var s=n.find("> .active"),a=i&&e.support.transition&&s.hasClass("fade");a?s.one(e.support.transition.end,r):r(),s.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),/* bootstrap-dropdown.js v2.0.4
   Copyright 2012 Twitter, Inc.
   Licensed under the Apache License, Version 2.0 (the "License"); */
!function(e){"use strict";function t(){e(n).parent().removeClass("open")}var n='[data-toggle="dropdown"]',i=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var n,i,r,s=e(this);if(!s.is(".disabled, :disabled"))return i=s.attr("data-target"),i||(i=s.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),n=e(i),n.length||(n=s.parent()),r=n.hasClass("open"),t(),r||n.toggleClass("open"),!1}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=i,e(function(){e("html").on("click.dropdown.data-api",t),e("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",n,i.prototype.toggle)})}(window.jQuery),/* bootstrap-tooltip.js v2.0.4
 * Copyright 2012 Twitter, Inc.
 * Licensed under the Apache License, Version 2.0 (the "License"); */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,s;this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,"manual"!=this.options.trigger&&(r="hover"==this.options.trigger?"mouseenter":"focus",s="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(r,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,t,n,i,r,s,a;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),i=e[0].offsetWidth,r=e[0].offsetHeight,t?s.split(" ")[1]:s){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}e.css(a).addClass(s).addClass("in")}},isHTML:function(e){return"string"!=typeof e||"<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.isHTML(t)?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var n=this.tip();n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),s="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,s)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,s=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),s="object"==typeof n&&n;r||i.data("collapse",r=new t(this,s)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),s=e(r).data("collapse")?"toggle":i.data();e(r).collapse(s)})})}(window.jQuery),/* ===================================================
 * bootstrap-transition.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),s=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=s.on("scroll.scroll.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav > li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),i=/^#\w/.test(n)&&e(n);return i&&n.length&&[[i.offset().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,s=this.targets,a=this.activeTarget;if(t>=i)return a!=(e=s.last()[0])&&this.activate(e);for(e=r.length;e--;)a!=s[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(s[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu")&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),s="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,s)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery);/* base64
   Copyright (c) 2010 Nick Galbreath
   Licensed under the MIT License */
var base64={};base64.PADCHAR="=",base64.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(e){var t=new Error("DOM Exception 5");return t.code=t.number=5,t.name=t.description="INVALID_CHARACTER_ERR",t.toString=function(){return"Error: "+t.name+": "+t.message},t}},base64.getbyte64=function(e,t){var n=base64.ALPHA.indexOf(e.charAt(t));if(-1===n)throw base64.makeDOMException();return n},base64.decode=function(e){if(window.atob)return window.atob(e);e=""+e;var t,n,i,r=base64.getbyte64,s=e.length;if(0===s)return e;if(0!==s%4)throw base64.makeDOMException();t=0,e.charAt(s-1)===base64.PADCHAR&&(t=1,e.charAt(s-2)===base64.PADCHAR&&(t=2),s-=4);var a=[];for(n=0;s>n;n+=4)i=r(e,n)<<18|r(e,n+1)<<12|r(e,n+2)<<6|r(e,n+3),a.push(String.fromCharCode(i>>16,255&i>>8,255&i));switch(t){case 1:i=r(e,n)<<18|r(e,n+1)<<12|r(e,n+2)<<6,a.push(String.fromCharCode(i>>16,255&i>>8));break;case 2:i=r(e,n)<<18|r(e,n+1)<<12,a.push(String.fromCharCode(i>>16))}return a.join("")},base64.getbyte=function(e,t){var n=e.charCodeAt(t);if(n>255)throw base64.makeDOMException();return n},base64.encode=function(e){if(window.btoa)return window.btoa(e);if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var t,n,i=base64.PADCHAR,r=base64.ALPHA,s=base64.getbyte,a=[];e=""+e;var o=e.length-e.length%3;if(0===e.length)return e;for(t=0;o>t;t+=3)n=s(e,t)<<16|s(e,t+1)<<8|s(e,t+2),a.push(r.charAt(n>>18)),a.push(r.charAt(63&n>>12)),a.push(r.charAt(63&n>>6)),a.push(r.charAt(63&n));switch(e.length-o){case 1:n=s(e,t)<<16,a.push(r.charAt(n>>18)+r.charAt(63&n>>12)+i+i);break;case 2:n=s(e,t)<<16|s(e,t+1)<<8,a.push(r.charAt(n>>18)+r.charAt(63&n>>12)+r.charAt(63&n>>6)+i)}return a.join("")},!function(){function createCookie(e,t,n){var i=new Date,r=n?i.getTime()+864e5*n:i.getTime(),s=[];i.setTime(r),s.push(e),s.push("="),s.push(t),s.push(n?"; expires="+i.toGMTString():""),s.push("; path=/"),document.cookie=s.join("")}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=n.length,r="",s=null,a=i-1;a>=0;a--){for(r=n[a];" "===r.charAt(0);)r=r.slice(1);if(0===r.indexOf(t)){s=r.slice(t.length);break}}return s}function eraseCookie(e){var t="",n=-1;e&&createCookie(e,t,n)}var requirejs,require,define;!function(e){function t(e,t){var n,i,r,s,a,o,l,c=t&&t.split("/"),p=h.map,u=p&&p["*"]||{};if(e&&"."===e.charAt(0)&&t){for(c=c.slice(0,c.length-1),e=c.concat(e.split("/")),a=0;l=e[a];a++)if("."===l)e.splice(a,1),a-=1;else if(".."===l){if(1===a&&(".."===e[2]||".."===e[0]))return!0;a>0&&(e.splice(a-1,2),a-=2)}e=e.join("/")}if((c||u)&&p)for(n=e.split("/"),a=n.length;a>0;a-=1){if(i=n.slice(0,a).join("/"),c)for(o=c.length;o>0;o-=1)if(r=p[c.slice(0,o).join("/")],r&&(r=r[i])){s=r;break}if(s=s||u[i]){n.splice(0,a,s),e=n.join("/");break}}return e}function n(t,n){return function(){return c.apply(e,f.call(arguments,0).concat([t,n]))}}function i(e){return function(n){return t(n,e)}}function r(e){return function(t){p[e]=t}}function s(t){if(u.hasOwnProperty(t)){var n=u[t];delete u[t],d[t]=!0,l.apply(e,n)}if(!p.hasOwnProperty(t))throw new Error("No "+t);return p[t]}function a(e,n){var r,a,o=e.indexOf("!");return-1!==o?(r=t(e.slice(0,o),n),e=e.slice(o+1),a=s(r),e=a&&a.normalize?a.normalize(e,i(n)):t(e,n)):e=t(e,n),{f:r?r+"!"+e:e,n:e,p:a}}function o(e){return function(){return h&&h.config&&h.config[e]||{}}}var l,c,p={},u={},h={},d={},f=[].slice;l=function(t,i,l,c){var h,f,m,g,v,w,y=[];if(c=c||t,"function"==typeof l){for(i=!i.length&&l.length?["require","exports","module"]:i,w=0;w<i.length;w++)if(v=a(i[w],c),m=v.f,"require"===m)y[w]=n(t);else if("exports"===m)y[w]=p[t]={},h=!0;else if("module"===m)f=y[w]={id:t,uri:"",exports:p[t],config:o(t)};else if(p.hasOwnProperty(m)||u.hasOwnProperty(m))y[w]=s(m);else if(v.p)v.p.load(v.n,n(c,!0),r(m),{}),y[w]=p[m];else if(!d[m])throw new Error(t+" missing "+m);g=l.apply(p[t],y),t&&(f&&f.exports!==e&&f.exports!==p[t]?p[t]=f.exports:g===e&&h||(p[t]=g))}else t&&(p[t]=l)},requirejs=require=c=function(t,n,i,r){return"string"==typeof t?s(a(t,n).f):(t.splice||(h=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},r?l(e,t,n,i):setTimeout(function(){l(e,t,n,i)},15),c)},c.config=function(e){return h=e,c},define=function(e,t,n){t.splice||(n=t,t=[]),u[e]=[e,t,n]},define.amd={jQuery:!0}}(),define("../vendor/almond",function(){}),"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,s,a,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,n=0;s>n;n+=1)a[n]=str(n,l)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+o+"]":"["+a.join(",")+"]",gap=o,r}if(rep&&"object"==typeof rep)for(s=rep.length,n=0;s>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&a.push(quote(i)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+o+"}":"{"+a.join(",")+"}",gap=o,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("../vendor/json2",function(){}),define("../src/bootstrap",[],function(){var e=function(e,t){var n,i=t.split("."),r=e;n=i.length;for(var s=0;n>s;s++)"undefined"==typeof r[i[s]]&&(r[i[s]]={}),r=r[i[s]];return r};"undefined"==typeof BKTAG&&e(window,"BKTAG"),BKTAG.ns=e;var t={createFrame:function(e){var t=document.createElement("iframe");return t.setAttribute("name",e),t.setAttribute("id",e),t.setAttribute("title","bk"),t.style.border="0px",t.style.width="0px",t.style.height="0px","function"==typeof bk_frameLoad&&(t.onload=bk_frameLoad),t.src="javascript:void(0)",t},checkFrame:function(e){var n="__bkframe";if("undefined"==typeof frames[n]||"undefined"==typeof document.getElementById(n)){var i=t.createFrame(n),r=document.getElementsByTagName("body")[0];r&&r.appendChild(i)}"function"==typeof e&&e()}};return t}),define("../vendor/htmlparser",[],function(){var e=function(e){for(var t={},n=e.split(","),i=0;i<n.length;i++)t[n[i]]=!0;return t},t={leftTrim:function(e){return e.replace(/^\s+/,"")},startTag:/^<(\w+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/(\w+)[^>]*>/,attr:/(\w+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,empty:e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),block:e("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,NOSCRIPT,object,ol,p,pre,script,SCRIPT,table,tbody,td,tfoot,th,thead,tr,ul"),inline:e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,SCRIPT,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),closeSelf:e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),fillAttrs:e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),special:e("script,SCRIPT,style"),one:e("html,head,body,title"),structure:{link:"head",base:"head"},htmlParser:function(e,n){function i(e,i,s,a){if(t.block[i])for(;l.last()&&t.inline[l.last()];)r("",l.last());if(t.closeSelf[i]&&l.last()==i&&r("",i),a=t.empty[i]||!!a,a||l.push(i),n.start){var o=[];s.replace(t.attr,function(e,n){var i=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:t.fillAttrs[n]?n:"";o.push({name:n,value:i,escaped:i.replace(/(^|[^\\])"/g,'$1\\"')})}),n.start&&n.start(i,o,a)}}function r(e,t){if(t)for(var i=l.length-1;i>=0&&l[i]!=t;i--);else var i=0;if(i>=0){for(var r=l.length-1;r>=i;r--)n.end&&n.end(l[r]);l.length=i}}var s,a,o,l=[],c=e;for(l.last=function(){return this[this.length-1]};e;){if(a=!0,e=t.leftTrim(e),l.last()&&t.special[l.last()]){var p=new RegExp("</"+l.last()+">","i"),s=e.search(p),u=e.substring(0,s);u.length>0&&(n.chars&&n.chars(u),e=e.replace(u,"")),e=e.replace(p,""),r("",l.last())}else if(0==e.indexOf("<!--")?(s=e.indexOf("-->"),s>=0&&(n.comment&&n.comment(e.substring(4,s)),e=e.substring(s+3),a=!1)):0==e.indexOf("</")?(o=e.match(t.endTag),o&&(e=e.substring(o[0].length),o[0].replace(t.endTag,r),a=!1)):0==e.indexOf("<")&&(o=e.match(t.startTag),o&&(e=e.substring(o[0].length),o[0].replace(t.startTag,i),a=!1)),a){s=e.indexOf("<");var h=0>s?e:e.substring(0,s);e=0>s?"":e.substring(s),n.chars&&n.chars(h)}if(e==c)throw"Parse Error: "+e;c=e}r()},htmlToDom:function(e,n){var i=[],r=n.documentElement||n.getOwnerDocument&&n.getOwnerDocument()||n;if(!r&&n.createElement&&function(){var e=n.createElement("html"),t=n.createElement("head");t.appendChild(n.createElement("title")),e.appendChild(t),e.appendChild(n.createElement("body")),n.appendChild(e)}(),n.getElementsByTagName)for(var s in t.one)t.one[s]=n.getElementsByTagName(s)[0];var a=t.one.body;t.htmlParser(e,{start:function(e,r,s){if(t.one[e])return void(a=t.one[e]);for(var o=n.createElement(e),l=0;l<r.length;l++)o.setAttribute(r[l].name,r[l].value);t.structure[e]&&"boolean"!=typeof _one[t.structure[e]]?t.one[t.structure[e]].appendChild(o):a&&a.appendChild&&(window.addEventListener||"NOSCRIPT"!=a.tagName)&&a.appendChild(o),s||(i.push(o),a=o)},end:function(){i.length-=1,a=i.length>0?i[i.length-1]:t.one.body},chars:function(e){if(window.addEventListener){var t=n.createTextNode(e);a.appendChild(t)}else a.text=e},comment:function(){}})}};return t}),define("../src/utils",["../src/bootstrap","../vendor/htmlparser"],function(e,t){var n={getKwds:function(){var e,t=document.getElementsByTagName("meta"),n=[],i=t.length;for(e=0;i>e;e++)t[e].name&&"keywords"===t[e].name.toLowerCase()&&""!==t[e].content&&n.push(t[e].content);return n.join(",")},getMeta:function(e){for(var t=document.getElementsByTagName("meta"),n=t.length,i=0;n>i;i++){var r=t[i];if(r.name.toLowerCase()===e.toLowerCase()&&""!==r.content)return r.content}return null},scriptWithOnload:function(e,t){var n=document.createElement("script");return n.src=e,n.onloadDone=!1,n.onload=function(){n.onloadDone||(n.onloadDone=!0,"function"==typeof t&&t())},n.onreadystatechange=function(){("loaded"===n.readyState||"complete"===n.readyState)&&!n.onloadDone&&(n.onloadDone=!0,"function"==typeof t&&t())},n},isMobile:function(){var e=!1,t=["Mobile","Tablet","Handheld","Android","iPhone","Kindle","Silk","Nokia","Symbian","BlackBerry"];for(var n in t)if(-1!==navigator.userAgent.indexOf(t[n])){e=!0;break}return e},isDebug:function(){var e=!1;return"undefined"!=typeof window.location&&"undefined"!=typeof window.location.search&&-1!==window.location.search.indexOf("debug=1")&&(e=!0),e},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,function(t){return n.call(e,t)})}};return window.BKTAG.htmlToDom=t.htmlToDom,window.BKTAG.util=n,n}),define("../vendor/cookies",function(){});var hashers={java:function(e){for(var t=31,n=0,i=0,r=0;r<e.length;r++)i=t*i+e.charCodeAt(r)<<n;return i},javaHex:function(e){return Math.abs(hashers.java(e)).toString(16)}},indexes={1:"dtzpmk".split("")},encoders={indexed_comma:function(e){for(var t=[e],n=indexes[e],i=0;i<n.length;i++){var r=signifiers[n[i]][0];t.push(encodeURIComponent(r?r:""))}return t.join(",")}},signifiers={a:[navigator.userAgent,"userAgent"],e:[function(){return hashers.javaHex(navigator.userAgent)}(),"userAgent hashed"],d:[[screen.width,screen.height,screen.colorDepth].join(""),"Screen concat"],t:[(new Date).getTime(),"Time"],z:[(new Date).getTimezoneOffset(),"Timezone"],n:[function(){for(var e in navigator){var t=[];return"string"==typeof navigator[e]&&t.push(navigator[e]),t.join("")}}(),"Navigator"],p:[function(){for(var e=[],t=0,n=navigator.plugins;t<n.length;t++)e.push(n[t].name);return hashers.javaHex(e.join(","))}(),"Plugins hashed"],pv:[function(){for(var e=0,t=0,n=navigator.plugins;t<n.length;t++){var i=n[t].description.match(/\d+(.\d+){1,3}/);i&&(e+=i[0])}return e}(),"Plugin version concat"],m:[function(){for(var e=[],t=0,n=navigator.mimeTypes;t<n.length;t++)e.push(n[t].description);return hashers.javaHex(e.join(","))}(),"mimeTypes hashed"],l:[navigator.language,"language"],k:[navigator.cookieEnabled?1:0,"cookies"],ps:[navigator.productSub,"productSub"],u:[navigator.cpuClass,"cpuClass"],g:[navigator.browserLanguage,"browserLanguage"],s:[document.defaultCharset,"charset"]},numis={collect:function(e,t){var n=e||"indexed_comma",i=t||1;return encoders[n](i)}};define("../vendor/numis",function(){}),define("../src/core",["../src/bootstrap","../src/utils","../vendor/cookies","../vendor/numis"],function(e,t){var n=[],i=!1,r={site:"site_id",limit:"pixel_limit",excludeBkParams:"ignore_meta",excludeTitle:"exclude_title",excludeKeywords:"exclude_keywords",excludeReferrer:"exclude_referrer",excludeLocation:"exclude_location",partnerID:"partner_id",allowMultipleCalls:"allow_multiple_calls",suppressMultipleCalls:"suppress_multiple_calls",callback:"callback",useImage:"use_image",useMultipleIframes:"use_multiple_iframes",allData:"all_data",timeOut:"timeout",ignoreOutsideIframe:"ignore_outside_iframe",eventScheduling:"event_scheduling",suppressEventScheduling:"suppress_event_scheduling",suppressCacheBusting:"suppress_cache_busting",pixelUrl:"pixel_url",pixelSecure:"pixel_secure",useFirstParty:"use_first_party",suppressFirstParty:"suppress_first_party",sendStatidPayload:"send_statid_payload",suppressStatidPayload:"suppress_statid_payload",metaVars:"meta_vars",jsList:"js_list",paramList:"param_list",useMobile:"use_mobile",disableMobile:"disable_mobile",isDebug:"is_debug",limitGetLength:"limit_get_length"},s={readCookie:readCookie,createCookie:createCookie,eraseCookie:eraseCookie,_dest:null,addParam:function(e,t,i){return"undefined"!=typeof varMap&&varMap[t]&&(t=varMap[t]),n.push("undefined"!=typeof i?e+"="+encodeURIComponent(t+"="+i):e+"="+t),BKTAG},addBkParam:function(e,t){if("string"==typeof e&&"string"==typeof t)s.addParam("phint","__bk_"+e,t);else for(var n in e)e.hasOwnProperty(n)&&"string"==typeof e[n]&&s.addParam("phint","__bk_"+n,e[n]);return BKTAG},_reset:function(){i=!1,n=[];for(var e in r)if(r.hasOwnProperty(e)){var t="bk_"+r[e];window[t]=void 0;try{delete window[t]}catch(s){}}return BKTAG},params:function(){return n},getGlobals:function(e){if(e.length)for(var t=0;t<e.length;t++){var n=e[t];"undefined"!=typeof window[n]&&""!==n&&""!==window[n]&&bk_addPageCtx(n,window[n])}else for(var i in e)e.hasOwnProperty(i)&&"string"==typeof i&&("string"==typeof e[i]||"number"==typeof e[i]||"boolean"==typeof e[i])&&bk_addPageCtx(i,e[i])},doTag:function(a,o,l,c,p,u,h,d,f){var m={site:a,limit:o,excludeBkParams:l,partnerID:c,allowMultipleCalls:p,callback:u,allData:h,timeOut:d,ignoreOutsideIframe:f};for(var g in r)r.hasOwnProperty(g)&&"undefined"!=typeof window["bk_"+r[g]]&&(m[g]=window["bk_"+r[g]]);if("object"==typeof a)for(var v in r)r.hasOwnProperty(v)&&"undefined"!=typeof a[r[v]]&&(m[v]=a[r[v]]);if(!(m.suppressMultipleCalls===!0||"undefined"!=typeof i&&i&&m.allowMultipleCalls!==!0)){i=!0,void 0===m.timeOut&&(m.timeOut=1e3),n.unshift("ret="+(m.callback?"js":"html"));var w="undefined"!=typeof m.partnerID&&null!==m.partnerID;w&&n.unshift("partner="+encodeURIComponent(m.partnerID));var y={2607:1,2834:1,2894:1,3316:1,3317:1,3318:1,3319:1,3321:1,3322:1,3323:1,3324:1,3325:1,3326:1,3327:1,3328:1,3329:1,3330:1,3331:1,3332:1,3333:1,3334:1,3338:1,3339:1,3340:1,3341:1,3344:1,3345:1,3346:1,3348:1};if(!m.excludeBkParams&&!m.excludeTitle&&""!==document.title&&s.addBkParam("t",document.title),!m.excludeBkParams&&!m.excludeKeywords&&s.addBkParam("k",t.getKwds()),!m.excludeBkParams&&!m.excludeReferrer&&"referrer"in document&&""!==document.referrer&&s.addBkParam("pr",document.referrer),!m.excludeBkParams&&!m.excludeLocation&&s.addBkParam("l",window.location.toString()),m.callback?s.addParam("jscb",encodeURIComponent(m.callback)):"undefined"!=typeof m.limit&&s.addParam("limit",encodeURIComponent(m.limit)),m.allData===!0&&s.addParam("data","all"),m.disableMobile!==!0&&m.suppressStatidPayload!==!0&&(t.isMobile()||m.sendStatidPayload)&&"undefined"!=typeof numis&&s.addParam("bknms",numis.collect()),m.suppressEventScheduling!==!0&&m.eventScheduling===!0&&t.addEvent("message",function(e){if("http://tags.bluekai.com"===e.origin){var t=document.getElementById("__bkframe"),n=function(e){return function(){t.contentWindow.postMessage(JSON.stringify({event:e}),"*"),t.contentWindow.postMessage(JSON.stringify({schedule:"run"}),"*")}},i=JSON.parse(e.data);if(i.status&&"loaded"===i.status&&t.contentWindow.postMessage(JSON.stringify({get:"events"}),"*"),i.scheduled){var r=JSON.parse(i.scheduled);for(var s in r){var a="window"===r[s]?window:document.getElementById(r[s]);a.addEventListener(s,n(s),!1)}}i.status&&"complete"===i.status&&t.contentWindow.postMessage(JSON.stringify({status:"ack"}),"*")}},!1),m.suppressFirstParty!==!0&&m.useFirstParty&&(readCookie("bkrid")||createCookie("bkrid",Math.floor(Math.random()*Math.pow(2,31)),180),readCookie("bkrid")&&s.addParam("bkrid",encodeURIComponent(readCookie("bkrid")))),(t.isDebug()||m.isDebug)&&s.addParam("debug","1"),!m.excludeBkParams&&"undefined"!=typeof m.paramList&&s.getGlobals(m.paramList),!m.excludeBkParams&&"undefined"!=typeof m.jsList&&s.getGlobals(m.jsList),!m.excludeBkParams&&"undefined"!=typeof m.metaVars)for(var b=0;b<m.metaVars.length;b++){var _=t.getMeta(m.metaVars[b]);null!==_&&s.addBkParam(m.metaVars[b],_)}m.suppressCacheBusting!==!0&&s.addParam("r",parseInt(99999999*Math.random(),10));var k="https://stags.bluekai.com/",x="http://tags.bluekai.com/",C=("https:"===document.location.protocol?m.pixelSecure?m.pixelSecure:k:m.pixelUrl?m.pixelUrl:x)+(w?"psite":"site")+"/"+m.site,T=C+"?"+n.join("&");if(m.limitGetLength&&(T=T.substr(0,2e3)),BKTAG._dest=s._dest=T,m.callback)if(m.useImage){var A=document.createElement("span");A.style.display="none";var P=document.getElementsByTagName("body")[0];P.appendChild(A);var S=document.createElement("img");S.src=s._dest,A.appendChild(S)}else{var I=document.createElement("script");I.type="text/javascript",I.src=s._dest,I.id="__bk_script__",y[""+a]&&setTimeout(function(){var e=document.getElementById("__bk_script__");e&&(e.removeNode?e.removeNode(!0):e.parentNode.removeChild(e))},m.timeOut),document.getElementsByTagName("head")[0].appendChild(I)}else if(e.checkFrame(function(){if(m.useMultipleIframes){var t=e.createFrame("__bkframe_"+m.site+"_"+(new Date).valueOf());t.className="__bkframe_site_"+m.site,t.src=T,document.getElementsByTagName("body")[0].appendChild(t)}else if(frames&&frames.__bkframe)frames.__bkframe.location.replace(T);else{var n=e.createFrame("__bkframe");document.getElementsByTagName("body")[0].appendChild(n),frames.__bkframe.location.replace(T)}}),n.shift(),"undefined"!=typeof m.ignoreOutsideIframe&&m.ignoreOutsideIframe===!1){n.unshift("ret=jsht"),T=C+"?"+n.join("&"),T=T.substr(0,2e3);var E=document.createElement("script");E.src=T,E.type="text/javascript",document.getElementsByTagName("body").item(0).appendChild(E)}"function"==typeof o&&o(),n=[]}}};for(var a in s)s.hasOwnProperty(a)&&(window.BKTAG[a]=s[a]);return"function"==typeof window.bk_async&&window.setTimeout(function(){bk_async()},0),s}),define("../src/aliases",["../src/core"],function(){window.BKTAG.addCtxParam=function(e,t){return BKTAG.addParam("phint",e,t),BKTAG},window.BKTAG.addBkParam=function(e,t){return BKTAG.addParam("phint","__bk_"+e,t),BKTAG},window.BKTAG.addPageCtx=window.bk_addPageCtx=window.BKTAG.addUserCtx=window.bk_addUserCtx=function(e,t){return BKTAG.addParam("phint",e,t),BKTAG},window.BKTAG.doJSTag=window.bk_doJSTag=function(e,t,n){BKTAG.doTag(e,t,!1,null,n)},window.BKTAG.doJSTag2=window.bk_doJSTag2=function(e,t){BKTAG.doTag(e,t)},window.BKTAG.doCarsJSTag=window.bk_doCarsJSTag=function(e,t){BKTAG.doTag(e,t,!0)},window.BKTAG.doPartnerAltTag=window.bk_doPartnerAltTag=function(e,t,n){("undefined"==typeof n||null===n)&&(n=0),BKTAG.doTag(e,t,!1,n)},window.BKTAG.doCallbackTag=window.bk_doCallbackTag=function(e,t,n,i){BKTAG.doTag(e,0,!1,null,n,t,i)},window.BKTAG.doCallbackTagWithTimeOut=window.bk_doCallbackTagWithTimeOut=function(e,t,n,i,r){BKTAG.doTag(e,0,!1,null,n,t,i,r)},window.BKTAG.sendData=function(e){BKTAG.doTag(e)}}),define("mobile",["../vendor/json2","../src/core","../src/aliases"],function(){}),require("mobile")}(),BKTAG.version="3.0.20";/*
Handlebars
Copyright (C) 2011 by Yehuda Katz
Licensed under the MIT License */
var Handlebars={};!function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var n=Object.prototype.toString,i="[object Function]",r="[object Object]";e.registerHelper=function(t,i,s){if(n.call(t)===r){if(s||i)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else s&&(i.not=s),this.helpers[t]=i},e.registerPartial=function(t,i){n.call(t)===r?e.Utils.extend(this.partials,t):this.partials[t]=i},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,r){var s=r.inverse||function(){},a=r.fn,o=n.call(t);return o===i&&(t=t.call(this)),t===!0?a(this):t===!1||null==t?s(this):"[object Array]"===o?t.length>0?e.helpers.each(t,r):s(this):a(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var i=e.logger.methodMap[t];"undefined"!=typeof console&&console[i]&&console[i].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,r){var s,a=r.fn,o=r.inverse,l=0,c="",p=n.call(t);if(p===i&&(t=t.call(this)),r.data&&(s=e.createFrame(r.data)),t&&"object"==typeof t)if(t instanceof Array)for(var u=t.length;u>l;l++)s&&(s.index=l),c+=a(t[l],{data:s});else for(var h in t)t.hasOwnProperty(h)&&(s&&(s.key=h),c+=a(t[h],{data:s}),l++);return 0===l&&(c=o(this)),c}),e.registerHelper("if",function(t,r){var s=n.call(t);return s===i&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?r.inverse(this):r.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,r){var s=n.call(t);return s===i&&(t=t.call(this)),e.Utils.isEmpty(t)?void 0:r.fn(t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)});var s=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(e,t,n,i,r,s){var a=s.length-1;switch(r){case 1:return s[a-1];case 2:this.$=new i.ProgramNode([],s[a]);break;case 3:this.$=new i.ProgramNode(s[a-2],s[a]);break;case 4:this.$=new i.ProgramNode(s[a-1],[]);break;case 5:this.$=new i.ProgramNode(s[a]);break;case 6:this.$=new i.ProgramNode([],[]);break;case 7:this.$=new i.ProgramNode([]);break;case 8:this.$=[s[a]];break;case 9:s[a-1].push(s[a]),this.$=s[a-1];break;case 10:this.$=new i.BlockNode(s[a-2],s[a-1].inverse,s[a-1],s[a]);break;case 11:this.$=new i.BlockNode(s[a-2],s[a-1],s[a-1].inverse,s[a]);break;case 12:this.$=s[a];break;case 13:this.$=s[a];break;case 14:this.$=new i.ContentNode(s[a]);break;case 15:this.$=new i.CommentNode(s[a]);break;case 16:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1]);break;case 17:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1]);break;case 18:this.$=s[a-1];break;case 19:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1],"&"===s[a-2][2]);break;case 20:this.$=new i.MustacheNode(s[a-1][0],s[a-1][1],!0);break;case 21:this.$=new i.PartialNode(s[a-1]);break;case 22:this.$=new i.PartialNode(s[a-2],s[a-1]);break;case 23:break;case 24:this.$=[[s[a-2]].concat(s[a-1]),s[a]];break;case 25:this.$=[[s[a-1]].concat(s[a]),null];break;case 26:this.$=[[s[a-1]],s[a]];break;case 27:this.$=[[s[a]],null];break;case 28:this.$=[[s[a]],null];break;case 29:s[a-1].push(s[a]),this.$=s[a-1];break;case 30:this.$=[s[a]];break;case 31:this.$=s[a];break;case 32:this.$=new i.StringNode(s[a]);break;case 33:this.$=new i.IntegerNode(s[a]);break;case 34:this.$=new i.BooleanNode(s[a]);break;case 35:this.$=s[a];break;case 36:this.$=new i.HashNode(s[a]);break;case 37:s[a-1].push(s[a]),this.$=s[a-1];break;case 38:this.$=[s[a]];break;case 39:this.$=[s[a-2],s[a]];break;case 40:this.$=[s[a-2],new i.StringNode(s[a])];break;case 41:this.$=[s[a-2],new i.IntegerNode(s[a])];break;case 42:this.$=[s[a-2],new i.BooleanNode(s[a])];break;case 43:this.$=[s[a-2],s[a]];break;case 44:this.$=new i.PartialNameNode(s[a]);break;case 45:this.$=new i.PartialNameNode(new i.StringNode(s[a]));break;case 46:this.$=new i.PartialNameNode(new i.IntegerNode(s[a]));break;case 47:this.$=new i.DataNode(s[a]);break;case 48:this.$=new i.IdNode(s[a]);break;case 49:s[a-2].push({part:s[a],separator:s[a-1]}),this.$=s[a-2];break;case 50:this.$=[{part:s[a]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],s=[],a=this.table,o="",l=0,c=0,p=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;s.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,m,g,v,w,y,b,_,k={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===d||"undefined"==typeof d)&&(d=t()),g=a[m]&&a[m][d]),"undefined"==typeof g||!g.length||!g[0]){var x="";if(!p){_=[];for(w in a[m])this.terminals_[w]&&w>2&&_.push("'"+this.terminals_[w]+"'");x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:_})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+d);switch(g[0]){case 1:i.push(d),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(g[1]),d=null,f?(d=f,f=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,p>0&&p--);break;case 2:if(y=this.productions_[g[1]][1],k.$=r[r.length-y],k._$={first_line:s[s.length-(y||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(y||1)].first_column,last_column:s[s.length-1].last_column},h&&(k._$.range=[s[s.length-(y||1)].range[0],s[s.length-1].range[1]]),v=this.performAction.call(k,o,c,l,this.yy,g[1],r,s),"undefined"!=typeof v)return v;y&&(i=i.slice(0,2*-1*y),r=r.slice(0,-1*y),s=s.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),r.push(k.$),s.push(k._$),b=a[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length&&(n=this._input.match(this.rules[s[a]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){switch(n){case 0:return t.yytext="\\",14;case 1:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 4:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),31;case 23:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return t.yytext=t.yytext.substr(1,t.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},e.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();e.Parser=s,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},e.AST={},e.AST.ProgramNode=function(t,n){this.type="program",this.statements=t,n&&(this.inverse=new e.AST.ProgramNode(n))},e.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var i=this.id=e[0],r=this.params=e.slice(1),s=this.eligibleHelper=i.isSimple;this.isHelper=s&&(r.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,n,i,r){var s=function(t,n){if(t.original!==n.original)throw new e.Exception(t.original+" doesn't match "+n.original)};s(t.id,r),this.type="block",this.mustache=t,this.program=n,this.inverse=i,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID";for(var n="",i=[],r=0,s=0,a=t.length;a>s;s++){var o=t[s].part;if(n+=(t[s].separator||"")+o,".."===o||"."===o||"this"===o){if(i.length>0)throw new e.Exception("Invalid path: "+n);".."===o?r++:this.isScoped=!0}else i.push(o)}this.original=n,this.parts=i,this.string=i.join("."),this.depth=r,this.isSimple=1===t.length&&!this.isScoped&&0===r,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e.original},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.original=this.string=this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e};var a=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;t<a.length;t++)this[a[t]]=e[a[t]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/,p=function(e){return o[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():null==t||t===!1?"":(t=t.toString(),c.test(t)?t.replace(l,p):t)},isEmpty:function(e){return e||0===e?"[object Array]"===n.call(e)&&0===e.length?!0:!1:!0}};var u=e.Compiler=function(){},h=e.JavaScriptCompiler=function(){};u.prototype={compiler:u,disassemble:function(){for(var e,t,n,i=this.opcodes,r=[],s=0,a=i.length;a>s;s++)if(e=i[s],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var o=0;o<e.args.length;o++)n=e.args[o],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||i.args.length!==r.args.length)return!1;for(var s=0;s<i.args.length;s++)if(i.args[s]!==r.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var i=0,r=n.length;r>i;i++)t=n[i],this[t.type](t);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,s=n.depths.list.length;s>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=this.classifyMustache(t);"helper"===r?this.helperMustache(t,n,i):"simple"===r?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var r=0,s=i.length;s>r;r++)t=i[r],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var i=e.id,r=i.parts[0],s=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",r,s)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+r);this.opcode("invokeHelper",i.length,r)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new e.Exception("Scoped data references are not supported: "+t.original);this.opcode("lookupData");for(var n=t.id.parts,i=0,r=n.length;r>i;i++)this.opcode("lookup",n[i])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw new Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}};var d=function(e){this.value=e};h.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":h.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,n,i,r){this.environment=t,this.options=n||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,n);var s,a=t.opcodes;for(this.i=0,v=a.length;this.i<v;this.i++)s=a[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args);return this.createFunctionContext(r)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var n=this.stackVars.concat(this.registers.list);if(n.length>0&&(this.source[1]=this.source[1]+", "+n.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var r=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,a=this.environment.depths.list.length;a>s;s++)r.push("depth"+this.environment.depths.list[s]);var o=this.mergeSource();if(!this.isChild){var l=e.COMPILER_REVISION,c=e.REVISION_CHANGES[l];o="this.compilerInfo = ["+l+",'"+c+"'];\n"+o}if(t)return r.push(o),Function.apply(this,r);var p="function "+(this.name||"")+"("+r.join(",")+") {\n  "+o+"}";return e.log(e.logger.DEBUG,p+"\n\n"),p},mergeSource:function(){for(var e,n="",i=0,r=this.source.length;r>i;i++){var s=this.source[i];s.appendToBuffer?e=e?e+"\n    + "+s.content:s.content:(e&&(n+="buffer += "+e+";\n  ",e=t),n+=s+"\n  ")}return n},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=t,this.options.stringParams&&(this.register("hashContexts","{"+e.contexts.join(",")+"}"),this.register("hashTypes","{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0),i=this.nameLookup("depth"+this.lastContext,t,"context");this.push(n.name+" || "+i),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();this.source.push("if ("+s+" = "+i+") { "+s+" = "+s+".call("+n.callParams+"); }"),this.source.push("else { "+s+" = "+r+"; "+s+" = typeof "+s+" === functionType ? "+s+".apply(depth0) : "+s+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),n&&r.types.push("'"+e+"': "+n),r.values.push("'"+e+"': ("+i+")")},compiler:h,compileChildren:function(e,t){for(var n,i,r=e.children,s=0,a=r.length;a>s;s++){n=r[s],i=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=i.compile(n,t,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];
if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,r=[n.index,n.name,"data"],s=0,a=i.length;a>s;s++)t=i[s],1===t?r.push("depth0"):r.push("depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new d(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n="",i=this.isInline();if(i){var r=this.popStack(!0);if(r instanceof d)t=r.value;else{var s=this.stackSlot?this.topStackName():this.incrStack();n="("+this.push(s)+" = "+r+"),",t=this.topStack()}}else t=this.topStack();var a=e.call(this,t);return i?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+n+a+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+n+a+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var i=e[t];i instanceof d?this.compileStack.push(i):this.pushStack(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();return!e&&n instanceof d?n.value:(t||this.stackSlot--,n)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof d?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[];this.setupParams(e,i,n);var r=this.nameLookup("helpers",t,"helper");return{params:i,name:r,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupParams:function(e,t,n){var i,r,s,a=[],o=[],l=[];a.push("hash:"+this.popStack()),r=this.popStack(),s=this.popStack(),(s||r)&&(s||(this.context.aliases.self="this",s="self.noop"),r||(this.context.aliases.self="this",r="self.noop"),a.push("inverse:"+r),a.push("fn:"+s));for(var c=0;e>c;c++)i=this.popStack(),t.push(i),this.options.stringParams&&(l.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(a.push("contexts:["+o.join(",")+"]"),a.push("types:["+l.join(",")+"]"),a.push("hashContexts:hashContexts"),a.push("hashTypes:hashTypes")),this.options.data&&a.push("data:data"),a="{"+a.join(",")+"}",n?(this.register("options",a),t.push("options")):t.push(a),t.join(", ")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),m=h.RESERVED_WORDS={},g=0,v=f.length;v>g;g++)m[f[g]]=!0;h.isValidJavaScriptVariableName=function(e){return!h.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(t,n){if(null==t||"string"!=typeof t&&t.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);n=n||{},"data"in n||(n.data=!0);var i=e.parse(t),r=(new u).compile(i,n);return(new h).compile(r,n)},e.compile=function(n,i){function r(){var r=e.parse(n),s=(new u).compile(r,i),a=(new h).compile(s,i,t,!0);return e.template(a)}if(null==n||"string"!=typeof n&&n.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);i=i||{},"data"in i||(i.data=!0);var s;return function(e,t){return s||(s=r()),s.call(this,e,t)}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,i){var r=this.programs[t];return i?r=e.VM.program(t,n,i):r||(r=this.programs[t]=e.VM.program(t,n)),r},merge:function(t,n){var i=t||n;return t&&n&&(i={},e.Utils.extend(i,n),e.Utils.extend(i,t)),i},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var s=t.call(n,e,i,r.helpers,r.partials,r.data),a=n.compilerInfo||[],o=a[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(l>o){var c=e.REVISION_CHANGES[l],p=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+p+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+")."}return s}},programWithDepth:function(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r},program:function(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i},noop:function(){return""},invokePartial:function(n,i,r,s,a,o){var l={helpers:s,partials:a,data:o};if(n===t)throw new e.Exception("The partial "+i+" could not be found");if(n instanceof Function)return n(r,l);if(e.compile)return a[i]=e.compile(n,{data:o!==t}),a[i](r,l);throw new e.Exception("The partial "+i+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template}(Handlebars),function(){Handlebars.registerHelper("share_count",function(e){return e>1e4?Math.round(e/1e3)+"k":e>1e3?Math.round(e/100)/10+"k":e}),Handlebars.registerHelper("debug",function(e){return console.log("Current Context"),console.log("===================="),console.log(this),e?(console.log("Value"),console.log("===================="),console.log(e)):void 0})}.call(this),/*! jQuery requestAnimationFrame - v0.0.0 - 2012-08-31
* https://github.com/gnarf37/jquery-requestAnimationFrame
* Copyright (c) 2012 Corey Frang; Licensed MIT */
function(){function e(){t&&(r(e),jQuery.fx.tick())}for(var t,n=0,i=["ms","moz","webkit","o"],r=window.requestAnimationFrame,s=window.cancelAnimationFrame;n<i.length&&!r;n++)r=window[i[n]+"RequestAnimationFrame"],s=s||window[i[n]+"CancelAnimationFrame"]||window[i[n]+"CancelRequestAnimationFrame"];r?(window.requestAnimationFrame=r,window.cancelAnimationFrame=s,jQuery.fx.timer=function(n){n()&&jQuery.timers.push(n)&&!t&&(t=!0,e())},jQuery.fx.stop=function(){t=!1}):(window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-n)),r=window.setTimeout(function(){e(t+i)},i);return n=t+i,r},window.cancelAnimationFrame=function(e){clearTimeout(e)})}(jQuery),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,i){e(window).scrollTo(t,n,i)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,r,s){return"object"==typeof r&&(s=r,r=0),"function"==typeof s&&(s={onAfter:s}),"max"==i&&(i=9e9),s=e.extend({},n.defaults,s),r=r||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(r/=2),s.offset=t(s.offset),s.over=t(s.over),this._scrollable().each(function(){function a(e){c.animate(u,r,s.easing,e&&function(){e.call(this,i,s)})}if(null!=i){var o,l=this,c=e(l),p=i,u={},h=c.is("html,body");switch(typeof p){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(p)){p=t(p);break}if(p=e(p,this),!p.length)return;case"object":(p.is||p.style)&&(o=(p=e(p)).offset())}e.each(s.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",r=i.toLowerCase(),d="scroll"+i,f=l[d],m=n.max(l,t);if(o)u[d]=o[r]+(h?0:f-c.offset()[r]),s.margin&&(u[d]-=parseInt(p.css("margin"+i))||0,u[d]-=parseInt(p.css("border"+i+"Width"))||0),u[d]+=s.offset[r]||0,s.over[r]&&(u[d]+=p["x"==t?"width":"height"]()*s.over[r]);else{var g=p[r];u[d]=g&&g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}s.limit&&/^\d+$/.test(u[d])&&(u[d]=u[d]<=0?0:Math.min(u[d],m)),!e&&s.queue&&(f!=u[d]&&a(s.onAfterFirst),delete u[d])}),a(s.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",r="scroll"+i;if(!e(t).is("html,body"))return t[r]-e(t)[i.toLowerCase()]();var s="client"+i,a=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(a[r],o[r])-Math.min(a[s],o[s])}}(jQuery),function(){$.fn.bindFirst=function(e,t){var n,i,r,s,a;for(this.bind(e,t),a=[],r=0,s=this.length;s>r;r++)n=this[r],i=jQuery._data(n).events[e.split(".")[0]],a.push(i.unshift(i.pop()));return a}}.call(this),/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return o.raw?e:encodeURIComponent(e)}function n(e){return o.raw?e:decodeURIComponent(e)}function i(e){return t(o.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),o.json?JSON.parse(e):e}catch(t){}}function s(t,n){var i=o.raw?t:r(t);return e.isFunction(n)?n(i):i}var a=/\+/g,o=e.cookie=function(r,a,l){if(void 0!==a&&!e.isFunction(a)){if(l=e.extend({},o.defaults,l),"number"==typeof l.expires){var c=l.expires,p=l.expires=new Date;p.setDate(p.getDate()+c)}return document.cookie=[t(r),"=",i(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=r?void 0:{},h=document.cookie?document.cookie.split("; "):[],d=0,f=h.length;f>d;d++){var m=h[d].split("="),g=n(m.shift()),v=m.join("=");if(r&&r===g){u=s(v,a);break}r||void 0===(v=s(v))||(u[g]=v)}return u};o.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(e){e.fn.hoverIntent=function(t,n){var i={sensitivity:7,interval:100,timeout:0};i=e.extend(i,n?{over:t,out:n}:t);var r,s,a,o,l=function(e){r=e.pageX,s=e.pageY},c=function(t,n){return n.hoverIntent_t=clearTimeout(n.hoverIntent_t),Math.abs(a-r)+Math.abs(o-s)<i.sensitivity?(e(n).unbind("mousemove",l),n.hoverIntent_s=1,i.over.apply(n,[t])):(a=r,o=s,n.hoverIntent_t=setTimeout(function(){c(t,n)},i.interval),void 0)},p=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,i.out.apply(t,[e])},u=function(t){var n=jQuery.extend({},t),r=this;r.hoverIntent_t&&(r.hoverIntent_t=clearTimeout(r.hoverIntent_t)),"mouseenter"==t.type?(a=n.pageX,o=n.pageY,e(r).bind("mousemove",l),1!=r.hoverIntent_s&&(r.hoverIntent_t=setTimeout(function(){c(n,r)},i.interval))):(e(r).unbind("mousemove",l),1==r.hoverIntent_s&&(r.hoverIntent_t=setTimeout(function(){p(n,r)},i.timeout)))};return this.on({mouseenter:u,mouseleave:u},i.on)}}(jQuery),function(){!function(e){var t,n,i,r,s,a,o;return a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)}}(),t=function(){function t(t,n){this.elem=t,this.$elem=e(t),this.options=n,this.lastPosition="up",this.options.handler=this.options.handler.bind(t)}return t.prototype.check=function(e){return this.offset=this.$elem.offset().top,"up"===this.lastPosition&&e>this.offset-this.options.offset?!0:"down"===this.lastPosition&&e<this.offset-this.options.offset?!0:!1},t.prototype.fire=function(e,t){return this.lastPosition!==t?(this.lastPosition=t,this.options.handler(e,t)):void 0},t}(),o=[],r=-1,n=function(e,t){return e.offset-t.offset},s=function(e){var t,i,s,a,l,c,p,u,h,d,f;if(l=window.pageYOffset,l!==r){for(a=l>r,r=l,i=[],p=0,h=o.length;h>p;p++)c=o[p],c.check(l)&&i.push(c);if(0!==i.length){for(i.sort(n),a||i.reverse(),f=[],s=u=0,d=i.length;d>u;s=++u)t=i[s],t.options.continuous||s===i.length-1?f.push(t.fire(e,a?"down":"up")):f.push(void 0);return f}}},e(window).on("scroll",function(e){return a(function(){return s(e)})}),i={offset:0,continuous:!0},e(document).on("page:change",function(){return o=[]}),e.fn.waypoint=function(n,r){var s;return"function"==typeof n?(s=e.extend({},i),s.handler=n):(s=e.extend({},i,n),s.handler||(s.handler=r)),this.each(function(){return o.push(new t(this,s))})}}(jQuery)}.call(this),function(e){var t=e(window),n=function(e,t){return function(){return e.apply(t,arguments)}},i=650;e.extend(e.easing,{easeInQuad:function(e,t,n,i,r){return i*(t/=r)*t+n},easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,r){return i*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,i,r){return i*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n}});var r=function(t,i){this.options=i,this.options.xOffset||(this.options.xOffset=0),this.el=t,this.$this=e(t),this.axis=null,this.children=this.options.children||this.$this.find(i.snapTo),this.childOffsets=[],this.touching=!1,this.initialOffset=[0,0],this.startEvent="touchstart.enableMobileScroll",this.endEvent="touchend.enableMobileScroll",this.moveEvent="touchmove.enableMobileScroll",this.startOffsetX=this.startOffsetY=this.startTouchX=this.startTouchY=null,this.lastPosition={},this.lastTransform=null,this.lastActiveIndex=0,this.targetX=0,this.snap=n(this.snap,this),this.currentOffset=n(this.currentOffset,this),this.checkColumns=n(this.checkColumns,this),this.moveToIndex=n(this.moveToIndex,this);var r=/iP(hone|od|ad)/.test(window.navigator.userAgent);r&&this.$this.css({"-webkit-overflow-scrolling":"auto"})};r.prototype={constructor:r,currentOffset:function(){return this.el.scrollLeft},computeChildOffsets:function(){this.childOffsets=[];for(var e=0;e<this.children.length;e++){var t=this.children[e].style.webkitTransform;if(t){var n=t.split(/[(,)]/,3);this.childOffsets.push([-1*parseInt(n[1],10),-1*parseInt(n[2],10)])}else this.childOffsets.push([0,0])}},activate:function(e,n){var i=this;this.initialOffset=[e||0,n||0],this.computeChildOffsets(),this.$this.on(this.startEvent,function(e){return i.axis=null,i.startTouchX=e.clientX||e.originalEvent.touches[0].clientX,i.startTouchY=e.clientY||e.originalEvent.touches[0].clientY,i.startOffsetX=this.scrollLeft,i.startOffsetY=this.scrollTop,i.touching=!0,i.$this.stop(),!0}).on(this.moveEvent,function(e){if(!i.touching)return!0;if(e.originalEvent.touches.length>1)return i.cancel(),!0;var t=e.clientX||e.originalEvent.touches[0].clientX,n=i.startTouchX-t,r=e.clientY||e.originalEvent.touches[0].clientY,s=i.startTouchY-r;if(!i.axis){var a=Math.sqrt(n*n+s*s);if(a>i.options.deadzone&&(i.axis=n*n>s*s?"x":"y","y"===i.axis))return i.cancel(),!0}if("y"===i.axis)return!0;if("x"===i.axis){e.preventDefault();var o=i.startOffsetX+n;o!=this.targetX&&i.moveTo(o)}}).on(this.endEvent,function(){if(i.touching){i.touching=!1,i.axis=null;var e=this.scrollLeft-i.startOffsetX;Math.abs(e)>i.options.minMovement?i.snap():i.cancel()}}),t.on("orientationchange.enableMobileScroll",function(){i.checkColumns()})},deactivate:function(){this.$this.off(".enableMobileScroll"),t.off(".enableMobileScroll")},moveTo:function(e,t){if(null!==e&&this.targetX!==e)if(this.targetX=e,t){var n=Math.ceil(Math.abs(this.el.scrollLeft-e)/320*i);n>i&&(n=i),this.$this.animate({scrollLeft:e},n,"easeOutCubic",this.checkColumns)}else this.el.scrollLeft=e},moveToIndex:function(e){var t=this.children[e].offsetLeft-this.childOffsets[e][0];this.lastActiveIndex=e,this.startOffsetX=t,this.$this.trigger("snapped",e,this.children[e]),this.moveTo(t,!0)},checkColumns:function(){for(var e=this.el.getBoundingClientRect(),t=e.left,n=e.right+50,i=[],r=0;r<this.children.length;r++){var s=this.children[r].getBoundingClientRect();s.left>=t&&s.right<=n?i.push(!0):i.push(!1)}for(var r=0;r<i.length;r++){var a=1==i[r]?"activateColumn":"deactivateColumn";this.$this.trigger(a,[r,this.children[r]])}},getCandidateByVisibleEdge:function(e){var t=0,n=this.currentOffset();for(t=0;t<this.children.length;t++){var i=this.children[t].offsetLeft-n;if(i>=0)break}return t>0&&0>e&&t--,t},snap:function(){var e=this.getCandidateByVisibleEdge(this.currentOffset()-this.startOffsetX);this.moveToIndex(e)},cancel:function(){return this.touching=!1,this.moveTo(this.startOffsetX,!0),!0}},e.fn.mobileScroll=function(t){"string"!=typeof t&&(t=e.extend({},t,{minMovement:80,deadzone:30}));var n=Array.prototype.slice.call(arguments).slice(1);return this.each(function(){if(void 0!==window.ontouchstart){var i=e(this),s=i.data("mobileScroll");if("string"==typeof t){if(!s)throw"Element does not have a mobileScroll bound";s[t].apply(s,n)}else s||i.data("mobileScroll",s=new r(this,t))}})}}(jQuery),function(e){e.fn.relatizeDate=function(){return e(this).each(function(){this.textContent?this.textContent=e.relatizeDate(this):this.innerHTML=e.relatizeDate(this)})},e.relatizeDate=function(t){var n,i=e(t);return n=void 0!==i.attr("datetime")?new Date(i.attr("datetime")):void 0!==i.attr("rel")?new Date(i.attr("rel")):new Date(i.text()),e.relatizeDate.timeAgoInWords(n)},$r=e.relatizeDate,e.extend(e.relatizeDate,{shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],strftime:function(e,t){var n=e.getDay(),i=e.getMonth(),r=e.getHours(),s=e.getMinutes(),a=function(e){var t=e.toString(10);return new Array(2-t.length+1).join("0")+t};return t.replace(/\%([aAbBcdHImMpSwyY])/g,function(t){switch(t[1]){case"a":return $r.shortDays[n];case"A":return $r.days[n];case"b":return $r.shortMonths[i];case"B":return $r.months[i];case"c":return e.toString();case"d":return a(e.getDate());case"H":return a(r);case"I":return a((r+12)%12);case"m":return a(i+1);case"M":return a(s);case"p":return r>12?"PM":"AM";case"S":return a(e.getSeconds());case"w":return n;case"y":return a(e.getFullYear()%100);case"Y":return e.getFullYear().toString()}})},timeAgoInWords:function(e,t){return $r.distanceOfTimeInWords(e,new Date,t)},distanceOfTimeInWords:function(e,t,n){var i=parseInt((t.getTime()-e.getTime())/1e3);if(60>i)return 1==i?"1 second ago":i+" seconds ago";if(120>i)return"1 minute ago";if(2700>i)return parseInt(i/60).toString()+" minutes ago";if(7200>i)return"1 hour ago";if(86400>i)return parseInt(i/3600).toString()+" hours ago";if(172800>i)return"1 day ago";var r=parseInt(i/86400).toString();if(r>5){var s="%b %d, %Y";return n&&(s+=" %I:%M %p"),$r.strftime(e,s)}return r+" days ago"}})}(jQuery),/* jQuery Simple Dialog Plugin
 * Copyright (c) 2009 Yusuke Horie
 * Released under the MIT License:
 */
function(e){var t=null,n=null,i=0,r=0,s=0,a=null,o=null,l=null,c="",p="",u="",h=null;validMethods={put:!0,post:!0,"delete":!0},e.fn.simpleDialog=function(t){var n=e.extend({},e.fn.simpleDialog.defaults,t);return this.each(function(t,i){if(!i._sd){i._sd=!0;var r=e(i),s=r.is("form")?"submit":"click";i.clickBinding=s,r.bind(s+".simpledialog",function(t){t.preventDefault(),a=this,a.opts=n,o=t,d(),w();var i=e(this);if(""!=a.opts.title&&(p=a.opts.title),i.is("a")){if(a.opts.useTitleAttr){var r=i.attr("title");"undefined"!=typeof r&&""!=r&&(p=r)}var s=i.attr("href");if(s.match(/^#/)){var h=e("#"+i.attr("rel"));if(0==h.length)return!1;l=h,c=l.clone().html(),l.empty(),f(c)}else if(i.find("img").length>0)a.opts.showCaption&&(u=i.find("img").attr("title")),g(s);else{var v=i.attr("rel");"undefined"!=typeof v&&(v=v.toLowerCase()),validMethods[v]?m(s,{},v):m(s,{})}}else if(i.is(":submit",":button")){var y=i.parents("form");m(y.attr("action"),y.serialize(),y.attr("method"))}else i.is("form")?m(i.attr("action"),i.serialize(),i.attr("method")):e.simpleDialog.close(t);return!1})}})},e.fn.simpleDialog.defaults={title:"",useTitleAttr:!0,containerId:"sd_container",containerClass:"sd_container",overlayId:"sd_overlay",overlayClass:"sd_overlay",loadingClass:"sd_loading",closeLabelClass:"sd_closelabel",showCloseLabel:!0,closeLabel:"Close",opacity:.6,duration:400,closeDuration:250,easing:"linear",zIndex:2e4,width:null,height:null,showCaption:!0,open:null,close:null,closeSelector:".close",ajaxOptions:{},showOverlay:!0},e.simpleDialog={close:function(t,n){return a?(null!=l&&l.html(c),e.isFunction(a.opts.close)&&a.opts.close.apply(this,["undefined"==typeof t?null:t,a]),n||(null!=h&&h.remove(),e("#"+a.opts.overlayId).animate({opacity:0},a.opts.closeDuration,null,function(){e(this).remove()})),!1):void 0}};var d=function(){t=t||e(document),n=n||e(window),i=t.height(),r=n.height(),s=n.width(),p="",u=""},f=function(t){var n="";""!=p&&(n+='<div class="sd_header">'+p+"</div>"),n+='<div class="sd_content">'+t+"</div>",""!=u&&"undefined"!=typeof u&&(n+=' <div class="sd_footer">'+u+"</div>");var i=e("<div />").addClass(a.opts.containerClass).hide().css({position:"absolute",height:"auto"}).html(n).appendTo(document.body),r=a.opts.width?parseInt(a.opts.width):i.width(),s=a.opts.height?parseInt(a.opts.height):i.height(),l=y(r,s);h.removeClass(a.opts.loadingClass).animate({width:r+"px",left:parseInt(l[0])+"px"},a.opts.duration,a.opts.easing,function(){e(this).animate({height:s+"px",top:parseInt(l[1])+"px"},a.opts.duration,a.opts.easing,function(){if(e(this).css({height:"auto"}),i.removeClass(a.opts.containerClass).css({position:"relative"}).appendTo(h).show(),h.find(a.opts.closeSelector).bind("click.simpledialog",e.simpleDialog.close),a.opts.showCloseLabel){var t='<div id="sd_closelabel" class="'+a.opts.closeLabelClass+'">'+'<a href="#">'+a.opts.closeLabel+"</a></div>";h.append(t),h.find("#sd_closelabel a").bind("click.simpledialog",e.simpleDialog.close)}e.isFunction(a.opts.open)&&a.opts.open.apply(h,[o,a])})})};e.simpleDialogManual=function(t){var n=e.extend({},e.fn.simpleDialog.defaults,t);a={opts:n},d(),w(),p="",t.content&&f(t.content)};var m=function(t,n,i){e.ajax(e.extend(a.opts.ajaxOptions||{},{type:"undefined"==typeof i?"GET":i,url:t,data:n,cache:!1,dataType:"html",success:f}))};e.simpleDialogManualAjax=function(t,n,i,r){var s=e.extend({},e.fn.simpleDialog.defaults,t);a={opts:s},d(),w(),m(n,i,r)};var g=function(t){e(document.body).append('<div id="sd_tmp_image" style="display:none;"><img src="'+t+'" alt="" /></div>');var n=e("#sd_tmp_image");n.find("img").load(function(){var e=n.html();n.remove(),f(e)}).error(function(t){e.simpleDialog.close(t),n.remove()})},v=function(t,n){var i=e(n),r=i.width(),s=i.height();i.empty().css({width:null,height:null}).removeClass().addClass(a.opts.loadingClass).addClass(a.opts.containerClass);var o=i.width(),l=i.height(),c=y(o,l);i.css({width:r,height:s}).animate({left:c[0]+"px",top:c[1]+"px",width:o+"px",height:l+"px"},a.opts.duration)},w=function(){if(e.simpleDialog.close(null,!0),a.opts.showOverlay){var t=e("#"+a.opts.overlayClass);0==t.length&&e("<div />").attr("id",a.opts.overlayId).addClass(a.opts.overlayClass).css({position:"absolute",width:s,height:i,opacity:a.opts.opacity,zIndex:a.opts.zIndex}).bind("click.simpledialog",e.simpleDialog.close).appendTo(document.body)}var n=e("#"+a.opts.containerId);if(0==n.length){h=e("<div />").attr("id",a.opts.containerId).addClass(a.opts.loadingClass).addClass(a.opts.containerClass).hide().appendTo(document.body);var r=h.width(),o=h.height(),l=y(r,o);h.css({position:"absolute",left:l[0]+"px",top:l[1]+"px",width:r+"px",height:o+"px",zIndex:a.opts.zIndex+1e3}).show()}else n.each(v)},y=function(e,n){return[i>r?s/2-e/2-18:s/2-e/2,t.scrollTop()+r/2-n/2]}}(jQuery),/* jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed. */
function(e){"use strict";function t(e){var t=["Moz","Webkit","O","ms"],n=e.charAt(0).toUpperCase()+e.substr(1);if(e in u.style)return e;for(var i=0;i<t.length;++i){var r=t[i]+n;if(r in u.style)return r}}function n(){return u.style[h.transform]="",u.style[h.transform]="rotateY(90deg)",""!==u.style[h.transform]}function i(e){return"string"==typeof e&&this.parse(e),this}function r(e,t,n){t===!0?e.queue(n):t?e.queue(t,n):n()}function s(t){var n=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||t,t=l(t),-1===e.inArray(t,n)&&n.push(t)}),n}function a(t,n,i,r){var a=s(t);e.cssEase[i]&&(i=e.cssEase[i]);var o=""+p(n)+" "+i;parseInt(r,10)>0&&(o+=" "+p(r));var l=[];return e.each(a,function(e,t){l.push(t+" "+o)}),l.join(", ")}function o(t,n){n||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=h.transform,e.cssHooks[t]={get:function(n){var r=e(n).css("transit:transform")||new i;return r.get(t)},set:function(n,r){var s=e(n).css("transit:transform")||new i;s.setFromString(t,r),e(n).css({transform:s})}}}function l(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function c(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}function p(t){var n=t;return e.fx.speeds[n]&&(n=e.fx.speeds[n]),c(n,"ms")}e.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var u=document.createElement("div"),h={},d=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;h.transition=t("transition"),h.transitionDelay=t("transitionDelay"),h.transform=t("transform"),h.transformOrigin=t("transformOrigin"),h.transform3d=n(),e.extend(e.support,h);var f={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},m=h.transitionEnd=f[h.transition]||null;u=null,e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"},e.cssHooks.transform={get:function(t){return e(t).data("transform")},set:function(t,n){var r=n;r instanceof i||(r=new i(r)),t.style[h.transform]="WebkitTransform"!==h.transform||d?r.toString():r.toString(!0),e(t).data("transform",r)}},e.cssHooks.transformOrigin={get:function(e){return e.style[h.transformOrigin]},set:function(e,t){e.style[h.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[h.transition]},set:function(e,t){e.style[h.transition]=t}},o("scale"),o("translate"),o("rotate"),o("rotateX"),o("rotateY"),o("rotate3d"),o("perspective"),o("skewX"),o("skewY"),o("x",!0),o("y",!0),i.prototype={setFromString:function(e,t){var n="string"==typeof t?t.split(","):t.constructor===Array?t:[t];n.unshift(e),i.prototype.set.apply(this,n)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=c(e,"deg")},rotateX:function(e){this.rotateX=c(e,"deg")},rotateY:function(e){this.rotateY=c(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=c(e,"deg")},skewY:function(e){this.skewY=c(e,"deg")},perspective:function(e){this.perspective=c(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&(this._translateX=c(e,"px")),null!==t&&(this._translateY=c(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=c(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,i){t.setFromString(n,i)})},toString:function(e){var t=[];for(var n in this)if(this.hasOwnProperty(n)){if(!h.transform3d&&("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n))continue;"_"!==n[0]&&(e&&"scale"===n?t.push(n+"3d("+this[n]+",1)"):e&&"translate"===n?t.push(n+"3d("+this[n]+",0)"):t.push(n+"("+this[n]+")"))}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,n,i,s){var o=this,l=0,c=!0;"function"==typeof n&&(s=n,n=void 0),"function"==typeof i&&(s=i,i=void 0),"undefined"!=typeof t.easing&&(i=t.easing,delete t.easing),"undefined"!=typeof t.duration&&(n=t.duration,delete t.duration),"undefined"!=typeof t.complete&&(s=t.complete,delete t.complete),"undefined"!=typeof t.queue&&(c=t.queue,delete t.queue),"undefined"!=typeof t.delay&&(l=t.delay,delete t.delay),"undefined"==typeof n&&(n=e.fx.speeds._default),"undefined"==typeof i&&(i=e.cssEase._default),n=p(n);var u=a(t,n,i,l),d=e.transit.enabled&&h.transition,f=d?parseInt(n,10)+parseInt(l,10):0;if(0===f){var g=function(e){o.css(t),s&&s.apply(o),e&&e()};return r(o,c,g),o}var v={},w=function(n){var i=!1,r=function(){i&&o.unbind(m,r),f>0&&o.each(function(){this.style[h.transition]=v[this]||null}),"function"==typeof s&&s.apply(o),"function"==typeof n&&n()};f>0&&m&&e.transit.useTransitionEnd?(i=!0,o.bind(m,r)):window.setTimeout(r,f),o.each(function(){f>0&&(this.style[h.transition]=u),e(this).css(t)})},y=function(e){var t=0;"MozTransition"===h.transition&&25>t&&(t=25),window.setTimeout(function(){w(e)},t)};return r(o,c,y),this},e.transit.getTransitionValue=a}(jQuery),function(e,t){var n,i=e.document,r=i.documentElement,s="overthrow-enabled",a="ontouchmove"in i,o="WebkitOverflowScrolling"in r.style||!a&&e.screen.width>1200||function(){var t=e.navigator.userAgent,n=t.match(/AppleWebKit\/([0-9]+)/),i=n&&n[1],r=n&&i>=534;return t.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&r||t.match(/ Version\/([0-9]+)/)&&RegExp.$1>=0&&e.blackberry&&r||t.indexOf(/PlayBook/)>-1&&RegExp.$1>=0&&r||t.match(/Fennec\/([0-9]+)/)&&RegExp.$1>=4||t.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&r||t.match(/NokiaBrowser\/([0-9\.]+)/)&&7.3===parseFloat(RegExp.$1)&&n&&i>=533}(),l=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},c=!1,p=function(i,r){var s,a,o=0,l=i.scrollLeft,c=i.scrollTop,p={top:"+0",left:"+0",duration:100,easing:e.overthrow.easing};if(r)for(var u in p)r[u]!==t&&(p[u]=r[u]);return"string"==typeof p.left?(p.left=parseFloat(p.left),s=p.left+l):(s=p.left,p.left=p.left-l),"string"==typeof p.top?(p.top=parseFloat(p.top),a=p.top+c):(a=p.top,p.top=p.top-c),n=setInterval(function(){o++<p.duration?(i.scrollLeft=p.easing(o,l,p.left,p.duration),i.scrollTop=p.easing(o,c,p.top,p.duration)):(s!==i.scrollLeft&&(i.scrollLeft=s),a!==i.scrollTop&&(i.scrollTop=a),h())},1),{top:a,left:s,duration:p.duration,easing:p.easing}},u=function(e,t){return!t&&e.className&&e.className.indexOf("overthrow")>-1&&e||u(e.parentNode)},h=function(){clearInterval(n)},d=function(){if(!c&&(c=!0,(o||a)&&(r.className+=" "+s),e.overthrow.forget=function(){r.className=r.className.replace(s,""),i.removeEventListener&&i.removeEventListener("touchstart",x,!1),e.overthrow.easing=l,c=!1},!o&&a)){var n,d,f,m,g=[],v=[],w=function(){g=[],d=null},y=function(){v=[],f=null},b=function(){var e=8*(g[0]-g[g.length-1]),t=8*(v[0]-v[v.length-1]),i=Math.max(Math.abs(t),Math.abs(e))/8;e=(e>0?"+":"")+e,t=(t>0?"+":"")+t,!isNaN(i)&&i>0&&(Math.abs(t)>80||Math.abs(e)>80)&&p(n,{left:t,top:e,duration:i})},_=function(e){m=n.querySelectorAll("textarea, input");for(var t=0,i=m.length;i>t;t++)m[t].style.pointerEvents=e},k=function(e,r){if(i.createEvent){var s,a=(!r||r===t)&&n.parentNode||n.touchchild||n;a!==n&&(s=i.createEvent("HTMLEvents"),s.initEvent("touchend",!0,!0),n.dispatchEvent(s),a.touchchild=n,n=a,a.dispatchEvent(e))}},x=function(e){if(h(),w(),y(),n=u(e.target),n&&n!==r&&!(e.touches.length>1)){_("none");var t=e,i=n.scrollTop,s=n.scrollLeft,a=n.offsetHeight,o=n.offsetWidth,l=e.touches[0].pageY,c=e.touches[0].pageX,p=n.scrollHeight,m=n.scrollWidth,x=function(e){var r=i+l-e.touches[0].pageY,u=s+c-e.touches[0].pageX,h=r>=(g.length?g[0]:0),b=u>=(v.length?v[0]:0);r>0&&p-a>r||u>0&&m-o>u?e.preventDefault():k(t),d&&h!==d&&w(),f&&b!==f&&y(),d=h,f=b,n.scrollTop=r,n.scrollLeft=u,g.unshift(r),v.unshift(u),g.length>3&&g.pop(),v.length>3&&v.pop()},C=function(){b(),_("auto"),setTimeout(function(){_("none")},450),n.removeEventListener("touchmove",x,!1),n.removeEventListener("touchend",C,!1)};n.addEventListener("touchmove",x,!1),n.addEventListener("touchend",C,!1)}};i.addEventListener("touchstart",x,!1)}};e.overthrow={set:d,forget:function(){},easing:l,toss:p,intercept:h,closest:u,support:o?"native":a&&"polyfilled"||"none"},d()}(this),function(e){"use strict";function t(){var e;return e="undefined"!=typeof window.innerWidth?window.innerWidth:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.getElementsByTagName("body")[0].clientWidth}var n=function(){var e=$(this).closest("span._ppf");e.addClass("loaded")};e.picturefill=function(t,i){t||(t=window.jQuery("span._pf"));for(var r=0,s=t.length;s>r;r++)if(null!==t[r].className.match(/_pf/)){var a=t[r].getElementsByTagName("span"),o=[];t[r].className="_ppf";for(var l=null,c=0,p=a.length;p>c;c++){var u=a[c].getAttribute("data-q");(!u||"true"===u||e.matchMedia&&e.matchMedia(u).matches)&&("true"===u?l=a[c]:o.push(a[c]))}var h=t[r].getElementsByTagName("img")[0];if(!o.length&&l&&o.push(l),o.length>0){if(!h){h=e.document.createElement("img");var d=t[r].getAttribute("data-alt");d&&(h.alt=d),t[r].appendChild(h)}var f=o.pop().getAttribute("data-s");window.attachEvent?h.onload=function(e){n.bind(h)(e)}:(h.addEventListener("load",n),i&&h.addEventListener("load",i)),h.src=f}else h&&t[r].removeChild(h)}};var i=0;e.addEventListener?(e.addEventListener("resize",function(){var n=t();n>i&&(i=n,e.picturefill())},!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill)}(this),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};n()&&e.error("jquery-ujs has already been loaded!");var i;e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var r,s,a,o,l,c,p,u;if(i.fire(n,"ajax:before")){if(o=n.data("cross-domain"),l=o===t?null:o,c=n.data("with-credentials")||null,p=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),s=n.attr("action"),a=n.serializeArray();var h=n.data("ujs:submit-button");h&&(a.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),s=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(r=n.data("method"),s=i.href(n),a=n.data("params")||null);u={type:r||"GET",data:a,dataType:p,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[e,r])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},xhrFields:{withCredentials:c},crossDomain:l},s&&(u.url=s);var d=i.ajax(u);return n.trigger("ajax:send",d),d}return!1},handleMethod:function(n){var r=i.href(n),s=n.data("method"),a=n.attr("target"),o=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),p='<input name="_method" value="'+s+'" type="hidden" />';l!==t&&o!==t&&(p+='<input name="'+l+'" value="'+o+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(p).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),r=!1;return n?(i.fire(e,"confirm")&&(r=i.confirm(n),t=i.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,s,a=e(),o=n||"input,textarea";return t.find(o).each(function(){r=e(this),s=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!s==!i&&(a=a.add(r))}),a.length?a:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),s=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){return"function"==typeof t.handler?s=t.handler(i):void 0}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},i.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),e(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=e(this),s=r.data("method"),a=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==t){if(!(!n.metaKey&&!n.ctrlKey||s&&"GET"!==s||a))return!0;var o=i.handleRemote(r);return o===!1?i.enableElement(r):o.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),e(document).delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),e(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=e(this),s=r.data("remote")!==t,a=i.blankInputs(r,i.requiredInputSelector),o=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(a&&r.attr("novalidate")==t&&i.fire(r,"ajax:aborted:required",[a]))return i.stopEverything(n);if(s){if(o){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!e.support.submitBubbles&&e().jquery<"1.7"&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),e(document).delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var r=n.attr("name"),s=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),e(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(){window.isReferreredFromFB=function(){return isReferreredFrom("www.facebook.com")||isReferreredFrom("m.facebook.com")},window.isReferreredFrom=function(e){var t;return t=document.referrer.split("/"),t.length>2?t[2]===e:!1}}.call(this);/* SiteCatalyst code version: H.24.4.
Copyright 1996-2012 Adobe, Inc. All Rights Reserved
More info available at http://www.omniture.com */
var s_account="mashdev",s=s_gi(s_account);s.charSet="ISO-8859-1",s.currencyCode="USD",s.trackDownloadLinks=!1,s.trackExternalLinks=!0,s.trackInlineStats=!1,s.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",s.linkInternalFilters="javascript:,"+window.location.hostname,s.linkLeaveQueryString=!1,s.linkTrackVars="None",s.linkTrackEvents="None",s.usePlugins=!0,s.getQueryParam=new Function("p","d","u","var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.location);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v"),s.p_gpv=new Function("k","u","var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v"),s.p_gvf=new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return ''"),s.getTimeParting=new Function("t","z","y","l","var s=this,d,A,U,X,Z,W,B,C,D,Y;d=new Date();A=d.getFullYear();Y=U=String(A);if(s.dstStart&&s.dstEnd){B=s.dstStart;C=s.dstEnd}else{;U=U.substring(2,4);X='090801|101407|111306|121104|131003|140902|150801|161306|171205|181104|191003';X=s.split(X,'|');for(W=0;W<=10;W++){Z=X[W].substring(0,2);if(U==Z){B=X[W].substring(2,4);C=X[W].substring(4,6)}}if(!B||!C){B='08';C='01'}B='03/'+B+'/'+A;C='11/'+C+'/'+A;}D=new Date('1/1/2000');if(D.getDay()!=6||D.getMonth()!=0){return'Data Not Available'}else{z=z?z:'0';z=parseFloat(z);B=new Date(B);C=new Date(C);W=new Date();if(W>B&&W<C&&l!='0'){z=z+1}W=W.getTime()+(W.getTimezoneOffset()*60000);W=new Date(W+(3600000*z));X=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];B=W.getHours();C=W.getMinutes();D=W.getDay();Z=X[D];U='AM';A='Weekday';X='00';if(C>30){X='30'}if(B>=12){U='PM';B=B-12};if(B==0){B=12};if(D==6||D==0){A='Weekend'}W=B+':'+X+U;if(y&&y!=Y){return'Data Not Available'}else{if(t){if(t=='h'){return W}if(t=='d'){return Z}if(t=='w'){return A}}else{return Z+', '+W}}}"),s.split=new Function("l","d","var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a"),s.clearVars=function(){for(i=0;75>=i;i++)this["prop"+i]=this["eVar"+i]=null,5>=i&&(this["hier"+i]=null),3>=i&&(this["list"+i]=null);this.pageName=this.channel=this.events=this.purchaseID=this.transactionID=this.server=this.pageType=null},s.doPlugins=function(e){e.campaign||(e.campaign=e.getQueryParam("utm_cid")||e.getQueryParam("cid")),e.eVar74||(e.eVar74=e.getQueryParam("utm_icid"));var t=new Date,n=t.getFullYear();e.prop62=e.eVar62=e.getTimeParting("h","-5",n),e.prop63=e.eVar63=e.getTimeParting("d","-5",n),e.prop64=e.eVar64=e.getTimeParting("w","-5",n)},s.visitorNamespace="mashable",s.trackingServer="mashable.d2.sc.omtrdc.net";var s_code="",s_objectID;s_giqf(),/** Copyright (c) 2013 Sailthru, Inc. | Generated: Tue Aug 6 9:22:03 EDT 2013 **/
function(){var e,t=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};window.Sailthru=window.sailthru=e=function(){function e(){this.options={spider:!0,concierge:!1,akamai:!1,track_url:!0,cookieDomain:window.location.host,useStoredTags:!1},this.hidden=!1,this.protocol=window.location.protocol}var n;return n=null,e.setup=function(t){var n,i,r,s,a,o,l;if("undefined"!=typeof t.domain){if(r=e,r.tracked={},!(r.__instance instanceof e)){r.__instance=new this;for(n in t)i=t[n],r.__instance.options[n]=t[n];if("undefined"==typeof r.__instance.options.tags&&(r.__instance.options.tags=r.__instance.getContentTags()),r.__instance.options.jQuery?e.jq=r.__instance.options.jQuery:window.jQuery?e.jq=window.jQuery:window.$&&(e.jq=window.$),a=r.__instance.cookieIsEnabled(),l=-1!==document.location.search.indexOf("concierge_stage"),o="true"===r.__instance.getCookie("sailthru_recommendation_hidden"),(r.__instance.options.concierge||l)&&a&&!o){if(r.__instance.options.concierge=r.__instance._conciergeDefaultOptions(),t.concierge!==!0){s=t.concierge;for(n in s)i=s[n],r.__instance.options.concierge[n]=t.concierge[n]}l&&(r.__instance.options.concierge.stage=1),(!t.concierge.stage_only||l)&&r.__instance._recommendationBox()}else("undefined"!=typeof r.__instance.options.tags||r.__instance.options.spider===!0)&&r.__instance._horizonTrack()}return r.__instance}},e.logFB=function(e){var t,n,i,r;return null==e&&(e=!1),e===!1&&(e=window.location.href),n={},r=function(e,t){var n;"undefined"!=typeof window.FB?window.FB.api("/",{id:e},function(e){return"undefined"!==e.shares?t(e.shares):void 0}):(n={url:"https://graph.facebook.com/?id="+encodeURIComponent(e),async:!1,success:function(e){return"undefined"!==e.shares?t(e.shares):void 0}},$.ajax(n))},window.FB&&(i=window.FB,t=function(){var e;return e=!1,i.getLoginStatus(function(t){t.authResponse?t.authResponse.userID&&(e={logged_in:!0,uid:null!=t.authResponse.userID}):t.session?t.session.uid&&(e={uid:t.session.uid,logged_in:!0}):e=!1}),e}(),t!==!1&&(n=t)),r(e,function(e){"undefined"!==e&&(n.shares=e)}),n},e.track=function(t){if("undefined"!=typeof t.domain){var n,i,r=e;r.__trackInstance=new this;for(n in t)i=t[n],r.__trackInstance.options[n]=t[n];"undefined"==typeof r.__trackInstance.options.tags&&(r.__trackInstance.options.tags=r.__trackInstance.getContentTags()),r.__trackInstance._horizonTrack()}},e.prototype.getContentTags=function(){var e,t,n,i,r,s;if(e=document.getElementsByTagName("meta"),e.length>0){for(n=0,r=e.length;r>n;n++)if(t=e[n],"undefined"!=typeof t.name&&"sailthru.tags"===t.name.toLowerCase()&&"undefined"!=typeof t.content)return t.content;for(i=0,s=e.length;s>i;i++)if(t=e[i],"undefined"!=typeof t.name&&"keywords"===t.name.toLowerCase()&&"undefined"!=typeof t.content)return t.content}return null},e.prototype.getCookie=function(e){var t,n,i,r,s;if(this.cookieIsEnabled()!==!0)return null;for(i=e+"=",n=document.cookie.split(";"),r=0,s=n.length;s>r;r++){for(t=n[r];" "===t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(i))return t.substring(i.length,t.length)}return null},e.prototype.setCookie=function(e,t,n){var i,r;return this.cookieIsEnabled()!==!0?!1:(r=new Date,r.setDate(r.getDate()+n),i=e+"="+escape(t),null!==n&&(r=new Date,r.setDate(r.getDate()+n),i+=";expires="+r.toUTCString()),i+=";path=/;domain="+this.options.cookieDomain,document.cookie=i,!0)},e.prototype.cookieIsEnabled=function(){return navigator.cookieEnabled||t.call(document,"cookie")>=0&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)},e.prototype.tagsToString=function(e){var t;return t=e instanceof Array?e.join(","):e},e.recommendationTrack=function(t,n,i,r){var s,a,o,l,c,p,u;if("undefined"==typeof e.tracked&&(e.tracked={}),!e.tracked[i]){if(e.tracked[i]=!0,"https:"===window.location.protocol?(p="https://horizon.sailthru.com/horizon/recommendtrack?id="+n,p+="&d="+t,sailthru_hid=this.getCookie("sailthru_hid"),null!==sailthru_hid&&(p+="&hid="+sailthru_hid)):p=window.location.protocol+"//"+t+"/horizon/recommendtrack?id="+n,i&&(p+="&event="+i),r)for(l in r)u=r[l],p+="&"+l+"="+encodeURIComponent(u);"click"===i&&(o=e.__instance,s=parseInt(o.getCookie("hcl")),s=isNaN(s)?1:s+1,o.setCookie("hcl",s,5)),c=parseInt(1e4*Math.random(),10),p+="&cb="+c,a=new Image(1,1),a.src=p,a.onerror=""}},e.recommendationBoxCallback=function(t){return e.jq(document).trigger("SailthruDataLoaded",[t])},e.emailSignup=function(){var t,n,i=e.__instance.options;return n=e.jq(this).serialize(),document.getElementById("sailthru_email_address")&&(t=window.location.protocol+"//"+i.domain+"/horizon/conciergesignup?format=jsonp&callback=?&"+n,i.concierge.stage&&(t+="&concierge_stage=1"),e.jq.getJSON(t)),!1},e.signupCallback=function(t){var n,i;n=e.jq(".recommendationSignup"),n.html(t.content.html),i=n.find("form"),i.submit(e.emailSignup),t.ok&&setTimeout(function(){e.prototype._hide(),e.__instance.hidden=!0},1500)},e.prototype.test=function(){"undefined"!=typeof console&&console.log("this is test call")},e.prototype._conciergeDefaultOptions=function(){var e,t;return e="ak.sail-horizon.com",t={from:"top",threshold:400,delay:null,offsetBottom:0,cssPath:this.protocol+"//"+e+"/horizon/recommendation.css"}},e.prototype._recommendationBox=function(){var t,n,i,r,s,a,o,l,c;return t=e.jq.extend({},this.options.concierge),s=null,n=!1,"https:"===this.protocol?(t.url="https://horizon.sailthru.com/recommend?format=jsonp&callback=?",sailthru_hid=this.getCookie("sailthru_hid"),t.url+="&d="+this.options.domain,null!==sailthru_hid&&(t.url+="&hid="+sailthru_hid)):t.url=this.protocol+"//"+this.options.domain+"/recommend?format=jsonp&callback=?",this.options.concierge.filter&&this.options.concierge.filter.tags&&(t.url+="&filter[tags]="+this.tagsToString(this.options.concierge.filter.tags)),this.options.spider!==!0&&(t.url+="&nospider=1"),this.options.noPageview&&(t.url+="&nopageview=1"),this.options.useStoredTags&&(t.url+="&use_stored_tags=1"),this.options.tags&&(t.url+="&tags="+encodeURIComponent(this.tagsToString(this.options.tags))),this.getCookie("hcl")&&(t.url+="&num_clicks="+this.getCookie("hcl")),this.options.concierge.stage&&(t.url+="&concierge_stage=1"),t.domain=this.options.domain,this.data={},r=this,i="undefined"!=typeof this.options.delay?this.options.delay:!1,o=function(){var n=this;return l(t.cssPath),e.jq(document).bind("SailthruDataLoaded",function(e,t){return n.data=t,n.dataLoaded=!0,a.call(n)}),e.jq.getJSON(t.url),e.jq(window).scroll(function(){var i,r,s,a,o;return n.dataLoaded===!0?(i=e.jq(this),s=i.scrollTop(),r=e.jq(document).height()-e.jq(window).height(),t.threshold instanceof jQuery?(o=0-(t.threshold.eq(0).offset().top-e.jq(window).height()),a=0):(o="bottom"===t.from?t.threshold:-t.threshold,a="bottom"===t.from?r:0),s>=a-o&&!n.hidden?c.call(n):e.__instance._hide()):void 0}),i?s=setTimeout(function(){return clearTimeout(s),c.call(n)},i):void 0},l=function(e){var t;t=document.createElement("link"),t.href=e,t.rel="stylesheet",t.type="text/css",t.async=!0,document.getElementsByTagName("head")[0].appendChild(t)},a=function(){var n,i,s,a,o,l=this;a=this.data.content,n=e.jq('<div class="recommendation sailthruRecommendation" />'),-1!=navigator.appVersion.indexOf("MSIE 1")&&n.addClass("ie"),"undefined"!=typeof a.html&&(n.html(a.html),i=n.find("a.closeRecommendation"),s=n.find("a.openRecommendation"),o=n.find("form"),n.appendTo("body")),i.click(function(t){return t.preventDefault(),r.setCookie("sailthru_recommendation_hidden","true",30),l.hidden=!0,e.__instance._hide(),!1}),s.click(function(e){return e.preventDefault(),r.setCookie("sailthru_recommendation_hidden","false",30),l.hidden=!1,c.call(l),!1}),o.submit(e.emailSignup),setTimeout(function(){var i,r,s;return i=e.jq('<iframe id="sailthru_iframe" src="" FRAMEBORDER="0" />'),r={bottom:t.offsetBottom,zIndex:"10000"},n.css(r),s={position:"fixed",width:n.outerWidth(),height:n.outerHeight(),zIndex:"9999",right:0,bottom:t.offsetBottom,display:"none"},i.css(s),i.appendTo("body"),l.$elem=n,l.$iframe=i},100)},c=function(){return navigator.cookieEnabled?r.getCookie(!1)?!1:e.__instance.hidden?!1:(this.$elem&&!this.$elem.is(":animated")&&(this.$elem.find(".openWrapper").hide(),this.$iframe.show(),this.$elem.show().animate({right:0},"normal")),this.data.content.id?e.recommendationTrack(t.domain,this.data.content.id,"show",this.data.track):!1):!1},o.call(this)},e.prototype._hide=function(){var t,n,i,r,s,a;return n=e.jq(".sailthruRecommendation"),i=e.jq("#sailthru_iframe"),n&&!n.is(":animated")?(r=n.find(".openWrapper"),t=r.children("a"),s=n.outerHeight()/2-11,r.show(),a=n.outerWidth()-r.outerWidth(),n.animate({right:-a},"normal",function(){return i.hide()})):void 0},e.prototype._horizonTrack=function(){var e,t,n,i,r,s,a,o,l;if(n=parseInt(1e4*Math.random(),10),e="https:"===this.protocol?"horizon.sailthru.com":this.options.domain,r=this.protocol+"//"+e+"/horizon/track",l=this.protocol+"//ak.sail-horizon.com",r=this.options.akamai===!0?l+"/aktrack.gif":r,r+="?r="+n,this.options.track_url===!0&&(r+="&url="+(void 0!=this.options.url?encodeURIComponent(this.options.url):encodeURIComponent(document.location))),("https:"===this.protocol||this.options.akamai===!0)&&(r+="&d="+this.options.domain),i=this.getCookie("sailthru_hid"),null===i||this.options.akamai!==!0&&"https:"!==this.protocol||(r+="&hid="+i),"undefined"!=typeof this.options.tag&&(this.options.tags=this.options.tag),this.options.useStoredTags&&(r+="&use_stored_tags=1"),this.options.tags)if(this.options.tags instanceof Array)r+="&tags="+encodeURIComponent(this.options.tags.join(","));else if(this.options.tags instanceof Object){a=this.options.tags;for(s in a)o=a[s],r+="&tags["+encodeURIComponent(s)+"]="+encodeURIComponent(o)}else r+="&tags="+encodeURIComponent(this.options.tags);return this.options.spider&&(r+="&spider=1"),t=new Image(1,1),t.src=r,t.onerror="",t},e}()}.call(this),function(e,t){"use strict";var n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,n,i=[["requestFullscreen","exitFullscreen","fullscreenchange","fullscreen","fullscreenElement","fullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange","webkitIsFullScreen","webkitCurrentFullScreenElement","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozFullScreen","mozFullScreenElement","mozfullscreenerror"]],r=0,s=i.length,a={};s>r;r++)if(e=i[r],e&&e[1]in t){for(r=0,n=e.length;n>r;r++)a[i[0][r]]=e[r];return a}return!1}(),r={isFullscreen:t[i.fullscreen],element:t[i.fullscreenElement],request:function(e){var r=i.requestFullscreen;e=e||t.documentElement,e[r](n&&Element.ALLOW_KEYBOARD_INPUT),t.isFullscreen||e[r]()},exit:function(){t[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){}};return i?(t.addEventListener(i.fullscreenchange,function(n){r.isFullscreen=t[i.fullscreen],r.element=t[i.fullscreenElement],$(e).trigger("fullscreen",r.isFullscreen,r.element),r.onchange.call(r,n)}),t.addEventListener(i.fullscreenerror,function(e){r.onerror.call(r,e)}),e.screenfull=r,void 0):(e.screenfull=null,void 0)}(window,document),function(){!function(e){return e.fn.swipe=function(t){var n,i,r;return n={maxTime:500,fingers:1,deadzone:15,distance:150,delay:200,swipeLeft:function(){},swipeRight:function(){},swipeUp:function(){},swipeDown:function(){},pinch:function(){},expand:function(){},passthru:function(){return!1}},i=e.extend({},n,t),r=function(e,t,n,r,s,a){var o,l,c;if(l=n-e,c=r-t,o=a-s,o<i.maxTime){if(Math.abs(c)<i.deadzone){if(l<-i.distance)return i.swipeLeft(),!0;if(l>i.distance)return i.swipeRight(),!0}else if(Math.abs(l)<i.deadzone){if(c<-i.distance)return i.swipeUp(),!0;if(c>i.distance)return i.swipeDown(),!0}return!1}},this.each(function(){var t,n,s,a,o,l,c,p,u,h;return c=0,u=0,p=0,h=0,n=0,a=0,l=0,o=0,t=e(this),t.bind("touchstart",function(e){var t,i,r;return n=e.originalEvent.touches.length,l=new Date,n>=1&&(r=e.originalEvent.touches[0],c=r.pageX,u=r.pageY),2===n?(r=e.originalEvent.touches[1],p=r.pageX,h=r.pageY,t=Math.abs(c-p),i=Math.abs(u-h),o=Math.sqrt(t*t+i*i)):void 0}),s=function(e){var t,s,p,h,d,f,m,g;return n=e.originalEvent.touches.length,d=new Date,d-a>i.delay&&(1===n?(f=e.originalEvent.touches[0],n===i.fingers&&r(c,u,f.pageX,f.pageY,l,d)&&(a=d,n=0)):2===n&&(m=e.originalEvent.touches[0],g=e.originalEvent.touches[1],p=Math.abs(m.pageX-g.pageX),h=Math.abs(m.pageY-g.pageY),s=Math.sqrt(p*p+h*h),t=s-o,t<-i.distance?(i.pinch(),a=d,n=0):t>i.distance&&(i.expand(),a=d,n=0))),i.passthru()?void 0:(e.preventDefault(),!1)},t.bind("touchmove",s)})}}(jQuery)}.call(this),!function(e,t){"use strict";var n=t.prototype.trim,i=t.prototype.trimRight,r=t.prototype.trimLeft,s=function(e){return 1*e||0},a=function(e,t){if(1>t)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n},o=[].slice,l=function(e){return null==e?"\\s":e.source?e.source:"["+d.escapeRegExp(e)+"]"},c={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},p={};for(var u in c)p[c[u]]=u;p["'"]="#39";// Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
var h=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=a,i=function(){return i.cache.hasOwnProperty(arguments[0])||(i.cache[arguments[0]]=i.parse(arguments[0])),i.format.call(null,i.cache[arguments[0]],arguments)};return i.format=function(i,r){var s,a,o,l,c,p,u,d=1,f=i.length,m="",g=[];for(a=0;f>a;a++)if(m=e(i[a]),"string"===m)g.push(i[a]);else if("array"===m){if(l=i[a],l[2])for(s=r[d],o=0;o<l[2].length;o++){if(!s.hasOwnProperty(l[2][o]))throw new Error(h('[_.sprintf] property "%s" does not exist',l[2][o]));s=s[l[2][o]]}else s=l[1]?r[l[1]]:r[d++];if(/[^s]/.test(l[8])&&"number"!=e(s))throw new Error(h("[_.sprintf] expecting number but found %s",e(s)));switch(l[8]){case"b":s=s.toString(2);break;case"c":s=t.fromCharCode(s);break;case"d":s=parseInt(s,10);break;case"e":s=l[7]?s.toExponential(l[7]):s.toExponential();break;case"f":s=l[7]?parseFloat(s).toFixed(l[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=t(s))&&l[7]?s.substring(0,l[7]):s;break;case"u":s=Math.abs(s);break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}s=/[def]/.test(l[8])&&l[3]&&s>=0?"+"+s:s,p=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",u=l[6]-t(s).length,c=l[6]?n(p,u):"",g.push(l[5]?s+c:c+s)}return g.join("")},i.cache={},i.parse=function(e){for(var t=e,n=[],i=[],r=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(n[2]){r|=1;var s=[],a=n[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(a)))throw new Error("[_.sprintf] huh?");for(s.push(o[1]);""!==(a=a.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(a)))s.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(a)))throw new Error("[_.sprintf] huh?");s.push(o[1])}n[2]=s}else r|=2;if(3===r)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}t=t.substring(n[0].length)}return i},i}(),d={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=null==e?"":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return null==e?[]:(e=t(e),n=~~n,n>0?e.match(new RegExp(".{1,"+n+"}","g")):[e])},clean:function(e){return d.strip(e).replace(/\s+/g," ")},count:function(e,n){if(null==e||null==n)return 0;e=t(e),n=t(n);for(var i=0,r=0,s=n.length;;){if(r=e.indexOf(n,r),-1===r)break;i++,r+=s}return i},chars:function(e){return null==e?[]:t(e).split("")},swapCase:function(e){return null==e?"":t(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return null==e?"":t(e).replace(/[&<>"']/g,function(e){return"&"+p[e]+";"})},unescapeHTML:function(e){return null==e?"":t(e).replace(/\&([^;]+);/g,function(e,n){var i;return n in c?c[n]:(i=n.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(i[1],16)):(i=n.match(/^#(\d+)$/))?t.fromCharCode(~~i[1]):e})},escapeRegExp:function(e){return null==e?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,i){var r=d.chars(e);return r.splice(~~t,~~n,i),r.join("")},insert:function(e,t,n){return d.splice(e,t,0,n)},include:function(e,n){return""===n?!0:null==e?!1:-1!==t(e).indexOf(n)},join:function(){var e=o.call(arguments),t=e.shift();return null==t&&(t=""),e.join(t)},lines:function(e){return null==e?[]:t(e).split("\n")},reverse:function(e){return d.chars(e).reverse().join("")},startsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return null==e?"":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return null==e?"":t(e).replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},camelize:function(e){return d.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t.toUpperCase()})},underscored:function(e){return d.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return d.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return d.titleize(t(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return d.capitalize(d.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,i){return null==e?"":!i&&n?n.call(e):(i=l(i),t(e).replace(new RegExp("^"+i+"+|"+i+"+$","g"),""))},ltrim:function(e,n){return null==e?"":!n&&r?r.call(e):(n=l(n),t(e).replace(new RegExp("^"+n+"+"),""))},rtrim:function(e,n){return null==e?"":!n&&i?i.call(e):(n=l(n),t(e).replace(new RegExp(n+"+$"),""))},truncate:function(e,n,i){return null==e?"":(e=t(e),i=i||"...",n=~~n,e.length>n?e.slice(0,n)+i:e)},prune:function(e,n,i){if(null==e)return"";if(e=t(e),n=~~n,i=null!=i?t(i):"...",e.length<=n)return e;var r=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},s=e.slice(0,n+1).replace(/.(?=\W*\w*$)/g,r);return s=s.slice(s.length-2).match(/\w\w/)?s.replace(/\s*\S+$/,""):d.rtrim(s.slice(0,s.length-1)),(s+i).length>e.length?e:e.slice(0,s.length)+i},words:function(e,t){return d.isBlank(e)?[]:d.trim(e,t).split(t||/\s+/)},pad:function(e,n,i,r){e=null==e?"":t(e),n=~~n;var s=0;switch(i?i.length>1&&(i=i.charAt(0)):i=" ",r){case"right":return s=n-e.length,e+a(i,s);case"both":return s=n-e.length,a(i,Math.ceil(s/2))+e+a(i,Math.floor(s/2));default:return s=n-e.length,a(i,s)+e}},lpad:function(e,t,n){return d.pad(e,t,n)},rpad:function(e,t,n){return d.pad(e,t,n,"right")},lrpad:function(e,t,n){return d.pad(e,t,n,"both")},sprintf:h,vsprintf:function(e,t){return t.unshift(e),h.apply(null,t)},toNumber:function(e,t){return e?(e=d.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?s(s(e).toFixed(~~t)):0/0):0},numberFormat:function(e,t,n,i){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),i="string"==typeof i?i:",";var r=e.split("."),s=r[0],a=r[1]?(n||".")+r[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+a},strRight:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var i=n?e.indexOf(n):-1;return~i?e.slice(i+n.length,e.length):e},strRightBack:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var i=n?e.lastIndexOf(n):-1;return~i?e.slice(i+n.length,e.length):e},strLeft:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var i=n?e.indexOf(n):-1;return~i?e.slice(0,i):e},strLeftBack:function(e,t){if(null==e)return"";e+="",t=null!=t?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,i){t=t||", ",n=n||" and ";var r=e.slice(),s=r.pop();return e.length>2&&i&&(n=d.rtrim(t)+n),r.length?r.join(t)+n+s:s},toSentenceSerial:function(){var e=o.call(arguments);return e[3]=!0,d.toSentence.apply(d,e)},slugify:function(e){if(null==e)return"";var n="ąàáäâãåæćęèéëêìíïîłńòóöôõøśùúüûñçżź",i="aaaaaaaaceeeeeiiiilnoooooosuuuunczz",r=new RegExp(l(n),"g");return e=t(e).toLowerCase().replace(r,function(e){var t=n.indexOf(e);return i.charAt(t)||"-"}),d.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e){return d.surround(e,'"')},exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse)$/)&&(e[t]=this[t]);return e},repeat:function(e,n,i){if(null==e)return"";if(n=~~n,null==i)return a(t(e),n);for(var r=[];n>0;r[--n]=e);return r.join(i)},naturalCmp:function(e,n){if(e==n)return 0;if(!e)return-1;if(!n)return 1;for(var i=/(\.\d+)|(\d+)|(\D+)/g,r=t(e).toLowerCase().match(i),s=t(n).toLowerCase().match(i),a=Math.min(r.length,s.length),o=0;a>o;o++){var l=r[o],c=s[o];if(l!==c){var p=parseInt(l,10);if(!isNaN(p)){var u=parseInt(c,10);if(!isNaN(u)&&p-u)return p-u}return c>l?-1:1}}return r.length===s.length?r.length-s.length:n>e?-1:1},levenshtein:function(e,n){if(null==e&&null==n)return 0;if(null==e)return t(n).length;if(null==n)return t(e).length;e=t(e),n=t(n);for(var i,r,s=[],a=0;a<=n.length;a++)for(var o=0;o<=e.length;o++)r=a&&o?e.charAt(o-1)===n.charAt(a-1)?i:Math.min(s[o],s[o-1],i)+1:a+o,i=s[o],s[o]=r;return s.pop()}};d.strip=d.trim,d.lstrip=d.ltrim,d.rstrip=d.rtrim,d.center=d.lrpad,d.rjust=d.lpad,d.ljust=d.rpad,d.contains=d.include,d.q=d.quote,"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(module.exports=d),exports._s=d),"function"==typeof define&&define.amd&&define("underscore.string",[],function(){return d}),e._=e._||{},e._.string=e._.str=d}(this,String),window.assetMap={"livefyre-wall":"http://rack.3.mshcdn.com/assets/app/streamhub-sdk.min-2d44b2112ee80fab0baa5175b558da84.js"},function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g=[].slice;for(window.console||(window.console={log:function(){var e;e=1<=arguments.length?g.call(arguments,0):[]}}),window.debug=function(){var e;return e=1<=arguments.length?g.call(arguments,0):[],window.console&&console.log(e),null},window.App={},e=$(window),App.VISIBLE_SIDEBAR="(min-width: 960px)",window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)}}(),window.location.searchObj={},m=window.location.search.substring(1).split("&"),d=0,f=m.length;f>d;d++)o=m[d],h=o.split("="),window.location.searchObj[h[0]]=unescape(h[1]);t=null,window.env_is=function(e){return window.env()===e},window.env=function(){return t||(t=$("html").data("env"))},window.provides=function(e){return window.App=_.extend({},e,window.App)},window.delay=function(e,t){return setTimeout(t,e)},window.every=function(e,t){return setInterval(t,e)},window.formFocused=function(){var e,t;return document.activeElement?(e=$(document.activeElement),t=document.activeElement.tagName.toLowerCase(),"input"===t||"textarea"===t||"select"===t||e.attr("contenteditable")):!1},function(){var t,n;return n=[],t=function(e){var t;return Modernizr.rgba?!1:(t=e.match(/min-width: (\d+)/)).length>1&&$(document).width()>t[1]},e.on("resize.querymapping",function(){return $.throttle("checkQueries",75,function(){var e,i,r,s;for(i=null,r=0,s=n.length;s>r;r++)e=n[r],(Modernizr.mq(e[1])||t(e[1]))&&(i||(i=[]),i.push(e),e[2]());return i?n=_.difference(n,i):void 0})}),window.onceQueryIs=function(e,i,r){var s,a,o;if(Modernizr.mq(i)||t(i))return r();for(a=0,o=n.length;o>a;a++)if(s=n[a],s[0]===e)return s[1]=i,s[2]=r,void 0;return n.push([e,i,r])}}(),window.isNearBottom=function(e,t){var n,i,r;return i=e.height(),r=e.scrollTop()+i,n=e[0].scrollHeight?e[0].scrollHeight:document.documentElement.scrollHeight,r+i*t>n},window.writeSession=function(e,t,n){return writeStore("sessionStorage",e,t,n)},window.writeLocal=function(e,t,n){return writeStore("localStorage",e,t,n)},window.readSession=function(e,t,n){return readStore("sessionStorage",e,t,n)},window.readLocal=function(e,t,n){return readStore("localStorage",e,t,n)},window.deleteSession=function(e,t,n){return deleteStore("sessionStorage",e,t,n)},window.deleteLocal=function(e,t,n){return deleteStore("localStorage",e,t,n)},s=0,i=0,r=0,e.on("resize",function(){var t,n,a;return t=(new Date).getTime(),t-r>10?(r=t,a=e.width(),n=e.height(),s!==a&&e.trigger("resize-width"),i!==a&&e.trigger("resize-height"),s=a,i=n):void 0}),window.writeStore=function(e,t,n,i){var r,s;if(window[e])return window[e][t]=JSON.stringify(n),s=(new Date).getTime(),i?(r=JSON.parse(window[e]._ex||"{}"),r[t]=s+i,window[e]._ex=JSON.stringify(r)):void 0},window.readStore=function(e,t){var n,i,r;if(window[e])return n=JSON.parse(window[e]._ex||"{}"),i=(new Date).getTime(),n[t]&&n[t]<i?null:(r=window[e][t],r?JSON.parse(r):null)},window.deleteStore=function(e,t){var n;if(window[e])try{return delete window[e][t]}catch(i){return n=i,window[e][t]=void 0}},window.plusOneLoaded=function(){return GooglePlus.load(window.gapi)},window.GooglePlus=$.extend([],{run:function(e){return e(window.gapi)},load:function(){var e,t,n;for(this.shift=this.run,this.push=this.run,t=0,n=this.length;n>t;t++)e=this[t],this.run(e);return this.splice(0,this.length)}}),window.loadFbMarketing=function(e){return window.fb_param={pixel_id:e,value:"0.00"},a("https://connect.facebook.net/en_US/fp.js","fp")},a=null,function(){var e,t,n;return n=[],e=null,t={facebook:"https://connect.facebook.net/en_US/all.js#appId=116628718381794&xfbml=1&status=1&cookie=1",twitter:"https://platform.twitter.com/widgets.js",gplus:"https://apis.google.com/js/plusone.js",gplusapi:"https://apis.google.com/js/client:plusone.js?onload=plusOneLoaded"},a=function(i,r,s,a){var o,l,c,p,u;if(o=t[i],o&&(r=i+"_jssdk",i=o),s||(s=null),!document.getElementById(r)&&!n[r]&&!n[i]){n[r]=!0,n[i]=!0,e||(e=document.getElementsByTagName("script")[0]),c=document.createElement("script"),c.id=r,c.async=!0,c.src=i;try{c.innerHTML=decodeURI(s)}catch(h){l=h,c.textContent=s}if(a)for(p in a)u=a[p],c.setAttribute(p,u);return e.parentNode.insertBefore(c,e),c}}}(),this.loadScriptAsync=a,window.params=function(){var e,t,n,i,r,s,a;if(!window.location.search)return{};for(r={},s=window.location.search.slice(1).split("&"),n=0,i=s.length;i>n;n++)t=s[n],a=t.split("=",2),e=a[0],h=a[1],r[e]=unescape(h);return r},function(){var e,t;return e={},t={},$.throttle=function(n,i,r){var s,a;return s=(new Date).getTime(),!e[n]||s-e[n]>i?(e[n]=s,r()):!t[n]||s-t[n]<i?(a=i-(s-e[n]),delay(a,r),t[n]=s,e[n]=s+a):void 0}}(),window.Facebook=$.extend([],{run:function(e){return e(window.FB)},load:function(){var e,t,n;for(this.shift=this.run,this.push=this.run,t=0,n=this.length;n>t;t++)e=this[t],this.run(e);return this.splice(0,this.length)}}),window.fbAsyncInit=function(){return Facebook.load(window.FB)},window.Twitter=$.extend([],{run:function(e){return e(window.twttr)},load:function(){var e,t,n,i,r;for(this.shift=this.run,e=this.run,r=[],n=0,i=this.length;i>n;n++)t=this[n],r.push(this.run(t));return r}}),window.twttr||(window.twttr=u={_e:[],ready:function(e){return u._e.push(e)}}),twttr.ready(function(){return window.Twitter.load()}),Facebook.push(function(e){return e.init({appId:"122071082108",channelUrl:"//#{window.location.hostname}/channel.html",status:!0,cookie:!0,xfbml:!1})}),function(){var e,t,n;return n={},t=function(){var e,t,i,r,s,a,o,l;for(i=2<=arguments.length?g.call(arguments,0,r=arguments.length-1):(r=0,[]),e=arguments[r++],0===i.length&&i.push("_G"),o=_.flatten(i),l=[],s=0,a=o.length;a>s;s++)t=o[s],n[t]||(n[t]=[]),l.push(n[t].push(e));return l},this.$$=e=t,this.initPage=function(e){var t,i,r,s,a,o,l,c;if(null==e&&(e=!1),window.jQuery.migrateMute=window.env_is("production"),window.picturefill(),$(".tooltip-trigger").tooltip(),loadAnalytics(),i=document.body.getAttribute("data-jsid"),i&&n[i])for(l=n[i],r=0,a=l.length;a>r;r++)t=l[r],t($,e);if(n._G)for(c=n._G,s=0,o=c.length;o>s;s++)t=c[s],t($,e);return this.pageLoaded=!0}}(),$(document).on("page:change",function(){return window.initPage(!0)}),window.login=function(e){return null==e&&(e=!1),window.__loginScreen=App.AjaxDialog.open("/login/?xhr=1&return="+escape(window.location.pathname+window.location.search)),null!=document.activeElement&&document.activeElement.blur(),e?App.AjaxDialog.lightbox.el.on("click",".login-popup",function(e){return App.AjaxDialog.lightbox.hide(),App.WaitDialog.show(),window.Livefyre?(window.Livefyre.startLogin($(this).attr("href"),600,400,function(){return App.WaitDialog.lightbox.hide(),checkLogin()}),e.preventDefault(),!1):!0}):App.AjaxDialog.lightbox.el.off("click",".login-popup").on("click",".login-popup",function(){return popupCenter($(this).attr("href"),650,650,"login-popup"),!1})},c=[window.location.pathname],window.setUrl=function(e,t,n){var i,r,s;return null==t&&(t=!1),null==n&&(n=!0),e?(r=!1,n&&-1===_.indexOf(c,e)&&(r=!0,c.push(e),window.gaq&&window.gaq.push(["_trackPageview",e])),history.pushState&&(i=t?"replaceState":"pushState",s=window.history.state||window.location.pathname,history[i](s,"",e)),r):!1},n=function(e){var t;return t=e.id?Handlebars.templates["templates/header/user_menu"]:Handlebars.templates["templates/header/no_user_menu"],$(".main-menu #sign-in, .main-menu .user-submenu").replaceWith(t(e))},window.checkLogin=function(e){var t,i,r,s,a;return null==e&&(e=null),r=$.cookie("mv2_ver"),r?(t=r.split(/[.-]/),s=t[0],a=t[1],i=readSession("session"),i&&(this.__userSession=i,s===i.id?n(i):($.cookie("mv2_ver",null),i=!1)),l(e)):(deleteSession("session"),null!=e?e({}):void 0)},window.getUserSession=function(e){return this.__userSession?this.__userSession:window.checkLogin(e)},l=function(e){return $.getJSON("/me.json").success(function(t){return t.ts="undefined"!=typeof user_ts&&null!==user_ts?user_ts:$.cookie("mv2_ver").split(/[.-]/)[1],writeSession("session",t,6e5),n(t),this.__userSession=t,null!=e?e(t):void 0}).error(function(){return deleteSession("session"),n({}),null!=e?e(null):void 0})},window.popupCenter=function(e,t,n,i){var r,s;return r=screen.width/2-t/2,s=screen.height/2-n/2,window.open(e,i,"menubar=no,toolbar=no,status=no,width="+t+",height="+n+",toolbar=no,left="+r+",top="+s)},p=function(){return"1"===window.params().phoenix?($("body").addClass("phoenix"),window.Phoenix||(window.Phoenix={}),Phoenix.sendContentHeight=function(){return window.location.href="ready://"+document.body.scrollHeight},e.on("load",function(){return Phoenix.sendContentHeight()})):void 0},$(function(){var e;return $(".main-menu").on("click","#sign-in a",function(e){return e.stopPropagation(),window.login(),!1}),checkLogin(),e=$(".loader"),$(document).on("page:fetch",function(){return e.addClass("visible")}).on("page:load",function(){return e.removeClass("visible")}),p()}),window.isAttachedToDom=function(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1},window.scrollContainer=function(){return window.__scrollContainer||(window.__scrollContainer=e)},$$(function(){var t,n,i,r,s;return t=$("body"),scrollContainer(),$("#scribbleIframe").length&&(s=every(100,function(){var e,t,n,i;try{e=$("#scribbleIframe"),i=e[0],n=null!=i.contentDocument||null!=i.contentWindow&&i.contentWindow.document}catch(r){t=r,n=!1}return n&&e.contents()[0]&&e.contents()[0].body&&e.height(e.contents()[0].body.scrollHeight),delay(1e4,function(){return clearInterval(s)})})),"login-popup"===window.name&&(null!=window.opener&&null!=window.opener.__loginScreen&&(window.opener.__loginScreen.lightbox.hide(),window.opener.checkLogin()),window.close()),$("time").relatizeDate(),activateShareButtons("#scrollable"),$(".nav-tabs[data-auto] li:first-child").addClass("active"),n=window.location.hash.match(/[a-z0-9_-]+/),null!=n&&$(".nav-tabs a[href='#"+n[0]+"']").tab("show"),i=function(){var e,t,n,i,r,s,a,o,l,c;for(a=$(".auto-activate"),c=[],o=0,l=a.length;l>o;o++)s=a[o],t=$(s),r=t.find("li").removeClass("active"),r.length>0?($(r[0]).addClass("active"),c.push(function(){var t,s,a;for(a=[],t=0,s=r.length;s>t;t++){if(i=r[t],e=$(i),n=e.find("a").attr("href"),window.location.pathname.match(new RegExp("^"+n+"/?$"))){r.removeClass("active"),e.addClass("active");break}a.push(void 0)}return a}())):c.push(void 0);return c},i(),r=function(){var t;return t=/iP(hone|od|ad)/.test(window.navigator.userAgent),t?e.on("load",function(){return setTimeout(scrollTo,1,0,1)}):void 0},Modernizr.touch?r():void 0}),window.walkObject=function(e,t){var n,i,r;null==t&&(t=[]),r=[];for(n in e)i=e[n],"object"==typeof i?(t.push(n),r.push(walkObject(i,t))):"function"==typeof i?r.push(debug(t.join("")+"."+n)):r.push(void 0);return r},window.click=function(e,t){return $.isArray(e)?$(e[0]).on("click",e[1],t):$(e).on("click",t)},window.testWhatsApp=function(){return $(".nowhatsapp").removeClass("nowhatsapp")},this.provides({loadComments:function(){return this.Livefyre=this.initLivefyre({force:!0,auth:{login:function(){return window.login(!0)},logout:function(){return window.location="/logout?back=1"},viewProfile:function(e,t){return window.location=t.profileUrl},editProfile:function(e,t){return window.location=t.settingsUrl}}})},reloadUserData:l})}.call(this),function(){var e;e=function(){function e(){}return e.getCookie=function(){return $.cookie("mash_UXtest")},e.asJSON=function(){var e;return this.jsonCache||(this.jsonCache=(e=this.getCookie())?jQuery.parseJSON(this.getCookie()):{}),this.jsonCache},e.asOmniVar=function(){var e,t,n,i;if(e=this.asJSON(),$.isEmptyObject(e))return null;n="";for(t in e)i=e[t],n+=""+t+"="+i+";";return n.substr(0,n.length-1)},e.save=function(){return $.cookie("mash_UXtest",JSON.stringify(this.asJSON()),{path:"/",expires:365})},e.setTest=function(e,t){return this.asJSON()[e]=t,this.save(),parseInt(t)},e.getTest=function(e,t){var n,i,r,s,a,o;if(i=this.asJSON(),i[e])return parseInt(i[e]);if(null==t)return null;s=Math.random(),o=0,a=null;for(n in t)if(r=t[n],o+=r/100,o>s){a=n;break}return this.setTest(e,a)},e}(),this.provides({UXTesting:e})}.call(this),function(){var e,t,n,i;i=function(){return Sailthru.setup({domain:"horizon.mashable.com"})},e=function(){return window._comscore||(window._comscore=[]),window._comscore.push({c1:"2",c2:"8750086"}),loadScriptAsync(("https:"===document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js","comscore")},n=function(){return window.omni?(window.loadOmniture(),window.omni()):$(function(){return window.loadOmniture(),window.omni()})},t=function(){return window._gaq.push(["_trackPageview"]),loadScriptAsync(("https:"===document.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js","ga")},window.loadAnalytics=function(){return i(),e(),t(),n(),window.loadAnalytics=function(){}}}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y;try{v=function(e){return _gaq.push(["_trackEvent","Article Share",e,window.location.pathname])},w=!1,g=function(e,t,n){var i,r,s,a,o;return t?(a=n.match("!")?"Image":"Pullquote",r="event25,event27"):(a="Full Page",r="event25,event26"),s="/"+n.split("/").slice(3,100).join("/"),o=null,$.cookie("mv2_ver")&&(i=readSession("session"),i&&(o=i.username)),omni({events:r,microUrl:s,microNetwork:"G+",microType:a,microUsername:o,track_link:"G+ Share"})},window.__gPlusShareTrack=function(){return _gaq.push(["_trackEvent","Article Share","Google+",window.location.pathname])},l=function(e){return e.parents("article.post").find(".article-title h1 a").attr("href")},p=function(e){var t,n,i;return i=e.parent(),t={url:e.data("href")||i.data("url")||e.data("url")||l(e)||$("meta[property='og:url']").attr("content")||window.location.href,media:i.data("image")||e.data("image")||i.data("thumb")||e.data("thumb")||$("meta[property='og:image']").attr("content"),description:i.data("description")||e.data("description")||$("meta[property='og:description']").attr("content")||$("meta[name='description']").attr("content"),twitterText:i.data("title")||e.data("title")||i.data("description")||e.data("description")||$("title").first().text(),twitterVia:e.data("twitter-handle")||"mashable",noVia:e.data("no-via")||!1,title:i.data("title")||e.data("title")||$("title").first().text(),callback:i.data("callback")||e.data("callback"),"default":i.data("default")||e.data("default")},t.url=t.url.replace(/beta.mashable.com/,"mashable.com"),t.url=t.url.replace(/#\S+$/,""),n=e.data("fragment")||i.data("fragment")||e.parents("[data-fragment]").data("fragment")||null,n&&(t.url=t.url+("#"+n)),t.short_url=i.data("shorturl")||e.data("shorturl")||$("meta[name='short_url']").attr("content")||t.url,t},window.getShareMetadata=p}catch(b){r=b,window.console&&window.console.log(r)}f={google_plus:"google_plus",googleplus:"google_plus",linked_in:"linked_in",linkedin:"linked_in",twitter:"twitter",pinterest:"pinterest",stumbleupon:"stumble_upon",stumble_upon:"stumble_upon",facebook:"facebook"},e=12e4,m=function(t){var n,i,r,s;return r={},n=t.find(".social-share"),i=[],s=_.compact(_.uniq(_.map(n,function(e){var t,n,s,a,o,l,c,p;if(t=$(e),o=t.data("uid"),e.className)for(p=e.className.split(" "),n=l=0,c=p.length;c>l;n=++l)a=p[n],f[a]&&(-1===_.indexOf(i,f[a])&&i.push(f[a]),s=""+o+"-"+_.indexOf(i,f[a]),r[s]=r[s]||[],r[s].push(t));return o}))),s.length>0&&i.length>0&&$.get("/stories/shares.json",{pids:s.sort().join(","),ns:i.join(","),t:Math.floor((new Date).getTime()/e)*e},function(e){var t,n,i,s,a,o,l,c,p,u;for(s in e)for(a=e[s],i=l=0,p=a.length;p>l;i=++l)if(o=a[i],n=r[""+s+"-"+i])for(o>1e3&&(o=(o/1e3).toFixed(1)+"k"),c=0,u=n.length;u>c;c++)t=n[c],t.attr("data-shares",o);return null}),null},h=function(e){var t,n;return t=c(this,"g"),n="https://plus.google.com/share?url="+encodeURIComponent(t.encoded_url),popupCenter(n,600,600),v("Google+"),e.stopPropagation(),!1},u=function(){var e,t,n,i,r;return e=$(this),e.parents("article.short").length>0?!1:(loadScriptAsync("gplus"),i=e.parent().get(0),n=c(this,"g"),r=e.data("size")||"medium",n.callback||(n.callback="__gPlusShareTrack"),t="<div class='g-plusone' data-size='"+r+"' data-count='true', data-href='"+n.custom_url+"' data-callback='"+n.callback+"'></div>",e.replaceWith(t),window.gapi&&window.gapi.plusone&&window.gapi.plusone.go?window.gapi.plusone.go(i):void 0)},n=null,window.gPlusSigninCallback=function(e){var t,n,i,r;if(window.gPlusState=e,e.id_token){for(window.gPlusUserId=JSON.parse(base64.decode(e.id_token.split(".")[1])).sub,r=$(".social-share.google_plus"),n=0,i=r.length;i>n;n++)t=r[n],d.bind(t)(null);window.socialRef.identifier()!==window.gPlusUserId&&$.ajax({type:"POST",url:"/people/bind",data:{i:window.socialRef.identifier(),g:window.gPlusUserId},beforeSend:function(e){return e.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))}})}return window.gPlusSigninCallback=function(){}},d=function(){var e,t,n,i,r;return e=$(this),t=c(e,"g"),r=t.custom_url,i={callback:"gPlusSigninCallback",contenturl:r,contentdeeplinkid:r,calltoactionurl:r,calltoactiondeeplinkid:r,clientid:"713601546503.apps.googleusercontent.com",cookiepolicy:"single_host_origin",calltoactionlabel:"VIEW"},n=e.clone(),e.replaceWith(n),n.attr("data-active",!0),window.gapi.interactivepost.render(n[0],i),$(n).off("click.share").on("click.share",function(e){return g(e,r.match("#"),r,"G+")})},o=function(e){var t,n,i;return t=$(this),n=c(t,"f"),i="https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+n.encoded_url+"&p[images][0]="+encodeURIComponent(n.media)+"&p[title]="+encodeURIComponent(n.title)+"&p[summary]="+encodeURIComponent(n.description),0===t.parents(".microcontent-shares").length&&(i+="&u="+n.encoded_url+"&t="+encodeURIComponent(n.title)),popupCenter(i,685,500),v("Facebook"),e.stopPropagation(),y(function(){return a()}),!1},y=function(e){var t;return t=$([window,document]),delay(500,function(){return t.on("focus focusin",function(){return t.off("focus focusin"),e()})})},i=function(){return Facebook.push(function(e){return e.XFBML.parse(),e.Event.subscribe("edge.create",function(e){return"http://www.facebook.com/mashable"===e?_gaq.push(["_trackEvent","Post Share Dialog","Like","Facebook"]):void 0})}),i=function(){}},a=function(){var e,t;return"1"!==$.cookie("fb_like_optout")?(t=new App.Lightbox({type:"fixed",classes:"small-white-dialog"}),t.show({content:Handlebars.templates["templates/shared/like_us_on_facebook"](),animation:"slideY"}),t.centerContent(),_gaq.push(["_trackEvent","Post Share Dialog","Open","Facebook"]),i(),window.activateShareButtons("#like-encourager"),$("#like-encourager").find(".opt-out").on("click",function(){return _gaq.push(["_trackEvent","Post Share Dialog","Opt Out","Facebook"]),$.cookie("fb_like_optout","1",{expires:7300,path:"/"})}),loadScriptAsync("facebook"),$.cookie("fb_view_counter",1,{path:"/"}),e="fb_interrupt_counter",$.cookie(e)?$.cookie(e,parseInt($.cookie(e))+1,{path:"/"}):$.cookie(e,1,{path:"/"})):void 0},s=function(){var e,t,n,i,r,s,a;return e=$(this),e.parents("article.short").length>0?!1:(s=e.parent().get(0),r=c(e,"f"),r["default"]&&(n=e.data("layout")||"button_count","box_count"===n?(a=58,t=90):(a=88,t=21),i="<iframe src='//www.facebook.com/plugins/like.php?href="+r.encoded_url+"&amp;send=false&amp;layout="+n+"&amp;width="+a+"&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font&amp;height="+t+"&amp;appId=122071082108' scrolling='no' frameborder='0' style='border:none; overflow:hidden; width:"+a+"px; height:"+t+"px;' allowTransparency='true'></iframe>",e.replaceWith(i)),!1)},c=function(e,t){var n,i;return n=$(e),i=p(n),i.custom_url=n.hasClass("no-track")?i.url:window.socialRef.personalizeURL(i.url,t),i.encoded_url=encodeURIComponent(i.custom_url),i},window.activateShareButtons=function(e){var n,i,r,a,l;for(i=$(e),m(i),a=0,l=i.length;l>a;a++)r=i[a],n=$(r),n.off(".shares","**"),n.on("click.shares",".social-share.linked_in",function(e){var t,n;return e.stopPropagation(),t=c(this,"l"),n="http://www.linkedin.com/cws/share?url="+t.encoded_url+"&original_referer="+encodeURIComponent(window.location.href)+"&isFramed=false&ts="+(new Date).getTime(),popupCenter(n,505,360),v("LinkedIn"),!1}),n.on("click.shares",".social-share.stumble_upon",function(e){var t,n;return e.stopPropagation(),t=c(this,"s"),n="http://www.stumbleupon.com/badge/?url="+t.encoded_url,popupCenter(n,435,360),v("StumbleUpon"),!1}),n.on("click.shares",".social-share.pinterest",function(e){var t,n;return e.stopPropagation(),t=c(this,"p"),n="http://pinterest.com/pin/create/button/?url="+t.encoded_url+"&media="+encodeURIComponent(t.media)+"&description="+encodeURIComponent(t.description),popupCenter(n,685,500),v("Pinterest"),y(function(){return window.pinterestFollowOverlayView.open()}),!1}),n.on("click.shares",".social-share.twitter:not(.follow)",function(e){var t,n,i;return e.stopPropagation(),t=c(this,"t"),n="mashable For the latest from Mashable",i="https://twitter.com/intent/tweet?text="+encodeURIComponent(t.twitterText)+"&url="+t.encoded_url+"&related="+encodeURIComponent(n),t.noVia&&"mashable"===t.twitterVia||(i+="&via="+t.twitterVia),popupCenter(i,685,500),v("Twitter"),!1}),Modernizr.touch?n.on("click.shares",".social-share.facebook",o):(n.on("mouseover.shares",".social-share.facebook",s),n.on("click.shares",".social-share.facebook:not(.like)",o));return t()},t=function(){return GooglePlus.push(function(){var e,t,n,i,r;for(i=$(".social-share.google_plus[data-active!=true]"),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(d.apply(e));return r})},this.activateGooglePlusButtons=t,loadScriptAsync("gplusapi")}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.initialize=function(){var e;return e=Handlebars.templates["templates/shared/loading"](),this.setElement(e)},n.prototype.loading=function(e){return e?(this.$el.addClass("active"),this.isLoading=!0):(this.$el.removeClass("active"),this.isLoading=!1)},n.prototype.show=function(){return this.el.style.display="block"},n.prototype.hide=function(){return this.el.style.display=""},n}(Backbone.View),this.provides({LoadingIndicator:e})}.call(this),function(){var e,t,n,i,r,s,a,o,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p=function(e,t){return function(){return e.apply(t,arguments)}};e=$(window),t=function(){function e(){}return e.responsive_image=function(e){var t,n,i,r;n=$("<span>").addClass("_pf");for(i in e)r=e[i],t=$("<span>"),t.attr("data-s",r.image),"string"==typeof r.query&&t.attr("data-q",r.query),n.append(t);return n},e}(),r=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.render=function(){var e,t;return t=Handlebars.templates[this.template],e=t(null!=this.model?this.model.attributes:null),this.replaceElement===!1?this.el.innerHTML=e:this.setElement(e),this.trigger("rendered")},t}(Backbone.View),i=function(e){function t(){return a=t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(){return this.fragment=document.createDocumentFragment(),this.nodes=[]},t.prototype.append=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(this.fragment.appendChild(t));return r},t.prototype.commit=function(){return this.el?(this.fragment.querySelectorAll&&(window.picturefill(this.fragment.querySelectorAll("span._pf")),$(this.fragment.querySelectorAll("time")).relatizeDate()),this.el.appendChild(this.fragment),this.fragment.querySelectorAll||(this.$el.find("time").relatizeDate(),window.picturefill(this.$el.find("span._pf"))),this.trigger("commit")):void 0},t}(Backbone.View),n=function(e){function t(){return this.checkScroll=p(this.checkScroll,this),this.loadPage=p(this.loadPage,this),o=t.__super__.constructor.apply(this,arguments)
}return c(t,e),t.prototype.initialize=function(){var e,n,i,r=this;return t.__super__.initialize.apply(this,arguments),this.collection=this.options.collection||new this.collectionClass([],this.options),this.modelView=this.options.view||this.viewClass,this.position=this.collection.length,this.hasMore=!0,this.options.infiniteScroll&&("parse"===this.options.infiniteScroll.startPage&&(this.options.infiniteScroll.startPage=(e=window.location.pathname.toString().match(/\/page\/(\d+)\/$/))?parseInt(e[1],10):1),this.maxPages=this.options.infiniteScroll.maxPages||10,this.offset=this.options.infiniteScroll.offset||1.25,this.page=void 0!==this.options.infiniteScroll.startPage?this.options.infiniteScroll.startPage:1,this.failures=0,this.indicator=new App.LoadingIndicator,this.waypoint=this.indicator.$el,this.$el.after(this.waypoint),scrollContainer().on("scroll",function(){return $.throttle("CollectionViewScroll",500,function(){return r.checkScroll(r.offset)})}),this.checkScroll(this.offset)),i=this.collection,n=0,this.collection.on("add",function(e){var t;return n+=1,r.trigger("add",n,e),t=new r.modelView({model:e}).render(),r.trigger("addView",t),r.append([t.el])}),this.collection.on("reset",function(){return n=0,r.$el.empty()}),this.options.manualStart?void 0:this.start()},t.prototype.start=function(){return this.collection.reset(),this.options.data&&(this.collection.add(this.options.data),this.commit()),delete this.options.data},t.prototype.reset=function(e){return this.options.infiniteScroll.data=$.extend(this.options.infiniteScroll.data,e),this.page=0,this.collection.reset(),this.indicator.loading(!0),this.loadPage(1)},t.prototype.loadPage=function(e,t){var n=this;return null==t&&(t=!1),this.requesting?void 0:(this.requesting=!0,this.lastRequest&&this.lastRequest.abort(),this.lastRequest=this.collection.fetch({add:!0,data:$.extend({page:e},this.options.infiniteScroll.data),beforeSend:function(){return n.page=e},success:function(e,t){var i,r,s;if(i=!1,e.hasMore&&e.hasMore(t))i=!0;else if(Object.prototype.toString.call(t).match(/Array/))i=t.length>0;else for(r in t)s=t[r],Object.prototype.toString.call(s).match(/Array/)&&s.length>0&&(i=!0);return i?!0:(n.page-=1,n.hasMore=!1,!1)},error:function(){return n.page-=1,n.failures+=1},complete:function(){return n.commit(),n.indicator.loading(!1),n.requesting=!1}}))},t.prototype.checkScroll=function(e){return null==e&&(e=1.25),this.indicator.isLoading||this.failures>3||!this.hasMore?void 0:isNearBottom(scrollContainer(),e)?(this.indicator.loading(!0),this.loadPage(this.page+1)):void 0},t}(i),this.provides({ApplicationHelper:t,CollectionView:n,TemplateView:r,FragmentView:i})}.call(this),function(){var e,t,n,i,r,s,a,o,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=$(window),n=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(){return this.view=new i({model:this})},t}(Backbone.Model),r=function(e){function t(){return a=t.__super__.constructor.apply(this,arguments)}return c(t,e),t}(App.FragmentView),i=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.initialize=function(){return this.template="templates/users/feed/"+this.model.attributes.action},t}(App.TemplateView),t=function(){function e(e){return null!=e.items?(this.feedView=new r({el:e.el}),null!=e.items&&this.add(e.items),this):void 0}return e.prototype.add=function(e){var t,i,r,s,a,o,l,c,p,u;for(this.feedItems||(this.feedItems=[]),r=[],a=0,c=e.length;c>a;a++)i=e[a],r.push(new n(i));for(o=0,p=r.length;p>o;o++)t=r[o],t.view.render();for(s=[],l=0,u=r.length;u>l;l++)t=r[l],s.push(t.view.el);return this.feedView.append(s),this.feedView.commit(),this.feedItems=this.feedItems.concat(r)},e}(),this.provides({Feed:t})}.call(this),function(){var e,t,n,i,r,s,a;a=["type","base_url","sec0","sec1","sec2","pos","tag","mtype","dcopt","adnum","location","tile","sz","ct","eo","kv","topic","ord"],t=2,s=12,r=13,i="http://ad.doubleclick.net",n=function(e,n){var o,l,c,p,u,h,d,f,m,g,v,w,y,b,k,x,C,T,A,P,S,I,E,$,L,j,N,O,B,D,M,H,z;for(l in n)f=n[l],e[l]=e[l]?_.flatten([e[l],f]):f;for(c=_.groupBy(_.difference(_.keys(e),a),function(e){return/^!/.test(e)}),h=c[!1]||[],u=c[!0]||[],p=i,p+=1===window.location.searchObj.phoenix?e.base_url.replace("mash.to","iphone.mash.to"):e.base_url,p+="/"+(e.sec0||"home"),p+=""+(e.path||"")+";",o=m=t,j=s-1;j>=t?j>=m:m>=j;o=j>=t?++m:--m)if(f=e[l=a[o]])for(N=_.flatten([f]),g=0,y=N.length;y>g;g++)d=N[g],p+=""+l+"="+d+";";for(v=0,b=h.length;b>v;v++)for(l=h[v],O=_.flatten([e[l]]),w=0,k=O.length;k>w;w++)d=O[w],p+=""+l+"="+d+";";for(o=P=s,B=r-1;B>=s?B>=P:P>=B;o=B>=s?++P:--P)if(f=e[l=a[o]])for(D=_.flatten([f]),S=0,x=D.length;x>S;S++)d=D[S],p+=""+l+"="+d+";";for(I=0,C=u.length;C>I;I++)for(l=u[I],M=_.flatten([e[l]]),E=0,T=M.length;T>E;E++)d=M[E],p+=""+l+"="+d+";";for(o=$=r,H=a.length;H>=r?H>=$:$>=H;o=H>=r?++$:--$)if(f=e[l=a[o]])for(z=_.flatten([f]),L=0,A=z.length;A>L;L++)d=z[L],p+=""+l+"="+d+";";return p},e=function(){function e(){}return e.banner=function(e){var t,i,r,s,a,o,l;return null==e&&(e={}),t=50,s=300,i={base_url:"/N6692/adj/mash.to/atf_j_s",dcopt:"ist"},$(window).width()>970&&!$(".touch").length?(a=[970,66],s=a[0],t=a[1],i.sz="970x66"):!$(".touch").length||$(window).width()>728?(o=[728,90],s=o[0],t=o[1],i.sz="728x90"):(l=[300,50],s=l[0],t=l[1],i.sz="300x50"),r=n(i,e),[s,t,r]},e.left_column=function(e){var t,i,r,s;return null==e&&(e={}),t=250,s=300,i={"!category":["expand"],base_url:"/N6692/adj/mash.to/atf_j_s",location:"left",sz:"300x250"},r=n(i,e),[s,t,r]},e.left_column_ad_block_ad=function(e){var t,i,r,s;return null==e&&(e={}),t=125,s=125,i={"!category":["iframe"],base_url:"/N6692/adj/mash.to/atf_j_s",sz:"125x125"},r=n(i,e),[s,t,r]},e.middle_column=function(e){var t,i,r,s;return null==e&&(e={}),t=240,s=295,i={location:"center",base_url:"/N6692/adj/mash.to/btf_j_s",sz:"240x295"},r=n(i,e),[s,t,r]},e.right_column=function(e){var t,i,r,s,a;return null==e&&(e={}),t=250,s=300,i={location:"right",base_url:"/N6692/adj/mash.to/btf_j_s"},$("#column-hot").width()>=710?(a=[650,250],s=a[0],t=a[1],i.sz="650x250"):i.sz="300x250",r=n(i,e),[s,t,r]},e.right_rail=function(e){var t,i,r,s;return null==e&&(e={}),t=250,s=300,i={base_url:"/N6692/adj/mash.to/atf_j_s",sz:"300x250"},"none"===$(".box-cell.sidebar").css("display")?[]:(r=n(i,e),[s,t,r])},e.right_rail_tall=function(e){var t,i,r,s;return null==e&&(e={}),t=900,s=300,i={base_url:"/N6692/adj/mash.to/atf_j_s",path:"/900rrtest",kdb:5,sz:"300x900"},"none"===$(".box-cell.sidebar").css("display")?[]:(r=n(i,e),[s,t,r])},e.right_rail_ad_block_ad=function(e){var t,i,r,s;return null==e&&(e={}),t=125,s=125,i={"!category":["iframe"],base_url:"/N6692/adj/mash.to/atf_j_s",sz:"125x125"},r=n(i,e),[s,t,r]},e.right_rail_lift=function(e){var t,i,r,s;return null==e&&(e={}),t=250,s=300,i={base_url:"/N6692/adj/mash.to/atf_j_s",sz:"366x204"},"none"===$(".box-cell.sidebar").css("display")?[]:(r=n(i,e),[s,t,r])},e.right_rail_top_lift=function(e){var t,i,r,s;return null==e&&(e={}),t=250,s=300,i={base_url:"/N6692/adj/mash.to/atf_j_s",location:"right",sz:"240x295"},"none"===$(".box-cell.sidebar").css("display")?[]:(r=n(i,e),[s,t,r])},e.article_inline_lift=function(e){var t,i,r,s;return null==e&&(e={}),t=250,s=300,i={base_url:"/N6692/adj/mash.to/atf_j_s",sz:"366x204"},"none"!==$(".box-cell.sidebar").css("display")?[]:(r=n(i,e),[s,t,r])},e.no_right_rail=function(e){var t,i,r,s;return null==e&&(e={}),t=250,s=300,i={base_url:"/N6692/adj/mash.to/atf_j_s",location:"left",sz:"300x250"},"none"!==$(".box-cell.sidebar").css("display")?[]:(r=n(i,e),[s,t,r])},e.sponsored_ad=function(e){var t,i,r,s;return null==e&&(e={}),t=0,s=0,i={base_url:"/N6692/adj/mash.to/atf_j_s",sz:"300x500"},r=n(i,e),[s,t,r]},e.no_right_rail_sponsored=function(e){var t,i,r,s;return null==e&&(e={}),t=300,s=400,i={base_url:"/N6692/adj/mash.to/atf_j_s",location:"left",path:"/400bottom",sz:"300x400"},"none"!==$(".box-cell.sidebar").css("display")?[]:(r=n(i,e),[s,t,r])},e.longform_banner=function(e){var t,i,r,s;return null==e&&(e={}),t=0,s=0,i={base_url:"/N6692/adj/mash.to/atf_j_s",sz:"970x400"},r=n(i,e),[s,t,r]},e.immersive_full_width_banner=function(e){var t,i,r,s;return null==e&&(e={}),t=470,s=1440,i={base_url:"/N6692/adj/mash.to/atf_j_s",sz:"1440x470"},r=n(i,e),[s,t,r]},e.topic_sales_hub=function(e){var t,i,r,s;return null==e&&(e={}),t=0,s=0,i={base_url:"/N6692/adj/mash.to/atf_j_s",sz:"1200x400"},r=n(i,e),[s,t,r]},e.topic_center=function(e){var t,i,r,s,a;return null==e&&(e={}),t=66,s=728,i={"!category":["iframe","infinite"],base_url:"/N6692/adj/mash.to/btf_j_s",infi:"y",sz:"728x90"},$(window).width()<728&&(a=[300,250],s=a[0],t=a[1],i.sz="300x250"),r=n(i,e),[s,t,r]},e.series_sponsor=function(e){var t,i,r,s;return null==e&&(e={}),t=31,s=200,i={base_url:"/N6692/adj/mash.to/btf_j_s",sz:"150x31"},r=n(i,e),[s,t,r]},e.gallery=function(e){var t,i,r,s;return null==e&&(e={}),t=250,s=300,i={"!category":["gallery"],base_url:"/N6692/adj/mash.to/btf_j_s",sz:"300x250",pt:"gallery"},r=n(i,e),[s,t,r]},e.survey=function(e){var t,i,r,s;return null==e&&(e={}),t=0,s=0,i={base_url:"/N6692/adj/mash.to/btf_j_s",sz:"1x2"},r=n(i,e),[s,t,r]},e}(),this.provides({AdMap:e})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,_,k,x,C,T,A,P,S,I,E,L,j,N,O,B,D,M,H,z={}.hasOwnProperty,q=function(e,t){function n(){this.constructor=e}for(var i in t)z.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},F=function(e,t){return function(){return e.apply(t,arguments)}};f=function(e){function t(){return b=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),o=function(e){function t(){return _=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),g=function(e){function t(){return L=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),h=function(e){function t(){return j=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),w=function(e){function t(){return N=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),c=function(e){function t(){return O=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),e=function(e){function t(){return B=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),s=function(e){function t(){return D=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),i=function(e){function t(){return M=t.__super__.constructor.apply(this,arguments)}return q(t,e),t}(Backbone.Model),u=function(e){function t(){return H=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.replaceElement=!1,t}(App.TemplateView),m=function(e){function t(){return k=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/sponsored_brand_unit",t}(u),l=function(e){function t(){return x=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/mobile_brand_unit",t}(u),v=function(e){function t(){return C=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/video_lift_unit",t}(u),d=function(e){function t(){return T=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/sales_hub_unit",t}(u),y=function(e){function t(){return A=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/youtube_embed",t}(u),p=function(e){function t(){return P=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/network_unit",t}(u),t=function(e){function t(){return S=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/brand_unit",t}(u),a=function(e){function t(){return I=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/lift_unit",t}(u),r=function(e){function t(){return E=t.__super__.constructor.apply(this,arguments)}return q(t,e),t.prototype.template="templates/tripleclick/len_unit",t}(u),n=function(){function n(){this.handleVideoClick=F(this.handleVideoClick,this)}return n.prototype.createBrandUnit=function(){var n,i,r,s,a;return r=this.$elem.contents().find("span.mash-brand-unit"),r.length?(s=new e({twitterWidgetId:r.data("twitter-widget-id"),facebookHandle:r.data("facebook-handle"),twitterHandle:r.data("twitter-handle"),description:r.find("span.mash-brand-desc").html(),postfixHTML:r.find("span.postfix-html").html(),prefixHTML:r.find("span.prefix-html").html(),followUrl:r.data("follow-url"),imageUrl:r.data("img-url"),imageSrc:r.data("img-src"),suffix:r.find("span.mash-brand-suffix").html(),title:r.data("title")}),n=this.$elem.contents().find("span.mash-hide-follow").length,this.parent=this.$elem.parent(),i=this.$elem.parent()[0],"no_right_rail_sponsored_ad"===this.type?(a=new l({model:s,el:this.$elem.parent()}),a.on("rendered",function(){return n?($(".mash-mobile-brand-unit a.follow").remove(),$(".mash-mobile-brand-unit").parent().css("border","0px")):void 0}),a.render()):"sponsored_ad"===this.type?(a=new m({model:s,el:this.$elem.parent()}),a.render()):(a=new t({model:s,el:this.$elem.parent()}),a.on("rendered",function(){return n&&($(".mash-brand-unit a.follow").remove(),$(".mash-brand-unit .social-streams").css("border","0px")),$(i).find(".social-streams .twitter").html("<a class='twitter-timeline' href='https://twitter.com/"+s.attributes.twitterHandle+"' data-widget-id='"+s.attributes.twitterWidgetId+"'>Tweets by @"+s.attributes.twitterHandle+"</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script>")}),a.render()),!0):!1},n.prototype.createVideoLiftUnit=function(){var e,t,n,i,r,s,a,o=this;return r=this.$elem.contents().find("span.video-lift-unit"),r.length?(this.videoUrl=r.data("video-url"),this.trackerSrc=r.data("tracker-src"),e=r.find("span.render-tracker").map(function(e,t){return $(t).data("src")}).get(),a=r.data("canonical-url"),null!=a?("/"===a.charAt(a.length-1)&&(a=a.slice(0,-1)),a+=".json",$.getJSON(a,function(t){var n,i,s,a,l;return"right_rail_lift_ad"===o.type&&(n=r.data("image-thumb-src")),n||(n=r.data("image-src")),s=r.data("share-text"),s||(s=r.data("title")),a=r.data("share-url"),a||(a=r.data("video-url")),l=new g({suppressShares:r.data("suppress-shares"),twitterHandle:r.data("twitter-handle"),shareText:s,subscribe:r.data("subscribe-url"),bylineUrl:r.data("byline-url"),renderTracker:e,shareUrl:a,imageSrc:n,titleUrl:r.data("title-url"),byline:r.data("byline"),title:r.data("title"),shares:t.post.shares}),o.$parent=o.$elem.parent(),new v({model:l,el:o.$parent}).render(),TripleClick.setSocialTrackers(o.$parent,r),i=".article-img-container",r.data("title-url")||(i+=",.article-title"),r.data("byline-url")||(i+=",.article-category"),o.$parent.find(i).one("click",function(e){return e.preventDefault(),o.handleVideoClick()})}).error(function(){return o.hideElem()})):(n=r.data("share-text"),n||(n=r.data("title")),i=r.data("share-url"),i||(i=r.data("video-url")),s=new g({suppressShares:r.data("suppress-shares"),twitterHandle:r.data("twitter-handle"),shareText:n,subscribe:r.data("subscribe-url"),bylineUrl:r.data("byline-url"),shareUrl:i,renderTracker:e,imageSrc:r.data("image-src"),titleUrl:r.data("title-url"),byline:r.data("byline"),title:r.data("title")}),this.$parent=this.$elem.parent(),new v({model:s,el:this.$parent}).render(),TripleClick.setSocialTrackers(this.$parent,r),t=".article-img-container",r.data("title-url")||(t+=",.article-title"),r.data("byline-url")||(t+=",.article-category"),this.$parent.find(t).one("click",function(e){return e.preventDefault(),o.handleVideoClick()})),!0):!1},n.prototype.handleVideoClick=function(){return clearTimeout(window.auto_refresh),null==this.videoUrl?!1:(null!=this.trackerSrc&&this.$parent.append("<img style='width:0px; height:0px;' src='"+this.trackerSrc+"'/>"),this.videoUrl.match(/^https?:\/\/www\.youtube\.com/)?this.loadYouTubeEmbed():this.loadBrightcoveEmbed())},n.prototype.loadYouTubeEmbed=function(){var e;return"right_rail_lift"===this.type||"right_rail_lift_ad"===this.type?this.$parent.find(".article-img-container").css("height","auto"):this.$parent.find(".article-container").css("padding","10px"),e=new w({videoShortcode:this.videoUrl.match(/v=([^&$]+)/)[1]}),new y({model:e,el:this.$parent.find(".article-img-container")}).render(),!1},n.prototype.loadBrightcoveEmbed=function(){return alert("brightcove"),!1},n.prototype.createLiftUnit=function(){var e,t,n=this;return e=this.$elem.contents().find("span.mashable-lift-unit"),e.length?(this.vineUrl=e.data("vine-url"),this.trackerSrc=e.data("tracker-src"),t=e.data("canonical-url"),"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t+=".json",$.getJSON(t,function(t){var i,r,o,l;return"right_rail_lift_ad"===n.type&&(r=e.data("image-thumb-src")),r||(r=e.data("image-src")),i=e.find("span.ad-tracker").map(function(e,t){return $(t).data("src")}).get(),(o=e.data("ad-tracker-src"))&&i.push(o),l=new s({attributionUrl:e.data("attribution-url"),attribution:e.data("attribution"),description:e.data("description"),bylineUrl:e.data("byline-url"),adTracker:i,imageSrc:r,imageUrl:e.data("image-url"),titleUrl:e.data("title-url"),byline:e.data("byline"),title:e.data("title"),shareUrl:"http://mashable.com"+e.data("canonical-url"),shares:t.post.shares,vineUrl:n.vineUrl}),n.$parent=n.$elem.parent(),new a({model:l,el:n.$elem.parent()}).render(),TripleClick.setSocialTrackers(n.$parent,e),null!=n.vineUrl?n.$parent.find(".article-img-container").on("click",function(e){return e.preventDefault(),null==n.active?n.handleVineClick():void 0}):void 0}).error(function(){return n.hideElem()}),!0):!1},n.prototype.createNetworkUnit=function(){var e,t,n,i=this;return t=this.$elem.contents().find("span.mashable-network-unit"),t.length?(e=t.find("span.ad-tracker").map(function(e,t){return $(t).data("src")}).get(),this.brightcoveId=t.data("brightcove-id"),n=new c({adTracker:e,brightcoveId:this.brightcoveId,description:t.data("description"),bylineUrl:t.data("byline-url"),imageSrc:t.data("image-thumb-src"),titleUrl:t.data("title-url"),company:t.data("company-name"),byline:t.data("byline"),title:t.data("title")}),this.$parent=this.$elem.parent(),new p({model:n,el:this.$parent}).render(),TripleClick.setSocialTrackers(this.$parent,t),null!=this.brightcoveId&&this.$parent.find(".article-img-container").one("click",function(e){return e.stopPropagation(),i.handleBrightcoveClick(),!1}),!0):!1},n.prototype.handleBrightcoveClick=function(){var e,t,n,i;return this.$parent.find(".article-container").css("padding","10px"),t=this.brightcoveId,n=this.$parent.find(".article-img-container"),i=n.width(),e=parseInt(9*(i/16)),n.html("<object id='myExperience"+t+"' class='BrightcoveExperience'><param name='bgcolor' value='#FFFFFF' /><param name='width' value='"+i+"' /><param name='height' value='"+e+"' /><param name='playerID' value='2579445172001' /><param name='playerKey' value='AQ~~,AAABBzUwv1E~,xP-xFHVUstg6x3X0Ctzy4aRejBM8Clbz' /><param name='isVid' value='true' /><param name='isUI' value='true' /><param name='dynamicStreaming' value='true' /><param name='autoStart' value='true' /><param name='@videoPlayer' value='"+t+"' /></object>"),$("object.BrightcoveExperience").length>0?$.getScript("http://admin.brightcove.com/js/BrightcoveExperiences.js",function(){return brightcove.createExperiences()}):void 0},n.prototype.handleLenUnit=function(){var e,t,n,s;return t=this.$elem.contents().find("span.mash-len-unit"),t.length?(n=new i({twitterWidgetId:t.data("twitter-widget-id"),twitterHandle:t.data("twitter-handle"),postfixHTML:t.find("span.postfix").html(),wufooHeight:t.data("wufoo-height"),prefixHTML:t.find("span.prefix").html(),wufooSrc:t.data("wufoo-src")}),e=this.$elem.parent()[0],s=new r({model:n,el:this.$elem.parent()}),s.on("rendered",function(){return $(e).parent().prepend(n.attributes.prefixHTML),$(e).find(".social-streams .twitter").html("<a class='twitter-timeline' href='https://twitter.com/"+n.attributes.twitterHandle+"' data-widget-id='"+n.attributes.twitterWidgetId+"'>Tweets by @"+n.attributes.twitterHandle+"</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script>"),n.attributes.wufooSrc?$(".story-stream .article-container").first().after("<iframe scrollable=no style='width: 100%; height: "+n.attributes.wufooHeight+"px; border: none' src='"+n.attributes.wufooSrc+"'></iframe>"):void 0}),s.render(),!0):!1},n.prototype.handleSalesHub=function(){var e,t,n,i,r,s,a,o,l,c,p,u,f,m;if("topic_sales_hub"!==this.type)return!1;for(this.$elem.parent().removeClass("ad970"),e=this.$elem.contents().find("span.mash-sales-unit"),r=new h({descriptionColor:e.data("description-color"),googlePlusUrl:e.data("google-plus-url"),pinterestUrl:e.data("pinterest-url"),followColor:e.data("follow-color"),facebookUrl:e.data("facebook-url"),linkedinUrl:e.data("linkedin-url"),description:e.find("span.description").html(),twitterUrl:e.data("twitter-url"),youtubeUrl:e.data("youtube-url"),followText:e.data("follow-text"),innerColor:e.data("inner-color"),outerColor:e.data("outer-color"),imageSrc:e.data("image-src"),titleUrl:e.data("title-url"),rssUrl:e.data("rss-url"),imageTrackers:[],impressionTags:[],scriptTags:[]}),u=this.$elem.contents().find("span.image-tracker"),s=0,l=u.length;l>s;s++)t=u[s],r.attributes.imageTrackers.push({imageSrc:$(t).data("image-src")+TripleClick.ord()});for(f=this.$elem.contents().find("span.impression-tag"),a=0,c=f.length;c>a;a++)n=f[a],r.attributes.impressionTags.push({imageSrc:$(n).data("image-src")+TripleClick.ord()});for(m=this.$elem.contents().find("third-party-script"),o=0,p=m.length;p>o;o++)i=m[o],r.attributes.scriptTags.push({src:$(i).data("script-src")+TripleClick.ord()});return $("#main,header.box970").css({background:r.attributes.outerColor}),$(".visible-desktop").css({background:r.attributes.outerColor}),$(".visible-desktop").css({background:"-webkit-radial-gradient(circle,"+r.attributes.innerColor+" 30%, "+r.attributes.outerColor+" 60%)"}),$(".visible-desktop").css({background:"-moz-radial-gradient(circle,"+r.attributes.innerColor+" 30%, "+r.attributes.outerColor+" 60%)"}),$(".visible-desktop").css({background:"-o-radial-gradient(circle,"+r.attributes.innerColor+" 30%, "+r.attributes.outerColor+" 60%)"}),$(".visible-desktop").css({background:"-ms-radial-gradient(circle,"+r.attributes.innerColor+" 30%, "+r.attributes.outerColor+" 60%)",border:"none"}),new d({model:r,el:this.$elem.parent()}).render(),!0},n}(),window.DepreClick=n}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(e,i,r){this.type=i,this.customAttrs=null!=r?r:{},this.callResizeOrLoadAlias=t(this.callResizeOrLoadAlias,this),e.length&&e.length>0&&(e=e[0]),n.ads.push(this),this.elem=e,this.$elem=$(e),"preview"===this.type?this.handleMashableUnit():this.setLoadHook()}return i(n,e),n.ads=[],n.ord=null,n.tile=0,n.target_attrs=["topics","postid","authorid","posts","topic","gvcfv","gvmfv","gvcv","gvmv","gvav","gvcav","mpp","valert"],n.type_list=["middle_column","right_rail_lift","right_column","sponsored_ad","right_rail_tall_ad","topic_sales_hub","article_inline_lift"],n.updateAds=function(){var e,t,n,i,r;for(i=this.ads,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.update());return r},n.resizeAds=function(){var e,t,n,i,r;for(i=this.ads,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.resizeElem());return r},n.listAds=function(){var e,t,n,i,r;for(i=this.ads,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(console.log(e.type));return r},n.ord=function(){return this._ord||(this._ord=Math.ceil(1e15*Math.random()))},n.page_ord=n.ord(),n.secValues=function(){var e;return e={sec0:null,sec1:null,sec2:null},e.sec0=$("body").data("sec0"),e.sec1=$("body").data("sec1"),e.sec2=$("body").data("sec2"),e},n.onDocumentReady=function(){var e,t,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,_,k,x;for(y=$("span.ad"),d=0,g=y.length;g>d;d++)l=y[d],e=$(l),i=e.data("params"),i.ord=n.ord(),b=App.AdMap[i.type](i),u=b[0],s=b[1],c=b[2],null!=c&&(a=$('<iframe class="ad" frameBorder="0" scrolling="no">'),a.attr("src","/tripleclick.html#"+encodeURIComponent(c)),a.attr("width",u),a.attr("height",s),a.attr("data-type",i.type),e.replaceWith(a));for(_=$("iframe.ad"),x=[],f=0,v=_.length;v>f;f++){for(t=_[f],r=!1,k=n.ads,m=0,w=k.length;w>m;m++)if(h=k[m],h.elem===t){r=!0;break}r?x.push(void 0):(p=$(t).data("type"),(o=window.location.searchObj.lift_preview)&&(o=o.split("@"),p===n.type_list[o[1]]&&(t.src="/ads/"+o[0]+"/")),x.push(new n(t,p)))}return x},n.newOrd=function(){return this._ord=null,this.ord()},n.tripleclickAd=function(e,t){var i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,k,x,C;null==t&&(t={}),r=$("body"),a={ord:n.ord(),tile:n.tile+1},k=n.secValues();for(c in k)g=k[c],null!=g&&(a[c]=g);for(x=n.target_attrs,y=0,b=x.length;b>y;y++)s=x[y],(g=r.data(s))&&(a[s]=g);"posts"===a.sec2&&_.indexOf(["right_column","middle_column","left_column","left_column_ad_block_ad"],e)>-1&&(a.sec1="index",delete a.sec2),(f=window.location.searchObj.testmode)&&(f=f.match(/[a-zA-Z0-9_-]+/))&&(a.testmode=f[0]),(f=window.location.searchObj.demo)&&_.indexOf(["oy22t1sfr4b","963OgRP","zQ8u387","ssUNu8s","r5mb1ZT","dove","584jt6k42x","38ked9wsqq","i022k56726","f15d61","de3xi62vt6","4i3xlyss","38lckdesz","1s3kc951","fgh438c3","kcd83fh","34vy60","adk3act95s","24ct0xzqyh","3gnas3x"],f)>-1&&(a.testmode=f),(p=window.location.searchObj.utm_emailalert)&&("breaking"===p&&(a.balert="true"),"daily"===p&&(a.dalert="true")),i=$("article.full"),(o=i.data("campaign"))&&(a.posts=o),(m=i.data("topic"))&&(a.topic=m);for(c in t)g=t[c],a[c]=g;return C=App.AdMap[e](a),v=C[0],l=C[1],d=C[2],null==d?!1:(w=$("<div>").addClass("ad_container"),u=$("<iframe>").addClass("ad").attr("frameBorder","0").attr("scrolling","no").attr("width",v).attr("height",l),d="/tripleclick.html#"+encodeURIComponent(d),(h=window.location.searchObj.lift_preview)&&(h=h.split("@"),e===n.type_list[h[1]]&&(d="/ads/"+h[0]+"/")),u.attr("src",d),w.append(u),new n(u,e,t),w)},n.appendAd=function(e,t,n){var i;return null==n&&(n={}),i=this.tripleclickAd(t,n),e.append(i)},n.preview=function(e,t){var i;return i={},null!=t&&(i.metatype=t),new n(e,"preview",i)},n.prototype.destroy=function(){return this.$elem.remove(),delete this.elem,delete this.$elem},n.prototype.update=function(){var e;return e=n.alias_map[this.type]||this.type,this.$elem.parent().replaceWith(n.tripleclickAd(e,this.customAttrs)),n.ads=_.difference(n.ads,[this])},n.prototype.handleResponsiveAd=function(){return this.$elem.contents().find(".mash-responsive-ad").length?(this.$elem.parent().addClass("no-collapse"),!0):!1},n.prototype.hideEmpty=function(){var e;return e=this.$elem.contents(),e.find('input.mash-hide, span.mash-hide, img[src="http://pagead2.googlesyndication.com/pagead/imgad/3103286/1x1.gif"]').length?(this.hideElem(),!0):!1},n.prototype.handleMashableUnit=function(){return this.attr="preview"===this.type?mashableUnit:this.$elem[0].contentWindow.mashableUnit,this.attr?(this.attr=$.extend(this.attr,{ad_location:this.type}),new App.Quadratus(this.attr).render(this.$elem)):!1},n.prototype.resizeElem=function(){var e;if(!(this.handleMashableUnit()||this.handleLenUnit()||this.handleSalesHub()||this.createVideoLiftUnit()||this.createLiftUnit()||this.createNetworkUnit()||this.createBrandUnit()||this.handleResponsiveAd()||this.hideEmpty()))return Modernizr.rgba||(e=this.$elem.parents().filter(function(){var e;return e=$(this).css("background-color"),"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e}).first().css("background-color"),this.$elem.contents().find("html").css("background",e)),this.$elem.contents().find("html").css({position:Modernizr.rgba?"relative":"absolute",overflow:"hidden"}),this.$elem.contents().find("input.mash-vert-rez").length?(this.$elem.height(this.$elem.contents().find("input.mash-vert-rez").val()),this.$elem.width(this.$elem.contents().find("input.mash-hori-rez").val())):(this.$elem.height(Math.max(this.$elem.height(),this.$elem.contents()[0].body.scrollHeight)),this.$elem.width(Math.max(this.$elem.width(),this.$elem.contents()[0].body.scrollWidth))),0===this.$elem.height()&&this.$elem.css("margin-bottom","0px"),this.$elem.trigger("loadedAndResized")},n.prototype.hideElem=function(e,t){return null==e&&(e=!1),null==t&&(t=!1),this.$elem.css("display","none"),t||this.$elem.parent().css("display","none"),this.$elem.parents(".box970").length&&$(".box970 .visible-desktop").css("padding","0"),e?$("#body").css("border-top","none"):void 0},n.prototype.incrementTitleAndOrd=function(){var e,t;return t=parseInt(this.$elem.contents().find("iframe","script").attr("src").match(/tile=\d+/)[0].substring(5)),e=parseInt(this.$elem.contents().find("iframe","script").attr("src").match(/ord=\d+/)[0].substring(4)),n.ord=e,n.tile=Math.max(t,n.tile)},n.prototype.callResizeOrLoadAlias=function(){var e,t,n=this;return t=every(100,function(){var i,r;try{r=null!=n.elem.contentDocument||null!=n.elem.contentWindow&&null!=n.elem.contentWindow.document}catch(s){i=s,r=!1}return r&&n.$elem.contents().find(".load-indicator").length?(clearInterval(t),clearInterval(e),n.$elem.contents().on("load","img",function(){return n.resizeElem()}),n.resizeElem()):void 0}),e=delay(1e4,function(){return clearInterval(t),n.hideElem()})},n.prototype.setLoadHook=function(){var e=this;return this.$elem.on("update",function(){return e.update()}),this.callResizeOrLoadAlias()},window.TripleClick=n,n}(DepreClick),$$(function(){return Modernizr.rgba?e.onDocumentReady():void 0}),$$(function(){return e.newOrd()})}.call(this),function(){var e,t,n,i={}.hasOwnProperty,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=function(e){function t(){return n=t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.replaceElement=!1,t}(App.TemplateView),e=function(){function e(t){var n,i,r,s,a;this.attr=t,n=this.attr.complexType,this._evs={},this.type=this.attr.type,s=e.units[this.type].events;for(i in s)r=s[i],this.on(i,r);a=e.events;for(i in a)r=a[i],this.on(i,r);this.attr.version||(this.attr=e.defaults[n]),this.attr.complexType=n,e.instances.push(this)}return e.units={},e.events={},e.instances=[],e.registerUnit=function(e,t){return null==t&&(t={}),this.units[e]=t},e.registerEvent=function(e,t){return this.events[e]=t},e.save=function(e,t){return e?$.ajax({type:"POST",url:"/ads/"+e,data:{_method:"PUT",ad:{params:JSON.stringify(t)}}}):void 0},e.create=function(e){var n,i,r,s;return i=new App.Lightbox({type:"fixed",classes:"white-dialog quadratus builder",contentClasses:"no-close"}),n={prompt:App.Quadratus.inferencePrompts[e.complexType]},_.contains(["mashable-content-social"],e.complexType)&&(n.multimedia=!0),s=new t({model:new Backbone.Model(n),el:i.content}),s.template="templates/quadratus/create_prompt",s.render(),i.show(),i.centerContent(),i.content.on("change","select",function(){var e;return e=$(this),e.parent().next(".prompt").html(Handlebars.helpers.quadMediaSourceLabel(e.val()))}),i.content.one("click",".skip",function(){var t;return i.hide(),(t=i.content.find("input").first().val()).length&&(e.name=t),$.ajax({type:"POST",url:"/ads",success:function(e){return e.redirect?window.location.href=e.redirect:void 0},data:{ad:{params:JSON.stringify(e)}}})}),r=function(){var t,s,a,o;return i.content.find("input").last().css("background","none"),i.content.find(".broken").remove(),i.content.append('<div class="spinner">'),i.content.off("click",".skip"),n=i.content.find("input").map(function(){return $(this).val()}).toArray(),t=i.content.find("select"),t.length&&n.splice(n.length-1,0,t.val()),e.name=n.shift(),s=function(e){return i.content.find(".spinner").remove(),e?(i.hide(),$.ajax({type:"POST",url:"/ads",success:function(e){return e.redirect?window.location.href=e.redirect:void 0},data:{ad:{params:JSON.stringify(e)}}})):(i.content.find("input").last().css("background","rgb(252,206,232)").after("<div class='broken'>").on("focus",function(){return $(this).css("background","none"),$(".broken").remove()
}),i.content.one("click",".skip",function(){return i.hide()}),i.content.one("click",".create",r))},o=function(e){return-1===e.search(/^http[s]?\:\/\//)&&(e="http://"+e),e},(a=App.Quadratus.inferenceEngines[e.complexType])?(n[0]=o(n[0]),a(e,n,s)):s(e)},i.content.one("click",".create",r)},e["delete"]=function(e){var n,i;if(e)return n=new App.Lightbox({type:"fixed",classes:"white-dialog quadratus builder",contentClasses:"no-close"}),i=new t({model:new Backbone.Model({}),el:n.content}),i.template="templates/quadratus/delete_prompt",i.render(),n.show(),n.centerContent(),n.content.on("click",".cancel",function(){return n.hide()}),n.content.on("click",".delete",function(){var t;return n.hide(),t=$(".quad-preview[data-id='"+e+"'],.quad-row[data-id='"+e+"']"),t.remove(),$.ajax({type:"POST",url:"/ads/"+e,dataType:"json",data:{_method:"delete"},success:function(){return t.length?void 0:window.location="/ads"}})})},e.code=function(e){return $.getJSON("/ads/"+e+".json",function(e){var n,i,r;return i=new App.Lightbox({type:"fixed",classes:"white-dialog quadratus builder",contentClasses:"no-close"}),r=new t({model:new Backbone.Model({json:"<script>\nmashableUnit = "+JSON.stringify(e.ad,null,"  ")+"\n</script>"}),el:i.content}),r.template="templates/quadratus/code_display",r.render(),i.removeOnHide(),i.show(),i.centerContent(),ZeroClipboard.config({moviePath:"/ZeroClipboard.swf"}),n=new ZeroClipboard(i.content.find(".copy")),n.on("complete",function(){return i.content.find(".copy").text("Copied!")}),i.content.on("click",".cancel",function(){return i.hide()})})},e.prototype.on=function(e,t){var n=this;return this._evs[e]||(this._evs[e]=$.Callbacks()),this._evs[e].add(function(){return t.call(n)})},e.prototype.trigger=function(e){return this._evs[e]?this._evs[e].fire():void 0},e.prototype.previewUrl=function(){return""+App.Quadratus.units[this.type].previewPage+"?lift_preview="+this.attr.id+"@"+App.Quadratus.units[this.type].previewNumber},e.prototype.timestamp=function(){var e,t,n;return e=new Date(this.attr.updatedAt),n=""+(e.getMonth()+1)+"/"+e.getDate()+"/"+e.getFullYear()%100+" at "+(e.getHours()+12)%12+":"+((t=e.getMinutes())<10?"0"+t:t)+(e.getHours()<12?"AM":"PM")},e.prototype.asTableRow=function(){return"<tr class='quad-row' data-id='"+this.attr.id+"'><td>"+this.attr.name+"</td><td>"+this.getComplexTypeName()+"</td><td>"+this.attr.sponsorship.text+"</td><td>"+this.timestamp()+"</td><td class='actions'><a class='preview' href='"+this.previewUrl()+"' target='_blank'></a><a class='edit' href='/ads/"+this.attr.id+"/edit'></a><div class='copy'></div><div class='code'></div><div class='delete'></div></td></tr>"},e.prototype.render=function(n){var i;return this.$elem=n,this.trigger("prerender"),this.$parent=this.$elem.parent(),i=new t({model:new Backbone.Model(this.attr),el:this.$parent}),i.template=e.units[this.type].template,i.render(),this.trigger("postrender")},e.prototype.renderForm=function(n){var i;return this.$formElem=n,i=new t({model:new Backbone.Model(this.attr),el:this.$formElem}),i.template=e.units[this.type].form,i.render(),this.trigger("postformrender")},e.prototype.renderPreview=function(n){var i,r;return this.$previewContainer=n,this.trigger("prepreviewrender"),i=new Date(this.attr.updatedAt),this.attr.timestamp=this.timestamp(),this.attr.previewUrl=this.previewUrl(),this.$preview=$("<div>").addClass("quad-preview"),r=new t({model:new Backbone.Model(this.attr),el:this.$preview}),r.template=e.units[this.type].preview,r.render(),this.$preview.attr("data-id",this.attr.id),this.$preview.insertBefore(this.$previewContainer.find(".new-quad").parents(".quad-preview")),this.trigger("postpreviewrender")},e.prototype.setAttr=function(e,t){var n,i,r,s;if(i=this.attr,e=e.split("."),e.length>1)for(n=r=0,s=e.length-2;s>=0?s>=r:r>=s;n=s>=0?++r:--r)i[e[n]]||(i[e[n]]=e[n+1].match(/^\d+$/)?[]:{}),i=i[e[n]];return i[e.pop()]=t},e.prototype.getAttr=function(e){var t,n,i,r;if(n=this.attr,e=e.split("."),e.length>1)for(t=i=0,r=e.length-2;r>=0?r>=i:i>=r;t=r>=0?++i:--i)n[e[t]]||(n[e[t]]=e[t+1].match(/^\d+$/)?[]:{}),n=n[e[t]];return n[e.pop()]},e.prototype.currentHref=function(){return window.location.href},e.prototype.setDefaultImage=function(e){var t=this;return"content"===this.type&&this.attr.mashableContent?$.getJSON(this.attr.sourceUrl,function(n){return t.attr.media[0].data=n.post.image,t.save(),e()}):void 0},e.prototype.autopopTrackers=function(e,t){switch(this.type){case"content":if(this.attr.mashableContent)return this.setAttr("trackers.share.facebook","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"facebook;sz=1x1;ord=%n"),this.setAttr("trackers.share.twitter","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"twitter;sz=1x1;ord=%n"),this.setAttr("trackers.share.pinterest","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"pinterest;sz=1x1;ord=%n"),this.setAttr("trackers.share.linkedIn","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"linkedin;sz=1x1;ord=%n"),this.setAttr("trackers.share.googlePlus","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"google;sz=1x1;ord=%n"),this.save(),t();break;case"gallery":return this.setAttr("trackers.share.facebook","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"facebook;sz=1x1;ord=%n"),this.setAttr("trackers.share.twitter","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"twitter;sz=1x1;ord=%n"),this.setAttr("trackers.share.pinterest","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"pinterest;sz=1x1;ord=%n"),this.setAttr("trackers.share.linkedIn","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"linkedin;sz=1x1;ord=%n"),this.setAttr("trackers.share.googlePlus","http://ad.doubleclick.net/ad/mash.to/;posts="+e+"google;sz=1x1;ord=%n"),this.save(),t()}},e.prototype.getId=function(){var e;return(e=this.currentHref().match(/ads\/(\w+)\/edit/))?e[1]:null},e.prototype["delete"]=function(){return e["delete"](this.getId())},e.prototype.create=function(){return e.create(this.attr)},e.prototype.save=function(){return e.save(this.getId(),this.attr)},e.prototype.code=function(){return e.code(this.getId())},e}(),this.provides({QuadratusView:t,Quadratus:e})}.call(this),function(){window.Handlebars.registerHelper("isBlank",function(e){return e===!1?"_blank":""}),window.Handlebars.registerHelper("select",function(e,t){var n;return n=$("<select />").html(t.fn(this)),n.find("[value="+e+"]").attr({selected:"selected"}),n.html()}),window.Handlebars.registerHelper("ifEqual",function(e,t,n){return e===t?n.fn(this):n.inverse(this)}),window.Handlebars.registerHelper("render",function(e){var t;return t=null!=arguments[2]?_.extend({},arguments[1],arguments[2].hash):arguments[1].hash,new Handlebars.SafeString(Handlebars.compile(Handlebars.partials[e])(t))}),window.Handlebars.registerHelper("quadDataInputLabel",function(e){switch(e){case"soundcloud":return"SoundCloud Embed";case"brightcove":return"Brightcove Player Id";case"ustream":return"Ustream Embed";case"youtube":return"YouTube Video";case"image":return"Instagram Image";case"video":return"Instagram Video";case"vine":return"Vine Embed"}}),window.Handlebars.registerHelper("quadMediaSourceLabel",function(e){switch(e){case"soundcloud":return"SoundCloud Url";case"brightcove":return"Brightcove Player Id";case"ustream":return"Ustream Url";case"youtube":return"YouTube Url";case"image":return"Instagram Url";case"video":return"Instagram Url";case"vine":return"Vine Url"}}),App.Quadratus.registerEvent("prerender",function(){var e;return this.attr.version<2?(e=this.attr).sponsorship||(e.sponsorship={text:"Sponsored"}):void 0}),App.Quadratus.registerEvent("setSocialTrackers",function(){var e=this;return this.$parent.one("mouseenter",function(){var t;return t=e.getMediaType(),e.$parent.find(".social-share").on("click",function(n){var i,r;if(i=$(n.target).attr("class"),-1!==i.indexOf("facebook")){if(e.trackLiftEvent("Facebook",t),r=e.attr.trackers.share.facebook,null!=r&&(r=r.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=r)return e.$parent.append("<img style='width:0px;height:0px;' src='"+r+"'/>")}else if(-1!==i.indexOf("twitter")){if(e.trackLiftEvent("Twitter",t),r=e.attr.trackers.share.twitter,null!=r&&(r=r.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=r)return e.$parent.append("<img style='width:0px;height:0px;' src='"+r+"'/>")}else if(-1!==i.indexOf("linked_in")){if(e.trackLiftEvent("Linkedin",t),r=e.attr.trackers.share.linkedIn,null!=r&&(r=r.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=r)return e.$parent.append("<img style='width:0px;height:0px;' src='"+r+"'/>")}else if(-1!==i.indexOf("google_plus")){if(e.trackLiftEvent("Google Plus",t),r=e.attr.trackers.share.googlePlus,null!=r&&(r=r.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=r)return e.$parent.append("<img style='width:0px;height:0px;' src='"+r+"'/>")}else if(-1!==i.indexOf("pinterest")&&(e.trackLiftEvent("Pinterest",t),r=e.attr.trackers.share.pinterest,null!=r&&(r=r.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=r))return e.$parent.append("<img style='width:0px;height:0px;' src='"+r+"'/>")}),e.$parent.find("a.sponsorship").on("click",function(){return e.trackLiftEvent("Bottom Sponsored Text",t)})})}),App.Quadratus.registerEvent("setLightboxSocialTrackers",function(){var e=this;return activateShareButtons($(this.lightbox.el)),$(this.lightbox.el).one("mouseenter",function(){var t;return t=e.getMediaType(),$(e.lightbox.el).find(".social-share").on("click",function(n){var i,r,s;if(i=$(n.target).attr("class"),r=e.currentMedia&&e.attr.media[e.currentMedia],-1!==i.indexOf("facebook")){if(e.trackLiftEvent("Facebook",t),s=r&&r.trackers&&r.trackers.share&&r.trackers.share.facebook||e.attr.trackers.share.facebook,null!=s&&(s=s.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=s)return $(e.lightbox.el).append("<img style='width:0px;height:0px;' src='"+s+"'/>")}else if(-1!==i.indexOf("twitter")){if(e.trackLiftEvent("Twitter",t),s=r&&r.trackers&&r.trackers.share&&r.trackers.share.twitter||e.attr.trackers.share.twitter,null!=s&&(s=s.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=s)return $(e.lightbox.el).append("<img style='width:0px;height:0px;' src='"+s+"'/>")}else if(-1!==i.indexOf("linked_in")){if(e.trackLiftEvent("Linkedin",t),s=r&&r.trackers&&r.trackers.share&&r.trackers.share.linkedIn||e.attr.trackers.share.linkedIn,null!=s&&(s=s.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=s)return $(e.lightbox.el).append("<img style='width:0px;height:0px;' src='"+s+"'/>")}else if(-1!==i.indexOf("google_plus")){if(e.trackLiftEvent("Google Plus",t),s=r&&r.trackers&&r.trackers.share&&r.trackers.share.googlePlus||e.attr.trackers.share.googlePlus,null!=s&&(s=s.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=s)return $(e.lightbox.el).append("<img style='width:0px;height:0px;' src='"+s+"'/>")}else if(-1!==i.indexOf("pinterest")&&(e.trackLiftEvent("Pinterest",t),s=r&&r.trackers&&r.trackers.share&&r.trackers.share.pinterest||e.attr.trackers.share.pinterest,null!=s&&(s=s.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random()))),null!=s))return $(e.lightbox.el).append("<img style='width:0px;height:0px;' src='"+s+"'/>")}),$(e.lightbox.el).find(".view-on").on("click",function(){return e.trackLiftEvent("CTA URL",t)}),$(e.lightbox.el).find("footer a.sponsorship").on("click",function(){return e.trackLiftEvent("Bottom Sponsored Text",t)})})}),App.Quadratus.prototype.getMediaType=function(){var e;return e=_.str.capitalize(this.attr.media[0].type),"Image"===e&&(e="Instagram"),e},App.Quadratus.prototype.trackLiftEvent=function(e,t){var n,i,r,s;switch(r=""+this.attr.id,i="Social",s=-1!==window.location.pathname.split("/").indexOf("edit")||window.location.searchObj.lift_preview,this.type){case"twitter":i="Twitter",r="@"+this.attr.twitterHandle+" | "+r;break;case"content":this.attr.mashableContent?(i="image"===this.attr.media[0].type?"Content":"Content-Social",r=""+this.attr.title+" | "+r,t&&(r=""+t+" | "+r)):(i="Offsite",r=""+this.attr.title+" | "+this.attr.contentHost.title+" | "+r);break;default:r=""+this.attr.title+" | "+r,t&&(r=""+t+" | "+r)}return n="Lift | "+i+" | "+this.attr.ad_location,s&&(n=this.addPreviewPrefix(n),e=this.addPreviewPrefix(e),r=this.addPreviewPrefix(r)),_gaq.push(["_trackEvent",n,e,r])},App.Quadratus.registerEvent("prepreviewrender",function(){return this.attr.complexTypeName=this.getComplexTypeName()}),App.Quadratus.complex_type_dict={"mashable-content-social":"Mashable Content + Social","mashable-content":"Content Lift","offsite-content":"Offsite Lift","mixed-media":"Social Lift",soundcloud:"SoundCloud Social Lift",brightcove:"Brightcove Social Lift",instagram:"Instagram Social Lift",youtube:"YouTube Social Lift",ustream:"Ustream Social Lift",twitter:"Twitter Social Lift",vine:"Vine Social Lift"},App.Quadratus.prototype.addPreviewPrefix=function(e){return"Preview: "+e},App.Quadratus.prototype.getComplexTypeName=function(){return App.Quadratus.complex_type_dict[this.getComplexType()]},App.Quadratus.prototype.getComplexType=function(){var e;switch(this.type){case"twitter":return"twitter";case"content":return this.attr.mashableContent?"image"===this.attr.media[0].type?"mashable-content":"mashable-content-social":"offsite-content";case"gallery":if((e=_.uniq(this.attr.media.map(function(e){return e.type}))).length>1&&_.without(e,"video","image").length)return"mixed-media";switch(this.attr.media[0].type){case"image":return"instagram";case"video":return"instagram";default:return this.attr.media[0].type}break;default:return"mixed-media"}}}.call(this),function(){App.Quadratus.registerUnit("brand",{previewNumber:0,previewPage:"/",template:"templates/quadratus/units/brand",form:"templates/quadratus/forms/brand",defaults:{version:1,name:"Untitled Brand Lift",type:"brand",title:"Sponsored",followUrl:"",imageUrl:"",imageSrc:"http://1.mshcdn.com/wp-content/uploads/2013/12/Mashable.NewLogo.Cyan_.png",twitterWidgetId:"412354210710044672",twitterName:"mashable",facebookHandle:"mashable",postSlug:"/2010/11/23/kids-reenact-kanye-wests-tweets",trackers:{impression:[]}},events:{announce:function(){return console.log("I AM A BRAND UNIT")},appendTwitter:function(){return this.$parent.append('<script src="//platform.twitter.com/widgets.js"></script>')},postformrender:function(){return this.trigger("appendTwitter")},postrender:function(){return this.$parent.prev().hasClass("overlay")?void 0:this.trigger("appendTwitter")}}})}.call(this),function(){App.Quadratus.registerUnit("content",{previewNumber:0,previewPage:"/",template:"templates/quadratus/units/content",preview:"templates/quadratus/preview/content",form:"templates/quadratus/forms/content",events:{prerender:function(){var e,t,n,i;return(n=this.attr.share).text||(n.text=this.attr.title),(i=this.attr.share).url||(i.url=this.attr.sourceUrl.match("http")?this.attr.sourceUrl:""+window.location.origin+this.attr.sourceUrl),this.attr.media[0].image=this.attr.media[0].thumb||this.attr.media[0].data,this.attr.playOverlay=!("image"===this.attr.media[0].type),this.attr.shares=null,this.attr.mashableContent&&this.attr.sourceUrl?(t=this.attr.sourceUrl,"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t+=".json",$.ajaxSetup({async:!1}),e=$.getJSON(t).responseJSON,$.ajaxSetup({async:!0}),this.attr.shares=e.post.shares):void 0},prepreviewrender:function(){return this.attr.media[0].image=this.attr.media[0].thumb||this.attr.media[0].data},postformrender:function(){var e;return e=$('input[type="checkbox"]'),e.prop("checked")?($(".mashContentInput").removeClass("hidden"),$(".offsiteContentInput").addClass("hidden")):($(".mashContentInput").addClass("hidden"),$(".offsiteContentInput").removeClass("hidden"))},postrender:function(){var e=this;return this.attr.version<4&&this.$parent.find(".content-lift").addClass("version-3"),this.trigger("setSocialTrackers"),"image"!==this.attr.media[0].type?(this.trackLiftEvent("Impression",this.getMediaType()),this.$parent.find(".bigThumb,.video-overlay").on("click",function(t){var n,i,r,s,a,o,l,c,p,u,h;if(t.preventDefault(),clearTimeout(window.auto_refresh),e.trackLiftEvent("Gallery Open",e.getMediaType()),(n=e.attr.trackers.click)&&n.length)for(o=Math.ceil(1e15*Math.random()),u=0,h=n.length;h>u;u++)c=n[u],c=c.replace(/ord=\d+/,"ord="+o),e.$parent.append("<img style='width:0px;height:0px' src='"+c+"'/>");switch(s=e.$parent.find(".lead-image"),p=s.width(),r=parseInt(9*(p/16)),a=e.attr.media[0].data,e.attr.media[0].type){case"vine":return s.html("<iframe frameBorder='0' width="+p+" height="+p+" scrolling='no' src='"+a+"'></iframe>");case"youtube":return l=a.match(/v=([^&$]+)/)[1],s.html("<iframe frameBorder='0' width="+p+" height="+r+" scrolling='no' src='http://www.youtube.com/embed/"+l+"?autoplay=1' allowfullscreen=true></iframe>");case"video":return i=""+p+"|"+a,s.html("<iframe frameBorder='0' width="+p+" height="+p+" scrolling='no' src='/video.html#"+i+"'></iframe>");case"ustream":return s.html("<iframe frameBorder='0' width="+p+" height="+r+" scrolling='no' src='"+a+"'></iframe>");case"soundcloud":return r=parseInt(p/2.8),s.html("<iframe frameBorder='0' width="+p+" height="+r+" scrolling='no' src='"+a+"'></iframe>")}})):this.trackLiftEvent("Impression"),this.$parent.find("a.company").on("click",function(){return e.trackLiftEvent("Offsite Domain")})}}})}.call(this),function(){App.Quadratus.defaults={"mashable-content-social":{mashableContent:!0,sourceUrl:"/2014/02/04/bill-nye-evolution-debate/",version:4,title:"Watch: 'Science Guy' Bill Nye Debates Creationist on Evolution",name:"Mashable Content+Social Lift",type:"content",media:[{thumb:"https://i1.ytimg.com/vi/z6kgvhG3AkI/hqdefault.jpg",type:"youtube",data:"https://www.youtube.com/watch?v=z6kgvhG3AkI"}],sponsorship:{text:"Presented By",url:"%c%u"},share:{text:"Watch: 'Science Guy' Bill Nye Debates Creationist on Evolution",url:"http://mashable.com/2014/02/04/bill-nye-evolution-debate/",lead:{url:"%c%u"},title:{url:"%c%u"}},trackers:{impression:[]}},"offsite-content":{mashableContent:!1,sourceUrl:"http://www.fastcompany.com/3025470/fast-feed/uber-admits-to-aggressively-trying-to-steal-rivals-drivers",version:4,title:"Uber Admits To Aggressively Trying To Steal Rival's Drivers",name:"Offsite Lift",type:"content",media:[{type:"image",data:"http://b.fastcompany.net/multisite_files/fastcompany/imagecache/620x350/poster/2014/01/3025470-poster-uber-poaching-gett.jpg"}],contentHost:{title:"Fast Company",url:"fastcompany.com"},sponsorship:{text:"Presented By",url:"%c%u"},share:{text:"Uber Admits To Aggressively Trying To Steal Rival's Drivers",url:"http://www.fastcompany.com/3025470/fast-feed/uber-admits-to-aggressively-trying-to-steal-rivals-drivers",lead:{url:"%c%u"},title:{url:"%c%u"}},trackers:{impression:[]}},"mashable-content":{mashableContent:!0,sourceUrl:"/2012/05/22/spacex-dragon-scotty/",version:4,title:"Confirmed: SpaceX Dragon Ferried 'Scotty's' Remains Into Space",name:"Mashable Content Lift",type:"content",media:[{type:"image",data:"http://rack.0.mshcdn.com/media/ZgkyMDEyLzEyLzA0L2FjL2NvbmZpcm1lZHNwLmNmYi5qcGcKcAl0aHVtYgk5NTB4NTM0IwplCWpwZw/83a399db/a2c/confirmed-spacex-dragon-ferried-scotty-s-remains-into-space-cb2ea52520.jpg"}],sponsorship:{text:"Presented By",url:"%c%u"},share:{text:"Confirmed: SpaceX Dragon Ferried 'Scotty's' Remains Into Space",url:"http://mashable.com/2012/05/22/spacex-dragon-scotty/",lead:{url:"%c%u"},title:{url:"%c%u"}},trackers:{impression:[]}},brightcove:{twitterHandle:"nissanusa",leadText:'Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. Read more at <a href="http://www.yourdoortomore.com" target="_blank">yourdoortomore.com</a>',version:4,title:"@nissanusa",name:"Brightcove Social Lift",type:"gallery",share:{text:"Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. yourdoortomore.com #VersaVid",url:"http://instagram.com/p/a16SJRjjgi/"},credit:{text:"Enter the Contest",url:"yourdoortomore.com"},sponsorship:{text:"Presented By",url:"%c%u"},media:[{thumb:"http://rack.0.mshcdn.com/media/ZgkyMDEyLzEyLzAzLzEzXzAyXzQ5XzIxNl9maWxlCnAJdGh1bWIJODUweDU5MD4KZQlqcGc/12f4ec8b.jpg",type:"brightcove",data:"3102309657001"}],trackers:{impression:[],follow:"",click:[],prev:"",next:"",share:{facebook:"",twitter:"",linkedIn:"",googlePlus:"",pinterest:""}}},soundcloud:{twitterHandle:"nissanusa",showThumbs:!0,leadText:'Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. Read more at <a href="http://www.yourdoortomore.com" target="_blank">yourdoortomore.com</a>',version:4,title:"@nissanusa",name:"Soundcloud Social Lift",type:"gallery",share:{text:"Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. yourdoortomore.com #VersaVid",url:"http://instagram.com/p/a16SJRjjgi/"},credit:{text:"Enter the Contest",url:"yourdoortomore.com"},sponsorship:{text:"Presented By",url:"%c%u"},media:[{thumb:"http://i1.sndcdn.com/artworks-000068394332-7ewl5l-large.jpg?5a267fd",type:"soundcloud",data:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/130274357&amp;color=ff5500&amp;auto_play=true;show_artwork=true"}],trackers:{impression:[],follow:"",click:[],prev:"",next:"",share:{facebook:"",twitter:"",linkedIn:"",googlePlus:"",pinterest:""}}},instagram:{twitterHandle:"nissanusa",showThumbs:!0,leadText:'Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. Read more at <a href="http://www.yourdoortomore.com" target="_blank">yourdoortomore.com</a>',version:4,title:"@nissanusa",name:"Instagram Social Lift",type:"gallery",share:{text:"Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. yourdoortomore.com #VersaVid",url:"http://instagram.com/p/a16SJRjjgi/"},credit:{text:"Enter the Contest",url:"yourdoortomore.com"},sponsorship:{text:"Presented By",url:"%c%u"},media:[{thumb:"http://instagram.com/p/dvO5kvOqKh/media",type:"video",data:"http://distilleryvesper5-13.ak.instagram.com/13242f44136711e3a8c722000a9f392c_101.mp4"}],trackers:{impression:[],follow:"",click:[],prev:"",next:"",share:{facebook:"",twitter:"",linkedIn:"",googlePlus:"",pinterest:""}}},youtube:{twitterHandle:"nissanusa",showThumbs:!0,leadText:'Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. Read more at <a href="http://www.yourdoortomore.com" target="_blank">yourdoortomore.com</a>',version:4,title:"@nissanusa",name:"YouTube Social Lift",type:"gallery",share:{text:"Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. yourdoortomore.com #VersaVid",url:"http://instagram.com/p/a16SJRjjgi/"},credit:{text:"Enter the Contest",url:"yourdoortomore.com"},sponsorship:{text:"Presented By",url:"%c%u"},media:[{thumb:"http://i1.ytimg.com/vi/GQm1sF7xJhA/hqdefault.jpg",type:"youtube",data:"http://www.youtube.com/watch?v=GQm1sF7xJhA"}],trackers:{impression:[],follow:"",click:[],prev:"",next:"",share:{facebook:"",twitter:"",linkedIn:"",googlePlus:"",pinterest:""}}},ustream:{twitterHandle:"nissanusa",showThumbs:!0,leadText:'Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. Read more at <a href="http://www.yourdoortomore.com" target="_blank">yourdoortomore.com</a>',version:4,title:"@nissanusa",name:"Ustream Social Lift",type:"gallery",share:{text:"Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. yourdoortomore.com #VersaVid",url:"http://instagram.com/p/a16SJRjjgi/"},credit:{text:"Enter the Contest",url:"yourdoortomore.com"},sponsorship:{text:"Presented By",url:"%c%u"},media:[{thumb:"http://static-cdn2.ustream.tv/i/video/picture/0/1/38/38791/38791097/1_10414700_38791097,640x360,b,1:4.jpg",type:"ustream",data:"http://www.ustream.tv/embed/recorded/38791097?v=3&amp;wmode=direct&autoplay=true"}],trackers:{impression:[],follow:"",click:[],prev:"",next:"",share:{facebook:"",twitter:"",linkedIn:"",googlePlus:"",pinterest:""}}},twitter:{twitterAvatarSrc:"https://si0.twimg.com/profile_images/3690637553/5c348fee8afbcefa1978004a864a51ce_bigger.png",usernameColor:"#66f",twitterHandle:"mashable",hashtagColor:"#f6f",leadImageSrc:"https://o.twimg.com/2/proxy.jpg?t=HBh-aHR0cDovL3JhY2suMC5tc2hjZG4uY29tL21lZGlhL1pna3lNREV6THpBNEx6QTRMemsyTDJKaFlua3lMbVUxTm1VNExuQnVad3B3Q1hSb2RXMWlDVFUyTUhnM05UQUtaUWxxY0djLzZhOGJjNDE4LzJkMi9iYWJ5LTIuanBnFJADFKwCABYAEgA&s=CRlpWUy465ssd8RDI07A2pQEp4DexrDiCtPBv0hfB4A",twitterName:"Mashable",textColor:"#333",leadText:'Can <a class="username">@BabySense</a> Turn Its Facebook Fans Into Paying Customers? <a class="hashtag">#SocialMakeover</a>',version:4,tweetId:"365695809544650753",name:"Twitter Social Lift",type:"twitter",sponsorship:{text:"Presented By",url:"%c%u"}},vine:{twitterHandle:"nissanusa",showThumbs:!0,leadText:'Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. Read more at <a href="http://www.yourdoortomore.com" target="_blank">yourdoortomore.com</a>',version:4,title:"@nissanusa",name:"Vine Social Lift",type:"gallery",share:{text:"Wanna see your video in a TV commercial? Check out the #VersaNote Your Door To More Video Contest. yourdoortomore.com #VersaVid",url:"http://instagram.com/p/a16SJRjjgi/"},credit:{text:"Enter the Contest",url:"yourdoortomore.com"},sponsorship:{text:"Presented By",url:"%c%u"},media:[{thumb:"http://distilleryimage7.s3.amazonaws.com/b96866dee42f11e2ad5622000a1f98e5_6.jpg",type:"vine",data:"https://vine.co/v/h7OKuhmJxbz/card"},{thumb:"http://distilleryimage5.s3.amazonaws.com/967c33b8e01e11e2816722000a1f93c3_6.jpg",type:"vine",data:"https://vine.co/v/h7MdP9OD05B/card"},{thumb:"http://distilleryimage1.s3.amazonaws.com/646b756ae29811e2990322000a9f192c_6.jpg",type:"vine",data:"https://vine.co/v/hWAmV6ei0Yg/card"},{thumb:"http://distilleryimage3.s3.amazonaws.com/1f91e5d8de9111e28fa722000a1fbcea_6.jpg",type:"vine",data:"https://vine.co/v/hBIb2bq5gLn/card"}],trackers:{impression:[],follow:"",click:[],prev:"",next:"",share:{facebook:"",twitter:"",linkedIn:"",googlePlus:"",pinterest:""}}}}}.call(this),function(){App.Quadratus.registerUnit("gallery",{previewNumber:0,previewPage:"/",template:"templates/quadratus/units/gallery",preview:"templates/quadratus/preview/gallery",form:"templates/quadratus/forms/gallery",box:"templates/quadratus/lightboxes/gallery",events:{prerender:function(){var e,t,n,i,r;for(this.attr.playOverlay=!("image"===this.attr.media[0].type),this.attr.showThumbs=this.attr.media.length>1,this.attr.bloomOverride&&(this.attr.showThumbs=!1),e=t=0,i=this.attr.media.length-1;i>=0?i>=t:t>=i;e=i>=0?++t:--t)this.attr.media[e].image=this.attr.media[e].thumb||this.attr.media[e].data||this.attr.media[e].leadImageSrc,"image"===this.attr.media[e].type&&(this.attr.media[e].image=this.attr.media[e].data);if(this.attr.randomizeUnit&&this.attr.media.length>3){for(this.attr.randomMedia=_.shuffle(this.attr.media),r=[],e=n=0;3>=n;e=++n)r.push(this.attr.randomMedia[e].index=this.attr.media.indexOf(this.attr.randomMedia[e]));return r}},prepreviewrender:function(){return this.attr.media[0].image=this.attr.media[0].thumb||this.attr.media[0].data},postrender:function(){var e=this;return this.attr.version<4&&this.$parent.find(".gallery-lift").addClass("version-3"),this.trigger("setSocialTrackers"),activateShareButtons(this.$parent),this.mediaType=this.getMediaType(),this.trackLiftEvent("Impression",this.mediaType),this.$parent.find(".thumb,.bigThumb,.overlay,.video-overlay").on("click",function(t){return t.preventDefault(),clearTimeout(window.auto_refresh),e.currentMedia=$(t.target).data("index")||0,e.trigger("openLightbox")})},openLightbox:function(){var e,t,n,i,r,s,a,o,l,c,p=this;if(i="white-dialog gallery-ad quadratus",this.attr.version<4&&(i+="version-3"),null==this.lightbox&&(this.lightbox=new App.Lightbox({classes:i,contentClasses:"no-close"}),n=new App.QuadratusView({model:new Backbone.Model(this.attr),el:this.lightbox.content}),n.template=App.Quadratus.units[this.type].box,n.render(),$(this.lightbox.el).off("click").on("click",function(e){return-1===$(e.target).parents().index(p.lightbox.el.find(".no-close"))?p.trigger("closeLightbox"):void 0}).on("click",".mash-lightbox-close",function(){return p.trigger("closeLightbox")}),this.lightbox.on("closing",function(){return p.trigger("closeLightbox"),p.$parent.find("."+p.attr.type+"-ad").removeClass("inactive")}),this.trigger("setLightboxSocialTrackers"),this.trackLiftEvent("Open",this.mediaType)),(e=this.attr.trackers.click).length)for(r=Math.ceil(1e15*Math.random()),a=0,l=e.length;l>a;a++)s=e[a],s=s.replace(/ord=\d+/,"ord="+r),this.$parent.append("<img style='width:0px;height:0px' src='"+s+"'/>");for(this.mediaCount=this.attr.media.length,1===this.mediaCount?$(this.lightbox.el).find(".mash-lightbox-next,.mash-lightbox-prev").hide():($(this.lightbox.el).find(".mash-lightbox-next,.mash-lightbox-prev").show(),$(this.lightbox.el).find(".mash-lightbox-content").addClass("gallery-lightbox")),$(this.lightbox.el).find(".mash-lightbox-next").off().on("click",function(){return p.trackLiftEvent("Next",p.mediaType),p.trigger("nextLightbox")}),$(this.lightbox.el).find(".mash-lightbox-prev").off().on("click",function(){return p.trackLiftEvent("Prev",p.mediaType),p.trigger("prevLightbox")}),this.centerTimeout=0,t=o=0,c=this.attr.media.length-1;c>=0?c>=o:o>=c;t=c>=0?++o:--o)"image"===this.attr.media[t].type&&(this.centerTimeout=300);return this.$parent.find("."+this.attr.type+"-ad").addClass("inactive"),this.trigger("updateLightbox"),this.trigger("bindArrowKeys"),this.lightbox.show(),setTimeout(function(){return p.lightbox.centerContent(),activateShareButtons(p.lightbox.el)},this.centerTimeout)},updateLightbox:function(){var e,t,n,i,r,s,a,o;if(r=$(this.lightbox.el).find(".lightbox-lead"),e=this.attr.media[this.currentMedia],this.attr.version>=3)switch(o=Math.min($(window).width()-40,480),i=parseInt(9*(o/16)),e.type){case"image":r.html("<img src='"+e.data+"'>");break;case"vine":r.html("<iframe frameBorder='0' width="+o+" height="+o+" scrolling='no' src='"+e.data+"'></iframe>");break;case"youtube":s=e.data.match(/v=([^&$]+)/)[1],r.html("<iframe frameBorder='0' width="+o+" height="+i+" scrolling='no' src='http://www.youtube.com/embed/"+s+"?autoplay=1' allowfullscreen=true></iframe>");break;case"video":n=""+o+"|"+e.data,r.html("<iframe frameBorder='0' width="+o+" height="+o+" scrolling='no' src='/video.html#"+n+"'></iframe>");break;case"ustream":r.html("<iframe frameBorder='0' width="+o+" height="+i+" scrolling='no' src='"+e.data+"'></iframe>");break;case"soundcloud":i=parseInt(o/2.8),r.html("<iframe frameBorder='0' width="+o+" height="+i+" scrolling='no' src='"+e.data+"'></iframe>");break;case"brightcove":r.html("<object id='myExperience"+e.data+"' class='BrightcoveExperience'><param name='bgcolor' value='#FFFFFF' /><param name='width' value='"+o+"' /><param name='height' value='"+i+"' /><param name='playerID' value='2579445172001' /><param name='playerKey' value='AQ~~,AAABBzUwv1E~,xP-xFHVUstg6x3X0Ctzy4aRejBM8Clbz' /><param name='isVid' value='true' /><param name='isUI' value='true' /><param name='dynamicStreaming' value='true' /><param name='autoStart' value='true' /><param name='@videoPlayer' value='"+e.data+"' /></object>"),$.getScript("http://admin.brightcove.com/js/BrightcoveExperiences.js",function(){return brightcove.createExperiences()})}else e.youtubeSrc?(o=Math.min($(window).width()-40,480),i=parseInt(9*(o/16)),s=e.youtubeSrc.match(/v=([^&$]+)/)[1],r.html("<iframe frameBorder='0' width="+o+" height="+i+" scrolling='no' src='http://www.youtube.com/embed/"+s+"?autoplay=1' allowfullscreen=true></iframe>")):e.videoSrc?(a=Math.min($(window).width()-40,480),n=""+a+"|"+e.videoSrc,r.html("<iframe frameBorder='0' width="+a+" height="+a+" scrolling='no' src='/video.html#"+n+"'></iframe>")):e.vineSrc?(a=Math.min($(window).width()-40,480),r.html("<iframe frameBorder='0' width="+a+" height="+a+" scrolling='no' src='"+e.vineSrc+"'></iframe>")):e.ustreamSrc?(o=Math.min($(window).width()-40,480),i=parseInt(9*(o/16)),r.html("<iframe frameBorder='0' width="+o+" height="+i+" scrolling='no' src='"+e.ustreamSrc+"'></iframe>")):r.html("<img src='"+e.leadImageSrc+"' />");return t=$(this.lightbox.el),t.find(".title").html(e.title||this.attr.title),t.find(".description").html(e.leadText||this.attr.leadText),t.find(".view-on").html(e.credit&&e.credit.text||this.attr.credit.text),t.find(".view-on").attr("href",e.credit&&e.credit.url||this.attr.credit.url),t.find(".social-stub").data("title",e.share&&e.share.text||this.attr.share.text),t.find(".social-stub").data("href",e.share&&e.share.url||this.attr.share.url),t.find(".social-stub.twitter").data("twitter-handle",e.twitterHandle||this.attr.twitterHandle),t.find(".social-stub.twitter").data("no-via","true"),t.find(".social-stub.pinterest").data("image",e.leadImageSrc),t.find(".social-stub.pinterest").data("description",e.share&&e.share.text||this.attr.share.text)
},nextLightbox:function(){var e;return(e=this.attr.trackers.next)&&(e=e.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random())),this.$parent.append("<img style='width:0px;height:0px' src='"+e+"'/>")),this.currentMedia=(this.currentMedia+1)%this.mediaCount,this.trigger("updateLightbox")},prevLightbox:function(){var e;return(e=this.attr.trackers.prev)&&(e=e.replace(/ord=\d+/,"ord="+Math.ceil(1e15*Math.random())),this.$parent.append("<img style='width:0px;height:0px' src='"+e+"'/>")),this.currentMedia=(this.currentMedia+this.mediaCount-1)%this.mediaCount,this.trigger("updateLightbox")},closeLightbox:function(){var e;return e=$(this.lightbox.el).find(".lightbox-lead"),e.empty(),this.lightbox.hide()},bindArrowKeys:function(){var e=this;return $(window).on("keydown",function(){switch(event.keyCode){case 39:return e.trigger("nextLightbox");case 37:return e.trigger("prevLightbox")}})}}})}.call(this),function(){App.Quadratus.inferencePrompts={"mashable-content-social":["Mashable Url:"],"offsite-content":["Content Url:"],"mashable-content":["Mashable Url:"],brightcove:["Brightcove Player Id:"],soundcloud:["SoundCloud Url:"],instagram:["Instagram Url:"],youtube:["YouTube Url:"],ustream:["Ustream Url:"],twitter:["Tweet Url:"],vine:["Vine Url:"]},App.Quadratus.inferenceEngines={"mashable-content":function(e,t,n){var i;return i=t[0].match(/(?:https?:\/\/[^\/]+)?(.+?)(?:\/?$|\/?\?.+$)/i)[1],$.getJSON(i+"?format=json",function(t){var r;return r=t.post,e.share.text=r.title,e.share.url=r.short_url,e.sourceUrl=i,e.title=r.title,e.mashableContent=!0,e.media[0].data=r.image,n(e)}).error(function(){return n()})},"mashable-content-social":function(e,t,n){return App.Quadratus.inferenceEngines["mashable-content"](e,t,function(e){var i,r;return e?(r=t[t.length-1],i=t[t.length-2],"image"===i&&(i="instagram"),App.Quadratus.inferenceEngines.media(i,r,function(t){return e.media[0]=t,n(e)})):n()})},"offsite-content":function(e,t,n){return $.getJSON("/admin/pismo?q="+encodeURIComponent(t[0]),function(i){return e.mashableContent=!1,e.sourceUrl=t[0],e.title=i.title,e.contentHost={},e.contentHost.url=t[0].match(/https?:\/\/(?:www\.?)?([^\/]+)/)[1],e.contentHost.title=i.sitename||e.contentHost.url,e.media[0].data=i.image,e.share.text=i.title,e.share.url=t[0],n(e)}).error(function(){return n()})},brightcove:function(e,t,n){return e.media=[{type:"brightcove",data:t[0],thumb:"http://placehold.it/800x450&text=+"}],n(e)},vine:function(e,t,n){return $.getJSON("/admin/pismo?q="+encodeURIComponent(t[0]),function(i){return e.title=i.description,e.twitterHandle=null,e.leadText="",e.share={text:"",url:t[0]},e.credit={text:i.username,url:"https://vine.co/u/"+i.userId},e.media=[{type:"vine",data:""+t[0]+"/card",thumb:i.thumbnailUrl}],n(e)}).error(function(){return n()})},instagram:function(e,t,n){var i;return console.log("parse instagram"),i=t[0].replace("modal=true","").replace(/[\/|\?]*$/,""),$.getJSON("/admin/pismo?q="+encodeURIComponent(i),function(r){return e.title=r.instagram.brittle&&r.instagram.brittle.username||"Instagram",e.twitterHandle=null,e.leadText=r.instagram.brittle&&r.instagram.brittle.caption||"Unable to crawl caption",e.share={text:r.instagram.brittle&&r.instagram.brittle.username||"Instagram",url:t[0]},e.credit={text:r.instagram.brittle&&r.instagram.brittle.username||"Instagram",url:r.instagram.brittle&&"http://instagram.com/"+r.instagram.brittle.username||null},e.media=[{type:"image",data:""+i+"/media"}],r.instagram.video&&(e.media[0].type="video",e.media[0].thumb=e.media[0].data,e.media[0].data=r.instagram.video),n(e)}).error(function(){return n()})},youtube:function(e,t,n){return $.getJSON("/admin/pismo?q="+encodeURIComponent(t[0]),function(i){return e.title=i.title,e.twitterHandle=null,e.leadText=i.description,e.share={text:i.title,url:t[0]},e.credit={text:i.youtube.name,url:i.youtube.url},e.media=[{type:"youtube",data:t[0],thumb:i.image}],n(e)}).error(function(){return n()})},ustream:function(e,t,n){return $.getJSON("/admin/pismo?q="+encodeURIComponent(t[0]),function(i){return e.title=i.ustream.title,e.twitterHandle=null,e.leadText=i.description,e.share={text:i.description,url:t[0]},e.credit={text:i.ustream.channel_name,url:i.youtube.channel_url},e.media=[{type:"ustream",data:t[0].replace(/ustream\.tv/,"ustream.tv/embed")+"?v=3&amp;wmode=direct&autoplay=true",thumb:i.image}],n(e)}).error(function(){return n()})},soundcloud:function(e,t,n){var i;return i=t[0].replace(/^https/,"http"),$.getJSON("/admin/pismo?q="+encodeURIComponent(i),function(i){return e.title=i.soundcloud.title,e.twitterHandle=null,e.leadText=i.soundcloud.description,e.share={text:i.title,url:t[0]},e.credit={text:i.soundcloud.user.username,url:i.soundcloud.user.permalink_url},e.media=[{type:"soundcloud",data:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/"+i.soundcloud.id+"&amp;color=ff5500&amp;auto_play=true;show_artwork=true",thumb:i.soundcloud.artwork_url}],n(e)}).error(function(){return n()})},twitter:function(e,t,n){return $.getJSON("/admin/pismo?q="+encodeURIComponent(t[0]),function(i){return i.twitter.linkColor&&(e.hashtagColor=e.usernameColor=i.twitter.linkColor),e.leadText=i.twitter.tweet,e.leadImageSrc=i.twitter.image,e.twitterHandle=i.twitter.handle,e.tweetId=t[0].match(/.+\/(\d+)$/)[1],e.twitterName=i.twitter.name,e.twitterAvatarSrc=i.twitter.avatar,n(e)}).error(function(){return n()})},media:function(e,t,n){var i;switch(e){case"soundcloud":return $.getJSON("/admin/pismo?q="+encodeURIComponent(t.replace(/^https/,"http")),function(e){var t;return t={type:"soundcloud",data:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/"+e.soundcloud.id+"&amp;color=ff5500&amp;auto_play=true;show_artwork=true",thumb:e.soundcloud.artwork_url},n(t)}).error(function(){return n()});case"instagram":return t=t.replace(/(?:\/media)|\/$/,""),$.getJSON("/admin/pismo?q="+encodeURIComponent(t),function(e){var i;return i=e.instagram.video?{type:"video",data:e.instagram.video,thumb:""+t+"/media"}:{type:"image",data:""+t+"/media"},n(i)}).error(function(){return n()}),t=t.replace(/(?:\/media)|\/$/,""),$.getJSON("/admin/pismo?q="+encodeURIComponent(t),function(e){var i;return i=e.instagram.video?{type:"video",data:e.instagram.video,thumb:""+t+"/media"}:{type:"image",data:""+t+"/media"},n(i)}).error(function(){return n()});case"youtube":return $.getJSON("/admin/pismo?q="+encodeURIComponent(t),function(e){var i;return i={type:"youtube",data:t,thumb:e.image},n(i)}).error(function(){return n()});case"ustream":return $.getJSON("/admin/pismo?q="+encodeURIComponent(t),function(e){var i;return i={type:"ustream",data:t.replace(/ustream\.tv/,"ustream.tv/embed")+"?v=3&amp;wmode=direct&autoplay=true",thumb:e.image},n(i)}).error(function(){return n()});case"vine":return $.getJSON("/admin/pismo?q="+encodeURIComponent(t),function(e){var i;return i={type:"vine",data:""+t+"/card",thumb:e.thumbnailUrl},n(i)}).error(function(){return n()});case"brightcove":return i={type:"brightcove",data:t,thumb:"http://placehold.it/800x450&text=+"},n(i)}}}}.call(this),function(){App.Quadratus.registerUnit("sales_hub",{previewNumber:0,previewPage:"/",template:"templates/quadratus/units/sales_hub",form:"templates/quadratus/forms/sales_hub",defaults:{version:2,name:"Untitled Sales Hub Unit",type:"sales_hub",title:"Sponsored",imageSrc:"http://i.imgur.com/9Dz6wY9.png",description:"This is a description of your sales hub unit",topicSlug:"test",followText:"Follow Us: ",titleUrl:"",descriptionColor:"#555555",followColor:"#666666",innerColor:"#fafafa",outerColor:"#efefef",social:{facebookUrl:"http://facebook.com/mashable",twitterUrl:"http://twitter.com/mashable",youtubeUrl:"",pinterestUrl:"",linkedinUrl:"",googlePlusUrl:"",rssUrl:""},trackers:{impression:[]}},events:{announce:function(){return console.log("I AM A SALES HUB UNIT")},postformrender:function(){},postrender:function(){return $("#main, header.box970").css({background:this.attr.outerColor}),$(".visible-desktop").css({border:"none",padding:"0px"}),$("hgroup.channel").hide(),this.$parent.find(".mash-sales-hub-unit").css({background:this.attr.outerColor}),this.$parent.find(".mash-sales-hub-unit").css({background:"-webkit-radial-gradient(circle,"+this.attr.innerColor+" 30%, "+this.attr.outerColor+" 60%)"}),this.$parent.find(".mash-sales-hub-unit").css({background:"-moz-radial-gradient(circle,"+this.attr.innerColor+" 30%, "+this.attr.outerColor+" 60%)"}),this.$parent.find(".mash-sales-hub-unit").css({background:"-o-radial-gradient(circle,"+this.attr.innerColor+" 30%, "+this.attr.outerColor+" 60%)"}),this.$parent.find(".mash-sales-hub-unit").css({background:"-ms-radial-gradient(circle,"+this.attr.innerColor+" 30%, "+this.attr.outerColor+" 60%)",border:"none"})}}})}.call(this),function(){App.Quadratus.registerUnit("sponsored",{previewNumber:0,previewPage:"/",template:"templates/quadratus/units/sponsored",preview:"templates/quadratus/preview/sponsored",form:"templates/quadratus/forms/sponsored",defaults:{version:1,name:"Untitled Sponsored Unit",type:"sponsored",title:"Sponsored by Ink from Chase",leadText:'The <a href="http://mashable.com/category/scaling-smarter/">Scaling Smarter</a> Series is presented by Ink, the small business card from Chase. Scaling Smarter showcases companies that are adjusting well to changes in the marketplace and scaling to maintain a competitive edge.',logo:{href:"http://mashable.com/category/scaling-smarter/",src:"http://www.userlogos.org/files/logos/bluewolverine07/chase%20logo.png"}}})}.call(this),function(){App.Quadratus.registerUnit("twitter",{previewNumber:0,previewPage:"/",template:"templates/quadratus/units/twitter",preview:"templates/quadratus/preview/twitter",form:"templates/quadratus/forms/twitter",events:{prerender:function(){var e,t,n,i;return(e=this.attr).favoriteTweetUrl||(e.favoriteTweetUrl="https://twitter.com/intent/favorite?tweet_id="+this.attr.tweetId),(t=this.attr).replyTweetUrl||(t.replyTweetUrl="https://twitter.com/intent/tweet?in_reply_to="+this.attr.tweetId),(n=this.attr).retweetTweetUrl||(n.retweetTweetUrl="https://twitter.com/intent/retweet?tweet_id="+this.attr.tweetId),(i=this.attr).twitterAccountUrl||(i.twitterAccountUrl="https://twitter.com/"+this.attr.twitterHandle)},prepreviewrender:function(){var e,t;return t=/\<a([^\>]+)class\s*=(["'])username["']/,e=/\<a([^\>]+)class\s*=(["'])hashtag["']/,this.attr.formattedTweet=this.attr.leadText.replace(t,"<a$1 style=$2color:"+this.attr.usernameColor+";$2 class=$2username$2").replace(e,"<a$1 style=$2color:"+this.attr.hashtagColor+";$2 class=$2hashtag$2")},postrender:function(){var e=this;return Twitter.push(function(t){return t.events.bind("follow",function(t){var n;return e.trackLiftEvent("Follow"),e.attr.twitterHandle===t.data.screen_name&&(n=e.attr.twitterFollowTracker,null!=n)?e.$parent.append("<img style='width:0px;height:0px' src='"+n+"'/>"):void 0})}),this.$parent.append('<script src="//platform.twitter.com/widgets.js"></script>'),this.trackLiftEvent("Impression"),this.$parent.find("a.sponsorship").on("click",function(){return e.trackLiftEvent("Top Sponsored Text")}),this.$parent.find("footer .twitter-intents a").on("click",function(t){var n;return n=$(t.target).attr("class").split("-")[1]||"reply",e.trackLiftEvent(_.str.capitalize(n))}),this.$parent.find(".account-details a").on("click",function(t){var n;return n=$(t.target).attr("class"),e.trackLiftEvent(_.str.capitalize(n))})}}})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m;n=[".quads",".delete"],e=[".quads",".code"],t=[".quads",".quad-image"],m=".view-toggle",h=".quad-preview",c=[".quad-form",".tracker-delete.impression"],r=[".quad-form",".add-impression-tracker"],l=[".quad-form",".tracker-delete.click"],i=[".quad-form",".add-click-tracker"],f=[".quad-form",".autopop .pop"],d=[".quad-form","header, section.media .toggle"],o=[".controls",".delete"],p=[".quad-form","section.media .delete"],a=[".controls",".code"],u=".done",s=[".quad-form",".add-media"],$$("ads/index",function(){var i,r;return r=function(){return $(".quads").html('<a class="quad-preview" href="/ads/new"><div class="quad-box"><div class="new-quad"></div></div><div class="quad-meta"><div class="name">Create New Ad</div></div></a>'),$.getJSON("/ads",function(e){var t,n,i,r,s,a;for(s=e.ads,a=[],i=0,r=s.length;r>i;i++){t=s[i];try{a.push(new App.Quadratus(t).renderPreview($(".quads")))}catch(o){n=o}}return a})},i=function(){var e,t,n;return $(".quads").html(""),t=$('<div id="table-container">'),e=$('<table class="liftbuilder">').append("<thead><tr><th>Ad Name</th><th>Ad Type</th><th>Sponsored By</th><th>Date Modified</th><th class='actions'><div class='preview'></div><div class='edit'></div><div class='copy'></div><div class='code'></div><div class='delete'></div></th></thead>"),n=$("<tbody>"),$.getJSON("/ads",function(e){var t,i,r,s,a,o;for(a=e.ads,o=[],r=0,s=a.length;s>r;r++){t=a[r];try{o.push(n.append(new App.Quadratus(t).asTableRow()))}catch(l){i=l}}return o}),e.append(n),t.append(e),$(".quads").append(t)},click(m,function(){return $(this).toggleClass("table").hasClass("table")?i():r()}),click(t,function(){return window.location="/ads/"+$(this).parents(".quad-preview").data("id")+"/edit"}),click(e,function(){return App.Quadratus.code($(this).parents(".quad-preview,.quad-row").data("id"))}),click(n,function(){return App.Quadratus["delete"]($(this).parents(".quad-preview,.quad-row").data("id"))}),r()}),$$("ads/new",function(){return click(".quad-preview",function(){return new App.Quadratus({type:$(this).data("type"),complexType:$(this).data("complexType")}).create()})}),$$("ads/edit",function(){var e,t,n;return window.quad=new App.Quadratus(quad_attr),$(".quad-form-header .icon").addClass(quad.getComplexType()),$("a.preview").attr("href",quad.previewUrl()),click(o,function(){return quad["delete"]()}),click(a,function(){return quad.code()}),click(u,function(){return window.location="/ads"}),click(d,function(){var e;return e=$(this).parents("section"),e.hasClass("collapsed")?e.children(".inputs").slideDown(100,function(){var t;return e.toggleClass("collapsed"),t=e.parents(".quad-form-container"),t.animate({scrollTop:Math.max(e.position().top,t.scrollTop())},300)}):e.children(".inputs").slideUp(100,function(){return e.toggleClass("collapsed")})}),click(p,function(){var e;switch(quad.type){case"content":return quad.setDefaultImage(function(){return t()&&n()});case"gallery":if(quad.attr.media.length>1)return e=$(this).parents("section.media"),e.fadeOut(300,function(){return e.remove(),quad.attr.media.splice(e.data("index"),1),quad.save(),t()&&n()})}}),click(l,function(){var e;return e=$(this),quad.attr.trackers.click.splice(e.data("index"),1),e.nextAll("input").first().remove(),e.next().remove(),e.remove(),quad.save()&&t()&&n()}),click(c,function(){var e;return e=$(this),quad.attr.trackers.impression.splice(e.data("index"),1),e.nextAll("input").first().remove(),e.next().remove(),e.remove(),quad.save()&&t()&&n()}),click(f,function(){var e,i,r,s,a,o,l;switch($(".quad-content").prepend('<div class="spinner">'),e=$(this).prev("input"),r=e.attr("name")){case"trackingPrefix":return s=e.val(),quad.autopopTrackers(s,function(){return $(".spinner").remove()&&quad.save()&&t()&&n()});case"tweetUrl":return a=e.val(),App.Quadratus.inferenceEngines.twitter(quad.attr,[a],function(i){return i?(e.val(""),quad.save()&&t()&&n()):(e.parent().after('<div class="broken" style="margin-top: 10px">'),e.css("background","rgb(252,206,232)").on("focus",function(){return $(this).css("background","#fff"),$(".broken").remove()})),$(".spinner").remove()});case"sourceUrl":return l=e.val(),App.Quadratus.inferenceEngines[quad.attr.complexType](quad.attr,[l],function(i){return i?(e.val(""),quad.save()&&t()&&n()):(e.parent().after('<div class="broken" style="margin-top: 10px">'),e.css("background","rgb(252,206,232)").on("focus",function(){return $(this).css("background","#fff"),$(".broken").remove()})),$(".spinner").remove()});case"mediaAutopop":switch(i=e.val(),o=null,quad.getComplexType()){case"mashable-content-social":o=quad.attr.media[0].type;break;default:o=quad.getComplexType()}return App.Quadratus.inferenceEngines.media(o,i,function(i){return i?(quad.attr.media[e.parents("section.media").data("index")]=i,e.parent().next("label").html(Handlebars.helpers.quadDataInputLabel(i.type))):(e.parent().after('<div class="broken" style="margin-top: 10px">'),e.css("background","rgb(252,206,232)").on("focus",function(){return $(this).css("background","#fff"),$(".broken").remove()})),$(".spinner").remove()&&quad.save()&&t()&&n()})}}),t=function(){return quad.render($("#ad-container>:first-child"))},n=function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,k,x;for(v=$(".quad-form section.media"),i=o=0,u=v.length;u>o;i=++o)for(s=v[i],t=$(s),t.attr("data-index",i),w=t.find("input"),l=0,h=w.length;h>l;l++)r=w[l],r.name=r.name.replace(/\.\d+\./,"."+i+".");for(y=$(".quad-form .tracker-delete.impression"),i=c=0,d=y.length;d>c;i=++c)a=y[i],n=$(a),n.attr("data-index",i),e=n.nextAll("input").first(),e.attr("name",e.attr("name").replace(/\d+$/,i));for(b=$(".quad-form .tracker-delete.click"),i=p=0,f=b.length;f>p;i=++p)a=b[i],n=$(a),n.attr("data-index",i),e=n.nextAll("input").first(),e.attr("name",e.attr("name").replace(/\d+$/,i));for(k=$(".quad-form input"),x=[],g=0,m=k.length;m>g;g++)r=k[g],r.name&&!_.contains(["trackingPrefix","tweetUrl","mediaAutopop"],r.name)?x.push($(r).val(quad.getAttr(r.name))):x.push(void 0);return x},e=function(e){var n,i,r,s;return n=$(e.target),r=n.attr("name"),_.contains(["trackingPrefix","tweetUrl","mediaAutopop"],r)||quad.setAttr(r,n.val()),(i=n.attr("name").match(/media\.(\d+)\.data/))&&("video"===quad.attr.media[i[1]].type||"image"===quad.attr.media[i[1]].type)&&(s=n.val().match(/\.mp4/)?"video":"image",quad.setAttr("media."+i[1]+".type",s),n.prev("label").html(Handlebars.helpers.quadDataInputLabel(s))),quad.save(),t()},$(".quad-form").on("blur",".inputs input[type!=checkbox]",e),$(".quad-form").on("change","select",function(){var e,i,r,s;return i=$(this),e=i.parents("section.media"),r=e.data("index"),s=i.val(),quad.attr.media[r]={type:i.val()},e.find("label.mediaPop").html(Handlebars.helpers.quadMediaSourceLabel(s)),e.find("label.mediaData").html(Handlebars.helpers.quadDataInputLabel(s)),e.find(".media-icon").attr("class","media-icon "+s),quad.save()&&t()&&n()}),$(".quad-form").on("mousedown",".grabbable",function(e){var i,r,s,a,o,l;if(!$(e.target).parents(".controls").length)return i=$(this).parents("section.media"),s=i.prev("section.media"),r=i.next("section.media"),s.length||r.length?(o=i.outerHeight(),l=i.offset().top+o-e.pageY,i.addClass("grabbed"),i.offset({top:e.pageY+l-o}),a=$('<div class="spacer">'),a.height(o),a.insertBefore(i),$(window).on("mousemove",function(e){var t,n,c;return n=e.pageY+l-o,i.offset({top:n}),s.length&&(c=s.offset().top+s.outerHeight()/2),r.length&&(t=r.offset().top+r.outerHeight()/2),c&&c>n?(a.detach().insertBefore(s),r=s,t=s.offset().top,s=a.prev("section.media"),c=s.length?s.offset().top+s.outerHeight()/2:null):t&&n>t?(a.detach().insertAfter(r),s=r,c=s.offset().top,r=a.next("section.media"),t=r.length?r.offset().top+r.outerHeight()/2:null):void 0}),$(window).one("mouseup",function(){var e,r,s;return $(window).off("mousemove"),i.removeClass("grabbed"),a.replaceWith(i.detach()),s=(r=i.prev("section.media")).length?parseInt(r.data("index"))+1:0,e=parseInt(i.data("index")),quad.attr.media.splice(s,0,quad.attr.media.splice(e,1)[0]),quad.save()&&n()&&t()})):void 0}),click(s,function(){var e,t;return e=quad.attr.media.length,t=quad.attr.media[e-1].type,quad.setAttr("media."+e+".type",t),$("section.media").last().after(Handlebars.compile(Handlebars.partials["templates.quadratus.forms.media"])({index:e,type:t}))}),click(i,function(){var e,t,n,i;return i=$("input.click-tracker").length,n=$("<div class='tracker-delete click' data-index='"+i+"'></div><label>Preview Clickthrough Tracker (1x1)</label><input class='click-tracker' name='trackers.click."+i+"'>"),(t=$(".tracker-delete.click")).length?t.last().nextAll("input").first().after(n):(e=$(".tracker-delete.impression")).length?e.first().before(n):$(".add-click-tracker").before(n)}),click(r,function(){var e,t,n,i,r;return r=$("input.impression-tracker").length,i=$("<div class='tracker-delete impression' data-index='"+r+"'></div><label>3rd Party/Survey Tracker (1x1)</label><input class='impression-tracker' name='trackers.impression."+r+"'>"),(n=$(".tracker-delete.impression")).length?n.last().nextAll("input").first().after(i):(t=$(".tracker-delete.click")).length?t.last().nextAll("input").first().after(i):(e=$(".add-click-tracker")).length?e.before(i):$(".add-impression-tracker").before(i)}),t()&&quad.renderForm($(".quad-form"))})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u=function(e,t){return function(){return e.apply(t,arguments)}},h={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var i in t)h.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=window.jQuery,t=e(window),a=function(e,t){return setTimeout(t,e)},l=function(e,t){return setInterval(t,e)},o=function(e){return clearInterval(e),null},i=function(n){function i(){return this.handleKeys=u(this.handleKeys,this),this.omnomnom=u(this.omnomnom,this),c=i.__super__.constructor.apply(this,arguments)}return d(i,n),i.prototype.events={click:"hide","click .mash-lightbox-close":"hide","click .no-close":"omnomnom"},i.prototype.animations={pop:{open:function(e){var t;return t=this.el,this.origin&&t.css({transformOrigin:this.origin}),t.show().addClass("shown").css({scale:this.sourceScale||.15}).transition({scale:1},function(){return t.css({scale:"",transform:""}),e?e():void 0})},close:function(e){var t;return t=this.el,t.transition({opacity:0,scale:this.sourceScale||.15},function(){return t.css({opacity:1,scale:1}).hide(),e?e():void 0})}},puff:{open:function(e){var t;return t=this.el,this.origin&&t.css({transformOrigin:this.origin}),t.show().addClass("shown").css({scale:1.55}).transition({scale:1},function(){return t.css({scale:"",transform:""}),e?e():void 0})},close:function(e){var t;return t=this.el,t.transition({opacity:0,scale:1.55},function(){return t.css({opacity:1,scale:1}).hide(),e?e():void 0})}},slideY:{open:function(e){return this.el.css({y:"-120%"}).transition({y:0},e)},close:function(e){var t;return t=this.el,t.transition({y:"-120%"},function(){return t.hide(),e?e():void 0})}},slideX:{open:function(e){return this.el.css({x:"-120%"}).transition({x:0},e)},close:function(e){var t;return t=this.el,t.transition({x:"-120%"},function(){return t.hide(),e?e():void 0})}}},i.prototype.initialize=function(){var t=this;return this.setElement(e(Handlebars.templates["templates/lightbox"]())),this.$el.find(".mash-lightbox-close").on("click",function(){return t.hide()}),this.el=this.$el,this.content=this.el.find(".mash-lightbox-content"),this.options.type&&this.setType(this.options.type),this.options.classes&&this.el.addClass(this.options.classes),this.options.contentClasses&&this.content.addClass(this.options.contentClasses),this.el.hide()},i.prototype.show=function(n){var i=this;return null==n&&(n={}),this.open=!0,e("body").append(this.el),this.animation=n.animation||"pop",e(".mash-lightbox").not(this.el).hide(),n.content&&this.showContent(n.content),this.el.show(),"fixed"!==this.positionType?(this.el.css({"padding-top":t.scrollTop()+80}),this.el.css({"min-height":t.height()})):this.el.css({height:"",top:""}),this.el.addClass("shown"),this.origin=n.origin,this.sourceScale=n.sourceScale,this.trigger("opening"),this._open(function(){return i.trigger("opened")}),"fixed"===this.positionType&&e("body").addClass("noscroll"),t.on("keydown.shown",this.handleKeys)},i.prototype.getOrigin=function(n){var i,r,s,a,o;return n=e(n),r=n.offset(),s=n.width(),i=n.height(),a=r.left+s/2,o=r.top+i/2,a-=t.scrollLeft(),o-=t.scrollTop(),""+a+"px "+o+"px"},i.prototype.removeOnHide=function(){return this._removeOnHide=!0},i.prototype.hide=function(){var n,i=this;return this.open=!1,this.el.hasClass("shown")&&(e("body").removeClass("noscroll"),this.el.removeClass("shown"),n=this.el,this.trigger("closing"),this._close(function(){return i.trigger("closed"),i._removeOnHide?i.el.remove():void 0}),t.off("keydown.shown")),!1},i.prototype.showContent=function(e){return this.content.html(e)},i.prototype.centerContent=function(){return this.content.css({marginTop:(this.el.height()-this.content.outerHeight())/2})},i.prototype.setType=function(e){var t;return this.positionType=e,t=this.el.data("last-class"),this.el.data("last-class","mash-lightbox-"+e),t&&this.el.removeClass(t),this.el.addClass("mash-lightbox-"+e),"fixed"===e?(this.$el.on("mousewheel",this.omnomnom),this.$el.on("touchmove",this.omnomnom)):void 0},i.prototype.omnomnom=function(e){return this.open?(e.stopPropagation(),e.preventDefault(),!1):!0},i.prototype._open=function(e){return i.prototype.animations[this.animation]?i.prototype.animations[this.animation].open.call(this,e):(this.el.show(),e?e():void 0)},i.prototype._close=function(e){return i.prototype.animations[this.animation]?i.prototype.animations[this.animation].close.call(this,e):(this.el.hide(),e?e():void 0)},i.prototype.handleKeys=function(e){return this.open&&27===e.keyCode?(this.hide(),!1):void 0},i}(Backbone.View),r=function(t){function n(){return p=n.__super__.constructor.apply(this,arguments)}return d(n,t),n.prototype.initialize=function(){var e=this;return this.lightbox=new i,this.options.type&&this.lightbox.setType(this.options.type),this.lightbox.bind("opening",function(){return e.trigger("opening")}),this.lightbox.bind("closing",function(){return e.trigger("closing")}),this.lightbox.bind("opened",function(){return e.trigger("opened"),e.is_open=!0}),this.lightbox.bind("closed",function(){return e.element.before(e.origElement),e.element.remove(),e.trigger("closed"),e.is_open=!1}),this.popIn(),this.popped=!1},n.prototype.popOut=function(t){var n,i,r=this;if(!this.popped)return this.popped=!0,this.origElement=t,this.element=t.clone(),n=this.lightbox.getOrigin(this.origElement),i=t.width()/e(window).width(),requestAnimFrame(function(){return t.before(r.element),r.lightbox.show({content:r.origElement,origin:n,sourceScale:i})})},n.prototype.popIn=function(){return this.popped?(this.popped=!1,this.lightbox.hide()):void 0},n}(Backbone.View),n={open:function(t,n){var r;return this.lightbox||(this.lightbox=new i({type:"fixed",classes:"white-dialog",contentClasses:"no-close"})),r=this.lightbox,r.show({animation:"slideY"}),e.ajax({url:t,data:n,dataType:"html",success:function(e){return r.showContent(e),r.centerContent()},error:function(){return r.hide()}}),this}},s={show:function(){return this.lightbox||(this.lightbox=new i({type:"fixed",classes:"white-loading",contentClasses:"no-close"})),this.lightbox.show({animation:"puff"}),this.lightbox.showContent("<div class='loader-inline visible'></div>"),this.lightbox.centerContent()}},this.provides({Lightbox:i,Popout:r,AjaxDialog:n,WaitDialog:s})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=$(window),n=function(e){function t(){return a=t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.urlRoot="/stories.json",t}(Backbone.Model),s=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.template="templates/posts/post",t.prototype.getCanvas=function(){var e,t;return this.canvas||(this.canvas=this.$el.find("canvas.velocity"),this.canvas?(t=this.canvas.width(),e=this.canvas.height()):(this.canvas=$("<div class='velocity'></div>"),this.$el.append(this.canvas))),this.canvas},t.prototype.hideVelocity=function(){return this.$el.find(".velocity-graph").hide()},t.prototype.renderVelocity=function(e){var t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,k,x,C,T,A,P,S;if(t=this.getCanvas(),e){if(e=_.select(e,function(e){return"number"==typeof e&&!isNaN(e)}),e.unshift(0),e.length<=3)return this.hideVelocity(),void 0;if(t.length){for(i=t.get(0),w=t.data("width")||t.width(),o=t.data("height")||t.height(),i.width=w,i.height=o,p=null,d=1,c=A=0,S=e.length;S>A;c=++A)v=e[c],p&&(e[c]=p+(v-p)*d,d*=1.12),p=v;if(i.getContext){for(n=i.getContext("2d"),n.lineCap="round",n.lineWidth=2.5,g=1,r=4,100>w&&(n.lineWidth=2,g=1,r=2),u=1.1*_.max(e),h=_.min(e)/1.1,h>0&&(h=0),a=n.createLinearGradient(0,0,w,o),a.addColorStop("0","#58b3cb"),a.addColorStop("0.6","#fcbb3b"),a.addColorStop("1.0","#f80"),n.strokeStyle=a,w-=10,o-=10,n.beginPath(),s=e.length-3,0>s&&(s=0),l=P=0;g>0?s>=P:P>=s;l=P+=g)f=e[l],m=e[l+1],b=w/e.length*l+5,k=w/e.length*(l+1)+5,C=o-(f-h)/(u-h)*o+5,T=o-(m-h)/(u-h)*o+5,y=(b+k)/2,x=(C+T)/2,0===l&&n.moveTo(b,C),n.quadraticCurveTo(b,C,y,x);return b=w/e.length*(e.length-2)+5,k=w+5,C=o-(e[e.length-2]-h)/(u-h)*o,T=o-(e[e.length-1]-h)/(u-h)*o,n.quadraticCurveTo(b,C,k,T),n.stroke(),n.closePath(),n.beginPath(),x=o-(e[0]-h)/(u-h)*o+5,n.arc(5,x,r,0,2*Math.PI,!0),n.fillStyle="#58b3cb",n.fill(),n.closePath(),n.beginPath(),n.arc(k,T,r,0,2*Math.PI,!0),n.fillStyle="#f80",n.fill(),n.closePath()}}}},t}(App.TemplateView),i=function(e){function t(){return l=t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.model=n,t.prototype.url="/stories.json",t.prototype.initialize=function(e,t){return null==t&&(t={}),this.opts=t},t}(Backbone.Collection),t=function(t){function n(){return c=n.__super__.constructor.apply(this,arguments)}return h(n,t),n.prototype.initialize=function(e){var t,n,r,a,o,l;for(this.collections={},this.loader=new i,this.options=e,this.exhausted={},l=this,this.loaded=!1,this.loader.parse=function(t){var n,i,r,s;for(s=e.collections,i=0,r=s.length;r>i;i++)n=s[i],l.collections[n.key].cache.add(t[n.key]);return l.fillAll()},a=e.collections,o=[],n=0,r=a.length;r>n;n++)t=a[n],o.push(function(){var e,n,r;return t.active!==!1&&(t.active=!0),t.pageSize||(t.pageSize=10),t.lastPage||(t.lastPage=null),t.maxStories||(t.maxStories=200),n=$(t.container),n.empty(),this.collections[t.key]={el:n,key:t.key,view:new App.FragmentView({el:n}),cache:new i(t.data||[]),active:t.active,options:t,display:new i,indicator:new App.LoadingIndicator,heightCheck:t.heightCheck,heightPerElement:t.estHeight,elements:0,lastHeight:0},e=this.collections[t.key],e.addElementToAverage=function(t){return e.lastHeight+=t,e.elements+=1},e.heightCheck||(e.heightCheck=function(e){var t;return t=e.el[0].getBoundingClientRect().bottom,t<document.documentElement.clientHeight+l.options.loadDistance}),r=t.key,e.display.on("add",function(t){var i,a,o;return a=e.heightPerElement,i=n.height(),e.lastColumnHeight!==i&&i>0?(e.lastHeight=i+a,e.lastColumnHeight=n.height()):e.lastHeight+=a,e.elements+=1,e.heightPerElement=e.lastHeight/e.elements,o=new s({model:t}).render(),t.attributes.velocity&&t.attributes.velocity.length>=3&&o.renderVelocity(t.attributes.velocity),e.view.append(o.$el),l.trigger("show",r,e,e.lastHeight)})}.bind(this)());return o},n.prototype.activate=function(e){return e.active=!0,this.fillCollection(e)},n.prototype.deactivate=function(e){return e.active=!1},n.prototype.start=function(){var t,n,i=this;if(!this.started)return(n=this.options).loadDistance||(n.loadDistance=.35*e.height()),this.started=!0,this.checkFill(),this.loaded=!0,t=-1,this.scrollable=scrollContainer(),this.scrollable.on("scroll.infiniteScroll",function(){var e;return e=window.pageYOffset||window.document.documentElement.scrollTop,e>t&&!i.filling&&isAttachedToDom(i.el)&&$.throttle("checkIfShouldfill",50,function(){return i.checkFill()}),t=e})},n.prototype.exhaust=function(e){return this.anyExhausted=!0,this.exhausted[e]=!0,this.exhaustAll(),this.trigger("exhausted",e)},n.prototype.exhaustAll=function(){return this.allExhausted=!0,this.scrollable.off("scroll.infiniteScroll"),this.trigger("exhaustedAll")},n.prototype.checkFill=function(){var e,t,n,i,r,s;n=!1,r=!1,s=this.collections;for(i in s)t=s[i],t.active&&(this.exhausted[i]||(e=this.fillCollection(t),e>0&&(n=!0),0===t.cache.length&&0===e&&(r=!0)));return n&&this.trigger("rendered"),n||r?this.refillBuffers():void 0},n.prototype.fillCollection=function(e){var t,n;return t=e.heightCheck(e),t?(n=this.fill(e),n===e.options.pageSize&&this.fillCollection(e),n):-1},n.prototype.fill=function(e){var t,n,i,r,s,a;for(n=0,t=!1,i=s=1,a=e.options.pageSize;a>=1?a>=s:s>=a;i=a>=1?++s:--s)if(!this.exhausted[e.key]){if(!(r=e.cache.shift()))break;n+=1,(!e.options.filter||e.options.filter(r))&&(t=!0,e.display.add(r))}return e.view.commit(),n},n.prototype.fillAll=function(){var e,t,n,i,r;i=this.collections,r=[];for(n in i)t=i[n],t.active&&(this.exhausted[n]||(e=this.fillCollection(t),e<t.options.pageSize&&e>=0&&0===t.cache.length&&this.exhaust(n),t.display.length>=t.options.maxStories?r.push(this.exhaust(n)):r.push(void 0)));
return r},n.prototype.refillBuffers=function(){var e,t,n,i,r,s,a,o=this;s={hot_per_page:0,new_per_page:0,rising_per_page:0},r=!1,a=this.collections;for(n in a)t=a[n],s=$.extend(s,t.options.query),this.exhausted[n]?s[n+"_per_page"]=0:t.cache.length<t.options.pageSize?(t.indicator.show(),r=!0,s[n+"_per_page"]=2*t.options.pageSize,e=t.cache.length>0?"cache":"display",i=t[e].at(t[e].length-1),i&&(s[n+"_after"]=i.attributes.sort_key,this.collections[n].lastPage=i.attributes.sort_key)):s[n+"_per_page"]=t.options.pageSize;return r&&!this.lastRequest?(o=this,this.lastRequest=this.loader.fetch({add:!0,data:s,error:function(){return o.doneLoading()},success:function(){return o.doneLoading()}})):void 0},n.prototype.doneLoading=function(){var e,t,n,i;this.lastRequest=null,n=this.collections,i=[];for(t in n)e=n[t],i.push(e.indicator.hide());return i},n}(Backbone.View),r=function(e){function t(){return p=t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.collectionClass=i,t.prototype.viewClass=s,t}(App.CollectionView),this.provides({PostView:s,PostCollection:i,PostCollectionView:r,Post:n,CachingMultiPostCollectionView:t})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};$$("posts/show",function(e){var n,i,r,s,a,o,l,c;for(i=function(e){function n(){return l=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.template=Handlebars.templates["templates/posts/brightcove"]},n.prototype.render=function(){var e;return e=this.template(this.model),this.$el.html(e)},n}(Backbone.View),c=e(".content-brightcove"),a=0,o=c.length;o>a;a++)r=c[a],new i({model:e(r).data(),el:r}).render();return n=e("article.post.full .article-content, article.post.full figure.article-image"),s=function(){var t,i,r,s,a,o,l,c,p;for(i=e("iframe.BrightcoveExperience, object.BrightcoveExperience"),p=[],l=0,c=i.length;c>l;l++)r=i[l],t=e(r),o=n.width(),s=.5625*o,t.parents().eq(1).hasClass("article-content")&&t.parent().is(":first-child")?p.push(void 0):(t.addClass("bc-popout"),t.attr({width:o,height:s}),a=function(){return brightcove.api.getExperience(t.attr("id")).getModule(brightcove.api.modules.APIModules.EXPERIENCE).setSize(o,s)},null!=brightcove.api?p.push(a()):p.push(e(window).on("brightcove_ready",a)));return p},e(window).off("resize-width.updateBrightcove").on("resize-width.updateBrightcove",function(){return e.throttle("resize.updateBrightcove",700,s)}),e("object.BrightcoveExperience").length>0?(window.onBrightcoveTemplateReady=function(){return e(window).trigger("brightcove_ready"),e(window).off("brightcove_ready")},e.getScript("http://admin.brightcove.com/js/BrightcoveExperiences.js",function(){return brightcove.createExperiences(),s()})):void 0})}.call(this),function(){var e,t,n,i,r,s,a,o,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=function(e){function t(){return r=t.__super__.constructor.apply(this,arguments)}return c(t,e),t}(Backbone.Model),i=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return c(t,e),t}(App.TemplateView),t=function(t){function n(){return a=n.__super__.constructor.apply(this,arguments)}return c(n,t),n.prototype.model=e,n}(Backbone.Collection),n=function(e){function n(){return o=n.__super__.constructor.apply(this,arguments)}return c(n,e),n.prototype.collectionClass=t,n.prototype.viewClass=i,n}(App.CollectionView),this.provides({User:e,UserView:i,UserCollectionView:n})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=$(window),t=function(e){function t(){return a=t.__super__.constructor.apply(this,arguments)}return h(t,e),t}(Backbone.Model),s=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.template="templates/topics/search_topic",t}(App.TemplateView),n=function(e){function n(){return l=n.__super__.constructor.apply(this,arguments)}return h(n,e),n.prototype.model=t,n}(Backbone.Collection),i=function(e){function t(){return c=t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.collectionClass=n,t.prototype.viewClass=s,t}(App.CollectionView),r=function(e){function t(){return p=t.__super__.constructor.apply(this,arguments)}return h(t,e),t.prototype.template="templates/posts/topic_post",t}(App.PostView),this.provides({Topic:t,TopicView:s,TopicCollectionView:i,TopicPostView:r})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c={}.hasOwnProperty,p=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=$(window),t=function(e){function t(){return s=t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template="templates/posts/topic_post",t}(App.PostView),r=function(e){function t(){return a=t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template="templates/users/search_user",t}(App.UserView),i=function(e){function t(){return o=t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.template="templates/topics/search_topic",t}(App.TopicView),n=function(e){function t(){return l=t.__super__.constructor.apply(this,arguments)}return p(t,e),t.prototype.url="/search.json",t}(Backbone.Collection),this.provides({PostSearchView:t,UserSearchView:r,TopicSearchView:i,SearchCollection:n})}.call(this),function(){var e;e=function(){function e(e){var t,n,i,r,s,a;r=Handlebars.templates["templates/header/flash"],this.$el||(this.$el=$("<div id='flash-message'></div>"),this.$el.appendTo("#sticky"),a=this.$el,this.$el.on("click",".close",function(){return a.transition({y:"-100%"},150,function(){return a.hide()}),!1})),t=0,i=function(){var i;t+=1,i=[];for(n in e)s=e[n],i.push({k:n,v:s});return i}(),t>0&&this.$el.html(r(i)).css({position:"absolute",top:0,left:0,right:0,y:"-100%"}).show().transition({y:0,delay:700,duration:250}).find(".flash-message").delay(1500).queue(function(e){return $(this).addClass("highlight"),e()}).delay(450).queue(function(e){return $(this).removeClass("highlight"),e()})}return e}(),this.provides({Flash:e})}.call(this),function(){$(function(){return $(window).on("page:change",function(){var e,t,n,i,r,s,a,o,l,c,p,u,h;if("undefined"!=typeof metaData&&null!==metaData){for($("head link[data-page-subject], head meta[data-page-subject]").remove(),c=metaData.link,i=0,a=c.length;a>i;i++)e=c[i],$("head").append("<link rel='"+e[0]+"' href='"+e[1]+"' data-page-subject='true'/>");for(p=metaData.meta_property,r=0,o=p.length;o>r;r++)n=p[r],$("head").append("<meta property='"+n[0]+"' content='"+n[1]+"' data-page-subject='true'/>");for(u=metaData.meta_name,h=[],s=0,l=u.length;l>s;s++)t=u[s],h.push($("head").append("<meta name='"+t[0]+"' content='"+t[1]+"' data-page-subject='true'/>"));return h}})})}.call(this),function(){var e,t,n,i,r,s,a,o;App.Parsec||(App.Parsec={}),s=function(){},n=function(e,n){return t(e,1-n)},t=function(e,t){return 0>t?t=0:t>1&&(t=1),e.css({opacity:t})},e=function(){function e(e){this.from=e.from,this.to=e.to,this.transition=e.transition,this.item=e.item}return e.prototype.perform=function(){return this.transition(this.item.element,(this.start()-this.item.element.offset().top)/(this.start()-this.end()))},e.prototype.start=function(){return this._start||(this._start=function(){switch(this.from){case"standard":return this.item.element.position().top+App.Parsec.header_height;case"near_bottom":return 3*$(window).height()/4;case"bottom":return $(window).height();case"align_end":return-1*(this.item.height()-($(window).height()+App.Parsec.header_height))}}.call(this))},e.prototype.end=function(){return this._end||(this._end=function(){switch(this.to){case"align_top":return App.Parsec.header_height;case"middle":return($(window).height()-App.Parsec.header_height)/2;case"align_end":return-1*(this.item.height()-($(window).height()-App.Parsec.header_height));case"bottom_at_top":return-1*(this.item.height()-App.Parsec.header_height)}}.call(this))},e.prototype.resize=function(){return delete this._start,delete this._end},e}(),i=function(t,n,i,r){var s;return(s=App.Parsec.Transitions).handlers||(s.handlers=[]),App.Parsec.Transitions.handlers.push(new e({item:t,transition:n,from:i,to:r}))},r=function(e,t,n){var i,r;return(r=App.Parsec.Transitions)._events||(r._events=[]),i=function(){switch(n){case"align_top":return App.Parsec.header_height;case"middle":return($(window).height()-App.Parsec.header_height)/2;case"bottom":return $(window).height()}}(),App.Parsec.Transitions._events.push({element:e,event:t,at_offset:i})},o=function(){var e,t,n,i,r,s;if(null!=App.Parsec.Transitions._events){for(r=App.Parsec.Transitions._events,s=[],n=0,i=r.length;i>n;n++)e=r[n],t=App.Parsec.touch?e.element.offset().top-$("body").scrollTop():e.element.offset().top,t<=e.at_offset?(e.event(),s.push(App.Parsec.Transitions._events.splice(App.Parsec.Transitions._events.indexOf(e),1))):s.push(void 0);return s}},a=function(){var e,t,n,i;for(i=App.Parsec.Transitions.handlers,t=0,n=i.length;n>t;t++)e=i[t],e.perform();return o()},App.Parsec.Transitions={},App.Parsec.Transitions.fadeOut=n,App.Parsec.Transitions.fadeIn=t,App.Parsec.Transitions.register=i,App.Parsec.Transitions.trigger=a,App.Parsec.Transitions.registerEvent=r,App.Parsec.Transitions.handlers=[],App.Parsec.Transitions.triggerEvents=o}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};App.Parsec||(App.Parsec={}),App.Parsec.LongformNavClosure=function(){var n,i,r;return i=function(e){function n(){return r=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.replaceElement=!1,n.prototype.template="templates/parsec/longform_nav",n}(App.TemplateView),n=function(){function t(){}return t.setChapter=function(e){return $("#longform-nav .chapter").removeClass("selected"),$("#longform-nav .chapter:eq("+(e-1)+")").addClass("selected")},t.triggerChapter=function(e){return this.chapCallbacks[e-1]()},t.triggerExtChapter=function(e){return window.location.href=e,!1},t.render=function(n,r,s,a,o,l){var c,p,u,h,d=this;return this.title=n,this.shareCount=r,this.chapters=s,this.chapterType=a,this.series=null!=o?o:{},this.options=null!=l?l:{},this.enableChapterDropdown=!0,c=function(){var t,n;t=this.chapters,n=[];for(p in t)e.call(t,p)&&n.push(p);return n}.call(this),this.chapCallbacks=function(){var t,n;t=this.chapters,n=[];for(p in t)e.call(t,p)&&(h=t[p],n.push(h));return n}.call(this),this.$el=$('<header id="longform-nav"></header>'),this.$el.appendTo("#sticky"),null!=this.options["class"]&&this.$el.addClass(this.options["class"]),this.tocTitle=App.Parsec.properties.series_title||this.series.title||this.options.tocTitle||this.title,this.tocExtChaptersPresent=!_.isEqual(this.series,{}),this.tocDropdownTriggerPoint=this.options.tocDropdownTriggerPoint||1300,u=new Backbone.Model({title:this.title,shareCount:this.shareCount,chapters:c,chapterType:this.chapterType,tocTitle:this.tocTitle,tocExtChaptersPresent:this.tocExtChaptersPresent,series:this.series,tocExtChapters:this.options.tocExtChapters}),new i({model:u,el:$("#longform-nav")}).render(),"always"!==this.tocDropdownTriggerPoint&&_.isEqual(this.series,{})&&$("#longform-nav .chapters").addClass("collapsible"),setTimeout(function(){var e;return $("#site-header").hide(),$("#scrollable").css("padding-top","0px"),activateShareButtons($("#longform-nav")),e=$("#longform-nav .chapter[data-id="+d.options.post_id+"]"),$(e).addClass("selected"),$("#longform-nav .chapters").on("click",".chapter",function(e){var n;return d.enableChapterDropdown?(e.preventDefault(),n=$(e.target),n.hasClass("name")&&(n=n.parent()),d.tocExtChaptersPresent?"1"===window.params().preview?d.triggerExtChapter("?edison="+n.data("preview")+"&preview=1"):d.triggerExtChapter(n.data("url")):(t.triggerChapter(n.index()),t.setChapter(n.index()),$("#longform-nav").removeClass("dropdown"))):void 0}),$("#longform-nav .share-toggle").on("click",function(){return $("#longform-nav").toggleClass("expanded")}),$("#longform-nav .chapters").on("click",function(e){if(d.enableChapterDropdown){if("always"===d.tocDropdownTriggerPoint||!_.isEqual(d.series,{}))return d.tocDropdownEventHelper(e);if($(window).width()<d.tocDropdownTriggerPoint)return d.tocDropdownEventHelper(e)}})})},t.tocDropdownEventHelper=function(e){var t,n,i;return t=$("#longform-nav"),n=$("#longform-nav .toc"),$(e.target).parents(".toc").length||$(e.target).hasClass("toc")?void 0:t.hasClass("dropdown")?(n.off("touchstart"),n.off("touchmove"),t.removeClass("dropdown")):($("#longform-nav").addClass("dropdown"),i=window.innerHeight||$(window).height(),n.css("min-height",i-45),n.css({top:55}),n.on("touchstart",function(e){return this.touchStartY=e.clientY||e.originalEvent.touches[0].clientY,this.touchStartTop=$("#longform-nav .toc").position().top}),n.on("touchmove",function(e){var t,r;return e.preventDefault(),r=e.clientY||e.originalEvent.touches[0].clientY,t=r-this.touchStartY,n.css({top:Math.max(Math.min(t+this.touchStartTop,55),i-n.height())})}))},t.activateChapterDropdown=function(e){return null==e&&(e=!0),this.enableChapterDropdown=e,this.enableChapterDropdown?($("#longform-nav .chapters").removeClass("disabled"),$("#longform-nav .title").removeClass("disabled")):($("#longform-nav .chapters").addClass("disabled"),$("#longform-nav .title").addClass("disabled"))},t.activateSponsorLink=function(e,t){var n;return n=$("#longform-nav .sponsorship-logo"),n.append("<img src='"+t+"'/>"),n.css("cursor","pointer"),n.off("click").on("click",function(){return window.open(e)})},t}(),provides({LongformNav:n})},$$("posts/show",App.Parsec.LongformNavClosure)}.call(this),function(){var e;App.Parsec||(App.Parsec={}),e=function(){function e(){}return e.generate=function(e){switch(e){case"David Zarrin":return this.david();case"Noor Siddiqui":return this.noor();case"Delian Asparouhov":return this.delian();case"Alison Bick":return this.alison();case"Marian Bechtel":return this.marian();case"Ann Makosinski":return this.ann();case"Steven Gonzalez":return this.steven();case"Eesha Khare":return this.eesha();case"Ionut Budisteanu":return this.ionut();default:return this.raul()}},e.david=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="David Zarrin",i="Reinventing Motion, Motors and Turbines",s="david-z",r="david-z",l="https://www.youtube.com/watch?v=h4lJDif5uDc",t="intel-10",e=2538695,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzA2L2RhdmlkX3pfNjQwLjgzZGRlLmpwZw/26f48cf9/2f1/david_z_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzAwL2RhdmlkX3pfNzY4LmY3N2NjLmpwZw/c1a279b9/866/david_z_768.jpg"],l,s)),o=["<strong>Fear of flying—or rather, the fear of starting to fly and encountering an issue</strong> that unceremoniously ceases said flight—is the most ubiquitous and understandable phobia known to man. We’ve all heard how air travel is the safest form of transportation, yet the images and lore surrounding plane crashes have settled into our consciousness and rattled our nerves. When David Zarrin, a teen engineering prodigy from Saratoga, California, dedicated his engineering prowess to the development of a safer generation of jet engines, giants of the science world took note. Could the garage-based tinkering of a teenager truly take the edge off one of our most universal fears? With the right encouragement and Intel-powered technology at his fingertips, there’s no one better suited for the job than Zarrin.","“This engine would be able to survive a blow strike,” says Zarrin, now a freshman mechanical engineering student at UC Berkeley. Zarrin’s safer turbojet engine can switch from a Continuous Combustion Engine (CCE) to Pulse Detonation Engine (PDE) mode in flight, allowing it to operate with failed turbines and tolerate flameout failures. “A lot of plane accidents are caused by ingestion of birds, ice, precipitation, and volcanic ash, and results in engine flameout or turbine failure. I was inspired to work on this following the plane crash in the Hudson River [U.S. Airways Flight 1549] that took place back in 2009. If that plane had been outfitted with this kind of engine, it wouldn’t have crashed.”"],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2YyL2RhdmlkX3pfMC45NTJlOS5qcGc/9c361627/686/david_z_0.jpg")),o=["Taking on an issue such as jet engine failure sounds ambitious, yet David’s been devouring such quandaries for his whole life. “I think my first discovery was in sixth grade, when I realized that catapults are more efficient with wheels than without—which sound counterintuitive,” he says. “In seventh grade, I started doing projects on laser beams, because I was really into the whole spy gear thing, and I started working on way that audio can be transferred through the laser beam.”","In eighth grade, he won first place and the distinction of “project of the year” at his state science fair. “I came up with a boat destabilizer, after my dad told me a story about throwing up on his honeymoon cruise.” That big win lit a fire within David; his ambitions and self-confidence grew. “I designed this new type of bicycle with a continuously variable transmission. It won first place in the International category at the Intel International Science and Engineering Fair (ISEF) that year. In tenth grade, he devised an indoor navigation system that can detect others’ location using sound waves. In eleventh grade, it was an internal combustion rotary engine that takes its cues from the way the human leg runs. (He is an accomplished cross-country runner.)","Needless to say, Zarrin takes his electronics seriously, and he leans on Intel processing power to see his projects through. “My garage is my lab, and I use SolidWorks [3D CAD software] to create objects and dimension them precisely,” he says. “I also use a lot of Photoshop, and Soundbooth for audio testing. It’s really convenient to have portable device like an Intel-powered tablet that can support Solidworks. Most small laptops won’t do a great job with the kind of programs I run, but the Intel Core processor does a good job at supporting my work.”"],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["Strong support comes not only from Zarrin’s processor. His family is his best support of all. “My two older sisters are very smart—one’s at Princeton, and the other is graduating UPENN,” he says. “My parents are glad that I have a hand- on hobby, and enjoy building things.”","Meanwhile, he’s thrilled to be among other enthusiastic engineers at Berkeley. “I’m glad to have found a community at the same level as I am with building projects. I’m on the electric car team with grad students, which I would love to make a more major role with in the next year or two.”","His big goal: a Nobel-winning invention in bio-mechanical engineering. “If I’m sitting in class and not interested in the subject, I’ll think about this stuff,” he admits. “I’ll be using CAD to design a new internal combustion engine.”","Did we or did we not say that—with the proper motivation and technology—this is the right kid to take on the future on our behalf?"],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzUwL2RhdmlkX3pfMS5mNWQ1Yi5qcGc/f80ba70e/088/david_z_1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.noor=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Noor Siddiqui",i="A Remedy for Better Medical Decision Making",s="noor-s",r="noor-s",l="https://www.youtube.com/watch?v=JLrzbB7zUmQ",t="intel-9",e=2538619,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzQyL25vb3Jfc182NDAuNDIxOTMuanBn/8d2668b6/c34/noor_s_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2Q2L25vb3Jfc183NjguMTQ0MmYuanBn/b53a3285/5ee/noor_s_768.jpg"],l,s)),o=["<strong>Blaring ambulance sirens may be jarring; they’d hardly be effective if they weren’t.</strong> While such a wail can make the hair on the back of your neck stand up, a siren is actually the sound of hope. It means that EMTs are responding to a call, ready to spring into action; or that someone is being treated in the midst of a personal crisis. Every second that accompanies those sirens can mean life or death; every move a paramedic makes in the back of that speeding vehicle makes a difference for patients, their families, their communities. It’s a dramatic scene that springs to life every day, in every corner of our world. Noor Siddiqui wants to make that ride to the hospital—or a nurse visit to a rural patient, or those initial moves by first responders to a natural disaster—as safe and effective as technologically possible."],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzY5L25vb3Jfc18wLjc1OWI1LmpwZw/bac814ce/7d0/noor_s_0.jpg")),o=["Siddiqui, 19, of Clifton, Virginia, conceived and is the co-founder of a company called Remedy, which is revolutionizing the area of human-computer interface. “It’s a tool to use with Glass or another wearable device, which allows one clinician to see through the eyes of another clinician,” Siddiqui says. “With it, patients can be diagnosed and treated faster. In the back of an ambulance, a paramedic’s hands are free to, say, put in a splint. A doctor back at the hospital can see what’s headed his or her way and provide live support. The doctor can send visuals throughout the head-mounted display, via a liquid crystal and silicon display to communicate text, video, images, or GPS. All this can happen instantly, as the ambulance is in motion.” The medical expert watching from afar can recommend the right dosages of medicine or remotely facilitate the insertion of a breathing tube. “When you’re having a stroke or heart attack, minutes are muscle tissue,” says Siddiqui. “Doctors should have better tools like these, and be able to consult with their colleagues quickly and easily.” Remedy launched pilots of the technology at Harvard and the University of Pennsylvania at the start of April 2014.","“The technology we’re using, with this streaming video, is very hardware intensive,” she insists. “It requires a lot of processing power. It was not possible to do before because of processing limitations, and Intel has been a part of making this kind of communication a reality. It’s critical that the video is transmitted in high fidelity video, because they’re being used to make medical decision. This wouldn’t be possible if we didn’t have these Intel-powered tablets that can handle the kind of high-volume data we are sending.”"],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["Siddiqui is a Thiel Fellow based in San Francisco, who deferred her college education to see her ideas through in the here and now. (PayPal mogul Peter Thiel invites 20 young standouts each year to forgo college—and pays them $100,000—to bring their extraordinary ideas to life without haste.) To be at the helm of the Remedy project at 19, to have conceived other altruistic social initiatives like her program that sought to engage the billion poorest world citizens and empower them to triple their incomes in three weeks, to be a part of the Thiel Fellowship, to have been asked to lead a TEDx Teen talk—these distinctions indicate a staggering intellect. But Noor isn’t in Silicon Valley to have her ego fed. “Whatever I can do to help the most people is what I want to do,” she says. “I believe you have to determine what your talents are, figure out how you can use those skills, and take advantage of the opportunities at your disposal to help the most people. I was raised with the motto: To whom much has been given, much is expected.”","Everyone possesses gifts that the world will value. But it’s a rare thrill when someone as gifted as Noor Siddiqui thinks big on behalf of others, calls upon the best resources and technology to see her ideas through, and then wonders what she can do next. The next time you hear a siren careening through town, think of Noor—and the kind of hope she’s providing to the rest of us.","*Other names and brands may be claimed as property of others."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4Lzg2L25vb3Jfc18xLjJkM2E5LmpwZw/80160aed/ead/noor_s_1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.delian=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Delian Asparouhov",i="A Cure For Better Care",s="delian-a",r="delian-a",l="https://www.youtube.com/watch?v=zghtdzFSZeM",t="intel-8",e=2538807,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzA1L2RlbGlhbl9hXzY0LjdlNzgyLmpwZw/33ea01d6/42b/delian_a_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzQxL2RlbGlhbl9hXzc2LjI0ZWNiLmpwZw/60b4e40f/2f9/delian_a_768.jpg"],l,s)),o=["<strong>When you love what you do for work, it doesn’t feel much like work.</strong> When you focus your attention on something that elicits the best of your abilities and puts you at the center of an inspiring, innovative community… that sounds more like fun. When that something has the potential to help countless individuals in a meaningful way—and the idea was born out of your very own head—that’s called “living the dream.” Perhaps that’s why bright-eyed, Salt Lake City-raised, Bulgarian MIT dropout and Thiel Fellow Delian Asparouhov smiles so often.","Asparouhov has every reason to be pleased. The startlingly bright 20-year-old leads up Nightingale, an app that helps behavioral therapists effectively track data of children with autism. “A therapist can easily monitor how long a child has a tantrum, how often he gets up from his seat, how well he listens to direction,” he says. “The software is currently in its beta stages, but we have people using it on a daily basis. Higher ups in the autism world have been really rallying behind it. I’m pretty excited.” By employing a powerful, Intel-based tablet, they can keep better track of multiple children’s behavior, and experience greater ease while inputting complicated data."],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2Q5L2RlbGlhbl9hXzAuZGNjMDMuanBn/111e3cf3/fa5/delian_a_0.jpg")),o=["Nightingale, which runs on Android technology that’s powered by Intel processors—is currently working with a school to develop ways in which parents can easily continue the behavioral monitoring at home, on their own tablets. Asparouhov expects that the model will apply well to other mental and developmental disorders. “We can help track trends from a variety of schools and provide information that an specialist can easily decipher,” he says. “They can walk in to a situation and confidently say, ‘This is your next step.’”","Asparouhov first became inspired to tackle issues within the healthcare system in his junior year of high school. “My very brilliant grandmother had been diagnosed with breast cancer,” Asparouhov says. “I was pretty shocked by the way data was managed between clinicians and the patients. I was used to the way things were in the engineering and computing world—with constant information going back and forth. But in the case of my grandmother’s treatments, my family was left waiting for weeks, wondering how things were going. I knew there had to be a more efficient way to share data.”"],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["Asparouhov came to San Francisco last year, at the behest of billionaire PayPal mogul Peter Thiel, who chose Delian as a Thiel Fellow, funded him $100,000, and asked him to develop his idea in the thick of Silicon Valley. Although it was a controversial move within his family, Delian jumped at the chance to see his idea through. These days, he certainly seems to be in his element. “I love San Francisco and the tech community here,” he says. “I never could have imagined having this caliber of mentors and colleagues, who I now really consider friends. We get excited for one another.”","An avid rock-climber and hang-glider—not to mention a prolific user of social media—Delian’s got a pretty rocking life for a 20-year-old. (It’s a rocking life for a person of any age, actually.) He’s using his love of technology, care for others, and willingness to think his way through challenges to stake his claim of the world. We can’t wait to see what he does next."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzI4L2RlbGlhbl9hXzEuYjVlZDcuanBn/442392d1/005/delian_a_1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.alison=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Alison Bick",i="Making Your Water Safe,<br>One Picture at a Time",s="alison-b",r="alison-b",l="https://www.youtube.com/watch?v=wX9gTNxe1r8",t="intel-7",e=2536201,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2VhL2FsaXNvbl9iXzY0Ljg3YzYzLmpwZw/3cfce591/f8c/alison_b_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzUyL2FsaXNvbl9iXzc2LjI3OGM3LmpwZw/f70e7dab/d47/alison_b_768.jpg"],l,s)),o=["<strong>The average teenager doesn’t think much about the quality of her tap water.</strong> But for Alison Bick of Short Hills, New Jersey—an Intel Science Talent Search finalist in 2011—the concept of “drinkability” has set her on a path that’s flowing towards greatness. Back in 2007, Alison used Intel technology to invent a smartphone app that tests water contamination quickly and simply. The app has earned her international honors, including the 2011 Stockholm Junior Water Prize, not to mention street cred within the science world. It’s also a rare chance for someone in her teens to impact communities halfway across the world.","“I first came up with the idea when a huge storm hit my town,” Alison says. “There was a radio announcement saying that the water being pumped into our homes was potentially contaminated. My friend called me, asking if there was a way to test our water’s safety. There wasn’t. I thought, Hmmmmm… There’s an interesting project.” As the “go-to science person” in her group, she grabbed her computer and set out to learn the finer points of analyzing images. “It was a lot of trial and error, not some miraculous thing,” she insists."],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2YwL2FsaXNvbl9iXzAuM2NhYjEuanBn/9a8247e0/786/alison_b_0.jpg")),o=["After countless hours of research, she started to see solid results. Here’s how it works: with your tablet or smartphone, you take a picture of water that’s been exposed to fluorescent light (or which has been placed inside a special device mixed with chemicals). Alison’s program proceeds to analyze the picture and determine the water’s organic or inorganic qualities. “I used a basic programming language called C#, meaning any device with a camera can run this program.”","Code written and presentations developed on Intel-based tablets have been the driving forces of Alison’s work.“This project is an engineering project, not a biology project,” she insists. “Although my project is for testing water quality, it is done so by analyzing a picture. So, statistical regression and computer code were written and revised to improve the device. No physical cultures or chemical test were done to improve the device.”","Now in her junior year at Princeton University—well on her way to a Master’s program, then on to a PhD—Alison has since patented the water safety app.  Amazingly, this program (a product of ingenuity and curiosity in suburban New Jersey) has the potential to address serious needs in developing nations. The World Bank has approached Alison in the hopes that it can use her technology to test water in Nigeria. French water supply/water management company Veolia Environnement has also expressed interest."],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["Before Alison’s technology grabbed global attention, she tried out for the annual Intel Science Talent Search for high school seniors—a world-renowned platform for science world standouts, alumni of which include pioneering researchers and Nobel Prize winners. “I was away at a fencing tournament when they called to say I got in,” she recalls. “It was so exciting. My team celebrated with me that night.” Alison went on to be a finalist at that year’s competition—an accomplishment she calls the highlight of her high school experience. “The Intel Science Talent Search really validated my research,” she says. “The fact that I was a finalist just keeps coming back and helping me; people recognize me as a valid scientist.” Alison still stays in touch with a number of her peers for Intel’s competition, and says it gave her a strong foundation upon which she’s been able to develop her interests.","As logic would dictate, Alison’s family is thrilled by her accomplishments. Her parents are trained engineers; her brother studied engineering as well and her sister is an entomologist. “I think they’re all happy that I’m following their path,” she says. “We’re a family that loves science, although we’re all very different. My brother is more interested in the biological side of things. My sister likes… bugs. I’ve always liked chemistry, and have always seen it as an innovative way to solve problems.”","It seems that solving problems is what Alison Bick was born to do. She’s gone on to be a campus advisor for incoming students at Princeton—and we can’t imagine anyone better suited for the job. “I think we’re all here to motivate each other,” Alison says. “I tell people, ‘Go for your dreams and shoot for your goals. You’ve gotten to this place by working hard and doing what you’re passionate about. So keep going!’”","It pays off to be the “science go-to person” among your friends."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4Lzk5L2FsaXNvbl9iXzEuMTcwM2EuanBn/9cca105c/6fd/alison_b_1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n
},e.marian=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Marian Bechtel",i="Saving Lives One Chord at a Time",s="marian-b",r="marian-b",l="https://www.youtube.com/watch?v=9-v6WzG2ELM",t="intel-6",e=2531499,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2Q1L21hcmlhbl9iXzY0LjQ1NzNkLmpwZw/37c88727/125/marian_b_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzI1L21hcmlhbl9iXzc2LmU1NzkxLmpwZw/d406826d/e48/marian_b_768.jpg"],l,s)),o=["<strong>There are countless scientists and innovators</strong>—at universities, in laboratories, and in the field across every continent—using technology to further the peace and prosperity of mankind. In the midst of such kinetic brainpower, a young person might wonder, “What difference can I actually make?” Such a thought ran through the head of a 13-year-old from Lancaster, Pennsylvania named Marian Bechtel (overall finalist and Glenn T. Seaborg award winner 2012 Intel Science Talent Search, 2011 Davidson fellow, and TEDxTeen speaker) back in 2007, when she first became acquainted with the issue of landmines.","She learned the details of the landmine situation from an international group of scientists—friends of her geologist parents who were paying the Bechtels a visit. The scientists were hard at work on a holographic landmine detection device. Through them, Marian heard how buried landmines infest the ground of 70 countries. A landmine kills a person, somewhere in the world, every 20 minutes. It frightened and angered her. She has family in Mozambique, a country plagued by landmines, which made the issue personal. But what could she do? She was just a kid.","A few weeks later, the buzzing started.","“I was playing the piano one day, and noticed that whenever I played certain chords, this annoying buzzing would start,” Marian recalls. “I realized it was coming from the strings of a nearby banjo. I was hugely into math and science at the time—still am—and thought it was cool. Then, all of sudden, a thought clicked: Can I make landmines resonate?”"],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2IxL21hcmlhbl9iXzAuOWM5MDEuanBn/23bdf959/ee9/marian_b_0.jpg")),o=["Her parents, being scientists themselves, said, “That’s a cool idea,” and encouraged her to pursue the idea. Marian got to work, repurposing the frame of a scrap metal detector and combining within it a “seismic shaker” to rattle the ground and high-powered microphones borrowed from a generous company that she had cold-called. Using seismo-acoustics—sound waves and ground vibrations together—she worked out a formula for measuring waveforms that is able to indicate the location of buried landmines. Unlike traditional humanitarian demining methods, Marian’s seismo-acoustic approach works well in wet soil.","“It started as a simple science fair project, but has evolved through the years.” What’s simple to one person is revolutionary to the next—and could turn out to save many lives, too.","Marian is currently a sophomore at Bryn Mawr, and relies upon her Intel-powered laptop to pursue her structural geology studies. (Her parents are geologists; her older sister is a geology major.) “I’m fascinated with structural technology and physics,” she says. Meanwhile, she stays close to her friends from science competitions via her Intel-based tablet. “I’ve met so many great and interesting people through the Intel Science Talent Search,” she says.  “I was just chatting online with one friend—who is a super genius—the other day. He said to me, ‘I have some exciting news… I’m starting my own business.’ So many doors have opened for me as a result of the competition.”"],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["Marian leads a wonderfully well-rounded life. She spends most of her time with fellow geology buffs, plays the fiddle and eukelele, and is part of an a capella singing group (for which she is the beat-boxer in residence). Meanwhile, she’s become a sought-after speaker (TEDxTeen recently invited her to wow a New York crowd), and remains passionate about raising awareness around the cause of landmines.","At this time, the future is unknown for her landmine detection device. “Right now, I’m at college and my passion is geology,” she says. “I don’t have the resources or training to keep it moving forward on my own. I’m hoping, as I keep talking about the issue, that someone who does have the resources and training can take this idea and really move it forward.”","Marian’s idea came to her very early in her life, at age 13, just weeks after she heard from her parent’s friends about the project that they were working on. This sparked an internal questioning of what difference she could make in the world. Marian’s idea has the potential to make a significant impact worldwide, by saving people who are killed by landmines every day."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2Q0L21hcmlhbl9iXzEuYThmMzcuanBn/4814aaa9/c4b/marian_b_1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.ann=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Ann Makosinski",i="Unleashing the Thermoelectric Power Inside of You",s="ann-m",r="ann-m",l="https://www.youtube.com/watch?v=hPCLNui0B3I",t="intel-5",e=2525455,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2IwL2Fubl9tXzY0MC43NTQ2Yi5qcGc/540dede9/975/ann_m_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzI2L2Fubl9tXzc2OC4yNDc0ZC5qcGc/aaadeed7/6c5/ann_m_768.jpg"],l,s)),o=["<strong>Power.</strong> It’s arguably the most precious commodity of the modern age, and the obsession of brilliant minds around the world. Scientists scramble to harness and hone earth’s natural resources, the brilliance of the sun and the awesome potential of the wind. Engineers run countless configurations to determine the most effective ways to charge our homes and vehicles. For so many of us, unlimited power is a given, something we’ve learned to take for granted.","For more than a billion people across the planet, however, electricity is a limited, rare commodity. High schooler Ann Makosinski, 16, of Victoria, Canada learned of this reality and dedicated a science fair project to the situation. Her hand-heat-powered “Hollow Flashlight” was, in her mind, a practical solution to a pretty big problem. To the science community at large, it was a stroke of genius to recognize that power originates within every one of us—every day, all the time. Thermoelectricity took a step forward."],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2YwL2Fubl9tXzAuNWExYzkuanBn/a163f968/3a0/ann_m_0.jpg")),o=["“I’m half-Filipino, half-Polish, and I was talking with a friend who lives in the Philippines,” Makosinksi recalls. “My friend was failing school because there was no electricity at home. She was supposed to be studying at night. I came to find out that a lot of people around the world don’t have access to electricity and wanted to find a way to help people in that situation.”","Ann recalls hearing that humans are “walking 100-watt light bulbs,” so she put the big light bulb above her head to work. Ann created a prototype for the hollow flashlight—a hollow aluminum tube that cools the sides of Peltier tiles at the flashlight’s cylinder. Warmth from the human hand heats the other side, thus creating power. Ta-da, a flashlight that needs no batteries or solar charge. It was an idea simple enough for an everyday (albeit extremely bright) teenager in British Columbia to come up with, and yet it has the potential to improve the lives of so many world citizens. ","This is simply Makosinksi’s way. The daughter of two HAM radio enthusiasts, she’s been interested in experimenting since before she could walk. “My first toy was a box of transistors,” she says. “I was always taking garbage from around the house, taking things apart and putting them together. I just wanted to make things better.” These days, she counts a super-powerful Intel-powered tablet among the tools that further her explorations and allow her to connect with friends both near and far."],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["Ann started participating in the local science fair at grade six, and fell for the spirit of innovation that ran through that community. Her flashlight brought her to the Canada-wide science fair, where she earned a gold medal and was awarded for distinction in the energy sector. She won first prize in her age group at the 2013 Google Science Fair. And this year she is slated to be on Team Canada at the Intel International Science and Engineering Fair (ISEF). “I was listed in Time magazine’s ‘thirty under thirty’ and have given three TED Talks, too,” she says. She was also featured on a hilarious segment of The Tonight Show with Jimmy Fallon. Just another year in the life of your way-above-average Canadian teenager.","Makosinski has filed a patent and is working with engineers to improve her flashlight’s brightness and maximize the circuit’s efficiency. “I love to know why things work,” she says. She hopes this technology will someday be applicable to issues like global warming and renewable energy. “Maybe thermoelectricity will be able to power a tablet someday,” she wonders.","It’s likely we’ve only just begun to see where this technology—and Ann’s mind—will take us."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzViL2Fubl9tXzEuYjk4ZjIuanBn/017bc6eb/06d/ann_m_1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.steven=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Steven Gonzalez",i="Beating Cancer with Video Games",s="steven-g",r="steven-g",l="https://www.youtube.com/watch?v=bMBCyIMa8ac",t="intel-4",e=2510059,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4LzRhL3N0ZXZlbl9nXzY0LjI1OTlmLmpwZw/ff86e695/4e4/steven_g_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzE4L2JjL3N0ZXZlbl9nXzc2LjNmODhhLmpwZw/78f65fe7/f49/steven_g_768.jpg"],l,s)),o=["<strong>When fate delivers the burden of a cancer diagnosis,</strong> it’s easy to feel fundamentally apart from others. When Texas-born Steven Gonzalez was diagnosed with Acute Myelogenous Leukemia (AML) at age 12— and was looking at a 2 percent chance of survival—the feelings that arose were complicated at best. “I really wanted to just feel normal,” Gonzalez recalls.","Normal life was on hold. Gonzalez was suddenly swept up into a world of chemotherapy (at Houston’s MD Anderson Children’s Clinic), which preceded a bone marrow transplant, thirty days of hospital isolation, and one hundred days of home isolation. It was a challenge for the sixth grader to maintain his naturally positive outlook on life… except when he was playing video games. “The more I played video games, the better I felt,” he recalls. Steven felt like a kid again when immersed in an alternate reality. His games provided solace—and sparked an idea that could mean the world to fellow young people experiencing similar trials. "],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE0LzdhL3N0ZXZlbl9nXzAwLjJlNzMzLmpwZwpwCXRodW1iCTI4MDB4MTg3ND4KZQlqcGc/eddc91f9/17c/steven_g_00.jpg")),o=["“I’m the cofounder of the Survivor Games—a virtual arcade that I’ve sought to share with other patients,” says Steven, now 19 and a freshman in college. (Yes, luckily for us all, he’s happy, healthy, and engaging with the world as he was born to do.) “The Survivor Games gives kids the ability to connect with other people who may be going through the same thing. It provides a sense of being a kid, which gets pushed to the side when cancer is part of your life.” Currently in its beta stages, Survivor Games is set to be a galvanizing online community where kids with complicated medical conditions can link up and simply be kids. The network allows them to play their games in a safe environment with other teens, interact with one another, catch up on the latest gaming news, and watch more experienced players trounce their former high scores. Steven also created the 18-level video game called “Play Against Cancer.”  By the end of the 18 levels, a message is displayed, declaring that “You beat cancer.”","Eddie Gonzalez, Steven’s uncle is also co-founder of the Survivor Games. His devotion to his nephew is palpable and powerful; it’s clear that Steven has been his hero for quite a while now. “Everyone in the family will agree that Steven had a strong, optimistic outlook on life even before his diagnosis,” Eddie says. “In some ways it has allowed new parts of him to come to the surface.” Eddie and Steven insist that Steven’s cancer treatment—as well as the gathering sensation that is the Survivor Games—is a joint family venture. “His mom was his advocate from the start, his dad his companion, his sister started organizing blood drives at age ten,” Eddie says. “It’s all been an extension of the way they function as a family.”"],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["A powerful Intel-based tablet is precisely the type of tool that is helping the Survivor Games’ mission become real. “The processing power of an Intel tablet allows gamers to run a lot of different programs at the same time,” Steven says. “Personally, I need a lot of processing power to keep up with the latest games and before I had an Intel processor available to me in my tablet, I struggled to keep up with the games.” These games were his lifeline, and having the quality and performance of Intel technology enabled him to play bigger and better games on the fly. ","Steven is quick to reflect on the many ways in which video games have helped him. They relieved the stress of being a young cancer patient, and have offered him a way to connect with so many others. “The ability to make friends this way is so key,” Steven says. Fortunately, Steven makes plenty of friends the old fashioned way these days, too, off at college and running this company on the side.  His is a simple-enough yet powerful tale, with the potential of making a real difference in the world by inspiring and bringing together young patients suffering from cancer, through this unique gaming experience. His is a simple-enough yet powerful tale. His idea is one with the power to make a real difference."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE0LzBiL3N0ZXZlbl9nXzAxLmNmM2U4LmpwZwpwCXRodW1iCTI4MDB4MTkzNj4KZQlqcGc/6a9280a1/5e3/steven_g_01.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.eesha=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Eesha Khare",i="Inventing the One Minute<br>Mobile Phone Charger",s="eesha-k",r="eesha-k",l="https://www.youtube.com/watch?v=Iu47hcxj47c",t="intel-3",e=2510055,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1LzFlL2Vlc2hhX2tfNjQwLmYyMzUwLmpwZwpwCXRodW1iCTY0MHgxMTM2CmUJanBn/7d662b4f/fed/eesha_k_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzAyLzUzL2Vlc2hhX2tfNzY4LjYwYTg4LmpwZwpwCXRodW1iCTE1MDB4MTAxOAplCWpwZw/ca392a7b/f40/eesha_k_768-1.jpg"],l,s)),o=["<strong>Clear, unimpeded communication is the obsession of the modern age.</strong> Our most brilliant minds work tirelessly to connect the citizens of every nation, from every social strata. The ease of social media is now seen as a birthright—even by those who, just a decade ago, were reluctant to make purchases online. And of course, our tablets and cell phones have become intuitive extensions of our bodies. Since human beings have developed this emotional bond with their technology, it makes sense that a loss of battery life inspires an emotional response."," Eesha Khare (19) of Saratoga, California—runner-up at the 2013 Intel International Science and Engineering Fair (ISEF)—had one such experience when she found herself away from home, with a dead cell phone battery and no way to contact her parents. Unable to find a power source, she had to track down (and subsequently learn how to work) a pay phone, which is not so simple in this day and age. A loss of mobile energy created a scary reality for Eesha; connectivity is something she had been taking for granted. Then and there, she decided to do something about mobile device power."],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1LzcxL2Vlc2hhX2tfMDAuMWQ0ZDguanBnCnAJdGh1bWIJMjgwMHgxODc0CmUJanBn/324fdaa0/2ed/eesha_k_00.jpg")),o=["The beautiful and well-rounded daughter of an engineer and a biologist, Eesha has been fascinated by science for her entire life. This mobile device quandary was just the kind of challenge she’d been seeking—one that would allow her to stretch her brain, to fully utilize the computation power of her technology, and to address an issue that would serve millions of people just like her. “I’m a typical teenager, reliant on mobile technology,” she says.","Perhaps “typical” is a bit modest.","Eesha is the developer of a supercapacitor energy storage device, a carbon fiber with different metal oxides—primarily titanium dioxide and polyaniline—that uses nanotechnology to maximize the device’s surface area. It charges mobile devices much faster than previous technology has allowed, and has the ability to charge for many more cycles. Her innovation could be harnessed to charge more than cell phones and tablets; down the line, it could potentially energize cars. In the meantime: “My goal is to have a supercapacitor charge a mobile device in less than a minute.”"],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=['She took her project—"Design and Synthesis of Hydrogenated TiO2-Polyaniline Nanorods for Flexible High-Performance Supercapacitors"—to the 2013 Intel ISEF and out of the 1,600 students competing she came in second place, winning the “Intel Foundation Young Scientist Award” and $50,000. The most prominent tech companies in the world have become very intrigued by young Eesha—not to mention talk show host Conan O’Brien, who had her on his show for a very entertaining back and forth. (She’s a natural on camera, in addition to being intimidatingly smart.)',"Now a happy freshman at Harvard University, Eesha uses her Intel-powered devices to maintain constant access with her research. “Technology makes data evaluation much faster,” she says, noting that she uses her Intel powered tablet to gauge how her innovation has contributed to the science world. A naturally curious and well-rounded individual, Eesha also uses her tablet to pursue a spectrum of interests, inducing traditional Indian dance. Through her powerful devices she is also able to seek out new science mentors and labs that can push her discoveries forward.","So there we have Eesha Khare—a typical teenager in many ways; every now and then extraordinary. We suppose the same can be said for every individual who takes full advantage of powerful technology and dares to supercharge the natural curiosity that lies within."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1L2JmL2Vlc2hhX2tfMDEuZWQ2NDcuanBnCnAJdGh1bWIJMjgwMHgxOTM2CmUJanBn/0b9b7580/013/eesha_k_01.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.ionut=function(){var e,t,n,i,r,s,a,o,l,c;return n=[],a="Ionut Budisteanu",i="Engineering an Affordable Self-Driving Car",s="ionut-b",r="ionut-b",c="https://www.youtube.com/watch?v=bOfg0PEV5hI",t="intel-2",e=2493769,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1LzZhL2lvbnV0X2JfNjQwLjJmYjM3LmpwZwpwCXRodW1iCTY0MHgxMTM2CmUJanBn/75df0c56/5e1/ionut_b_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1LzcxL2lvbnV0X2JfNzY4LmI0MTFlLmpwZwpwCXRodW1iCTI4MDB4MTc5MAplCWpwZw/5bb24622/2fb/ionut_b_768.jpg"],c,s)),o="More than 2.5 million people die in car accidents each year, and the large majority of those accidents are the result of human error.",n.push(this.pullquoteCard(o)),l=["<strong>Scientific innovation, particularly the kind found at student science fairs and competitions, is thrilling.</strong> There's a sense of amazement when an individual accomplishes something ingenious or wildly clever. Enthusiasm is contagious among fair participants, who've been encouraged to lean into their brainpower. Maybe the best part: These young innovators can -- and truly want to -- use their intellect to make life better for all. Twenty-year-old Romanian computer scientist Ionut Budisteanu, who won the Gordon E Moore grand prize at the 2013 Intel International Science and Engineering Fair (ISEF) for his low-cost, self-driving car, has participated in more than 130 such competitions. His goal is not to be rich and famous. “I want to do something positive for the world,” he says."],n.push(this.textCard(l,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1LzgxL2lvbnV0X2JfMDAuZjJkN2MuanBnCnAJdGh1bWIJMjgwMHgxODY3CmUJanBn/5c645368/f7d/ionut_b_00.jpg")),l=["While there are currently about ten self-driving cars in the world, Budisteanu's is the least costly, by far, at only $4,000. A similar car employed top-tier 3D LiDAR (Light Detection and Ranging) artificial intelligence technology and cost $75,000 to build. Budisteanu mounted a camera to the car's roof and used the low-resolution 3D LiDAR equipment he could afford at the time to detect traffic lanes, other cars, curbs and obstacles, such as people crossing by. He programmed four laptops -- powered by Intel multi core processors -- to perform specific tasks, while a fifth laptop merged all the data and produced lightning fast calculations. While initial safety simulations fell slightly short of 100% with his low-res equipment, he is developing highly precise 3D LiDAR that would add just a few thousand dollars to the price tag and significantly reduce any safety risk."],n.push(this.textCard(l,"full-padding")),n.push(this.adCard("middle")),l=["“More than 2.5 million people die in car accidents each year, and the large majority of those accidents are the result of human error,” Budisteanu says. “Computers are very precise, and can make traffic decisions very quickly based on data. The device spinning on the roof is able to compute the distance between the 3D LiDAR and objects via lasers and photons, and uses Doppler technology to compute direction.” Obviously computing power was crucial for Budisteanu, from the earliest planning stages to the countless hours of simulation. “I needed a lot of power.”","With accolades from the most prestigious institutions in education and technology, recognition as one of the 16 most influential teens of 2013 by <em>Time</em> magazine, and a laundry list of international science awards on his resume, Budisteanu knows how to put his power to good use. A second-year student at University of Bucharest, with aspirations to be an impactful university researcher, he has dozens of projects in the works. One project he's particularly passionate about is a phone and tablet app that has the potential to revolutionize walking navigation for the blind. Meanwhile, he uses his Intel-powered tablet to access books and papers from across the globe that feed his research, believing that today's level of online connectivity is a great equalizer. “I don't have to be at MIT or Stanford to do amazing research,” he says. “Intention is everything. A sculptor can create a Stradivarius. if he wants to, or he can create a broom. It's the same with programming ... you can use your computer to play games, or you can use it to win a Nobel Prize. Everyone has a chance to do something amazing.”"],n.push(this.textCard(l,"full-top-padding")),o="You can use your computer to play games, or you can use it to win a Nobel Prize. Everyone has a chance to do something amazing.",n.push(this.pullquoteCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzAyL2Q4L2lvbnV0X2JfMDExLmFhNGRjLmpwZwpwCXRodW1iCTE1MDB4MTAzOAplCWpwZw/b856d220/028/ionut_b_01-1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.raul=function(){var e,t,n,i,r,s,a,o,l;return n=[],a="Raul Oaida",i="Inventing Inspiration, One Piece at a Time",s="raul-o",r="raul-o",l="https://www.youtube.com/watch?v=BTXqQXraWwA",t="intel-1",e=2485099,n.push.apply(n,this.introGroup(a,i,t,e,["http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1LzNiL3JhdWxfb2FpZGEuYTcyOTMuanBnCnAJdGh1bWIJNjQweDExMzYKZQlqcGc/adb32b9c/a0b/raul_oaida_640.jpg","http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzAyLzNiL3JhdWxfb2FpZGEuMTM1YmMuanBnCnAJdGh1bWIJMTUwMHgxMDE5CmUJanBn/7d3a3932/557/raul_oaida_768-1.jpg"],l,s)),o=["<strong>Many people come up with powerful ideas—the kind with the potential to change the world.</strong> It’s a rare few, however, who see inspiration through to completion. Raul Oaida, a 20-year-old genius builder, rocket scientist, and aspiring astronaut from Transylvania, is gifted with an uncanny ability to fabricate complex contraptions from the most humble of resources. He has built steam engines from bicycle pumps, sent Lego space shuttles into orbit, and constructed jet engines for bicycles. If that wasn't impressive enough, he's utilized the power of his Intel processor to create a life-sized, air-powered car, comprised of 500,000-plus Lego bricks. He was born with the willingness to see things through.","“I used to smash my toys apart to get to the light bulbs and motors,” says Oaida—the charming (and hilarious) son of a maid and a carpenter. “I’ve always loved to try stuff and see what’s inside of things. In sixth grade I had a really successful online gaming company. I’ve built seven working steam engines—though I didn’t have many tools available so I used wire hangers and a hammer. I’ve always spent all my Christmas and Easter money on engine parts instead of clothes, which really confused my parents. I’m probably the strangest human being who has ever walked the streets of my Transylvanian town.”"],n.push(this.textCard(o,"full-bottom-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE1LzNiL3JhdWxfb2FpZGEuOTU0YTEuanBnCnAJdGh1bWIJMjgwMHgxODY3CmUJanBn/7cfbceb7/d3b/raul_oaida_00.jpg")),o=["Strange is a relative term. To Intel and members of the technology world, Oaida is a phenomenon; the kind of enthusiastic, boundary-eschewing thinker who can indeed change the world. Using a laptop powered by an Intel i7 processor—which he selected for its great reviews and ability to install powerful, dynamic software — Oaida has been able to do everything from explore the intricacies of rocket engines to simulate the load distribution of his now-famous, air-powered Lego car. “Intel is probably one of the most important companies in technology I can think of,” he says. “Not just because it was one of the establishing forces in Silicon Valley but because it has made technology so much more democratic, and lets people like me—just one guy in a small Transylvanian town—do some really creative things.”"],n.push(this.textCard(o,"full-padding")),n.push(this.adCard("middle")),o=["Oaida’s Intel-powered tablet has provided him with more than metrics. He is able to connect with others who speak his language through social media, making him feel a part of something larger rather than an odd man out. “I’ll admit, it’s been awkward trying to do all this by myself,” he says. “I think one of the things I need most a mentor—ideally a Silicon Valley hotshot who’s going to say, ‘Alright, I’m invested in you as a person. I’m going to help you get a visa, mentor the crap out of you, and give you advice.’”","Fortunately for Oaida, he’s already been connecting with influential friends online, including Australian marketing powerhouse Steve Sammartino, who has provided real-time counsel, tablet-to-tablet, and funded a number of Oaida’s projects. Oaida is now itching to make a move to the United States and immerse himself in the Silicon Valley community. He’s also got a big, hush-hush idea germinating that could very well change the way goods are distributed, and is considering a Kickstarter campaign to get a startup off the ground. It’s just the latest inspired notion from an incredible, Intel-powered young mind—one we’ll be following closely from here on out."],n.push(this.textCard(o,"full-padding")),n.push(this.imageCard("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA2LzAyLzNiL3JhdWxfb2FpZGEuODlmMGMuanBnCnAJdGh1bWIJMTUwMHgxMDI2CmUJanBn/d9407361/7d5/raul_oaida_01-1.jpg")),n.push.apply(n,this.outroGroup(a,r,s)),n},e.introGroup=function(e,t,n,i,r,s,a){var o;return o=[],o.push.apply(o,this.titleCardGroup()),o.push.apply(o,this.trackingPixelGroup(n,i)),o.push.apply(o,this.chapterOpenerGroup(e,t,r,a)),o.push(this.youtubeCard(s)),o},e.outroGroup=function(e,t,n){var i;return i=[],i.push(this.socailSharesCard(""+e+"'s",t,n,"full-top-padding")),i.push(this.newsletterCard()),i.push.apply(i,this.tocCard(e)),i.push(this.disclaimerCard()),i.push(this.adCard("bottom")),i},e.titleCardGroup=function(){var e,t;return e=[],t=new App.Parsec.Templates.Categories.title.templates[0]({url:["/assets/parsec/intel_edisons/title_text_768.png"],"class":"edisons-title-card tablet"}),e.push(t.generate()),t=new App.Parsec.Templates.Categories.title.templates[0]({url:["/assets/parsec/intel_edisons/title_text_640.png"],"class":"edisons-title-card phone"}),e.push(t.generate()),e},e.trackingPixelGroup=function(e,t){var n,i;return n=[],i=new App.Parsec.Templates.Categories.ads.templates[1]({trackerPosts:"intel-0",trackerPostId:t}),n.push(i.generate()),i=new App.Parsec.Templates.Categories.ads.templates[1]({trackerPosts:e,trackerPostId:t}),n.push(i.generate()),n},e.chapterOpenerGroup=function(e,t,n,i){var r,s,a,o,l,c,p;return null==i&&(i=""),s=[],n instanceof Array?(o=n[0],l=n[1]):(a="/assets/parsec/intel_edisons/chapter_opener/",l=a+n+"_768.jpg",o=a+n+"_640.jpg"),r="edisons-chapter-opener-card",c="<p class=name>"+e+"</p><p class=description>"+t+"</p>",p=new App.Parsec.Templates.Categories.chapterOpener.templates[0]({url:[l],content:[c],"class":""+r+" "+i+" tablet ie8-none",optionalClass:i}),s.push(p.generate()),p=new App.Parsec.Templates.Categories.chapterOpener.templates[1]({url:[l],content:[c],"class":""+r+" "+i+" tablet ie8-spec",optionalClass:i}),s.push(p.generate()),p=new App.Parsec.Templates.Categories.chapterOpener.templates[0]({url:[o],content:[c],"class":""+r+" "+i+" phone ie8-none",optionalClass:i}),s.push(p.generate()),p=new App.Parsec.Templates.Categories.chapterOpener.templates[1]({url:[o],content:[c],"class":""+r+" "+i+" phone ie8-spec",optionalClass:i}),s.push(p.generate()),s},e.textCard=function(e,t){var n,i,r,s,a;for(null==t&&(t=""),i="",s=0,a=e.length;a>s;s++)n=e[s],i=i+"<p>"+n+"</p>";return r=new App.Parsec.Templates.Categories.text.templates[1]({content:[i],"class":"edisons-chapter-text-card "+t}),r.generate()},e.pullquoteCard=function(e,t){var n;return null==t&&(t=""),n=new App.Parsec.Templates.Categories.text.templates[0]({content:["<div class=quote-before /><h2>"+e+"</h2><div class=quote-after />"],"class":"edisons-pullquote-card "+t}),n.generate()},e.youtubeCard=function(e){var t;return t=new App.Parsec.Templates.Categories.video.templates[1]({url:[e],"class":"edisons-video-card video-padding",options:{autoplay:!1}}),t.generate()},e.imageCard=function(e,t){var n,i,r;return null==t&&(t=0),n="/assets/parsec/intel_edisons/content_image/",r="http"===e.slice(0,4)?e:n+e+("_"+t+".jpg"),i=new App.Parsec.Templates.Categories.image.templates[1]({url:[r],"class":"edisons-image-card"}),i.generate()},e.socailSharesCard=function(e,t,n,i){var r;return null==i&&(i=""),r=new App.Parsec.Templates.Categories.socialShares.templates[1]({"class":"edisons-chapter-social-share-card "+i,whose:e,fragment:t,optionalClass:n}),r.generate()},e.newsletterCard=function(){var e;return e=new App.Parsec.Templates.Categories.newsletter.templates[0]({"class":"edisons-newsletter-card"}),e.generate()},e.tocCard=function(e){var t,n,i,r,s;return null==e&&(e=""),t=[],n="/assets/parsec/intel_edisons/chapter_selection",$("#parsec").data("series")&&(i=function(){var e,t,n,i;for(n=$("#parsec").data("series").posts,i=[],e=0,t=n.length;t>e;e++)r=n[e],i.push({name:r.short_title,description:r.short_description,image:r.image,url:r.link});return i}()),i||(i=[]),s=new App.Parsec.Templates.Categories.chapterSelection.templates[1]({"class":"edisons-chapter-selection-card per-row-3",objs:i,perRow:3}),t.push(s.generate()),s=new App.Parsec.Templates.Categories.chapterSelection.templates[1]({"class":"edisons-chapter-selection-card per-row-2",objs:i,perRow:2}),t.push(s.generate()),s=new App.Parsec.Templates.Categories.chapterSelection.templates[1]({"class":"edisons-chapter-selection-card per-row-1",objs:i}),t.push(s.generate()),t
},e.disclaimerCard=function(){var e;return e=new App.Parsec.Templates.Categories.disclaimer.templates[0]({"class":"edisons-disclaimer-card"}),e.generate()},e.adCard=function(e){var t;return t=null,"middle"===e?t=new App.Parsec.Cards.LongCard({"class":"edisons-ad-card sponsor-ad-wrap intel-middle",blocks:[new App.Parsec.Blocks.AdBlock({pos:e,sponsor:"intel",posts:"intelbrandspeak"})]}):"bottom"===e&&(t=new App.Parsec.Cards.LongCard({"class":"edisons-ad-card sponsor-ad-wrap intel-bottom",blocks:[new App.Parsec.Blocks.AdBlock({pos:"bottom",sponsor:"intel",posts:"intelbrandspeak"})]})),t},e}(),App.Parsec.IntelCards=e}.call(this),function(){var e;App.Parsec||(App.Parsec={}),e=function(){function e(){}return e.generate=function(){var e,t,n;return e=[],e.push.apply(e,this.chapterOpenerGroup({chapter_name:"The Choice"})),t="          <p>            <strong>“I think I’m ready to chop it off.”</strong>          </p>          <p>            Rebekah Gregory is weary — confident one moment, hesitant the next. Staring down at the stitches in her left leg, she emits a nervous laugh. “I don’t know. I mean, I know we’ve done so much to fix it. But I just —”          </p>          <p>            She pauses and looks down at the floor.          </p>          <p>            Her doctor leans against a table, eyebrows knitted. He runs a hand through his salt-and-pepper beard. He exhales and looks out the window.          </p>          <p>            The sound of cars from the nearby highway fills the silence — horns honk, tires screech. She bites her lip and waits for his response.          </p>          <p>            After the Boston Marathon attack on April 15, 2013, doctors thought they could save Rebekah's left leg. One of the bombs shattered it from the knee down, destroying tissues, muscles and half her fibula in a matter of seconds. It ripped her right hand open to the bone and burned her right leg almost entirely.          </p>          <p>            At first, she agreed to the 16 reconstructive leg surgeries, sitting through the skin grafts, the pain meds, the weeks of bed rest and therapy. She did it without much question. They know better than I do, she kept telling herself. This might work.          </p>          <p>            But a year later, Rebekah, 26, is tired. The medical bills alone are enough to withstand. She's still wheelchair-dependent; walking is nearly impossible. And the pain from her leg is even worse.          </p>          <p>            Her fiancé, Pete DiMartino, 29, and her son from a previous relationship, Noah, 5, were also injured in the bombings. They’ve both recovered well, with wounds far less serious than Rebekah's. Noah sustained only minor injuries (Rebekah’s body shielded him from the majority of the blast).          </p>          ",e.push(this.textCardShorthand(t,"")),e.push.apply(e,this.imageGroup("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE2Lzc3L2ltYWdlXzAwLjIzNmU5LmpwZwpwCXRodW1iCTE0MDB4ODA1CmUJanBn/a4cdd881/5dd/image_00.jpg","",{caption:"Dr. William McGarvey, Rebekah’s orthopedic surgeon in Houston, removes stitches from her injured leg during an appointment."})),t="          <p>            But Rebekah feels like she’s slowing her family down. It’s been a year, and the greatest piece of baggage from that day — a physical, painful reminder of the moment she and her loved ones almost lost their lives — is still attached to her body.          </p>          <p>            Doctors are confident one more surgery could help her walk again, but she’s not convinced. Her wedding is in a few weeks, and as she, Pete and Noah plan to start their new life together, it might finally be time to undergo the life-altering amputation.          </p>          <p>            Maybe.          </p>          <p>            “I don’t want to disappoint the doctors who have worked on me so far,” she says, “but I just don’t know if I can do this anymore.”          </p>          ",e.push(this.textCardShorthand(t,"full-top-padding")),e.push(this.chapterDividerShorthand("",{chapter_name:"The Bombs"})),t="          <p>            <strong>The explosion knocked Pete off his feet.</strong> From the ground, he opened his eyes and could barely see a foot in front of him. The bottom half of his pants had completely disintegrated; a black blanket of smoke enveloped him like a casket. Ash choked any senses that were still intact — sight, smell, taste.          </p>          <p>            Outside the cloud, everyone was screaming.          </p>          <p>            He stood up, took a few steps forward, sat down. He didn’t feel any pain at first. “Then I looked down and saw that some of my leg was missing.”          </p>          <p>            Rebekah had been standing about 10 feet to Pete’s left, with Noah at her feet.          </p>          <p>            “After the shock settled, my first thought was him … my baby,” she says. “My ears were ringing, I could barely hear. But I could hear him. Screaming. Crying. Mommy! Mommy! And I couldn’t find him. It was so cloudy, and he was so scared. But I couldn’t find him.”          </p>          <p>            She tried to stand up, fell, then looked down at her legs. For a second, she thought they were both gone — she couldn’t see or feel anything.          </p>          <p>            Rivers of blood snaked through the charred asphalt from every direction, merging in a dark red pool beneath the black smoke. Bones lay next to her head on the sidewalk. She didn’t know if they were hers.          </p>          <p>            She heard Noah scream again. He was behind her. She reached for him with her left hand, but noticed two bones sticking straight out of it, completely exposed and perpendicular to her fingers. Warm blood oozed down her arm, into the nook of her elbow.          </p>          <p>            “I laid back down. Then the pain hit. It was the worst pain I’ve ever experienced in my life,” she says. “I couldn’t breathe. I couldn’t see. I honestly thought I was going to die: ‘God, if this is my time, then take me. But please let me know my baby is okay.’”          </p>          ",e.push(this.textCardShorthand(t,"")),e.push.apply(e,this.imageGroup("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE2L2IyL2ltYWdlXzAxLmRjYzU0LmpwZwpwCXRodW1iCTE0MDB4OTMwCmUJanBn/df1781e5/cb2/image_01.jpg","",{caption:"Noah, Rebekah’s five-year-old son from a previous relationship, is wheeled away after the explosions on April 15, 2013. Her then-boyfriend, Pete DiMartino, who suffered a 90% tear in his Achilles tendon, appears on a stretcher at left.",source:"Bloomberg via Getty Images"})),e.push(this.pullquoteShorthand("God, if this is my time, then take me.<br>But please let me know my baby is okay.","full-top-padding")),t="          <p>            Seconds later, seemingly out of nowhere, Noah was next to her. He was crying and covered in ash — but he was okay. Pete’s aunt, who’d been standing near them during the explosion, had picked him up and brought him over to Rebekah.          </p>          <p>            “I thought it was a sign,” she says. ”I thought, ‘He’s here, he’s okay. And now I really am going to die.’”          </p>          <p>            His aunt embraced her tightly, repeating, “Stay with me, okay? Stay with me. Tell me your favorite memory of Noah. We love you so much. We’re here, we’re not leaving you. Stay with me. Tell me about Noah. We love you.”          </p>          <p>            What happened next was a blur. Noah was released from the hospital after five days. He’d suffered only minor injuries to his legs and lower back.          </p>          <p>            She and Pete were in and out of surgery for the next few weeks. They talked via FaceTime about a week after the attack. “We were so out of it, though. I don’t really remember what we talked about,” she remembers.          </p>          <p>            Pete was released from Massachusetts General Hospital after 17 days. The bomb tore off 90% of his right Achilles tendon. Second-degree burns covered more than 10% of his body. He went to a rehabilitation center in Boston until the end of May, then moved back to Rochester, N.Y., to stay with his parents and continue therapy. Now, despite the black scars that run up and down his legs like burst veins, he’s able to walk without a limp — without much struggle, too.          </p>          <p>            Rebekah remained at Beth Israel Deaconess Medical Center in Boston for 39 days undergoing various reconstructive surgeries, then transferred to Memorial Hermann-Texas Medical Center in Houston for three weeks. There, she developed osteomyelitis, an infection of the bone marrow. She recovered, then moved in with her mother and stepfather in Katy, Texas, where a home health nurse watched over her for the next eight weeks.          </p>          <p>            “It just dragged on and on,” she says. “All of it, for me and Pete, just felt like this ongoing movie that we couldn’t get out of. It never ended. It still hasn’t.”          </p>          ",e.push(this.textCardShorthand(t,"")),e.push.apply(e,this.imageGroup("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE2LzlkL2ltYWdlXzAyLmU5NGY0LmpwZwpwCXRodW1iCTE0MDB4NzkxCmUJanBn/56cd09b2/5d6/image_02.jpg","",{caption:"Rebekah's left leg has undergone 16 reconstructive surgeries over the past year. It still hurts, ‘like an 11 on a scale of 1 to 10,’ she says. She’s considering amputation."})),e.push(this.pullquoteShorthand("All of it just felt like this ongoing movie that we couldn’t get out of. It never ended. It still hasn’t.","full-top-padding")),e.push(this.chapterDividerShorthand("",{chapter_name:"Survivor Lessons"})),t="          <p>            <strong>In the appointment room today, Dr. William McGarvey, Rebekah’s orthopedic surgeon,</strong> looks away from the window and asks her to stand. Reluctantly, slowly, she does. Tears spring to the corners of her eyes; her body begins to shake. The skin on her leg, between the scars and stitches, turns purple. She sits back down.           </p>          <p>            Resting, standing and sleeping — it doesn’t matter, she says. Everything hurts, “like an 11 on a scale of one to 10.”          </p>          <p>            She’s been taking pain medications regularly — Tylenol 3, Cymbalta and Celebrex — but admits they’ve only been temporary solutions. Minor distractions, at best, from the seemingly endless pain.          </p>          <p>            The main problem is Rebekah's foot is drifting inward. The bomb destroyed tissues and bones, and because of where they’re missing, the tendons have nowhere to attach. As a result, they're pulling from the inside of her ankle.          </p>          <p>            There’s still shrapnel from the bomb inside her leg. Sometimes, she says, a small piece of metal or BB will lodge out of her calf while she’s sleeping.          </p>          <p>            Dr. McGarvey’s hope is that one more surgery will stabilize her foot and help it stay flat on the ground. Still, there’s no guarantee it will mitigate the pain.          </p>          <p>            “You’re the one living through this difficult situation,” he concedes. “It’s your decision to make.”          </p>          <p>            He stands. “Let’s talk amputation.”          </p>          ",e.push(this.textCardShorthand(t)),t="          <p>            In total, 16 survivors had one or both legs amputated after the bombing. Most were treated in the first day or two following the attacks, and the rest shortly afterward.          </p>          <p>            Heather Abbott, 39, a human resources executive from Newport, R.I., lost her left heel in the second explosion. Doctors immediately admitted her to surgery, but by the following Friday told her the leg likely wasn’t salvageable. It would be shorter than her right leg, and probably mangled. She'd never be able to walk, much less run. They suggested amputation.          </p>          <p>            After some thought, she agreed. “It would have just been a burden to keep it.”          </p>          <p>            Another survivor, Adriane Haslet-Davis, 33, a dance instructor from Boston, made good on her vow to dance again after she lost the bottom half of her left leg during the bombing. At a TED Conference in Vancouver in March 2014, she performed on stage with a prosthetic limb. Soon, she hopes to appear on Dancing with the Stars.          </p>          <p>            Erika Brannock, 30, a preschool teacher from Baltimore, Md., had her left leg amputated the day after the bombing. “If I’d kept my leg the way it was, everything now would be even harder,” she says.          </p>          <p>            She and Rebekah were the last two survivors to leave Beth Israel. Even back then, she remembers, Rebekah was considering the amputation that still haunts her today.          </p>          <p>            “At some point, you just need to move on with your life,” Erika tells me over the phone. “If your body’s telling you that you can’t try anymore, that you’re just too tired, then you need to listen to it ... If she feels deep down that it’s the right move, then it probably is.”          </p>          ",e.push(this.textCardShorthand(t,"")),e.push.apply(e,this.imageGroup("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE2LzdlL2ltYWdlXzAzLmJkYTU4LmpwZwpwCXRodW1iCTE0MDB4NzkwCmUJanBn/efed0cb0/f1e/image_03.jpg","",{caption:"The bomb tore open Rebekah’s left hand and exposed two of her finger bones. The scars are still visible."})),e.push(this.pullquoteShorthand("At some point, you just need to move on with your life.","full-top-padding")),t="          <p>            Most of the survivors meet every few months back in the Boston area, to socialize, to share how they’re coping with their new lifestyles. Rebekah has kept in touch with some via email and Facebook.          </p>          <p>            Ultimately, Rebekah feels she’s playing catchup to everyone else — people like Erika, Heather and Adriane who have spent the year successfully adjusting to their new prosthetics and moving on.          </p>          <p>            At her home in Texas, she only feels more alienated. And still, she's not convinced.          </p>          ",e.push(this.textCardShorthand(t)),e.push(this.chapterDividerShorthand("",{chapter_name:"The Road Home"})),t="          <p>            <strong>Katy, Texas, some 20 minutes outside of Houston,</strong> sits in the center of suburban sprawl that seems to reach hundreds of miles. Strip malls, hotels and chain restaurants line the endless stretches of intersecting highways, some stacked four or five high like bunk beds.          </p>          <p>            Rebekah and Pete’s house is a handsome, two-story brick complex. It’s a newly developed area. Most of the houses in the neighborhood have been built within the past 10 years.          </p>          <p>            Inside, their home still smells like fresh paint. The living room glows with afternoon sunlight that seeps through the patio door to the backyard. It houses a beige rug and a pair of leather couches over dark-stained, hardwood floors. A sign on the mantel above the fireplace reads “Welcome, Y’all.”          </p>          <p>            Rebekah lies on one of the couches. She’s not feeling well today, but still greets me with a smile.          </p>          <p>            “I’m just a little exhausted, I guess. I’m always so out of it lately.”          </p>          <p>            She’s had nightmares for the past year. Every two nights, almost on cue, they creep into her dreams. The theme is always the same: Someone is trying to kill her and her family.          </p>          <p>            The night before, she dreamed Pete was carrying her through a barren field as bombs exploded on the ground behind them. Noah ran alongside them, grasping for her hand as the fiery eruptions and violent debris traced their every turn, getting closer, louder, with each blast.          </p>          <p>            “It’s always the three of us,” she says. “And there are always explosions … Sometimes we’re back in Boston, sometimes we’re in a random field or desert. But there are always bombs. Every time, I wake up thinking I’m going to die.”          </p>          <p>            It’s March 18, just a few weeks before the wedding. Rebekah’s gown arrives in the mail. We’re at her mother’s house, just a few doors down from hers, and the two are eagerly unwrapping the box.          </p>          ",e.push(this.textCardShorthand(t,"")),e.push.apply(e,this.imageGroup("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE2L2JiL2ltYWdlXzA0LjA1NDdkLmpwZwpwCXRodW1iCTE0MDB4ODkwCmUJanBn/84418565/a2d/image_04.jpg","",{caption:"Rebekah and mother, Tina, admire Rebekah’s wedding dress at home in Katy."})),t="          <p>            The subtle white floral patterns of the dress flow into a long train at the bottom. She grabs her crutches and walks into the bathroom to try it on. A minute later, she opens the door to show us.          </p>          <p>            “It’s a little big, but there’s still time to make adjustments,” she says with a shrug.          </p>          <p>            She pauses in thought: “I still don’t even know how I’ll be getting down the aisle. These crutches, maybe. Or one of those carts. I have no idea.”          </p>          <p>            As her mother helps her hang the dress back up against the closet door, Rebekah stops to look at it one last time, before it goes upstairs. Her eyes fixate on the patterns as she leans back in her wheelchair. Her shoulders relax; she exhales softly.          </p>          <p>            For a moment, her leg is the last thing on her mind.          </p>          ",e.push(this.textCardShorthand(t,"")),e.push.apply(e,this.imageGroup("http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE2LzIzL2ltYWdlXzA1LmY0MTNkLmpwZwpwCXRodW1iCTE0MDB4OTQwCmUJanBn/f794b0a2/4ec/image_05.jpg","",{caption:"Pete drove from Rochester, N.Y., to Katy, Texas, in October 2013 to surprise Rebekah with his proposal."})),t="          <p>            <strong>Back at the hospital, Rebekah is overwhelmed.</strong> “And tired. I’m so tired.”          </p>          <p>            Dr. McGarvey nods. There’s no rush on making a decision about the amputation. With the wedding approaching, he tells her to put it on the back burner — for now, at least.          </p>          <p>            “This is your life. Your leg,” he says, smiling for the first time during the appointment. “You know what you want to do. But for now, just take a break from thinking about it and start your new life.”          </p>          <p>            As she leaves the hospital, a handful of nurses stops her in the hallway and congratulates her on the upcoming wedding. She smiles and thanks them, wiping the remaining tears from the corners of her eyes. Her face brightens up as she tells them about Noah and Pete.          </p>          <p>            During a phone conversation the next week, she tells me Noah broke down when she mentioned her possible leg amputation.          </p>          <p>            “I try to explain to him that I’d still be the same person with a prosthetic,” she says. “That I’d be able to walk and run, to play with him again. But he’s so scared just thinking about it.”          </p>          <p>            Noah and Pete may have healed physically, but Rebekah still carries the burden of their full recovery. Especially Noah hinders on her well-being, or so she thinks. Until she’s back on her feet, either with the help of another surgery or a new prosthetic, the family won’t fully be able to move on.          </p>          <p>            Over the phone, she sighs and repeats Dr. McGarvey’s advice out loud: “Take a break. Focus on starting your new life with Noah and Pete.”          </p>          <p>            For now, she will. And so will they.          </p>          ",e.push(this.textCardShorthand(t,"full-padding",{chapter_name:"The Ticking Clock"})),e.push(this.videoCardShorthand("https://www.youtube.com/watch?v=wP_qHNZ6b6A","no-top-padding full-bottom-padding")),t="      <p class=headline>The 17th Surgery</p>      <div class=divider />      <p class=author>by <a href='http://mashable.com/people/eric-larson/' target=_blank>Eric Larson</a></p>      <div class=spotlight-logo><a href='http://mashable.com/category/mashable-spotlight/' target=_blank><img src='/assets/parsec/parsec_mashable/spotlight_white.png' /></a></div>    ",n=new App.Parsec.Templates.Categories.text.templates[1]({content:[t],"class":"chapter-end-card"}),e.push(n.generate()),n=new App.Parsec.Templates.Categories.socialShares.templates[0]({"class":"social-shares-card"}),e.push(n.generate()),e},e.chapterOpenerGroup=function(e){var t,n,i,r;return null==e&&(e={}),t=[],i="      <p class=headline>The 17th Surgery</p>      <p class=subheadline>One year after the Boston bombing, a maimed survivor faces the choice of amputation.</p>      <div class=divider />      <p class=author>by <a href='http://mashable.com/people/eric-larson/' target=_blank>Eric Larson</a></p>      <div class=spotlight-logo><a href='http://mashable.com/category/mashable-spotlight/' target=_blank><img src='/assets/parsec/parsec_mashable/spotlight_black.png' /></a></div>    ",n="http://rack.2.mshcdn.com/media/ZgkyMDE0LzA0LzE2LzhmL2NoYXB0ZXJfb3BlLmNhNjFkLmpwZwpwCXRodW1iCTE0MDB4ODA0CmUJanBn/1c1283c0/9c1/chapter_opener_768.jpg",r=new App.Parsec.Templates.Categories.chapterOpener.templates[1]({url:[n],content:[i,e.chapter_name],"class":"chapter-opener-card tablet"}),t.push(r.generate()),n="http://rack.2.mshcdn.com/media/ZgkyMDE0LzA3LzIyLzAxL21hcmF0aG9uX2NoLjU4Y2EyLmpwZw/9ca9b488/446/marathon_chapter_opener_640.jpg",r=new App.Parsec.Templates.Categories.chapterOpener.templates[1]({url:[n],content:[],"class":"chapter-opener-card phone marathon-legacy"}),t.push(r.generate()),t},e.imageGroup=function(e,t,n){var i,r;return null==t&&(t=""),null==n&&(n={}),i=[],r=new App.Parsec.Templates.Categories.image.templates[0]({url:[e],content:[n.caption,n.source],"class":"image-card tablet no-touch-only "+t+" ie-none"}),i.push(r.generate()),r=new App.Parsec.Templates.Categories.image.templates[1]({url:[e],content:[n.caption,n.source],"class":"image-card tablet no-touch-only "+t+" ie-spec"}),i.push(r.generate()),r=new App.Parsec.Templates.Categories.image.templates[1]({url:[e],content:[n.caption,n.source],"class":"image-card tablet touch-only "+t}),i.push(r.generate()),r=new App.Parsec.Templates.Categories.image.templates[1]({url:[e],content:[n.caption,n.source],"class":"image-card phone "+t}),i.push(r.generate()),i},e.textCardShorthand=function(e,t,n){var i;return null==t&&(t=""),null==n&&(n={}),i=new App.Parsec.Templates.Categories.text.templates[1]({content:[e,n.chapter_name],"class":"text-card "+t}),i.generate()},e.chapterDividerShorthand=function(e,t){var n;return null==e&&(e=""),null==t&&(t={}),n=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({"class":"chapter-divider-card "+e,content:[t.chapter_name]}),n.generate()},e.pullquoteShorthand=function(e,t){var n;return null==t&&(t=""),n=new App.Parsec.Templates.Categories.text.templates[0]({content:[e],"class":"pullquote-card "+t}),n.generate()},e.videoCardShorthand=function(e,t){var n;return null==t&&(t=""),n=new App.Parsec.Templates.Categories.video.templates[1]({url:[e],"class":"video-card "+t,options:{autoplay:!1}}),n.generate()},e}(),App.Parsec.MarathonCards=e}.call(this),function(){var e;App.Parsec||(App.Parsec={}),e=function(){function e(){}return e.generate=function(){var e,t,n,i;return n="/assets/parsec/kiwi/chapterdivider.png",t=[],i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"Opening"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"phone",url:["/assets/parsec/kiwi/kiwi_opening_640.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"tablet touch-only",url:["/assets/parsec/kiwi/kiwi_opening.jpg"]}),t.push(i.generate()),e=new App.Parsec.Cards.StretchCard({"class":"black tablet no-touch-only full-top-padding",background:"/assets/parsec/kiwi/kiwi_bg.jpg",blocks:[],breakpoint:{features:{touch:!1,resolutions:{}}},cards:[new App.Parsec.Cards.Card({blocks:[],breakpoint:null,height_style:"half_viewport",transitions:{}}),new App.Parsec.Cards.LongCard({blocks:[new App.Parsec.Blocks.ImageBlock({url:"/assets/parsec/kiwi/kiwi_title.png",transitions:{}})]}),new App.Parsec.Cards.Card({blocks:[],breakpoint:null,height_style:"half_viewport",transitions:{}})],transitions:{opacity:{"20p-bottom":"1.0","0p-bottom":"0.0"}}}),t.push(e),e=new App.Parsec.Cards.LongCard({"class":"black title-card full-bottom-padding",blocks:[new App.Parsec.Blocks.TextBlock({content:['<div class="main-title-wrap">\n            <hgroup class=main-title>\n            <h1>The<br/>Ballad<sub>of</sub><strong><br/>Kiwi<br/>Gardner</strong></h1>\n            <h2>by Sam Laird</h2>\n            </hgroup>\n            <a href="/category/mashable-spotlight/" target="_blank"><img src="/assets/parsec/parsec-spotlight.png"/></a>\n            </div>']})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n            <p><strong>It’s Memorial Day 2009.</strong> Inside Cupertino High’s dimly lit gymnasium, two traveling teams of teenage basketball stars tip off in the championship game of a weekend tournament. Local hoop-heads have pined for this matchup, which pits the underdog Bay Area Hoosiers against the Drew Gooden Soldiers, the West Coast’s storied club basketball kings.</p>\n            <p>The Soldiers are sponsored by an NBA player. They count LeBron James among alumni and regularly showcase the nation’s top hoops talent to elite college coaches. This year’s edition features the Bay Area’s best young players along with ringers brought in from out of state, prospects who will go on to be ranked among the country’s best basketball recruits and who will play in All-American games.</p>\n            <p>But as the game gets underway, another player steals the show. The Hoosiers’ tiny point guard is a slender high school sophomore from East Oakland named Kiwi Gardner. He stands just 5'7\" tall. A mop of short dreadlocks bounces atop his head. He throws no-look passes, leaves defenders lurching at crossover dribbles and spins to the basket, racking up points and assists.</p>\n            <p>In the stands, a cameraman catches it all on tape.</p>\n            <p>With less than a minute left, the Hoosiers are down by two. The Soldiers’ point guard (current University of Arizona star Nick Johnson) trots the ball up court and drives toward the basket. Kiwi picks him clean. He’s got a clear path to the rim for a game-tying layup.</p>\n</div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[0]({content:["But he looks back and decides to try something <strong>risky</strong> instead."]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({"class":"full-bottom-padding",content:['<div class=centered-column>\n            <p>What’s an easy two-pointer to tie the game when you can pull up for three to take the lead? He lets the ball fly. All net. Fans go nuts. The Hoosiers hold on to beat the mighty Soldiers, and Kiwi is named tournament MVP.</p>\n            <p>Not the traditional approach, but this, as fans around the globe will later learn, is Kiwi Gardner.</p>\n            <p>After the game, the cameraman edits the game’s best plays into a highlight mix. Two weeks later he uploads it to his <a href="http://mashable.com/category/youtube/">YouTube</a> channel, <a href="http://www.youtube.com/yayareasfinest2006" target="_blank">Yay Area’s Finest</a>. The end of the video zooms in on Kiwi’s face. Bright eyes. Short dreads, burnt with rust-colored tips.</p>\n            <p>No one knows it yet, but a YouTube star has just been born.</p>\n</div>']}),t.push(i.generate()),e=new App.Parsec.Cards.ColumnCard({"class":"media-card full-padding",breakpoint:{resolutions:{minimum:1120}},columns:[.85,.15],gutter:50,margin:.1,blocks:[new App.Parsec.Blocks.YoutubeBlock({videoId:"jL4GzHbBZEk",trigger_point:"bottom"})],secondary_blocks:[new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc>\n            <p>Kiwi's steal and game-winning 3-point shot in the closing seconds of the 2009 championship face-off launched him on a path to YouTube stardom.</p>\n            </div>"]})]}),t.push(e),e=new App.Parsec.Cards.LongCard({"class":"media-card full-padding",breakpoint:{resolutions:{maximum:1120}},blocks:[new App.Parsec.Blocks.YoutubeBlock({videoId:"jL4GzHbBZEk",trigger_point:"bottom"}),new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc>\n<p>Kiwi's steal and game-winning 3-point shot in the closing seconds of the 2009 championship face-off launched him on a path to YouTube stardom.</p>\n</div>"]})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n        <p>Over the coming three-and-a-half years, dozens of videos featuring Kiwi will hit the web. Reverse dunks, dazzling dribbling displays, flair and showmanship -- Kiwi’s clips will attract more than 8 million views on Yay Area’s Finest alone, along with millions more on other channels. He’ll become one of basketball’s first YouTube sensations.</p>\n        <p>But basketball primarily exists outside of YouTube. And the coming years will prove Kiwi's offline world tougher to navigate.</p>\n        </div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"Do or Die"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({"class":"full-bottom-tablet-padding",content:['<div class=centered-column>\n        <p><strong>It’s a Sunday morning, October 2013.</strong> Inside a small arena in Santa Cruz, Calif., men scrimmage on the fringes of the professional hoop dream. The Santa Cruz Warriors, NBA Development League (D-League) affiliate of the Golden State Warriors, host an open tryout for players hoping to win invites to their fall training camp and eventually make the roster.</p>\n        <p class=\'responsive-margin-bottom\'>The scene is both tantalizingly close to and a universe removed from the pro basketball you watch on TV. More than 100 current NBA players have spent time in the D-League, the NBA’s official minor league. Yet most of those players grind along for <a href="http://espn.go.com/nba/dailydime/_/page/dime-121123-24/nba-new-york-knicks-carmelo-anthony-better-ever" target="_blank">little more than $13,000</a>, plus lodging and health benefits.</p>\n        </div>']}),t.push(i.generate()),e=new App.Parsec.Cards.LongCard({"class":"media-card ceros-card",breakpoint:{features:{touch:!1}},blocks:[new App.Parsec.Blocks.CerosBlock({url:"http://view.ceros.com/mashable/money",trigger_point:"middle"})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n<p>Here’s Kiwi Gardner again, inside that Santa Cruz arena. Twenty years old now, he hasn’t added any noticeable height, but his once-slight frame is roped with muscles and tattoos. The dreads, jet black now, hang shoulder-length, bobbing as he darts about the court.</p>\n        <p>More than two dozen players, several of them former collegians, try out for the Warriors on this warm autumn afternoon. Kiwi is the class of the group. He steals the ball in the backcourt, sprinting the other way for layups. He slashes to the rim, where he converts easy buckets or dishes to teammates. Santa Cruz coaches watch from the sidelines.</p>\n        <p>Kiwi’s circuitous past four years -- spent suspended between Internet immortality and the harsh realm of big-business basketball -- illustrate the modern disconnect between viral fame and tangible reward. He spent an abbreviated, ill-fated stint in the Big East, college basketball’s toughest conference. The following summer, in jaw-dropping performances canonized online, he stole the show from seasoned professionals at the San Francisco Pro-Am. Then he played this past winter for a top junior college program, until leaving that team mid-season amid bizarre circumstances.</p>\n        <p>He’s spent the current autumn traveling the West to put his game in front of NBA personnel: before Santa Cruz, there were tryouts in Los Angeles, Milwaukee and Portland. After, there will be three more in Northern California and Nevada. The D-League push is Kiwi’s last-ditch attempt to create a post-high school basketball career befitting his YouTube legend.</p>\n        <p>The browser windows have closed and the real world has clamped down. Having renounced his college eligibility forever, it’s pro ball or bust, a lifelong NBA dream. No Plan B.</p>\n        <p>“Basketball-wise, this is it,” Kiwi tells me back in Oakland. The D-League’s Nov. 1 draft is two weeks away. He drinks a Snapple at his favorite local fried fish and chicken joint, resting between workouts in sweatpants and a black Raiders beanie. “It’s do or die now. I’m putting all I got into this. All I got.”</p>\n        </div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({"class":"full-bottom-padding",url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"tablet",url:["/assets/parsec/kiwi/parsec-pulled-quote-5.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"phone",url:["/assets/parsec/kiwi/parsec-pulled-quote-5-iphone.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"Creation of a Sensation"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({"class":"full-bottom-padding",content:['<div class=centered-column>\n        <p><strong>Kiwi represents a classic sports archetype.</strong> He’s also a completely new case. Charismatic, underdog basketball players have long become legends outside the game’s mainstream. Until recently, however, none of those players had YouTube. And none had Travis Farris.</p>\n        <p>Farris is the cameraman who filmed Kiwi hit that audacious three at the Memorial Day tournament in 2009. It was Farris who took Kiwi worldwide.</p>\n        <p>Farris lives in San Jose, Calif. His YouTube channel is among an elite handful of online <a href="http://theclassical.org/articles/mixtape-madness" target="_blank">basketball mixtape outlets</a>. He works days at Bed Bath & Beyond, then spends nights and weekends filming Bay Area high school games. He edits and uploads flashy, beat-and-dunk-driven basketball mixes to his channel, then collects ad revenue as part of YouTube’s partner program.</p>\n        <p>After watching Kiwi at that spring event, Farris knew he’d found something special.  </p>\n        <p>“The whole tournament it was just like, ‘Oh my god, he can do this? Now he can do <em>this</em>? Then he dunks, too?!’” Farris says. “Then in the championship he had that crazy moment. I just thought, ‘You never see anything like this.’”</p>\n        <p>Several months later, the 2009-2010 high school season began. Farris began driving the two-and-half-hour round trip to Manteca, Calif. (Kiwi’s mother had sent her son to high school in the Central Valley town to create some separation from Oakland’s criminal influences, as well as provide stability while she spent weeks away working on merchant ships.) Despite the distance, Farris says he made the long haul about 15 times to film Kiwi during his junior season. Smart move.</p>\n        <p>In one clip from that winter, 16-year-old Kiwi throws down a leaning, lefthanded dunk. That video has racked up more than 2 million views. His junior year highlight mix has more than 600,000. Highlights from a 52-point game have been watched more than 100,000 times.</p>\n        </div>']}),t.push(i.generate()),e=new App.Parsec.Cards.ColumnCard({"class":"media-card full-padding",columns:[.8,.2],gutter:50,margin:.1,breakpoint:{resolutions:{minimum:1120}},blocks:[new App.Parsec.Blocks.TextBlock({content:["<h3 class=media-section-title>Left-Handed Dunk</h3>"]}),new App.Parsec.Blocks.YoutubeBlock({videoId:"Vq1LQj2LcX4",trigger_point:"bottom"})],secondary_blocks:[new App.Parsec.Blocks.TextBlock({content:[]}),new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc>\n<p> Kiwi's first ever dunk during a Manteca High School game in 2010 brought the crowd to its feet. The video now has over 2 million views on YouTube.</p>\n</div>"]})]}),t.push(e),e=new App.Parsec.Cards.LongCard({"class":"media-card full-padding",breakpoint:{resolutions:{maximum:1120}},blocks:[new App.Parsec.Blocks.TextBlock({content:["<h3 class=media-section-title>Left-Handed Dunk</h3>"]}),new App.Parsec.Blocks.YoutubeBlock({videoId:"Vq1LQj2LcX4",trigger_point:"bottom"}),new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc>\n<p> Kiwi's first ever dunk during a Manteca High School game in 2010 brought the crowd to its feet. The video now has over 2 million views on YouTube.</p>\n</div>"]})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[1]({content:['<div class=centered-column>\n        <p>Yay Area’s Finest would explode in views, subscribers and popularity, growing from a simple hobby to a viable second job over the coming years. Farris’ videos of Kiwi have been viewed hundreds of thousands of times in Taiwan and the Philippines, and tens of thousands of times in Hong Kong, Russia, the UK, Germany, France and Australia. One viewer ripped a Yay Area’s Finest mixtape of Kiwi and re-uploaded it to YouTube <a href="http://www.youtube.com/watch?v=ZBO5SIftj_w" target="_blank">with a Chinese title</a>. That clip now totals more than 2.4 million views. “他是Kiwi Gardner!!!!!” reads one comment there.</p>\n        <p>“It wouldn’t be possible without Kiwi paving the way,” Farris says of his business\'s growth. “He basically built the audience. He’s unmatched as far as guys I’ve covered.”</p>\n        </div>']}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({"class":"full-bottom-padding",url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"The Youtube Star IRL"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"tablet",url:["/assets/parsec/kiwi/kiwi_irl.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"phone",url:["/assets/parsec/kiwi/kiwi_irl_640.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n        <p><strong>During a recent a drive around the neighborhoods</strong> where he learned the game, Kiwi reflects on his and Farris’ intertwined rise. Farris is “family to me now,” he says. “No doubt about it.” </p>\n        <p>Kiwi’s in-person demeanor on this sunny Oakland afternoon contradicts the persona you see on YouTube. He’s soft-spoken, but obviously sharp. His on-court exuberance is replaced by a measured cool. He seems relaxed but guarded, answering questions in a low-key, even tone as we cruise by his old basketball haunts.</p>\n        <p>Today, Kiwi says, he can walk into any gym in America and young players will likely recognize him. Occasionally people approach him at Starbucks or the mall. He says the attention from Farris’ mixes is “just life, really.” But he does admit it's pretty “cool.”</p>\n        <p>Two years out of high school now, he’s signed with an agent to turn pro after just nine games of organized post-secondary ball. Yet he insists YouTube fame has never affected the way he plays the game or sees himself. I’m inclined to believe that. The flamboyance, the competitiveness -- perhaps those traits attracted Farris’ camera more than than they were magnified by it. It’s easy to forget Kiwi’s a 20-year-old kid who’s been in the public eye for years and now stands at a personal and professional crossroads -- before he can even order a beer.</p>\n        <p>But whatever online glory did or didn’t mean to him in the past, as he stares at the basketball abyss, Kiwi says he’d easily trade it all to grasp the future he’s dreamed of since childhood.</p>\n        <p>“There’s only really one thing I wanna remember, you know?” he says. “That’s playing in the League [the NBA]. That’s the only jersey, the only picture, the only film I want to remember.”</p>\n        </div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({"class":"full-bottom-tablet-padding",url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"A Career on the Rise"}),t.push(i.generate()),e=new App.Parsec.Cards.LongCard({"class":"media-card ceros-card",breakpoint:{features:{touch:!1}},blocks:[new App.Parsec.Blocks.CerosBlock({url:"http://view.ceros.com/mashable/kiwi-makeup-of-champion-v3",trigger_point:"middle"})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[1]({"class":"full-bottom-padding",content:['<div class=centered-column>\n        <p><strong>After Kiwi’s electric junior year, </strong>coupled with Farris’ camerawork, launched him from anonymity to Internet basketball notoriety, he spent the following spring and summer playing for the Soldiers. They toured the country, facing off against America’s best prospects under the watchful eyes of coaches from around the nation.\n        <p>At an April tournament in Virginia, the Soldiers went up against Marquis Teague, then the nation’s top-rated point guard prospect. Early in the game, Kiwi stripped Teague of the ball, speeding down-court for an easy layup. The Soldiers won by 50 points. Today Teague plays for the Chicago Bulls.</p>\n        <p>That summer put Kiwi on the national scouting radar, and he left California to spend his senior year at Westwind Prep, an Arizona boarding school that promised more exposure and competition against talented players from across the country.</p>\n        <p>“Kiwi killed while he was there,” says Rodger Bohn, a writer who covers high school hoops nationally for basketball bible <em>Slam</em> magazine. “It was one of those things where they’d play teams with guys ranked higher than him, guys with bigger reps than him. But at the end of the day, Kiwi would usually be the best player on the floor.”</p>\n        <p>Kiwi committed in April 2011 to play for the Friars of Providence College. Providence plays in the Big East Conference, which until a reorganization earlier this year, was widely considered the nation’s premier college basketball federation. He returned home to spend the summer preparing for the transition, working out and playing in the San Francisco Pro-Am with NBA players and Americans who have gone pro overseas.</p>\n        <p>In one game, an 18-year-old Kiwi scored <a href="http://www.youtube.com/watch?v=ehNTLAlyCwM" target="_blank">more than 50 points</a>, slapping hands ith his astonished grown-up teammates after retiring to the bench.</p>\n        <p>Farris’ camera rolled on, the YouTube clips racked up more views and old media took note.</p>        </div>']}),t.push(i.generate()),e=new App.Parsec.Cards.ColumnCard({"class":"media-card full-padding",breakpoint:{resolutions:{minimum:1120}},columns:[.8,.2],gutter:50,margin:.1,blocks:[new App.Parsec.Blocks.TextBlock({content:["<h3 class=media-section-title>Kiwi Goes for 50+</h3>"]}),new App.Parsec.Blocks.YoutubeBlock({videoId:"W8G9FGgZ9kw",trigger_point:"bottom"})],secondary_blocks:[new App.Parsec.Blocks.TextBlock({content:[]}),new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc>\n<p>Then bound for Providence College, the 5'7\" Kiwi Gardner dominated the competition in a June 2011 San Francisco Pro-Am game, scoring 51 points.</p>\n</div>"]})]}),t.push(e),e=new App.Parsec.Cards.LongCard({"class":"media-card full-padding",breakpoint:{resolutions:{maximum:1120}},blocks:[new App.Parsec.Blocks.TextBlock({content:["<h3 class=media-section-title>Kiwi Goes for 50+</h3>"]}),new App.Parsec.Blocks.YoutubeBlock({videoId:"W8G9FGgZ9kw",trigger_point:"bottom"}),new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc>\n<p>Then bound for Providence College, the 5'7\" Kiwi Gardner dominated the competition in a June 2011 San Francisco Pro-Am game, scoring 51 points.</p>\n</div>"]})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[1]({content:['<div class=centered-column>\n        <p>Wrote <a href="http://espn.go.com/blog/collegebasketballnation/post/_/id/32519/providence-recruit-lights-up-summer-league" target="_blank">ESPN</a>’s college basketball blog: “It all just adds to Gardner\'s growing legend, as the 5\'7" point guard is simply breathtaking to watch at times. He has the name, the hair and the stylish game to match.” </p>\n        <p>With his YouTube videos having already built him a following among hardcore fans and national media beginning to take note of his talent, Kiwi felt great as summer wound to a close. Providence had a brand new coach, Ed Cooley, set to start his first season. Kiwi was Cooley’s very first recruit. He was off to play college ball against the nation’s best, one step closer to his ultimate goal: the NBA. </p>\n        <p>“The thing about Providence is it was the first choice,” Kiwi says back in Oakland, his voice straining slightly at the recollection. “I was there. It seemed perfect.”</p>\n        <p>While most Friars fans didn’t expect Kiwi to be an immediate star, his YouTube fame and exciting style of play had preceded him to create buzz and anticipation, according to David Pean, founder and editor of the <em><a href="http://friarblog.com/" target="_blank">FriarBlog</a></em> fan site. Kiwi enjoyed campus life, and Friars supporters took to his personable nature. A <a href="https://twitter.com/KiwiTranslator" target="_blank">@KiwiTranslator</a> Twitter account was born, offering comedic interpretations of the slang-ridden posts Kiwi made to his own profile. </p>\n        <p>Then, in October, a bombshell. </p>\n        </div>']}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"Thrown for a Loop"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({"class":"full-bottom-padding",content:['<div class=centered-column>\n        <p><strong>Providence announced the NCAA had found a problem</strong> with Kiwi’s high school transcript, saying credits from one of his Westwind classes were not transferrable, rendering him ineligible to play as a freshman. </p>\n        <p>Providence appealed. The appeal was rejected. </p>\n        <p>In December, Kiwi was ruled out for the entire season. A financial aid package let him stay on as a student, but he couldn’t practice or play with the team. Not being part of the team was hard, but he saw the ruling as a temporary setback and managed to have fun living life as a regular student through the frigid Rhode Island winter. </p>\n        <p>“It was an amazing experience,” he says. “I loved it there. It was good. I was waiting on the year to come. I was eager to get back.”</p>\n        <p>Once again, he returned home to California for the summer to work out and play in the San Francisco Pro-Am. Once again, Farris’ camera rolled. Once again, Kiwi’s mixes killed on YouTube. Kiwi Gardner games became events for Bay Area basketball fans, another testament to his popularity. He took home <a href="http://www.youtube.com/watch?v=KxGWNs9eYYA" target="_blank">league MVP honors</a> that summer.</p>\n        <p>“This little 5’7” kid who’s never played a game of D-1 ball was drawing bigger crowds than NBA guys,” Farris says.</p>\n</div>']}),t.push(i.generate()),e=new App.Parsec.Cards.ColumnCard({"class":"media-card full-padding",breakpoint:{resolutions:{minimum:1120}},columns:[.8,.2],gutter:50,margin:.1,blocks:[new App.Parsec.Blocks.TextBlock({content:["<h3 class=media-section-title> Kiwi Dominates the Pro-Am</h3>"]}),new App.Parsec.Blocks.YoutubeBlock({videoId:"5SUlhRYn-20",trigger_point:"bottom"})],secondary_blocks:[new App.Parsec.Blocks.TextBlock({content:[]}),new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc><p>In 2012, Kiwi once again played in the San Francisco Pro-Am. He averaged 40 points per game, en route to winning the league MVP award.</p> </div>"]})]}),t.push(e),e=new App.Parsec.Cards.LongCard({"class":"media-card full-padding",breakpoint:{resolutions:{maximum:1120}},blocks:[new App.Parsec.Blocks.TextBlock({content:["<h3 class=media-section-title>Kiwi Dominates the Pro-Am</h3>"]}),new App.Parsec.Blocks.YoutubeBlock({videoId:"5SUlhRYn-20",trigger_point:"bottom"}),new App.Parsec.Blocks.TextBlock({content:["<div class=media-desc> <p> In 2012, Kiwi once again played in the San Francisco Pro-Am. He averaged 40 points per game, en route to winning the league MVP award.</p> </div>"]})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[0]({content:["<strong>But back east,</strong> things were changing at Providence."]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n        <p> Cooley had successfully recruited the nation’s top-ranked point guard, a 6'3\" All-American, for the following season. He’d also brought in one of the country’s best shooting guards, and two other returning guards had flourished the previous season while Kiwi sat out. It made for a crowded backcourt. </p>\n        <p>Kiwi says he was just days away from returning to Providence to compete for playing time in his long-awaited first year of college ball when Cooley contacted him with a grim message. </p>\n        <p>“It was weird. I don’t know where it came from,” Kiwi says. “He basically just said, ‘We don’t have any more room for you.’” </p>\n        <p>A Providence athletic department spokesperson said a “mutual decision” was made for the basketball program and Kiwi to part ways. But the severed ties left him in a tough spot; major colleges had long-since filled out their 2012-2013 rosters, leaving him with drastically limited options.</p>\n        </div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({"class":"full-bottom-padding",url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"Fresh Start in Texas"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"tablet",url:["/assets/parsec/kiwi/kiwi_texas.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"phone",url:["/assets/parsec/kiwi/kiwi_texas_640.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n<p><strong>Kiwi landed at Midland College,</strong> a junior college of 1970s buildings arranged on a circular campus, located in the windy plains of West Texas. The Chaparrals historically have a strong basketball program and play in one of the nation’s most competitive junior college conferences. Kiwi’s plan upon arrival was simple: Get better playing against good players, stay on track academically, then transfer back to a Division 1 program in a year or two. </p>\n        <p>In reality, he wouldn’t last a season at Midland. </p>\n        <p>On the court, Kiwi put up mediocre numbers in his partial season. He says his relationship with coach Chris Craig was erratic: a lack of communication and drastic swings in playing time for no clear reason. He was among the team’s best players, according to <em>Midland Reporter-Telegram</em> beat writer Oscar LeRoy, showing top-notch athleticism and talent but sometimes struggling with turnovers and game management.</p>\n        <p>“He played hard when he was here,” LeRoy says. “There's no doubt about that. The potential was there for him to become really a very good player.”  </p>\n        <p>Midland was a far cry from the Big East’s massive budgets, NBA talent level and national TV broadcasts. It was even a world removed from Farris’ handheld camera and highlight mixes. Other than old YouTube footage, Kiwi had by and large fallen off the basketball map. </p>\n        <p>Frustrated, he would call Marvin Lea, with whom he’d bonded at Westwind Prep in Arizona. Lea played four years of college ball at Pepperdine and was a Westwind teacher when Kiwi attended the Arizona prep school. Today he’s a basketball trainer who’s worked with NBA players Kawhi Leonard and Tony Snell. Now living in Southern California, he became a mentor and father figure for Kiwi during their time at Westwind. </p>\n        <p>“He was like, ‘Man, it’s weird over here,’” Lea recalls of their phone conversations.</p>\n</div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[0]({content:["“He’d been telling me all year, <strong>‘It’s nutty.</strong> There’s something weird here.’”"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({"class":"full-bottom-tablet-padding",content:['<div class=centered-column>\n        <p>In mid-January, Coach Craig suspended Kiwi from the Midland team indefinitely for an unspecified violation of team rules. By the end of January, Kiwi had left the team.  </p>\n        <p>Two months later Coach Craig resigned as Midland coach, days after tweeting about end-of-the-world prophecies and posting dozens of pages of handwritten notes to his personal blog, calling Barack Obama “the Antichrist” and Mitt Romney a “false prophet,” according to <a href="http://www.youtube.com/watch?v=n1aSvf6sdBc" target="_blank">local news reports</a>. In July, Craig drew attention for “calling himself an ‘Islamist jihadist’ and threatening the demise of Mormons and Catholics at sites across Arizona and Colorado,” according to <em><a href="http://www.coloradoan.com/article/20130730/NEWS01/307300022/Authorities-confirm-ID-man-claiming-Islamist-jihadist-?gcheck=1" target="_blank">The Coloradoan</a></em>. In August, he was <a href="http://www.mywesttexas.com/sports/article_241ba966-0dda-5ae3-b1b4-38d208c73de8.html" target="_blank">arrested</a> for drug possession. </p>\n        <p>Over fish, chicken and fries, I ask Kiwi why he left Midland rather than stick it out the rest of the season and find a new school. In retrospect, he says, the biggest factor was dissatisfaction with a college basketball experience that in two years had dealt him mostly letdown and disappointment. </p>\n        <p>“I’m thinking to myself, ‘What am I playing for?’” he says. “I wasn’t playing for me. I was playing for a scholarship. And I didn’t like that, just knowing what a scholarship did for me last time. It didn’t really do much. That scholarship was taken easily, and then I was left with nothing. So playing for that same thing, it just…” He trails off. </p>\n        <p class=\'responsive-margin-bottom\'>After leaving Texas, he returned home briefly. On Feb. 13, his mother and grandmother drove him the three hours from Oakland to Fresno. Lea was there to watch his trainee Snell play one of his final college games, against Fresno State. Kiwi’s mother and grandmother handed him off to Lea outside Save Mart Arena. After the game, Kiwi rode with his old Westwind mentor back down to Los Angeles for a new start.</p>\n        </div>']}),t.push(i.generate()),e=new App.Parsec.Cards.LongCard({"class":"media-card ceros-card",breakpoint:{features:{touch:!1}},blocks:[new App.Parsec.Blocks.CerosBlock({url:"http://view.ceros.com/mashable/map",trigger_point:"middle"})]}),t.push(e),i=new App.Parsec.Templates.Categories.text.templates[1]({content:['<div class=centered-column>\n        <p>This past spring Kiwi Gardner &mdash; all 5 feet 7 inches of him, and having played only a handful of officially organized basketball games over the past two years -- declared for the 2013 NBA Draft. He went unselected in the June 27 draft, but that came as a surprise to no one, including himself, Lea and his new agent, Noah Betzing. Signing with Betzing made Kiwi a pro in the eyes of basketball’s powers-that-be, ruling any potential return to college out of the question.</p>\n        <p>After his mother and grandmother dropped him off with Lea, Kiwi trained for up to eight hours per day over the spring and summer in Los Angeles. Cardio. Weights. Beach runs. Jump shots. Situational work. More jump shots. He stayed with Betzing or Lea between occasional trips back to the Bay Area, while chronicling the journey on <a href="http://www.youtube.com/kiwigardner" target="_blank">his own new YouTube channel</a>.</p>\n        <p>Declaring for the NBA Draft was just part one of Kiwi and team’s D-League plan. In theory, if he got into a minor league training camp, then made the roster, worked his way up the depth chart and played well enough to garner interest from the NBA this season, declaring would make him eligible for a mid-season call-up. But first, the matter of getting into a D-League training camp.</p>\n        <p>The D-League is rife with former college stars and even veteran pros fighting for one last NBA contract. Generally speaking, open tryouts are the hardest way to make it. Hardest, but not impossible. </p>\n        <p>The Santa Cruz Warriors invited a player named Daniel Nwaelele to training camp after last year’s open tryout. He made the team, did well last season and spent time in an NBA training camp this fall before being cut. Another player named Stefhon Hannah broke into the D-League via an open tryout and has been its defensive player of the year the past two seasons. A player named DJ Kennedy caught on with the D-League’s Erie BayHawks through a local open tryout and actually climbed all the way up to the NBA, where he appeared in two regular season games for the Cleveland Cavaliers in 2012. </p>\n        <p>Nwaelele, Hannah and Kennedy were all four-year college players, however.</p>\n        </div>']}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"Out on a Limb"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n        <p><strong>Besides being undersized for pro ball,</strong> Kiwi must face another hurdle in trying to impress D-League teams: YouTube highlights are entertaining and build an independent fan base, but pro scouts and coaches want to see on-court refinement typically learned in college ball. At the Santa Cruz tryout, it’s obvious Kiwi’s making a concerted effort to prove he’s more than just a preternaturally talented whirling hoops dervish.</p>\n        <p>After a couple hours of scrimmaging, the Santa Cruz coaches send most of the players home and invite 15 to stick around for one last run. Kiwi is among them.</p>\n        <p>With 5.8 seconds left, the final scrimmage is tied. Kiwi receives the sideline inbounds pass near half court, draws the defense and assists for a game-winning layup. </p>\n        <p>“Ballgame, baby!” he yells to no one in particular. “Good call, coach! Way to execute, fellas! Way to <em>listen</em>!” </p>\n        p>But with just over a week until the Nov. 1 D-League draft, there’s been no word from the Warriors, nor any of the other teams Kiwi tried out for. A direct invite to a training camp would remove him from the draft pool and eliminate one step of his roundabout dream chase. Otherwise, it’s sit and sweat through eight rounds of drafting. </p>\n        <p>And what if no one does call? Then what? Get some student loans and go back to school as a normal student? Get a regular 9-to-5 job? </p>\n        <p>“Probably not a <em>regular</em> job, but a job, something that’s gonna provide for me financially in this real world we’re riding in,” he says, as we drive down East Oakland’s notorious main drag, International Boulevard. “Hopefully it’s close to the game. Hopefully it <em>is</em> the game. But certain situations require different things, as far as life goes. You’ve got to livein reality. I’m a realist.” </p>\n        <p>The days march on.</p>\n</div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({"class":"full-bottom-padding",url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterNavigator.templates[0]({chapter:"Down to the Wire"}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"tablet",url:["/assets/parsec/kiwi/kiwi_wire.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"phone",url:["/assets/parsec/kiwi/kiwi_wire_640.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({content:['<div class=centered-column>\n        <p><strong>It’s Halloween. Judgment day is little more than 24 hours away.</strong> Kiwi has retreated to Sacramento to stay with a high school friend and, he says, “try to get some alone time.” He gets to the gym for a couple workouts each day, his high school buddy rebounding jump shots, and watches NBA games on TV. </p>\n        <p>“I’m nervous,” Kiwi tells me with one day to go. “I’m just waiting and seeing now. It’s all definitely been on my mind. It’s kind of hard not to think about, with it playing such a big role in my life.”</p>\n        <p>The tryouts in Santa Cruz and other points around the West are all over. No direct training camps invites have come, so there’s nothing left to do but hope for the draft. But when it actually arrives, Kiwi says, he’ll be too tense to follow online. He’ll try to keep his mind off it -- but make sure to keep his phone nearby for any good news. </p>\n        <p>Tomorrow’s draft is Kiwi\'s final shot. Getting the call from a team would mean his dream to play pro ball stays alive at least a few more weeks.</p>\n        <p>The Nov. 1 draft’s first selection is Grant Jerrett, a 6-10 forward with a deadly outside shot from the University of Arizona. In the third round, the Delaware 87ers pick Aquille Carr, a tiny point guard from Baltimore whose own <a href="http://www.youtube.com/watch?v=zpZRRaAbdzo" target="_blank">highlight mixes</a> catapulted him to viral fame a couple years after Kiwi. Carr skipped college, then landed in the D-League draft after a short stint attempting to go pro overseas. </p>\n        <p>The fourth round passes. Kiwi’s name goes uncalled.</p>\n        <p>The fifth round passes.</p>\n        <p>The sixth round passes.</p>\n        <p>Finally, in the seventh round, the Santa Cruz Warriors use their final pick on Kiwi. Tweets and texts pour in. Kiwi would have been ecstatic for a shot with any of the D-League’s 17 teams, but a chance to play for his favorite NBA squad’s minor league affiliate less than two hours from his own hometown? That would be a dream come true. </p>\n        </div>']}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.chapterDivider.templates[0]({url:[n]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({content:["<div class=centered-column>\n        <p><strong>After nearly two weeks of practice,</strong> Santa Cruz hosts the Reno Bighorns on Nov. 14. The first of two pre-season exhibition games, it will be a crucial measuring stick as the Warriors look to whittle their 14-man training camp roster down to a regular season maximum of 12. For fringe players like Kiwi, playing well is essential. </p>\n        <p>With two minutes and 29 seconds left in the first half and the Warriors losing by 10 points, Santa Cruz coach Casey Hill finally puts Kiwi in the game. Wearing number 17 and with his long dreads pulled back in a tight ponytail, Kiwi sets a hard screen on his very first play. It frees a teammate to swish an open three-pointer. Soon after, Kiwi dives on the floor to wrestle a rebound away from a bigger Reno player. He’s a terror on defense, too, dogging his man up and down the floor. “Atta boy, Gardner!” a middle-aged man bellows from the stands near mid-court. </p>\n        <p>Kiwi scores his first bucket on a fastbreak layup, with about 30 seconds left to pull the Warriors within three points. The Warriors end the half down by just two -- an eight-point swing since Kiwi checked in. Kiwi swaggers off the court to the locker room, jutting his chin with an exaggerated nod toward teammates and fans.</p>\n        <p class='forced-margin'>Santa Cruz goes on to win 113-92. Kiwi finishes with three points, two assists, two rebounds and zero turnovers in just under 10 high-energy minutes. The evening has, by all measures, been a resounding success. Kiwi signs autographs for fans after the game.</p>\n</div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.text.templates[1]({"class":"full-bottom-padding",content:["<div class=centered-column>\n        <p>“Kiwi Gardner continues to amaze us as a coaching staff,” Hill tells reporters outside the locker room. “When you get a streetballer coming into the D-League, the biggest thing you have to do is help him play within himself, play within the structure. He does a really good job of that.”</p>\n        <p>One week later, on Thursday, Nov. 21, Santa Cruz is set to release its opening night roster. Though the team played its final pre-season game nearly a week earlier, a game Kiwi missed due to illness, the Warriors have been keeping Kiwi and the other hopefuls on pins and needles. Thursday is the league deadline; anyone who isn't on the roster won't be on the team this year. Two players from training camp are gone, having been sent home to ponder their basketball futures. Another is in Oakland with the Golden State Warriors after a call-up to the big-league squad. </p>\n        <p>And the fifth name on the roster is Kiwi Gardner. </p>\n        <p>When we talk on the phone that afternoon, Kiwi is nonchalant about the news, calling it a “pretty regular” day. Actually, it’s the culmination of two tumultuous years, plus months of grinding uncertainty. </p>\n        <p>But the D-League’s non-guaranteed contracts mean that he will, in a sense, perpetually have to try out. “Coach Hill told me to just keep doing what I’ve been doing, keep playing hard, and that’s why I’m still here,” he says. “I just can’t get complacent. I need to be here.” </p>\n        <p>I ask if a Thursday night celebration is in order after the good news, but Kiwi demurs. He’ll probably try to stay hydrated and rest for opening night. </p>\n        <p>It may be the minor leagues, the pay isn’t much and the NBA is still several hard steps away, but Kiwi Gardner is finally a professional basketball player. And tomorrow? He's got to go to work. </p>\n        </div>"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"tablet",url:["/assets/parsec/kiwi/kiwi_end.jpg"]}),t.push(i.generate()),i=new App.Parsec.Templates.Categories.image.templates[1]({"class":"phone",url:["/assets/parsec/kiwi/kiwi_end_640.jpg"]}),t.push(i.generate()),e=new App.Parsec.Cards.LongCard({"class":"black end-card",blocks:[new App.Parsec.Blocks.TextBlock({content:['<div class="main-title-wrap">            <hgroup class=main-title>            <h1>The<br/>Ballad<sub>of</sub><strong><br/>Kiwi<br/>Gardner</strong></h1><h2>by Sam Laird</h2>            </hgroup>\n            <a href="/category/mashable-spotlight/" target="_blank"><img src="/assets/parsec/parsec-spotlight.png" /></a>\n            <div class=social-shares-wrap>            <div class="parsec social-shares">\n            <a class="social-share facebook"><div class="caption">Share</div></a>\n            <a class="social-share twitter"><div class="caption">Tweet</div></a>\n            <a class="social-share google_plus" />\n            <a class="social-share linked_in" />\n            <a class="social-share stumble_upon" />\n            <a class="social-share pinterest" />\n</div>\n            </div>            <div class="credits">\n            <p>Written by: <a href="http://mashable.com/people/sam-laird/" target="_blank">Sam Laird</a></p>\n            <p>Photo/Lead Image: <a href="http://thefsmg.com/" target="_blank">Josh Christopher/Fakework Sports</a></p>\n            <p>Photo/Kiwi Dunking: <a href="http://hkophoto.smugmug.com/" target="_blank">Ho-Doug Ko</a></p>\n            <p>Photo/"Playing in the League": <a href="http://thefsmg.com/" target="_blank">Josh Christopher/Fakework Sports</a></p>\n            <p>Photo/"Thinking to Myself": <a href="http://thefsmg.com/" target="_blank">Josh Christopher/Fakework Sports</a></p>\n            <p>Photo/Young Kiwi: <a href="https://twitter.com/kiwis_back" target="_blank">Courtesy Kiwi Gardner</a></p>\n            <p>Photo/Kiwi at Warriors Game: <a href="http://www.arielnava.com/" target="_blank">Ariel Nava</a></p>\n            <p>Photo/Press Shot: <a href="http://www.nba.com/dleague/santacruz/index-main.html" target="_blank">Courtesy Santa riors</a></p>\n            <p>Videos Courtesy of: <a href="http://www.youtube.com/yayareasfinest2006" target="_blank">Travis Farris/Yay Area\'s Finest</a></p>\n            <p>"map of kiwi gadner", "makeup of a champion", "salary disparity" powered by: <a href="http://www.ceros.com/" target="_blank">ceros</a></p>\n            </div>\n            </div>']})]}),t.push(e),t
},e}(),App.Parsec.KiwiCards=e}.call(this),function(e,t,n){"use strict";function i(n){if(r=t.documentElement,s=t.body,R(),at=this,n=n||{},ut=n.constants||{},n.easing)for(var i in n.easing)Y[i]=n.easing[i];wt=n.edgeStrategy||"set",ct={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},pt=n.forceHeight!==!1,pt&&(Ot=n.scale||1),ht=n.mobileDeceleration||C,ft=n.smoothScrolling!==!1,mt=n.smoothScrollingDuration||T,gt={targetTop:at.getScrollTop()},Ut=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),Ut?(lt=t.getElementById("skrollr-body"),lt&&st(),G(),It(r,[w,_],[y])):It(r,[w,b],[y]),at.refresh(),_t(e,"resize orientationchange",function(){var e=r.clientWidth,t=r.clientHeight;(t!==zt||e!==Ht)&&(zt=t,Ht=e,qt=!0)});var a=V();return function o(){J(),bt=a(o)}(),at}var r,s,a={get:function(){return at},init:function(e){return at||new i(e)},VERSION:"0.6.26"},o=Object.prototype.hasOwnProperty,l=e.Math,c=e.getComputedStyle,p="touchstart",u="touchmove",h="touchcancel",d="touchend",f="skrollable",m=f+"-before",g=f+"-between",v=f+"-after",w="skrollr",y="no-"+w,b=w+"-desktop",_=w+"-mobile",k="linear",x=1e3,C=.004,T=200,A="start",P="end",S="center",I="bottom",E="___skrollable_id",$=/^(?:input|textarea|button|select)$/i,L=/^\s+|\s+$/g,j=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,N=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,O=/^(@?[a-z\-]+)\[(\w+)\]$/,B=/-([a-z0-9_])/g,D=function(e,t){return t.toUpperCase()},M=/[\-+]?[\d]*\.?[\d]+/g,H=/\{\?\}/g,z=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,q=/[a-z\-]+-gradient/g,F="",U="",R=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(s,null);for(var n in t)if(F=n.match(e)||+n==n&&t[n].match(e))break;if(!F)return F=U="",void 0;F=F[0],"-"===F.slice(0,1)?(U=F,F={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[F]):U="-"+F.toLowerCase()+"-"}},V=function(){var t=e.requestAnimationFrame||e[F.toLowerCase()+"RequestAnimationFrame"],n=Lt();return(Ut||!t)&&(t=function(t){var i=Lt()-n,r=l.max(0,1e3/60-i);return e.setTimeout(function(){n=Lt(),t()},r)}),t},W=function(){var t=e.cancelAnimationFrame||e[F.toLowerCase()+"CancelAnimationFrame"];return(Ut||!t)&&(t=function(t){return e.clearTimeout(t)}),t},Y={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-l.cos(e*l.PI)/2+.5},sqrt:function(e){return l.sqrt(e)},outCubic:function(e){return l.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-l.abs(3*l.cos(1.028*e*t)/t)}};i.prototype.refresh=function(e){var i,r,s=!1;for(e===n?(s=!0,ot=[],Ft=0,e=t.getElementsByTagName("*")):e.length===n&&(e=[e]),i=0,r=e.length;r>i;i++){var a=e[i],o=a,l=[],c=ft,p=wt,u=!1;if(s&&E in a&&delete a[E],a.attributes){for(var h=0,d=a.attributes.length;d>h;h++){var m=a.attributes[h];if("data-anchor-target"!==m.name)if("data-smooth-scrolling"!==m.name)if("data-edge-strategy"!==m.name)if("data-emit-events"!==m.name){var g=m.name.match(j);if(null!==g){var v={props:m.value,element:a,eventType:m.name.replace(B,D)};l.push(v);var w=g[1];w&&(v.constant=w.substr(1));var y=g[2];/p$/.test(y)?(v.isPercentage=!0,v.offset=(0|y.slice(0,-1))/100):v.offset=0|y;var b=g[3],_=g[4]||b;b&&b!==A&&b!==P?(v.mode="relative",v.anchors=[b,_]):(v.mode="absolute",b===P?v.isEnd=!0:v.isPercentage||(v.offset=v.offset*Ot))}}else u=!0;else p=m.value;else c="off"!==m.value;else if(o=t.querySelector(m.value),null===o)throw'Unable to find anchor target "'+m.value+'"'}if(l.length){var k,x,C;!s&&E in a?(C=a[E],k=ot[C].styleAttr,x=ot[C].classAttr):(C=a[E]=Ft++,k=a.style.cssText,x=St(a)),ot[C]={element:a,styleAttr:k,classAttr:x,anchorTarget:o,keyFrames:l,smoothScrolling:c,edgeStrategy:p,emitEvents:u,lastFrameIndex:-1},It(a,[f],[])}}}for(Tt(),i=0,r=e.length;r>i;i++){var T=ot[e[i][E]];T!==n&&(Q(T),et(T))}return at},i.prototype.relativeToAbsolute=function(e,t,n){var i=r.clientHeight,s=e.getBoundingClientRect(),a=s.top,o=s.bottom-s.top;return t===I?a-=i:t===S&&(a-=i/2),n===I?a+=o:n===S&&(a+=o/2),a+=at.getScrollTop(),0|a+.5},i.prototype.animateTo=function(e,t){t=t||{};var i=Lt(),r=at.getScrollTop();return dt={startTop:r,topDiff:e-r,targetTop:e,duration:t.duration||x,startTime:i,endTime:i+(t.duration||x),easing:Y[t.easing||k],done:t.done},dt.topDiff||(dt.done&&dt.done.call(at,!1),dt=n),at},i.prototype.stopAnimateTo=function(){dt&&dt.done&&dt.done.call(at,!0),dt=n},i.prototype.isAnimatingTo=function(){return!!dt},i.prototype.isMobile=function(){return Ut},i.prototype.setScrollTop=function(t,n){return vt=n===!0,Ut?Rt=l.min(l.max(t,0),Nt):e.scrollTo(0,t),at},i.prototype.getScrollTop=function(){return Ut?Rt:e.pageYOffset||r.scrollTop||s.scrollTop||0},i.prototype.getMaxScrollTop=function(){return Nt},i.prototype.on=function(e,t){return ct[e]=t,at},i.prototype.off=function(e){return delete ct[e],at},i.prototype.destroy=function(){var e=W();e(bt),xt(),It(r,[y],[w,b,_]);for(var t=0,i=ot.length;i>t;t++)rt(ot[t].element);r.style.overflow=s.style.overflow="",r.style.height=s.style.height="",lt&&a.setStyle(lt,"transform","none"),at=n,lt=n,ct=n,pt=n,Nt=0,Ot=1,ut=n,ht=n,Bt="down",Dt=-1,Ht=0,zt=0,qt=!1,dt=n,ft=n,mt=n,gt=n,vt=n,Ft=0,wt=n,Ut=!1,Rt=0,yt=n};var G=function(){var i,a,o,c,f,m,g,v,w,y,b,_;_t(r,[p,u,h,d].join(" "),function(e){var r=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(f=r.clientY,m=r.clientX,y=e.timeStamp,$.test(c.tagName)||e.preventDefault(),e.type){case p:i&&i.blur(),at.stopAnimateTo(),i=c,a=g=f,o=m,w=y;break;case u:$.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),v=f-g,_=y-b,at.setScrollTop(Rt-v,!0),g=f,b=y;break;default:case h:case d:var s=a-f,k=o-m,x=k*k+s*s;if(49>x){if(!$.test(i.tagName)){i.focus();var C=t.createEvent("MouseEvents");C.initMouseEvent("click",!0,!0,e.view,1,r.screenX,r.screenY,r.clientX,r.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),i.dispatchEvent(C)}return}i=n;var T=v/_;T=l.max(l.min(T,3),-3);var A=l.abs(T/ht),P=T*A+.5*ht*A*A,S=at.getScrollTop()-P,I=0;S>Nt?(I=(Nt-S)/P,S=Nt):0>S&&(I=-S/P,S=0),A*=1-I,at.animateTo(0|S+.5,{easing:"outCubic",duration:A})}}),e.scrollTo(0,0),r.style.overflow=s.style.overflow="hidden"},K=function(){var e,t,n,i,s,a,o,c,p,u,h,d=r.clientHeight,f=At();for(c=0,p=ot.length;p>c;c++)for(e=ot[c],t=e.element,n=e.anchorTarget,i=e.keyFrames,s=0,a=i.length;a>s;s++)o=i[s],u=o.offset,h=f[o.constant]||0,o.frame=u,o.isPercentage&&(u*=d,o.frame=u),"relative"===o.mode&&(rt(t),o.frame=at.relativeToAbsolute(n,o.anchors[0],o.anchors[1])-u,rt(t,!0)),o.frame+=h,pt&&!o.isEnd&&o.frame>Nt&&(Nt=o.frame);for(Nt=l.max(Nt,Pt()),c=0,p=ot.length;p>c;c++){for(e=ot[c],i=e.keyFrames,s=0,a=i.length;a>s;s++)o=i[s],h=f[o.constant]||0,o.isEnd&&(o.frame=Nt-o.offset+h);e.keyFrames.sort(jt)}},X=function(e,t){for(var n=0,i=ot.length;i>n;n++){var r,s,l=ot[n],c=l.element,p=l.smoothScrolling?e:t,u=l.keyFrames,h=u.length,d=u[0],w=u[u.length-1],y=p<d.frame,b=p>w.frame,_=y?d:w,k=l.emitEvents,x=l.lastFrameIndex;if(y||b){if(y&&-1===l.edge||b&&1===l.edge)continue;switch(y?(It(c,[m],[v,g]),k&&x>-1&&(Ct(c,d.eventType,Bt),l.lastFrameIndex=-1)):(It(c,[v],[m,g]),k&&h>x&&(Ct(c,w.eventType,Bt),l.lastFrameIndex=h)),l.edge=y?-1:1,l.edgeStrategy){case"reset":rt(c);continue;case"ease":p=_.frame;break;default:case"set":var C=_.props;for(r in C)o.call(C,r)&&(s=it(C[r].value),0===r.indexOf("@")?c.setAttribute(r.substr(1),s):a.setStyle(c,r,s));continue}}else 0!==l.edge&&(It(c,[f,g],[m,v]),l.edge=0);for(var T=0;h-1>T;T++)if(p>=u[T].frame&&p<=u[T+1].frame){var A=u[T],P=u[T+1];for(r in A.props)if(o.call(A.props,r)){var S=(p-A.frame)/(P.frame-A.frame);S=A.props[r].easing(S),s=nt(A.props[r].value,P.props[r].value,S),s=it(s),0===r.indexOf("@")?c.setAttribute(r.substr(1),s):a.setStyle(c,r,s)}k&&x!==T&&("down"===Bt?Ct(c,A.eventType,Bt):Ct(c,P.eventType,Bt),l.lastFrameIndex=T);break}}},J=function(){qt&&(qt=!1,Tt());var e,t,i=at.getScrollTop(),r=Lt();if(dt)r>=dt.endTime?(i=dt.targetTop,e=dt.done,dt=n):(t=dt.easing((r-dt.startTime)/dt.duration),i=0|dt.startTop+t*dt.topDiff),at.setScrollTop(i,!0);else if(!vt){var s=gt.targetTop-i;s&&(gt={startTop:Dt,topDiff:i-Dt,targetTop:i,startTime:Mt,endTime:Mt+mt}),r<=gt.endTime&&(t=Y.sqrt((r-gt.startTime)/mt),i=0|gt.startTop+t*gt.topDiff)}if(Ut&&lt&&a.setStyle(lt,"transform","translate(0, "+-Rt+"px) "+yt),vt||Dt!==i){Bt=i>Dt?"down":Dt>i?"up":Bt,vt=!1;var o={curTop:i,lastTop:Dt,maxTop:Nt,direction:Bt},l=ct.beforerender&&ct.beforerender.call(at,o);l!==!1&&(X(i,at.getScrollTop()),Dt=i,ct.render&&ct.render.call(at,o)),e&&e.call(at,!1)}Mt=r},Q=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var i,r,s,a,o=e.keyFrames[t],l={};null!==(a=N.exec(o.props));)s=a[1],r=a[2],i=s.match(O),null!==i?(s=i[1],i=i[2]):i=k,r=r.indexOf("!")?Z(r):[r.slice(1)],l[s]={value:r,easing:Y[i]};o.props=l}},Z=function(e){var t=[];return z.lastIndex=0,e=e.replace(z,function(e){return e.replace(M,function(e){return 100*(e/255)+"%"})}),U&&(q.lastIndex=0,e=e.replace(q,function(e){return U+e})),e=e.replace(M,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},et=function(e){var t,n,i={};for(t=0,n=e.keyFrames.length;n>t;t++)tt(e.keyFrames[t],i);for(i={},t=e.keyFrames.length-1;t>=0;t--)tt(e.keyFrames[t],i)},tt=function(e,t){var n;for(n in t)o.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},nt=function(e,t,n){var i,r=e.length;if(r!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];for(i=1;r>i;i++)s[i]=e[i]+(t[i]-e[i])*n;return s},it=function(e){var t=1;return H.lastIndex=0,e[0].replace(H,function(){return e[t++]})},rt=function(e,t){e=[].concat(e);for(var n,i,r=0,s=e.length;s>r;r++)i=e[r],n=ot[i[E]],n&&(t?(i.style.cssText=n.dirtyStyleAttr,It(i,n.dirtyClassAttr)):(n.dirtyStyleAttr=i.style.cssText,n.dirtyClassAttr=St(i),i.style.cssText=n.styleAttr,It(i,n.classAttr)))},st=function(){yt="translateZ(0)",a.setStyle(lt,"transform",yt);var e=c(lt),t=e.getPropertyValue("transform"),n=e.getPropertyValue(U+"transform"),i=t&&"none"!==t||n&&"none"!==n;i||(yt="")};a.setStyle=function(e,t,n){var i=e.style;if(t=t.replace(B,D).replace("-",""),"zIndex"===t)i[t]=isNaN(n)?n:""+(0|n);else if("float"===t)i.styleFloat=i.cssFloat=n;else try{F&&(i[F+t.slice(0,1).toUpperCase()+t.slice(1)]=n),i[t]=n}catch(r){}};var at,ot,lt,ct,pt,ut,ht,dt,ft,mt,gt,vt,wt,yt,bt,_t=a.addEvent=function(t,n,i){var r=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),i.call(this,t)};n=n.split(" ");for(var s,a=0,o=n.length;o>a;a++)s=n[a],t.addEventListener?t.addEventListener(s,i,!1):t.attachEvent("on"+s,r),Vt.push({element:t,name:s,listener:i})},kt=a.removeEvent=function(e,t,n){t=t.split(" ");for(var i=0,r=t.length;r>i;i++)e.removeEventListener?e.removeEventListener(t[i],n,!1):e.detachEvent("on"+t[i],n)},xt=function(){for(var e,t=0,n=Vt.length;n>t;t++)e=Vt[t],kt(e.element,e.name,e.listener);Vt=[]},Ct=function(e,t,n){ct.keyframe&&ct.keyframe.call(at,e,t,n)},Tt=function(){var e=at.getScrollTop();Nt=0,pt&&!Ut&&(s.style.height=""),K(),pt&&!Ut&&(s.style.height=Nt+r.clientHeight+"px"),Ut?at.setScrollTop(l.min(at.getScrollTop(),Nt)):at.setScrollTop(e,!0),vt=!0},At=function(){var e,t,n=r.clientHeight,i={};for(e in ut)t=ut[e],"function"==typeof t?t=t.call(at):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),i[e]=t;return i},Pt=function(){var e=lt&&lt.offsetHeight||0,t=l.max(e,s.scrollHeight,s.offsetHeight,r.scrollHeight,r.offsetHeight,r.clientHeight);return t-r.clientHeight},St=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},It=function(t,i,r){var s="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[s],s="baseVal"),r===n)return t[s]=i,void 0;for(var a=t[s],o=0,l=r.length;l>o;o++)a=$t(a).replace($t(r[o])," ");a=Et(a);for(var c=0,p=i.length;p>c;c++)-1===$t(a).indexOf($t(i[c]))&&(a+=" "+i[c]);t[s]=Et(a)},Et=function(e){return e.replace(L,"")},$t=function(e){return" "+e+" "},Lt=Date.now||function(){return+new Date},jt=function(e,t){return e.frame-t.frame},Nt=0,Ot=1,Bt="down",Dt=-1,Mt=Lt(),Ht=0,zt=0,qt=!1,Ft=0,Ut=!1,Rt=0,Vt=[];"function"==typeof define&&define.amd?define("skrollr",function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:e.skrollr=a}(window,document),function(){var e,t;e=$("html"),t=function(){function t(e){this.element=$("<div class=parsec-container/>"),null!=e.cards&&(this.cards=e.cards),null!=e.templates&&(this.templates=e.templates),null!=e.title&&(this.title=e.title),this["class"]=e["class"],this["class"]&&this.element.addClass(this["class"]),this.chapter_type=e.chapter_type||"CHAPTERS",this.ad_values=e.ad_values||{},this.chapters={indices:{},functions:{},images:{}},this.show_chapters=null!=e.show_chapters?e.show_chapters:!0,null!=e.nav_class?null!=e.nav_class&&(this.nav_class=e.nav_class):null!=e["class"]&&(this.nav_class=e["class"]),this.id=e.id,this.post_id=e.post_id,null!=e.series&&(this.series=e.series),null!=e.author&&(this.author=e.author),null!=e.wp_author_id&&(this.wp_author_id=e.wp_author_id),null!=e.navigation_type&&(this.navigation_type=e.navigation_type),null!=e.navigation_order&&(this.navigation_order=e.navigation_order),null!=e.version&&(this.version=e.version),null!=e.code_version&&(this.code_version=e.code_version),null!=e.series_id&&(this.series_id=e.series_id),$(this.el).append(this.element)}return t.prototype.el="#parsec",t.Versions=[],t.fromData=function(e){var n,i,r,s,a,o,l;for(i={},null!=e.title&&(i.title=e.title,window.document.title=i.title),l=["id","post_id","ad_values","show_chapters","wp_author_id","author","navigation_type","navigation_order","version","series_id","code_version","chapters"],a=0,o=l.length;o>a;a++)r=l[a],i[r]=e[r];return null==e.cards&&(e.cards=[]),e.code_version||(e.code_version=0),i["class"]=e.klass,i.cards=function(){var t,i,r,s;for(r=e.cards,s=[],t=0,i=r.length;i>t;t++)n=r[t],s.push(App.Parsec.Cards.Card.fromData(n));return s}(),e.templates&&(i.templates=function(){var t,n,i,r;for(i=e.templates,r=[],t=0,n=i.length;n>t;t++)s=i[t],r.push(App.Parsec.Template.fromData(s));return r}()),i.templates||(i.templates=[]),e.chapter_type&&(i.chapter_type=e.chapter_type),new t.Versions[e.code_version](i)},t.prototype.fromTemplates=function(){var e,t;return this.templates.length<1?this.cards:e=function(){var e,n,i,r;for(i=this.templates,r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push(t.generate());return r}.call(this)},t.prototype.toJSON=function(){var e,t,n,i,r,s,a;for(t={},t.title=this.title,t.cards=function(){var t,n,i,r;for(i=this.cards,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.toJSON());return r}.call(this),t.templates=function(){var e,t,n,r;for(n=this.templates||[],r=[],e=0,t=n.length;t>e;e++)i=n[e],r.push(i.toJSON());return r}.call(this),a=["id","post_id","ad_values","show_chapters","wp_author_id","author","navigation_type","navigation_order","version","series_id","code_version","chapters"],r=0,s=a.length;s>r;r++)n=a[r],t[n]=this[n];return t.klass=this["class"],t},t.prototype.render=function(){var e,t,n,i;for(i=this.cards,t=0,n=i.length;n>t;t++)e=i[t],this.element.append(e.element),e.display()&&e.render();return this.rendered||this.render_nav(),this.resize(),$(window).on("resize",$.proxy(this.resize,this)),omni({page_number:1,page_type:"Standard"}),$(this.el).find(".social-shares").length>0&&window.activateShareButtons(".social-shares"),$(this.el).find("#newsletter-signup").length>0&&new App.NewsletterSignupView,this.rendered=!0,this.move_to_fragment()},t.prototype.move_to_fragment=function(){var e,t;return window.location.hash&&(t=window.location.hash.match(/chapter=((?:\w+|-)+)/)[1],t&&(e=_.find(this.cards,function(e){return null!=e.chapter_fragment?t===e.chapter_fragment:void 0})),null!=e)?this.scroll_to_function(e.chapter)():void 0},t.prototype.extract_chapters=function(){var t,n,i,r,s;for(this.current_chapter=1,s=this.cards,n=i=0,r=s.length;r>i;n=++i)t=s[n],t.chapter&&(this.chapters.indices[t.chapter]=n,this.chapters.images[t.chapter]=t.chapter_image,this.chapters.functions[t.chapter]=$.proxy(this.scroll_to_function(t.chapter),this));return e.trigger("chapters-extracted")},t.prototype.render_nav=function(){return null==this.series&&this.extract_chapters(),App.LongformNav.render(this.title||"",$(this.el).data("fancyShares"),this.chapters.functions,this.chapter_type,this.series,{"class":this.nav_class,post_id:this.post_id}),this.ad_values.nav_url&&this.ad_values.nav_img&&App.LongformNav.activateSponsorLink(this.ad_values.nav_url,this.ad_values.nav_img),App.LongformNav.activateChapterDropdown(this.show_chapters)},t.prototype.set_chapter_offsets=function(){var e,t,n,i;this._chapter_offsets=[],n=this.chapters.indices,i=[];for(e in n)t=n[e],i.push(this._chapter_offsets.push(this.cards[t].element.offset().top));return i},t.prototype.scroll_to_function=function(e){var t=this;return function(){return t.current_chapter=t.chapters[e]+1,t._setting_chapter=!0,null!=App.Parsec.skrollr?App.Parsec.skrollr.animateTo(t.cards[t.chapters.indices[e]].element.position().top-App.Parsec.header_height,{done:function(){return t._setting_chapter=!1}}):$("body").animate({scrollTop:t.cards[t.chapters.indices[e]].element.position().top-App.Parsec.header_height}),window.location.hash="chapter="+e.toLowerCase().replace(/\ /,"-")}},t.prototype.check_and_send_omniture=function(e,t){return this._prev_offset||(this._prev_offset=0),this._page_number||(this._page_number=1),window.pageLoaded||(window.pageLoaded=!0),e>this._prev_offset+3*t?(this._prev_offset=this._prev_offset+3*t,this._page_number+=1,omni({page_number:this._page_number,page_type:"Longform"}),window._gaq.push(["_trackPageview"])):void 0},t.prototype.width=function(){return this._width||(this._width=this.element.width())},t.prototype.height=function(){return this._height||(this._height=this.element.height())},t.prototype.viewport_height=function(){return this._viewport_height||(this._viewport_height=$(window).height())},t.prototype.resize=function(){var e,t,n,i;for(delete this._height,delete this._width,delete this._viewport_height,App.Parsec.document_width=$(document).width(),App.Parsec.loadBounds=[],i=this.cards,t=0,n=i.length;n>t;t++)e=i[t],e.resize();return this.set_chapter_offsets(),null!=App.Parsec.skrollr&&App.Parsec.skrollr.refresh(),this.scrolled?void 0:this.move_to_fragment()},t.prototype.skrollrCallback=function(e){var t,n,i,r;if(this.scrolled=!0,!this._setting_chapter){for(r=App.Parsec.loadBounds,n=0,i=r.length;i>n;n++)t=r[n],"down"===e.direction?e.curTop>t[3]?t[4].unload():e.curTop>t[1]&&t[4].load():"up"===e.direction&&(e.curTop<t[0]?t[4].unload():e.curTop<t[2]&&t[4].load());if(null!=this._chapter_offsets)if("down"===e.direction){if(this.check_and_send_omniture(e.curTop,this.viewport_height()),this.current_chapter<this._chapter_offsets.length&&e.curTop>=this._chapter_offsets[this.current_chapter]-App.Parsec.header_height)return this.current_chapter+=1,App.LongformNav.setChapter(this.current_chapter)}else if("up"===e.direction&&this.current_chapter>1&&e.curTop<=this._chapter_offsets[this.current_chapter-1]-App.Parsec.header_height)return this.current_chapter-=1,App.LongformNav.setChapter(this.current_chapter)}},t}(),App.Parsec.ParsecContainer=t,App.Parsec.ParsecContainer.Versions[0]=t}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){var n=this;t.__super__.constructor.call(this,e),null!=e.chapters&&(this.chapters=e.chapters),this.isEdit()||(this.loading=new App.LoadingIndicator),App.Parsec.touch&&$(window).on("scroll",function(){return n.mobileScroll()})}return n(t,e),t.prototype.render=function(){return this.loading.loading(!0),t.__super__.render.call(this),$("#parsec").after(this.loading.$el)},t.prototype.render_nav=function(){return null==this.series&&this.extract_chapters(),App.LongformNav.render(this.title||"",$(this.el).data("fancyShares"),this.chapter_functions,this.chapter_type,this.series,{"class":this.nav_class,post_id:this.post_id}),this.ad_values.nav_url&&this.ad_values.nav_img&&App.LongformNav.activateSponsorLink(this.ad_values.nav_url,this.ad_values.nav_img),App.LongformNav.activateChapterDropdown(this.show_chapters)},t.prototype.scroll_to_function=function(e){var t=this;return function(){var n,i;return e=t.chapters[e],n=parseInt(e.index),i=function(){return n+1<=t.cards.length?(t._setting_chapter=!0,null!=App.Parsec.skrollr?App.Parsec.skrollr.animateTo(t.cards[e.index].element.position().top-App.Parsec.header_height,{done:function(){return t._setting_chapter=!1}}):$("body").animate({scrollTop:t.cards[e.index].element.position().top-App.Parsec.header_height}),window.location.hash="chapter="+e.title.toLowerCase().replace(/\ /,"-")):t.loadContent(i)},i()}},t.prototype.extract_chapters=function(){var e,t,n,i;this.chapter_functions={},n=this.chapters,i=[];for(e in n)t=n[e],i.push(this.chapter_functions[e]=$.proxy(this.scroll_to_function(e),this));return i},t.prototype.skrollrCallback=function(e){var n;return t.__super__.skrollrCallback.call(this,e),n=$("body"),!this.isEdit()&&this.loading.isLoading&&n.scrollTop()+n.height()>this.loading.$el.offset().top?this.loadContent():void 0},t.prototype.mobileScroll=function(){var e;return e=$("body"),!this.isEdit()&&this.loading.isLoading&&e.scrollTop()+e.height()>this.loading.$el.offset().top?this.loadContent():void 0},t.prototype.isPreview=function(){return this._isPreview||(this._isPreview=_.isEqual(/([a-z]+)\/([a-z]+)(?:\/([a-z]+))*/.exec($("body").data("jsid")).slice(1),["parsec","posts","show"]))},t.prototype.isEdit=function(){return this._isEdit||(this._isEdit=_.isEqual(/([a-z]+)\/([a-z]+)(?:\/([a-z]+))*/.exec($("body").data("jsid")).slice(1),["parsec","posts","edit"]))},t.prototype.loadContent=function(e){var t=this;if(!this.isEdit()&&!this.loadingContent&&this.loading.isLoading)return this.loadingContent=!0,this.page||(this.page=1),this.isPreview()?$.get("/builder/"+this.id+".json",{page:this.page+1},function(n){var i,r,s,a,o,l,c,p,u;if(!(n.templates.length>0))return t.loading.loading(!1),t.loadingContent=!1;for(o=function(){var e,t,i,r;for(i=n.templates,r=[],e=0,t=i.length;t>e;e++)s=i[e],r.push(App.Parsec.Template.fromData(s));return r}(),(p=t.templates).push.apply(p,o),r=function(){var e,t,n;for(n=[],e=0,t=o.length;t>e;e++)a=o[e],n.push(a.generate());return n}(),(u=t.cards).push.apply(u,r),$("#parsec .parsec-container").append(function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)i=r[e],n.push(i.element);return n}()),l=0,c=r.length;c>l;l++)i=r[l],i.render();return t.page+=1,t.loadingContent=!1,null!=e?e():void 0}):$.get("/parsec/"+this.id+".json",{page:this.page+1},function(n){var i,r,s,a,o;if(!(n.cards.length>0))return t.loading.loading(!1),t.loadingContent=!1;for(r=function(){var e,t,r,s;for(r=n.cards,s=[],e=0,t=r.length;t>e;e++)i=r[e],s.push(App.Parsec.Cards.Card.fromData(i));return s}(),(o=t.cards).push.apply(o,r),$("#parsec .parsec-container").append(function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)i=r[e],n.push(i.element);return n}()),s=0,a=r.length;a>s;s++)i=r[s],i.render();return t.page+=1,t.loadingContent=!1,null!=e?e():void 0})},t.prototype.move_to_fragment=function(){var e,t;return window.location.hash&&(t=window.location.hash.match(/chapter=((?:\w+|-)+)/)[1],t&&(e=_.find(this.chapters,function(e){return null!=e.fragment?t===e.fragment:void 0}),null!=e))?this.scroll_to_function(e.title)():void 0},t}(App.Parsec.ParsecContainer.Versions[0]),App.Parsec.ParsecContainer.Versions[1]=e}.call(this),function(){var e;App.Parsec||(App.Parsec={}),e=function(){function e(e){null!=e.title&&(this.title=e.title),null!=e.breakpoint&&(this.breakpoint=e.breakpoint),null!=e.id&&(this.id=e.id),null!=e["class"]&&(this["class"]=e["class"]),null!=e.chapter&&(this.chapter=e.chapter),null!=e.chapter_image&&(this.chapter_image=e.chapter_image),null!=this.chapter&&(this.chapter_fragment=this.chapter.toLowerCase().replace(/\ /g,"-")),null!=e.height_style&&(this.height_style=e.height_style),this.element=$("<div class=parsec-card/>"),this.element.attr("id",this.chapter_fragment),null!=e.blocks&&(this.blocks=e.blocks),App.Parsec.touch||this.element.on("DOMMouseScroll mousewheel",$.proxy(this.scroll,this))}return e.Versions=[],e.fromData=function(t){var n,i,r,s,a,o,l,c;for(a=function(){switch(t._type){case"Parsec::LongCard":return App.Parsec.Cards.LongCard;case"Parsec::StretchCard":return App.Parsec.Cards.StretchCard;case"Parsec::CenterCard":return App.Parsec.Cards.CenterCard;case"Parsec::ColumnCard":return App.Parsec.Cards.ColumnCard;case"Parsec::WrapCard":return App.Parsec.Cards.WrapCard;case"Parsec::BackgroundCard":return App.Parsec.Cards.BackgroundCard;default:return e}}(),t.version||(t.version=0),r={},r["class"]=t.klass,c=["chapter","chapter_image","height_style","margin","gutter","columns","primary_column","transitions","static_fallback","text_over"],o=0,l=c.length;l>o;o++)s=c[o],r[s]=t[s];return a===App.Parsec.Cards.StretchCard&&(r.cards=function(){var n,r,s,a;for(s=t.cards,a=[],n=0,r=s.length;r>n;n++)i=s[n],a.push(e.fromData(i));return a}()),(a===App.Parsec.Cards.StretchCard||a===App.Parsec.Cards.BackgroundCard)&&(r.background=t.background),a===App.Parsec.Cards.ColumnCard&&(t.secondary_blocks||(t.secondary_blocks=[]),r.secondary_blocks=function(){var e,i,r,s;for(r=t.secondary_blocks,s=[],e=0,i=r.length;i>e;e++)n=r[e],s.push(App.Parsec.Blocks.Block.fromData(n));return s}()),t.blocks||(t.blocks=[]),r.blocks=function(){var e,i,r,s;for(r=_.toArray(t.blocks),s=[],e=0,i=r.length;i>e;e++)n=r[e],s.push(App.Parsec.Blocks.Block.fromData(n));return s}(),r.breakpoint=t.breakpoint,new a.Versions[t.version](r)},e.prototype.toJSON=function(){var e,t,n,i,r,s;for(t={},t._type=function(){switch(this.constructor){case App.Parsec.Cards.LongCard:return"Parsec::LongCard";case App.Parsec.Cards.StretchCard:return"Parsec::StretchCard";case App.Parsec.Cards.CenterCard:return"Parsec::CenterCard";case App.Parsec.Cards.ColumnCard:return"Parsec::ColumnCard";case App.Parsec.Cards.WrapCard:return"Parsec::WrapCard";case App.Parsec.Cards.BackgroundCard:return"Parsec::BackgroundCard";default:return"Parsec::Card"}}.call(this),s=["chapter","chapter_image","height_style","margin","gutter","columns","primary_column","transitions","static_fallback","text_over"],i=0,r=s.length;r>i;i++)n=s[i],t[n]=this[n];return t.klass=this["class"],t.breakpoint=this.breakpoint,t.blocks=function(){var t,n,i,r;for(i=this.blocks,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.toJSON());return r}.call(this),t},e.prototype.render=function(){var e,t,n,i;for(null!=this.id&&this.element.attr("id",this.id),null!=this["class"]&&this.element.addClass(this["class"]),i=this.blocks,t=0,n=i.length;n>t;t++)e=i[t],this.element.append(e.element),e.render();return this.present=!0},e.prototype.display=function(){var e;return e=!0,this.breakpoint&&(this.breakpoint.features&&(this.breakpoint.features.touch===!1?App.Parsec.touch&&(e=!1):this.breakpoint.features.no_touch===!1&&(App.Parsec.touch||(e=!1))),this.breakpoint.resolutions&&(this.breakpoint.resolutions.minimum&&(e=e&&App.Parsec.document_width>=this.breakpoint.resolutions.minimum),this.breakpoint.resolutions.maximum&&(e=e&&App.Parsec.document_width<this.breakpoint.resolutions.maximum))),e},e.prototype.blocks=[],e.prototype.title="Card",e.prototype.parent=null,e.prototype.height_style="",e.prototype.height=function(){return this._height||(this._height=this.element.height())},e.prototype.width=function(){return this._width||(this._width=this.element.width())},e.prototype.derender=function(){return null!=this.id&&this.element.removeAttr("id"),null!=this["class"]&&this.element.removeClass(this["class"]),this.element.empty(),this.present=!1},e.prototype.render_or_derender=function(){var e;e=this.display(),!this.present&&e&&(this.render(),this.element.removeClass("ghost-card")),this.present&&!e&&(this.derender(),this.element.addClass("ghost-card")),this.present||e||this.element.addClass("ghost-card")},e.prototype.resize=function(){var e,t,n,i,r,s,a,o;for(this.render_or_derender(),delete this._height,delete this._width,this.present?"viewport"===this.height_style?(this._height=$(window).height(),this.element.height(this._height)):"half_viewport"===this.height_style?(this._height=$(window).height()/2,this.element.height(this._height)):"maximum_interior_viewport"===this.height_style?(i=$(window).height(),n=function(){var e,n,i,r;for(i=this.element.children(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push($(t).outerHeight(!0));return r}.call(this).reduce(function(e,t){return e+t}),this._height=Math.max(n,i),this.element.height(this._height)):"maximum_interior_half_viewport"===this.height_style?(i=$(window).height(),n=function(){var e,n,i,r;for(i=this.element.children(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push($(t).outerHeight(!0));return r}.call(this).reduce(function(e,t){return e+t}),this._height=Math.max(n,i/2),this.element.height(this._height)):"minimum_interior_viewport"===this.height_style?(i=$(window).height(),n=function(){var e,n,i,r;for(i=this.element.children(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push($(t).outerHeight(!0));return r}.call(this).reduce(function(e,t){return e+t}),this._height=Math.min(n,i),this.element.height(this._height)):"interior"===this.height_style&&(this._height=function(){var e,n,i,r;for(i=this.element.children(),r=[],e=0,n=i.length;n>e;e++)t=i[e],r.push($(t).outerHeight(!0));return r}.call(this).reduce(function(e,t){return e+t}),this.element.height(this._height)):this.element.height(0),a=this.blocks,o=[],r=0,s=a.length;s>r;r++)e=a[r],o.push(e.resize());return o},e}(),App.Parsec.Cards={},App.Parsec.Cards.Card=e,App.Parsec.Cards.Card.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),null!=e.static_fallback&&(this.static_fallback=e.static_fallback),this.element.addClass("background-card"),this.background=e.background,this.height_style=e.height_style||"viewport",this.text_over=e.text_over}return n(t,e),t.Versions=[],t.prototype.static_fallback=!1,t.prototype.toJSON=function(){var e;return e=t.__super__.toJSON.call(this),e.background=this.background,e},t.prototype.render=function(){var e,t,n,i;for(null!=this.background&&this.element.css({"background-image":"url("+this.background+")"}),null!=this["class"]&&this.element.addClass(this["class"]),i=this.blocks,t=0,n=i.length;n>t;t++)e=i[t],this.element.append(e.element),e.render();return this.present=!0},t.prototype.resize=function(){var e,n,i,r;if(this.static_fallback){if(this.width()>=768)return t.__super__.resize.call(this),this.element.css({"background-image":"url("+this.background+")"});for(this.render_or_derender(),delete this._height,delete this._width,r=this.blocks,n=0,i=r.length;i>n;n++)e=r[n],e.resize();return this.element.css({"background-image":"none",height:""})}return this.text_over?t.__super__.resize.call(this):(t.__super__.resize.call(this),this.blocks.length>0?this.width()>=768?(this.blocks[0].element.css({top:""}),this.element.css({"margin-bottom":""})):(this.blocks[0].element.css({top:this.height()}),this.element.css({"margin-bottom":function(){var t,n,i,r;for(i=this.blocks,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.height());return r}.call(this).reduce(function(e,t){return e+t})})):void 0)},t}(App.Parsec.Cards.Card),App.Parsec.Cards.BackgroundCard=e,App.Parsec.Cards.BackgroundCard.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),this.element.addClass("center-card")}return n(t,e),t.Versions=[],t.prototype.resize=function(){return t.__super__.resize.call(this),this.blocks.length>0?this.blocks[0].element.css({top:this.height()/2-this.blocks[0].height()/2}):void 0},t}(App.Parsec.Cards.Card),App.Parsec.Cards.CenterCard=e,App.Parsec.Cards.CenterCard.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),this.element.addClass("column-card"),null!=e.columns&&(this.columns=e.columns),null!=e.margin&&(this.margin=e.margin),null!=e.gutter&&(this.gutter=e.gutter),null!=e.secondary_blocks&&(this.secondary_blocks=e.secondary_blocks)
}return n(t,e),t.Versions=[],t.prototype.toJSON=function(){var e,n;return n=t.__super__.toJSON.call(this),n.secondary_blocks=function(){var t,n,i,r;for(i=this.secondary_blocks,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.toJSON());return r}.call(this),n},t.prototype.columns=[1],t.prototype.gutter="30",t.prototype.margin="0.2",t.prototype.secondary_blocks=[],t.prototype.primary_column=0,t.prototype.render=function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g;for(null!=this["class"]&&this.element.addClass(this["class"]),this.column_wrapper=$("<div class=parsec-column-wrapper />").appendTo(this.element),this.column_elements=[],h=this.columns,a=0,p=h.length;p>a;a++)t=h[a],n=$("<div class=parsec-column />").appendTo(this.column_wrapper),this.column_elements.push(n);for(d=this.blocks,o=0,u=d.length;u>o;o++)e=d[o],this.column_elements[this.primary_column].append(e.element),e.render();for(i=1,r=l=0,f=this.secondary_blocks.length,m=this.blocks.length;m>0?f>l:l>f;r=l+=m){for(s=c=0,g=this.blocks.length;g>=0?g>c:c>g;s=g>=0?++c:--c)e=this.secondary_blocks[r+s],this.column_elements[i].append(e.element),e.render();i+=1}return this.rendered=!0,this.resize(!1),this.present=!0},t.prototype.resize=function(e){var t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v;if((null!=e&&e||null==e)&&this.render_or_derender(),delete this._width,this.rendered){for(o=this.margin*this.width(),l=2*o,n=this.width()-l,r=this.gutter*(this.columns.length-1),i=n-r,this.element.css({"padding-left":o,"padding-right":o}),s=c=0,d=this.columns.length-1;d>=0?d>=c:c>=d;s=d>=0?++c:--c)this.column_elements[s].width(this.columns[s]*i),s<this.columns.length-1&&this.column_elements[s].css({"margin-right":""+this.gutter+"px"});for(f=this.blocks,p=0,h=f.length;h>p;p++)t=f[p],t.resize();for(v=[],s=u=0,m=this.secondary_blocks.length,g=this.blocks.length;g>0?m>u:u>m;s=u+=g)v.push(function(){var e,n,i;for(i=[],a=e=0,n=this.blocks.length;n>=0?n>e:e>n;a=n>=0?++e:--e)t=this.secondary_blocks[s+a],t.element.css({position:"absolute",width:"inherit"}),i.push(t.element.css({y:this.blocks[a].element.position().top+this.blocks[a].height()-t.height()}));return i}.call(this));return v}},t}(App.Parsec.Cards.Card),App.Parsec.Cards.ColumnCard=e,App.Parsec.Cards.ColumnCard.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),this.element.addClass("long-card")}return n(t,e),t.Versions=[],t.prototype.resize=function(){var e,t,n,i,r;for(this.render_or_derender(),delete this._height,delete this._width,i=this.blocks,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.resize());return r},t}(App.Parsec.Cards.Card),App.Parsec.Cards.LongCard=e,App.Parsec.Cards.LongCard.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){this.cards=e.cards,t.__super__.constructor.call(this,e),this.element.addClass("stretch-card"),this.background=e.background,null!=e.transitions&&(this.transitions=e.transitions)}return n(t,e),t.Versions=[],t.prototype.toJSON=function(){var e,n;return n=t.__super__.toJSON.call(this),n.background=this.background,n.cards=function(){var t,n,i,r;for(i=this.cards,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.toJSON());return r}.call(this),n},t.prototype.render=function(){var e,t,n,i,r,s,a,o,l,c;for(null!=this.cards&&this.cards.length>0&&(this.subcard_container=$("<div class=parsec-subcard-container/>"),this.element.append(this.subcard_container)),l=this.cards,a=0,o=l.length;o>a;a++)e=l[a],this.subcard_container.append(e.element),e.render();if(null!=this.background&&(this.element.css("padding-top",0),this.subcard_container.css({"background-image":"url("+this.background+")"}),this.subcard_container.attr({"data-top-top":"background-position-y:0%;","data-bottom-bottom":"background-position-y:100%;"}),null!=this.transitions)){c=this.transitions;for(r in c){s=c[r];for(i in s)n=s[i],t=this.element.attr("data-"+i),null==t&&(t=""),this.element.attr("data-"+i,""+t+r+":"+n+";")}}return null!=this.id&&this.element.attr("id",this.id),null!=this["class"]&&this.element.addClass(this["class"]),this.element.wrap("<div class=stretch-card-wrapper style=background:black; />"),this.present=!0},t.prototype.cards=[],t.prototype.resize=function(){var e,t,n,i,r;for(this.render_or_derender(),delete this._height,delete this._width,i=this.cards,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.resize());return r},t}(App.Parsec.Cards.Card),App.Parsec.Cards.StretchCard=e,App.Parsec.Cards.StretchCard.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),this.element.addClass("wrap-card")}return n(t,e),t.Versions=[],t.prototype.resize=function(){var e,t,n,i,r;for(this.render_or_derender(),delete this._height,delete this._width,i=this.blocks,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.resize());return r},t.prototype.render=function(){var e,t,n,i;for(null!=this.id&&this.element.attr("id",this.id),null!=this["class"]&&this.element.addClass(this["class"]),this.wrap=$("<div class=wrap />").appendTo(this.element),i=this.blocks,t=0,n=i.length;n>t;t++)e=i[t],this.wrap.append(e.element),e.render();return this.present=!0},t}(App.Parsec.Cards.Card),App.Parsec.Cards.WrapCard=e,App.Parsec.Cards.WrapCard.Versions[0]=e}.call(this),function(){var e,t;e=$("html"),t=function(){function e(e){this.element=$("<div class=parsec-block/>"),null!=e["class"]&&(this["class"]=e["class"]),null!=this["class"]&&this.element.addClass(this["class"]),null!=e.transitions&&(this.transitions=e.transitions)}return e.Versions=[],e.fromData=function(t){var n,i,r,s,a,o;for(r=function(){switch(t._type){case"Parsec::ImageBlock":return App.Parsec.Blocks.ImageBlock;case"Parsec::TextBlock":return App.Parsec.Blocks.TextBlock;case"Parsec::YoutubeBlock":return App.Parsec.Blocks.YoutubeBlock;case"Parsec::CerosBlock":return App.Parsec.Blocks.CerosBlock;case"Parsec::AdBlock":return App.Parsec.Blocks.AdBlock;case"Parsec::IframeBlock":return App.Parsec.Blocks.IframeBlock;case"Parsec::VideoBlock":return App.Parsec.Blocks.VideoBlock;case"Parsec::TOCBlock":return App.Parsec.Blocks.TOCBlock;default:return e}}(),n={},t.version||(t.version=0),n["class"]=t.klass,o=["url","content","transitions","videoId","trigger_point","autoplay","loop","sound","controls","pos","posts","sponsor","type","title","per_row","exclude_current","only_parsec","native_width","native_height"],s=0,a=o.length;a>s;s++)i=o[s],n[i]=t[i];return new r.Versions[t.version](n)},e.prototype.toJSON=function(){var e,t,n,i,r;for(e={},r=["url","content","transitions","videoId","trigger_point","autoplay","loop","sound","controls","pos","posts","sponsor","type","title","per_row","exclude_current","only_parsec","native_width","native_height"],n=0,i=r.length;i>n;n++)t=r[n],e[t]=this[t];return e.klass=this["class"],e._type=function(){switch(this.constructor){case App.Parsec.Blocks.ImageBlock:return"Parsec::ImageBlock";case App.Parsec.Blocks.TextBlock:return"Parsec::TextBlock";case App.Parsec.Blocks.YoutubeBlock:return"Parsec::YoutubeBlock";case App.Parsec.Blocks.CerosBlock:return"Parsec::CerosBlock";case App.Parsec.Blocks.AdBlock:return"Parsec::AdBlock";case App.Parsec.Blocks.IframeBlock:return"Parsec::IframeBlock";case App.Parsec.Blocks.VideoBlock:return"Parsec::VideoBlock";case App.Parsec.Blocks.TOCBlock:return"Parsec::TOCBlock";default:return"Parsec::Block"}}.call(this),e},e.prototype.render=function(){var e,t,n,i,r,s;if(null!=this.transitions){s=this.transitions;for(i in s){r=s[i];for(n in r)t=r[n],e=this.element.attr("data-"+n),null==e&&(e=""),this.element.attr("data-"+n,""+e+i+":"+t+";")}}return null!=App.Parsec.editor?this.edit():void 0},e.prototype.edit=function(){return this.element.on("click",function(){return console.log("unimplemented")})},e.prototype.height=function(){return this._height||(this._height=this.element.height())},e.prototype.width=function(){return this._width||(this._width=this.element.width())},e.prototype.resize=function(){return delete this._height,delete this._width},e.restrictions=[],e.prototype.blocks=[],e}(),App.Parsec.Blocks={},App.Parsec.Blocks.Block=t,App.Parsec.Blocks.Block.Versions[0]=t}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),this.pos=e.pos,this.posts=e.posts,this.sponsor=e.sponsor}return n(t,e),t.Versions=[],t.prototype.render=function(){return this.element.addClass("sponsor-ad-wrap").addClass(""+this.sponsor+"-"+this.pos),this.element.append(TripleClick.tripleclickAd("longform_banner",{posts:this.posts,pos:this.pos}))},t}(App.Parsec.Blocks.Block),App.Parsec.Blocks.AdBlock=e,App.Parsec.Blocks.AdBlock.Versions[0]=e}.call(this),function(){var e,t,n,i={}.hasOwnProperty,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=function(e){function t(e){t.__super__.constructor.call(this,e),this.url=e.url,this.element.addClass("parsec-iframe-block"),null!=e.width&&(this.setWidth=e.width),null!=e.height&&(this.setHeight=e.height),null!=e.native_width&&(this.native_width=e.native_width),null!=e.native_height&&(this.native_height=e.native_height)}return r(t,e),t.Versions=[],t.prototype.render=function(){return t.__super__.render.call(this)},t.prototype.triggerPoint="align_top",t.prototype.width=function(){var e;return this.setWidth?this.setWidth:(this._width||(this._width=$(window).width()),e=this.native_width&&this.native_height?parseInt(this.native_width):1024,this._width>e&&(this._width=e),this._width)},t.prototype.height=function(){var e;return this.setHeight?this.setHeight:(e=this.native_height&&this.native_width?parseFloat(this.native_height)/parseFloat(this.native_width):.75,this._height||(this._height=this.width()*e))},t.prototype.load=function(){return this.loaded?void 0:(this.iframe=$("<iframe src="+this.url+" width="+this.width()+" height="+this.height()+"/>").appendTo(this.element),this.loaded=!0)},t.prototype.unload=function(){},t.prototype.resize=function(){var e,t;return delete this._height,delete this._width,t=this.element.offset().top,e=[t-2*this.height(),t-this.height(),t+2*this.height(),t+3*this.height(),this],App.Parsec.loadBounds&&!App.Parsec.touch&&App.Parsec.loadBounds.push(e),App.Parsec.touch&&this.load(),this.loaded&&(this.iframe.height(this.height()),this.iframe.width(this.width())),this.native_height&&this.native_width?(this.element.css("width",this.width()),this.element.css("height","auto")):void 0},t}(App.Parsec.Blocks.Block),e=function(e){function t(){return n=t.__super__.constructor.apply(this,arguments)}return r(t,e),t.Versions=[],t}(t),App.Parsec.Blocks.IframeBlock=t,App.Parsec.Blocks.CerosBlock=e,App.Parsec.Blocks.CerosBlock.Versions[0]=e,App.Parsec.Blocks.IframeBlock.Versions[0]=t}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),null!=e.url&&(this.url=e.url),null!=e["class"]&&(this["class"]=e["class"]),null!=e.caption&&(this.caption=e.caption),null!=e.native_width&&(this.native_width=e.native_width),null!=e.native_height&&(this.native_height=e.native_height)}return n(t,e),t.Versions=[],t.prototype.render=function(){var e,n;return this.element.addClass("parsec-block-image"),null!=this["class"]&&this.element.addClass(this["class"]),n=$(document.createElement("img")),e=new Image,e.onload=$.proxy(function(){return n.attr("src",e.src),this._image_width=e.width,this._image_height=e.height,delete this._height,delete this._width,null!=App.Parsec.container?App.Parsec.container.resize():void 0},this),e.src=this.url?this.url:"",this.element.html(e),this.caption&&this.element.append("<div class=caption-wrap>"+this.caption+"</div>"),t.__super__.render.call(this)},t.prototype.height=function(){return this.native_width&&this.native_height?this._height||(this._height=this.width()*(parseFloat(this.native_height)/parseFloat(this.native_width))):t.__super__.height.call(this)},t.prototype.width=function(){var e;return this.native_width&&this.native_height?(this._width||(this._width=$(window).width()),e=parseInt(this.native_width),this._width>e&&(this._width=e),this._width):t.__super__.width.call(this)},t.prototype.resize=function(){return delete this._height,delete this._width,this.native_width&&this.native_height?(this.element.css("width",this.width()),this.element.css("height",this.height())):void 0},t}(App.Parsec.Blocks.Block),App.Parsec.Blocks.ImageBlock=e,App.Parsec.Blocks.ImageBlock.Versions[0]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=$("html"),t=function(t){function n(t){var i=this;n.__super__.constructor.call(this,t),this.type=t.type,this.per_row=t.per_row,this.exclude_current=t.exclude_current,this.only_parsec=t.only_parsec,this.title=t.title,this.element.addClass("toc-block"),e.on("chapters-extracted",function(){return i.render()})}return i(n,t),n.Versions=[],n.prototype.isTrue=function(e){return e===!0||"true"===e},n.prototype.render=function(){var e,t,n,i,r,s,a,o,l,c,p,u,h;for("internal"===this.type?o=_.size(App.Parsec.container.chapters.indices)>=1?function(){var t;t=[];for(e in App.Parsec.container.chapters.indices)t.push({image:App.Parsec.container.chapters.images[e],short_title:e});return t}():[{image:"http://lorempixel.com/400/200",short_title:"Example chapter"},{image:"http://lorempixel.com/400/200",short_title:"Example chapter 2"}]:(o=this.isTrue(this.only_parsec)?_.filter(App.Parsec.series.posts||[],function(e){return e.parsec}):App.Parsec.series.posts||[],this.isTrue(this.exclude_current)&&(o=_.filter(o,function(e){return e.parsec_id!==App.Parsec.container.id}))),s=parseInt(this.per_row),l="",n=u=0,h=o.length;h>u;n=++u)a=o[n],i=a.longform_toc_image||a.image||"",r=a.short_title||"",t=a.short_description||"",p=a.link||"",c="        <a class=post-wrap href='"+p+"'>          <img src='"+i+"'/>          <div class=post-title-wrap>            <div class=post-title-text>              <p class=name>"+r+"</p>            </div>            <div class=fill />          </div>        </a>      ",0===n%s&&(l+="<div class=selection-row>"),l+=c,(n%s===s-1||n===o.length-1)&&(l+="</div>");return l="<h2>"+this.title+"</h2><div class=selection-rows>"+l+"</div>",this.element.empty().html(l),"internal"===this.type?this.element.off("click","a.post-wrap").on("click","a.post-wrap",function(e){var t;return e.stopImmediatePropagation(),t=App.Parsec.container.chapters.functions[$(this).find(".name").text()],t&&t(),!1}):void 0},n}(App.Parsec.Blocks.Block),App.Parsec.Blocks.TOCBlock=t,App.Parsec.Blocks.TOCBlock.Versions[0]=t}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),null!=e.content&&(this.content=e.content)}return n(t,e),t.Versions=[],t.prototype.render=function(){return this.element.addClass("parsec-block-text"),this.element.html(this.content),t.__super__.render.call(this)},t}(App.Parsec.Blocks.Block),App.Parsec.Blocks.TextBlock=e,App.Parsec.Blocks.TextBlock.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),this.h264=e.h264,this.webm=e.webm,this.gif=e.gif}return n(t,e),t.Versions=[],t.prototype.render=function(){var e,t,n,i;return t=new Image,t.onload=$.proxy(function(){return image_element.attr("src",t.src),this._image_width=t.width,this._image_height=t.height,delete this._height,delete this._width,null!=App.Parsec.container?App.Parsec.container.resize():void 0},this),t.src=this.gif,App.Parsec.touch?this.element.empty().addClass("video-block").append($(t)):(n=$("<video autoplay muted loop />"),e=$('<source type="video/mp4" />').appendTo(n),e.attr("src",this.h264),i=$('<source type="video/webm" />').appendTo(n),i.attr("src",this.webm),$(t).appendTo(n),this.element.empty().addClass("video-block").append(n))},t}(App.Parsec.Blocks.Block),App.Parsec.Blocks.VideoBlock=e,App.Parsec.Blocks.VideoBlock.Versions[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(e){t.__super__.constructor.call(this,e),null!=e.videoId&&(this.videoId=e.videoId),null!=e.playlistId&&(this.playlistId=e.playlistId),null!=e.triggerPoint&&(this.triggerPoint=e.triggerPoint),null!=e.trigger_point&&(this.triggerPoint=e.trigger_point),null!=e.autoplay&&(this.autoplay=e.autoplay),null!=e.loop&&(this.loop=e.loop),null!=e.sound&&(this.sound=e.sound),null!=e.controls&&(this.controls=e.controls)}return n(t,e),t.Versions=[],t.prototype.render=function(){var e;return this.element.addClass("parsec-block-youtube"),this.image=$("<img>"),this.image.attr("src","http://img.youtube.com/vi/"+this.videoId+"/maxresdefault.jpg"),this.element.append(this.image),e=$("<div class=youtube-player id='player-"+this.videoId+"' />"),this.element.html(e),t.__super__.render.call(this),this.resize(),App.Parsec.touch?this.load():void 0},t.prototype.triggerPoint="align_top",t.prototype.autoplay=!0,t.prototype.resize=function(){var e;return delete this._width,delete this._height,this.loaded?(this.iframe().width(this.width()),this.iframe().height(this.height()),this.element.height(this.height())):null!=this.image&&(this.image.width(this.width()),this.image.height(this.height()),this.element.height(this.height())),e=this.element.offset().top,App.Parsec.loadBounds.push([e-4*this.height(),e-3*this.height(),e+3*this.height(),e+4*this.height(),this])},t.prototype.iframe=function(){return this._iframe||(this._iframe=this.element.find("iframe"))},t.prototype.width=function(){return this._width||(this._width=this.element.parent().width())},t.prototype.height=function(){return this._height||(this._height=this.width()*(9/16))},t.prototype.edit=function(){var e=this;return this.loaded?void 0:this.load(function(){return e.resize()})},t.prototype.load=function(e){var t,n;return t=$.proxy(function(){if(!this.loading){try{navigator.userAgent.match(/firefox/i)&&(this.image.parent().hasClass("ff-video-fix")||this.image.wrap("<a class='ff-video-fix' href='http://youtube.com/watch?v="+this.videoId+"' target='_blank'>"))}catch(t){}return this.loading=!0,this.player=new YT.Player("player-"+this.videoId,{width:this.width(),height:this.height(),videoId:this.videoId,playerVars:{controls:App.Parsec.touch||this.controls?1:0,rel:0,showinfo:0,modestbranding:App.Parsec.touch||!this.autoplay?0:1,loop:!App.Parsec.touch&&this.autoplay&&this.loop?1:0,playlist:!App.Parsec.touch&&this.autoplay&&this.loop?this.videoId:null},enablejsapi:1,events:{onReady:$.proxy(function(){return this.loaded=!0,this.loading=!1,this.image.transit({opacity:0},function(){return this.remove()}),e&&e(),!App.Parsec.touch&&this.autoplay?(this.sound||this.player.mute(),this.player.playVideo()):void 0},this)}})}},this),App.Parsec.YoutubeReady?t():((n=App.Parsec).YoutubeFunctions||(n.YoutubeFunctions=[]),App.Parsec.YoutubeFunctions.push(t))},t.prototype.unload=function(){},t}(App.Parsec.Blocks.Block),App.Parsec.Blocks.YoutubeBlock=e,App.Parsec.Blocks.YoutubeBlock.Versions[0]=e}.call(this),function(){var e;App.Parsec||(App.Parsec={}),e=function(){function e(e){null==e&&(e={}),this.reset(),this.options=e,null!=e.extended_options&&(this.extended_options=e.extended_options),null!=e.url&&(this.url=e.url),null!=e.content&&(this.content=e.content),this.timestamp=(new Date).getTime(),this.id_string=null!=e.id_string?e.id_string:null}return e.prototype.content=[],e.prototype.url=[],e.prototype.extended_options={},e.template_name="Template Name",e.description="Template description. This is a paragraph long description.",e.thumbnail="http://lorempixel.com/300/168/abstract/",e.text_thumbnail=!1,e.visible_in_editor=!1,e.display_right_menu=!1,e.infinite_content=null,e.richtext=!1,e.prototype.isTrue=function(e){return e===!0||"true"===e},e.prototype.template_options=function(){return[]},e.prototype.extractChapter=function(){return!1},e.prototype.reset=function(){return this.content=[],this.url=[],this.extended_options={},this.options={},this.customThumbnail=null},e.prototype.writeContent=function(e,t,n){return null==t&&(t=0),null==n&&(n=!1),this.content[t]=e,n?$("html").trigger("refresh_editor"):void 0},e.prototype.readContent=function(e){return null==e&&(e=0),this.content[e]},e.prototype.generate=function(){},e.prototype.updateFromCard=function(){},e.prototype.isNew=function(){return null===this.id_string},e.prototype.isRichtext=function(){return this.constructor.richtext},e.fromData=function(t){var n,i;return i=function(){switch(t.template){case"YoutubeTemplate":return App.Parsec.Templates.YoutubeTemplate;case"YoutubeTemplate2":return App.Parsec.Templates.YoutubeTemplate.Versions.intel;case"ImageTemplate":return App.Parsec.Templates.ImageTemplate;case"IframeTemplate":return App.Parsec.Templates.IframeTemplate;case"StaticImageTemplate":return App.Parsec.Templates.StaticImageTemplate;case"QuoteTemplate":return App.Parsec.Templates.QuoteTemplate;case"ChapterTextTemplate":return App.Parsec.Templates.ChapterTextTemplate;case"TitleTemplate":return App.Parsec.Templates.TitleTemplate;case"ChapterOpenerTemplate":return App.Parsec.Templates.ChapterOpenerTemplate;case"SharesTemplate":return App.Parsec.Templates.SharesTemplate;case"ChapterSocialShares":return App.Parsec.Templates.ChapterSocialShares;case"NewsletterTemplate":return App.Parsec.Templates.NewsletterTemplate;case"DisclaimerTemplate":return App.Parsec.Templates.DisclaimerTemplate;case"ChapterDividerTemplate":return App.Parsec.Templates.ChapterDividerTemplate;case"FlexibleTemplate":return App.Parsec.Templates.FlexibleTemplate;case"BioTemplate":return App.Parsec.Templates.BioTemplate;case"SharesTemplate":return App.Parsec.Templates.SharesTemplate;case"AdTemplate":return App.Parsec.Templates.AdTemplate;case"TableOfContentsTemplate":return App.Parsec.Templates.TableOfContentsTemplate;case"TrackingPixelTemplate":return App.Parsec.Templates.TrackingPixelTemplate;case"PostCreditsTemplate":return App.Parsec.Templates.PostCreditsTemplate;case"CineLoopTemplate":return App.Parsec.Templates.CineLoopTemplate;case"InfographicTemplate":return App.Parsec.Templates.InfographicTemplate;default:return e}}(),n={},n.url=t.url,n.content=t.content,n.extended_options=t.extended_options,n.id_string=t.id_string,new i(n)},e.prototype.toJSON=function(){var e;return e={},e.template=function(){switch(this.constructor){case App.Parsec.Templates.YoutubeTemplate:return"YoutubeTemplate";case App.Parsec.Templates.YoutubeTemplate.Versions.intel:return"YoutubeTemplate2";case App.Parsec.Templates.ImageTemplate:return"ImageTemplate";case App.Parsec.Templates.StaticImageTemplate:return"StaticImageTemplate";case App.Parsec.Templates.IframeTemplate:return"IframeTemplate";case App.Parsec.Templates.QuoteTemplate:return"QuoteTemplate";case App.Parsec.Templates.ChapterTextTemplate:return"ChapterTextTemplate";case App.Parsec.Templates.TitleTemplate:return"TitleTemplate";case App.Parsec.Templates.ChapterOpenerTemplate:return"ChapterOpenerTemplate";case App.Parsec.Templates.SharesTemplate:return"SharesTemplate";case App.Parsec.Templates.ChapterSocialShares:return"ChapterSocialShares";case App.Parsec.Templates.NewsletterTemplate:return"NewsletterTemplate";case App.Parsec.Templates.DisclaimerTemplate:return"DisclaimerTemplate";case App.Parsec.Templates.ChapterDividerTemplate:return"ChapterDividerTemplate";case App.Parsec.Templates.FlexibleTemplate:return"FlexibleTemplate";case App.Parsec.Templates.BioTemplate:return"BioTemplate";case App.Parsec.Templates.SharesTemplate:return"SharesTemplate";case App.Parsec.Templates.AdTemplate:return"AdTemplate";case App.Parsec.Templates.TableOfContentsTemplate:return"TableOfContentsTemplate";case App.Parsec.Templates.TrackingPixelTemplate:return"TrackingPixelTemplate";case App.Parsec.Templates.PostCreditsTemplate:return"PostCreditsTemplate";case App.Parsec.Templates.CineLoopTemplate:return"CineLoopTemplate";case App.Parsec.Templates.InfographicTemplate:return"InfographicTemplate";default:return"Template"}}.call(this),e.url=this.url,e.content=this.content,e.extended_options=this.extended_options,e.id_string=null!=this.id_string?this.id_string:this.id_string=this.generateIdString(e.template.length),e},e.prototype.generateIdString=function(e){return this.timestamp.toString(32)+Date.now().toString(32)+Math.floor(1e6*Math.random()+1+e).toString(32)},e}(),App.Parsec.Templates={},App.Parsec.Template=e,App.Parsec.Templates.Template=e,App.Parsec.Templates.Categories={},App.Parsec.Templates.Categories.video={templates:[],fragment:"video",title:"Video","class":"active",visible_in_editor:!0},App.Parsec.Templates.Categories.image={templates:[],fragment:"image",title:"Image",visible_in_editor:!0},App.Parsec.Templates.Categories.iframe={templates:[],fragment:"iframe",title:"Iframe",visible_in_editor:!0},App.Parsec.Templates.Categories.text={templates:[],fragment:"text",title:"Text",visible_in_editor:!0},App.Parsec.Templates.Categories.title={templates:[],fragment:"title",title:"Title"},App.Parsec.Templates.Categories.chapterOpener={templates:[],fragment:"chapterOpener",title:"Chapter Opener"},App.Parsec.Templates.Categories.socialShares={templates:[],fragment:"socialShares",title:"Social Shares",visible_in_editor:!0},App.Parsec.Templates.Categories.ads={templates:[],fragment:"ads",title:"Ads",visible_in_editor:!0},App.Parsec.Templates.Categories.newsletter={templates:[],fragment:"newsletter",title:"Newsletter"},App.Parsec.Templates.Categories.chapterSelection={templates:[],fragment:"chapterSelection",title:"Chapter Selection",visible_in_editor:!0},App.Parsec.Templates.Categories.disclaimer={templates:[],fragment:"disclaimer",title:"Disclaimer"},App.Parsec.Templates.Categories.chapterDivider={templates:[],fragment:"chapterDivider",title:"Chapter Divider",visible_in_editor:!0},App.Parsec.Templates.Categories.custom={templates:[],fragment:"custom",title:"Custom Templates",visible_in_editor:!0},App.Parsec.Templates.Categories.chapterNavigator={templates:[],fragment:"chapterNavigator",title:"Chapter Navigator"},App.Parsec.Templates.Categories.postCredits={templates:[],fragment:"postCredits",title:"Post Credits",visible_in_editor:!0}}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.extended_options={sponsor:"Mashable",pos:0})}return n(t,e),t.Versions=[],t.template_name="Ad Template",t.description="An Ad",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-youtube_l.jpg",t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.template_options=function(){return[{label:"Sponsor",tag:"input",drill_down:["extended_options","sponsor"],value:this.extended_options.sponsor},{label:"Position",tag:"input",drill_down:["extended_options","pos"],value:this.extended_options.pos}]},t.prototype.generate=function(){return new App.Parsec.Cards.LongCard({"class":"ad-card",blocks:[new App.Parsec.Blocks.AdBlock({pos:this.extended_options.pos,sponsor:this.extended_options.sponsor,posts:App.Parsec.container.ad_values.campaign})]})},t}(App.Parsec.Templates.Template),App.Parsec.Templates.AdTemplate=e,App.Parsec.Templates.AdTemplate.Versions[0]=e,App.Parsec.Templates.Categories.ads.templates[0]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Bio Template",n.description="A bio for a person or place",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.text_thumbnail=!0,n.visible_in_editor=!0,n.display_right_menu=!0,n.prototype.extractChapter=function(){return{title:this.extended_options.chapter}},n.prototype.template_options=function(){return[{label:"Bio Image URL",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"Name",tag:"input",drill_down:["content",0],value:this.content[0]},{label:"Detail one",tag:"input",drill_down:["content",1],value:this.content[1]},{label:"Detail two",tag:"input",drill_down:["content",2],value:this.content[2]},{label:"Detail three",tag:"input",drill_down:["content",3],value:this.content[3]},{label:"Chapter",tag:"input",drill_down:["extended_options","chapter"],value:this.extended_options.chapter}]},n.prototype.generate=function(){return new App.Parsec.Cards.LongCard({"class":"bio-card",chapter:this.extended_options.chapter,blocks:[new App.Parsec.Blocks.ImageBlock({url:this.url[0],"class":"bio-image"}),new App.Parsec.Blocks.TextBlock({"class":"bio-text",content:"<h2>"+this.content[0]+"</h2><p>"+this.content[1]+"</p><p>"+this.content[2]+"</p><p>"+this.content[3]+"</p>"})]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.BioTemplate=e,App.Parsec.Templates.BioTemplate.Versions[0]=e,App.Parsec.Templates.Categories.text.templates[2]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.extended_options={style:"ornament",mobile_static_fallback:!1,height_style:"viewport"})}return n(t,e),t.Versions=[],t.template_name="Chapter Divider Template",t.description="A chapter divider template",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.extractChapter=function(){return{title:this.content[0],image:this.extended_options.chapter_image}},t.prototype.template_options=function(){var e;return[{label:"Chapter Title",tag:"input",drill_down:["content",0],value:this.content[0]},{label:"Chapter TOC image",tag:"input",drill_down:["extended_options","chapter_image"],value:this.extended_options.chapter_image},{label:"image",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"Subtitle",tag:"input",drill_down:["content",1],value:this.content[1]},{label:"Style",tag:"input",type:"radio",drill_down:["extended_options","style"],values_checked:function(){var t,n,i,r;for(i=["ornament","image and text"],r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push({checked:e===this.extended_options.style,value:e,name:"style"});return r}.call(this)},{label:"Mobile Static Fallback",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.mobile_static_fallback),drill_down:["extended_options","mobile_static_fallback"]},{label:"Height Style",tag:"input",type:"radio",drill_down:["extended_options","height_style"],values_checked:function(){var t,n,i,r;for(i=["viewport","half_viewport","maximum_interior_viewport","maximum_interior_half_viewport"],r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push({checked:e===this.extended_options.height_style,value:e,name:"height_style"});return r}.call(this)}]},t.prototype.generate=function(){var e,t,n,i,r,s;return"image and text"===this.extended_options.style?(t=new App.Parsec.Cards.BackgroundCard({"class":"chapter-divider-card",chapter:this.content[0],chapter_image:this.extended_options.chapter_image,background:this.url[0],height_style:this.extended_options.height_style||"viewport",static_fallback:this.isTrue(this.extended_options.mobile_static_fallback),text_over:!0,blocks:[]}),this.isTrue(this.extended_options.mobile_static_fallback)&&t.blocks.push(new App.Parsec.Blocks.ImageBlock({"class":"mobile-static-fallback",url:this.url[0]})),this.content[0]&&(i=this.content[1]?"<h2 class=chapter-title>"+this.content[0]+"</h2><p class=chapter-subtitle>"+this.content[1]+"</p>":"<h2 class=chapter-title>"+this.content[0]+"</h2>",t.blocks.push(new App.Parsec.Blocks.TextBlock({"class":"chapter-title-wrap",content:i}))),t):(r=this.url[0]||"/assets/parsec/parsec_mashable/divider.png",s=this.options["class"]||"",n="chapter-divider-card "+s,e=new App.Parsec.Blocks.ImageBlock({"class":"image-wrap",url:r}),t=new App.Parsec.Cards.LongCard({"class":n,blocks:[e],chapter:this.content[0]}))
},t}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterDividerTemplate=e,App.Parsec.Templates.ChapterDividerTemplate.Versions[0]=e,App.Parsec.Templates.Categories.chapterDivider.templates.push(e)}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Navigator Template",n.description="Add a chapter for in a piece, has no other content",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){return new App.Parsec.Cards.LongCard({"class":"chapter-navigator-card",chapter:this.options.chapter,blocks:[]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterNavigatorTemplate=e,App.Parsec.Templates.ChapterNavigatorTemplate.Versions[0]=e,App.Parsec.Templates.Categories.chapterNavigator.templates.push(e)}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Opener Template",n.description="A chapter opener template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n,i,r;return e=this.url[0]||"",i=this.options.optionalClass,r=this.content[0]||"            <p class=name>Name</p>            <p class=description>Description</p>            <div class=line></div>            <p class=author>By Author</p>          ",t=new App.Parsec.Blocks.TextBlock({"class":"text-wrap "+i,content:r}),n=new App.Parsec.Cards.BackgroundCard({"class":this.options["class"],background:e,chapter:this.content[1],blocks:[t]})},n.prototype.updateFromCard=function(e){return this.url[0]=e.background,this.content[0]=e.blocks[0].content},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterOpenerTemplate=e,App.Parsec.Templates.ChapterOpenerTemplate.Versions[0]=e,App.Parsec.Templates.Categories.chapterOpener.templates[0]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Opener IE8",n.description="A chapter opener template for IE8",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n,i,r,s;return e=this.url[0]||"",i=this.options.optionalClass,n=new App.Parsec.Blocks.ImageBlock({url:e}),r=this.content[0]||"",s=new App.Parsec.Blocks.TextBlock({"class":"text-wrap "+i,content:r}),t=new App.Parsec.Cards.LongCard({"class":this.options["class"],background:e,chapter:this.content[1],blocks:[n,s]})},n.prototype.updateFromCard=function(e){return this.url[0]=e.background,this.content[0]=e.blocks[0].content},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterOpenerTemplateIE8=e,App.Parsec.Templates.ChapterOpenerTemplate.Versions.ie8=e,App.Parsec.Templates.Categories.chapterOpener.templates[1]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Text Template",n.description="A chapter text template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.text_thumbnail=!0,n.visible_in_editor=!0,n.richtext=!0,n.prototype.generate=function(){var e,t,n,i;return _.isEqual(this.content,[])&&(this.content=["<p>Enter your paragraph 1 here</p><p>Enter your paragraph 2 here</p>"]),i=this.options["class"]||"",n="text-card "+i,e=new App.Parsec.Blocks.TextBlock({"class":"text-wrap",content:this.content[0]}),t=new App.Parsec.Cards.LongCard({chapter:this.content[1],"class":n,blocks:[e]})},n.prototype.updateFromCard=function(e){return this.content[0]=e.blocks[0].content},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterTextTemplate=e,App.Parsec.Templates.ChapterTextTemplate.Versions[0]=e,App.Parsec.Templates.Categories.text.templates[1]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.extended_options={height_style:"viewport"})}return n(t,e),t.Versions=[],t.template_name="CineLoop Template",t.description="A looping video. Not to be confused with CinnaLoop, a delicious baked food somewhere between a donut and a cinnamon roll.",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-youtube_l.jpg",t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.template_options=function(){var e;return[{label:"WebM",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"H264",tag:"input",drill_down:["url",1],value:this.url[1]},{label:"Gif",tag:"input",drill_down:["url",2],value:this.url[2]},{label:"Height Style",tag:"input",type:"radio",drill_down:["extended_options","height_style"],values_checked:function(){var t,n,i,r;for(i=["viewport","half_viewport","maximum_interior_viewport","maximum_interior_half_viewport"],r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push({checked:e===this.extended_options.height_style,value:e,name:"height_style"});return r}.call(this)}]},t.prototype.generate=function(){return new App.Parsec.Cards.LongCard({"class":"cine-loop-card",height_style:"viewport",blocks:[new App.Parsec.Blocks.VideoBlock({h264:this.url[1],webm:this.url[0],gif:this.url[2]})]})},t}(App.Parsec.Templates.Template),App.Parsec.Templates.CineLoopTemplate=e,App.Parsec.Templates.CineLoopTemplate.Versions[0]=e,App.Parsec.Templates.Categories.video.templates[2]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Disclaimer Template",n.description="A disclaimer template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n;return n="          <p>This sponsored article is part of <a href='http://mashable.com/advertise/desktop/#brandspeak' target='_blank'>Brandspeak,</a> a program that gives voice to Mashable advertisers' best content.</p>          <p>Mashable editors were not involved in the production of this content.</p>          ",e=new App.Parsec.Blocks.TextBlock({"class":"text-wrap",content:n}),t=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[e]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.DisclaimerTemplate=e,App.Parsec.Templates.DisclaimerTemplate.Versions[0]=e,App.Parsec.Templates.Categories.disclaimer.templates.push(e)}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Flexible Template",n.description="A flexible template. This is used for custom stuff. Don't mess with it too much.",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.visible_in_editor=!0,n.display_right_menu=!0,n.prototype.template_options=function(){var e;return null==this.extended_options.custom_content&&(this.extended_options.custom_content={_type:"Parsec::LongCard",chapter:"The Choice",height_style:"viewport",klass:"chapter-opener-card tablet",blocks:[{url:"http://lorempixel.com/1400/804/technics",_type:"Parsec::ImageBlock"},{content:"<p class=headline>"+App.Parsec.container.title+"</p><p class=subheadline>Subheadline</p><div class=divider /><p class=author>by <a href='http://mashable.com/people/author-link/' target=_blank>"+App.Parsec.container.author+"</a></p>      <div class=spotlight-logo><a href='http://mashable.com/category/mashable-spotlight/' target=_blank><img src='/assets/parsec/parsec_mashable/spotlight_black.png' /></a></div>    ",_type:"Parsec::TextBlock"}]}),e="object"==typeof this.extended_options.custom_content?JSON.stringify(this.extended_options.custom_content):this.extended_options.custom_content,[{label:"Custom Content",tag:"textarea",drill_down:["extended_options","custom_content"],content:e,content_tag:!0}]},n.prototype.generate=function(){return null==this.extended_options.custom_content&&(this.extended_options.custom_content={_type:"Parsec::LongCard",chapter:"The Choice",height_style:"viewport",klass:"chapter-opener-card tablet",blocks:[{url:"http://lorempixel.com/1400/804/technics",_type:"Parsec::ImageBlock"},{content:"<p class=headline>"+App.Parsec.container.title+"</p><p class=subheadline>Subheadline</p><div class=divider /><p class=author>by <a href='http://mashable.com/people/author-link/' target=_blank>"+App.Parsec.container.author+"</a></p>      <div class=spotlight-logo><a href='http://mashable.com/category/mashable-spotlight/' target=_blank><img src='/assets/parsec/parsec_mashable/spotlight_black.png' /></a></div>    ",_type:"Parsec::TextBlock"}]}),"object"!=typeof this.extended_options.custom_content&&(this.extended_options.custom_content=JSON.parse(this.extended_options.custom_content)),this.extended_options.custom_content?App.Parsec.Cards.Card.fromData(this.extended_options.custom_content):void 0},n}(App.Parsec.Templates.Template),App.Parsec.Templates.FlexibleTemplate=e,App.Parsec.Templates.FlexibleTemplate.Versions[0]=e,App.Parsec.Templates.Categories.custom.templates.push(e)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.url=[])}return n(t,e),t.Versions=[],t.template_name="Iframe Template",t.description="An iframe template",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-photo_l.jpg",t.visible_in_editor=!0,t.prototype.template_options=function(){return[{label:"URL",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"native width",tag:"input",drill_down:["extended_options","native_width"],value:this.extended_options.native_width},{label:"native height",tag:"input",drill_down:["extended_options","native_height"],value:this.extended_options.native_height}]},t.prototype.generate=function(){var e;return e=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[new App.Parsec.Blocks.IframeBlock({url:this.url[0],width:this.options.width,height:this.options.height,native_width:this.extended_options.native_width,native_height:this.extended_options.native_height})]})},t}(App.Parsec.Templates.Template),App.Parsec.Templates.IframeTemplate=e,App.Parsec.Templates.IframeTemplate.Versions[0]=e,App.Parsec.Templates.Categories.iframe.templates.push(e)}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){var e;t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.extended_options={height_style:"viewport",gallery_mode:!1,mobile_static_fallback:!0}),e=this.url[0],this.customThumbnail=e&&e.length>0?e:null}return n(t,e),t.Versions=[],t.template_name="Image Template",t.description="An image template",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-photo_l.jpg",t.background=!0,t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.template_options=function(){var e;return[{label:"Image URL",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"Caption",tag:"textarea",drill_down:["content",0],content:this.content[0],content_tag:!0},{label:"Credit",tag:"textarea",drill_down:["content",1],content:this.content[1],content_tag:!0},{label:"Height Style",tag:"input",type:"radio",drill_down:["extended_options","height_style"],values_checked:function(){var t,n,i,r;for(i=["viewport","half_viewport","maximum_interior_viewport"],r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push({checked:e===this.extended_options.height_style,value:e,name:"height_style"});return r}.call(this)},{label:"Gallery mode",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.gallery_mode),drill_down:["extended_options","gallery_mode"]},{label:"Mobile Static Fallback",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.mobile_static_fallback),drill_down:["extended_options","mobile_static_fallback"]}]},t.prototype.generate=function(){var e,t,n,i,r;return n=this.url[0]||"",e=this.content[0]||"",r=this.content[1]||"",i="image-card",this.options["class"]&&(i=""+i+" "+this.options["class"]),this.isTrue(this.extended_options.gallery_mode)&&(i=""+i+" gallery-mode"),this.isTrue(this.extended_options.mobile_static_fallback)&&(i=""+i+" static-fallback"),t=new App.Parsec.Cards.BackgroundCard({"class":i,background:n,height_style:this.extended_options.height_style||"viewport",static_fallback:this.isTrue(this.extended_options.mobile_static_fallback),blocks:[]}),this.isTrue(this.extended_options.mobile_static_fallback)&&t.blocks.push(new App.Parsec.Blocks.ImageBlock({"class":"mobile-static-fallback",url:n})),e&&t.blocks.push(new App.Parsec.Blocks.TextBlock({"class":"caption-wrap",content:"<p class=caption>"+e+"</p><p class=source>"+r+"</p>"})),t},t.prototype.updateFromCard=function(e){var t;return t=this.url[0]=e.background,this.title=e.title,this.customThumbnail=t&&t.length>0?t:null},t}(App.Parsec.Templates.Template),App.Parsec.Templates.ImageTemplate=e,App.Parsec.Templates.ImageTemplate.Versions[0]=e,App.Parsec.Templates.Categories.image.templates[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){var e;t.__super__.constructor.apply(this,arguments),e=this.url[0],this.customThumbnail=e&&e.length>0?e:null}return n(t,e),t.Versions=[],t.template_name="Infographic Template",t.description="The infographic template preserves its aspect ratio and remains centered on screen",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-photo_l.jpg",t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.template_options=function(){return[{label:"Image URL",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"Native width",tag:"input",drill_down:["extended_options","native_width"],value:this.extended_options.native_width},{label:"Native height",tag:"input",drill_down:["extended_options","native_height"],value:this.extended_options.native_height}]},t.prototype.generate=function(){var e,t,n;return t=this.url[0]||"",n="image-card infographic-card",console.log("generating"),e=new App.Parsec.Cards.LongCard({"class":n,blocks:[new App.Parsec.Blocks.ImageBlock({url:t,native_width:this.extended_options.native_width,native_height:this.extended_options.native_height,"class":"infographic-block"})]}),console.log(e),e},t}(App.Parsec.Templates.Template),App.Parsec.Templates.InfographicTemplate=e,App.Parsec.Templates.InfographicTemplate.Versions[0]=e,App.Parsec.Templates.Categories.image.templates[2]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Newsletter Template",n.description="A newsletter template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n;return n="      <p class=caption>Keep Up With the Next Young Inventor</p>      <div id='newsletter-signup-editorial' data-sailthru-list='S-Intel Building The Future Today' data-persist-after-signup='true' data-sailthru-source='intel_longform'/>      <div id='newsletter-signup' />      ",e=new App.Parsec.Blocks.TextBlock({content:n}),t=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[e]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.NewsletterTemplate=e,App.Parsec.Templates.NewsletterTemplate.Versions[0]=e,App.Parsec.Templates.Categories.newsletter.templates.push(e)}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Post Credits Template",n.description="Add a post's credit info",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-photo_l.jpg",n.visible_in_editor=!0,n.infinite_content=["",""],n.prototype.generate=function(){var e;return e=this.contentParser(),new App.Parsec.Cards.LongCard({"class":"post-credits-card",blocks:[new App.Parsec.Blocks.TextBlock({"class":"wrap",content:e})]})},n.prototype.contentParser=function(){var e,t,n,i,r;for(e=2,i="",t=0;t<this.content.length;){for(i+="<li class='post-credits-list-item'>",n=r=0;e>=0?e>r:r>e;n=e>=0?++r:--r)i+="<p>"+this.content[t+n]+"</p>";i+="</li>",t+=e}return i="<ul class='post-credits-list'>"+i+"</ul>"},n}(App.Parsec.Templates.Template),App.Parsec.Templates.PostCreditsTemplate=e,App.Parsec.Templates.PostCreditsTemplate.Versions[0]=e,App.Parsec.Templates.Categories.postCredits.templates.push(e)}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Quote Template",n.description="A quote template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.text_thumbnail=!0,n.visible_in_editor=!0,n.display_right_menu=!0,n.prototype.template_options=function(){return[{label:"Text",tag:"textarea",drill_down:["content",0],content:this.content[0],content_tag:!0},{label:"Author Quote URL",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"Author Name",tag:"input",drill_down:["content",1],value:this.url[1]}]},n.prototype.generate=function(){var e,t,n,i;return i=this.options["class"]||"",n="pullquote-card "+i,e=[],e.push(new App.Parsec.Blocks.TextBlock({"class":"text-wrap",content:this.content[0]})),null!=this.content[1]&&this.url[0]?e.push(new App.Parsec.Blocks.TextBlock({"class":"attribution text-wrap",content:"<img src="+this.url[0]+"/><div class=author-name>"+this.content[1]+">"})):this.content[1]&&e.push(new App.Parsec.Blocks.TextBlock({"class":"attribution text-wrap",content:"<div class=author-name>"+this.content[1]+">"})),t=new App.Parsec.Cards.LongCard({"class":n,blocks:e})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.QuoteTemplate=e,App.Parsec.Templates.QuoteTemplate.Versions[0]=e,App.Parsec.Templates.Categories.text.templates[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.content=["Share this story","share-action"])}return n(t,e),t.Versions=[],t.template_name="Social Shares Template",t.description="A social share template",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.template_options=function(){return[{label:"Caption",tag:"input",drill_down:["content",0],value:this.content[0]},{label:"Fragment",tag:"input",drill_down:["content",1],value:this.content[1]}]},t.prototype.generate=function(){var e;return e=this.content[0]&&this.content[0].length>0?"<div class=social-shares-caption>"+this.content[0]+"</div>":"",new App.Parsec.Cards.LongCard({"class":"social-shares-card",blocks:[new App.Parsec.Blocks.TextBlock({content:"<div class=social-shares-wrap>              "+e+"              <div class='parsec social-shares'>                <a class='social-share facebook' data-fragment='"+this.content[1]+"'><div class='caption'>Share</div></a>                <a class='social-share twitter' data-fragment='"+this.content[1]+"'><div class='caption'>Tweet</div></a>                <a class='social-share google_plus' data-fragment='"+this.content[1]+"' />                <a class='social-share linked_in' data-fragment='"+this.content[1]+"' />                <a class='social-share stumble_upon' data-fragment='"+this.content[1]+"' />                <a class='social-share pinterest' data-fragment='"+this.content[1]+"' />              </div>            </div>"})]})},t}(App.Parsec.Templates.Template),App.Parsec.Templates.SharesTemplate=e,App.Parsec.Templates.SharesTemplate.Versions[0]=e,App.Parsec.Templates.Categories.socialShares.templates[2]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Social Shares Template",n.description="A chapter social share template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n,i,r,s,a;return s=this.options.whose||"whose",n=this.options.fragment||"fragment",i=this.options.optionalClass||"",r=(a=this.content)[0]||(a[0]="          <div class=social-shares-wrap>            <div class='social-share-portrait "+i+"'></div>            <div class=social-shares-caption>share "+s+" story:</div>            <div class='parsec social-shares'>              <a class='social-share facebook' data-fragment='"+n+"'><div class='caption'>Share</div></a>              <a class='social-share twitter' data-fragment='"+n+"'><div class='caption'>Tweet</div></a>              <a class='social-share google_plus' data-fragment='"+n+"' />              <a class='social-share linked_in' data-fragment='"+n+"' />              <a class='social-share stumble_upon' data-fragment='"+n+"' />              <a class='social-share pinterest' data-fragment='"+n+"' />            </div>          </div>          "),e=new App.Parsec.Blocks.TextBlock({content:r}),t=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[e]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterSocialSharesIntel=e,App.Parsec.Templates.SharesTemplate.Versions.intel=e,App.Parsec.Templates.Categories.socialShares.templates[1]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Social Shares Template",n.description="A chapter social share template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n,i;return n=(i=this.content)[0]||(i[0]="          <div class=social-shares-wrap>            <div class='parsec social-shares'>              <a class='social-share facebook'><div class='caption'>Share</div></a>              <a class='social-share twitter'><div class='caption'>Tweet</div></a>              <a class='social-share google_plus' />              <a class='social-share linked_in' />              <a class='social-share stumble_upon' />              <a class='social-share pinterest' />            </div>          </div>          "),e=new App.Parsec.Blocks.TextBlock({content:n}),t=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[e]})},n.prototype.updateFromCard=function(e){return this.content[0]=e.blocks[0].content},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterSocialShares=e,App.Parsec.Templates.SharesTemplate.Versions.marathon=e,App.Parsec.Templates.Categories.socialShares.templates[0]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){var e;t.__super__.constructor.apply(this,arguments),e=this.url[0],this.customThumbnail=e&&e.length>0?e:null}return n(t,e),t.Versions=[],t.template_name="Static Image Template",t.description="A static image template",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-photo_l.jpg",t.prototype.generate=function(){var e,t,n,i;return _.isEqual(this.url,[])&&(this.url=[""]),e=this.content[0]||"",i=this.content[1]||"",n="static-image-card",this.options["class"]&&(n=""+n+" "+this.options["class"]),t=new App.Parsec.Cards.LongCard({"class":n,blocks:[new App.Parsec.Blocks.ImageBlock({"class":"image-wrap",url:this.url[0],caption:"<p class=caption>"+e+"</p><p class=source>"+i+"</p>"})]})},t.prototype.updateFromCard=function(e){var t;return t=this.url[0]=e.blocks[0].url,this.content[0]=e.blocks[0].content,this.customThumbnail=t&&t.length>0?t:null},t}(App.Parsec.Templates.Template),App.Parsec.Templates.StaticImageTemplate=e,App.Parsec.Templates.StaticImageTemplate.Versions[0]=e,App.Parsec.Templates.Categories.image.templates[1]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.content=["Read the next story"],this.extended_options={perRow:"1",onlyParsec:!1,excludeCurrent:!1,type:"external"})}return n(t,e),t.Versions=[],t.template_name="Table of Contents Template",t.description="A table of contents",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.template_options=function(){var e;return[{label:"Title",tag:"input",drill_down:["content",0],value:this.content[0]},{label:"Stories per row",tag:"input",drill_down:["extended_options","perRow"],value:this.extended_options.perRow},{label:"Only Longform stories",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.onlyParsec),drill_down:["extended_options","onlyParsec"]},{label:"Exclude current story",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.excludeCurrent),drill_down:["extended_options","excludeCurrent"]},{label:"Type",tag:"input",type:"radio",drill_down:["extended_options","type"],values_checked:function(){var t,n,i,r;for(i=["internal","external"],r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push({checked:e===this.extended_options.type,value:e,name:"type"});return r}.call(this)},{label:"Background image",tag:"input",drill_down:["url",0],value:this.url[0]}]},t.prototype.generate=function(){var e,t;return e=new App.Parsec.Blocks.TOCBlock({"class":"selection-wrap",type:this.extended_options.type,per_row:this.extended_options.perRow,exclude_current:this.extended_options.excludeCurrent,only_parsec:this.extended_options.onlyParsec,title:this.content[0]}),t=this.url[0]?new App.Parsec.Cards.BackgroundCard({background:this.url[0],height_style:"interior",text_over:!0,"class":"table-of-contents-card "+this.extended_options.type,blocks:[e]}):new App.Parsec.Cards.LongCard({"class":"table-of-contents-card",blocks:[e]})},t}(App.Parsec.Templates.Template),App.Parsec.Templates.TableOfContentsTemplate=e,App.Parsec.Templates.TableOfContentsTemplate.Versions[0]=e,App.Parsec.Templates.Categories.chapterSelection.templates[2]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Selection Template",n.description="A chapter selection template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n;return n="      <h2>read other stories in this series</h2>      <div class=selection-row>        <a class=post-wrap href='"+this.url[0]+"'>          <img src='"+this.url[1]+"'/>          <div class=post-title-wrap>            <div class=post-title-text>              <span class=name>"+this.content[0]+"</span>              <span class=description>"+this.content[1]+"</span>            </div>             <div class=fill />          </div>        </a>      </div>    ",e=new App.Parsec.Blocks.TextBlock({"class":"selection-wrap",content:n}),t=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[e]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterSelectionTemplate=e,App.Parsec.Templates.TableOfContentsTemplate.Versions.intel0=e,App.Parsec.Templates.Categories.chapterSelection.templates[0]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Chapter Selection Template",n.description="A chapter selection template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.prototype.generate=function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d;for(o=this.options.objs||[],l=this.options.perRow||1,c="",i=h=0,d=o.length;d>h;i=++h)a=o[i],r=a.image||"",s=a.name||"",n=a.description||"",u=a.url||"",p="        <a class=post-wrap href='"+u+"'>          <img src='"+r+"'/>          <div class=post-title-wrap>            <div class=post-title-text>              <p class=name>"+s+"</p>              <p class=description>"+n+"</p>            </div>            <div class=fill />          </div>        </a>      ",0===i%l&&(c+="<div class=selection-row>"),c+=p,(i%l===l-1||i===o.length-1)&&(c+="</div>");return c="<h2>read other stories in this series</h2><div class=selection-rows>"+c+"</div>",e=new App.Parsec.Blocks.TextBlock({"class":"selection-wrap",content:c}),t=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[e]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.ChapterSelectionTemplate2=e,App.Parsec.Templates.TableOfContentsTemplate.Versions.intel1=e,App.Parsec.Templates.Categories.chapterSelection.templates[1]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Title Template",n.description="A title template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-quote.jpg",n.background=!0,n.prototype.generate=function(){var e,t;return t=this.url[0]||"",e=new App.Parsec.Cards.LongCard({"class":this.options["class"],blocks:[new App.Parsec.Blocks.ImageBlock({"class":"image-wrap",url:t})]})},n.prototype.updateFromCard=function(e){return this.url[0]=e.cards[0].blocks[0].url},n}(App.Parsec.Templates.Template),App.Parsec.Templates.TitleTemplate=e,App.Parsec.Templates.TitleTemplate.Versions[0]=e,App.Parsec.Templates.Categories.title.templates.push(e)
}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="Tracking Pixel Template",n.description="A tracking pixel template",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-youtube_l.jpg",n.visible_in_editor=!0,n.display_right_menu=!0,n.prototype.template_options=function(){return[{label:"Posts",tag:"input",drill_down:["content",0],value:this.content[0]},{label:"Post Id",tag:"input",drill_down:["content",1],value:this.content[1]}]},n.prototype.generate=function(){var e,t,n,i;return i=this.options.trackerPosts||this.content[0]||"",n=this.options.trackerPostId||this.content[1]||"",t="http://ad.doubleclick.net/ad/mash.to/;posts="+i+";postid="+n+";sz=1x1;ord="+Math.ceil(1e9*Math.random()),e=new App.Parsec.Cards.LongCard({"class":"tracker-card",blocks:[new App.Parsec.Blocks.TextBlock({content:"<img src='"+t+"' />"})]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.TrackingPixelTemplate=e,App.Parsec.Templates.TrackingPixelTemplate.Versions[0]=e,App.Parsec.Templates.Categories.ads.templates[1]=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.isNew()&&(this.extended_options.sound=!0,this.extended_options.controls=!0)}return n(t,e),t.Versions=[],t.template_name="YouTube Template",t.description="A YouTube Video",t.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-youtube_l.jpg",t.visible_in_editor=!0,t.display_right_menu=!0,t.prototype.template_options=function(){var e;return[{label:"YouTube URL",tag:"input",drill_down:["url",0],value:this.url[0]},{label:"Autoplay",tag:"input",type:"checkbox",pre:!0,checked:this.isTrue(this.extended_options.autoplay),value:!0,drill_down:["extended_options","autoplay"]},{label:"Loop",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.loop),drill_down:["extended_options","loop"]},{label:"Sound",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.sound),drill_down:["extended_options","sound"]},{label:"Controls",tag:"input",type:"checkbox",pre:!0,value:!0,checked:this.isTrue(this.extended_options.controls),drill_down:["extended_options","controls"]},{label:"Caption",tag:"textarea",drill_down:["content",0],content:this.content[0],content_tag:!0},{label:"Position",tag:"input",type:"radio",drill_down:["extended_options","position"],values_checked:function(){var t,n,i,r;for(i=["center","full width","fill"],r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push({checked:e===this.extended_options.position,value:e,name:"position"});return r}.call(this)}]},t.prototype.generate=function(){var e,t,n,i,r,s,a,o,l;return l=/v=([a-zA-Z0-9_-]+)/.exec(this.url[0]||"https://www.youtube.com/watch?v=sDj72zqZakE")[1],a=this.options["class"]||"",t="media-card video-card "+a,s=.1,r="50",n=.85,i=.15,o="bottom",e=null!=this.content[0]&&""!==this.content[0]?new App.Parsec.Cards.ColumnCard({"class":t,margin:s,gutter:r,columns:[n,i],blocks:[new App.Parsec.Blocks.YoutubeBlock({videoId:l,triggerPoint:o,autoplay:this.isTrue(this.extended_options.autoplay),sound:this.isTrue(this.extended_options.sound),loop:this.isTrue(this.extended_options.loop),controls:this.isTrue(this.extended_options.controls)})],secondary_blocks:[new App.Parsec.Blocks.TextBlock({content:this.content[0]})]}):new App.Parsec.Cards.WrapCard({"class":t,blocks:[new App.Parsec.Blocks.YoutubeBlock({videoId:l,triggerPoint:o,autoplay:this.isTrue(this.extended_options.autoplay),sound:this.isTrue(this.extended_options.sound),loop:this.isTrue(this.extended_options.loop),controls:this.isTrue(this.extended_options.controls)})]})},t}(App.Parsec.Templates.Template),App.Parsec.Templates.YoutubeTemplate=e,App.Parsec.Templates.YoutubeTemplate.Versions[0]=e,App.Parsec.Templates.Categories.video.templates[0]=e}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.Versions=[],n.template_name="YouTube Template",n.description="A YouTube Video",n.thumbnail="http://1.mshcdn.com/wp-content/uploads/2014/02/lb-youtube_l.jpg",n.prototype.updateFromCard=function(e){return this.url[0]="http://www.youtube.com/watch?v="+e.blocks[0].videoId,this.title=e.title},n.prototype.generate=function(){var e,t,n,i,r,s;return s=/v=([a-zA-Z0-9_-]+)/.exec(this.url[0]||"https://www.youtube.com/watch?v=sDj72zqZakE")[1],r="bottom",i=this.options["class"]||"",n="video-card "+i,e=new App.Parsec.Blocks.YoutubeBlock({videoId:s,triggerPoint:r,autoplay:this.options.autoplay||!1}),t=new App.Parsec.Cards.WrapCard({"class":n,blocks:[e]})},n}(App.Parsec.Templates.Template),App.Parsec.Templates.YoutubeTemplate2=e,App.Parsec.Templates.YoutubeTemplate.Versions.intel=e,App.Parsec.Templates.Categories.video.templates[1]=e}.call(this),function(){var e,t,n;App.Parsec.LongformNavClosure(),e=$("html"),null==Array.prototype.indexOf&&(Array.prototype.indexOf=function(e){var t,n,i,r;for(t=i=0,r=this.length;r>i;t=++i)if(n=this[t],n===e)return t;return-1}),App.Parsec||(App.Parsec={}),App.Parsec.header_height=56,App.Parsec.containerFromData=function(e){return e.code_version||(e.code_version=0),App.Parsec.ParsecContainer.Versions[e.code_version].fromData(e)},n=document.createElement("script"),n.src="https://www.youtube.com/iframe_api",t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t),window.onYouTubeIframeAPIReady=function(){var e,t,n,i,r;if(App.Parsec.YoutubeReady=!0,App.Parsec.YoutubeFunctions){for(i=App.Parsec.YoutubeFunctions,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e());return r}},window.parsecRenderIntel=function(){var e,t,n,i,r,s,a;return e=[],t="Building the Future Today",a=0,s=App.Parsec.properties,null!=window.params().edison?("raul"===window.params().edison?(i="Raul Oaida",a=0):"ionut"===window.params().edison?(i="Ionut Budisteanu",a=1):"eesha"===window.params().edison?(i="Eesha Khare",a=2):"steven"===window.params().edison?(i="Steven Gonzalez",a=3):"ann"===window.params().edison?(i="Ann Makosinski",a=4):"marian"===window.params().edison?(i="Marian Bechtel",a=5):"alison"===window.params().edison?(i="Alison Bick",a=6):"delian"===window.params().edison?(i="Delian Asparouhov",a=7):"david"===window.params().edison?(i="David Zarrin",a=8):"noor"===window.params().edison&&(i="Noor Siddiqui",a=9),e=App.Parsec.IntelCards.generate(i),t=t+" / "+i):"intel"===s.sponsor&&"edisons"===s.series?(e=App.Parsec.IntelCards.generate(s.story),t=t+" / "+s.story,a=s.order):(e=App.Parsec.IntelCards.raul(),t+=" / Raul Oaida",n=!0),n||(r={"class":"intel-edisons",tocTitle:"Building the Future Today",tocExtChapters:[{name:"Raul Oaida",url:"http://mashable.com/2014/03/31/raul-oaida-inventing-inspiration/",preview:"raul"},{name:"Ionut Budisteanu",url:"http://mashable.com/2014/04/08/ionut-budisteanu-self-driving-car/",preview:"ionut"},{name:"Eesha Khare",url:"http://mashable.com/2014/04/11/eesha-khare-phone-charger/",preview:"eesha"},{name:"Steven Gonzalez",url:"http://mashable.com/2014/04/14/steven-gonzalez-survivor-games/",preview:"steven"},{name:"Ann Makosinski",url:"http://mashable.com/2014/04/17/ann-makosinski-hollow-flashlight/",preview:"ann"},{name:"Marian Bechtel",url:"http://mashable.com/2014/04/18/marian-bechtel-landmine-acoustics/",preview:"marian"},{name:"Alison Bick",url:"http://mashable.com/2014/04/21/alison-bick-water-tech/",preview:"alison"},{name:"Noor Siddiqui",url:"http://mashable.com/2014/04/25/noor-siddiqui-remedy/",preview:"noor"}],tocSelected:a,tocDropdownTriggerPoint:"always"}),App.Parsec.container=new App.Parsec.ParsecContainer({"class":"intel-edisons",title:t,cards:e,chapter_type:"INVENTORS",ad_values:{nav_url:"http://pubads.g.doubleclick.net/gampad/clk?id=105792362&iu=/6692/mash.to",nav_img:"/assets/parsec/intel_edisons/presentedby.png"},series:$("#parsec").data("series"),nav_class:"intel-edisons",post_id:$("#parsec").data("post").post_id}),App.Parsec.container.render(),App.Parsec.touch?void 0:App.Parsec.skrollr=skrollr.init({render:$.proxy(App.Parsec.container.skrollrCallback,App.Parsec.container),forceHeight:!1})},window.parsecRender=function(e){var t,n,i;return null==e&&(e=!1),loadAnalytics(),App.Parsec.touch=$("html").hasClass("touch"),App.Parsec.loadBounds=[],i=$("#parsec"),App.Parsec.shares=i.data("shares")||0,App.Parsec.properties=i.data("parsecProperties")||"",App.Parsec.series=$("#parsec").data("series"),$("#parsec.intel-edisons").length>0?window.parsecRenderIntel():i.length>0&&"posts"===/([a-z]+)\//.exec($("body").data("jsid"))[1]?(App.Parsec.container=App.Parsec.containerFromData($("#parsec").data("post")),"marathon"===$("#parsec").data("post").properties.story?App.Parsec.container.cards=App.Parsec.MarathonCards.generate():"kiwi-gardner"===$("#parsec").data("post").properties.story&&(App.Parsec.container.cards=App.Parsec.KiwiCards.generate()),App.Parsec.container.render(),App.Parsec.container.resize(),App.Parsec.touch||(App.Parsec.skrollr=skrollr.init({render:$.proxy(App.Parsec.container.skrollrCallback,App.Parsec.container),forceHeight:!1,mobileDeceleration:.003}))):(i.length>0&&_.isEqual(/([a-z]+)\/([a-z]+)\/([a-z]+)/.exec($("body").data("jsid")).slice(1),["parsec","posts","show"])||e)&&(App.Parsec.container=App.Parsec.containerFromData($("#parsec").data("post")),App.Parsec.container.cards=App.Parsec.container.fromTemplates(),App.Parsec.container.render(),App.Parsec.touch||(App.Parsec.skrollr=skrollr.init({render:$.proxy(App.Parsec.container.skrollrCallback,App.Parsec.container),forceHeight:!1,mobileDeceleration:.003}))),n=navigator.userAgent.toLowerCase(),t=-1!==n.indexOf("msie")?parseInt(n.split("msie")[1]):!1,t?$(".ie-none").remove():$(".ie-spec").remove(),8===t?($("html").addClass("ie8"),$(".ie8-none").remove()):$(".ie8-spec").remove()},$(function(){return window.parsecRender()})}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};$$("users/edit","users/subscriptions","users/manage_subscriptions",function(){return new App.SubscriptionsView}),e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.initialize=function(){return this.loadActiveTab(),this.validateForms(),this.checkForEmail(),this.unsubscribeHandler(),this.changeEmail(),this.submitManageForm()},n.prototype.validateForms=function(){return $("#email_signup, #email_lookup").find("form").on("submit",function(){var e,t;return e=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,t=$(this).find("input#email").val(),e.test(t)?void 0:($(this).find(".hint").addClass("signup-error").text("Please enter a valid email address."),!1)})},n.prototype.checkForEmail=function(){var e;return e=!0,$("#email_lookup").find("form").on("submit",function(t){var n=this;return t.stopImmediatePropagation(),t.stopPropagation(),$.ajax({type:"POST",url:"/subscriber_check/",data:$(this).serialize(),async:!1,success:function(){return e=!0},error:function(){return $(n).find(".hint").addClass("signup-error").text("Oops! Subscriber not found."),e=!1}}),e})},n.prototype.unsubscribeHandler=function(){return $("#unsubscribe").on("click",function(e){var t,n;return t=$(e.target).data("email"),n=new App.Lightbox({type:"fixed",classes:"white-dialog quadratus builder",contentClasses:"no-close"}),n.show({content:Handlebars.templates["templates/users/unsubscribe_prompt"]()}),n.centerContent(),n.content.one("click",".cancel",function(){return n.hide()}),n.content.one("click",".unsubscribe",function(){return $.ajax({type:"POST",url:"/optout_email",data:{email:t},success:function(){return n.hide(),window.location.href="/subscriptions/manage?email="+t}})}),!1})},n.prototype.changeEmail=function(){return $('a[href="/subscriptions"], a#switch-email').on("click",function(){return $.removeCookie("sailthru_hid",{domain:".mashable.com",path:"/"}),!0})},n.prototype.submitManageForm=function(){var e;return e=$("#email_subscriptions"),e.find("form").on("submit",function(t){return t.stopImmediatePropagation(),t.stopPropagation(),$.ajax({type:"POST",url:"/subscriptions/manage/",data:$(this).serialize(),success:function(){return e.find(".subscribe-button").after("<div class='manage-success'>Newsletter settings updated!</div>"),delay(1500,function(){return $(".manage-success").fadeOut("slow")})},error:function(){return e.find(".subscribe-button").after("<div class='manage-error'>Error updating newsletter settings.</div>"),delay(1500,function(){return $(".manage-error").fadeOut("slow")})}}),!1})},n.prototype.loadActiveTab=function(){var e;return e=window.location.hash.match(/[a-z0-9_-]+/),null!=e?$(".nav.inline a[href='#"+e[0]+"']").tab("show"):void 0},n}(Backbone.View),this.provides({SubscriptionsView:e})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y={}.hasOwnProperty,b=function(e,t){function n(){this.constructor=e}for(var i in t)y.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},_=function(e,t){return function(){return e.apply(t,arguments)}};e=window.jQuery,n=e(window),t=null,i=44,a=20,f=null,h=null,p=null,u=c=null,d=function(){var t,n,i,r,s;return i=e("#site-header .main-menu"),s=i.closest(".navbar"),r=null,n=!1,i.on("mouseleave",function(){return n=!1}),Modernizr.touch&&i.find(".collapsable").hide(),u=function(e,t){var r,a;if(null==t&&(t=!1),n=!0,e.trigger("open"),s.addClass("open"),r=i.find(".submenu.active, .submenu.locked").length>0,t){if(i.find(".submenu").removeClass("active locked"),e.addClass("active locked").trigger("openMenu",[e]),!r)return e.find(".submenu-content").css({y:-500}).transition({y:""},290)}else if(a=i.find(".submenu"),0===a.filter(".locked").length&&(a.removeClass("active locked"),e.addClass("active").trigger("openMenu",[e]),!r))return e.find(".submenu-content").css({y:-500}).transition({y:0},290)},c=function(e,t){return null==e&&(e=!1),null==t&&(t=null),s.removeClass("open"),e?i.find(".submenu").removeClass("active locked"):i.find(".submenu:not(.locked)").removeClass("active")},t={on:".submenu",sensitivity:4,interval:50,over:function(t){return u(e(t.currentTarget))},out:function(e){var t;return t=e.currentTarget,clearTimeout(r),r=delay(50,function(){return n?void 0:c()})}},i.hoverIntent(t),e(document).on("click",function(){return c(!0)})},s=function(t){function n(){return m=n.__super__.constructor.apply(this,arguments)}return b(n,t),n.prototype.events={"mouseover .subnav-channel":"renderChannelPosts","touchstart .subnav-channel":"renderChannelPosts","click .submenu":"forceRenderChannel"},n.prototype.initialize=function(){var e=this;return this.injected={},this.domcache={},this.$toggles=this.$el.find("li.submenu.channel"),this.$toggles.on("openMenu",function(t,n){return e.forceRenderChannel(null,n)})},n.prototype.forceRenderChannel=function(t,n){var i;return n||(n=e(t.currentTarget)),n.hasClass("channel")?(i=n.find(">a"),this.content=n.find(".submenu-content"),this.renderChannel(n.data("tags"),i.text(),i.attr("href"))):void 0},n.prototype.renderChannelPosts=function(t){var n,i;return n=e(t.currentTarget),n.parents("ul.channels").find("li a.active").removeClass("active"),n.addClass("active"),i=n.data("tag"),t.stopPropagation(),this.content.find(".subnav-posts").html(Handlebars.partials["templates.posts.subnav_posts"]({posts:this.cache.posts[i]})),Modernizr.touch||this.crop(),!1},n.prototype.renderChannel=function(t,n,i){var r;if(this.cache){if(!this.cache.posts[t])return;return this.injected[t]||(this.cache.channels[t].unshift({url:i,name:"All "+n,slug:t}),this.injected[t]=!0),r={channels:this.cache.channels[t],posts:this.cache.posts[t]},this.domcache[t]||(this.domcache[t]=e("<div></div>"),this.domcache[t].html(Handlebars.templates["templates/posts/subnav"](r))),this.content.html(this.domcache[t]),Modernizr.touch||this.crop(),this.content.find(".subnav-channel:eq(0)").trigger("touch")}return this.content.html('<div class="progress progress-striped active"><div class="bar" style="width: 100%"></div></div>'),this.fetchChannelData(t,n,i),this.fetchChannelData=function(){}},n.prototype.crop=function(){var t,n,i,r,s,a,o,l;for(i=".subnav-post, ul.columns ul.column-list",r=e(".navbar-inner").get(0).getBoundingClientRect(),o=this.content.find(i).show(),l=[],s=0,a=o.length;a>s;s++)t=o[s],n=t.getBoundingClientRect(),n.right>r.right?l.push(e(t).hide()):l.push(void 0);return l},n.prototype.fetchChannelData=function(t,n,i){var r,s,a;return a=this,this.all_tags=function(){var e,t,n,i;for(n=this.$toggles,i=[],e=0,t=n.length;t>e;e++)s=n[e],i.push(s.getAttribute("data-tags"));return i}.call(this).join(";"),r=window.readSession("subnav_json"),r?(this.cache=r,this.renderChannel(t,n,i)):e.getJSON("/stories/subnav.json",{tag:this.all_tags},function(e){return window.writeSession("subnav_json",e,6e5),a.cache=e,a.renderChannel(t,n,i)})},n.prototype.hide=function(){return this.$toggles.not(".locked").removeClass("active")},n.prototype.justeatit=function(){return!1},n}(Backbone.View),l=function(t){function i(){return this.handleKeys=_(this.handleKeys,this),g=i.__super__.constructor.apply(this,arguments)}return b(i,t),i.prototype.initialize=function(){var t,i,r,s=this;return this.$el.addClass("mash-lightbox-side-menu needsclick").hide(),this.$peek=e("#peek"),t=e("#site-header .main-menu"),this.$peek.append(this.$el),t.find("li.menu a").on("click",function(e){return s.toggle(),e.target.blur(),!1}),this.menu=t.clone().toggleClass("inline flyout"),this.menu.append(this.menu.find(".for-flyout-bottom")),this.container=e("#flyout-container").append(this.menu).hide(),this.targetWidth=this.container.width(),n.on("orientationchange",function(){return s.targetWidth=s.container.width()}),this.$inline_target=e(".navbar-inner"),this.$body=e(document.body),i=null,r=null,this.touchOffset=null,this.$el.on("click",function(e){return e.preventDefault(),s.toggle(),!1}),this.$el.on("touchstart",function(e){return this.touchOffset=0,e.preventDefault(),i=e.clientX||e.originalEvent.touches[0].clientX,!1}),this.$el.on("touchmove",function(e){var t,n;return n=e.clientX||e.originalEvent.touches[0].clientX,s.touchOffset=i-n,t=s.targetWidth-s.touchOffset,0>t&&(t=0),t>s.targetWidth&&(t=s.targetWidth),s.$peek.css({x:t}),e.preventDefault(),!1}),this.$el.on("touchend",function(e){return e.preventDefault(),s.touchOffset<60&&0!==s.touchOffset?s.$peek.transit({x:s.targetWidth}):s.hide(),!1})},i.prototype.toggle=function(){return this.popped?this.hide():this.show(),!1},i.prototype.show=function(){return this.popped?void 0:(this.popped=!0,this.$el.show(),this.container.show(),this.$peek.transition({x:this.targetWidth},450),n.on("keydown.flyout",this.handleKeys))},i.prototype.hide=function(){var e,t,i,r=this;if(this.popped)return this.popped=!1,e=this.menu,this.$el.hide(),t=450*((this.targetWidth-this.touchOffset)/this.targetWidth),n.off("keydown.flyout"),i=this.$peek,this.$peek.transition({x:"0"},t,function(){return r.container.hide(),i.css({transform:""}),e.css({height:"",opacity:0}).transition({opacity:""},150)})},i.prototype.handleKeys=function(e){return this.popped&&27===e.keyCode?(this.hide(),e.stopPropagation(),!1):void 0},i.prototype.omnomnom=function(e){return e.preventDefault(),!0},i}(Backbone.View),r=function(t){function r(){return this.onScroll=_(this.onScroll,this),this.onMove=_(this.onMove,this),this.onEnd=_(this.onEnd,this),this.onStart=_(this.onStart,this),v=r.__super__.constructor.apply(this,arguments)}return b(r,t),r.prototype.initialize=function(){var t=this;return this.currentScrollTop=-1,this.startDownAt=0,this.lastScrollTop=n.scrollTop(),this.iOS=/iP(hone|od|ad)/.test(window.navigator.userAgent),Modernizr.touch&&(n.on("touchstart",function(e){return t.onStart(e)}),n.on("touchmove",function(e){return t.onMove(e)}),n.on("touchend",function(e){return t.onEnd(e)})),window.matchMedia&&window.matchMedia("max-device-width: 1024px").matches&&n.on("scroll",function(e){return t.onScroll(e)}),this.menu=e("#site-header .main-menu")},r.prototype.onStart=function(e){return 1!==e.originalEvent.touches.length||this.iOS&&this.menu.hasClass("flyout")?void 0:(this.scrollStart=e.originalEvent.touches[0].pageY,this.lastPosition=this.scrollStart,this.lastScrollTop=n.scrollTop(),this.moveEventWindow=[])},r.prototype.onEnd=function(){return this.scrollStart=null,this.iOS?this.lastDirection>0?this.$el.css({opacity:0}):this.$el.css({opacity:1}):void 0},r.prototype.onMove=function(e){var t,n,i,r,s,o,l;if(this.scrollStart&&1===e.originalEvent.touches.length){for(r=e.originalEvent.touches[0].pageY,this.moveEventWindow.push(this.lastPosition-r),this.moveEventWindow.length>a&&this.moveEventWindow.shift,n=0,l=this.moveEventWindow,s=0,o=l.length;o>s;s++)i=l[s],n+=i;if(this.lastDirection=n,0!==n)return this.lastPosition=r,t=r-this.scrollStart,this.setScrollTop(n,this.lastScrollTop+t)}},r.prototype.onScroll=function(){var e,t;return t=n.scrollTop(),e=t-this.lastScrollTop,this.setScrollTop(e,this.lastScrollTop),this.lastScrollTop=t},r.prototype.step=function(e,t,n,i){var r,s;return r=parseFloat(this.$el.css(e)),s=Math.min(Math.max(r+t,n),i),this.$el.css(e,s),s},r.prototype.setScrollTop=function(e,t){var n,r;if(e>0){if(this.startDownAt||(this.startDownAt=t),this.iOS){if(this.step("opacity",-(1/a),0,!1))return this.$el.hide()}else if(null!==this.startUpAt)return this.startUpAt=null,this.$el.css({top:t/parseFloat(this.$el.css("zoom")),position:"absolute"})}else if(0>e){if(this.startUpAt||(this.startUpAt=t),this.iOS)return this.$el.show(),this.step("opacity",1/a,0,1);if(null!==this.startDownAt)return this.startDownAt=null,n=this.$el.offset().top-t,-i>n&&(n=-i),n>0&&(n=0),r=this.$el,this.$el.css({top:0,position:"fixed",y:n}).transition({y:0},150,function(){return r.css({transform:""})})}},r}(Backbone.View),o=function(t){function i(){return w=i.__super__.constructor.apply(this,arguments)}return b(i,t),i.prototype.events={keydown:"omnomnom",keyup:"omnomnom",keypress:"omnomnom",click:"omnomnom","click .search-trigger":"justeatit","click .header-search-form":"omnomnom","click .header-search-results li":"gotoFirstLink","focus input":"lockOpen"},i.prototype.initialize=function(){var t,n=this;return this.input=this.$el.find(".header-search"),this.results=this.$el.find(".header-search-results"),t=this.input,this.lastTerm=null,this.selectedIndex=-1,this.selectedColumn=0,this.selectedLi=null,this.columnCount=2,this.handleChange=function(){var t;if(Modernizr.mq("(min-width:640px)"))return t=n.input.val(),t!==n.lastTerm&&t.length>2?(n.lastTerm=t,clearTimeout(n.lastTimer),n.lastTimer=delay(550,function(){return n.lastRequest&&n.lastRequest.abort(),n.lastRequest=e.getJSON("/search",{q:t,per_page:5,t:"all",i:"130x75:-1"},function(e){return n.parseResults(e)})})):void 0},this.activate()},i.prototype.activate=function(){var e=this;return this.input.on("change.search_autocomplete",this.handleChange),this.input.on("keyup.search_autocomplete",this.handleChange),n.on("keydown.search_autocomplete",function(t){if(!formFocused())switch(t.keyCode){case 191:return t.stopPropagation(),e.show(),!1;case 27:return e.hide()}}),n.on("click.search_autocomplete",function(){return e.hide()}),this.input.on("keydown.search_autocomplete",function(t){var n;switch(n=t.keyCode){case 191:if(!e.$el.hasClass(".active"))return e.show(),t.preventDefault();break;case 38:return e.selectPrevious();case 40:return e.selectNext();case 37:return e.switchColumn(-1);case 39:return e.switchColumn(1);case 27:return e.hide();case 13:return e.doSelected(t)}})},i.prototype.deactivate=function(){return this.input.off(".search_autocomplete"),n.off(".search_autocomplete")},i.prototype.lockOpen=function(){return u(this.$el,!0)},i.prototype.updateSelection=function(){var t,n,i,r;return t=this.selectedColumn%this.columnCount+1,r=this.results.find(".col"+t+" li"),this.selectedLi&&this.selectedLi.removeClass("highlighted"),i=this.selectedIndex%r.length,n=i>=0?r.get(i):r.get(r.length-i),this.selectedLi=e(n),this.selectedLi.addClass("highlighted")},i.prototype.switchColumn=function(t){var n,i,r,s,a,o,l,c,p,u;if(this.selectedColumn+=t,this.selectedIndex=0,this.selectedLi){for(n=this.selectedColumn%this.columnCount+1,s=this.results.find(".c"+n+" li"),a=null,o=null,u=e(this.selectedLi).offset(),i=c=0,p=s.length;p>c;i=++c)r=s[i],l=e(r).offset(),t=Math.abs(u.top-l.top),(null===a||a>t)&&(a=t,o=i);this.selectedIndex=o}return this.updateSelection()},i.prototype.selectPrevious=function(){return this.selectedIndex-=1,this.updateSelection()},i.prototype.selectNext=function(){return this.selectedIndex+=1,this.updateSelection()},i.prototype.parseResults=function(e){var t;return t=Handlebars.templates["templates/header/search_results"](e),this.results.show().html(t),picturefill(this.results.find("span._pf")),this.results.find("time").relatizeDate()},i.prototype.toggle=function(e){return this.$el.hasClass("active")?this.hide():this.show(),e.preventDefault(),!1},i.prototype.show=function(){return this.$el.addClass("active locked"),this.input.focus().select()},i.prototype.hide=function(){return this.$el.removeClass("active locked")},i.prototype.gotoFirstLink=function(t){return e(t.delegateTarget).find("a").first().click()},i.prototype.doSelected=function(t){return this.selectedLi?(window.location=e(this.selectedLi.find("a").get(0)).attr("href"),t.stopPropagation(),!1):void 0},i.prototype.justeatit=function(){return!1},i.prototype.omnomnom=function(e){return e.stopPropagation(),!0},i}(Backbone.View),e(function(){var t;return f=new s({el:e(".main-menu")}),h=new o({el:e(".navbar .nav-search"),flyout:t}),t=new l,d(),window.flyout=t,e("#site-header .submenu.follow").on("open",function(){return loadScriptAsync("twitter"),window.activateShareButtons(".pull-right.follow")}),e("#site-header").on("click",function(t){return(t.srcElement||t.target).tagName.match(/div|ul/i)?e("#scrollable").animate({scrollTop:0}):void 0})})}.call(this),function(){var e;e=function(){function e(){}return e.upload=function(e,t,n){var i;return null==t&&(t=null),null==n&&(n=t,t=null),i=new FormData,i.append("image",e),null!=t&&i.append("size",t),$.ajax({processData:!1,contentType:!1,success:n,error:function(){return n(null)},fail:function(){return n(null)},type:"POST",data:i,url:"/images"})},e}(),this.provides({Image:e})}.call(this),function(){var e;e=$(window),$$(function(){})}.call(this),function(){Handlebars.templates={}}.call(this),Handlebars.templates["templates/gallery/gallery"]=Handlebars.compile("<div class='popout'>\n  <section class='gallery interactive width-exempt no-close show-info' data-id='{{slug}}'>\n    <header class='gallery-header'>\n      <h1 class='title'>{{title}}</h1>\n      <div class='actions'>\n        <a class='close' href='#'>\n          Close\n        </a>\n        <a class='all' href='#'>\n          <i class='icon-th icon-white'></i>\n          See All\n        </a>\n        <a class='slideshow' href='#'>\n          <i class='icon-play icon-white'></i>\n          Slideshow\n        </a>\n        <div class='progress progress-info slideshow-timer'>\n          <div class='bar'></div>\n        </div>\n      </div>\n    </header>\n    <div class='content'>\n      <div class='gallery-content'>\n        <div class='slide-container'>\n          <div class='slides transitional'></div>\n          <div class='thumbs transparent'>\n            <div class='thumbs-inner'>\n              {{#slides}}<a class='thumb' href='#'><img src='{{thumb}}'></a>{{/slides}}\n            </div>\n          </div>\n        </div>\n        <div class='meta'>\n          <div class='buttons'>\n            <a class='btn btn-large btn-primary open-gallery' href='#'>\n              Open Gallery\n            </a>\n            <a class='btn btn-large btn-primary prev' href='#'>\n              Prev\n            </a>\n            <span class='slides'>\n              <span class='current'></span>\n              <span class='total'></span>\n            </span>\n            <a class='btn btn-large btn-primary next' href='#'>\n              Next\n            </a>\n          </div>\n          <h2 class='title'></h2>\n          <div class='caption'></div>\n          <div class='credit'></div>\n        </div>\n      </div>\n      <div class='sidebar'>\n        <div class='ad'></div>\n      </div>\n    </div>\n    <a class='as-list' href='#'>Show As List</a>\n  </section>\n</div>"),Handlebars.templates["templates/gallery/list"]=Handlebars.compile("<section class='gallery list'>\n  {{#if show_list_title}}<header>\n    <h1 class='title'>{{title}}</h1>\n  </header>{{/if}}\n  <div class='content'>\n    <ul class='slides'></ul>\n  </div>\n  <a class='as-gallery' href='#'>Show As Gallery</a>\n</section>"),Handlebars.templates["templates/gallery/list_slide"]=Handlebars.compile("<figure>{{{content}}}</figure>\n<div class='meta'>\n  <h2 class='title'>{{{title}}}</h2>\n  <div class='caption'>{{{description}}}</div>\n  <div class='credit'>{{{credit}}}</div>\n</div>"),Handlebars.templates["templates/gallery/slide"]=Handlebars.compile("<div class='slide-wrapper'>{{{content}}}</div>"),Handlebars.templates["templates/header/flash"]=Handlebars.compile("<a class='close btn btn-light' href='#'></a>\n{{#each .}}<div class='flash-message flash-{{k}}'>{{v}}</div>{{/each}}"),Handlebars.templates["templates/header/no_user_menu"]=Handlebars.compile("<li class='submenu collapsable pull-right' id='sign-in'><a href='/login/'><span><span class=\"translation_missing\" title=\"translation missing: en.header.user.sign_in\">Sign In</span></span></a></li>"),Handlebars.templates["templates/header/search_results"]=Handlebars.compile("<div class='col1'>\n  <div class='search-results story-results'>\n    <h1>Stories</h1>\n    <ul>\n      {{#each posts}}\n      <li class='s-p' data-score='{{score}}' data-url='{{link}}'>\n        <a data-turbo-target='post-slider' href='{{link}}'>\n          {{> templates.shared.responsive_images}}\n        </a>\n        <a data-turbo-target='post-slider' href='{{link}}'>{{{title}}}</a>\n        <time datetime='{{post_date_rfc}}'>{{post_date_rfc}}</time>\n      </li>\n      {{/each}}\n      <li class='more'><a href=\"/search/?t=stories&amp;q={{query}}\">More stories about &quot;{{query}}&quot;</a></li>\n    </ul>\n  </div>\n</div>\n<div class='col2'>\n  <div class='search-results topic-results'>\n    <h1>Topics</h1>\n    <ul>\n      {{#each topics}}\n      <li class='s-t' data-url='{{url}}'>\n        <a href='{{url}}'>{{name}}</a>\n      </li>\n      {{/each}}\n      <li class='more'><a href=\"/search/?t=topics&amp;q={{query}}\">More topics for &quot;{{query}}&quot;</a></li>\n    </ul>\n  </div>\n  <div class='search-results people-results'>\n    <h1>People</h1>\n    <ul>\n      {{#each users}}\n      <li class='s-u' data-url='{{url}}'>\n        <a href='{{url}}'>{{display_name}}</a>\n      </li>\n      {{/each}}\n      <li class='more'><a href=\"/search/?t=people&amp;q={{query}}\">More people for &quot;{{query}}&quot;</a></li>\n    </ul>\n  </div>\n</div>"),Handlebars.templates["templates/header/user_menu"]=Handlebars.compile("<li class='user-submenu submenu pull-right'><a class='profile dropdown-toggle' href='#'><img src='{{picture}}'></a><div class='dropdown-menu pull-right'>\n  <div class='extra-content'>\n    <a href='/me/'>\n      <img class='profile-image' src='{{picture}}'>\n      {{display_name }}\n    </a>\n  </div>\n  <ul class='user-menu'>\n    <li>\n      <a href='/me/'>\n        My Stories\n        <span class='indicator'>{{story_count}}</span>\n      </a>\n    </li>\n    <li class='for-flyout-bottom separator'>\n      <a href='/me/edit/'>Settings</a>\n    </li>\n    <li class='for-flyout-bottom'>\n      <a href=\"/logout/\">Sign Out</a>    </li>\n  </ul>\n</div></li>"),Handlebars.templates["templates/lightbox"]=Handlebars.compile("<div class='mash-lightbox'>\n  <div class='mash-lightbox-content-wrap'>\n    <a class='mash-lightbox-close' href='#'></a>\n    <div class='mash-lightbox-content'></div>\n  </div>\n</div>"),Handlebars.templates["templates/parsec/editor/editor_add_card"]=Handlebars.compile("<div class='tabbable tabs-left' id='parsec-template-tabs'>\n  <ul class='nav nav-tabs'>\n    {{#each categories}}{{#if visible_in_editor}}<li class='{{class}}'>\n      <a data-toggle='tab' href='#{{fragment}}'>{{title}}</a>\n    </li>{{/if}}{{/each}}\n  </ul>\n  <div class='tab-content'>\n    {{#each categories}}{{#if visible_in_editor}}<div class='tab-pane {{class}}' id='{{fragment}}'>\n      {{#each templates}}{{#if visible_in_editor}}<div class='template' data-index='{{@index}}'>\n        <img class='template-thumbnail' src='{{thumbnail}}'>\n        <h2 class='template-name'>\n          {{template_name}}\n        </h2>\n        <p class='template-description'>\n          {{description}}\n        </p>\n      </div>{{/if}}{{/each}}\n    </div>{{/if}}{{/each}}\n  </div>\n</div>"),Handlebars.templates["templates/parsec/editor/editor_body"]=Handlebars.compile("<div id='longform-editor-body'>\n  <div class='arrange-view'>\n    <div class='template-list'></div>\n    <a class='add-card-button' href='javascript:void(0);'>+ Add A Card</a>\n  </div>\n  <div class='editor-type-selector-view'>\n    <a class='richtext-editor-type'>VISUAL</a>\n    <a class='html-editor-type'>HTML</a>\n  </div>\n  <div class='richtext-editor-view'>\n    <div class='richtext-editor-placeholder'></div>\n  </div>\n  <div class='html-editor-view'>\n    <div class='html-editor' contenteditable='true'></div>\n  </div>\n  <div class='infinite-content-editor-view'>\n    <div class='infinite-content-list'></div>\n  </div>\n  <div class='card-view parsec-container'></div>\n</div>"),Handlebars.templates["templates/parsec/editor/editor_context_nav"]=Handlebars.compile("<header id='longform-editor-nav'>\n  <div class='arrange-nav'>\n    <div class='parsec-post-title' contenteditable='true'></div>\n  </div>\n  <div class='card-edit-nav'>\n    <div class='card-title'></div>\n    <div class='actions'>\n      <a class='arrange-button' href='javascript:void(0);'>Zoom Out</a>\n      <a class='template-options-button' href='javascript:void(0);'>Card Options</a>\n    </div>\n  </div>\n</header>"),Handlebars.templates["templates/parsec/editor/editor_nav"]=Handlebars.compile("<header id='longform-nav'>\n  <div class='longform-nav-inner'>\n    <div class='logo'>\n      <a class='brand' href='/builder/'>\n        <span class='large'><img alt=\"Header_share_logo.v2\" src=\"http://rack.1.mshcdn.com/assets/header_share_logo.v2-11a2e0632ddb46b143c85e63f590734d.png\" /></span>\n        <span class='small'><img alt=\"Mobile_logo_v2\" src=\"http://rack.3.mshcdn.com/assets/mobile_logo_v2-2a9555d36800fdca3fd399d9d33c6984.png\" /></span>\n      </a>\n    </div>\n    <a class='editor-title' href='/builder/'>Longform Editor</a>\n    <div class='edit'>\n      <div class='message'>\n        Saving...\n      </div>\n      <a class='preview-link'>Preview</a>\n      <a class='publish-link'>Publish</a>\n      <a class='settings-link'>Settings</a>\n    </div>\n    <div class='manage'>\n      <a class='new-post-link'>+ Create New</a>\n    </div>\n  </div>\n</header>"),Handlebars.templates["templates/parsec/editor/editor_right_menu"]=Handlebars.compile("<div id='parsec-right-menu'>\n  <ul class='right-menu-accordion'>\n    <li class='active'>\n      Template Options\n      <ul class='right-menu-options'>\n        {{#each template_options}}<li>\n          {{#if pre}}{{#if checked}}<{{tag}} checked=\"checked\" data-drill_down=\"{{drill_down}}\" type=\"{{type}}\" value=\"{{value}}\" />{{/if}}\n{{#unless checked}}<{{tag}} data-drill_down=\"{{drill_down}}\" type=\"{{type}}\" value=\"{{value}}\" />{{/unless}}\n<label>{{label}}</label>{{/if}}\n          {{#unless pre}}{{#if values_checked}}<fieldset class='radio-group' data-drill_down='{{drill_down}}'>\n  <label>{{label}}</label>\n  {{#each values_checked}}{{#if checked}}<input checked='true' name='{{name}}' type='radio' value='{{value}}'>\n  <label>{{value}}</label>{{/if}}\n  {{#unless checked}}<input name='{{name}}' type='radio' value='{{value}}'>\n  <label>{{value}}</label>{{/unless}}{{/each}}\n</fieldset>{{/if}}\n{{#unless values_checked}}<label>{{label}}</label>\n{{#if content_tag}}<{{tag}} data-drill_down=\"{{drill_down}}\" type=\"{{type}}\">{{content}}</{{tag}}>{{/if}}\n{{#unless content_tag}}<{{tag}} data-drill_down=\"{{drill_down}}\" type=\"{{type}}\" value=\"{{value}}\" />{{/unless}}{{/unless}}{{/unless}}\n        </li>{{/each}}\n      </ul>\n    </li>\n    <li>Animation</li>\n    <li>Responsive</li>\n  </ul>\n</div>"),Handlebars.templates["templates/parsec/editor/editor_sortable_template"]=Handlebars.compile("<div class='editor-template-item'>\n  <div class='editor-template-thumbnail-wrap'>\n    {{#if textThumbnail}}<div class='editor-template-thumbnail text-thumbnail'>{{content}}</div>{{/if}}\n    {{#if imageThumbnail}}<div class='image-wrap'>\n      <img class='editor-template-thumbnail' src='{{content}}'>\n    </div>{{/if}}\n  </div>\n  <h3 class='editor-template-title'>{{cardTitle}}</h3>\n  <a class='insert-card-button'>+</a>\n  <div class='actions'>\n    <a class='delete'></a>\n  </div>\n</div>"),Handlebars.templates["templates/parsec/editor/infinite_content_list_item"]=Handlebars.compile("<div class='infinite-content-list-item'>\n  <ul class='content-wrap'>\n    {{#each data}}<li>\n      <input class='content-value' value='{{this}}'>\n    </li>{{/each}}\n  </ul>\n  <a class='insert-item-button'>+</a>\n  <div class='actions'>\n    <a class='delete-item-button'></a>\n  </div>\n</div>"),Handlebars.templates["templates/parsec/editor/modal_delete_card"]=Handlebars.compile("<div id='parsec-modal-delete-card'>\n  <h2>Are you sure you want to delete this card?</h2>\n  <div class='modal-actions'>\n    <a class='confirm'>ok</a>\n    <a class='cancel'>cancel</a>\n  </div>\n</div>"),Handlebars.templates["templates/parsec/editor/modal_delete_post"]=Handlebars.compile("<div id='parsec-modal-delete-post'>\n  {{#if message}}<h2>Are you sure you want to delete this post: {{message}}?</h2>\n  {{else}}\n  <h2>Are you sure you want to delete this post?</h2>{{/if}}\n  <div class='modal-actions'>\n    <a class='confirm'>ok</a>\n    <a class='cancel'>cancel</a>\n  </div>\n</div>"),Handlebars.templates["templates/parsec/editor/modal_new_post"]=Handlebars.compile("<div id='parsec-modal-new-post'>\n  <h2>Title your New Longform</h2>\n  <input class='parsec-post-title-entry' placeholder='enter title here' type='text'>\n  <div class='modal-actions'>\n    <a class='confirm'>ok</a>\n    <a class='cancel'>cancel</a>\n  </div>\n</div>"),Handlebars.templates["templates/parsec/editor/post_options"]=Handlebars.compile("<ul class='nav nav-tabs' id='post_options_tabs'>\n  <li>\n    <a data-toggle='tab' href='#general'>General</a>\n  </li>\n  <li>\n    <a data-toggle='tab' href='#themes'>Themes</a>\n  </li>\n  <li>\n    <a data-toggle='tab' href='#navigation'>Navigation</a>\n  </li>\n  <li>\n    <a data-toggle='tab' href='#chapters'>Chapters</a>\n  </li>\n</ul>\n<button class='btn btn-primary' id='settings-save-button'>Save</button>\n<button class='btn' id='settings-cancel-button'>Cancel</button>\n<form class='tab-content'>\n  <div class='tab-pane active flex-box' id='general'>\n    <div class='box-cell'>\n      <label>Story Name</label>\n      <input class='title' name='container_title' value='{{title}}'>\n      <label>Author</label>\n      <select class='author' name='container[campaign]'>\n        {{#each allAuthors}}<option value='{{wp_author_id}}'>{{display_name}}</option>{{/each}}\n      </select>\n    </div>\n    <div class='box-cell'>\n      <label>Advertising Posts Value</label>\n      <input class='posts' disabled name='container_posts' value='{{ad_values.posts}}'>\n      <label>Campaign</label>\n      <select class='campaign' name='container[campaign]'>\n        {{#each allSeries}}<option value='{{id}}'>{{name}}</option>{{/each}}\n      </select>\n    </div>\n  </div>\n  <div class='tab-pane parsec-templates' id='themes'>\n    <div class='tabbable tabs-left' id='parsec-theme-tabs'>\n      <ul class='nav nav-tabs'>\n        {{#each themes}}{{#if visible_in_editor}}<li>\n          <a data-toggle='tab' href='#{{fragment}}'>{{title}}</a>\n        </li>{{/if}}{{/each}}\n      </ul>\n      <div class='tab-content'>\n        {{#each themes}}{{#if visible_in_editor}}<div class='tab-pane {{class}}' id='{{fragment}}'>\n          {{#each themes}}{{#if visible_in_editor}}<div class='theme' data-index='{{@index}}'>\n  <img class='theme-thumbnail' src='{{thumbnail}}'>\n  <h2 class='theme-name'>{{theme_name}}</h2>\n  <a class='activate-theme' href='#'>Activate</a>\n  <a class='preview-theme' href='#'>Live Preview</a>\n</div>{{/if}}{{/each}}\n        </div>{{/if}}{{/each}}\n      </div>\n    </div>\n  </div>\n  <div class='tab-pane flex-box' id='navigation'>\n    <div class='box-cell'>\n      <label>Navigation Type</label>\n      <select class='navigation_type' name='container[navigation_type]'>\n        <option value=\"numeric\">Numeric Chapters</option>\n        <option value=\"series\">Series</option>\n      </select>\n    </div>\n    <div class='box-cell'>\n      <label>Display Order</label>\n      <select class='navigation_order' name='container[navigation_order]'>\n        <option value=\"ascending\">Oldest First / Ascending</option>\n        <option value=\"descending\">Newest First / Descending</option>\n      </select>\n    </div>\n  </div>\n  <div class='tab-pane' id='chapters'></div>\n</form>"),Handlebars.templates["templates/parsec/longform_nav"]=Handlebars.compile("<div class='longform-nav-inner'>\n  <div class='logo'>\n    <a class='brand' href='/'>\n      <span class='large'><img alt=\"Header_share_logo.v2\" src=\"http://rack.1.mshcdn.com/assets/header_share_logo.v2-11a2e0632ddb46b143c85e63f590734d.png\" /></span>\n      <span class='small'><img alt=\"Mobile_logo_v2\" src=\"http://rack.3.mshcdn.com/assets/mobile_logo_v2-2a9555d36800fdca3fd399d9d33c6984.png\" /></span>\n    </a>\n  </div>\n  <div class='chapters' data-name='{{chapterType}}'>\n    <div class='title'>{{title}}</div>\n    <div class='toc'>\n      <div class='toc-title'>{{tocTitle}}</div>\n      {{#if tocExtChaptersPresent}}{{#each series.posts}}<div class='chapter' data-id='{{_id}}' data-url='{{link}}'>\n  <div class='name'>{{short_title}}</div>\n</div>{{/each}}\n{{else}}\n{{#each chapters}}<div class='chapter'>\n  <div class='name'>{{this}}</div>\n</div>{{/each}}{{/if}}\n    </div>\n  </div>\n  <div class='sponsorship-logo'></div>\n  <div class='shares'>\n    <div class='share-count'>{{shareCount}}</div>\n    <div class='primary-shares'>\n      <a class='social-share facebook'>\n        <div class='caption'>Share</div>\n      </a>\n      <a class='social-share twitter'>\n        <div class='caption'>Tweet</div>\n      </a>\n    </div>\n    <div class='secondary-shares'>\n      <a class='social-share google_plus'></a>\n      <a class='social-share linked_in'></a>\n      <a class='social-share stumble_upon'></a>\n      <a class='social-share pinterest'></a>\n    </div>\n    <div class='share-toggle'></div>\n  </div>\n</div>"),Handlebars.templates["templates/parsec/template"]=Handlebars.compile("<div class='template'>\n  <img class='template-thumbnail' src='{{thumbnail}}'>\n  <h2 class='template-name'>\n    {{name}}\n  </h2>\n  <p class='template-description'>\n    {{description}}\n  </p>\n</div>"),Handlebars.registerPartial("templates.posts.single_post","<div class='article-container sharable'>\n  <article class='post short' id='post-{{id}}'>\n    <div class='article-img-container'>\n      <a data-turbo-target='post-slider' href='{{link}}'>\n        {{> templates.shared.responsive_images}}\n      </a>\n      {{#if spotlight}}<div class='spotlight-overlay-container'>\n        <a data-turbo-target='post-slider' href='{{link}}'>\n          <div class='spotlight-overlay'></div>\n        </a>\n      </div>{{/if}}\n    </div>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        {{#if choice}}<div class='choice-overlay-container'>\n          <a data-turbo-target='post-slider' href='{{link}}'>\n            <div class='choice-overlay'></div>\n          </a>\n        </div>{{/if}}\n        {{#if channel}}{{#if show_sponsorship}}{{#if sponsored_by}}{{#if sponsored_by_url}}<a class='sponsor-link' href='{{sponsored_by_url}}{{sponsor_utm}}'>\n          <span class='article-category brandspeak'>{{sponsored_by}}</span>\n        </a>\n        {{else}}\n        <a class='sponsor-link' href='{{link}}'>\n          <span class='article-category brandspeak'>{{sponsored_by}}</span>\n        </a>{{/if}}\n        {{else}}\n        <a class='article-category' href='{{channel_link}}'>{{channel}}</a>{{/if}}\n        {{else}}\n        <a class='article-category' href='{{channel_link}}'>{{channel}}</a>{{/if}}{{/if}}\n        <h1 class='article-title'>\n          <a data-turbo-target='post-slider' href='{{link}}'>{{{title}}}</a>\n        </h1>\n        <div class='article-byline'>{{author}}</div>\n        <p class='article-excerpt'>{{excerpt}}</p>\n      </div>\n      <footer>\n        <div class='article-shares-stub'>\n          {{#if sponsorship_footer}}{{#if show_sponsorship_in_new_col}}{{#if sponsored_by_url}}<a class='sponsor-link' href='{{sponsored_by_url}}{{sponsor_utm}}'>\n            <span class='article-sponsor'>{{sponsored_by}}</span>\n          </a>\n          {{else}}\n          <a class='sponsor-link' href='{{link}}'>\n            <span class='article-sponsor'>{{sponsored_by}}</span>\n          </a>{{/if}}\n          {{else}}\n          <a class='num' href='{{link}}'>\n            <b>{{share_count shares.total}}</b>\n            shares\n          </a>\n          <time class='article-date' datetime='{{post_date_rfc}}'>{{post_date_rfc}}</time>{{/if}}\n          {{else}}\n          <a class='num' href='{{link}}'>\n            <b>{{share_count shares.total}}</b>\n            shares\n          </a>\n          <time class='article-date' datetime='{{post_date_rfc}}'>{{post_date_rfc}}</time>{{/if}}\n        </div>\n        {{#if velocity}}<canvas class='velocity' data-height='25' data-width='60'></canvas>{{/if}}\n        <div class='article-shares-links'>\n          <a class='social-stub social-share facebook' data-href='{{link}}' data-shares='{{share_count shares.facebook}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share twitter' data-href='{{link}}' data-shares='{{share_count shares.twitter}}' data-shorturl='{{short_url}}' data-title='{{title}}' href='javascript:void(0);'>\n            Tweet\n          </a>\n          <a class='social-stub social-share google_plus' data-href='{{link}}' data-shares='{{share_count shares.google_plus}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share linked_in' data-href='{{link}}' data-shares='{{share_count shares.linked_in}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n        </div>\n      </footer>\n    </div>\n  </article>\n</div>"),Handlebars.registerPartial("templates.posts.subnav_post","<li class='subnav-post'>\n  <a data-turbo-target='post-slider' href='{{url}}'>\n    <img src='{{image}}'>\n  </a>\n  <a data-turbo-target='post-slider' href='{{url}}'>{{{title}}}</a>\n</li>"),Handlebars.registerPartial("templates.posts.subnav_posts","{{#each posts}}{{> templates.posts.subnav_post}}{{/each}}"),Handlebars.templates["templates/posts/brightcove"]=Handlebars.compile("<object class='BrightcoveExperience' id='myExperienceBCpost_{{video}}'>\n  <param name='bgcolor' value='FFFFFF'>\n  <param name='width' value='625'>\n  <param name='height' value='352'>\n  <param name='playerID' value='1265504713001'>\n  <param name='publisherID' value='AQ~~,AAABBzUwv1E~,xP-xFHVUstiMFlNYfvF4G9yFnNaqCw_9'>\n  <param name='isVid' value='true'>\n  <param name='wmode' value='opaque'>\n  <param name='isUI' value='true'>\n  <param name='videoID' value='{{video}}'>\n  <param name='dynamicStreaming' value='true'>\n  <param name='autoStart' value='false'>\n  <param name='includeAPI' value='true'>\n  <param name='templateReadyHandler' value='onBrightcoveTemplateReady'>\n</object>"),Handlebars.templates["templates/posts/microcontent"]=Handlebars.compile("<div class='personalizedShare'>\n  <a href='{{url}}' target='{{target}}'>\n    <img src='{{picture}}'>\n  </a>\n  <a href='{{url}}' target='{{target}}'>\n    {{display_name}}\n  </a>\n  shared this with you\n  <span class='via'>{{network}}</span>\n  <a class='discussThis' href='#'>Discuss with {{display_name}}</a>\n</div>"),Handlebars.templates["templates/posts/microcontent_image"]=Handlebars.compile("<a name='{{fragment}}'></a>\n<div class='microcontent-wrapper'>\n  <div class='microcontent-shares' data-description='{{description}}' data-fragment='{{fragment}}' data-image='{{image}}' data-url='{{url}}'>\n    {{#each networks}}<a class='social-share microcontent-share-badge network-badge network-badge-{{.}} {{.}}' href='#'></a>{{/each}}\n  </div>\n</div>"),Handlebars.templates["templates/posts/microcontent_quote"]=Handlebars.compile("<a name='{{fragment}}'></a>\n<blockquote class='microcontent-wrapper pullquote'>\n  <div class='microcontent-shares' data-description='{{description}}' data-fragment='{{fragment}}' data-url='{{url}}'>\n    {{#each networks}}<a class='social-share microcontent-share-badge network-badge network-badge-{{.}} {{.}}' href='#'></a>{{/each}}\n  </div>\n</blockquote>"),Handlebars.templates["templates/posts/newsletter_signup"]=Handlebars.compile("<div id='newsletter-signup-wrapper'>\n  <div class='signup-box'>\n    <h1>Get our hottest stories delivered to your inbox.</h1>\n    <h3>Sign up for Mashable Newsletters to get personalized updates on top stories and viral hits.</h3>\n    <form accept-charset='UTF-8' action='http://link.mashable.com/s/Top+Stories' method='post'>\n      <div style='margin:0;padding:0;display:inline'>\n        <input name='utf8' type='hidden' value='✓'>\n        <input name='sailthru_event' type='hidden' value='daily_newsletter_signup'>\n        <input name='sailthru_source' type='hidden' value='daily_bottom_of_article'>\n        <input name='new_lists[]' type='hidden' value='Top Stories'>\n        <input name='new_lists[]' type='hidden' value='Alert List'>\n        <input name='new_lists[]' type='hidden' value='Viral News Alerts'>\n      </div>\n      <label class='email'>\n        <input class='email' id='email' name='email' placeholder='email' required='required' type='email'>\n      </label>\n      <label class='submit'>\n        <input class='submit' name='commit' type='submit' value='Sign Up'>\n      </label>\n    </form>\n  </div>\n</div>"),Handlebars.templates["templates/posts/newsletter_signup_editorial"]=Handlebars.compile("{{#if imageTop}}<div id='newsletter-signup-image-top'>\n  <img src='{{img}}' width='100%'>\n</div>{{/if}}\n<div class='editorial {{signupDesign}}' id='newsletter-signup-wrapper'>\n  {{#if imageLeft}}<div id='newsletter-signup-image-left'>\n    <img src='{{img}}' width='100%'>\n  </div>{{/if}}\n  <div class='signup-box'>\n    {{#if title}}<h1>{{title}}</h1>{{/if}}\n    {{#if desc}}<h2>{{desc}}</h2>{{/if}}\n    {{#if signupText}}{{#if btnHex}}<h3 style='color:{{btnHex}};'>{{signupText}}</h3>\n    {{else}}\n    <h3>{{signupText}}</h3>{{/if}}\n    {{else}}\n    <h3 style='display:none'>Default Signup Text Here</h3>{{/if}}\n    <form accept-charset='UTF-8' action='http://link.mashable.com/s/Top+Stories' method='post'>\n      <div style='margin:0;padding:0;display:inline'>\n        <input name='utf8' type='hidden' value='✓'>\n        {{#if sailthruList}}<input name='new_lists[]' type='hidden' value='{{sailthruList}}'>{{/if}}\n        {{#if sailthruEvent}}<input name='sailthru_event' type='hidden' value='{{sailthruEvent}}'>{{/if}}\n        {{#if sailthruVar}}<input name='sailthru_var' type='hidden' value='{{sailthruVar}}'>{{/if}}\n        {{#if sailthruSource}}<input name='sailthru_source' type='hidden' value='{{sailthruSource}}'>{{/if}}\n      </div>\n      <label class='email'>\n        <input class='email' id='email' name='email' placeholder='email' required='required' type='email'>\n      </label>\n      <label class='submit'>\n        {{#if btnHex}}<input class='submit' name='commit' style='background:{{btnHex}};' type='submit' value='Sign Up'>\n        {{else}}\n        <input class='submit' name='commit' type='submit' value='Sign Up'>{{/if}}\n      </label>\n    </form>\n  </div>\n</div>"),Handlebars.templates["templates/posts/newsletter_signup_success"]=Handlebars.compile("<div id='newsletter-success-wrapper'>\n  <div class='signup-box'>\n    <h2>Congratulations! You're now signed up for Mashable Newsletters.</h2>\n    <div class='description'>\n      <p>\n        <span class='email-type'>Top Stories:</span>\n        A round-up of Mashable's most popular stories.\n      </p>\n      <p>\n        <span class='email-type'>Viral News Alerts:</span>\n        Our Velocity algorithm can predict which stories are going viral.\n      </p>\n      <p>\n        <span class='email-type'>Breaking News:</span>\n        Get alerted when big stories happen.\n      </p>\n    </div>\n    <hr>\n    <h4>I want to receive top stories:</h4>\n    <form accept-charset='UTF-8' action='http://link.mashable.com/s/Top+Stories' id='update-frequency' method='post'>\n      <div class='frequency'>\n        <div id='frequency-select'>\n          <select name='sailthru_subscriber[vars][top_stories_frequency]'>\n            <option value='daily'>Every day</option>\n            <option value='semiweekly'>Every few days</option>\n            <option value='weekly'>Once a week</option>\n          </select>\n        </div>\n        <div id='frequency-radio'>\n          <div class='field'>\n            <input checked='1' name='sailthru_subscriber[vars][top_stories_frequency]' type='radio' value='daily'>\n            <label class='inline'>Every day</label>\n          </div>\n          <div class='field'>\n            <input name='sailthru_subscriber[vars][top_stories_frequency]' type='radio' value='semiweekly'>\n            <label class='inline'>Every few days</label>\n          </div>\n          <div class='field'>\n            <input name='sailthru_subscriber[vars][top_stories_frequency]' type='radio' value='weekly'>\n            <label class='inline'>Once a week</label>\n          </div>\n        </div>\n        <input name='email' type='hidden' value='{{email}}'>\n        <input class='submit' name='commit' type='submit' value='Update'>\n      </div>\n    </form>\n  </div>\n</div>"),Handlebars.templates["templates/posts/pinterest_follow"]=Handlebars.compile("<div class='pinterest-follow'>\n  <div class='container-top'>\n    <h1 class='top'>Enjoy this story?</h1>\n    <h1 class='bottom'>\n      Get more like it on\n      <a class='ext-link' href='{{pinMashUrl}}' target='_blank'>Pinterest.</a>\n    </h1>\n    <div class='pinterest-follow-btn'>\n      <a data-pin-do='buttonFollow' href='{{pinMashUrl}}' target='_blank'>Follow Mashable on Pinterest</a>\n    </div>\n  </div>\n  <div class='container-middle'>\n    <h2>Mashable's Current Top Pins</h2>\n    <ul class='pins'>\n      {{#each this}}<li class='pin'>\n        <div class='image-container'>\n          <img height='{{imageHeight}}px' src='{{image}}'>\n        </div>\n        <div class='description-container'>\n          <a class='description ext-link' href='http://www.pinterest.com/pin/{{id}}' target='_blank'>{{description}}</a>\n          <div class='stats'>\n            <div class='repin-icon'></div>\n            <div class='repin-count'>{{repinCount}}</div>\n            <div class='like-icon'></div>\n            <div class='like-count'>{{likeCount}}</div>\n          </div>\n        </div>\n        <div class='source-container'>\n          <p class='pinned-from'>Pinned from</p>\n          <p class='domain'>{{domain}}</p>\n        </div>\n        <div class='pin-it-btn' data-description='{{description}}' data-image='{{imageLarge}}' data-link='{{link}}' href='#'></div>\n      </li>{{/each}}\n    </ul>\n  </div>\n  {{#if overlay}}<div class='container-bottom'>\n  <h3>\n    I'm already a Mashable fan,\n    <a class='suppress-pinterest-overlay' href='#'>don't show this box again.</a>\n  </h3>\n</div>\n<a class='close-pinterest-overlay' href='#'></a>{{/if}}\n</div>"),Handlebars.templates["templates/posts/post"]=Handlebars.compile("{{> templates.posts.single_post }}"),Handlebars.templates["templates/posts/search_post"]=Handlebars.compile("<div class='article-container sharable'><article class='post clearfix short' id='post-{{id}}'><div class='article-img-container'>\n    <a data-turbo-target='post-slider' href='{{permalink}}'>\n      {{> templates.shared.responsive_images}}\n    </a>\n  </div>\n  <div class='article-content'>\n    <h1 class='article-title'>\n      <a data-turbo-target='post-slider' href='{{permalink}}'>\n        {{{title}}}      </a>\n    </h1>\n    <footer>\n      <div class='article-byline'>{{{byline}}}</div>\n      <div class='article-date'>\n        <time datetime='{{post_date_rfc}}'>{{time_ago}}</time>\n      </div>\n    </footer>\n    <p class='article-excerpt'>{{excerpt}}</p>\n  </div></article></div>"),Handlebars.templates["templates/posts/series"]=Handlebars.compile("<section id='series-pane'>\n  <div class='sponsorship'></div>\n  <h4>{{name}}</h4>\n  <div class='series-strip'>\n    <div class='series'>\n      {{#each posts}}{{> templates.posts.single_post}}{{/each}}\n    </div>\n  </div>\n  <div class='indexArrow'></div>\n</section>\n<div id='series-nav'>\n  <span id='series-info'>\n    Use your <span class='caret-left'></span> <span class='caret-right'></span> keys to browse more stories\n  </span>\n  <div class='navblock'>\n    <a href='#' id='series-prev'>Prev</a><span id='current_page'>1</span><span id='total_pages'>{{posts_count}}</span><a href='#' id='series-next'>Next</a>\n  </div>\n</div>"),Handlebars.templates["templates/posts/share_nav"]=Handlebars.compile("<div class='share-nav-inner'>\n  <div class='menu'>\n    <a></a>\n  </div>\n  <div class='logo'>\n    <a class='brand' href='/'>\n      <span class='large'><img alt=\"Header_share_logo.v2\" src=\"http://rack.1.mshcdn.com/assets/header_share_logo.v2-11a2e0632ddb46b143c85e63f590734d.png\" /></span>\n      <span class='small'><img alt=\"Mobile_logo\" src=\"http://rack.1.mshcdn.com/assets/mobile_logo-8574a72af30ae3eace39485654580166.png\" /></span>\n    </a>\n  </div>\n  <div class='share-count'>\n    {{totalShares}}\n  </div>\n  <div class='share-buttons v2'>\n    <div class='primary-shares nowhatsapp'>\n      <a class='social-share facebook'>\n        Share\n        <span class='expanded-text'>on Facebook</span>\n      </a>\n      <a class='social-share twitter'>\n        <span class='primary-text'>Share</span>\n        <span class='alt-text'>Tweet</span>\n        <span class='expanded-text'>on Twitter</span>\n      </a>\n      <a class='social-share whatsapp' href='{{whatsappURL}}'>\n        <span class='primary-text'>Share</span>\n        <span class='alt-text'>Share</span>\n      </a>\n    </div>\n    <div class='secondary-shares'>\n      <a class='social-share google_plus'></a>\n      <a class='social-share linked_in'></a>\n      <a class='social-share stumble_upon'></a>\n      <a class='social-share pinterest'></a>\n    </div>\n    <div class='share-toggle'></div>\n  </div>\n  <div class='sparkline'></div>\n</div>"),Handlebars.templates["templates/posts/shares"]=Handlebars.compile("<div class='share-container'>\n  <div class='share-count'>{{totalShares}}</div>\n  <div class='primary-shares nowhatsapp'>\n    <a class='social-share facebook'>\n      Share\n      <span class='expanded-text'>on Facebook</span>\n    </a>\n    <a class='social-share twitter'>\n      <span class='primary-text'>Share</span>\n      <span class='alt-text'>Tweet</span>\n      <span class='expanded-text'>on Twitter</span>\n    </a>\n    <a class='social-share whatsapp' href='{{whatsappURL}}'>\n      <span class='primary-text'>Share</span>\n      <span class='alt-text'>Share</span>\n    </a>\n    <div class='share-toggle'></div>\n  </div>\n  <div class='secondary-shares'>\n    <a class='social-share google_plus'></a>\n    <a class='social-share linked_in'></a>\n    <a class='social-share stumble_upon'></a>\n    <a class='social-share pinterest'></a>\n    <div class='secondary-share-toggle'></div>\n  </div>\n</div>"),Handlebars.templates["templates/posts/social_interrupt"]=Handlebars.compile("<div id='fb-social-interrupt'>\n  <div class='text-container'>\n    <h1>Don't miss the next big thing.</h1>\n    <h2>We know what's about to go viral. Like us on Facebook to get it all in your News Feed.</h2>\n  </div>\n  <div class='fb-like-container faces'>\n    <div class='fb-like' data-action='like' data-href='http://www.facebook.com/mashable?interrupt=1' data-layout='standard' data-send='false' data-share='false' data-shares='2.4m' data-show-faces='true' data-width='258px'></div>\n  </div>\n  <a class='opt-out'>I've already Liked Mashable on Facebook.</a>\n</div>"),Handlebars.templates["templates/posts/subnav"]=Handlebars.compile("<div class='page-container'>\n  <ul class='channels'>\n    {{#each channels}}<li>\n      <a class='subnav-channel' data-tag='{{slug}}' href='{{url}}'>{{{name}}}</a>\n    </li>{{/each}}\n  </ul>\n  <ul class='subnav-posts'>\n    {{> templates.posts.subnav_posts}}\n  </ul>\n</div>"),Handlebars.templates["templates/posts/topic_post"]=Handlebars.compile("<div class='article-container sharable'>\n  <article class='post short' id='post-{{id}}'>\n    <div class='article-img-container'>\n      <a data-turbo-target='post_slider' href='{{link}}'>\n        {{> templates.shared.responsive_images}}\n      </a>\n    </div>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        <a class='article-category' href='javascript: void(0);'>{{channel}}</a>\n        <h1 class='article-title'>\n          <a data-turbo-target='post_slider' href='{{link}}'>{{{title}}}</a>\n        </h1>\n        <div class='article-byline'>{{author}}</div>\n        <time class='article-date' datetime='{{post_date_rfc}}'>{{post_date_rfc}}</time>\n        <p class='article-excerpt'>{{excerpt}}</p>\n      </div>\n      <footer>\n        <div class='article-shares-stub'>\n          <a class='num' href='{{link}}'>\n            <b>{{share_count shares.total}}</b>\n            shares\n            {{#if sponsored_by}}<span>/ {{sponsored_by}}</span>{{/if}}\n          </a>\n        </div>\n        <div class='article-shares-links'>\n          <a class='social-stub social-share facebook' data-href='{{link}}' data-shares='{{shares.facebook}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share twitter' data-href='{{link}}' data-shares='{{shares.twitter}}' data-title='{{title}}' href='javascript:void(0);'>\n            Tweet\n          </a>\n          <a class='social-stub social-share linked_in' data-href='{{link}}' data-shares='{{shares.linked_in}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share google_plus' data-href='{{link}}' data-shares='{{shares.google_plus}}' data-title='{{title}}' href='javascript:void(0);'>\n            +1\n          </a>\n        </div>\n      </footer>\n    </div>\n  </article>\n</div>"),Handlebars.templates["templates/quadratus/code_display"]=Handlebars.compile("<div class='mash-lightbox-close'></div>\n<div class='prompt'>\n  Traffic the following code:\n</div>\n<textarea id='quadExportCode' onclick='this.focus();this.select()' readonly='readonly'>{{{json}}}</textarea>\n<div class='buttons'>\n  <div class='copy' data-clipboard-target='quadExportCode'>Copy to Clipboard</div>\n  <div class='cancel'>Cancel</div>\n</div>"),Handlebars.templates["templates/quadratus/create_prompt"]=Handlebars.compile("<div class='mash-lightbox-close'></div>\n<div class='prompt'>\n  Title your ad unit:\n</div>\n<input name='name'>\n{{#each prompt}}<div class='prompt'>{{this}}</div>\n<input>{{/each}}\n{{#if multimedia}}<div class='prompt'>Media Type</div>\n<div class='select'>\n  <select>\n    <option value='image'>Instagram</option>\n    <option value='vine'>Vine</option>\n    <option value='youtube'>YouTube</option>\n    <option value='ustream'>Ustream</option>\n    <option value='soundcloud'>SoundCloud</option>\n  </select>\n</div>\n<div class='prompt'>Instagram Url</div>\n<input>{{/if}}\n<div class='buttons'>\n  <div class='create'>Create</div>\n  <div class='skip'>Skip</div>\n</div>"),Handlebars.templates["templates/quadratus/delete_prompt"]=Handlebars.compile("<div class='mash-lightbox-close'></div>\n<div class='prompt'>\n  Are you sure you want to delete this ad unit?\n</div>\n<div class='buttons'>\n  <div class='delete'>Yes</div>\n  <div class='cancel'>Cancel</div>\n</div>"),Handlebars.registerPartial("templates.quadratus.forms.media","<section class='media' data-index='{{index}}'>\n  <div class='grabbable'>\n    <div class='media-icon {{type}}'></div>\n    <div class='controls'>\n      <div class='toggle'></div>\n      <div class='delete'></div>\n    </div>\n  </div>\n  <div class='inputs'>\n    {{#if mixedMedia}}<label>Media Type</label>\n    <div class='select'>\n      <select>\n        {{#select type}}<option value='image'>Instagram</option>\n        <option value='vine'>Vine</option>\n        <option value='youtube'>YouTube</option>\n        <option value='ustream'>Ustream</option>\n        <option value='soundcloud'>SoundCloud</option>{{/select}}\n      </select>\n    </div>{{/if}}\n    <label class='mediaPop'>{{quadMediaSourceLabel type}}</label>\n    <div class='autopop'>\n      <input name='mediaAutopop'>\n      <div class='pop'></div>\n    </div>\n    <label class='mediaData'>{{quadDataInputLabel type}}</label>\n    <input name='media.{{index}}.data' value='{{data}}'>\n    <label>Thumbnail</label>\n    <input name='media.{{index}}.thumb' value='{{thumb}}'>\n  </div>\n</section>"),Handlebars.templates["templates/quadratus/forms/brand"]=Handlebars.compile("<input name='name' value='{{name}}'>\n<hr>\n<h2>Basic Information</h2>\n<label>\"Sponsored By\" Title</label>\n<input name='title' value='{{title}}'>\n<label>\"Sponsored By\" Logo</label>\n<input name='imageSrc' value='{{imageSrc}}'>\n<label>\"Sponsored By\" Description</label>\n<input name='description' value='{{description}}'>\n<label>Follow Button URL</label>\n<input name='followUrl' value='{{followUrl}}'>\n<label>Facebook Username</label>\n<input name='facebookHandle' value='{{facebookHandle}}'>\n<label>Twitter Widget ID</label>\n<input name='twitterWidgetId' value='{{twitterWidgetId}}'>\n<label>Twitter Username</label>\n<input name='twitterName' value='{{twitterName}}'>\n<label>Preview Post Slug</label>\n<input name='postSlug' value='{{postSlug}}'>\n<hr>\n<h2>Tracking Information</h2>\n{{#each trackers.impression}}<div class='impression-tracker'>\n  <label>Impression Tracker</label>\n  <input class='impression' data-index='{{@index}}' name='trackers.impression.{{@index}}' value='{{this}}'>\n  <div class='remove' data-index='{{@index}}'></div>\n</div>{{/each}}\n<a class='add-impression'>Add Impression Tracker</a>"),Handlebars.templates["templates/quadratus/forms/content"]=Handlebars.compile("{{#ifEqual complexType \"mashable-content-social\"}}{{#each media}}{{render \"templates.quadratus.forms.media\" this index=@index mixedMedia=true}}{{/each}}\n{{else}}\n<section class='media'>\n  <div class='media-icon plain-image'></div>\n  <div class='controls'>\n    <div class='toggle'></div>\n    <div class='delete'></div>\n  </div>\n  <div class='inputs'>\n    <label>Image Url</label>\n    <input name='media.0.data' value='{{media.0.data}}'>\n  </div>\n</section>{{/ifEqual}}\n<section>\n  <header>Basic Information</header>\n  <div class='inputs'>\n    {{#if mashableContent}}<label>Mashable Url</label>\n    {{else}}\n    <label>Advertiser Offsite Content Url</label>{{/if}}\n    <div class='autopop'>\n      <input name='sourceUrl' value='{{sourceUrl}}'>\n      <div class='pop'></div>\n    </div>\n    {{#unless mashableContent}}<label>Advertiser Site Name</label>\n    <input name='contentHost.title' value='{{contentHost.title}}'>\n    <label>Advertiser Site Clickthrough Url</label>\n    <input name='contentHost.url' value='{{contentHost.url}}'>{{/unless}}\n    <label>Title</label>\n    <input name='title' value='{{title}}'>\n    <label>Title Clickthrough Url</label>\n    <input name='share.title.url' value='{{share.title.url}}'>\n    <label>Thumbnail Clickthrough Url</label>\n    <input name='share.lead.url' value='{{share.lead.url}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Presented By Info</header>\n  <div class='inputs'>\n    <label>Presented By Text</label>\n    <input name='sponsorship.text' value='{{sponsorship.text}}'>\n    <label>Presented By Clickthrough Url</label>\n    <input name='sponsorship.url' value='{{sponsorship.url}}'>\n  </div>\n</section>\n{{#if mashableContent}}<section class='collapsed'>\n  <header>Share Info</header>\n  <div class='inputs'>\n    <label>Share Text</label>\n    <input name='share.text' value='{{share.text}}'>\n    <label>Share Url</label>\n    <input name='share.url' value='{{share.url}}'>\n  </div>\n</section>{{/if}}\n<section class='collapsed'>\n  <header>Tracking Info</header>\n  <div class='inputs'>\n    {{#each trackers.impression}}<div class='tracker-delete impression' data-index='{{@index}}'></div>\n<label>3rd Party/Survey Tracker (1x1)</label>\n<input class='impression-tracker' name='trackers.impression.{{@index}}' value='{{this}}'>{{/each}}\n    <div class='add-impression-tracker'></div>\n  </div>\n</section>"),Handlebars.templates["templates/quadratus/forms/gallery"]=Handlebars.compile("{{#each media}}{{render \"templates.quadratus.forms.media\" this index=@index}}{{/each}}\n<div class='add-media'></div>\n<section>\n  <header>Basic Information</header>\n  <div class='inputs'>\n    <label>Title</label>\n    <input name='title' value='{{title}}'>\n    <label>Description</label>\n    <input name='leadText' value='{{leadText}}'>\n    <label>CTA Text</label>\n    <input name='credit.text' value='{{credit.text}}'>\n    <label>CTA Url (DFP Click Command)</label>\n    <input name='credit.url' value='{{credit.url}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Presented By Info</header>\n  <div class='inputs'>\n    <label>Presented By Text</label>\n    <input name='sponsorship.text' value='{{sponsorship.text}}'>\n    <label>Presented By Clickthrough Url</label>\n    <input name='sponsorship.url' value='{{sponsorship.url}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Sharing Info</header>\n  <div class='inputs'>\n    <label>Twitter Share Text</label>\n    <input name='share.text' value='{{share.text}}'>\n    <label>Twitter Handle</label>\n    <input name='twitterHandle' value='{{twitterHandle}}'>\n    <label>Twitter Share Url</label>\n    <input name='share.url' value='{{share.url}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Tracking Info</header>\n  <div class='inputs'>\n    <label>Tracking Prefix</label>\n    <div class='autopop'>\n      <input name='trackingPrefix' value=''>\n      <div class='pop'></div>\n    </div>\n    <label>Facebook Tracker (1x1)</label>\n    <input name='trackers.share.facebook' value='{{trackers.share.facebook}}'>\n    <label>Twitter Tracker (1x1)</label>\n    <input name='trackers.share.twitter' value='{{trackers.share.twitter}}'>\n    <label>Pinterest Tracker (1x1)</label>\n    <input name='trackers.share.pinterest' value='{{trackers.share.pinterest}}'>\n    <label>LinkedIn Tracker (1x1)</label>\n    <input name='trackers.share.linkedIn' value='{{trackers.share.linkedIn}}'>\n    <label>Google Plus Tracker (1x1)</label>\n    <input name='trackers.share.googlePlus' value='{{trackers.share.googlePlus}}'>\n    <label>Previous Tracker (1x1)</label>\n    <input name='trackers.prev' value='{{trackers.prev}}'>\n    <label>Next Tracker (1x1)</label>\n    <input name='trackers.next' value='{{trackers.next}}'>\n    {{#each trackers.click}}<div class='tracker-delete click' data-index='{{@index}}'></div>\n<label>Preview Clickthrough Tracker (1x1)</label>\n<input class='click-tracker' name='trackers.click.{{@index}}' value='{{this}}'>{{/each}}\n    {{#each trackers.impression}}<div class='tracker-delete impression' data-index='{{@index}}'></div>\n<label>3rd Party/Survey Tracker (1x1)</label>\n<input class='impression-tracker' name='trackers.impression.{{@index}}' value='{{this}}'>{{/each}}\n    <div class='add-click-tracker'></div>\n    <div class='add-impression-tracker'></div>\n  </div>\n</section>"),Handlebars.templates["templates/quadratus/forms/sales_hub"]=Handlebars.compile("<input name='name' value='{{name}}'>\n<hr>\n<h2>Basic Information</h2>\n<label>Header Image URL</label>\n<input name='imageSrc' value='{{imageSrc}}'>\n<label>Description</label>\n<textarea name='description'>{{description}}</textarea>\n<label>Description Color</label>\n<input name='descriptionColor' value='{{descriptionColor}}'>\n<label>Follow Color</label>\n<input name='followColor' value='{{followColor}}'>\n<label>Outer Color</label>\n<input name='outerColor' value='{{outerColor}}'>\n<label>Inner Gradient Color</label>\n<input name='innerColor' value='{{innerColor}}'>\n<label>Preview Topic</label>\n<input name='topicSlug' value='{{topicSlug}}'>\n<hr>\n<h2>Social Links</h2>\n<label>Social Follow Title (\"Follow Us\")</label>\n<input name='followText' value='{{followText}}'>\n<label>Social Follow Title URL</label>\n<input name='titleUrl' value='{{titleUrl}}'>\n<label>Facebook URL</label>\n<input name='social.facebookUrl' value='{{social.facebookUrl}}'>\n<label>Twitter URL</label>\n<input name='social.twitterUrl' value='{{social.twitterUrl}}'>\n<label>Youtube URL</label>\n<input name='social.youtubeUrl' value='{{social.youtubeUrl}}'>\n<label>Pinterest URL</label>\n<input name='social.pinterestUrl' value='{{social.pinterestUrl}}'>\n<label>LinkedIn URL</label>\n<input name='social.linkedinUrl' value='{{social.linkedinUrl}}'>\n<label>Google+ URL</label>\n<input name='social.googlePlusUrl' value='{{social.googlePlusUrl}}'>\n<label>RSS URL</label>\n<input name='social.rssUrl' value='{{social.rssUrl}}'>\n<hr>\n<h2>Tracking Information</h2>\n{{#each trackers.impression}}<div class='impression-tracker'>\n  <label>Impression Tracker</label>\n  <input class='impression' data-index='{{@index}}' name='trackers.impression.{{@index}}' value='{{this}}'>\n  <div class='remove' data-index='{{@index}}'></div>\n</div>{{/each}}\n<a class='add-impression'>Add Impression Tracker</a>"),Handlebars.templates["templates/quadratus/forms/sponsored"]=Handlebars.compile("<input name='name' value='{{name}}'>\n<hr>\n<h2>Basic Information</h2>\n<label>Title</label>\n<input name='title' value='{{title}}'>\n<label>Description</label>\n<input name='leadText' value='{{leadText}}'>\n<label>Logo Src</label>\n<input name='logo.src' value='{{logo.src}}'>\n<label>Logo Href</label>\n<input name='logo.href' value='{{logo.href}}'>\n<hr>\n<h2>Tracking Information</h2>\n{{#each trackers.impression}}<div class='impression-tracker'>\n  <label>Impression Tracker</label>\n  <input class='impression' data-index='{{@index}}' name='trackers.impression.{{@index}}' value='{{this}}'>\n  <div class='remove' data-index='{{@index}}'></div>\n</div>{{/each}}\n<a class='add-impression'>Add Impression Tracker</a>"),Handlebars.templates["templates/quadratus/forms/twitter"]=Handlebars.compile("<section>\n  <header>Basic Information</header>\n  <div class='inputs'>\n    <label>Tweet Url</label>\n    <div class='autopop'>\n      <input name='tweetUrl'>\n      <div class='pop'></div>\n    </div>\n    <label>Tweet ID</label>\n    <input name='tweetId' value='{{tweetId}}'>\n    <label>Tweet Text</label>\n    <input name='leadText' value='{{leadText}}'>\n    <label>Image in Tweet</label>\n    <input name='leadImageSrc' value='{{leadImageSrc}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Account Info</header>\n  <div class='inputs'>\n    <label>Twitter Handle</label>\n    <input name='twitterHandle' value='{{twitterHandle}}'>\n    <label>Account Name</label>\n    <input name='twitterName' value='{{twitterName}}'>\n    <label>Twitter Avatar Thumbnail</label>\n    <input name='twitterAvatarSrc' value='{{twitterAvatarSrc}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Design Info</header>\n  <div class='inputs'>\n    <label>Tweet Font Color</label>\n    <input name='textColor' value='{{textColor}}'>\n    <label>Hashtag Color</label>\n    <input name='hashtagColor' value='{{hashtagColor}}'>\n    <label>Handle/Name Color</label>\n    <input name='usernameColor' value='{{usernameColor}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Presented By Info</header>\n  <div class='inputs'>\n    <label>Presented By Text</label>\n    <input name='sponsorship.text' value='{{sponsorship.text}}'>\n    <label>Presented By Clickthrough Url</label>\n    <input name='sponsorship.url' value='{{sponsorship.url}}'>\n  </div>\n</section>\n<section class='collapsed'>\n  <header>Tracking Info</header>\n  <div class='inputs'>\n    <label>Follow Tracker (1x1)</label>\n    <input name='twitterFollowTracker' value='{{twitterFollowTracker}}'>\n    <label>Twitter Account Clickthrough Url</label>\n    <input name='twitterAccountUrl' value='{{twitterAccountUrl}}'>\n    <label>Reply Intent Clickthrough Url</label>\n    <input name='replyTweetUrl' value='{{replyTweetUrl}}'>\n    <label>Retweet Intent Clickthrough Url</label>\n    <input name='retweetTweetUrl' value='{{retweetTweetUrl}}'>\n    <label>Favorite Intent Clickthrough Url</label>\n    <input name='favoriteTweetUrl' value='{{favoriteTweetUrl}}'>\n  </div>\n</section>"),Handlebars.templates["templates/quadratus/lightboxes/gallery"]=Handlebars.compile("<div class='mash-lightbox-close'></div>\n<div class='mash-lightbox-next'></div>\n<div class='mash-lightbox-prev'></div>\n<div class='lightbox-lead'></div>\n<div class='article-shares-links persistent'>\n  <a class='social-stub social-share no-count facebook no-track' data-href='{{share.url}}' data-title='{{share.text}}' href='javascript:void(0);'>\n    Share\n  </a>\n  <a class='social-stub social-share no-count twitter no-track' data-href='{{share.url}}' data-shorturl='{{share.url}}' data-title='{{share.text}}' data-twitter-handle='{{twitterHandle}}' href='javascript:void(0);'>\n    Tweet\n  </a>\n  <a class='social-stub social-share no-count google_plus no-track' data-href='{{share.url}}' data-shares='{{share_count shares.google_plus}}' data-title='{{share.text}}' href='javascript:void(0);'>\n    Share\n  </a>\n  <a class='social-stub social-share no-count pinterest no-track' data-description='{{share.text}}' data-href='{{share.url}}' data-image='{{media.0.image}}' data-title='{{share.text}}' href='javascript:void(0);'></a>\n  <a class='social-stub social-share no-count linked_in no-track' data-href='{{share.url}}' data-title='{{share.text}}' href='javascript:void(0);'>\n    Share\n  </a>\n  <a class='view-on' href='{{credit.url}}' target='_blank'>{{credit.text}}</a>\n</div>\n<footer>\n  <div class='title'>{{title}}</div>\n  <div class='description'>{{{leadText}}}</div>\n  {{#if sponsorship.url}}<a class='sponsorship' href='{{sponsorship.url}}' target='_blank'>{{sponsorship.text}}</a>\n  {{else}}\n  <div class='sponsorship'>{{sponsorship.text}}</div>{{/if}}\n</footer>"),Handlebars.templates["templates/quadratus/preview/content"]=Handlebars.compile("<div class='quad-box'>\n  <div class='quad-actions'>\n    <a class='preview' href='{{previewUrl}}' target='_blank'></a>\n    <a class='edit' href='/ads/{{id}}/edit'></a>\n    <div class='copy'></div>\n    <div class='code'></div>\n    <div class='delete'></div>\n  </div>\n  <div class='quad-image' style='background:url({{media.0.image}})'></div>\n</div>\n<div class='quad-meta'>\n  <div class='name'>{{name}}</div>\n  <div class='type'>{{complexTypeName}}</div>\n  <div class='sponsorship'>{{sponsorship.text}}</div>\n  <div class='timestamp'>{{timestamp}}</div>\n</div>"),Handlebars.templates["templates/quadratus/preview/gallery"]=Handlebars.compile("<div class='quad-box'>\n  <div class='quad-actions'>\n    <a class='preview' href='{{previewUrl}}' target='_blank'></a>\n    <a class='edit' href='/ads/{{id}}/edit'></a>\n    <div class='copy'></div>\n    <div class='code'></div>\n    <div class='delete'></div>\n  </div>\n  <div class='quad-image' style='background:url({{media.0.image}})'></div>\n</div>\n<div class='quad-meta'>\n  <div class='name'>{{name}}</div>\n  <div class='type'>{{complexTypeName}}</div>\n  <div class='sponsorship'>{{sponsorship.text}}</div>\n  <div class='timestamp'>{{timestamp}}</div>\n</div>"),Handlebars.templates["templates/quadratus/preview/sponsored"]=Handlebars.compile("<div class='quad-box'>\n  <div class='quad-actions'>\n    <a class='preview' href='{{previewUrl}}' target='_blank'></a>\n    <a class='edit' href='/ads/{{id}}/edit'></a>\n    <div class='copy'></div>\n    <div class='code'></div>\n    <div class='delete'></div>\n  </div>\n  <div class='quad-image' style='background:url({{media.0.image}})'></div>\n</div>\n<div class='quad-meta'>\n  <div class='name'>{{name}}</div>\n  <div class='type'>{{complexTypeName}}</div>\n  <div class='sponsorship'>{{sponsorship.text}}</div>\n  <div class='timestamp'>{{timestamp}}</div>\n</div>"),Handlebars.templates["templates/quadratus/preview/twitter"]=Handlebars.compile("<div class='quad-box'>\n  <div class='quad-actions'>\n    <a class='preview' href='{{previewUrl}}' target='_blank'></a>\n    <a class='edit' href='/ads/{{id}}/edit'></a>\n    <div class='copy'></div>\n    <div class='code'></div>\n    <div class='delete'></div>\n  </div>\n  <div class='quad-tweet'>\n    <div class='openQuote'>&ldquo;</div>\n    <div class='tweet-text'>{{{formattedTweet}}}</div>\n    <div class='closeQuote'>&rdquo;</div>\n    <div class='account'>\n      <div class='avatar' style='background:url({{twitterAvatarSrc}})'></div>\n      <div class='user'>{{twitterName}}</div>\n      <div class='handle'>{{twitterHandle}}</div>\n    </div>\n  </div>\n</div>\n<div class='quad-meta'>\n  <div class='name'>{{name}}</div>\n  <div class='type'>{{complexTypeName}}</div>\n  <div class='sponsorship'>{{sponsorship.text}}</div>\n  <div class='timestamp'>{{timestamp}}</div>\n</div>"),Handlebars.templates["templates/quadratus/units/brand"]=Handlebars.compile("<article class='quadratus mash-brand-unit'>\n  <div class='ad-content'>\n    <div class='sponsorship'>\n      {{title}}\n    </div>\n    {{#if imageSrc}}<a href='{{imageUrl}}'>\n      <img class='logo' src='{{imageSrc}}'>\n    </a>{{/if}}\n    {{#if description}}<div class='description'>{{description}}</div>{{/if}}\n    {{#if followUrl}}<a class='btn btn-success follow' href='{{followUrl}}'>Follow</a>{{/if}}\n    {{#if description}}<div class='divider'></div>{{/if}}\n    {{#ifOr facebookHandle twitterWidgetId}}<div class='social-streams'>\n      {{#if facebookHandle}}<div class='facebook'>\n        <iframe src='//www.facebook.com/plugins/likebox.php?href=http%3A%2F%2Fwww.facebook.com%2F{{facebookHandle}}&amp;width=270&amp;height=258&amp;colorscheme=light&amp;show_faces=true&amp;border_color=%23dbdbdb&amp;stream=false&amp;header=false' scrolling='no' frameborder='0' style='border:none; overflow:hidden; width:270px; height:258px;' allowTransparency='true'></iframe>\n      </div>{{/if}}\n      {{#if twitterWidgetId}}<div class='twitter'>\n        <a class='twitter-timeline' data-widget-id='{{twitterWidgetId}}' href='https://twitter.com/{{twitterName}}'>Tweets by @{{twitterName}}</a>\n      </div>{{/if}}\n    </div>{{/ifOr}}\n  </div>\n</article>"),Handlebars.templates["templates/quadratus/units/content"]=Handlebars.compile("<article class='quadratus content-lift sharable'>\n  <div class='ad-content'>\n    <div class='lead-image'>\n      {{#if playOverlay}}<div class='video-overlay'></div>{{/if}}\n      <a href='{{share.lead.url}}' target='{{isBlank mashableContent}}'>\n        <img class='bigThumb' src='{{media.0.image}}'>\n      </a>\n    </div>\n    {{#if sponsorship.url}}{{#if mashableContent}}<a class='sponsorship' href='{{sponsorship.url}}' target='_blank'>{{sponsorship.text}}</a>\n    {{else}}\n    <a class='sponsorship offsite' href='{{sponsorship.url}}' target='_blank'>{{sponsorship.text}}</a>{{/if}}\n    {{else}}\n    {{#if mashableContent}}<div class='sponsorship'>{{sponsorship.text}}</div>\n    {{else}}\n    <div class='sponsorship offsite'>{{sponsorship.text}}</div>{{/if}}{{/if}}\n    <div class='title'>\n      <a href='{{share.title.url}}' target='{{isBlank mashableContent}}'>{{title}}</a>\n      {{#unless mashableContent}}<a class='company' href='{{contentHost.url}}' target='_blank'>{{contentHost.title}}</a>{{/unless}}\n    </div>\n    <div class='lead-text'>{{{leadText}}}</div>\n    <footer>\n      {{#if shares}}<div class='article-shares-stub'>\n        <a class='num' href='{{titleUrl}}'>\n          <b>{{share_count shares.total}}</b>\n          shares\n        </a>\n      </div>\n      <div class='article-shares-links'>\n        <a class='social-stub social-share facebook no-track' data-href='{{share.url}}' data-shares='{{share_count shares.facebook}}' data-title='{{share.text}}' href='javascript:void(0);'>\n          Share\n        </a>\n        <a class='social-stub social-share twitter no-track' data-href='{{share.url}}' data-shares='{{share_count shares.twitter}}' data-shorturl='{{share.url}}' data-title='{{share.text}}' data-twitter-handle='{{twitterHandle}}' href='javascript:void(0);'>\n          Tweet\n        </a>\n        <a class='social-stub social-share google_plus no-track' data-href='{{share.url}}' data-shares='{{share_count shares.google_plus}}' data-title='{{share.text}}' href='javascript:void(0);'>\n          Share\n        </a>\n        <a class='social-stub social-share linked_in no-track' data-href='{{share.url}}' data-shares='{{share_count shares.linked_in}}' data-title='{{share.text}}' href='javascript:void(0);'>\n          Share\n        </a>\n      </div>{{/if}}\n    </footer>\n    {{#each trackers.impression}}<img src='{{this}}' style='width:0px;height:0px;float:left'>{{/each}}\n  </div>\n</article>"),Handlebars.templates["templates/quadratus/units/gallery"]=Handlebars.compile("<article class='quadratus gallery-lift'>\n  <div class='ad-content'>\n    <div class='lead-image'>\n      {{#if playOverlay}}<div class='video-overlay' data-index='{{randomMedia.0.index}}'></div>\n      {{else}}\n      {{#if bloomOverride}}<div class='overlay bloom' data-index='{{randomMedia.0.index}}'></div>\n      {{else}}\n      <div class='overlay' data-index='{{randomMedia.0.index}}'></div>{{/if}}{{/if}}\n      {{#if randomizeUnit}}<img class='bigThumb' data-index='{{randomMedia.0.index}}' src='{{randomMedia.0.image}}'>\n      {{else}}\n      <img class='bigThumb' src='{{media.0.image}}'>{{/if}}\n    </div>\n    {{#if showThumbs}}<div class='thumbs'>\n      {{#if randomizeUnit}}<img class='thumb' data-index='{{randomMedia.1.index}}' src='{{randomMedia.1.image}}'>\n      <img class='thumb' data-index='{{randomMedia.2.index}}' src='{{randomMedia.2.image}}'>\n      <img class='thumb' data-index='{{randomMedia.3.index}}' src='{{randomMedia.3.image}}'>\n      {{else}}\n      <img class='thumb' data-index='1' src='{{media.1.image}}'>\n      <img class='thumb' data-index='2' src='{{media.2.image}}'>\n      <img class='thumb' data-index='3' src='{{media.3.image}}'>{{/if}}\n    </div>{{/if}}\n    <div class='article-shares-links persistent'>\n      <a class='social-stub social-share no-count facebook no-track' data-href='{{share.url}}' data-title='{{share.text}}' href='javascript:void(0);'>\n        Share\n      </a>\n      <a class='social-stub social-share no-count twitter no-track' data-href='{{share.url}}' data-no-via='true' data-shorturl='{{share.url}}' data-title='{{share.text}}' data-twitter-handle='{{twitterHandle}}' href='javascript:void(0);'>\n        Tweet\n      </a>\n      <a class='social-stub social-share no-count google_plus no-track' data-href='{{share.url}}' data-shares='{{share_count shares.google_plus}}' data-title='{{share.text}}' href='javascript:void(0);'>\n        Share\n      </a>\n      <a class='social-stub social-share no-count pinterest no-track' data-description='{{{share.text}}}' data-href='{{share.url}}' data-image='{{media.0.image}}' data-title='{{share.text}}' href='javascript:void(0);'></a>\n      <a class='social-stub social-share no-count linked_in no-track' data-href='{{share.url}}' data-title='{{share.text}}' href='javascript:void(0);'>\n        Share\n      </a>\n    </div>\n    <footer>\n      <div class='title'>{{title}}</div>\n      <div class='lead-text'>{{{leadText}}}</div>\n      {{#if sponsorship.url}}<a class='sponsorship' href='{{sponsorship.url}}' target='_blank'>{{sponsorship.text}}</a>\n      {{else}}\n      <div class='sponsorship'>{{sponsorship.text}}</div>{{/if}}\n    </footer>\n    {{#each trackers.impression}}<img src='{{this}}' style='width:0px;height:0px;float:left'>{{/each}}\n  </div>\n</article>"),Handlebars.templates["templates/quadratus/units/sales_hub"]=Handlebars.compile("<div class='quadratus mash-sales-hub-unit'>\n  <img src='{{imageSrc}}'>\n  <div class='text-content'>\n    <div class='description' style='color:{{descriptionColor}}'>\n      {{{description}}}\n      <div class='follow' style='color:{{followColor}}'>\n        {{#if titleUrl}}<a href='{{titleUrl}}' style='color:{{followColor}}'>{{followText}}</a>\n        {{else}}\n        {{followText}}{{/if}}\n        {{#if social.facebookUrl}}<a class='facebook icon' href='{{social.facebookUrl}}' style='color:{{outerColor}};background:{{followColor}}' target='_blank'></a>{{/if}}\n        {{#if social.twitterUrl}}<a class='icon twitter' href='{{social.twitterUrl}}' style='color:{{outerColor}};background:{{followColor}}' target='_blank'></a>{{/if}}\n        {{#if social.youtubeUrl}}<a class='icon youtube' href='{{social.youtubeUrl}}' style='color:{{outerColor}};background:{{followColor}}' target='_blank'></a>{{/if}}\n        {{#if social.pinterestUrl}}<a class='icon pinterest' href='{{social.pinterestUrl}}' style='color:{{outerColor}};background:{{followColor}}' target='_blank'></a>{{/if}}\n        {{#if social.linkedinUrl}}<a class='icon linkedin' href='{{social.linkedinUrl}}' style='color:{{outerColor}};background:{{followColor}}' target='_blank'></a>{{/if}}\n        {{#if social.googlePlusUrl}}<a class='googleplus icon' href='{{social.googlePlusUrl}}' style='color:{{outerColor}};background:{{followColor}}' target='_blank'></a>{{/if}}\n        {{#if social.rssUrl}}<a class='icon rss' href='{{social.rssUrl}}' style='color:{{outerColor}};background:{{followColor}}' target='_blank'></a>{{/if}}\n      </div>\n    </div>\n  </div>\n  {{#each imageTrackers}}<img src='{{imageSrc}}' style='display:none'>{{/each}}\n  {{#each impressionTags}}<img alt='' border='0' height='0' src='{{imageSrc}}' width='0'>{{/each}}\n  {{#each scriptTags}}<script src='{{src}}'></script>{{/each}}\n  <div class='clearfix'></div>\n</div>"),Handlebars.templates["templates/quadratus/units/sponsored"]=Handlebars.compile("<div class='quadratus sponsored-unit'>\n  {{#if logo.href}}<a class='image' href='{{logo.href}}' target='_blank'>\n    <img class='logo' src='{{logo.src}}'>\n  </a>{{/if}}\n  <div class='textblock'>\n    <h1 class='sponsored'>{{title}}</h1>\n    {{#if leadText}}<div class='description'>{{{leadText}}}</div>{{/if}}\n  </div>\n  {{#each trackers.impression}}<img src='{{this}}' style='width:0px;height:0px'>{{/each}}\n  <div class='clearfix'></div>\n</div>"),Handlebars.templates["templates/quadratus/units/twitter"]=Handlebars.compile("<article class='quadratus twitter-lift' id='tweet{{tweetId}}'>\n  <style>\n    #tweet{{tweetId}} a.hashtag {\n      color: {{hashtagColor}} !important;\n    }\n    #tweet{{tweetId}} a.username {\n      color: {{usernameColor}} !important;\n    }\n    #tweet{{tweetId}} .lead-text {\n      color: {{textColor}} !important;\n    }\n  </style>\n  <div class='ad-content'>\n    {{#each trackers.impression}}<img src='{{this}}' style='width:0px;height:0px'>{{/each}}\n    {{#if sponsorship.url}}<a class='sponsorship' href='{{sponsorship.url}}' target='_blank'>{{sponsorship.text}}</a>\n    {{else}}\n    <div class='sponsorship'>{{sponsorship.text}}</div>{{/if}}\n    <h1 class='lead-text'>\n      <div class='openQuote'>&ldquo;</div>\n      {{{leadText}}}\n      <div class='closeQuoteWrapper'>\n        <div class='closeQuote'>&rdquo;</div>\n      </div>\n    </h1>\n    {{#if leadImageSrc}}<div class='tweetPic'>\n      <img src='{{leadImageSrc}}'>\n    </div>{{/if}}\n    <div class='account-details'>\n      <a class='avatar' href='{{twitterAccountUrl}}' style='background: url(\"{{twitterAvatarSrc}}\")' target='_blank'></a>\n      <a class='username' href='{{twitterAccountUrl}}' target='_blank'>{{twitterName}}</a>\n      <a class='handle' href='{{twitterAccountUrl}}' target='_blank'>@{{twitterHandle}}</a>\n    </div>\n    <footer>\n      <div class='twitter-follow'>\n        <a class='twitter-follow-button' data-show-count='false' href='https://twitter.com/{{twitterHandle}}'>\n          Follow @{{twitterName}}\n        </a>\n      </div>\n      <div class='twitter-intents'>\n        <a class='twitter-reply' href='{{replyTweetUrl}}' target='_blank'></a>\n        <a class='twitter-retweet' href='{{retweetTweetUrl}}' target='_blank'></a>\n        <a class='twitter-favorite' href='{{favoriteTweetUrl}}' target='_blank'></a>\n      </div>\n    </footer>\n  </div>\n</article>"),Handlebars.templates["templates/search/search_header"]=Handlebars.compile("<ul>\n  <li>\n    <a href='#'>{{stories}} Stories</a>\n  </li>\n  <li>\n    <a href='#'>{{topics}} Topics</a>\n  </li>\n  <li>\n    <a href='#'>{{people}} People</a>\n  </li>\n</ul>"),Handlebars.registerPartial("templates.shared.responsive_images","<span class='_pf'>\n  {{#each responsive_images}}<span data-q='{{query}}' data-s='{{image}}' data-z='{{size}}'></span>{{/each}}\n</span>"),Handlebars.templates["templates/shared/like_us_on_facebook"]=Handlebars.compile("<div id='like-encourager'>\n  <a class='mash-lightbox-close'></a>\n  <hgroup>\n    <h1 class='first'>Enjoy this story?</h1>\n    <h1>Like us on Facebook to get more!</h1>\n  </hgroup>\n  <div class='fb-like' data-href='http://www.facebook.com/mashable' data-layout='box_count' data-send='false' data-show-faces='false' data-width='58'></div>\n  <div class='opt-out'>\n    I'm already a Mashable fan,\n    <a href='javascript:void(0);'>don't show this box again.</a>\n  </div>\n</div>"),Handlebars.templates["templates/shared/loading"]=Handlebars.compile("<div class='loading-dots'>\n  <span class='dot'></span>\n  <span class='dot'></span>\n  <span class='dot'></span>\n</div>"),Handlebars.templates["templates/topics/search_topic"]=Handlebars.compile("<div class='topic-container'><article class='topic clearfix short' id='topic={{id}}'><div class='topic-img-container'>\n    <a href='{{url}}'>\n      {{> templates.shared.responsive_images}}\n    </a>\n  </div>\n  <div class='topic-content-wrapper'>\n    <div class='topic-content'>\n      <div class='topic-name'>\n        <h2 class='title'><a href=\"{{url}}\">{{name}}</a></h2>\n      </div>\n      <div class='topic-meta'>\n        <span class='topic-stories'>\n          {{posts_count}}          Stories\n        </span>\n        <span class='topic-followers'>\n          {{follower_count}}          Followers\n        </span>\n      </div>\n    </div>\n    <a href=\"{{url}}\" class=\"btn btn-success\">Follow</a>  </div></article></div>"),Handlebars.templates["templates/tripleclick/brand_unit"]=Handlebars.compile("<div class='mash-brand-unit'>\n  {{#if prefixHTML}}{{{prefixHTML}}}{{/if}}\n  {{#if followUrl}}<h1>{{title}}</h1>\n  <a href='{{imageUrl}}'>\n    <img class='logo' src='{{imageSrc}}'>\n  </a>\n  <div class='description'>{{{description}}}</div>\n  <a class='btn btn-success follow' href='{{followUrl}}'>Follow</a>\n  <div class='social-streams'>\n    {{#if facebookHandle}}<div class='facebook'>\n      <iframe src='//www.facebook.com/plugins/likebox.php?href=http%3A%2F%2Fwww.facebook.com%2F{{facebookHandle}}&amp;width=300&amp;height=258&amp;colorscheme=light&amp;show_faces=true&amp;border_color=%23dbdbdb&amp;stream=false&amp;header=false' scrolling='no' frameborder='0' style='border:none; overflow:hidden; width:270px; height:258px;' allowTransparency='true'></iframe>\n    </div>{{/if}}\n    {{#if twitterHandle}}<div class='twitter'></div>{{/if}}\n  </div>{{/if}}\n  {{#unless followUrl}}<div class='social-streams noborder'>\n    {{#if facebookHandle}}<div class='facebook'>\n      <iframe src='//www.facebook.com/plugins/likebox.php?href=http%3A%2F%2Fwww.facebook.com%2F{{facebookHandle}}&amp;width=300&amp;height=258&amp;colorscheme=light&amp;show_faces=true&amp;border_color=%23dbdbdb&amp;stream=false&amp;header=false' scrolling='no' frameborder='0' style='border:none; overflow:hidden; width:270px; height:258px;' allowTransparency='true'></iframe>\n    </div>{{/if}}\n    {{#if twitterHandle}}<div class='twitter'></div>{{/if}}\n  </div>{{/unless}}\n  {{#if postfixHTML}}{{{postfixHTML}}}{{/if}}\n</div>"),Handlebars.templates["templates/tripleclick/image_lift_lightbox"]=Handlebars.compile("<div class='mash-lightbox-close'></div>\n<div class='mash-lightbox-next'></div>\n<div class='mash-lightbox-prev'></div>\n<img class='lightbox-image-lead' src='{{images.0.imageSrc}}'>\n<div class='article-shares-links persistent'>\n  <a class='social-stub social-share no-count facebook' data-href='{{shareUrl}}' data-title='{{shareText}}' href='javascript:void(0);'>\n    Share\n  </a>\n  <a class='social-stub social-share no-count twitter' data-href='{{shareUrl}}' data-shorturl='{{shareUrl}}' data-title='{{shareText}}' data-twitter-handle='{{twitterHandle}}' href='javascript:void(0);'>\n    Tweet\n  </a>\n  <a class='social-stub social-share no-count pinterest' data-description='{{{description}}}' data-href='{{shareUrl}}' data-image='{{images.0.imageSrc}}' data-title='{{shareText}}' href='javascript:void(0);'></a>\n  <a class='social-stub social-share no-count linked_in' data-href='{{shareUrl}}' data-title='{{shareText}}' href='javascript:void(0);'>\n    Share\n  </a>\n  <a class='view-on' href='{{viewOnUrl}}' target='_blank'>{{viewOnText}}</a>\n</div>\n<footer>\n  <div class='title'>{{title}}</div>\n  <div class='description'>{{{description}}}</div>\n  <a class='article-category'>Sponsored</a>\n</footer>"),Handlebars.templates["templates/tripleclick/image_lift_unit"]=Handlebars.compile("<div class='article-container sharable ad-unit image-lift'>\n  <article class='post short'>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        <div class='lead-image'>\n          <div class='overlay'></div>\n          <img src='{{images.0.imageSrc}}'>\n        </div>\n        {{#if gallery}}<div class='thumbs'>\n          <img class='thumb' data-index='1' src='{{images.1.imageSrc}}'>\n          <img class='thumb' data-index='2' src='{{images.2.imageSrc}}'>\n          <img class='thumb' data-index='3' src='{{images.3.imageSrc}}'>\n        </div>{{/if}}\n        <div class='article-shares-links persistent'>\n          <a class='social-stub social-share no-count facebook' data-href='{{shareUrl}}' data-title='{{shareText}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share no-count twitter' data-href='{{shareUrl}}' data-shorturl='{{shareUrl}}' data-title='{{shareText}}' data-twitter-handle='{{twitterHandle}}' href='javascript:void(0);'>\n            Tweet\n          </a>\n          <a class='social-stub social-share no-count pinterest' data-description='{{{description}}}' data-href='{{shareUrl}}' data-image='{{images.0.imageSrc}}' data-title='{{shareText}}' href='javascript:void(0);'></a>\n          <a class='social-stub social-share no-count linked_in' data-href='{{shareUrl}}' data-title='{{shareText}}' href='javascript:void(0);'>\n            Share\n          </a>\n        </div>\n      </div>\n      <footer>\n        <div class='title'>{{title}}</div>\n        <div class='description'>{{{description}}}</div>\n        <a class='article-category'>Sponsored</a>\n      </footer>\n    </div>\n  </article>\n</div>"),Handlebars.templates["templates/tripleclick/len_unit"]=Handlebars.compile("<div class='mash-len-unit'>\n  <div class='social-streams'>\n    <div class='twitter'></div>\n  </div>\n  {{#if postfixHTML}}{{{postfixHTML}}}{{/if}}\n</div>"),Handlebars.templates["templates/tripleclick/lift_unit"]=Handlebars.compile("<div class='article-container sharable ad-unit'>\n  <article class='post short' id='post-{{id}}'>\n    <div class='article-img-container'>\n      {{#if vineUrl}}<div class='play-overlay'></div>{{/if}}\n      <a data-turbo-target='post-slider' href='{{imageUrl}}'>\n        <img src='{{imageSrc}}'>\n        <div class='bgimage' style=\"background-image:url('{{imageSrc}}')\"></div>\n      </a>\n    </div>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        <a class='article-category' href='{{bylineUrl}}'>{{byline}}</a>\n        <h1 class='article-title'>\n          <a data-turbo-target='post-slider' href='{{titleUrl}}'>{{title}}</a>\n        </h1>\n        <div class='article-byline'></div>\n        <p class='article-excerpt'>\n          {{description}}\n        </p>\n        {{#each adTracker}}<img src='{{this}}' style='width:1px;height:1px'>{{/each}}\n      </div>\n      <footer>\n        <div class='article-shares-stub'>\n          <a class='num' href='{{titleUrl}}'>\n            <b>{{share_count shares.total}}</b>\n            shares\n          </a>\n        </div>\n        <div class='attribution'>{{attribution}}</div>\n        <div class='article-shares-links'>\n          <a class='social-stub social-share facebook' data-href='{{shareUrl}}' data-shares='{{share_count shares.facebook}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share twitter' data-href='{{shareUrl}}' data-shares='{{share_count shares.twitter}}' data-shorturl='{{shareUrl}}' data-title='{{title}}' href='javascript:void(0);'>\n            Tweet\n          </a>\n          <a class='social-stub social-share google_plus' data-href='{{shareUrl}}' data-shares='{{share_count shares.google_plus}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share linked_in' data-href='{{shareUrl}}' data-shares='{{share_count shares.linked_in}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n        </div>\n      </footer>\n    </div>\n  </article>\n</div>"),Handlebars.templates["templates/tripleclick/mobile_brand_unit"]=Handlebars.compile("<div class='mash-mobile-brand-unit'>\n  <h1>{{title}}</h1>\n  <a href='{{imageUrl}}'>\n    <img class='logo' src='{{imageSrc}}'>\n  </a>\n  <div class='description'>{{{description}}}</div>\n  <a class='btn btn-success follow' href='{{followUrl}}'>Follow</a>\n  {{#if facebookHandle}}<a class='icon-facebook' href='http://facebook.com/{{facebookHandle}}'></a>{{/if}}\n  {{#if twitterHandle}}<a class='icon-twitter' href='http://twitter.com/{{twitterHandle}}'></a>{{/if}}\n</div>"),Handlebars.templates["templates/tripleclick/network_unit"]=Handlebars.compile("<div class='article-container sharable ad-unit'>\n  <article class='post short' id='post-{{id}}'>\n    <div class='article-img-container'>\n      <a data-turbo-target='post-slider' href='{{titleUrl}}' target='_blank'>\n        {{#if brightcoveId}}<div class='play-overlay'></div>{{/if}}\n        <img src='{{imageSrc}}'>\n        <div class='bgimage' style=\"background-image:url('{{imageSrc}}')\"></div>\n      </a>\n    </div>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        {{#if brightcoveId}}<div class='article-shares-links persistent brightcove-ad'>\n          <a class='social-stub social-share no-count facebook' data-href='{{titleUrl}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n          <a class='social-stub social-share no-count twitter' data-href='{{titleUrl}}' data-shorturl='{{titleUrl}}' data-title='{{title}}' href='javascript:void(0);'>\n            Tweet\n          </a>\n          <a class='social-stub social-share no-count google_plus' data-href='{{titleUrl}}' data-title='{{title}}' href='javascript:void(0);'>\n            +1\n          </a>\n          <a class='social-stub social-share no-count linked_in' data-href='{{titleUrl}}' data-title='{{title}}' href='javascript:void(0);'>\n            Share\n          </a>\n        </div>{{/if}}\n        <a class='article-category network' href='{{bylineUrl}}' target='_blank'>{{byline}}</a>\n        <h1 class='article-title'>\n          <a data-turbo-target='post-slider' href='{{titleUrl}}' target='_blank'>\n            {{title}}\n            <div class='company'>{{company}}</div>\n          </a>\n        </h1>\n        <div class='article-byline'></div>\n        <p class='article-excerpt'>\n          {{description}}\n        </p>\n        {{#each adTracker}}<img src='{{this}}' style='width:1px;height:1px'>{{/each}}\n      </div>\n    </div>\n  </article>\n</div>"),Handlebars.templates["templates/tripleclick/publisher_unit"]=Handlebars.compile("<div class='article-container sharable ad-unit'>\n  <article class='post short'>\n    <div class='article-img-container'>\n      <a href='{{link}}' target='_blank'>\n        <img src='{{imageSrc}}'>\n      </a>\n    </div>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        <a class='article-category' href='{{url}}' target='_blank'>{{publisher}}</a>\n        <h1 class='article-title'>\n          <a href='{{link}}' target='_blank'>{{title}}</a>\n        </h1>\n      </div>\n    </div>\n  </article>\n</div>"),Handlebars.templates["templates/tripleclick/sales_hub_unit"]=Handlebars.compile("<div class='mash-sales-hub-unit'>\n  <img src='{{imageSrc}}'>\n  <div class='text-content'>\n    <div class='description' style='color:{{descriptionColor}}'>\n      {{{description}}}\n      <div class='follow' style='color:{{followColor}}'>\n        <a href='{{titleUrl}}' style='color:{{followColor}}'>{{followText}}</a>\n        {{#if facebookUrl}}<a class='facebook icon' href='{{facebookUrl}}' style='color:{{outerColor}};background:{{followColor}}'></a>{{/if}}\n        {{#if twitterUrl}}<a class='icon twitter' href='{{twitterUrl}}' style='color:{{outerColor}};background:{{followColor}}'></a>{{/if}}\n        {{#if youtubeUrl}}<a class='icon youtube' href='{{youtubeUrl}}' style='color:{{outerColor}};background:{{followColor}}'></a>{{/if}}\n        {{#if pinterestUrl}}<a class='icon pinterest' href='{{pinterestUrl}}' style='color:{{outerColor}};background:{{followColor}}'></a>{{/if}}\n        {{#if linkedinUrl}}<a class='icon linkedin' href='{{linkedinUrl}}' style='color:{{outerColor}};background:{{followColor}}'></a>{{/if}}\n        {{#if googlePlusUrl}}<a class='googleplus icon' href='{{googlePlusUrl}}' style='color:{{outerColor}};background:{{followColor}}'></a>{{/if}}\n        {{#if rssUrl}}<a class='icon rss' href='{{rssUrl}}' style='color:{{outerColor}};background:{{followColor}}'></a>{{/if}}\n      </div>\n    </div>\n  </div>\n  {{#each imageTrackers}}<img src='{{imageSrc}}' style='display:none'>{{/each}}\n  {{#each impressionTags}}<img alt='' border='0' height='0' src='{{imageSrc}}' width='0'>{{/each}}\n  {{#each scriptTags}}<script src='{{src}}'></script>{{/each}}\n  <div class='clearfix'></div>\n</div>"),Handlebars.templates["templates/tripleclick/sponsored_brand_unit"]=Handlebars.compile("<div class='mash-sponsored-brand-unit'>\n  <a class='image' href='{{imageUrl}}'>\n    <img class='logo' src='{{imageSrc}}'>\n  </a>\n  <div class='textblock'>\n    <h1 class='sponsored'>{{title}}</h1>\n    <div class='description'>{{{description}}}</div>\n  </div>\n</div>"),Handlebars.templates["templates/tripleclick/twitter_lift_lightbox"]=Handlebars.compile("<div class='mash-lightbox-close'></div>\n<img class='tweetPic' src='{{imageSrc}}'>\n<div class='twitter-shares'>\n  <div class='twitter-follow'>\n    <a class='twitter-follow-button' data-show-count='false' href='https://twitter.com/{{twitterHandle}}'>\n      Follow @{{twitterHandle}}\n    </a>\n  </div>\n  <div class='twitter-intents'>\n    <a class='twitter-reply' href='{{replyUrl}}' target='_blank'></a>\n    <a class='twitter-retweet' href='{{retweetUrl}}' target='_blank'></a>\n    <a class='twitter-favorite' href='{{favoriteUrl}}' target='_blank'></a>\n  </div>\n</div>\n<footer>\n  <div class='account-details'>\n    <a class='avatar' href='{{accountUrl}}' style='background: url(\"{{twitterAvatar}}\")' target='_blank'>\n      <a class='user' href='{{accountUrl}}' target='_blank'>{{twitterUser}}</a>\n    </a>\n    <a class='handle' href='{{accountUrl}}' target='_blank'>@{{twitterHandle}}</a>\n    <p class='tweet'>{{{tweet}}}</p>\n  </div>\n  <a class='article-category'>Sponsored</a>\n</footer>"),Handlebars.templates["templates/tripleclick/twitter_lift_unit"]=Handlebars.compile("<div class='article-container sharable ad-unit twitter-lift' id='tweet{{tweetId}}'>\n  <article class='post short'>\n    <style>\n      #tweet{{tweetId}} a.hashtag {\n        color: {{hashtagColor}} !important;\n      }\n      #tweet{{tweetId}} a.username {\n        color: {{usernameColor}} !important;\n      }\n      #tweet{{tweetId}} .article-title {\n        color: {{textColor}} !important;\n      }\n    </style>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        <a class='article-category'>Sponsored</a>\n        <h1 class='article-title'>\n          <div class='openQuote'>&ldquo;</div>\n          {{{tweet}}}\n          <div class='closeQuoteWrapper'>\n            <div class='closeQuote'>&rdquo;</div>\n          </div>\n        </h1>\n        {{#each renderTracker}}<img src='{{this}}' style='width:1px;height:1px'>{{/each}}\n        {{#if imageSrc}}<div class='tweetPic'>\n          <img src='{{imageSrc}}'>\n        </div>{{/if}}\n        <div class='account-details'>\n          <a class='avatar' href='{{accountUrl}}' style='background: url(\"{{twitterAvatar}}\")' target='_blank'></a>\n          <a class='user' href='{{accountUrl}}' target='_blank'>{{twitterUser}}</a>\n          <a class='handle' href='{{accountUrl}}' target='_blank'>@{{twitterHandle}}</a>\n        </div>\n      </div>\n      <footer>\n        <div class='twitter-follow'>\n          <a class='twitter-follow-button' data-show-count='false' href='https://twitter.com/{{twitterHandle}}'>\n            Follow @{{twitterHandle}}\n          </a>\n        </div>\n        <div class='twitter-intents'>\n          <a class='twitter-reply' href='{{replyUrl}}' target='_blank'></a>\n          <a class='twitter-retweet' href='{{retweetUrl}}' target='_blank'></a>\n          <a class='twitter-favorite' href='{{favoriteUrl}}' target='_blank'></a>\n        </div>\n      </footer>\n    </div>\n  </article>\n</div>"),Handlebars.templates["templates/tripleclick/video_lift_unit"]=Handlebars.compile("<div class='article-container sharable ad-unit video-lift'>\n  <article class='post short' id='post-{{id}}'>\n    <div class='article-img-container'>\n      <img class='iframe-expander' src='/assets/16x9.png'>\n      <div class='overlay'></div>\n      <div class='video-thumbnail' style=\"background-image:url('{{imageSrc}}')\"></div>\n    </div>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        <a class='article-category' href='{{bylineUrl}}'>{{byline}}</a>\n        <h1 class='article-title'>\n          <a data-turbo-target='post-slider' href='{{titleUrl}}'>{{title}}</a>\n        </h1>\n        {{#each renderTracker}}<img src='{{this}}' style='width:1px;height:1px'>{{/each}}\n      </div>\n      {{#unless suppressShares}}<footer>\n  <div class='article-shares-links persistent'>\n    {{#if subscribe}}<a class='subscribe' href='{{subscribe}}' target='_blank'></a>{{/if}}\n    <a class='social-stub social-share no-count facebook' data-href='{{shareUrl}}' data-title='{{shareText}}' href='javascript:void(0);'>\n      Share\n    </a>\n    <a class='social-stub social-share no-count twitter' data-href='{{shareUrl}}' data-shorturl='{{shareUrl}}' data-title='{{shareText}}' data-twitter-handle='{{twitterHandle}}' href='javascript:void(0);'>\n      Tweet\n    </a>\n    <a class='social-stub social-share no-count google_plus' data-href='{{shareUrl}}' data-title='{{shareText}}' href='javascript:void(0);'>\n      +1\n    </a>\n    <a class='social-stub social-share no-count linked_in' data-href='{{shareUrl}}' data-title='{{shareText}}' href='javascript:void(0);'>\n      Share\n    </a>\n  </div>\n</footer>{{/unless}}\n    </div>\n  </article>\n</div>"),Handlebars.templates["templates/tripleclick/vine_embed"]=Handlebars.compile("<img class='iframe-expander' src='http://placehold.it/1x1'>\n<iframe allowfullscreen class='force-expanded' frameborder='0' src='{{url}}'></iframe>"),Handlebars.templates["templates/tripleclick/vine_lift_unit"]=Handlebars.compile("<div class='article-container sharable ad-unit video-lift'>\n  <article class='post short' id='post-{{id}}'>\n    <div class='article-img-container'>\n      <div class='overlay'></div>\n      <img src='{{imageSrc}}'>\n      <div class='bgimage' style=\"background-image:url('{{imageSrc}}')\"></div>\n    </div>\n    <div class='article-content-wrapper'>\n      <div class='article-content'>\n        <a class='article-category' href='#'>{{byline}}</a>\n        <h1 class='article-title'>\n          <a data-turbo-target='post-slider' href='#'>{{title}}</a>\n        </h1>\n      </div>\n    </div>\n    <footer class='vine'>\n      <div class='vine-follow'>\n        <a class='twitter-follow-button' data-show-count='false' href='https://twitter.com/{{twitterHandle}}'>\n          Follow @{{twitterHandle}}\n        </a>\n      </div>\n      <div class='vine-intents'>\n        <a class='vine-reply' href='{{replyUrl}}' target='_blank'></a>\n        <a class='vine-retweet' href='{{retweetUrl}}' target='_blank'></a>\n        <a class='vine-favorite' href='{{favoriteUrl}}' target='_blank'></a>\n      </div>\n    </footer>\n  </article>\n</div>"),Handlebars.templates["templates/tripleclick/youtube_embed"]=Handlebars.compile("<img class='iframe-expander' src='/assets/16x9.png'>\n<iframe allowfullscreen frameborder='0' src='http://www.youtube.com/embed/{{videoShortcode}}?autoplay=1'></iframe>"),Handlebars.templates["templates/users/feed/comment"]=Handlebars.compile("<article class='feed-tile feed-comment'>\n  <div class='feed-tile-inner'>\n    <section class='content'>\n      <div class='feed-comment-body'>{{{body}}}</div>\n    </section>\n    <aside class='metadata'>\n      <time datetime='{{created_at}}'>{{created_at}}</time>\n      <div class='action'>on</div>\n      <a href=\"{{owner_link}}\" class=\"feed-source\">{{owner_title}}</a>\n    </aside>\n  </div>\n</article>"),Handlebars.templates["templates/users/feed/post"]=Handlebars.compile("<article class='feed-tile feed-post'>\n  <a class='feed-post-image' href='{{link}}'>\n    <img src='{{image}}'>\n  </a>\n  <div class='feed-tile-inner'>\n    <a href=\"{{link}}\" class=\"feed-source\">{{title}}</a>\n    <section class='content'>\n      <div class='feed-post-body'>{{{excerpt}}}</div>\n    </section>\n    <aside class='metadata'>\n      <time datetime='{{created_at}}'>{{created_at}}</time>\n      <div class='comments-count'>{{comments_count}} comments</div>\n    </aside>\n  </div>\n</article>"),Handlebars.templates["templates/users/search_user"]=Handlebars.compile("<div class='user-container'><article class='user clearfix short' id='user-{{id}}'><div class='user-img-container'>\n    <a href='{{url}}'>\n      {{> templates.shared.responsive_images}}\n    </a>\n  </div>\n  <div class='user-content-wrapper'>\n    <div class='user-content'>\n      <div class='user-username'>\n        <h2 class='title'><a href=\"{{url}}\">{{display_name}}</a></h2>\n      </div>\n      <div class='user-meta'>\n        <span class='user-followers'>\n          <i class='icon-user'></i>\n          {{follower_count}}        </span>\n        <span class='user-comments'>\n          <i class='icon-comment'></i>\n          {{comments_count}}        </span>\n        <span class='user-shares'>\n          <i class='icon-share'></i>\n          {{shares_count}}        </span>\n      </div>\n    </div>\n    <a href=\"{{url}}\" class=\"btn btn-success\">Follow</a>  </div></article></div>"),Handlebars.templates["templates/users/unsubscribe_prompt"]=Handlebars.compile("<div class='prompt'>\n  Are you sure you want to unsubscribe?\n</div>\n<div class='buttons'>\n  <div class='unsubscribe'>Unsubscribe</div>\n  <div class='cancel'>Cancel</div>\n</div>"),Handlebars.templates["templates/videos/video"]=Handlebars.compile("<li class='video' data-desc='{{desc}}' data-id='{{id}}' data-thumbnail='{{thumbnail}}' data-title='{{title}}' data-video-id='{{videoId}}'>\n  <a href='/video-categories/{{playlist.tag}}/videos/{{id}}'>\n    <img alt='{{title}}' src='{{thumbnail}}'>\n    <p>{{title}}</p>\n  </a>\n</li>"),function(){var e,t,n,i,r,s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e
}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=$(window),t=function(e){function t(){return i=t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.url=function(){return"/series/"+this.attributes.id+".json"},t}(Backbone.Model),n=function(n){function i(){return r=i.__super__.constructor.apply(this,arguments)}return a(i,n),i.prototype.events={"click .series article":"clickArticle","click #series-next":"next","click #series-prev":"prev",click:"toggleStrip"},i.prototype.template="templates/posts/series",i.prototype.replaceElement=!1,i.load=function(e){var n;return e?(n=new t({id:e}),this.singleton||(this.singleton=new i({el:$("#series").get(0),model:n})),this.singleton.model.set({id:e},{silent:!0}),this.singleton.model.fetch(),this.singleton.show()):this.create(null)},i.create=function(e){return this.singleton&&e?this.singleton._id===e._id?this.singleton.show():(this.singleton.model.set(e),this.singleton.show()):e?(this.singleton=new i({el:$("#series").get(0)}),this.singleton.model.set(e),this.singleton):this.singleton&&!e?this.singleton.hide():void 0},i.prototype.initialize=function(){var e=this;return this.el.id="series",this.model||(this.model=new App.Series),this.model.bind("change",function(){return e.changeData()})},i.prototype.changeData=function(){return this._id=this.model.attributes._id,this.render(),-1!==_.indexOf(["sponsored","supported"],this.model.attributes.series_type)&&this.$el.find("#series-pane .sponsorship").append(TripleClick.tripleclickAd("series_sponsor")),this.$pane=this.$el.find(".series-strip"),this.setup(),e.off(".seriesStrip").on("keydown.seriesStrip",this.keyDown.bind(this)),delay(1,this.setDefaultStory.bind(this)),this},i.prototype.show=function(){return this.$el.animate({height:"show",opacity:"show"},"normal"),this},i.prototype.hide=function(){return this.$el.animate({height:"hide",opacity:"hide"},"normal"),this},i.prototype.render=function(){return this.model.attributes.posts_count=this.model.attributes.posts.length,this.model.attributes.posts_count>1?(i.__super__.render.apply(this,arguments),this.$currentPage=this.$el.find("#current_page"),window.picturefill(this.$el.find("span._pf"))):this.$el.hide()},i.prototype.setup=function(){return Modernizr.touch?this.setupMobile():this.setupDesktop(),this.setup=function(){}},i.prototype.setDefaultStory=function(){var e,t,n,i,r,s,a;for(e=$("#story").data("id"),s=this.model.attributes.posts,a=[],t=i=0,r=s.length;r>i;t=++i){if(n=s[t],n._id===e){this.$el.find("article:eq("+t+")").addClass("current"),this.updateActiveArticle(!1);break}a.push(void 0)}return a},i.prototype.updateActiveArticle=function(e){return null==e&&(e=!0),this.currentArticle=this.$el.find("article.current").first(),this.currentIndex=this.$el.find("article").index(this.currentArticle),this.$currentPage=this.$el.find("#current_page"),this.$currentPage.text(this.currentIndex+1),this.currentArticle.length>0?this.shiftSeriesStrip(e):void 0},i.prototype.setupDesktop=function(){return this.updateActiveArticle(),$("#post-content").before(this.$el)},i.prototype.setupMobile=function(){return $("#post-content").before(this.$el)},i.prototype.toggleStrip=function(){return Modernizr.mq("(max-width: 748px)")?(this.$el.find("#series-pane").toggleClass("open"),$("#post-content").toggleClass("invisible"),$(document.body).toggleClass("noscroll")):void 0},i.prototype.next=function(){return this.click(this.currentArticle.parent().next().find("article h1.article-title a"))},i.prototype.prev=function(){return this.click(this.currentArticle.parent().prev().find("article h1.article-title a"))},i.prototype.click=function(e){var t;if(0!==e.length)return t=jQuery.Event("click"),e.trigger(t),t.isDefaultPrevented()||(window.location.href=e.attr("href")),!1},i.prototype.clickArticle=function(e){return this.currentArticle[0]===e.currentTarget?!1:(this.currentArticle.removeClass("current"),$(e.currentTarget).addClass("current"),this.updateActiveArticle())},i.prototype.keyDown=function(e){if($(e.target).is(":not(input textarea)")){if(e.altKey||e.metaKey)return;switch(e.keyCode){case 39:return this.next();case 37:return this.prev()}}},i.prototype.shiftSeriesStrip=function(e){var t,n,i,r;return t=this.$pane[0].getBoundingClientRect(),i=this.currentArticle.parent()[0].getBoundingClientRect(),r=null,i.left<t.left?r=i.left-t.left+this.$pane[0].scrollLeft:i.right>t.right&&(r=i.right-t.right+this.$pane[0].scrollLeft+60),n=this.currentArticle.parent(),e?null!==r?this.$pane.animate({scrollLeft:r},200,"easeOutCubic",function(){return $(".indexArrow").transition({x:n.position().left-38},200)}):$(".indexArrow").transition({x:n.position().left-38},200):(this.$pane[0].scrollLeft=r,$(".indexArrow").css({x:n.position().left-38}))},i}(App.TemplateView),this.provides({SeriesView:n,Series:t})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u,h;e=$(window),n=function(e){return base64.encode(e).replace(/\=+$/,"")},t=function(e){return base64.decode(_.str.rpad(e,4*Math.ceil(e.length/4),"="))},o=function(e){var n;return n={},null!=e&&(n=JSON.parse(t(e))),[n.s,n.i]},u=null,i=function(){return"_"+Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10)},this.socialRef={payload:function(e,t){return n(JSON.stringify({s:e,i:t}))},identifier:function(e){return null==e&&(e=null),null==u&&(u=e||$.cookie("socref")||i(),$.cookie("socref",u,{expires:3650,path:"/"})),u},personalizeURL:function(e,t,n){var i,r;return null==n&&(n=null),i=window.socialRef.payload(t,window.socialRef.identifier()),r=[e],r.push(":"+i),e.match("#")?r.join(""):r.join("#")}},a={g:"Google+"},r=function(e,t){var n,i,r;return n=window.getShareMetadata(e),r=window.socialRef.personalizeURL(n.url,"g"),i={callback:"gPlusSigninCallback",contenturl:r,contentdeeplinkid:r,calltoactionurl:r,calltoactiondeeplinkid:r,clientid:"713601546503.apps.googleusercontent.com",cookiepolicy:"single_host_origin",prefilltext:"Thanks for sharing",calltoactionlabel:"VIEW",recipients:t},e.off("click").on("click",function(){return!1}),window.gapi.interactivepost.render(e.get(0),i)},h=function(e,t,n,i){var s,o,l;return e.network=a[n],s=$("#body > .page-header.channel h2"),s.replaceWith(t(e)),null!=i&&i.length>0&&i.append(t(e)),o=null,null!=(null!=(l=e.social_ids)?l.google_oauth2:void 0)?o=e.social_ids.google_oauth2:null!=e.g&&(o=e.g),r($(".personalizedShare .discussThis"),o)},l=function(e,t,n){var i,r,s;return s=Handlebars.templates["templates/posts/microcontent"],r=document.referrer,i=window.socialRef.identifier(),$.getJSON("/people/find",{s:e,i:t,u:i,r:r,p:window.location.pathname},function(i){var r;return i&&null!=i.display_name?h(i,s,e,n):"g"===e?(r=i.g?i.g:t,$.getJSON("https://www.googleapis.com/plus/v1/people/"+r+"?key=AIzaSyDOACg_f2QoYqLV6_IhZIP6pNGbpJw67Mg",function(i){var r;return r={url:i.url,picture:i.image.url,display_name:i.displayName,target:"_blank",g:t},h(r,s,e,n)})):void 0})},s=function(e){var t;return t=e.data(),t.networks=["facebook","twitter","google_plus","pinterest"],t},p=function(e){var t,n,i,r,a,o,l,c;for(a=Handlebars.templates["templates/posts/microcontent_image"],c=[],o=0,l=e.length;l>o;o++)i=e[o],t=$(i),n=s(t),r=$(a(n)),t.before(r),t.data("micro",""),c.push(r.find(".microcontent-shares").after(t));return c},c=function(e){var t,n,i,r,a,o,l,c;for(a=Handlebars.templates["templates/posts/microcontent_quote"],c=[],o=0,l=e.length;l>o;o++)r=e[o],t=$(r),n=s(t),i=$(a(n)),t.before(i),t.data("micro",""),c.push(i.find(".microcontent-shares").after(t.clone()));return c},this.wrapMicrocontentImages=p,this.wrapMicrocontentBlockquotes=c,$$("posts/show",function(e){var t,n,i,r,s,a,u,h;return t=window.location.hash,p(e("article.full img[data-micro='1']")),c(e("article.full span.microcontent[data-micro='1']")),i=e(".microcontent-wrapper"),r={},t.length>0&&(s=t.slice(1).split(":"),a=null,s[0].length>0&&(a=i.filter("[data-fragment='"+s[0]+"']")),s[1])?(h=o(s[1]),u=h[0],n=h[1],n&&l(u,n,a),window.omniCallback(function(e){return e.eVar28=(window.location.pathname||"")+(window.location.hash||""),e.events="event29"})):void 0})}.call(this),function(){var e;e=$(window),$$("posts/show",function(){var t,n,i,r;return i=new App.Popout({type:"inline",clone:!0}),i.lightbox.bind("closed",function(){return i.lightbox.el.removeClass("centered-content"),i.popped=!1}),n=$("section.article-content"),n.on("click",".for-lightbox",function(e){return e.stopImmediatePropagation(),i.lightbox.el.addClass("centered-content"),i.popOut($(e.target)),!1}),r=function(e){var t;if(!e.hasClass("no-lightbox")&&!e.parents(".viral-video-preview").length)return void 0===e.prop("naturalWidth")&&(t=new Image,t.src=e.get(0).src,e.prop("naturalWidth",t.width),e.prop("naturalHeight",t.height)),e.prop("naturalWidth")>500&&e.width()<.85*e.prop("naturalWidth")&&0===$(".gallery").find(e).length?(e.data("wrapped-for-lightbox")||(e.wrap("<span class='lightbox-expand'></span>"),e.data("wrapped-for-lightbox",!0)),e.parent().addClass("for-lightbox")):e.data("wrapped-for-lightbox")?e.parent().removeClass("for-lightbox"):void 0},t=function(){var e,t,i,s,a;for(s=n.find("img"),a=[],t=0,i=s.length;i>t;t++)e=s[t],a.push(r($(e)));return a},delay(500,t),window.makePostImagesPoppable=t,e.off("resize-width.imageLightbox").on("resize-width.imageLightbox",function(){return $.throttle("imageLightbox",500,t)})})}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};$$("posts/show",function(){return new App.NewsletterSignupView}),e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}var r,s,a,o,l,c,p,u,h;return i(n,e),o=["Wakefield-Mashable Job Board Contest","Edit - Space eBook 2014","S-Intel Building The Future Today"],l="Top Stories",r="image-none",a="image-top",s="image-left",p="templates/posts/newsletter_signup_editorial",c="templates/posts/newsletter_signup",u="templates/posts/newsletter_signup_success",n.prototype.initialize=function(){return this.$el=$("#newsletter-signup"),this.$elEdit=$("#newsletter-signup-editorial"),this.hasEditShortcode=this.$elEdit.length>0,this.hasDisplayDaily="show"===this.$el.attr("data-display-daily-newsletter"),this.listEdit=this.$elEdit.attr("data-sailthru-list"),this.design=this.$elEdit.attr("data-signup-design")?this.$elEdit.attr("data-signup-design"):null,this.persist="true"===this.$elEdit.attr("data-persist-after-signup"),this.render()},n.prototype.render=function(){var e,t,n;return this.$el.length>0&&$("#newsletter-signup-wrapper").length<1?"preview"===this.$el.attr("class")?(t=this.hasEditShortcode?this.listEdit:l,this.renderNewsletterTemplate(t,this.design)):(n=this.checkSubscriber(),n?(e=n.subscriber,e==={}||null!=e&&e.lists?this.renderLoggedIn(e):this.renderLoggedOut()):this.renderLoggedOut()):void 0},n.prototype.renderLoggedIn=function(e){var t;return t=this.checkRenderList(e.lists),null!==t?this.renderNewsletterTemplate(t,this.design):void 0},n.prototype.renderLoggedOut=function(){var e;return e=null,this.hasEditShortcode?e=this.listEdit:this.hasDisplayDaily&&(e=l),null!==e?this.renderNewsletterTemplate(e,this.design):void 0},n.prototype.checkSubscriber=function(){return window.getUserSession()},n.prototype.checkRenderList=function(e){var t,n,i;if(this.hasEditShortcode){if(this.persist)return this.listEdit;for(n=0,i=o.length;i>n;n++)if(t=o[n],-1===e.indexOf(t)&&this.listEdit===t)return t;return this.checkRenderDailyList(e)?l:null}return this.checkRenderDailyList(e)?l:null},n.prototype.checkRenderDailyList=function(e){return-1===e.indexOf(l)&&this.hasDisplayDaily},n.prototype.isEditorialList=function(e){return!(-1===o.indexOf(e))},n.prototype.renderNewsletterTemplate=function(e,t){var n;return null==t&&(t=null),null===t&&(t=r),this.isEditorialList(e)?(this.$el.hide(),n=this.preprocessData(this.$elEdit.data()),this.renderHelper(e,t,this.$elEdit,p,n)):e===l?this.renderHelper(e,r,this.$el,c):void 0},n.prototype.renderHelper=function(e,t,n,i,r){return null==r&&(r=null),n.html(Handlebars.templates[i](r)),this.bindFormEvent(e,t),h("Signup Visible",t,e)},n.prototype.preprocessData=function(e){return e.imageTop=e.signupDesign===a,e.imageLeft=e.signupDesign===s,e},n.prototype.bindFormEvent=function(e,t){var n,i,r=this;return n=this.isEditorialList(e)?this.$elEdit:this.$el,i=n.find("form"),i.on("submit",function(s){return s.stopImmediatePropagation(),s.stopPropagation(),$.ajax({type:"POST",url:"/me/subscribe/",data:i.serialize(),success:function(i){return r.isEditorialList(e)?n.find("h3").removeClass("failure").addClass("success").text("Success! Thanks for signing up.").show():(n.hide().html(Handlebars.templates[u](i)).fadeIn(),$(window).width()<570&&$(window).scrollTop($("#newsletter-success-wrapper").offset().top-50),r.updateSubscriptionFrequency()),h("Signup Success",t,e)},error:function(){return n.find("h3").removeClass("success").addClass("failure").text("Oops, that didn't work. Please try again.").show()}}),!1})},n.prototype.updateSubscriptionFrequency=function(){var e;return e=this.$el.find("#update-frequency"),e.on("submit",function(t){return t.stopImmediatePropagation(),t.stopPropagation(),$(window).width()>570?e.find("#frequency-select select").attr("disabled","disabled"):e.find("#frequency-radio input[type=radio]").attr("disabled","disabled"),$.ajax({type:"POST",url:"/subscriptions/manage/",data:$(this).serialize(),success:function(){return e.find("input.submit").after("<h3 class='success'>Settings updated.</h3>"),delay(1500,function(){return $("h3.success").fadeOut("slow")})},error:function(){return e.find("input.submit").after("<h3 class='failure'>Error saving settings.</h3>"),delay(1500,function(){return $("h3.failure").fadeOut("slow")})}}),!1})},h=function(e,t,n){return _gaq.push(["_trackEvent","Newsletter Signup",""+e,""+t+" | "+n])},n}(Backbone.View),this.provides({NewsletterSignupView:e})}.call(this),function(){var e,t,n,i,r={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};$$("posts/show",function(e){return window.pinterestFollowOverlayView=new App.PinterestFollowOverlayView,e("#pinterest-follow-module").length>0?new App.PinterestFollowView({el:"#pinterest-follow-module"}):void 0}),t=function(e){function t(){return n=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.template="templates/posts/pinterest_follow",t.prototype.maxImageWidth=136,t.prototype.maxImageHeight=230,t.prototype.pinMashUrl="http://www.pinterest.com/mashable/",t.prototype.pins=!1,t.prototype.gaView="Post Article Social CTA",t.prototype.initialize=function(){var e=this;return $.ajax({type:"GET",dataType:"json",url:"/pins/",success:function(t){return null!=t.data&&t.data.length>=4?(e.pins=e.pareseData(t.data),e.render()):void 0}})},t.prototype.render=function(){return this.pins.loaded===!0?(this.$el.html(Handlebars.templates[this.template](this.pins)),this.loadPinitScript(),this.pinFollowBtnEventHelper(this.$el,".pinterest-follow-btn a"),this.pinItBtnEventHelper(this.$el,".pin img"),this.pinItBtnEventHelper(this.$el,".pin .pin-it-btn",!0),this.gaTrackingHelper("View")):void 0},t.prototype.pareseData=function(e){var t,n,i,r,s;for(r=_.sortBy(e,function(e){return e.repin_count}),r.reverse(),i=[],t=s=0;3>=s;t=++s)n={},n.id=r[t].id,n.image=r[t].image_medium_url,n.imageLarge=r[t].image_large_url,n.imageHeight=this.calculateImageHeight(r[t].image_medium_size_pixels.width,r[t].image_medium_size_pixels.height),n.likeCount=r[t].like_count,n.repinCount=r[t].repin_count,n.description=r[t].description,n.domain=r[t].domain,n.link=r[t].link,i[t]=n;return i.pinMashUrl=this.pinMashUrl,i.overlay=!1,i.loaded=!0,i},t.prototype.loadPinitScript=function(){return $.ajax({url:"https://assets.pinterest.com/js/pinit.js",dataType:"script"})},t.prototype.calculateImageHeight=function(e,t){var n;return n=this.maxImageWidth/e,Math.round(t*n)},t.prototype.pinFollowBtnEventHelper=function(e,t){var n=this;return e.off("click",t).on("click",t,function(e){return e.preventDefault(),window.open(n.pinMashUrl),n.gaTrackingHelper("Like"),!1})},t.prototype.pinItBtnEventHelper=function(e,t,n){var i=this;return null==n&&(n=!1),e.off("mouseover",t).on("mouseover",t,function(e){return i.pinItBtnShow(e.target,!0),!1}),e.off("mouseleave",t).on("mouseleave",t,function(e){return i.pinItBtnShow(e.target,!1),!1}),n?e.off("click",t).on("click",t,function(e){return i.pinItBtnClick(e.target),!1}):void 0},t.prototype.pinItBtnShow=function(e,t){var n,i;return n=$(e),i=".pin-it-btn"===n.attr("class")?n:n.closest(".pin").find(".pin-it-btn"),i.length>0?t?i.show():i.hide():void 0},t.prototype.pinItBtnClick=function(e){var t,n;return t=$(e).data(),null!=t&&null!=t.link&&null!=t.image?(n="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(t.link)+"&media="+encodeURIComponent(t.image)+"&description="+encodeURIComponent(t.description),popupCenter(n,685,500)):void 0},t.prototype.gaTrackingHelper=function(e){return _gaq.push(["_trackEvent",this.gaView,e,"Pinterest"])},t}(Backbone.View),e=function(e){function t(){return i=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.suppressCookie="suppress_pinterest_overlay",t.prototype.gaView="Post Share Dialog",t.prototype.initialize=function(){return this.lightbox=new App.Lightbox({type:"fixed",classes:"pinterest-overlay",contentClasses:"no-close"})},t.prototype.open=function(){var e=this;return"1"!==$.cookie("suppress_pinterest_overlay")?this.pins.loaded===!0?this.render():$.ajax({type:"GET",dataType:"json",url:"/pins/",success:function(t){return null!=t.data&&t.data.length>=4?(e.pins=e.pareseData(t.data),e.pins.overlay=!0,e.render()):void 0}}):void 0},t.prototype.render=function(){return this.renderHelper(),this.loadPinitScript(),this.eventHelper(),this.gaTrackingHelper("Open")},t.prototype.renderHelper=function(){return this.lightbox.show({animation:"slideY"}),this.lightbox.showContent(Handlebars.templates[this.template](this.pins)),this.lightbox.centerContent()},t.prototype.eventHelper=function(){var e,t,n,i,r=this;return e=this.lightbox.el,n=".ext-link",e.off("click",n).on("click",n,function(){return window.open($(this).attr("href")),!1}),t=".close-pinterest-overlay",e.off("click",t).on("click",t,function(){return r.lightbox.hide(),!1}),i=".suppress-pinterest-overlay",e.off("click",i).on("click",i,function(){return $.cookie(r.suppressCookie,1),r.lightbox.hide(),r.gaTrackingHelper("Opt Out"),!1}),this.pinFollowBtnEventHelper(e,".pinterest-follow-btn a"),this.pinItBtnEventHelper(e,".pin img"),this.pinItBtnEventHelper(e,".pin .pin-it-btn",!0)},t}(t),this.provides({PinterestFollowView:t,PinterestFollowOverlayView:e})}.call(this),function(){var e,t,n={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};$$("posts/show",function(){return new App.SocialInterruptView}),e=function(e){function n(){return t=n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.fbTemplate="templates/posts/social_interrupt",n.prototype.lightboxClasses="small-white-dialog social-interrupt facebook",n.prototype.forceInterruptCookie="force_follow_interrupt",n.prototype.fbOptoutCookie="fb_like_optout",n.prototype.fbVeiwCounterCookie="fb_view_counter",n.prototype.fbIntCounterCookie="fb_interrupt_counter",n.prototype.gaCategory="Social Interrupt",n.prototype.gaLabel="Facebook",n.prototype.fbData={},n.prototype.maxViews=4,n.prototype.maxInterrupts=5,n.prototype.initialize=function(){return this.isOptOut()===!1&&this.readInterruptCounter()<this.maxInterrupts?this.render():void 0},n.prototype.render=function(){var e;return e=window.isReferreredFromFB(),!e&&"1"!==$.cookie(this.forceInterruptCookie)||(this.setViewCounter(),1!==this.fbData.viewCounter)?void 0:this.createInterrupt()},n.prototype.setViewCounter=function(){return this.fbData.viewCounter=(this.readViewCounter()+1)%this.maxViews,$.cookie(this.fbVeiwCounterCookie,this.fbData.viewCounter,{path:"/"})},n.prototype.createInterrupt=function(){return this.fbHelper(),this.lightboxHelper(),this.eventHelper(),this.gaTrackHelper("Open")},n.prototype.fbHelper=function(){return this.fbData.interruptCounter=this.readInterruptCounter()+1,$.cookie(this.fbIntCounterCookie,this.fbData.interruptCounter,{path:"/"}),this.fbData.gaLabel=""+this.gaLabel+" - "+this.fbData.interruptCounter,loadScriptAsync("facebook"),this.captureFBLike()},n.prototype.readViewCounter=function(){var e;return e=$.cookie(this.fbVeiwCounterCookie)?parseInt($.cookie(this.fbVeiwCounterCookie)):0},n.prototype.readInterruptCounter=function(){var e;return e=$.cookie(this.fbIntCounterCookie)?parseInt($.cookie(this.fbIntCounterCookie)):0},n.prototype.isOptOut=function(){return"1"===$.cookie(this.fbOptoutCookie)},n.prototype.lightboxHelper=function(){return this.lightbox=new App.Lightbox({type:"fixed",classes:this.lightboxClasses,contentClasses:"no-close"}),this.lightbox.show({content:Handlebars.templates[this.fbTemplate],animation:"none"}),this.$el=$(".mash-lightbox.social-interrupt.facebook")},n.prototype.eventHelper=function(){var e=this;return this.$el.off("click",".opt-out").on("click",".opt-out",function(t){return t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),$.cookie(e.fbOptoutCookie,1,{expires:7300,path:"/"}),e.lightbox.hide(),e.gaTrackHelper("Opt Out")}),this.$el.find(".mash-lightbox-close").on("click",function(t){return t.preventDefault(),e.gaTrackHelper("Close - Click X")}),this.$el.on("click",function(){return e.gaTrackHelper("Close - Click Background")})},n.prototype.captureFBLike=function(){var e=this;return Facebook.push(function(t){return t.XFBML.parse(),t.Event.subscribe("edge.create",function(t){return"http://www.facebook.com/mashable?interrupt=1"===t?($.cookie(e.fbOptoutCookie,1,{expires:7300,path:"/"}),e.lightbox.hide(),e.gaTrackHelper("Like")):void 0})})},n.prototype.isDevice=function(){return $("html").hasClass("touch")},n.prototype.gaTrackHelper=function(e){return _gaq.push(["_trackEvent",this.gaCategory,""+e,this.fbData.gaLabel])},n}(Backbone.View),this.provides({SocialInterruptView:e})}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,k,x,C=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=$(window),r=null,i="new",n=15,v=[],w=null,l=1400,a=300,c=l-a,t=300,function(){var e,t;return e=function(e,t){return null==t&&(t=0),Math.floor((e+t)/l)},t={},w=function(n,i){var r,s;return r=e(i,c),0>r?!1:(s=t[""+n+r],t[""+n+r]=r,s?null:r)}}(),k={},b=function(e){var t,n,i,r;for(t="#",n=r=1;3>=r;n=++r)i=Math.floor(255*Math.random()).toString(16),1===i.length&&(i="0"+i),t+=i;return k[e]||(k[e]=t)},window.location.toString().match(/ad_overlay/)&&$(function(){var e,t,n,i;for(i=[],t=n=0;9>=n;t=++n)e=$("<div></div>"),e.addClass("layerOverlay"),e.css("background-color",b(t+1)),e.css("top",l*t+a),e.css("height",l),i.push($(".slide-window").append(e));return i}),p={},y=function(e){var t,n;return n=null,t=Math.floor((e-1)/2),0===t?p[t]=TripleClick._ord:p[t]?(n=TripleClick._ord,TripleClick._ord=p[t]):p[t]=TripleClick.newOrd(),n},s=function(e,r,s){var a,o,l,c,p,u,h;return null==r&&(r=[0,1,2]),$(function(){return $("#site-footer-wrapper").css({opacity:0})}),window.postData||(window.postData={hot:[],rising:[],"new":[]}),l=$("div.columns"),0===l.length||(h=l[0],C.call(v,h)>=0)?void 0:(v.push(l[0]),o={},e&&(p={channel:e}),c=[{key:"new",data:window.postData["new"],query:p,trigger:"#column-new",pageSize:10,container:"#column-new .column-content",estHeight:100},{key:"rising",data:window.postData.rising,query:p,trigger:"#column-rising",pageSize:3,container:"#column-rising .column-content",estHeight:330},{key:"hot",data:window.postData.hot,query:p,trigger:"#column-hot",pageSize:2,container:"#column-hot .column-content",estHeight:530}],c=[c[r[0]],c[r[1]],c[r[2]]],a={"new":{tile:1,name:"left_column"},rising:{tile:2,name:"middle_column"},hot:{tile:3,name:"right_column"}},u=new App.CachingMultiPostCollectionView({el:l,loadDistance:500,collections:c}).on("show",function(e,r,l){var c,p,u,h,d,f,m,g;return h=r.display.length,e===i&&0===(h-1)%n&&(omni($.extend({isPostView:!1},s,{page_number:Math.ceil(h/n)})),ga(),comscoreBeacon()),p=a[e],o[g=p.name]||(o[g]=1),f={"!category":["iframe"],tile:p.tile},(u=w(p.name,l))&&(d=y(u),f.bg=b(u).replace("#",""),f.adnum=o[p.name]++,f.adnum>2&&(f["!category"].push("infinite"),f.infi="y"),r.view.append(TripleClick.tripleclickAd(p.name,f)),r.addElementToAverage(t),d&&(TripleClick._ord=d)),(m=w("partners",l)&&"new"===e)&&0===m%8&&m>0?(TripleClick.newOrd(),c=$("<div>").addClass("left_column_ad_block"),c.append(TripleClick.tripleclickAd("left_column_ad_block_ad",{tile:1,adnum:ad_num_counter.left_column++})),c.append(TripleClick.tripleclickAd("left_column_ad_block_ad",{tile:2,adnum:ad_num_counter.left_column++})),r.view.append(c)):void 0}).on("exhaustedAll",function(){return $("#site-footer-wrapper").transition({opacity:1},500)}).on("rendered",function(){return window.activateGooglePlusButtons()}),l.data("CachingMultiPostCollectionView",u),l=["new","rising","hot"],l=[l[r[0]],l[r[1]],l[r[2]]],$(".slide-window").mobileScroll({children:$(".slide-window").find(".column"),offset:$("#body-container").position().top}).bind("snapped",function(e,t){var n,i;for(n=$(".column-headers .header").removeClass("active"),i=n.eq(t);i.length>0&&!i.is(":visible");)t+=1,i=n.eq(t);return i.addClass("active")}).bind("activateColumn",function(e,t){var n;return n=u.collections[l[t]],u.activate(n)}).bind("deactivateColumn",function(e,t){var n;return n=u.collections[l[t]],u.deactivate(n)}).mobileScroll("checkColumns"),$(function(){return $(".slide-window").mobileScroll("activate")}),u.start(),null)},o=function(){var e,t,n,i,r,s;return r=$("#column-new"),s=$("#column-rising"),e=$("#column-hot"),e.insertBefore(s),r.insertAfter(s),t=$(".header1"),n=$(".header2"),i=$(".header3"),i.insertBefore(t),t.insertAfter(n)},x=function(e){var t;return null==e&&(e=[2,1,0]),t=[0,1,2],Modernizr.mq("(max-device-width: 640px)")&&(o(),t=e,i="hot",n=4),t},g=function(){var e;switch(e=window.location.searchObj.testad){case"1440":return $("#more-in-channel").prepend(TripleClick.tripleclickAd("immersive_full_width_banner",{adnum:1}))}},m=function(){var e,t;return e=$("div[data-livefyre-wall]"),e.length>0&&(loadScriptAsync(window.assetMap["livefyre-wall"],"livefyre_wall"),t=every(500,function(){return window.Livefyre?(clearInterval(t),$("head").append('<link rel="stylesheet" href="http://livefyre-cdn.s3.amazonaws.com/libs/sdk/v1.1.0-build.201/streamhub-sdk.gz.css" /></link>'),Livefyre.require("streamhub-sdk/stream-helpers/livefyre-helper"),Livefyre.require("streamhub-sdk/stream-manager").create.livefyreStreams({articleId:"custom-"+e.data("livefyre-wall"),siteId:312274,network:"mashable.fyre.co"}).bind(new(Livefyre.require("streamhub-wall"))({el:e.get(0)})).start()):void 0})),h()},h=function(){var e,t;return e=3,t=every(500,function(){return $(".fyre-comment-stream").length>0&&$(".fyre-stream-more").length>0&&(u(),clearInterval(t),$(".fyre-stream-more").parent().append("<div class='mash-fyre-stream-more'><div class='mash-fyre-stream-more-container'>                                              <div class='mash-flyer-text'>Show More Comments</div></div></div>"),$(".fyre-comment-article").length>e)?d():void 0}),$("html").on("click",".fyre-post-button-new",function(){return window.Livefyre.widget.on("commentPosted",function(){return u()}),$(".fyre-comment-article").length>e?d():void 0}),$("html").on("click",".mash-fyre-stream-more",function(){return f(!0),u()}),$("html").on("click",".fyre-stream-more-container",function(){return f(),u()})},u=function(){return $('.fyre-comment[itemprop="text"]').each(function(e,t){return $(t).prop("scrollHeight")>$(t).height()&&!$(t).hasClass("has-link")?($(t).addClass("has-link"),$(t).after("<a href='#' class='fyre-expand-comment'>Read more...</a>")):void 0}),$("html").on("click","a.fyre-expand-comment",function(e){return $(e.target).prev().addClass("expanded"),$(e.target).hide(),!1})},d=function(){return $(".fyre-stream-more").is(":visible")||"article-comments"===$(".article-comments").attr("class")?void 0:$(".mash-fyre-stream-more").show()},f=function(e){return null==e&&(e=!1),$(".article-comments").removeClass("limit-comments"),e?$(".mash-fyre-stream-more").hide():void 0},$$("posts/index","posts/channel",function(e){var t,n,i,r,a,o,l,c;for(Modernizr.touch&&(screen.width>728&&screen.height>728?e(".box970").waypoint({offset:-100},function(t,n){return"down"===n?(e("#sticky").append(e("#column-headers .column-headers")),e("#scrollable").css({"padding-top":"79px"}),e(".fixable-wrapper").css({display:"none"}),e(document).on("page:cache",function(){return e("#column-headers").append(e("#sticky .column-headers"))})):(e(".fixable-wrapper").css({display:"block"}),e(".fixable-wrapper").append(e("#sticky .column-headers")),e("#scrollable").css({"padding-top":"44px"}))}):(e("#sticky").append(e("#column-headers .column-headers")),e("#scrollable").css({"padding-top":"79px"}),e(".fixable-wrapper").css({display:"none"}),e(document).on("page:cache",function(){return e("#column-headers").append(e("#sticky .column-headers"))}))),i=x(),e(".column-headers a").on("click",function(){var t,n,i;return t=e(this).parent(),i=t.parents(".headers"),n=i.find("div").index(t),e(".slide-window").mobileScroll("moveToIndex",n),!1}),e(".column-headers .header:eq(0)").addClass("active"),c=e("#column-rising .post.short"),o=0,l=c.length;l>o;o++)t=c[o],a=new App.PostView({el:t});return Modernizr.touch||e("#column-headers").waypoint({offset:46},function(t,n){return e(".column-headers").toggleClass("fixed","down"===n)}),n=e(".page-header.channel").data("channel"),r={page_type:"Infi-Index",channel:n,top_channel:n,content_type:"Channel",isPostView:!1,content_source_type:null,content_source_name:null,author_name:null,pub_month:null,pub_year:null,pub_date:null,pub_day:null,age:null,embedded_content:null,campaign:null,v_buy:null,v_cur:null,v_max:null,h_pub:null,h_buy:null,h_pub_buy:null,v_buy_i:null,v_cur_i:null,v_max_i:null,events:null},s(n,i,r)}),$$(function(e){return function(){return Modernizr.touch?void 0:e("#scrollable").hoverIntent({over:function(){var t;return t=e(this).find(".article-shares-links").not(".persistent"),t.show().css({opacity:0}).transition({opacity:1},200).find(".google_plus, .facebook").trigger("mouseover")},out:function(){var t;return t=e(this).find(".article-shares-links").not(".persistent"),t.transition({opacity:0},200,function(){return t.hide()})},interval:100,sensitivity:5,on:".sharable"})}()}),$$("posts/show",function(t){var n,i,a,o,l,c,p,u,h,d,f,v,w,y,b,k,C,T,A;if(T={right_rail_lift:1,right_rail:2},p=t("#post-head").data("channel"),b={page_type:"Infi-Article",channel:p,top_channel:p,content_type:"Channel",location:"/"+p+"/",isPostView:!1,content_source_type:null,content_source_name:null,author_name:null,pub_month:null,pub_year:null,pub_date:null,pub_day:null,age:null,embedded_content:null,campaign:null,v_buy:null,v_cur:null,v_max:null,h_pub:null,h_buy:null,h_pub_buy:null,v_buy_i:null,v_cur_i:null,v_max_i:null,events:null,content_source:null},t(".column-headers").removeClass("fixed"),y=x(),t("#more-in-channel").length>0&&s(t("#post-head").data("channel"),y,b),t(".viral-video-lead").length>0&&(v=t(".image-credit").parents("footer"),v.insertBefore(".article-topics"),c=t("object.BrightcoveExperience"),c.height("535")),l=t("#op-ed-banner, #choice-banner, #spotlight-banner"),t(window).width()<1200&&l.insertBefore(t(".article-info")),t(window).on("resize",function(){return t(window).width()>1200?l.insertAfter(t(".article-info")):l.insertBefore(t(".article-info"))}),w=function(){return 0===t(".fyre-widget").length&&(t(".load-comments").hide(),t("#livefyre_comments").html(t("<div class='loader-inline visible'></div>")),delay(1e3,function(){return t("#powered_by_livefyre_new").show()}),window.commentsLoaded=!0,App.loadComments.bind(window)(),every(250,function(){return t(".article-comments .fyre").length>0?t(".article-comments .loader-inline").remove():void 0})),!1},t(".load-comments").off("click").on("click",w),window.commentsLoaded||Modernizr.touch||t("footer.article-topics").waypoint({offset:550,handler:w}),"1"===window.params().phoenix&&t(".load-comments").off("click").attr("href","mashable://comments"),window.seriesData&&window.seriesData._id){App.SeriesView.create(window.seriesData),window.seriesData=void 0;try{delete window.seriesData}catch(P){d=P}}else App.SeriesView.load(t("#story").data("series-id"));if(t(".follow-buttons .twitter").on("click",function(){return popupCenter(t(this).attr("href"),550,415,"twitter-popup"),!1
}),f=function(){var e;return e=t(".article-content .image, .article-image"),Modernizr.touch?e.addClass("touch"):e.hoverIntent({interval:50,sensitivity:4,on:"img",over:function(e){return t(e.delegateTarget).find(".image-caption").addClass("closed")},out:function(e){return t(e.delegateTarget).find(".image-caption").removeClass("closed")}})},f(),m(),g(),u=t("#livefyre_comments"),A=u.data("site-id"),o=t("#story").data("id"),A&&o&&window.Livefyre&&window.Livefyre.widget)try{t("#livefyre_comments").show(),window.Livefyre.widget.changeCollection({siteId:A,articleId:o})}catch(P){h=P,t("#livefyre_comments").hide()}return function(){return t("article.fullwidth").length>0?void 0:onceQueryIs("updatePostSidebar","(min-width: 930px)",function(){return delay(250,function(){var e,n,i,r,s,a,o;return o=t("#story").data("id"),r=function(e){return e.attributes._id!==o},n=t("#story"),i=new App.CachingMultiPostCollectionView({el:t("aside.sidebar"),loadDistance:0,collections:[{key:"hot",data:[],query:{hot_i:"364x130:-1"},active:!0,filter:r,pageSize:3,container:"#big-stories",heightCheck:function(e){return e.view.el.getBoundingClientRect().bottom<n[0].getBoundingClientRect().bottom}}]}),e=t("article.full"),s=null!=e.data("sponsored")||null!=e.data("supported"),a=window.location.searchObj.lift_preview,i.on("show",function(e,t){var n;return a&&t.view.append(TripleClick.tripleclickAd("right_rail_tall_ad",n)),1!==t.display.length||s||(n={adnum:T.right_rail_lift++},t.view.append(TripleClick.tripleclickAd("right_rail_lift",n))),t.display.length>3&&t.display.length<14&&0===t.display.length%4&&!s&&(n={adnum:T.right_rail_lift++},t.view.append(TripleClick.tripleclickAd("right_rail_lift",n))),t.display.length>1&&0===t.display.length%2?(n={adnum:T.right_rail++,ord:Math.ceil(1e15*Math.random())},t.view.append(TripleClick.tripleclickAd("right_rail",n))):void 0}),i.start()})})}(),function(){var n,i,s,a,o,l,c,p,u;for(i=t("article.post.full"),o=0,n=null,s=0,c=function(){var e,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,k;for(s="        iframe.twitter-tweet,        iframe.dnr,        iframe.ad      ",h="        div.popout embed,        div.popout iframe,        iframe[src*='youtube.com'],        iframe[src*='vimeo.com'],        iframe[src*='brightcove.com'],        iframe[src*='tibco.com'],        object.bc-popout      ",i=t("article.post.full figure.article-image"),p=i.find("iframe,embed").not(s),f=0,w=p.length;w>f;f++)a=p[f],a.sizeParent=i;for(e=t("article.post.full section.article-content"),l=e.find("section.gallery").find(h).not(s),m=0,y=l.length;y>m;m++)a=l[m],a.sizeParent=t(a).parents(".slide");for(u=e.find("iframe,embed").not(l).not(s),d=e.find(h).not(l).not(s),c=_.groupBy(d,function(e){return t(e).parents(".no-microcontent").length>0?"nonWrap":"wrap"}),d=d.not(c.nonWrap),u=u.add(c.nonWrap),g=0,b=u.length;b>g;g++)a=u[g],r=t(a),a.sizeParent=r.closest("div,.article-content");for(v=0,k=d.length;k>v;v++)a=d[v],r=t(a),r.parents(".popout").length>0||r.wrap("<div class='popout'></div>"),a.sizeParent=r.parents(".popout");return n=function(){var e,n,i,r;for(i=d.add(u).add(p).add(l),r=[],n=0,e=i.length;e>n;n++)o=i[n],r.push(t(o));return r}()},l=function(){var e,i,r,s,a,l,c,p;for(c=0,p=n.length;p>c;c++)e=n[c],l=e.width(),i=e.height(),a=e[0].sizeParent,a&&(s=a.width(),r=i/l*s,t(".viral-video-lead").length>0&&e.hasClass("BrightcoveExperience")&&(r=535),e.css({width:s,height:r}).attr({width:s,height:r}),e.hasClass("BrightcoveExperience")&&t(window).on("brightcove_ready",function(){return brightcove.api.getExperience(e.attr("id")).getModule(brightcove.api.modules.APIModules.EXPERIENCE).setSize(s,r)}));return o=window.outerWidth},c(),l(),clearInterval(r),r=window.every(3e3,function(){return s+=1,5===s&&clearInterval(r),c(),l()}),p=0,u=n.length;u>p;p++)a=n[p],a.attr("src")&&a.attr("src",a.attr("src"));return e.off("resize-width.updateEmbeds").on("resize-width.updateEmbeds",function(){return t.throttle("resize.updateEmbeds",100,l)})}(),C=function(e){var n,i;return i=function(){var e,i,r,s;for(r=(t(a).data("velocity")||"").toString().split(","),s=[],e=0,i=r.length;i>e;e++)n=r[e],s.push(parseInt(n));return s}(),i&&i.length>0&&!isNaN(i[0])?e.renderVelocity(i):e.hideVelocity()},k=function(){var e,n,i,r;for(i=t(".post.full"),r=[],e=0,n=i.length;n>e;e++)a=i[e],r.push(new App.PostView({el:a}));return r}(),e.off("resize-width.velocity").on("resize-width.velocity",function(){var e,t,n,i;for(i=[],t=0,n=k.length;n>t;t++)e=k[t],i.push(C(e));return i}),e.trigger("resize-width.velocity"),i=t(".shift-to-hero"),i.length>0&&(n=t("figure.article-image"),n.children().remove(),n.append(t(".shift-to-hero").children()),i.remove()),t("#column-headers").waypoint({offset:46},function(e,n){return t("#share-nav").toggleClass("descended","up"===n).toggleClass("retracted-down","down"===n),Modernizr.touch?void 0:t(".column-headers").toggleClass("fixed","down"===n)}),function(){var e,n;return e=readSession("session"),e&&e.roles&&-1!==_.indexOf(e.roles,"mashable_staff")?(n=t("#story").data("wp-id"),t("a.edit-post").length<1?t("h1.title").before("<a class=edit-post href='https://admin.mashable.com/wp-admin/post.php?post="+n+"&action=edit'>Edit story</a>"):void 0):t("a.edit-post").remove()}()})}.call(this),function(){var e,t,n,i,r={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=function(e){function t(){return n=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.replaceElement=!1,t.prototype.template="templates/posts/shares",t}(App.TemplateView),t=function(e){function t(){return i=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.replaceElement=!1,t.prototype.template="templates/posts/share_nav",t}(App.TemplateView),$$("posts/show",function(){var n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y,b,k;if(c=App.UXTesting.getTest("_1033",{0:75,1:25}),c=1,1===c){for(f=$(".total-shares em").text(),$(".share-buttons").addClass("v2"),w=""+$("title").first().text()+" "+window.socialRef.personalizeURL($("meta[property='og:url']").attr("content"),"whatsapp"),y="whatsapp://send?text="+encodeURIComponent(w),new e({model:new Backbone.Model({totalShares:f,whatsappURL:y}),el:$(".share-buttons")}).render(),window.params().whatsapp&&window.testWhatsApp(),setTimeout(function(){return $(".share-buttons.v2 .share-toggle").on("click",function(){return $(".share-buttons.v2").toggleClass("expanded")}),$(".share-buttons.v2 .secondary-share-toggle").on("click",function(){return $(".share-buttons.v2").removeClass("expanded")})}),$('<header id="share-nav">').appendTo("#sticky"),w=""+$("title").first().text()+" "+window.socialRef.personalizeURL($("meta[property='og:url']").attr("content"),"whatsapp"),y="whatsapp://send?text="+encodeURIComponent(w),new t({model:new Backbone.Model({totalShares:f,whatsappURL:y}),el:$("#share-nav")}).render(),window.params().whatsapp&&window.testWhatsApp(),this.canvas=$("<canvas class='velocity' width='175' height='56'></div>"),$(".sparkline").append(this.canvas),a=this.canvas.get(0).getContext("2d"),a.drawImage($(".velocity-graph canvas").get(0),0,0,100,32),u=a.getImageData(0,0,100,32),o=u.data,p=b=0,k=o.length;k>=b;p=b+=4)o[p]=202,o[p+1]=202,o[p+2]=202;a.putImageData(u,0,0),activateShareButtons($(".share-buttons.v2")),$("#share-nav .menu").on("click",function(e){return window.flyout.toggle(),e.target.blur(),!1}),$("aside.shares.social").waypoint({offset:-50},function(e,t){return $("#share-nav").toggleClass("descended","down"===t).toggleClass("retracted-up","up"===t)})}return i=["Navigation-1013-ShareBar-A","Navigation-1013-ShareBar-B"],r=["Article-Share","Article-1013-ShareBar"],s=Modernizr.touch?"Touch":"NonTouch",v=$(window).width(),n=null,n=1350>v?930>v?480>v?0:480:930:1350,l=function(){var e;return window._gaq.push((e=Array.prototype.slice.apply(arguments)).unshift("_trackEvent")&&e)},m=function(){return $("#share-nav").hasClass("retracted-up")?"Retracted":$("#share-nav").hasClass("descended")?"Persistent":"PrePersistent"},h=function(){return 0===c?"Standard":(f=$("#share-nav")).hasClass("descended")?"Persistent":f.hasClass("retracted-up")?"RetractedTop":f.hasClass("retracted-down")?"RetractedBottom":"Standard"},d=["facebook","twitter","whatsapp","google_plus","linked_in","stumble_upon","pinterest"],g={},l(i[c],"Nav View","Standard-"+s),l(r[c],"View"+(1===c?"-A":""),""+s+"-Collapsed-"+n),$(".main-menu,#share-nav").on("click",".logo a.brand",function(){return l(i[c],"Mashable Logo Click",""+h()+"-"+s)}),$(".main-menu,#flyout-container").on("click",".main-menu .channel>a",function(){return l(i[c],"Channel Click",""+h()+"-"+s)}),$(".main-menu").on("click",".subnav-channel",function(){return l(i[c],"Sub-Channel Click",""+h()+"-"+s)}),$(".main-menu").on("click",".subnav-post a",function(e){return l(i[c],"Nav Story Click",""+h()+"-"+s,$(e.target).parents(".subnav-post").index()+1)}),$("#site-header .main-menu li.menu a, #share-nav .menu a").on("click",function(){return l(i[c],"Menu Click",""+h()+"-"+s)}),$(".share-buttons").on("click",".social-share",function(e){var t,i,a,o;return t=$(e.target),t.hasClass("social-share")||(t=t.parents(".social-share")),a=_.intersection(d,t.attr("class").split(/\s+/))[0].replace(/_/,""),a=a.charAt(0).toUpperCase()+a.slice(1),i=t.width()<5?"Small":t.width()<100?"Med":"Large",o=$(".share-buttons").hasClass("expanded")?"Expanded":"Collapsed",l(r[c],"Share"+(1===c?"-A":""),""+a+"-"+m()+"-"+i+"-"+n+"-"+s+"-"+o)}),1===c?($("aside.shares.social").waypoint({offset:-50},function(e,t){if("down"===t){if(!g.pnav)return l(i[c],"Persistent Nav View","Persistent-"+s),g.pnav=!0}else if(!g.pnav_up)return l(i[c],"Persistent Nav Retract-ArticleTop View","Persistent-"+s),g.pnav_up=!0}),$("#column-headers").waypoint({offset:46},function(e,t){return"down"!==t||g.pnav_down?void 0:(l(i[c],"Persistent Nav Retract-InfiChannel View","Persistent-"+s),g.pnav_down=!0)}),$(".share-buttons").on("click",".share-toggle,.secondary-share-toggle",function(){var e;return e=$(".share-buttons").hasClass("expanded")?"Expand":"Collapse",l(r[c],"Toggle-A",""+n+"-"+m()+"-"+s+"-"+e)})):void 0})}.call(this),function(){$$("posts/show","publishers/show",function(){var fb_page,pub_slug,publisher,script,twitter_handle;return publisher=$(".publisher-info"),publisher.length>0&&(fb_page=publisher.data("facebook-page"),twitter_handle=publisher.data("twitter-handle"),pub_slug=publisher.data("pub-slug"),Facebook.push(function(e){return e.Event.subscribe("edge.create",function(e){return fb_page===e?_gaq.push(["_trackEvent",pub_slug,"FB Like",window.location.pathname]):void 0}),e.Event.subscribe("edge.remove",function(e){return fb_page===e?_gaq.push(["_trackEvent",publisher,"FB Unlike",window.location.pathname]):void 0})}),Twitter.push(function(e){return e.events.bind("follow",function(e){return twitter_handle===e.data.screen_name?_gaq.push(["_trackEvent",pub_slug,"Twitter Follow",window.location.pathname]):void 0})}),script=$("script.mpp-code"))?eval(script.html()):void 0})}.call(this),/*! jQuery UI - v1.10.3 - 2013-09-19
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.selectable.js, jquery.ui.sortable.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
function(e,t){function n(t,n){var r,s,a,o=t.nodeName.toLowerCase();return"area"===o?(r=t.parentNode,s=r.name,t.href&&s&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+s+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,s=e(this[0]);s.length&&s[0]!==document;){if(i=s.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(s.css("zIndex"),10),!isNaN(r)&&0!==r))return r;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,s=e.ui[t].prototype;for(r in i)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(s){}r(t)},e.widget=function(t,n,i){var r,s,a,o,l={},c=t.split(".")[0];t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},s=e[c][t],a=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new a(e,t)},e.extend(a,s,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){return e.isFunction(i)?(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=s,t}}(),void 0):(l[t]=i,void 0)}),a.prototype=e.widget.extend(o,{widgetEventPrefix:s?o.widgetEventPrefix:t},l,{constructor:a,namespace:c,widgetName:t,widgetFullName:r}),s?(e.each(s._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete s._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,s,a=i.call(arguments,1),o=0,l=a.length;l>o;o++)for(r in a[o])s=a[o][r],a[o].hasOwnProperty(r)&&s!==t&&(n[r]=e.isPlainObject(s)?e.isPlainObject(n[r])?e.widget.extend({},n[r],s):e.widget.extend({},s):s);return n},e.widget.bridge=function(n,r){var s=r.prototype.widgetFullName||n;e.fn[n]=function(a){var o="string"==typeof a,l=i.call(arguments,1),c=this;return a=!o&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,o?this.each(function(){var i,r=e.data(this,s);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,s);t?t.option(a||{})._init():e.data(this,s,new r(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,s,a,o=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(o={},r=n.split("."),n=r.shift(),r.length){for(s=o[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)s[r[a]]=s[r[a]]||{},s=s[r[a]];if(n=r.pop(),i===t)return s[n]===t?null:s[n];s[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];o[n]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,s=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function o(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):void 0}"string"!=typeof a&&(o.guid=a.guid=a.guid||o.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+s.eventNamespace,p=l[2];p?r.delegate(p,c,o):n.bind(c,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,s,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(r in s)r in n||(n[r]=s[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,s){"string"==typeof r&&(r={effect:r});var a,o=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=s,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[o]?i[t](r):o!==t&&i[o]?i[o](r.duration,r.easing,s):i.queue(function(n){e(this)[t](),s&&s.call(i[0]),n()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,s="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!s&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function n(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)]}function i(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var s,a=Math.max,o=Math.abs,l=Math.round,c=/left|center|right/,p=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,d=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(s!==t)return s;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return e("body").append(r),n=a.offsetWidth,r.css("overflow","scroll"),i=a.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),s=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var s,d,m,g,v,w,y=e(t.of),b=e.position.getWithinInfo(t.within),_=e.position.getScrollInfo(b),k=(t.collision||"flip").split(" "),x={};return w=r(y),y[0].preventDefault&&(t.at="left top"),d=w.width,m=w.height,g=w.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):p.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=p.test(i[1])?i[1]:"center",e=u.exec(i[0]),n=u.exec(i[1]),x[this]=[e?e[0]:0,n?n[0]:0],t[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?v.left+=d:"center"===t.at[0]&&(v.left+=d/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),s=n(x.at,d,m),v.left+=s[0],v.top+=s[1],this.each(function(){var r,c,p=e(this),u=p.outerWidth(),h=p.outerHeight(),f=i(this,"marginLeft"),w=i(this,"marginTop"),C=u+f+i(this,"marginRight")+_.width,T=h+w+i(this,"marginBottom")+_.height,A=e.extend({},v),P=n(x.my,p.outerWidth(),p.outerHeight());"right"===t.my[0]?A.left-=u:"center"===t.my[0]&&(A.left-=u/2),"bottom"===t.my[1]?A.top-=h:"center"===t.my[1]&&(A.top-=h/2),A.left+=P[0],A.top+=P[1],e.support.offsetFractions||(A.left=l(A.left),A.top=l(A.top)),r={marginLeft:f,marginTop:w},e.each(["left","top"],function(n,i){e.ui.position[k[n]]&&e.ui.position[k[n]][i](A,{targetWidth:d,targetHeight:m,elemWidth:u,elemHeight:h,collisionPosition:r,collisionWidth:C,collisionHeight:T,offset:[s[0]+P[0],s[1]+P[1]],my:t.my,at:t.at,within:b,elem:p})}),t.using&&(c=function(e){var n=g.left-A.left,i=n+d-u,r=g.top-A.top,s=r+m-h,l={target:{element:y,left:g.left,top:g.top,width:d,height:m},element:{element:p,left:A.left,top:A.top,width:u,height:h},horizontal:0>i?"left":n>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};u>d&&o(n+i)<d&&(l.horizontal="center"),h>m&&o(r+s)<m&&(l.vertical="middle"),l.important=a(o(n),o(i))>a(o(r),o(s))?"horizontal":"vertical",t.using.call(this,e,l)}),p.offset(e.extend(A,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,o=e.left-t.collisionPosition.marginLeft,l=r-o,c=o+t.collisionWidth-s-r;t.collisionWidth>s?l>0&&0>=c?(n=e.left+l+t.collisionWidth-s-r,e.left+=l-n):e.left=c>0&&0>=l?r:l>c?r+s-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-o,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,l=r-o,c=o+t.collisionHeight-s-r;t.collisionHeight>s?l>0&&0>=c?(n=e.top+l+t.collisionHeight-s-r,e.top+=l-n):e.top=c>0&&0>=l?r:l>c?r+s-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-o,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,p=c-l,u=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>p?(n=e.left+h+d+f+t.collisionWidth-a-s,(0>n||n<o(p))&&(e.left+=h+d+f)):u>0&&(i=e.left-t.collisionPosition.marginLeft+h+d+f-l,(i>0||o(i)<u)&&(e.left+=h+d+f))},top:function(e,t){var n,i,r=t.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,p=c-l,u=c+t.collisionHeight-a-l,h="top"===t.my[1],d=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>p?(i=e.top+d+f+m+t.collisionHeight-a-s,e.top+d+f+m>p&&(0>i||i<o(p))&&(e.top+=d+f+m)):u>0&&(n=e.top-t.collisionPosition.marginTop+d+f+m-l,e.top+d+f+m>u&&(n>0||o(n)<u)&&(e.top+=d+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,s,a=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)t.style[s]=i[s];t.appendChild(o),n=a||document.documentElement,n.insertBefore(t,n.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",r=e(o).offset().left,e.support.offsetFractions=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;return r.containment?"window"===r.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),i=n[0],i&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var n,i,r,s,a=this.options,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,s=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-a.grid[0]:s+a.grid[0]:s)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var i=e(this).data("ui-draggable"),r=i.options,s=e.extend({},n,{item:i.element});i.sortables=[],e(r.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(i.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var i=e(this).data("ui-draggable"),r=e.extend({},n,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,n){var i=e(this).data("ui-draggable"),r=this;e.each(i.sortables,function(){var s=!1,a=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(a.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;
t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),i=n.options,r=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),i=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:i.top,left:i.left})})},drag:function(t,n){var i,r,s,a,o,l,c,p,u,h,d=e(this).data("ui-draggable"),f=d.options,m=f.snapTolerance,g=n.offset.left,v=g+d.helperProportions.width,w=n.offset.top,y=w+d.helperProportions.height;for(u=d.snapElements.length-1;u>=0;u--)o=d.snapElements[u].left,l=o+d.snapElements[u].width,c=d.snapElements[u].top,p=c+d.snapElements[u].height,o-m>v||g>l+m||c-m>y||w>p+m||!e.contains(d.snapElements[u].item.ownerDocument,d.snapElements[u].item)?(d.snapElements[u].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[u].item})),d.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(i=Math.abs(c-y)<=m,r=Math.abs(p-w)<=m,s=Math.abs(o-v)<=m,a=Math.abs(l-g)<=m,i&&(n.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top),r&&(n.position.top=d._convertPositionTo("relative",{top:p,left:0}).top-d.margins.top),s&&(n.position.left=d._convertPositionTo("relative",{top:0,left:o-d.helperProportions.width}).left-d.margins.left),a&&(n.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left)),h=i||r||s||a,"outer"!==f.snapMode&&(i=Math.abs(c-w)<=m,r=Math.abs(p-y)<=m,s=Math.abs(o-g)<=m,a=Math.abs(l-v)<=m,i&&(n.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top),r&&(n.position.top=d._convertPositionTo("relative",{top:p-d.helperProportions.height,left:0}).top-d.margins.top),s&&(n.position.left=d._convertPositionTo("relative",{top:0,left:o}).left-d.margins.left),a&&(n.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[u].snapping&&(i||r||s||a||h)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[u].item})),d.snapElements[u].snapping=i||r||s||a||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,i=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var i=e(n.helper),r=e(this).data("ui-draggable").options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(t,n){var i=e(this).data("ui-draggable").options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,n=e.ui.ddmanager.droppables[this.options.scope];t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){"accept"===t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,n,i){if(!n.offset)return!1;var r,s,a=(e.positionAbs||e.position.absolute).left,o=a+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,c=l+e.helperProportions.height,p=n.offset.left,u=p+n.proportions.width,h=n.offset.top,d=h+n.proportions.height;switch(i){case"fit":return a>=p&&u>=o&&l>=h&&d>=c;case"intersect":return p<a+e.helperProportions.width/2&&o-e.helperProportions.width/2<u&&h<l+e.helperProportions.height/2&&c-e.helperProportions.height/2<d;case"pointer":return r=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(s,h,n.proportions.height)&&t(r,p,n.proportions.width);case"touch":return(l>=h&&d>=l||c>=h&&d>=c||h>l&&c>d)&&(a>=p&&u>=a||o>=p&&u>=o||p>a&&o>u);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,r,s=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||t&&!s[i].accept.call(s[i].element[0],t.currentItem||t.element))){for(r=0;r<o.length;r++)if(o[r]===s[i].element[0]){s[i].proportions.height=0;continue e}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===a&&s[i]._activate.call(s[i],n),s[i].offset=s[i].element.offset(),s[i].proportions={width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight})}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,s,a=e.ui.intersect(t,this,this.options.tolerance),o=!a&&this.isover?"isout":a&&!this.isover?"isover":null;o&&(this.options.greedy&&(r=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===r}),s.length&&(i=e.data(s[0],"ui-droppable"),i.greedyChild="isover"===o)),i&&"isover"===o&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,n),i&&"isout"===o&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,s=this.opos[0],a=this.opos[1],o=t.pageX,l=t.pageY;return s>o&&(n=o,o=s,s=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:s,top:a,width:o-s,height:l-a}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?c=!(n.left>o||n.right<s||n.top>l||n.bottom<a):"fit"===r.tolerance&&(c=n.left>s&&n.right<o&&n.top>a&&n.bottom<l),c?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(i=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(i=e(t.target)),i?!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,i){var r,s,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,s,a=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],s=this._intersectsWithPointer(i),s&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),s=this.options.axis,a={};s&&"x"!==s||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,s=e.left,a=s+e.width,o=e.top,l=o+e.height,c=this.offset.click.top,p=this.offset.click.left,u="x"===this.options.axis||i+c>o&&l>i+c,h="y"===this.options.axis||t+p>s&&a>t+p,d=u&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&o<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,s=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"===a||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,s,a=[],o=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=e(l[n]),i=r.length-1;i>=0;i--)s=e.data(r[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&o.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=o.length-1;n>=0;n--)o[n][0].each(function(){a.push(this)});return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,s,a,o,l,c,p=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=e(h[n]),i=r.length-1;i>=0;i--)s=e.data(r[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=u.length-1;n>=0;n--)for(a=u[n][1],o=u[n][0],i=0,c=o.length;c>i;i++)l=e(o[i]),l.data(this.widgetName+"-item",a),p.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,s;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),s=r.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var r,s,a,o,l,c,p,u,h,d,f=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(f&&e.contains(this.containers[r].element[0],f.element[0]))continue;f=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,o=null,d=f.floating||n(this.currentItem),l=d?"left":"top",c=d?"width":"height",p=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)e.contains(this.containers[m].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!d||t(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(u=this.items[s].item.offset()[l],h=!1,Math.abs(u-p)>Math.abs(u+this.items[s][c]-p)&&(h=!0,u+=this.items[s][c]),Math.abs(u-p)<a&&(a=Math.abs(u-p),o=this.items[s],this.direction=h?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;o?this._rearrange(i,o,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])
},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,s=t.pageX,a=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((s-this.originalPageX)/r.grid[0])*r.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:o.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:o.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(){var e;e=$(window),$$("pages/about","pages/advertise","pages/adspecs",function(t){var n,i;return i=function(){var e,n,i,r,s,a;return a=t(".subnav.collapsable .nav"),r=null,i=!1,a.on("mouseleave",function(){return i=!1}),Modernizr.touch&&a.find(".collapsable").hide(),s=function(e,t){var n,r;if(null==t&&(t=!1),i=!0,e.trigger("open"),n=a.find(".submenu.active, .submenu.locked").length>0,t){if(a.find(".submenu").removeClass("active locked"),e.addClass("active locked").trigger("openMenu",[e]),!n)return e.find(".submenu-content").css({"max-height":0}).transition({"max-height":500})}else if(r=a.find(".submenu"),0===r.filter(".locked").length&&(r.removeClass("active locked"),e.addClass("active").trigger("openMenu",[e]),!n))return e.find(".submenu-content").css({"max-height":0}).transition({"max-height":500})},e=function(e,t){return null==e&&(e=!1),null==t&&(t=null),e?a.find(".submenu").removeClass("active locked"):a.find(".submenu:not(.locked)").removeClass("active")},n={on:".submenu",sensitivity:4,interval:50,over:function(e){return s(t(e.currentTarget))},out:function(t){var n;return n=t.currentTarget,clearTimeout(r),r=delay(50,function(){return i?void 0:e()})}},a.hoverIntent(n),t(document).on("click",function(){return e(!0)})},n=function(){return t(".sortable").sortable({cursor:"move",delay:150,distance:5,opacity:.5,placeholder:"sortable-placeholder",forcePlaceholderSize:!0,tolerance:"pointer"}).disableSelection().on("sortchange",function(e,t){return t.placeholder.before(" ").after(" ")}).on("sortupdate",function(e,n){var i;return n.item.before(" ").after(" "),i=t(this).sortable("serialize"),t.ajax({type:"PUT",url:"/people/sort/",data:i,success:function(){return console.log("success")},error:function(){return console.log("fail")}})}),t(".team .admin").show()},function(){var r;return r=readSession("session"),r&&r.roles&&_.some(["admin","hr_admin"],function(e){return~r.roles.indexOf(e)})&&n(),t(".fixable-wrapper").waypoint({offset:0},function(e,n){return t(".navbar").toggleClass("fixed","down"===n)}),t(".subnav").length>0&&(t(".page-header").addClass("dropnav2"),t("#body .page").on("click",".dropnav2",function(){var n;return n=t(this),e.width()<748&&!n.hasClass("open")?(n.addClass("open"),t(".subnav").first().addClass("open"),t(".subnav:gt(0)").hide()):(n.removeClass("open"),t(".subnav").removeClass("open"),t(".subnav:gt(0):not(.accordionable)").show())})),t(".subnav .more").length>0&&(t(".subnav .more").closest(".subnav").addClass("collapsable"),i()),e.on("load",function(){return t("body").scrollspy({target:".subnav.scrollspy",offset:44})}),e.off("resize-width").on("resize-width",function(){return t.throttle("scrollspy",500,function(){return t("body").scrollspy("refresh")})}),t(".collapse").on("show",function(){var e;return e=t(this),e.siblings(".collapse-trigger").hide(),e.one("click",".collapse-header",function(){return e.collapse("hide"),e.siblings(".collapse-trigger").show()})})}()})}.call(this),function(){$$("publishers/show",function(){var e,t;return e=new App.PostCollection,e.url="/publishers/"+window.__bootstrap.publisher.slug+"?format=json",e.hasMore=function(e){return e.data.length>0},e.parse=function(e){return e.data},t=new App.PostCollectionView({collection:e,el:$(".story-stream"),view:App.TopicPostView,data:window.__bootstrap.data,manualStart:!0,infiniteScroll:{maxPages:10,startPage:window.__bootstrap.page}}),t.on("add",function(e){return 0===e%10?(TripleClick.newOrd(),this.append(TripleClick.tripleclickAd("topic_center"))):void 0}),t.on("addView",function(e){var n;return n=t.page,e.$el.waypoint({continuous:!1,onlyOnScroll:!0,handler:function(){var e,i;return e=null,i=1===n?"/publishers/"+window.__bootstrap.publisher.slug+"/":"/publishers/"+window.__bootstrap.publisher.slug+"/page/"+n+"/",setUrl(i,!0)?(omni($.extend({isPostView:!1},{page_number:t.page,page_type:"Infini-Publisher"})),comscoreBeacon(),ga()):void 0}})}),t.start()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};$$("video_categories/index","video_categories/show","videos/index","videos/show",function(){var e,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g;return o=function(n){function i(){return c=i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.initialize=function(e,t,n,i,s,a){return null==a&&(a={}),this.set(_.extend({player:e,videoPlayerModule:t,experienceModule:n,contentModule:i,playlist:s,currentVideo:new r($("#current-video-info").data())},a)),this.resetSize(),n.addEventListener(brightcove.api.events.ExperienceEvent.TEMPLATE_READY,$.proxy(function(){return t.addEventListener(brightcove.api.events.MediaEvent.COMPLETE,$.proxy(this.mediaComplete,this))},this))},i.prototype.loadNextVideo=function(){var e;return e=this.get("playlist"),e.shift(),e.isEmpty()?void 0:(setUrl("video-categories/"+e.tag+"/videos/"+e.first().get("videoId"),!0),window.VideoHub.router.navigate(),this.play(e.first()))},i.prototype.resetSize=function(){var e,t,n,i;return n=$("#player").width(),e=Math.floor(n/(16/9)),t=$("#myExperience"),t.attr("height",e),t.attr("width",n),this.get("experienceModule").setSize(n,e),i=$(window).width(),i>1024?($("#sidebar-limiter").height($("#size-container").height()),$("#sidebar-limiter").css("width","")):i>480?($("#sidebar-limiter").width(150*this.get("playlist").length+42),$("#sidebar-limiter").css("height","")):$("#sidebar-limiter").css({height:"",width:""})},i.prototype.mediaComplete=function(){return this.loadNextVideo()},i.prototype.play=function(t){var n;return this.set("currentVideo",t),new e({model:t}).render(),n=t.get("videoId")||t.get("video-id"),this.get("videoPlayerModule").loadVideoByID(n),$("body").animate({scrollTop:100}),$("#sidebar-limiter").animate({scrollTop:0})},i}(Backbone.Model),r=function(e){function n(){return p=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.fromElement=function(e,t){var i,r,s;return i=$(e),null!=t&&i.data("playlist",t),r=new n(i.data()),s=new l({el:e,model:r}),r.view=s,window.VideoHub.videos[r.get("videoId")]=r,r},n}(Backbone.Model),n=function(e){function n(){return u=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=r,n.prototype.retrieveVideosFromPlaylist=function(){var e,t,n,i,s;for(i=this.view.$el.find("li.video"),s=[],t=0,n=i.length;n>t;t++)e=i[t],s.push(this.push(r.fromElement(e,this)));return s},n.prototype.url=function(){return"/video-categories/"+this.tag+".json"},n.prototype.parse=function(e){return e.videos},n.prototype.jumpTo=function(e){var t;return this!==window.VideoHub.mainPlaylist?n.replaceMainPlaylist(e):(t=this.indexOf(e),this.removeTo(t),window.VideoHub.router.navigate("video-categories/"+e.get("playlist").tag+"/videos/"+e.get("videoId")),window.VideoHub.videoPlayer.play(e))},n.prototype.removeTo=function(e){var t,n,i,r;if(e>0){for(n=[],t=i=0,r=e-1;r>=0?r>=i:i>=r;t=r>=0?++i:--i)n.push(this.at(t));return this.remove(n)}},n.fromElement=function(e){var t,r,a,o,l;return t=$(e),r=new n,r.tag=t.data("tag"),r.page=t.data("page"),l=new i({collection:r,el:e}),r.view=l,r.retrieveVideosFromPlaylist(),window.VideoHub.playlists[r.tag]=r,a=t.parents(".video-group"),1===a.length&&(o=new s({el:a,collection:r}),o.addChooser()),r},n.replaceMainPlaylist=function(e){var t,n;return t=$(e.get("playlist").view.render()),e.get("playlist").indexOf(e)>0&&(t=t.filter(":gt("+(e.get("playlist").indexOf(e)-1)+")")),$("#playlist").html(t),n=window.VideoHub.mainPlaylist,n.models=[],n.retrieveVideosFromPlaylist(),window.VideoHub.videoPlayer.play(e)},n}(Backbone.Collection),e=function(e){function n(){return h=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.render=function(){var e;return e=$("#current-video-info"),e.find("#video-title").text(this.model.get("title")),e.find("#video-description").text(this.model.get("desc"))},n}(Backbone.View),l=function(e){function n(){return d=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.className="video",n.prototype.events={click:"jumpToVideo"},n.prototype.jumpToVideo=function(e){return e.stopImmediatePropagation(),this.model.get("playlist").jumpTo(this.model),!1},n.prototype.render=function(){return n.template(this.model.attributes)},n.prototype.slideAndRemove=function(){var e,t,n;return t=this,e=t.$el,n=$(window).width(),n>1024?e.transition({"margin-top":-1*e.height()},function(){return e.remove()}):n>480?e.transition({"margin-left":-1*e.width()},function(){return e.remove()}):e.remove()},n.template=Handlebars.templates["templates/videos/video"],n}(Backbone.View),i=function(e){function n(){return f=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="li",n.prototype.className="playlist",n.prototype.render=function(){var e,t,n,i,r,s;for(e=[],t=function(t){return null==t.view&&(t.view=new l({model:t})),e.push(t.view.render())},s=this.collection.models,i=0,r=s.length;r>i;i++)n=s[i],t(n);return e.join("")},n}(Backbone.View),s=function(e){function n(){return m=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.events={"click .video-group-title":"toggleChooserMenu","click .video-chooser li":"choosePlaylist","click a.expand-link":"expandToggle","click a.collapse-link":"expandToggle","change .mobile-playlist-select":"selectPlaylist"},n.prototype.addChooser=function(){var e,t,n,i,r,s;if(this.$el.find(".video-chooser").length<1){for(n=this.$el.find(".video-group-title"),t=$('<ul class="video-chooser"></ul>'),s=n.data("subcategories"),i=0,r=s.length;r>i;i++)e=s[i],t.append("<li data-tag='"+e[1]+"'>"+e[0]+"</li>");return n.after(t)}},n.prototype.toggleChooserMenu=function(e){return e.stopImmediatePropagation(),this.$el.find(".video-group-title").hasClass("active")?$(".video-chooser, .video-group-title").removeClass("active"):($(".video-chooser, .video-group-title").removeClass("active"),this.$el.find(".video-chooser, .video-group-title").addClass("active"))},n.prototype.choosePlaylist=function(e){var t;return t=$(e.target),this.$el.find(".video-chooser, .video-group-title").removeClass("active"),this.loadPlaylist(t.data("tag"),t.text())},n.prototype.loadPlaylist=function(e,t){var n;return this.collection.tag=e,n=this.$el.find(".video-group-title"),this.collection.fetch({success:function(e){var i,r,s,a,o,l,c;for(l=e.models,s=0,o=l.length;o>s;s++)i=l[s],i.set("playlist",e);for(e.view.$el.html(e.view.render()),r=a=0,c=e.length-1;c>=0?c>=a:a>=c;r=c>=0?++a:--a)e.models[r].view.setElement(e.view.$el.find(".video")[r]);return n.find("h3").length>0?n.find("h3").text(t):n.append("<h3>"+t),$(window).width()<480?e.jumpTo(e.models[0]):void 0}})},n.prototype.expandToggle=function(e){var t,n;return e.stopImmediatePropagation(),n=this.$el,t=n.find(".playlist"),"110px"!==t.css("height")?(t.css("height","110px"),n.find("a.expand-link").text("See all ▾"),n.find("a.collapse-link").hide()):(t.css("height","auto"),n.find("a.expand-link").text("Show less ▴"),n.find("a.collapse-link").show())},n.prototype.selectPlaylist=function(){var e;return e=this.$el.find(".mobile-playlist-select").find(":selected"),this.loadPlaylist(e.val(),e.text())},n}(Backbone.View),a=function(e){function i(){return g=i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.routes={"videos/:video":"video","videos/":"videoCategory","video-categories":"videoCategory","video-categories/:category":"videoCategory","video-categories/:category/videos":"videoCategory","video-categories/:category/videos/:video":"videoCategory"},i.prototype.initialize=function(){var e;return e=new RegExp("(/)+$","g"),this.route(/(.*)\/+$/,"stripTrailingSlash",function(t){return t=t.replace(e,""),this.navigate(t,!0)})},i.prototype.video=function(e){return n.jumpTo(e)},i.prototype.videoCategory=function(e,t){var n,i;return n=window.VideoHub.playlists[e],i=n.get(t),n.jumpTo(i)},i}(Backbone.Router),window.VideoHub={playlists:{},videos:{}},window.videoTemplateLoaded=function(e){var t,i,r,s,l,c,p;for(r=brightcove.api.getExperience(e),i=n.fromElement($("#playlist")[0]),s=new o(r,r.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER),r.getModule(brightcove.api.modules.APIModules.EXPERIENCE),r.getModule(brightcove.api.modules.APIModules.CONTENT),i),i.on("remove",function(e){return e.view.slideAndRemove()}),$(window).on("resize",function(){return s.resetSize()}),window.VideoHub.mainPlaylist=i,window.VideoHub.videoPlayer=s,p=$("#video-categories .playlist"),l=0,c=p.length;c>l;l++)t=p[l],n.fromElement(t);return window.VideoHub.router=new a,Backbone.history.start({pushState:!0,hashChange:!1})}})}.call(this),function(){var e,t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};e=$(window),$$("topics/show",function(e){return e(".staples-content").length>0?new App.StaplesHubView({el:"html"}):void 0}),t=function(e){function t(){return this.switchPanel=i(this.switchPanel,this),n=t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.events=function(){return{"click a#staples-managing, a#staples-working, a#staples-launching":"switchPanel"}},t.prototype.initialize=function(){return this.windowSizeListen(),this.initPostView()},t.prototype.switchPanel=function(e){return $(".column").removeClass("visible"),$("#"+$(e.target).data("column")).addClass("visible"),$("a.staples-tab").removeClass("active"),$(e.target).addClass("active"),!1},t.prototype.windowSizeListen=function(){return $(window).width()<920&&$("#column2, #column3").removeClass("visible"),$(window).on("resize",function(){return $(window).width()>920?$(".column").addClass("visible"):(3===$(".visible").length&&$("#column2, #column3").removeClass("visible"),$("a.staples-tab").removeClass("active"),$("a.staples-tab:first-child").addClass("active"))})},t.prototype.initPostView=function(){var e,t,n,i,r,s,a,o,l;for(s=[["managing","small-business-management"],["working","small-business-team"],["launching","small-business-launch"]],l=[],n=a=0,o=s.length;o>a;n=++a)r=s[n],t=new App.PostCollection,t.url="/category/"+r[1]+"?format=json&page_size=5",t.hasMore=function(e){return e.data.length>0},t.parse=function(e){return e.data},e=r[0],t.column=e,i=new App.PostCollectionView({collection:t,el:$("#column"+(n+1)),view:App.PostView,manualStart:!0,infiniteScroll:{maxPages:10,startPage:0,offset:25}}),i.on("add",function(e,t){var n;if(n=1,"managing"===t.collection.column){if(e>0&&0===(e+1)%3)return TripleClick.newOrd(),this.append(TripleClick.tripleclickAd("left_column",{tile:1,adnum:n++}))}else if("launching"===t.collection.column&&e>3&&0===(e-1)%3)return TripleClick.newOrd(),this.append(TripleClick.tripleclickAd("right_column",{tile:3,adnum:n++}))}),l.push(i.start());return l},t}(Backbone.View),this.provides({StaplesHubView:t})}.call(this),function(){var e;e=$(window),$$("topics/show",function(){var e,t,n,i,r;return e=new App.PostCollection,e.url="/category/"+window.__bootstrap.topic.id+"?format=json",e.hasMore=function(e){return e.data.length>0},e.parse=function(e){return e.data},n=new App.PostCollectionView({collection:e,el:$(".story-stream"),view:App.TopicPostView,data:window.__bootstrap.data,manualStart:!0,infiniteScroll:{maxPages:10,startPage:window.__bootstrap.page}}),i=window.location.searchObj.lift_preview,i&&($(".visible-desktop").append(TripleClick.tripleclickAd("topic_sales_hub")),$(".visible-desktop .ad_container:first-child").hide()),null==$("#topics-header").data("posts")&&n.on("add",function(e){return e>4&&0===(e-2)%3?(TripleClick.newOrd(),this.append(TripleClick.tripleclickAd("topic_center"))):void 0}),t=1,n.on("addView",function(){var e;return e=n.page,t!==e?(t=e,omni($.extend({isPostView:!1},{page_number:n.page,page_type:"Infini-Topic",channel:"Category"})),comscoreBeacon(),ga()):void 0}),n.start(),r=1,onceQueryIs("topicSidebar",App.VISIBLE_SIDEBAR,function(){var e,t;return e=new App.PostCollection,t=new App.PostCollectionView({el:$("#hot-stories")}),e.parse=function(e){var n,i,s,a,o,l;for(l=e.rising,i=a=0,o=l.length;o>a;i=++a)n=l[i],t.collection.add(new App.Post(n)),(0===i||i>3&&0===i%4)&&(s={loc:"topic",adnum:r++},$(t.fragment).append(TripleClick.tripleclickAd("right_rail_lift",s))),0===(i+1)%2&&$(t.fragment).append(TripleClick.tripleclickAd("right_rail",{adnum:i/2+2,ord:Math.ceil(1e15*Math.random())}));return[]},e.fetch({data:{rising_per_page:15,hot_per_page:0,new_per_page:0},complete:function(){return t.commit()}})})}),$$("topics/edit",function(){return $("#freebase_search").suggest({}).bind("fb-select",function(e,t){return $.getJSON("http://api.freebase.com/api/experimental/topic/basic?callback=?&id="+t.id,function(e){var n;return n=e[t.id].result,$("#freebase_result .name").text(n.text),$("#freebase_result .article").text(n.description),$("#freebase_result input").val("freebase-"+t.id).click(),n.thumbnail?$("#freebase_result .img").html($("<img>").attr("src",n.thumbnail)):$("#freebase_result .img").html("")})})})}.call(this),function(){var e;e=function(e){var t,n,i;return n=e||location.hash,i=n.split("?"),t=$("[href="+i[0]+"]"),t&&t.tab("show")},$$("users/edit","users/update",function(){return $(".network-picture").on("click",function(){return $("#user_image_url").val($(this).attr("src"))}),$(".profile-menu a").on("click",function(t){return t.target.hash?e(t.target.hash):void 0}),Modernizr.touch?$(".profile-menu a").on("click",function(){return $("body,html").animate({scrollTop:$(".profile-content").position().top+"px"})}):void 0}),$$("users/show",function(){return App.reloadUserData()}),$$("users/show","authors/show",function(){var e,t,n,i,r;return e=$("section.profile-info"),t=$(window),i=!1,r=1,n=!0,$(document).scroll(function(){var s;return!i&&t.height()+t.scrollTop()>=e.offset().top+.8*e.height()&&(i=!0,s=0,r+=1,n)?$.get(window.location.pathname,{page:r,format:"json",include_feed:"true"},function(e){return"undefined"!=typeof recommendedStoriesFeed&&null!==recommendedStoriesFeed&&e.recommended_stories&&e.recommended_stories.length>0?recommendedStoriesFeed.add(e.recommended_stories):s+=1,"undefined"!=typeof recommendedCommentsFeed&&null!==recommendedCommentsFeed&&e.recommended_comments&&e.recommended_comments.length>0?recommendedCommentsFeed.add(e.recommended_comments):s+=1,"undefined"!=typeof userStoriesFeed&&null!==userStoriesFeed&&e.user_stories&&e.user_stories.length>0?userStoriesFeed.add(e.user_stories):s+=1,"undefined"!=typeof userCommentsFeed&&null!==userCommentsFeed&&e.user_comments&&e.user_comments.length>0?userCommentsFeed.add(e.user_comments):s+=1,4===s&&(n=!1),i=!1}):void 0})})}.call(this),function(){}.call(this),function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m,g,v,w,y={}.hasOwnProperty,b=function(e,t){function n(){this.constructor=e}for(var i in t)y.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},k=function(e,t){return function(){return e.apply(t,arguments)}};e=$(window),l=function(e,t){return setTimeout(t,e)},h=function(e,t){return setInterval(t,e)},u=function(e){return clearInterval(e),null},o=1e4,p=!1,i=function(e){function t(){return d=t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.routes={"gallery/:gallery":"gallery","gallery/:gallery/:slide":"slide"},t.prototype.gallery=function(e){var t;return t=window.galleries[e],t?t.open():void 0},t.prototype.slide=function(e,t){var n;return n=window.galleries[e],n&&!n.is_open()?n.open(t):void 0},t}(Backbone.Router),c=new i,t=function(e){function t(){return f=t.__super__.constructor.apply(this,arguments)}return b(t,e),t}(Backbone.Model),a=function(i){function a(){return this.updateSlideWidth=k(this.updateSlideWidth,this),this.handleKeys=k(this.handleKeys,this),m=a.__super__.constructor.apply(this,arguments)}return b(a,i),a.prototype.events={"click .interactive":"open","click .slide-container":"nextOrPause","click .open-gallery":"open","click .next":"next","click .prev":"prev","click .meta a":"openLink","click .thumbs":"toggleThumbs","click .thumbs a":"index","click .actions .all":"toggleThumbs","click .actions .close":"close","click .actions .slideshow":"startSlideshow","click .as-list":"renderAsListAndScroll","click .as-gallery":"renderAsGalleryAndScroll"},a.prototype.initialize=function(){var e,n,i,r=this;return $(document).on("page:before_change",function(){return r.close()}),this.model||(i=function(){var t,n,i,r;for(i=this.$el.find(".slide"),r=[],t=0,n=i.length;n>t;t++)e=i[t],e=$(e),r.push({id:e.data("id"),title:e.find(".meta .title").html(),description:e.find(".meta .caption").html(),credit:e.find(".meta .credit").html(),content:e.find("figure").html(),thumb:e.data("thumb"),content_source:e.data("content-source"),skip_rerender:e.data("skip-rerender")});return r}.call(this),this.model=new t({id:this.$el.data("id"),slug:this.$el.data("slug"),display_mode:this.$el.data("display-mode"),show_list_title:this.$el.data("display-title"),slide_title_pos:this.$el.data("slide-title-pos"),post_id:$("article.post.full").data("id"),title:this.$el.find("header h1").text(),slides:i})),this.popout=new App.Popout({type:"fixed"}),n=this.popout,n.lightbox.$el.off("mousewheel"),n.lightbox.$el.off("touchmove"),this.popout.bind("closed",function(){return r.close}),this.render()},a.prototype.render=function(){return"list"===this.displayMode()?this.renderAsList():this.renderAsGallery()},a.prototype.displayMode=function(){return this.renderMode||this.model.attributes.display_mode},a.prototype.omnomnom=function(e){return e.preventDefault(),!1},a.prototype.scrollTo=function(){return $("html,body").animate({scrollTop:this.$el.offset().top-100})},a.prototype.renderAsListAndScroll=function(){return omni({track_link:!0,events:"event35",gallery_view:"Gal | "+this.model.attributes.id+" | "+this.model.attributes.title}),this.renderAsList(),this.scrollTo(),!1},a.prototype.renderAsGalleryAndScroll=function(){return this.renderAsGallery(),this.prime(!0),this.scrollTo(),!1},a.prototype.openLink=function(e){return e.stopImmediatePropagation(),!0},a.prototype.renderAsList=function(){var e,t,i,s=this;return this.renderMode="list",t=$(Handlebars.templates["templates/gallery/list"](this.model.attributes)),this.$el.replaceWith(t),this.setElement(t.get(0)),e=this.$el.find(".slides"),this.slides=new Backbone.Collection,this.slides.bind("add",function(t){return t.view=new n({model:t,gallery:s}),t.view.render(),e.append(t.view.el)}),this.slides.add(function(){var e,t,n,s;for(n=this.model.attributes.slides,s=[],e=0,t=n.length;t>e;e++)i=n[e],s.push(new r(i));return s}.call(this)),this.$el.find(".twitter-tweet").length>0&&("undefined"!=typeof twttr&&null!==twttr&&null!=twttr.widgets&&twttr.widgets.loaded?twttr.widgets.load(this.el):loadScriptAsync("twitter")),this.$el.find(".vine-embed").length>0&&("undefined"==typeof VINE_EMBEDS||null===VINE_EMBEDS)&&loadScriptAsync("//platform.vine.co/static/scripts/embed.js","vine"),!1},a.prototype.renderAsGallery=function(){var t,n,i,a,o,l,c=this;for(this.renderMode="gallery",e.off("resize.gallery").on("resize.gallery",function(){return $.throttle("resize.gallery",50,function(){return c.updateSlideWidth(!0,!0)})}),this.slides=new Backbone.Collection,this.slides.bind("add",function(e){return e.view=new s({model:e,gallery:c})}),this.slides.add(function(){var e,t,i,s;for(i=this.model.attributes.slides,s=[],e=0,t=i.length;t>e;e++)n=i[e],s.push(new r(n));return s}.call(this)),t=$(Handlebars.templates["templates/gallery/gallery"](this.model.attributes)),this.$el.replaceWith(t),this.setElement(t.get(0)),i=this.$el.find(".thumbs"),this.thumbs=i,this.thumbs.hide(),this.slideContainer=this.$el.find(".slide-container"),this.slideWindow=this.$el.find(".slide-container .slides"),this.ad=this.$el.find(".sidebar .ad"),l=this.slides.models,a=0,o=l.length;o>a;a++)n=l[a],this.slideWindow.append(n.view.el);return this.slideWindow.on("touchstart",function(e){return c.is_open()?(c.touchStartX=e.clientX||e.originalEvent.touches[0].clientX,c.touchStartY=e.clientY||e.originalEvent.touches[0].clientY,c.startTransform=parseInt(c.slideWindow.css("transform")._translateX||"0",10),c.movingHorizontal=null):!0}),this.slideWindow.on("touchmove",function(e){var t,n,i,r,s,a,o;return c.is_open()&&c.movingHorizontal!==!1?(r=e.clientX||e.originalEvent.touches[0].clientX,t=c.touchStartX-r,c.movingHorizontal||(a=e.clientY||e.originalEvent.touches[0].clientY,n=c.touchStartY-a,s=t*t,o=n*n,i=t*t+n*n,i>400&&(c.movingHorizontal=s>o)),c.movingHorizontal===!0?(e.preventDefault(),c.moveDelta=t,c.slideWindow.css({x:c.startTransform-c.moveDelta})):void 0):!0}),this.slideWindow.on("touchend",function(e){return c.is_open()&&c.movingHorizontal!==!1?(c.movingHorizontal=null,c.moveDelta<-50?(c.prev(),e.preventDefault()):c.moveDelta>50?(c.next(),e.preventDefault()):c.nav(0)):void 0}),this.content=this.$el.find(".content"),this.actions=this.$el.find(".actions"),this.metaContainer=this.$el.find(".meta"),this.titleContainer=this.$el.find(".meta .title"),this.descriptionContainer=this.$el.find(".meta .caption"),this.creditContainer=this.$el.find(".meta .credit"),this.slideCounter=this.$el.find(".meta .slides .current"),this.$el.find(".meta .slides .total").text(this.slides.length),this.slideList=this.$el.find(".slides .slide"),this.slideList.addClass("inactive"),this.updateSlideWidth(),e.bind("fullscreen",function(e,t){return t?c.$el.addClass("fullscreen"):(c.$el.removeClass("fullscreen"),c.stopSlideshow()),c.updateSlideWidth(!1,!0)}),!1},a.prototype.prime=function(e){return null==e&&(e=!1),"list"===this.displayMode()||!e&&null!=this.active?void 0:this.nav(null,0)},a.prototype.getSlideIndex=function(e){var t;return t=_.find(this.slides.models,function(t){return t.id===e}),t?this.slides.models.indexOf(t):0},a.prototype.lengthRange=function(e){var t;return t=function(){switch(!1){case!(10>e):return"0-9";case!(20>e):return"10-19";case!(30>e):return"20-29";case!(40>e):return"30-39";default:return"40-49"}}()},a.prototype.progressArray=function(e){var t,n,i,r;for(t=[],n=e/10,i=r=0;10>=r;i=++r)t.push(Math.round(n*i));return t},a.prototype.renderSlide=function(e,t,n){var i,r,s,a,o,l,c,p,u;return null==t&&(t=!1),null==n&&(n=!1),null!=this.slideCounter&&this.slideCounter.text(e+1),s=$(this.slideList[e]),o=this.currentSlide,l=this.slides.length,c=e+1,a={gallery_index:""+c,gallery_length:this.lengthRange(l)},r=1===c?0:this.progressArray(l).indexOf(c),r>-1&&(i="event"+(90+r),window.__o.events&&(i=window.__o.events.split(",").concat(i).join()),a=$.extend({events:i},a)),!this.currentSlide||this.currentSlide[0]!==s[0]||t?(this.currentSlide=s,s.removeClass("inactive"),p=this.slides,u=this,this.updateWindow(n,function(){var n,i,r;for(o&&o.addClass("inactive"),u.currentSlideModel=p.at(e),u.currentSlideModel.view.render(t),u.currentSlideModel.view.$el.removeClass("inactive"),u.updateAd(),u.registerPageView(a),u.isSetup=!0,r=[],n=i=1;2>=i;n=++i)null==p.at(e+n)||p.at(e+n).attributes.skip_rerender?r.push(void 0):r.push(p.at(e+n).view.prerender());return r})):void 0},a.prototype.updateAd=function(){var e,t;return this.is_open()?(null==this.gallery_adnum&&(this.gallery_adnum=0),this.gallery_adnum++,TripleClick.newOrd(),this.ad.html(TripleClick.tripleclickAd("gallery",{sec2:"gallery",tile:1,adnum:this.gallery_adnum})),e=$(".mash-lightbox.shown .gallery-leaderboard"),e.length?e.html(TripleClick.tripleclickAd("banner",{pos:"gallery"})):$(window).width()>728&&((t=$('<div class="gallery-leaderboard" style="position: absolute; width: 100%; top: 0px; left: 0px; height: 105px; padding-top: 15px; background: #444"></div>')).html(TripleClick.tripleclickAd("banner",{pos:"gallery"})),$(".mash-lightbox.shown .gallery").css("top","120px"),$(".mash-lightbox.shown .popout").prepend(t),$(".mash-lightbox.shown .gallery-leaderboard").on("click",function(e){return e.stopPropagation()
})),null):void 0},a.prototype.registerPageView=function(e){var t,n,i,r,s,a;return this.is_open()?(a=this.currentSlideModel,t=this.model.attributes.id,n=this.model.attributes.title,r=a.attributes.id,s=this.model.attributes.post_id,window._gaq.push(["_trackPageview"]),window._gaq.push(["_trackEvent","gallery","/gallery/"+t+"/post/"+s,r]),i={display_mode:null,content_type:"Gallery",content_source:a.attributes.content_source,page_type:"Ajax-Gallery",page_number:null,embedded_content:"Gal | "+t+" | "+n},i=$.extend(i,e),omni(i),comscoreBeacon(),null):void 0},a.prototype.is_open=function(){return this.popout.popped},a.prototype.open=function(t){var n=this;return null==t&&(t=null),this.is_open()?!1:(this.popout.popOut(this.$el),this.updateSlideWidth(!1,!0),t&&(this.active=this.getSlideIndex(t)),this.$el.find(".slide-container").css({opacity:0}),l(300,function(){return n.updateSlideWidth(!1,!0),n.renderSlide(n.active,!0,!0),n.$el.find(".slide-container").transition({opacity:""},200)}),e.bindFirst("keydown.gallery",this.handleKeys),!1)},a.prototype.close=function(){var t=this;return $(".mash-lightbox.shown .gallery-leaderboard").remove(),this.popout.element.find(".slide-container").css({opacity:0}),this.$el.find(".slide-container").css({opacity:0}),this.popout.popIn(),this.stopSlideshow(),l(10,function(){return t.updateSlideWidth("",!0)}),l(475,function(){return t.updateWindow(!0),t.$el.find(".slide-container").transition({opacity:""},200),t.renderSlide(t.active,!0,!0)}),this.toggleThumbs(!1),this.slideshowStartedOnce=!1,e.off(".gallery"),c.navigate("_",{replace:!0}),!1},a.prototype.stopVideo=function(){var e;return void 0===this.active||(e=this.slides.at(this.active),e.attributes.skip_rerender)?void 0:l(1e3,function(){return e.view.rerender()})},a.prototype.nav=function(e,t){return this.stopVideo(),void 0!==t?this.active=t:this.active+=e,this.active<0&&(this.active=0),this.active>=this.slides.length&&(this.active=this.slides.length-1,this.slideshowTimer&&this.stopSlideshow()),this.renderSlide(this.active),this.updateSlideWidth()},a.prototype.prev=function(){var e=this;return this.is_open()?this.nav(-1):(this.open(),l(200,function(){return e.nav(-1)})),this.stopSlideshow(),!1},a.prototype.next=function(){var e=this;return this.is_open()?this.nav(1):(this.open(),l(500,function(){return e.nav(1)})),this.resetTimer(),!1},a.prototype.nextOrPause=function(e){return this.is_open()?this.slideshowPlaying?this.stopSlideshow():this.slideshowStartedOnce?this.startSlideshow():e.offsetX<.25*this.slideContainer.outerWidth()?this.prev():e.offsetX>.75*this.slideContainer.outerWidth()?this.next():this.toggleInfo(e):this.open(),!1},a.prototype.toggleInfo=function(e){return this.$el.toggleClass("show-info"),e&&e.stopPropagation(),!1},a.prototype.resetTimer=function(){var e,t=this;if(this.slideshowPlaying)return u(this.slideshowTimer),this.slideshowTimer=h(o,function(){return t.next()}),e=this.$el.find(".slideshow-timer .bar"),e.stop().animate({width:"0%"},1,function(){return e.animate({width:"100%"},o-20,"linear")})},a.prototype.index=function(e){return this.open(),this.toggleThumbs(!1),this.nav(null,this.thumbs.find("a").index(e.currentTarget)),!1},a.prototype.toggleThumbs=function(e){var t,n=this;return t=this.thumbs,e!==!0&&e!==!1&&!this.thumbsVisible||e===!0?(this.$el.find(".actions .all").addClass("active"),this.thumbs.css({opacity:"0",scale:1.3}).show().transition({opacity:1,scale:1}),this.thumbsVisible=!0):e!==!0&&(this.$el.find(".actions .all").removeClass("active"),this.thumbs.transition({opacity:0,scale:2.5},function(){return n.thumbsVisible=!1,n.thumbs.hide(),n.updateSlideWidth()})),!1},a.prototype.startSlideshow=function(){var e;return window.screenfull&&window.screenfull.request(this.el),this.slideshowPlaying?this.stopSlideshow():(this.slideshowPlaying=!0,this.slideshowStartedOnce||this.nav(null,0),this.slideshowStartedOnce=!0,this.resetTimer(),this.$el.addClass("slideshow"),this.$el.find(".actions .slideshow").addClass("active"),e=this.$el.find(".actions .slideshow .icon-white"),e.removeClass("icon-play").addClass("icon-pause")),!1},a.prototype.stopSlideshow=function(){var e;return this.slideshowPlaying?(this.slideshowPlaying=!1,this.slideshowTimer=u(this.slideshowTimer),this.$el.removeClass("slideshow"),this.$el.find(".actions .slideshow").removeClass("active"),e=this.$el.find(".actions .slideshow .icon-white"),e.removeClass("icon-pause").addClass("icon-play")):void 0},a.prototype.handleKeys=function(e){if(this.is_open())switch(e.which){case 38:return this.toggleThumbs(!0),e.stopImmediatePropagation(),!1;case 40:return this.thumbsVisible?this.startSlideshow():this.toggleThumbs(!1),e.stopImmediatePropagation(),!1;case 37:return this.prev(),e.stopImmediatePropagation(),!1;case 39:return this.next(),e.stopImmediatePropagation(),!1;case 27:return this.close(),e.stopImmediatePropagation(),!1}},a.prototype.updateTitle=function(e){return this.titleContainer.html(e)},a.prototype.updateDescription=function(e){return this.descriptionContainer.html(e)},a.prototype.updateCredit=function(e){return this.creditContainer.html(e)},a.prototype.resetMetaScroll=function(){return this.metaContainer.scrollTop(0)},a.prototype.noop=function(e){return e.stopPropagation(),!1},a.prototype.updateSlideWidth=function(e,t){var n,i,r,s,a,o;if(this.slideList.css({width:this.slideContainer.width()}),this.is_open()||e){for(n=e?e:this.slideContainer.height(),this.updateWindow(t),a=this.slides.models,o=[],r=0,s=a.length;s>r;r++)i=a[r],o.push(i.view.updateAspects());return o}},a.prototype.updateWindow=function(e,t){var n,i,r,s;return null==e&&(e=!1),null==t&&(t=null),i=this.slideContainer.outerWidth()*-this.active,null===t&&(t=function(){}),e?(Modernizr.csstransforms?this.slideWindow.stop().css({x:i}):this.slideWindow.stop().css({marginLeft:i}),t()):(s=this.slideWindow,Modernizr.touch?s.stop().transition({x:i},250,"ease-in",t):Modernizr.csstransforms?s.stop().transition({x:i},850,"cubic-bezier(.96,-0.33,0,1)",t):(s.stop().css({marginLeft:i}),t&&t())),Modernizr.flexbox||Modernizr.legacyflexbox||!(r=this.actions.position())?void 0:(n=parseInt(r.top,10)+this.actions.outerHeight(),this.$el.find(".content").css({top:n}))},a}(Backbone.View),r=function(e){function t(){return g=t.__super__.constructor.apply(this,arguments)}return b(t,e),t}(Backbone.Model),s=function(e){function t(){return this.updateAspects=k(this.updateAspects,this),this.render=k(this.render,this),this.prerender=k(this.prerender,this),this.rerender=k(this.rerender,this),this._render=k(this._render,this),v=t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.initialize=function(){return this.el.className="slide",this.on("renderedSlide",this.afterRender)},t.prototype._render=function(){return this.$el.html(this.model.attributes.content),this.trigger("renderedSlide")},t.prototype.rerender=function(){return this.$el.find("iframe,embed,object").length>0?this._render():void 0},t.prototype.prerender=function(e){return this.rendered&&e?this.rerender():this.rendered?this.afterRender():(this._render(),this.rendered=!0)},t.prototype.render=function(e){return this.prerender(e),this.updateAspects(),this.options.gallery.updateTitle(this.model.attributes.title),this.options.gallery.updateDescription(this.model.attributes.description),this.options.gallery.updateCredit(this.model.attributes.credit),this.options.gallery.resetMetaScroll(),this.options.gallery.is_open()&&c.navigate("gallery/"+this.options.gallery.model.attributes.slug+"/"+this.model.id,{replace:!0}),null},t.prototype.updateAspects=function(){var e,t,n,i,r,s,a;for(t=this.options.gallery.slideContainer.height(),n=this.options.gallery.slideContainer.height()*(16/9),this.options.gallery.slideContainer.width()<n&&(n=this.options.gallery.slideContainer.width()),s=this.$el.find(".aspect-16x9, .aspect-1x1"),a=[],i=0,r=s.length;r>i;i++)e=s[i],a.push($(e).css({width:n,height:t,padding:0}));return a},t.prototype.afterRender=function(){return this.$el.find(".twitter-tweet").not(".twitter-tweet-rendered").length>0&&("undefined"!=typeof twttr&&null!==twttr&&null!=twttr.widgets&&twttr.widgets.loaded?twttr.widgets.load(this.el):loadScriptAsync("twitter")),this.$el.find(".vine-embed").length>0?loadScriptAsync("//platform.vine.co/static/scripts/embed.js","vine"):void 0},t}(Backbone.View),n=function(e){function t(){return this.render=k(this.render,this),w=t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.initialize=function(){return this.setElement($("<li class='slide'></li>")[0])},t.prototype.render=function(){return this.$el.html(Handlebars.templates["templates/gallery/list_slide"](this.model.attributes)),this.trigger("renderedList"),"top"===this.options.gallery.model.attributes.slide_title_pos&&this.$el.addClass("top").find(".meta .title").insertBefore(this.$el.find("figure")),makePostImagesPoppable()},t}(Backbone.View),provides({GalleryView:a}),window.galleries={},$$("posts/show",function(e){var t,n,i;e("section.gallery").each(function(){var e;return e=new a({el:this}),window.galleries[e.model.attributes.slug]=e}),Backbone.history.start(),i=window.galleries;for(n in i)t=i[n],t.prime();return null})}.call(this),function(){var e,t,n,i,r;t=function(e){var t,n,i,r;t=new fyre.conv.RemoteAuthDelegate,r=e.auth;for(n in r)i=r[n],t[n]=i;return t},n=null,function(){var e,t;return t=[],e=null,n=function(n,i,r){var s,a,o;if(!document.getElementById(i)&&!t[i]){if(t[i]=!0,e||(e=document.getElementsByTagName("script")[0]),s=document.createElement("script"),s.id=i,s.async=!0,s.src=n,r)for(a in r)o=r[a],s[a]=o;return e.parentNode.insertBefore(s,e),s}}}(),e=function(e){var t;return t=document.cookie.match(new RegExp(e+"=([^;]+)")),t?t[1]:null},i=function(t){var i;return i={load:n,startLogin:function(e,t,n,i,r){var s,a,o;return null==t&&(t=600),null==n&&(n=400),null==i&&(i=null),null==r&&(r=null),s=screen.width/2-t/2,o=screen.height/2-n/2,a=window.open(e,r,"menubar=no,toolbar=no,status=no,width="+t+",height="+n+",toolbar=no,left="+s+",top="+o),this.finishCallback=i,this.startLoginPopup(a)},startLoginPopup:function(e){var t=this;return this.tries=0,this.popup=e,this.timer=setInterval(function(){return t.__checkLogin()},100)},__checkLogin:function(){var n;if(n=e(t.cookie_name||"livefyre_utoken"),n&&this.timer)return clearInterval(this.timer),this.popup&&this.popup.close(),this.popup=null,this.timer=null,this.finishCallback&&this.finishCallback(),window.fyre.conv.login(n);if(this.popup&&this.popup.closed)try{if(this.tries+=1,this.tries>30)return clearInterval(this.timer),this.timer=null,this.popup=null}catch(i){}}}},r=!1,this.initLivefyre=function(s){var a,o,l;if(r&&!s.force)throw"Livefyre has already been initialized";return r=!0,a=document.getElementById(s.element_id||"livefyre_comments"),a?(s.config||(s.config={checksum:a.getAttribute("data-checksum"),collectionMeta:a.getAttribute("data-collection-meta"),articleId:a.getAttribute("data-article-id"),siteId:a.getAttribute("data-site-id"),el:a.id}),s.network||(s.network=a.getAttribute("data-network")),s.domain||(s.domain=a.getAttribute("data-domain")),s.root||(s.root=a.getAttribute("data-root")),l=i(s),this.FYRE_LOADED_CB=function(){var n;return s.preLoad&&s.preLoad(fyre),n={network:s.network,authDelegate:s.delegate||t(s)},fyre.conv.load(n,[s.config],function(t){var n;if(l.widget=t,n=e(s.cookie_name||"livefyre_utoken"))try{return fyre.conv.login(n)}catch(i){if(window.console)return window.console.log("Error logging in:",a)}})},s.manualLoad||(o=n("http://"+s.root+"/wjs/v3.0/javascripts/livefyre.js",null,{"data-lf-domain":s.network})),l):null}}.call(this),function(){var e;e=$(window),$$("search/search",function(){var e,t,n,i,r,s,a,o,l,c,p,u,h,d,f,m;if($("#search-results .pagination").remove(),p=new App.SearchCollection,p.parse=function(e){return e.posts},i={stories:[App.PostCollectionView,"#search-posts",App.PostSearchView,"posts"],topics:[App.TopicCollectionView,"#search-topics",App.TopicSearchView,"topics"],people:[App.UserCollectionView,"#search-users",App.UserSearchView,"users"]},c=window.__bootstrap||{},c.verticals){t=null,n=null;for(a in i)if(u=i[a],-1!==_.indexOf(window.__bootstrap.verticals,a)){h=a,s=u[3],e=15,r=0,t=new App.SearchCollection,t.parse=function(e){return e[s]},n=new u[0]({el:$(u[1]),view:u[2],collection:t,data:c[u[3]],manualStart:!0,infiniteScroll:{startPage:c.page,maxPages:10,data:{q:c.query,t:c.verticals[0]}}}),n.on("addView",function(t){var n;return r+=1,n=Math.floor(r/e)+parseInt(c.page),t.$el.waypoint({continuous:!1,onlyOnScroll:!0,offset:.5*document.documentElement.clientHeight,handler:function(){var e;return e=1===n?"/search/?t="+h+"&q="+c.query:"/search/?t="+h+"&q="+c.query+"&page="+n,setUrl(e,!0)?(omni($.extend({isPostView:!1},{page_number:n,page_type:"Infi-Search"})),comscoreBeacon(),ga()):void 0}})}),n.start();break}o=$("#body #q").val(),l=null,$("#body #q").on("keyup",function(){return u=$(this).val(),u!==o&&u.length>2?(o=u,clearTimeout(l),l=delay(350,function(){var e;return e="/search/?t="+h+"&q="+encodeURIComponent(u),setUrl(e,!0),n.reset({q:u})})):void 0})}return function(){var e,t,n;return e=new App.PostCollection,n=new App.PostCollectionView({el:$("#hot-stories")}),t=new App.PostCollectionView({el:$("#big-stories")}),e.parse=function(e){var i;return n.collection.add(function(){var t,n,r,s;for(r=e.rising,s=[],t=0,n=r.length;n>t;t++)i=r[t],s.push(new App.Post(i));return s}()),t.collection.add(function(){var t,n,r,s;for(r=e.hot,s=[],t=0,n=r.length;n>t;t++)i=r[t],s.push(new App.Post(i));return s}()),[]},e.fetch({data:{rising_per_page:5,hot_per_page:5,new_per_page:0},complete:function(){return n.commit(),t.commit()}})}(),(null!=(d=window.google)?null!=(f=d.ads)?null!=(m=f.search)?m.Ads:void 0:void 0:void 0)?window.search_ads=new google.ads.search.Ads({pubId:"pub-9942038924324175",query:window.search&&window.search.query||"",hl:"en",channel:"4864897929"},{container:"search-ad",colorText:"555555",colorDomainLink:"0c74a6",colorTitleLink:"0c74a6",number:"1"}):void 0})}.call(this);