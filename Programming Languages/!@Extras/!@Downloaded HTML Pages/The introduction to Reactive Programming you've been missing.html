<!DOCTYPE html>
<!-- saved from url=(0051)https://gist.github.com/staltz/868e7e9bc2a7b8c1f754 -->
<html class="  "><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>The introduction to Reactive Programming you've been missing</title>

  <meta content="authenticity_token" name="csrf-param">
<meta content="lFUDJGB3V6kMZ7kyrpEyiMHLofwxap/hJ2/0G+SKDglWkTvx0+zIZeUGQPDw+uVpE2IdSAKxtH69b+mudzL07Q==" name="csrf-token">
  <meta name="viewport" content="width=960">


    <link type="text/plain" rel="author" href="https://github.com/humans.txt">
    <meta content="gist" name="octolytics-app-id"><meta content="collector.githubapp.com" name="octolytics-host"><meta content="collector-cdn.github.com" name="octolytics-script-host"><meta content="41811AB6:31A1:4B88CBB:5456AEB5" name="octolytics-dimension-request_id"><meta content="9509150" name="octolytics-actor-id"><meta content="nischalbaidar" name="octolytics-actor-login"><meta content="c16ed9d57d65de77f4f88d8889c48aad6f7043fdc6dff66c9096cf33fe5990a4" name="octolytics-actor-hash">
  <link rel="assets" href="https://gist-assets.github.com/">
  <link rel="zeroclipboard-assets" href="https://gist-assets.github.com/assets/zeroclipboard/dist/ZeroClipboard-aeb54c213f0d09883fed5a0947132da9.swf">
  <link rel="editor-assets" href="https://gist-assets.github.com/assets/editor-a1f2cc264194f3160349181c2d493f0f.js">
  <link rel="mount-point" href="https://gist.github.com/">


  <link href="https://gist-assets.github.com/assets/application-3e3cdc8466f5e171d8824b2ef2101f7e.css" media="screen, print" rel="stylesheet">
  <script async="" src="./The introduction to Reactive Programming you've been missing_files/analytics.js"></script><script src="./The introduction to Reactive Programming you've been missing_files/application-c895d8abece41f3294dba2a7da41a82c.js"></script>

      <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@github">
  <meta property="og:title" content="staltz/introrx.md">
  <meta property="og:type" content="githubog:gist">
  <meta property="og:url" content="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754">
  <meta property="og:image" content="https://avatars0.githubusercontent.com/u/90512?s=140">
  <meta property="og:site_name" content="GitHub Gists">
  <meta property="og:description" content="The introduction to Reactive Programming you&amp;#39;ve been missing - Gist is a simple way to share snippets of text and code with others.">
  <meta name="description" content="The introduction to Reactive Programming you&amp;#39;ve been missing - Gist is a simple way to share snippets of text and code with others.">


<script src="./The introduction to Reactive Programming you've been missing_files/api.js"></script></head>

<body class="logged_in " data-plan="">

  <div id="wrapper">
    

    <div id="header" class="header header-logged-in">
      <div class="container clearfix">
        <a class="header-logo-wordmark" href="https://gist.github.com/">
          <span class="octicon octicon-logo-github"></span>
          <span class="octicon-logo octicon-logo-gist"></span>
        </a>

        <div class="divider-vertical"></div>
        <div class="topsearch">
  <form id="top_search_form" action="https://gist.github.com/search" data-pjax-remote="push" accept-charset="UTF-8">
    <div class="search">
      <input type="text" class="search js-search js-navigation-enable js-quick-search" name="q" placeholder="Searchâ€¦" data-hotkey="/" autocomplete="off" autocorrect="off" value="">

      <div class="search-results js-search-results js-navigation-container"></div>
    </div>
    <div class="divider-vertical"></div>
  </form>
  <ul class="top-nav">
    <li class="explore"><a href="https://gist.github.com/discover">All Gists</a></li>
  </ul>
</div>

        <ul id="user-links">
  <li>
  <a href="https://gist.github.com/nischalbaidar" class="name">
    <img src="./The introduction to Reactive Programming you've been missing_files/9509150" width="20" height="20"> nischalbaidar
  </a>
  </li>
  <li>
  <a href="https://gist.github.com/" id="new_gist" class="tooltipped tooltipped-s" aria-label="New Gist">
    <span class="octicon octicon-gist-new"></span>
  </a>
  </li>
  <li>
  <a href="https://github.com/" class="tooltipped tooltipped-s" aria-label="Go to GitHub" data-skip-pjax="">
    <span class="octicon octicon-octoface"></span>
  </a>
  </li>
  <li>
  <form action="https://gist.github.com/logout" method="post">
    <input name="authenticity_token" type="hidden" value="7mFZToj4ln7v1qn5bFokLetT76s/UDlK4+3M4utCLEQspWGbO2MJsga3UDsyMfPMOfpTHwyLEtV57dFXePrWoA==">
    <button class="logout-button tooltipped tooltipped-s" id="logout" type="submit" aria-label="Sign out">
      <span class="octicon octicon-log-out"></span>
    </button>
  </form>
  </li>
</ul>

      </div>
    </div>

    <div class="site-content" id="js-pjax-container" data-pjax-container="">
      <div id="js-flash-container" class="site-container js-site-container" data-url="/staltz/868e7e9bc2a7b8c1f754">
  
  

<meta content="true" name="octolytics-dimension-public"><meta content="12645505" name="octolytics-dimension-gist_id"><meta content="868e7e9bc2a7b8c1f754" name="octolytics-dimension-gist_name"><meta content="false" name="octolytics-dimension-anonymous"><meta content="90512" name="octolytics-dimension-owner_id"><meta content="staltz" name="octolytics-dimension-owner_login"><meta content="false" name="octolytics-dimension-forked">

<div class="pagehead repohead">
  <div class="container">
    <div class="title-actions-bar">
      <ul class="pagehead-actions">
            <li>
              <div class="gist-advanced-options select-menu js-menu-container js-select-menu">

                <span class="minibutton select-menu-button js-menu-target">
                  <span class="octicon octicon-gear"></span>
                </span>

                <div class="select-menu-modal-holder js-menu-content js-navigation-container js-select-menu-pane">
                  <div class="select-menu-modal">
                    <div class="select-menu-header">
                      <span class="select-menu-title">Advanced options</span>
                      <span class="octicon octicon-x js-menu-close"></span>
                    </div> <!-- /.select-menu-header -->

                    <div class="select-menu-list">

                      <div class="select-menu-item js-navigation-item">
                        <div class="select-menu-item-text js-navigation-open">
                          <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/report" data-method="post" data-skip-pjax="">Report as abuse</a>
                        </div>
                      </div> <!-- /.select-menu-item -->

                    </div> <!-- /.select-menu-list -->

                  </div> <!-- /.select-menu-modal -->
                </div> <!-- /.select-menu-modal-holder -->
              </div> <!-- /.select-menu -->
            </li>
          <li>
              <form action="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/star" data-pjax-remote="replace" method="post" accept-charset="UTF-8">
                <input name="authenticity_token" type="hidden" value="Ze+hnAqGnXrx6fFg4MTG5NUAy0l9l9XcAAKOleO1tLCnK5lJuR0CthiICKK+rxEFB6l3/U5M/kOaApMgcA1OVA==">
                <button class="minibutton with-count" type="submit"><span class="octicon octicon-star"></span>Star</button>
                  <a class="social-count js-social-count" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/stars">2490</a>
              </form>
          </li>
          <li>
            <form action="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/fork" data-method="post" method="post" accept-charset="UTF-8">
              <button class="minibutton with-count fork-button" type="submit"><span class="octicon octicon-repo-forked"></span>Fork</button>
              <a class="social-count js-social-count" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/forks">228</a>
            </form>
          </li>


      </ul>
      <h1 itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title ">
  <div class="meta">
    <div class="gist-author">
      <img src="./The introduction to Reactive Programming you've been missing_files/90512" width="26" height="26">
        <span class="author vcard">
            <span itemprop="title"><a href="https://gist.github.com/staltz">staltz</a></span>
        </span> /
      <strong><a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="js-current-repository">introrx.md</a></strong>
    </div>
    <div class="gist-timestamp">
        <span class="datetime">Last active <time datetime="2014-09-04T18:19:59Z" is="relative-time" title="Sep 4, 2014, 12:19 PM MDT">on Sep 4</time></span>
    </div>
</div></h1>

    </div>

  </div>
</div>


<div class="container">
  <div class="gist js-gist-container gist-with-sidebar with-full-navigation" data-version="3dfdb8b9242c53342849692964bf77671d6a1eac" data-created="false" data-updated="false">

      <div class="gist-sidebar clearfix">
  <div class="sunken-menu vertical-right repo-nav js-repo-nav js-repository-container-pjax js-octicon-loaders">
    <div class="sunken-menu-contents">
      <ul class="sunken-menu-group">
        <li class="tooltipped tooltipped-w" aria-label="Code">
          <a aria-label="Code" class="sunken-menu-item selected" data-pjax="true" href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html">
            <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
            <img alt="" class="mini-loader" height="16" src="./The introduction to Reactive Programming you've been missing_files/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16">
</a>        </li>

          <li class="tooltipped tooltipped-w" aria-label="Revisions">
            <a aria-label="Revisions" class="sunken-menu-item" data-pjax="true" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/revisions">
              <span class="octicon octicon-git-commit"></span> <span class="full-word">Revisions</span>
              <img alt="" class="mini-loader" height="16" src="./The introduction to Reactive Programming you've been missing_files/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16">
              <span class="counter">250</span>
</a>          </li>

          <li class="tooltipped tooltipped-w" aria-label="Stars">
            <a aria-label="Stars" class="sunken-menu-item" data-pjax="true" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/stars">
              <span class="octicon octicon-star"></span> <span class="full-word">Stars</span>
              <img alt="" class="mini-loader" height="16" src="./The introduction to Reactive Programming you've been missing_files/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16">
              <span class="counter">2,490</span>
</a>          </li>

          <li class="tooltipped tooltipped-w" aria-label="Forks">
            <a aria-label="Forks" class="sunken-menu-item" data-pjax="true" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/forks">
              <span class="octicon octicon-git-branch"></span> <span class="full-word">Forks</span>
              <img alt="" class="mini-loader" height="16" src="./The introduction to Reactive Programming you've been missing_files/octocat-spinner-32-ad13d0fd1814c3fda3b5018da94432ea.gif" width="16">
              <span class="counter">228</span>
</a>          </li>
      </ul>
    </div><!-- /.sunken-menu-group -->
  </div><!-- /.sunken-menu-contents -->

  <div class="only-with-full-nav">

    <div class="embed-url open" style="display: block;">
      <h3><strong>Embed</strong> URL</h3>
      <div class="clone-url-box">
        <input type="text" class="clone js-url-field" value="&lt;script src=&quot;https://gist.github.com/staltz/868e7e9bc2a7b8c1f754.js&quot;&gt;&lt;/script&gt;" readonly="readonly">
        <span class="url-box-clippy">
          <button aria-label="copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="&lt;script src=&quot;https://gist.github.com/staltz/868e7e9bc2a7b8c1f754.js&quot;&gt;&lt;/script&gt;" data-copied-hint="copied!" type="button"><span class="octicon octicon-clippy"></span></button>
        </span>
      </div>
    </div>
    <p class="clone-options"></p>

      
<div class="clone-url open" data-protocol-type="http" data-url="https://gist.github.com/868e7e9bc2a7b8c1f754.git">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone url-field js-url-field" value="https://gist.github.com/868e7e9bc2a7b8c1f754.git" readonly="readonly">
    <span class="url-box-clippy">
      <button aria-label="copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://gist.github.com/868e7e9bc2a7b8c1f754.git" data-copied-hint="copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="clone-url " data-protocol-type="ssh" data-url="git@gist.github.com:/868e7e9bc2a7b8c1f754.git">
  <h3><strong>SSH</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone url-field js-url-field" value="git@gist.github.com:/868e7e9bc2a7b8c1f754.git" readonly="readonly">
    <span class="url-box-clippy">
      <button aria-label="copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="git@gist.github.com:/868e7e9bc2a7b8c1f754.git" data-copied-hint="copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#" class="js-clone-selector" data-skip-pjax="" data-protocol="http">HTTPS</a>
      or <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#" class="js-clone-selector" data-skip-pjax="" data-protocol="ssh">SSH</a>.
</p>


    <a aria-label="Download introrx.md as a zip file" class="minibutton sidebar-button" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/download" rel="nofollow" title="Download introrx.md as a zip file">
      <span class="octicon octicon-cloud-download"></span>
      Download Gist
</a>  </div><!-- /.only-with-full-nav -->

</div>


    <div class="gist-content">
          <div class="gist-meta">
            <div class="gist-description">
              <p></p><div>The introduction to Reactive Programming you've been missing</div><p></p>
            </div>
          </div>

      <div class="files">
            <div id="file-introrx-md" class="file ">
    <a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="link-overlay">
    <span class="link">View <strong>introrx.md</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-gist"></b>
      </span>
      <a aria-label="Permalink" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#file-introrx-md" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">introrx.md</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/raw/08169ae52fcb7238a8193a3664ff92c24d88d996/introrx.md" data-skip-pjax="" class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-markdown js-blob-data">
    

    <div class="readme context-loader-container context-loader-overlay">
      <article class="markdown-body js-file " data-task-list-update-url="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/file/introrx.md">
        <h2>
<a name="user-content-the-introduction-to-reactive-programming-youve-been-missing" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#the-introduction-to-reactive-programming-youve-been-missing" rel="noreferrer"><span class="octicon octicon-link"></span></a>The introduction to Reactive Programming you've been missing</h2>

<p>(by <a href="https://twitter.com/andrestaltz" rel="noreferrer">@andrestaltz</a>)</p>

<p>So you're curious in learning this new thing called (Functional) Reactive Programming (FRP).</p>

<p>Learning it is hard, even harder by the lack of good material. When I started, I tried looking for tutorials. I found only a handful of practical guides, but they just scratched the surface and never tackled the challenge of building the whole architecture around it. Library documentations often don't help when you're trying to understand some function. I mean, honestly, look at this:</p>

<blockquote>
<p><strong>Rx.Observable.prototype.flatMapLatest(selector, [thisArg])</strong></p>

<p>Projects each element of an observable sequence into a new sequence of observable sequences by incorporating the element's index and then transforms an observable sequence of observable sequences into an observable sequence producing values only from the most recent observable sequence.</p>
</blockquote>

<p>Holy cow.</p>

<p>I've read two books, one just painted the big picture, while the other dived into how to use the FRP library. I ended up learning Reactive Programming the hard way: figuring it out while building with it. At my work in <a href="https://www.futurice.com/" rel="noreferrer">Futurice</a> I got to use it in a real project, and had the <a href="http://blog.futurice.com/top-7-tips-for-rxjava-on-android" rel="noreferrer">support of some colleagues</a> when I ran into troubles.</p>

<p>The hardest part of the learning journey is <strong>thinking in FRP</strong>. It's a lot about letting go of old imperative and stateful habits of typical programming, and forcing your brain to work in a different paradigm. I haven't found any guide on the internet in this aspect, and I think the world deserves a practical tutorial on how to think in FRP, so that you can get started. Library documentation can light your way after that. I hope this helps you.</p>

<h2>
<a name="user-content-what-is-functional-reactive-programming-frp" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#what-is-functional-reactive-programming-frp" rel="noreferrer"><span class="octicon octicon-link"></span></a>"What is Functional Reactive Programming (FRP)?"</h2>

<p>There are plenty of bad explanations and definitions out there on the internet. <a href="https://en.wikipedia.org/wiki/Functional_reactive_programming" rel="noreferrer">Wikipedia</a> is too generic and theoretical as usual. <a href="http://stackoverflow.com/questions/1028250/what-is-functional-reactive-programming" rel="noreferrer">Stackoverflow</a>'s canonical answer is obviously not suitable for newcomers. <a href="http://www.reactivemanifesto.org/" rel="noreferrer">Reactive Manifesto</a> sounds like the kind of thing you show to your project manager or the businessmen at your company. Microsoft's <a href="https://rx.codeplex.com/" rel="noreferrer">Rx terminology</a> "Rx = Observables + LINQ + Schedulers" is so heavy and Microsoftish that most of us are left confused. Terms like "reactive" and "propagation of change" don't convey anything specifically different to what your typical MV* and favorite language already does. Of course my framework views react to the models. Of course change is propagated. If it wouldn't, nothing would be rendered.</p>

<p>So let's cut the bullshit. </p>

<h4>
<a name="user-content-frp-is-programming-with-asynchronous-data-streams" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#frp-is-programming-with-asynchronous-data-streams" rel="noreferrer"><span class="octicon octicon-link"></span></a>FRP is programming with asynchronous data streams.</h4>

<p>In a way, this isn't anything new. Event buses or your typical click events are really an asynchronous event stream, on which you can observe and do some side effects. FRP is that idea on steroids. You are able to create data streams of anything, not just from click and hover events. Streams are cheap and ubiquitous, anything can be a stream: variables, user inputs, properties, caches, data structures, etc. For example, imagine your Twitter feed would be a data stream in the same fashion that click events are. You can listen to that stream and react accordingly.</p>

<p><strong>On top of that, you are given an amazing toolbox of functions to combine, create and filter any of those streams.</strong> That's where the "functional" magic kicks in. A stream can be used as an input to another one. Even multiple streams can be used as inputs to another stream. You can <em>merge</em> two streams. You can <em>filter</em> a stream to get another one that has only those events you are interested in. You can <em>map</em> data values from one stream to another new one.</p>

<p>If streams are so central to FRP, let's take a careful look at them, starting with our familiar "clicks on a button" event stream.</p>

<p><a href="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f634c344d4f73532e706e67" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f634c344d4f73532e706e67" alt="Click event stream" data-canonical-src="http://i.imgur.com/cL4MOsS.png" style="max-width:100%;"></a></p>

<p>A stream is a sequence of <strong>ongoing events ordered in time</strong>. It can emit three different things: a value (of some type), an error, or a "completed" signal. Consider that the "completed" takes place, for instance, when the current window or view containing that button is closed.</p>

<p>We capture these emitted events only <strong>asynchronously</strong>, by defining a function that will execute when a value is emitted, another function when an error is emitted, and another function when 'completed' is emitted. Sometimes these last two can be omitted and you can just focus on defining the function for values. The "listening" to the stream is called <strong>subscribing</strong>. The functions we are defining are observers. The stream is the subject (or "observable") being observed. This is precisely the <a href="https://en.wikipedia.org/wiki/Observer_pattern" rel="noreferrer">Observer Design Pattern</a>.</p>

<p>An alternative way of drawing that diagram is with ASCII, which we will use in some parts of this tutorial:</p>

<pre><code>--a---b-c---d---X---|-&gt;

a, b, c, d are emitted values
X is an error
| is the 'completed' signal
---&gt; is the timeline
</code></pre>

<p>Since this feels so familiar already, and I don't want you to get bored, let's do something new: we are going to create new click event streams transformed out of the original click event stream.</p>

<p>First, let's make a counter stream that indicates how many times a button was clicked. In common FRP libraries, each stream has many functions attached to it, such as <code>map</code>, <code>filter</code>, <code>scan</code>, etc. When you call one of these functions, such as <code>clickStream.map(f)</code>, it returns a <strong>new stream</strong> based on the click stream. It does not modify the original click stream in any way. This is a property called <strong>immutability</strong>, and it goes together with FRP streams just like pancakes are good with syrup. That allows us to chain functions like <code>clickStream.map(f).scan(g)</code>:</p>

<pre><code>  clickStream: ---c----c--c----c------c--&gt;
               vvvvv map(c becomes 1) vvvv
               ---1----1--1----1------1--&gt;
               vvvvvvvvv scan(+) vvvvvvvvv
counterStream: ---1----2--3----4------5--&gt;
</code></pre>

<p>The <code>map(f)</code> function replaces (into the new stream) each emitted value according to a function <code>f</code> you provide. In our case, we mapped to the number 1 on each click. The <code>scan(g)</code> function aggregates all previous values on the stream, producing value <code>x = g(accumulated, current)</code>, where <code>g</code> was simply the add function in this example. Then, <code>counterStream</code> emits the total number of clicks whenever a click happens.</p>

<p>To show the real power of FRP, let's just say that you want to have a stream of "double click" events. To make it even more interesting, let's say we want the new stream to consider triple clicks as double clicks, or in general, multiple clicks (two or more). Take a deep breath and imagine how you would do that in a traditional imperative and stateful fashion. I bet it sounds fairly nasty and involves some variables to keep state and some fiddling with time intervals.</p>

<p>Well, in FRP it's pretty simple. In fact, the logic is just <a href="http://jsfiddle.net/staltz/4gGgs/27/" rel="noreferrer">4 lines of code</a>.
But let's ignore code for now. Thinking in diagrams is the best way to understand and build streams, whether you're a beginner or an expert.</p>

<p><a href="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f484d47574e4f352e706e67" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f484d47574e4f352e706e67" alt="Multiple clicks stream" data-canonical-src="http://i.imgur.com/HMGWNO5.png" style="max-width:100%;"></a></p>

<p>Grey boxes are functions transforming one stream into another. First we accumulate clicks in lists, whenever 250 milliseconds of "event silence" has happened (that's what <code>buffer(stream.throttle(250ms))</code> does, in a nutshell. Don't worry about understanding the details at this point, we are just demoing FRP for now). The result is a stream of lists, from which we apply <code>map()</code> to map each list to an integer matching the length of that list. Finally, we ignore <code>1</code> integers using the <code>filter(x &gt;= 2)</code> function. That's it: 3 operations to produce our intended stream. We can then subscribe ("listen") to it to react accordingly how we wish.</p>

<p>I hope you enjoy the beauty of this approach. This example is just the tip of the iceberg: you can apply the same operations on different kinds of streams, for instance, on a stream of API responses; on the other hand, there are many other functions available.</p>

<h2>
<a name="user-content-why-should-i-consider-adopting-frp" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#why-should-i-consider-adopting-frp" rel="noreferrer"><span class="octicon octicon-link"></span></a>"Why should I consider adopting FRP?"</h2>

<p>FRP raises the level of abstraction of your code so you can focus on the interdependence of events that define the business logic, rather than having to constantly fiddle with a large amount of implementation details. Code with FRP will likely be more concise.</p>

<p>The benefit is more evident in modern webapps and mobile apps that are highly interactive with a multitude of UI events related to data events. 10 years ago, interaction with web pages was basically about submitting a long form to the backend and performing simple rendering to the frontend. Apps have evolved to be more real-time: modifying a single form field can automatically trigger a save to the backend, "likes" to some content can be reflected in real time to other connected users, and so forth.</p>

<p>Apps nowadays have an abundancy of real-time events of every kind that enable a highly interactive experience to the user. We need tools for properly dealing with that, and Reactive Programming is an answer.</p>

<h2>
<a name="user-content-thinking-in-frp-with-examples" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#thinking-in-frp-with-examples" rel="noreferrer"><span class="octicon octicon-link"></span></a>Thinking in FRP, with examples</h2>

<p>Let's dive into the real stuff. A real-world example with a step-by-step guide on how to think in FRP. No synthetic examples, no half-explained concepts. By the end of this tutorial we will have produced real functioning code, while knowing why we did each thing.</p>

<p>I picked <strong>JavaScript</strong> and <strong><a href="https://github.com/Reactive-Extensions/RxJS" rel="noreferrer">RxJS</a></strong> as the tools for this, for a reason: JavaScript is the most familiar language out there at the moment, and the <a href="https://rx.codeplex.com/" rel="noreferrer">Rx* library family</a> is widely available for many languages and platforms (<a href="https://rx.codeplex.com/" rel="noreferrer">.NET</a>, <a href="https://github.com/Netflix/RxJava" rel="noreferrer">Java</a>, <a href="https://github.com/Netflix/RxJava/tree/master/language-adaptors/rxjava-scala" rel="noreferrer">Scala</a>, <a href="https://github.com/Netflix/RxJava/tree/master/language-adaptors/rxjava-clojure" rel="noreferrer">Clojure</a>,  <a href="https://github.com/Reactive-Extensions/RxJS" rel="noreferrer">JavaScript</a>, <a href="https://github.com/Reactive-Extensions/Rx.rb" rel="noreferrer">Ruby</a>, <a href="https://github.com/Reactive-Extensions/RxPy" rel="noreferrer">Python</a>, <a href="https://github.com/Reactive-Extensions/RxCpp" rel="noreferrer">C++</a>, <a href="https://github.com/ReactiveCocoa/ReactiveCocoa" rel="noreferrer">Objective-C/Cocoa</a>, <a href="https://github.com/Netflix/RxJava/tree/master/language-adaptors/rxjava-groovy" rel="noreferrer">Groovy</a>, etc). So whatever your tools are, you can concretely benefit by following this tutorial.</p>

<h2>
<a name="user-content-implementing-a-who-to-follow-suggestions-box" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#implementing-a-who-to-follow-suggestions-box" rel="noreferrer"><span class="octicon octicon-link"></span></a>Implementing a "Who to follow" suggestions box</h2>

<p>In Twitter there is this UI element that suggests other accounts you could follow:</p>

<p><a href="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f65416c4e62306a2e706e67" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f65416c4e62306a2e706e67" alt="Twitter Who to follow suggestions box" data-canonical-src="http://i.imgur.com/eAlNb0j.png" style="max-width:100%;"></a></p>

<p>We are going to focus on imitating its core features, which are:</p>

<ul class="task-list">
<li>On startup, load accounts data from the API and display 3 suggestions</li>
<li>On clicking "Refresh", load 3 other account suggestions into the 3 rows</li>
<li>On click 'x' button on an account row, clear only that current account and display another</li>
<li>Each row displays the account's avatar and links to their page</li>
</ul>

<p>We can leave out the other features and buttons because they are minor. And, instead of Twitter, which recently closed its API to the unauthorized public, let's build that UI for following people on Github. There's a <a href="https://developer.github.com/v3/users/#get-all-users" rel="noreferrer">Github API for getting users</a>.</p>

<p>The complete code for this is ready at <a href="http://jsfiddle.net/staltz/8jFJH/48/" rel="noreferrer">http://jsfiddle.net/staltz/8jFJH/48/</a> in case you want to take a peak already.</p>

<h2>
<a name="user-content-request-and-response" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#request-and-response" rel="noreferrer"><span class="octicon octicon-link"></span></a>Request and response</h2>

<p><strong>How do you approach this problem with FRP?</strong> Well, to start with, (almost) <em>everything can be a stream</em>. That's the FRP mantra. Let's start with the easiest feature: "on startup, load 3 accounts data from the API". There is nothing special here, this is simply about (1) doing a request, (2) getting a response, (3) rendering the response. So let's go ahead and represent our requests as a stream. At first this will feel like overkill, but we need to start from the basics, right?</p>

<p>On startup we need to do only one request, so if we model it as a data stream, it will be a stream with only one emitted value. Later, we know we will have many requests happening, but for now, it is just one.</p>

<pre><code>--a------|-&gt;

Where a is the string 'https://api.github.com/users'
</code></pre>

<p>This is a stream of URLs that we want to request. Whenever a request event happens, it tells us two things: when and what. "When" the request should be executed is when the event is emitted. And "what" should be requested is the value emitted: a string containing the URL.</p>

<p>To create such stream with a single value is very simple in Rx*. The official terminology for a stream is "Observable", for the fact that it can be observed, but I find it to be a silly name, so I call it <em>stream</em>.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">returnValue</span><span class="p">(</span><span class="s1">'https://api.github.com/users'</span><span class="p">);</span>
</pre></div>

<p>But now, that is just a stream of strings, doing no other operation, so we need to somehow make something happen when that value is emitted. That's done by <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypesubscribeobserver--onnext-onerror-oncompleted" rel="noreferrer">subscribing</a> to the stream.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">requestStream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// execute the request</span>
  <span class="nx">jQuery</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">responseData</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">});</span>
<span class="p">}</span>
</pre></div>

<p>Notice we are using a jQuery Ajax callback (which we assume you <a href="http://devdocs.io/jquery/jquery.getjson" rel="noreferrer">should know already</a>) to handle the asynchronicity of the request operation. But wait a moment, FRP is for dealing with <strong>asynchronous</strong> data streams. Couldn't the response for that request be a stream containing the data arriving at some time in the future? Well, at a conceptual level, it sure looks like it, so let's try that.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">requestStream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// execute the request</span>
  <span class="kd">var</span> <span class="nx">responseStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">observer</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">jQuery</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span> <span class="nx">observer</span><span class="p">.</span><span class="nx">onNext</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">jqXHR</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span> <span class="nx">observer</span><span class="p">.</span><span class="nx">onError</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">always</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">observer</span><span class="p">.</span><span class="nx">onCompleted</span><span class="p">();</span> <span class="p">});</span>
  <span class="p">});</span>

  <span class="nx">responseStream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with the response</span>
  <span class="p">});</span>
<span class="p">}</span>
</pre></div>

<p>What <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablecreatesubscribe" rel="noreferrer"><code>Rx.Observable.create()</code></a> does is create your own custom stream by explicitly informing each observer (or in other words, a "subscriber") about data events (<code>onNext()</code>) or errors (<code>onError()</code>). What we did was just wrap that jQuery Ajax Promise. <strong>Excuse me, does this mean that a Promise is an Observable?</strong></p>

<p>&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;</p>

<p><a href="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f7777772e6d79666163657768656e2e6e65742f75706c6f6164732f333332342d616d617a65642d666163652e676966" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f7777772e6d79666163657768656e2e6e65742f75706c6f6164732f333332342d616d617a65642d666163652e676966" alt="Amazed" data-canonical-src="http://www.myfacewhen.net/uploads/3324-amazed-face.gif" style="max-width:100%;"></a></p>

<p>Yes.</p>

<p>Observable is Promise++. In Rx you can easily convert a Promise to an Observable by doing <code>var stream = Rx.Observable.fromPromise(promise)</code>, so let's use that. The only difference is that Observables are not <a href="http://promises-aplus.github.io/promises-spec/" rel="noreferrer">Promises/A+</a> compliant, but conceptually there is no clash. A Promise is simply an Observable with one single emitted value. FRP streams go beyond promises by allowing many returned values.</p>

<p>This is pretty nice, and shows how FRP is at least as powerful as Promises. So if you believe the Promises hype, keep an eye on what FRP is capable of.</p>

<p>Now back to our example, if you were quick to notice, we have one <code>subscribe()</code> call inside another, which is somewhat akin to callback hell. Also, the creation of <code>responseStream</code> is dependent on <code>requestStream</code>. As you heard before, in FRP there are simple mechanisms for transforming and creating new streams out of others, so we should be doing that. </p>

<p>The one basic function that you should know by now is <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypemapselector-thisarg" rel="noreferrer"><code>map(f)</code></a>, which takes each value of stream A, applies <code>f()</code> on it, and produces a value on stream B. If we do that to our request and response streams, we can map request URLs to response Promises (disguised as streams). </p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">responseMetastream</span> <span class="o">=</span> <span class="nx">requestStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromPromise</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">));</span>
  <span class="p">});</span>
</pre></div>

<p>Then we will have created a beast called "<em>metastream</em>": a stream of streams. Don't panic yet. A metastream is a stream where each emitted value is yet another stream. You can think of it as <a href="https://en.wikipedia.org/wiki/Pointer_(computer_programming)" rel="noreferrer">pointers</a>: each emitted value is a <em>pointer</em> to another stream. In our example, each request URL is mapped to a pointer to the promise stream containing the corresponding response.</p>

<p><a href="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f48486e6d6c61632e706e67" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f48486e6d6c61632e706e67" alt="Response metastream" data-canonical-src="http://i.imgur.com/HHnmlac.png" style="max-width:100%;"></a></p>

<p>A metastream for responses looks confusing, and doesn't seem to help us at all. We just want a simple stream of responses, where each emitted value is a JSON object, not a 'Promise' of a JSON object. Say hi to <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypeflatmapselector-resultselector" rel="noreferrer">Mr. Flatmap</a>: a version of <code>map()</code> than "flattens" a metastream, by emitting on the "trunk" stream everything that will be emitted on "branch" streams. Flatmap is not a "fix" and metastreams are not a bug, these are really the tools for dealing with asynchronous responses in FRP.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">responseStream</span> <span class="o">=</span> <span class="nx">requestStream</span>
  <span class="p">.</span><span class="nx">flatMap</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromPromise</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">));</span>
  <span class="p">});</span>
</pre></div>

<p><a href="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f4869337a4e7a4a2e706e67" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f4869337a4e7a4a2e706e67" alt="Response stream" data-canonical-src="http://i.imgur.com/Hi3zNzJ.png" style="max-width:100%;"></a></p>

<p>Nice. And because the response stream is defined according to request stream, <strong>if</strong> we have later on more events happening on request stream, we will have the corresponding response events happening on response stream, as expected:</p>

<pre><code>requestStream:  --a-----b--c------------|-&gt;
responseStream: -----A--------B-----C---|-&gt;

(lowercase is a request, uppercase is its response)
</code></pre>

<p>Now that we finally have a response stream, we can render the data we receive:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">responseStream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// render `response` to the DOM however you wish</span>
<span class="p">});</span>
</pre></div>

<p>Joining all the code until now, we have:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">returnValue</span><span class="p">(</span><span class="s1">'https://api.github.com/users'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">responseStream</span> <span class="o">=</span> <span class="nx">requestStream</span>
  <span class="p">.</span><span class="nx">flatMap</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromPromise</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">));</span>
  <span class="p">});</span>

<span class="nx">responseStream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// render `response` to the DOM however you wish</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="user-content-the-refresh-button" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#the-refresh-button" rel="noreferrer"><span class="octicon octicon-link"></span></a>The refresh button</h2>

<p>I did not yet mention that the JSON in the response is a list with 100 users. The API only allows us to specify the page offset, and not the page size, so we're using just 3 data objects and wasting 97 others. We can ignore that problem for now, since later on we will see how to cache the responses.</p>

<p>Everytime the refresh button is clicked, the request stream should emit a new URL, so that we can get a new response. We need two things: a stream of click events on the refresh button (mantra: anything can be a stream), and we need to change the request stream to depend on the refresh click stream. Gladly, RxJS comes with tools to make Observables from event listeners.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">refreshButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.refresh'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">refreshClickStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromEvent</span><span class="p">(</span><span class="nx">refreshButton</span><span class="p">,</span> <span class="s1">'click'</span><span class="p">);</span>
</pre></div>

<p>Since the refresh click event doesn't itself carry any API URL, we need to map each click to an actual URL. Now we change the request stream to be the refresh click stream mapped to the API endpoint with a random offset parameter each time.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">});</span>
</pre></div>

<p>Because I'm dumb and I don't have automated tests, I just broke one of our previously built features. A request doesn't happen anymore on startup, it happens only when the refresh is clicked. Urgh. I need both behaviors: a request when <em>either</em> a refresh is clicked <em>or</em> the webpage was just opened.</p>

<p>We know how to make a separate stream for each one of those cases:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestOnRefreshStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">});</span>

<span class="kd">var</span> <span class="nx">startupRequestStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">returnValue</span><span class="p">(</span><span class="s1">'https://api.github.com/users'</span><span class="p">);</span>
</pre></div>

<p>But how can we "merge" these two into one? Well, there's <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypemergemaxconcurrent--other" rel="noreferrer"><code>merge()</code></a>. Explained in the diagram dialect, this is what it does:</p>

<pre><code>stream A: ---a--------e-----o-----&gt;
stream B: -----B---C-----D--------&gt;
          vvvvvvvvv merge vvvvvvvvv
          ---a-B---C--e--D--o-----&gt;
</code></pre>

<p>It should be easy now:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestOnRefreshStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">});</span>

<span class="kd">var</span> <span class="nx">startupRequestStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">returnValue</span><span class="p">(</span><span class="s1">'https://api.github.com/users'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span>
  <span class="nx">requestOnRefreshStream</span><span class="p">,</span> <span class="nx">startupRequestStream</span>
<span class="p">);</span>
</pre></div>

<p>There is an alternative and cleaner way of writing that, without the intermediate streams.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">returnValue</span><span class="p">(</span><span class="s1">'https://api.github.com/users'</span><span class="p">));</span>
</pre></div>

<p>Even shorter, even more readable:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'https://api.github.com/users'</span><span class="p">);</span>
</pre></div>

<p>The <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypestartwithscheduler-args" rel="noreferrer"><code>startWith()</code></a> function does exactly what you think it does. No matter how your input stream looks like, the output stream resulting of <code>startWith(x)</code> will have <code>x</code> at the beginning. But I'm not <a href="https://en.wikipedia.org/wiki/Don't_repeat_yourself" rel="noreferrer">DRY</a> enough, I'm repeating the API endpoint string. One way to fix this is by moving the <code>startWith()</code> close to the <code>refreshClickStream</code>, to essentially "emulate" a refresh click on startup.  </p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'startup click'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">});</span>
</pre></div>

<p>Nice. If you go back to the point where I "broke the automated tests", you should see that the only difference with this last approach is that I added the <code>startWith()</code>.</p>

<h2>
<a name="user-content-modelling-the-3-suggestions-with-streams" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#modelling-the-3-suggestions-with-streams" rel="noreferrer"><span class="octicon octicon-link"></span></a>Modelling the 3 suggestions with streams</h2>

<p>Until now, we have only touched a <em>suggestion</em> UI element on the rendering step that happens in the responseStream's <code>subscribe()</code>. Now with the refresh button, we have a problem: as soon as you click 'refresh', the current 3 suggestions are not cleared. New suggestions come in only after a response has arrived, but to make the UI look nice, we need to clean out the current suggestions when clicks happen on the refresh.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// clear the 3 suggestion DOM elements </span>
<span class="p">});</span>
</pre></div>

<p>No, not so fast, pal. This is bad, because we now have <strong>two</strong> subscribers that affect the suggestion DOM elements (the other one being <code>responseStream.subscribe()</code>), and that doesn't really sound like <a href="https://en.wikipedia.org/wiki/Separation_of_concerns" rel="noreferrer">Separation of concerns</a>. Remember the FRP mantra? </p>

<p>&nbsp;
&nbsp;
&nbsp;
&nbsp;</p>

<p><a href="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f4149696d5138432e6a7067" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/687474703a2f2f692e696d6775722e636f6d2f4149696d5138432e6a7067" alt="Mantra" data-canonical-src="http://i.imgur.com/AIimQ8C.jpg" style="max-width:100%;"></a></p>

<p>So let's model a suggestion as a stream, where each emitted value is the JSON object containing the suggestion data. We will do this separately for each of the 3 suggestions. This is how the stream for suggestion #1 could look like:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">suggestion1Stream</span> <span class="o">=</span> <span class="nx">responseStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">listUsers</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// get one random user from the list</span>
    <span class="k">return</span> <span class="nx">listUsers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">listUsers</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
  <span class="p">});</span>
</pre></div>

<p>The others, <code>suggestion2Stream</code> and <code>suggestion3Stream</code> can be simply copy pasted from <code>suggestion1Stream</code>. This is not DRY, but it will keep our example simple for this tutorial, plus I think it's a good exercise to think how to avoid repetition in this case.</p>

<p>Instead of having the rendering happen in responseStream's subscribe(), we do that here:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">suggestion1Stream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// render the 1st suggestion to the DOM</span>
<span class="p">});</span>
</pre></div>

<p>Back to the "on refresh, clear the suggestions", we can simply map refresh clicks to <code>null</code> suggestion data, and include that in the <code>suggestion1Stream</code>, as such:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">suggestion1Stream</span> <span class="o">=</span> <span class="nx">responseStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">listUsers</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// get one random user from the list</span>
    <span class="k">return</span> <span class="nx">listUsers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">listUsers</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span>
    <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span> <span class="p">})</span>
  <span class="p">);</span>
</pre></div>

<p>And when rendering, we interpret <code>null</code> as "no data", hence hiding its UI element.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">suggestion1Stream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">suggestion</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// hide the first suggestion DOM element</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// show the first suggestion DOM element</span>
    <span class="c1">// and render the data</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p>The big picture is now:</p>

<pre><code>refreshClickStream: ----------o--------o----&gt;
     requestStream: -r--------r--------r----&gt;
    responseStream: ----R---------R------R--&gt;   
 suggestion1Stream: ----s-----N---s----N-s--&gt;
 suggestion2Stream: ----q-----N---q----N-q--&gt;
 suggestion3Stream: ----t-----N---t----N-t--&gt;
</code></pre>

<p>Where <code>N</code> stands for <code>null</code>.</p>

<p>As a bonus, we can also render "empty" suggestions on startup. That is done by adding <code>startWith(null)</code> to the suggestion streams:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">suggestion1Stream</span> <span class="o">=</span> <span class="nx">responseStream</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">listUsers</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// get one random user from the list</span>
    <span class="k">return</span> <span class="nx">listUsers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">listUsers</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span>
    <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span> <span class="p">})</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</pre></div>

<p>Which results in:</p>

<pre><code>refreshClickStream: ----------o---------o----&gt;
     requestStream: -r--------r---------r----&gt;
    responseStream: ----R----------R------R--&gt;   
 suggestion1Stream: -N--s-----N----s----N-s--&gt;
 suggestion2Stream: -N--q-----N----q----N-q--&gt;
 suggestion3Stream: -N--t-----N----t----N-t--&gt;
</code></pre>

<h2>
<a name="user-content-closing-a-suggestion-and-using-cached-responses" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#closing-a-suggestion-and-using-cached-responses" rel="noreferrer"><span class="octicon octicon-link"></span></a>Closing a suggestion and using cached responses</h2>

<p>There is one feature remaining to implement. Each suggestion should have its own 'x' button for closing it, and loading another in its place. At first thought, you could say it's enough to make a new request when any close button is clicked:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">close1Button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.close1'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">close1ClickStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromEvent</span><span class="p">(</span><span class="nx">close1Button</span><span class="p">,</span> <span class="s1">'click'</span><span class="p">);</span>
<span class="c1">// and the same for close2Button and close3Button</span>

<span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'startup click'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">close1ClickStream</span><span class="p">)</span> <span class="c1">// we added this</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">});</span>
</pre></div>

<p>That does not work. It will close and reload <em>all</em> suggestions, rather than just only the one we clicked on. There are a couple of different ways of solving this, and to keep it interesting, we will solve it by reusing previous responses. The API's response page size is 100 users while we were using just 3 of those, so there is plenty of fresh data available. No need to request more.</p>

<p>Again, let's think in streams. When a 'close1' click event happens, we want to use the <em>most recently emitted</em> response on <code>responseStream</code> to get one random user from the list in the response. As such:</p>

<pre><code>    requestStream: --r---------------&gt;
   responseStream: ------R-----------&gt;
close1ClickStream: ------------c-----&gt;
suggestion1Stream: ------s-----s-----&gt;
</code></pre>

<p>In Rx* there is a combinator function called <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypecombinelatestargs-resultselector" rel="noreferrer"><code>combineLatest</code></a> that seems to do what we need. It takes two streams A and B as inputs, and whenever either stream emits a value, <code>combineLatest</code> joins the two most recently emitted values <code>a</code> and <code>b</code> from both streams and outputs a value <code>c = f(x,y)</code>, where <code>f</code> is a function you define. It is better explained with a diagram:</p>

<pre><code>stream A: --a-----------e--------i--------&gt;
stream B: -----b----c--------d-------q----&gt;
          vvvvvvvv combineLatest(f) vvvvvvv
          ----AB---AC--EC---ED--ID--IQ----&gt;

where f is the uppercase function
</code></pre>

<p>We can apply combineLatest() on <code>close1ClickStream</code> and <code>responseStream</code>, so that whenever the close 1 button is clicked, we get the latest response emitted and produce a new value on <code>suggestion1Stream</code>. On the other hand, combineLatest() is symmetric: whenever a new response is emitted on <code>responseStream</code>, it will combine with the latest 'close 1' click to produce a new suggestion. That is interesting, because it allows us to simplify our previous code for <code>suggestion1Stream</code>, like this:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">suggestion1Stream</span> <span class="o">=</span> <span class="nx">close1ClickStream</span>
  <span class="p">.</span><span class="nx">combineLatest</span><span class="p">(</span><span class="nx">responseStream</span><span class="p">,</span>             
    <span class="kd">function</span><span class="p">(</span><span class="nx">click</span><span class="p">,</span> <span class="nx">listUsers</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">listUsers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">listUsers</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
    <span class="p">}</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span>
    <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span> <span class="p">})</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</pre></div>

<p>One piece is still missing in the puzzle. The combineLatest() uses the most recent of the two sources, but if one of those sources hasn't emitted anything yet, combineLatest() cannot produce a data event on the output stream. If you look at the ASCII diagram above, you will see that the output has nothing when the first stream emitted value <code>a</code>. Only when the second stream emitted value <code>b</code> could it produce an output value.</p>

<p>There are different ways of solving this, and we will stay with the simplest one, which is simulating a click to the 'close 1' button on startup:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">suggestion1Stream</span> <span class="o">=</span> <span class="nx">close1ClickStream</span><span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'startup click'</span><span class="p">)</span> <span class="c1">// we added this</span>
  <span class="p">.</span><span class="nx">combineLatest</span><span class="p">(</span><span class="nx">responseStream</span><span class="p">,</span>             
    <span class="kd">function</span><span class="p">(</span><span class="nx">click</span><span class="p">,</span> <span class="nx">listUsers</span><span class="p">)</span> <span class="p">{</span><span class="nx">l</span>
      <span class="k">return</span> <span class="nx">listUsers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">listUsers</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
    <span class="p">}</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span>
    <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span> <span class="p">})</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
</pre></div>

<h2>
<a name="user-content-wrapping-up" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#wrapping-up" rel="noreferrer"><span class="octicon octicon-link"></span></a>Wrapping up</h2>

<p>And we're done. The complete code for all this was:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">refreshButton</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.refresh'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">refreshClickStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromEvent</span><span class="p">(</span><span class="nx">refreshButton</span><span class="p">,</span> <span class="s1">'click'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">closeButton1</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.close1'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">close1ClickStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromEvent</span><span class="p">(</span><span class="nx">closeButton1</span><span class="p">,</span> <span class="s1">'click'</span><span class="p">);</span>
<span class="c1">// and the same logic for close2 and close3</span>

<span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'startup click'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">});</span>

<span class="kd">var</span> <span class="nx">responseStream</span> <span class="o">=</span> <span class="nx">requestStream</span>
  <span class="p">.</span><span class="nx">flatMap</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromPromise</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span> <span class="nx">requestUrl</span><span class="p">}));</span>
  <span class="p">});</span>

<span class="kd">var</span> <span class="nx">suggestion1Stream</span> <span class="o">=</span> <span class="nx">close1ClickStream</span><span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'startup click'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">combineLatest</span><span class="p">(</span><span class="nx">responseStream</span><span class="p">,</span>             
    <span class="kd">function</span><span class="p">(</span><span class="nx">click</span><span class="p">,</span> <span class="nx">listUsers</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">listUsers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">listUsers</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
    <span class="p">}</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">merge</span><span class="p">(</span>
    <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span> <span class="p">})</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="c1">// and the same logic for suggestion2Stream and suggestion3Stream</span>

<span class="nx">suggestion1Stream</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">suggestion</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">suggestion</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// hide the first suggestion DOM element</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// show the first suggestion DOM element</span>
    <span class="c1">// and render the data</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>

<p><strong>You can see this working example at <a href="http://jsfiddle.net/staltz/8jFJH/48/" rel="noreferrer">http://jsfiddle.net/staltz/8jFJH/48/</a></strong></p>

<p>That piece of code is small but dense: it features management of multiple events with proper separation of concerns, and even caching of responses. The functional style made the code look more declarative than imperative: we are not giving a sequence of instructions to execute, we are just <strong>telling what something is</strong> by defining relationships between streams. For instance, with FRP we told the computer that <em><code>suggestion1Stream</code> <strong>is</strong> the 'close 1' stream combined with one user from the latest response, besides being <code>null</code> when a refresh happens or program startup happened</em>.</p>

<p>Notice also the impressive absence of control flow elements such as <code>if</code>, <code>for</code>, <code>while</code>, and the typical callback-based control flow that you expect from a JavaScript application. You can even get rid of the <code>if</code> and <code>else</code> in the <code>subscribe()</code> above by using <code>filter()</code> if you want (I'll leave the implementation details to you as an exercise). In FRP, we have stream functions such as <code>map</code>, <code>filter</code>, <code>scan</code>, <code>merge</code>, <code>combineLatest</code>, <code>startWith</code>, and many more to control the flow of an event-driven program. This toolset of functions gives you more power in less code.</p>

<h2>
<a name="user-content-what-comes-next" class="anchor" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#what-comes-next" rel="noreferrer"><span class="octicon octicon-link"></span></a>What comes next</h2>

<p>If you think Rx* will be your preferred library for Reactive Programming, take a while to get acquainted with the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md" rel="noreferrer">big list of functions</a> for transforming, combining, and creating Observables. If you want to understand those functions in diagrams of streams, take a look at <a href="https://github.com/Netflix/RxJava/wiki/Creating-Observables" rel="noreferrer">RxJava's very useful documentation with marble diagrams</a>. Whenever you get stuck trying to do something, draw those diagrams, think on them, look at the long list of functions, and think more. This workflow has been effective in my experience.</p>

<p>Once you start getting the hang of programming with Rx*, it is absolutely required to understand the concept of <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/creating.md#cold-vs-hot-observables" rel="noreferrer">Cold vs Hot Observables</a>. If you ignore this, it will come back and bite you brutally. You have been warned. Sharpen your skills further by learning real functional programming, and getting acquainted with issues such as side effects that affect Rx*.</p>

<p>But Functional Reactive Programming is not just Rx*. There is <a href="http://baconjs.github.io/" rel="noreferrer">Bacon.js</a> which is intuitive to work with, without the quirks you sometimes encounter in Rx*. The <a href="http://elm-lang.org/" rel="noreferrer">Elm Language</a> lives in its own category: it's an FRP <strong>language</strong> that compiles to JavaScript + HTML + CSS, and features a <a href="http://debug.elm-lang.org/" rel="noreferrer">time travelling debugger</a>. Pretty awesome.</p>

<p>FRP works great for event-heavy frontends and apps. But it is not just a client-side thing, it works great also in the backend and close to databases. In fact, <a href="http://techblog.netflix.com/2013/02/rxjava-netflix-api.html" rel="noreferrer">RxJava is a key component for enabling server-side concurrency in Netflix's API</a>. FRP is not a framework restricted to one specific type of application or language. It really is a paradigm that you can use when programming any event-driven software.</p>

<p>If this tutorial helped you, <a href="https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fgist.github.com%2Fstaltz%2F868e7e9bc2a7b8c1f754%2F&amp;text=The%20introduction%20to%20Reactive%20Programming%20you%27ve%20been%20missing&amp;tw_p=tweetbutton&amp;url=https%3A%2F%2Fgist.github.com%2Fstaltz%2F868e7e9bc2a7b8c1f754&amp;via=andrestaltz" rel="noreferrer">tweet it forward</a>.</p>

      </article>
    </div>



  </div>
</div>

            <div id="file-zclickstream-png" class="file ">
    <a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="link-overlay">
    <span class="link">View <strong>introrx.md</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-file-media"></b>
      </span>
      <a aria-label="Permalink" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#file-zclickstream-png" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">zclickstream.png</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw" href="./The introduction to Reactive Programming you've been missing_files/zclickstream.png" data-skip-pjax="" class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-text js-blob-data">
    
      <div class="image js-image">
        <span class="border-wrap"><img alt="Zclickstream" src="./The introduction to Reactive Programming you've been missing_files/zclickstream.png"></span>
      </div>




  </div>
</div>

            <div id="file-zmantra-jpg" class="file ">
    <a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="link-overlay">
    <span class="link">View <strong>introrx.md</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-file-media"></b>
      </span>
      <a aria-label="Permalink" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#file-zmantra-jpg" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">zmantra.jpg</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw" href="./The introduction to Reactive Programming you've been missing_files/zmantra.jpg" data-skip-pjax="" class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-text js-blob-data">
    
      <div class="image js-image">
        <span class="border-wrap"><img alt="Zmantra" src="./The introduction to Reactive Programming you've been missing_files/zmantra.jpg"></span>
      </div>




  </div>
</div>

            <div id="file-zmulticlickstream-png" class="file ">
    <a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="link-overlay">
    <span class="link">View <strong>introrx.md</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-file-media"></b>
      </span>
      <a aria-label="Permalink" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#file-zmulticlickstream-png" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">zmulticlickstream.png</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw" href="./The introduction to Reactive Programming you've been missing_files/zmulticlickstream.png" data-skip-pjax="" class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-text js-blob-data">
    
      <div class="image js-image">
        <span class="border-wrap"><img alt="Zmulticlickstream" src="./The introduction to Reactive Programming you've been missing_files/zmulticlickstream.png"></span>
      </div>




  </div>
</div>

            <div id="file-zresponsemetastream-png" class="file ">
    <a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="link-overlay">
    <span class="link">View <strong>introrx.md</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-file-media"></b>
      </span>
      <a aria-label="Permalink" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#file-zresponsemetastream-png" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">zresponsemetastream.png</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw" href="./The introduction to Reactive Programming you've been missing_files/zresponsemetastream.png" data-skip-pjax="" class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-text js-blob-data">
    
      <div class="image js-image">
        <span class="border-wrap"><img alt="Zresponsemetastream" src="./The introduction to Reactive Programming you've been missing_files/zresponsemetastream.png"></span>
      </div>




  </div>
</div>

            <div id="file-zresponsestream-png" class="file ">
    <a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="link-overlay">
    <span class="link">View <strong>introrx.md</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-file-media"></b>
      </span>
      <a aria-label="Permalink" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#file-zresponsestream-png" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">zresponsestream.png</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw" href="./The introduction to Reactive Programming you've been missing_files/zresponsestream.png" data-skip-pjax="" class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-text js-blob-data">
    
      <div class="image js-image">
        <span class="border-wrap"><img alt="Zresponsestream" src="./The introduction to Reactive Programming you've been missing_files/zresponsestream.png"></span>
      </div>




  </div>
</div>

            <div id="file-ztwitterbox-png" class="file ">
    <a href="./The introduction to Reactive Programming you've been missing_files/The introduction to Reactive Programming you've been missing.html" class="link-overlay">
    <span class="link">View <strong>introrx.md</strong> <span class="octicon octicon-arrow-right"></span></span>
  </a>
  <div class="meta clearfix">
    <div class="info file-name">
      <span class="icon">
        <b class="octicon octicon-file-media"></b>
      </span>
      <a aria-label="Permalink" href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#file-ztwitterbox-png" class="tooltipped tooltipped-s permalink"><strong class="file-name js-selectable-text">ztwitterbox.png</strong></a>
    </div>
    <div class="actions">
      <div class="button-group">
        <a aria-label="View Raw" href="./The introduction to Reactive Programming you've been missing_files/ztwitterbox.png" data-skip-pjax="" class="minibutton raw-url js-view-raw">Raw</a>
      </div>
    </div>
  </div>
  <div class="suppressed">
    <a class="js-show-suppressed-file">File suppressed. Click to show.</a>
  </div>
  <div class="blob-wrapper data type-text js-blob-data">
    
      <div class="image js-image">
        <span class="border-wrap"><img alt="Ztwitterbox" src="./The introduction to Reactive Programming you've been missing_files/ztwitterbox.png"></span>
      </div>




  </div>
</div>


        <div class="discussion-timeline js-quote-selection-container">

          <div class="js-discussion">
            
<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/ryana"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/16389" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1254997" class="comment js-comment js-task-list-container" data-body-version="d4d85fda904330e3399f21b79cbba640">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/ryana">ryana</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1254997" class="timestamp"><time datetime="2014-06-30T15:16:09Z" is="relative-time" title="Jun 30, 2014, 9:16 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>This is incredibly well-written. @staltz do you mind talking a little bit about your process for writing this, how long it took, etc...  Very impressive stuff.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255003" class="comment js-comment js-task-list-container" data-body-version="8bdc2364512b634549d944bfb628938a">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255003" class="timestamp"><time datetime="2014-06-30T15:26:38Z" is="relative-time" title="Jun 30, 2014, 9:26 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>UPDATE: there's been a lot of confusion around the terms <em>Functional Reactive Programming</em> and <em>Reactive Programming</em> <a href="https://news.ycombinator.com/item?id=7964873" rel="noreferrer">[1]</a> <a href="https://twitter.com/ReactiveX/status/483625917491970048" rel="noreferrer">[2]</a>.</p>

<p>Sorry, my bad. I guess this sort of confusion happens easily with new paradigms in computing.<br>
Replace all the occurrences of "FRP" with "RP" in the tutorial. Functional Reactive Programming is a variant of Reactive Programming that follows Functional Programming principles such as referential transparency, and seeks to be purely functional. Other people are better at explaining this than I am. <a href="http://www.slideshare.net/deanwampler/reactive-design-languages-and-paradigms" rel="noreferrer">[3]</a> <a href="http://channel9.msdn.com/Events/Lang-NEXT/Lang-NEXT-2014/Keynote-Duality" rel="noreferrer">[4]</a> <a href="http://conal.net/fran/tutorial.htm" rel="noreferrer">[5]</a> </p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/trkrameshkumar"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/3745434" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255012" class="comment js-comment js-task-list-container" data-body-version="d0f8f6b601ddc0c7feccf80153e2554a">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/trkrameshkumar">trkrameshkumar</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255012" class="timestamp"><time datetime="2014-06-30T15:43:44Z" is="relative-time" title="Jun 30, 2014, 9:43 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Very informative , well documented</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/se77en"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/1468284" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255013" class="comment js-comment js-task-list-container" data-body-version="4b117dd2bf49275897c2c80d892f8b93">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/se77en">se77en</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255013" class="timestamp"><time datetime="2014-06-30T15:45:41Z" is="relative-time" title="Jun 30, 2014, 9:45 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>I love this post</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/floatingmonkey"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/1089089" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255024" class="comment js-comment js-task-list-container" data-body-version="2d692cde658d5edd5360b415a30fe2ca">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/floatingmonkey">floatingmonkey</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255024" class="timestamp"><time datetime="2014-06-30T15:59:37Z" is="relative-time" title="Jun 30, 2014, 9:59 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>great read!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/swanson"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/56947" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255055" class="comment js-comment js-task-list-container" data-body-version="472b5c8b8a221df68c6db3fc6dad2b0c">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/swanson">swanson</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255055" class="timestamp"><time datetime="2014-06-30T16:43:11Z" is="relative-time" title="Jun 30, 2014, 10:43 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>I've struggled to grok FRP in the past - I hear lots of smart people trumpeting it, but I haven't been able to wrap my head around it. This tutorial was great and I was following along right until it got to the part about modeling the suggestions as streams (<a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#modellin..." rel="noreferrer">https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#modellin...</a>).</p>

<p>That was where everything went haywire for me - my brain doesn't want to think about those UI elements as streams and I instantly tune out and think "this doesn't make sense". I'm curious if anyone else also got stuck at that same part, as well as if anyone has suggestions/ideas for breaking past this mental barrier? Is there a different way of solving the same problem (that might make more sense to me)?</p>

<p>I can see value in having a <code>Suggestion</code> emit some kind of event ("I need to be refreshed" or "My X was clicked") but I'm struggling to see how that connects to the network/API stream. Do they have to be so tightly linked?</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255065" class="comment js-comment js-task-list-container" data-body-version="9470d6e9da237808193f7c965d1f743c">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255065" class="timestamp"><time datetime="2014-06-30T16:55:10Z" is="relative-time" title="Jun 30, 2014, 10:55 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Hi @swanson, sorry for that section, I might have gone a bit too fast near the end.</p>

<p>Try not to think of the suggestion stream as "UI element stream". It is a data stream in the sense that everything it emits is simply data. Although, as you noticed, it is tightly linked to the close button click stream, and also tightly linked to the response stream. In a way, it lives between Model and View, if you think about an MVC framework.</p>

<p>In fact, suggestion stream is best understood as a ViewModel in the <a href="https://en.wikipedia.org/wiki/Model_View_ViewModel" rel="noreferrer">MVVM architecture</a>. MVVM happens to be a good fit for Rx*. Quoting Wikipedia:</p>

<blockquote>
<p>The view model of MVVM is a value converter meaning that the view model is responsible for exposing the data objects from the model in such a way that those objects are easily managed and consumed. In this respect, the view model is more model than view, and handles most if not all of the viewâ€™s display logic.</p>
</blockquote>

<p><a href="./The introduction to Reactive Programming you've been missing_files/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f382f38372f4d56564d5061747465726e2e706e67" target="_blank" rel="noreferrer"><img src="./The introduction to Reactive Programming you've been missing_files/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f382f38372f4d56564d5061747465726e2e706e67" alt="MVVM" data-canonical-src="https://upload.wikimedia.org/wikipedia/commons/8/87/MVVMPattern.png" style="max-width:100%;"></a></p>

<p>Suggestion stream prepares data coming from the model (response stream) in such a way that the data it emits can be immediately consumed by the View (the subscriber which renders to the DOM). It frees the View from having to do any kind of logic.</p>

<p>If we had followed MVVM strictly in this example, we would need also a <code>close1ClickViewModelStream</code> just to detach the suggestion stream from <code>close1ClickStream</code>, and it would be defined as such: <code>close1ClickViewModelStream = close1ClickStream.startWith('startup click')</code>. </p>

<p>Programming with Rx* doesn't require MVVM, but I've found it to be a good architecture.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/swanson"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/56947" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255072" class="comment js-comment js-task-list-container" data-body-version="5ed4c9594f739143436cc581e20164b0">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/swanson">swanson</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255072" class="timestamp"><time datetime="2014-06-30T17:08:49Z" is="relative-time" title="Jun 30, 2014, 11:08 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Is there a concept of some independent thing emitting an event to hook into the stream? I guess I am more used to a traditional event bus, where a <code>SuggestionViewModel</code> might emit <code>SuggestionRemoved</code> event which would trigger the API stream to go get some new data. And the view model might want to subscribe to a <code>NewSuggestion</code> event to render the new data. My natural feeling is that a view/view model should not care about the internals of how the data was loaded, that I am using a stream, etc and the approach you outlined seems like this is all mashed together because all the streams must be merged/connected directly.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255082" class="comment js-comment js-task-list-container" data-body-version="bde965cac3201895065d2a09b5b25866">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255082" class="timestamp"><time datetime="2014-06-30T17:21:58Z" is="relative-time" title="Jun 30, 2014, 11:21 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@swanson Nothing stops you from doing that kind of approach. For instance, you could do <code>suggestionRemovedStream = close1ClickStream.startWith('startup click')</code>.</p>

<p>However, one hint for "thinking in the right way": avoid saying that the <code>SuggestionRemoved</code> event would trigger the API stream. Think the other way around: the API stream is <em>triggered by</em> the <code>SuggestionRemoved</code>. It's an important distinction because Rx is "Push" while imperative is "Pull". <a href="https://github.com/Reactive-Extensions/RxJS/tree/master/doc#rxjs-v22" rel="noreferrer">https://github.com/Reactive-Extensions/RxJS/tree/master/doc#rxjs-v22</a> It makes a difference because <code>SuggestionRemoved</code> will have no knowledge of the API stream. It's the API stream that can listen to ("subscribe") events from <code>SuggestionRemoved</code>.</p>

<p>The mashing together happens in the ViewModel, which is typically a class/module with a couple of streams, assuming two roles: Observer, and Observed. Events move in both directions (from Model to View and vice-versa) in the ViewModel. The benefit is that Model streams and View streams don't need to care about any other streams, they just do their thing by defining what they emit. The ViewModel glues it together.</p>

<p>View streams: <code>refreshClickStream</code>, <code>closeClickStream</code><br>
Model streams: <code>requestStream</code>, <code>responseStream</code></p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255085" class="comment js-comment js-task-list-container" data-body-version="30decaa2fae11d4f05652b83b101bec3">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255085" class="timestamp"><time datetime="2014-06-30T17:26:54Z" is="relative-time" title="Jun 30, 2014, 11:26 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@swanson That said, I recommend reading about <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/subjects.md" rel="noreferrer">Subjects</a> which are streams that you can explicitly feed in new events, imperative-style:</p>

<p><code>subject.onNext("suggestion removed!")</code>.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/grant"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/744973" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255086" class="comment js-comment js-task-list-container" data-body-version="fdaa48f4c2434ef788a3c1248c1db81d">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/grant">grant</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255086" class="timestamp"><time datetime="2014-06-30T17:30:22Z" is="relative-time" title="Jun 30, 2014, 11:30 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p><img align="absmiddle" alt=":+1:" class="emoji" height="20" src="./The introduction to Reactive Programming you've been missing_files/1f44d-dbfb5015c41a4e22c8ec6cd3d726d531.png" title=":+1:" width="20"> Love it.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/queimadus"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/1107697" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255089" class="comment js-comment js-task-list-container" data-body-version="6a8943f4dcd259f8ec9c9f675cdb2fc4">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/queimadus">queimadus</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255089" class="timestamp"><time datetime="2014-06-30T17:31:22Z" is="relative-time" title="Jun 30, 2014, 11:31 AM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Great read! After fiddling around a little with the demo I got some unexpected behavior.<br>
Clicking the refresh button, makes not one, but three JSON calls to the service, each time.<br>
Why is that?</p>

<p>Seems like it is the behavior exemplified in the <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservableprototypepublishselector" rel="noreferrer">Rx.Observable.prototype.publish([selector])</a> documentation.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/ajhino"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/1406667" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255114" class="comment js-comment js-task-list-container" data-body-version="bc6129fabc298d4fa7ae2813d98a1867">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/ajhino">ajhino</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255114" class="timestamp"><time datetime="2014-06-30T18:05:59Z" is="relative-time" title="Jun 30, 2014, 12:05 PM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>This is one of the best FRP breakdowns I've seen.  Nice work!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255116" class="comment js-comment js-task-list-container" data-body-version="5fb1a29869c41e7d81e5f330a4dfc9ca">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255116" class="timestamp"><time datetime="2014-06-30T18:06:35Z" is="relative-time" title="Jun 30, 2014, 12:06 PM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Very good catch @queimadus! We were just bitten by the Cold vs Hot Observable problem, that I hoped wouldn't show up in this demo, but it did.</p>

<p>It happened because <code>responseStream</code> was a cold observable (observables are cold by default), and it had 3 observers <code>suggestion1Stream</code>, <code>suggestion2Stream</code>, and <code>suggestion3Stream</code>. Essentially, these 3 create their own internal response stream, and that's what causes the 3 API requests.</p>

<p>To fix it, we made <code>responseStream</code> become a hot observable:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">responseStream</span> <span class="o">=</span> <span class="nx">requestStream</span>
    <span class="p">.</span><span class="nx">flatMap</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">requestUrl</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromPromise</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">getJSON</span><span class="p">(</span><span class="nx">requestUrl</span><span class="p">));</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">publish</span><span class="p">().</span><span class="nx">refCount</span><span class="p">();</span>
</pre></div>

<p>Fixed here: <a href="http://jsfiddle.net/staltz/8jFJH/59/" rel="noreferrer">http://jsfiddle.net/staltz/8jFJH/59/</a></p>

<p>As far as I've seen, this is the best example-based explanation of Cold vs Hot: <a href="http://leecampbell.blogspot.co.uk/2010/08/rx-part-7-hot-and-cold-observables.html" rel="noreferrer">http://leecampbell.blogspot.co.uk/2010/08/rx-part-7-hot-and-cold-observables.html</a><br>
Other good references: <a href="https://github.com/Netflix/RxJava/wiki/Connectable-Observable-Operators" rel="noreferrer">[1]</a> <a href="http://www.introtorx.com/Content/v1.0.10621.0/14_HotAndColdObservables.html" rel="noreferrer">[2]</a> <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/gettingstarted/creating.md#cold-vs-hot-observables" rel="noreferrer">[3]</a></p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/aeikenberry"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/599112" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255255" class="comment js-comment js-task-list-container" data-body-version="2be403fcc1e9cad27fa00471b4b12ed5">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/aeikenberry">aeikenberry</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255255" class="timestamp"><time datetime="2014-06-30T22:09:15Z" is="relative-time" title="Jun 30, 2014, 4:09 PM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Thanks for doing this! Very well done.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/tieTYT"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/373675" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255313" class="comment js-comment js-task-list-container" data-body-version="0f2bd2a35421750367d9e996323d8bc5">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/tieTYT">tieTYT</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255313" class="timestamp"><time datetime="2014-07-01T00:11:18Z" is="relative-time" title="Jun 30, 2014, 6:11 PM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>I'm really confused by the appearance of 'startup click'.  Is that a string with special meaning?  I think you should explain that part because you lost me there.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/peterkhayes"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/3714569" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255347" class="comment js-comment js-task-list-container" data-body-version="134c36a9cdd0adb3107fa5e4d864cf0c">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/peterkhayes">peterkhayes</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255347" class="timestamp"><time datetime="2014-07-01T01:47:38Z" is="relative-time" title="Jun 30, 2014, 7:47 PM MDT">on Jun 30</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>The 'startup click' is passed to a stream that takes the same action regardless of what the input is, so it really could be anything.</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">requestStream</span> <span class="o">=</span> <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'startup click'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">randomOffset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="mi">500</span><span class="p">);</span>
    <span class="k">return</span> <span class="s1">'https://api.github.com/users?since='</span> <span class="o">+</span> <span class="nx">randomOffset</span><span class="p">;</span>
  <span class="p">});</span>
</pre></div>

<p>notice that the requestStream is mapped to the link to github, without reference to any input.  This is different from the usual use of <code>map</code>, where the iterator function uses the input in some way, like map(function(number) {return 2*number}).</p>

<p>I guess he's using the phrase 'startup click' here to be more descriptive.  You have to pass something (or else the stream won't emit anything), so why not use something that explains why you're doing it?</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/paulirotta"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/3486467" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255461" class="comment js-comment js-task-list-container" data-body-version="e83ddc92763c70abdadadd491cb9e883">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/paulirotta">paulirotta</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255461" class="timestamp"><time datetime="2014-07-01T08:00:24Z" is="relative-time" title="Jul 1, 2014, 2:00 AM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Excellent, thanks!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/prassu21"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/1714401" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255592" class="comment js-comment js-task-list-container" data-body-version="23111652bbfddf76943b9b1e8d7f4841">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/prassu21">prassu21</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255592" class="timestamp"><time datetime="2014-07-01T11:16:05Z" is="relative-time" title="Jul 1, 2014, 5:16 AM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Brilliant article.. Thanks for sharing..</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/ledbutter"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/3759836" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255826" class="comment js-comment js-task-list-container" data-body-version="391682262caad506af6121e08441d792">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/ledbutter">ledbutter</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255826" class="timestamp"><time datetime="2014-07-01T16:29:17Z" is="relative-time" title="Jul 1, 2014, 10:29 AM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>So I'll bite on the exercise to avoid copy/pasting for the different suggestion streams, would that involve using the <code>repeat()</code> method?</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255878" class="comment js-comment js-task-list-container" data-body-version="ebc05a0a0284ca2e65f60c75de9514e8">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255878" class="timestamp"><time datetime="2014-07-01T17:59:44Z" is="relative-time" title="Jul 1, 2014, 11:59 AM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Hi @ledbutter, actually <code>repeat()</code> doesn't help for that, and the DRY problem is already solved in the JSFiddle: <a href="http://jsfiddle.net/staltz/8jFJH/48/" rel="noreferrer">http://jsfiddle.net/staltz/8jFJH/48/</a></p>

<div class="highlight highlight-javascript"><pre><span class="kd">function</span> <span class="nx">createSuggestionStream</span><span class="p">(</span><span class="nx">closeClickStream</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">closeClickStream</span><span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="s1">'startup click'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">combineLatest</span><span class="p">(</span><span class="nx">responseStream</span><span class="p">,</span>             
            <span class="kd">function</span><span class="p">(</span><span class="nx">click</span><span class="p">,</span> <span class="nx">listUsers</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">listUsers</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">*</span><span class="nx">listUsers</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="p">.</span><span class="nx">merge</span><span class="p">(</span>
            <span class="nx">refreshClickStream</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> 
                <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
            <span class="p">})</span>
        <span class="p">)</span>
        <span class="p">.</span><span class="nx">startWith</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p><code>repeat()</code> just "echoes" forward some events that happened in the past. See <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservablerepeatvalue-repeatcount-scheduler" rel="noreferrer">[1]</a> <a href="https://github.com/Netflix/RxJava/wiki/Creating-Observables#repeat" rel="noreferrer">[2]</a></p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/domenic"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/617481" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255910" class="comment js-comment js-task-list-container" data-body-version="712d9f6c7aa0bde8c09f45c7fed4e658">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/domenic">domenic</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255910" class="timestamp"><time datetime="2014-07-01T19:01:58Z" is="relative-time" title="Jul 1, 2014, 1:01 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <blockquote>
<p>Observable is Promise++. In Rx you can easily convert a Promise to an Observable by doing var stream = Rx.Observable.fromPromise(promise), so let's use that. The only difference is that Observables are not Promises/A+ compliant, but conceptually there is no clash. A Promise is simply an Observable with one single emitted value. FRP streams go beyond promises by allowing many returned values.</p>
</blockquote>

<p>Array is value++. In JS you can easily convert a value to an Array by doing var array = [value], so let's use that. The only difference is Arrays are not ECMAScript Basic Values compliant, but conceptually there is no clash. An Array is simply a value with one single entry. OOP arrays go beyond values by allowing many contained values.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/ChubV"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/2264412" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255912" class="comment js-comment js-task-list-container" data-body-version="33f92acdb07707176a284fc4df89aa51">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/ChubV">ChubV</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255912" class="timestamp"><time datetime="2014-07-01T19:03:08Z" is="relative-time" title="Jul 1, 2014, 1:03 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>don't try to play this tabs</p>

<pre><code>----------o--------o----&gt;
-r--------r--------r----&gt;
----R---------R------R--&gt;   
----s-----N---s----N-s--&gt;
----q-----N---q----N-q--&gt;
----t-----N---t----N-t--&gt;
</code></pre>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/spion"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/502412" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255918" class="comment js-comment js-task-list-container" data-body-version="8d82f95b7b8e177ff8534f55b2c76978">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/spion">spion</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255918" class="timestamp"><time datetime="2014-07-01T19:13:58Z" is="relative-time" title="Jul 1, 2014, 1:13 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <blockquote>
<p>This is pretty nice, and shows how FRP is at least as powerful as Promises. So if you believe the Promises hype, keep an eye on what FRP is capable of.</p>
</blockquote>

<p>This is probably incorrect. Because promises deal with single events, they're also able to memoize and accept new subscribers after the event. AFAIK Observables are incapable of retaining values: to get the same functionality one would have to use both <code>repeat()</code>, and <code>.take(1)</code> before each attached consumer.</p>

<p>Promises abstract immutable, asynchronously available values. FRP abstracts values that change over time. They're different abstractions and as such useful in different circumstances.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255925" class="comment js-comment js-task-list-container" data-body-version="0851eb28efb813c407c890e93fbe9917">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255925" class="timestamp"><time datetime="2014-07-01T19:29:43Z" is="relative-time" title="Jul 1, 2014, 1:29 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <blockquote>
<p>Array is value++. In JS you can easily convert a value to an Array by doing var array = [value], so let's use that. The only difference is Arrays are not ECMAScript Basic Values compliant, but conceptually there is no clash. An Array is simply a value with one single entry. OOP arrays go beyond values by allowing many contained values.</p>
</blockquote>

<p>I actually genuinely laughed with that kind of humor. <img align="absmiddle" alt=":laughing:" class="emoji" height="20" src="./The introduction to Reactive Programming you've been missing_files/1f606-0e640c6bf85b2c273de97e23c5207684.png" title=":laughing:" width="20"> </p>

<blockquote>
<p>This is probably incorrect. Because promises deal with single events, they're also able to memoize and accept new subscribers after the event. AFAIK Observables are incapable of retaining values: to get the same functionality one would have to use both repeat(), and .take(1) before each attached consumer.</p>
</blockquote>

<p>Actually it was correct. You don't need <code>repeat()</code>+<code>take(1)</code>. Cold Observables can "memoize". You can also achieve similar behavior with BehaviorSubject or ReplaySubject.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/spion"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/502412" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255938" class="comment js-comment js-task-list-container" data-body-version="8371c0fbd8df728b2085caabb0faae32">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/spion">spion</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255938" class="timestamp"><time datetime="2014-07-01T19:48:29Z" is="relative-time" title="Jul 1, 2014, 1:48 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@staltz  I see. In that case, a much bigger distinction should be made between these in the API, I think. (Perhaps thats one of the reasons why it comes back and bites you brutally? :P)</p>

<p>So promises are cold single-value observables. Fair enough :) Does RxJS have something similar to bluebird's long stack traces?</p>

<p>BehaviorSubject seems close, but it looks mutable to me - a promise's value cannot be changed once its resolved or rejected.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255943" class="comment js-comment js-task-list-container" data-body-version="865f779e978847e22a07a44e8e4be124">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255943" class="timestamp"><time datetime="2014-07-01T19:52:28Z" is="relative-time" title="Jul 1, 2014, 1:52 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <blockquote>
<p>@staltz I see. In that case, a much bigger distinction should be made between these in the API, I think. </p>
</blockquote>

<p>Yes, Rx is extensively documented, but seems to have many quirks and gotchas. Bacon.js <a href="https://github.com/baconjs/bacon.js/issues/383#issuecomment-46904133" rel="noreferrer">was born out of insatisfaction of RxJS</a> because of these quirks and other reasons.</p>

<blockquote>
<p>So promises are cold single-value observables. Fair enough :) Does RxJS have something similar to bluebird's long stack traces?</p>
</blockquote>

<p>I'm not sure as I'm not familiar with Bluebird. I have less experience with RxJS than I do with RxJava ("RxJVM"). In JVM you get stack traces. :/</p>

<blockquote>
<p>BehaviorSubject seems close, but it looks mutable to me - a promise's value cannot be changed once its resolved or rejected.</p>
</blockquote>

<p>I could elaborate on this later on, maybe it deserves it's own well-thought blog post. My comparison Observables / Promises in this tutorial was playful. Conceptually they are very close and Observables go beyond a bit. That is not to say "everywhere you have a Promise you can put an Observable", or "throw away your Promises library". I'm actually a hard core <a href="https://twitter.com/andrestaltz/status/462474053576830976" rel="noreferrer">fan of Promises</a> in JS. My point in the article is that you can wrap a Promise in an Observable and continue working from that point onwards.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/spion"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/502412" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255961" class="comment js-comment js-task-list-container" data-body-version="8ef640861a9e91d67a065399502e5362">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/spion">spion</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255961" class="timestamp"><time datetime="2014-07-01T20:19:29Z" is="relative-time" title="Jul 1, 2014, 2:19 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@staltz, i did an experiment and it turns out that promises are not cold single-value observables after all. </p>

<p>Promises execute the side-effect (e.g. xhr get or console.log in my example) once and memoize the value. </p>

<p>Cold observables will execute side-effects multiple times rather than memoize: <a href="http://plnkr.co/edit/pB7dURuPUBMo0kTWy2IY?p=preview" rel="noreferrer">http://plnkr.co/edit/pB7dURuPUBMo0kTWy2IY?p=preview</a></p>

<p>My comment was not really criticism - I'm genuinely interested in combining the capabilities of Promises and Observables and I'm trying to figure out what would be the best way to do it. (we replaced callbacks with Promises; looking into replacing the imperative node streams and event emitters with Observables). </p>

<p>Its quite cool that Rx observables can wrap Promises - now if only Promises could also consume observables :)</p>

<p>e.g. if we assume a connection can multiplex multiple subscriptions:</p>

<div class="highlight highlight-js"><pre><span class="c1">// connectionPromise is the memoized connection</span>
<span class="kd">var</span> <span class="nx">eventStream</span> <span class="o">=</span> <span class="nx">connectionPromise</span>
    <span class="p">.</span><span class="nx">toObservable</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">c</span><span class="p">.</span><span class="nx">getSubscription</span><span class="p">(</span><span class="s2">"someEvent"</span><span class="p">));</span>
<span class="c1">// eventStream is now a proper observable and can be "piped" back to a client</span>
</pre></div>

<p>that would be really cool. I suppose this will do:</p>

<div class="highlight highlight-js"><pre><span class="kd">var</span> <span class="nx">eventStream</span> <span class="o">=</span> <span class="nx">Rx</span><span class="p">.</span><span class="nx">Observable</span><span class="p">.</span><span class="nx">fromPromise</span><span class="p">(</span><span class="nx">connectionPromise</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">flatMap</span><span class="p">(</span><span class="nx">c</span> <span class="o">=&gt;</span> <span class="nx">conn</span><span class="p">.</span><span class="nx">getSubscription</span><span class="p">(</span><span class="s2">"someEvent"</span><span class="p">));</span>
</pre></div>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1255969" class="comment js-comment js-task-list-container" data-body-version="145288f5134e12a3c9a1d09427960995">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255969" class="timestamp"><time datetime="2014-07-01T20:31:15Z" is="relative-time" title="Jul 1, 2014, 2:31 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>What about BehaviorSubject, ReplaySubject, <a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/observable.md#rxobservabledeferobservablefactory" rel="noreferrer"><code>defer()</code></a>? If you really figured out Observables absolutely cannot do what Promises can, then that would be quite good knowledge to share. I'd be interested in seeing how that would affect, e.g., <code>Rx.Observable.fromPromise()</code>.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/spion"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/502412" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1255995" class="comment js-comment js-task-list-container" data-body-version="8982e301eb3f2df38e9ae20dd478eaff">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/spion">spion</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1255995" class="timestamp"><time datetime="2014-07-01T21:14:42Z" is="relative-time" title="Jul 1, 2014, 3:14 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>No, I haven't figured it out yet. I'm still learning about Observables (there is a lot to learn, really). Will definitely share a comparison as soon as I figure things out :)</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/jmandel"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/313089" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1256055" class="comment js-comment js-task-list-container" data-body-version="62b76fa43f3315e97ea0aed2b8fdd0e0">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/jmandel">jmandel</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1256055" class="timestamp"><time datetime="2014-07-02T00:03:09Z" is="relative-time" title="Jul 1, 2014, 6:03 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Lovely Tutorial!</p>

<p>Quick correction: In the snippet below, which motivates <code>fromPromise</code> but isn't used directly in your final demo app, the use of <code>.then</code> is an error:</p>

<pre><code> var responseStream = Rx.Observable.create(function (observer) {
    jQuery.getJSON(requestUrl)
    .then(function(response) { observer.onNext(response); })
    .fail(function(jqXHR, status, error) { observer.onError(error); })
    .done(function() { observer.onCompleted(); });
  });
</code></pre>

<p>The issue is that <a href="http://api.jquery.com/deferred.then/" rel="noreferrer"><code>.then()</code> returns a new Promise</a>, so the <code>.fail</code> and <code>.done</code> handlers are attached to the wrong object.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/warmwaffles"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/303133" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1256139" class="comment js-comment js-task-list-container" data-body-version="5e143dee5cf2b49b18bc53fc826fc07b">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/warmwaffles">warmwaffles</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1256139" class="timestamp"><time datetime="2014-07-02T04:09:35Z" is="relative-time" title="Jul 1, 2014, 10:09 PM MDT">on Jul 1</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@staltz, this should honestly be in a git repo so that PRs can be done and discussions could sprawl out in the issues section.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1256266" class="comment js-comment js-task-list-container" data-body-version="94746663628e3e66a83fe2c7a2173176">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1256266" class="timestamp"><time datetime="2014-07-02T07:40:17Z" is="relative-time" title="Jul 2, 2014, 1:40 AM MDT">on Jul 2</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Thanks @jmandel, it should have been <a href="http://api.jquery.com/jQuery.ajax/#jqXHR" rel="noreferrer"><code>.done( ).fail( ).always( )</code></a>. I haven't touched jQuery in a while...</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/alexblanquart"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/936881" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1256330" class="comment js-comment js-task-list-container" data-body-version="0e9e053f609452299c905921e13f46c1">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/alexblanquart">alexblanquart</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1256330" class="timestamp"><time datetime="2014-07-02T10:08:39Z" is="relative-time" title="Jul 2, 2014, 4:08 AM MDT">on Jul 2</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Indeed, very impressive tutorial, well explained with no bullshit!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/karianna"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/180840" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1256405" class="comment js-comment js-task-list-container" data-body-version="e2127a3e84b32a184104000666f7bca3">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/karianna">karianna</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1256405" class="timestamp"><time datetime="2014-07-02T11:55:29Z" is="relative-time" title="Jul 2, 2014, 5:55 AM MDT">on Jul 2</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Wonderful post - really allows folks new to FRP to just get it.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/ledbutter"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/3759836" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1256418" class="comment js-comment js-task-list-container" data-body-version="fc1320d66f12090a66cad98e4e309545">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/ledbutter">ledbutter</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1256418" class="timestamp"><time datetime="2014-07-02T12:38:56Z" is="relative-time" title="Jul 2, 2014, 6:38 AM MDT">on Jul 2</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Thanks for the explanation @staltz regarding the suggestions and the great tutorial. I just got hung up on the "exercise" wording and didn't notice that you solved it later without explicitly calling it out (or at least I didn't read it as such).</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/bbirand"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/334435" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1257737" class="comment js-comment js-task-list-container" data-body-version="2ddfce7b513ea7907e77d2d7c6ccecf2">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/bbirand">bbirand</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1257737" class="timestamp"><time datetime="2014-07-04T06:53:21Z" is="relative-time" title="Jul 4, 2014, 12:53 AM MDT">on Jul 4</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Is there a way to also send data or parameters "upstream"? </p>

<p>I'm trying to understand the case where the stream is a continuously changing quantity, like "current_time" or a sensor reading. I want to sample it at regular intervals, creating a regular "stream" of values. But for instance the sampling rate of this can depend on who the consumer is at the very end of the chain. Do you know if there are any notions in FRP that deals with these types of ideas?</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1258706" class="comment js-comment js-task-list-container" data-body-version="68d787260b075203d654b77d6a004f8f">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1258706" class="timestamp"><time datetime="2014-07-07T06:48:46Z" is="relative-time" title="Jul 7, 2014, 12:48 AM MDT">on Jul 7</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@bbirand, if you want to handle streams of continuous (mathematical continuous) nature, then you're looking for "Behaviors" in <a href="http://stackoverflow.com/questions/1028250/what-is-functional-reactive-programming" rel="noreferrer">Classical Functional Reactive Programming</a>. As far as I know, Rx and other reactive libraries don't support continuous 'behaviors'.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/bbirand"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/334435" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1260574" class="comment js-comment js-task-list-container" data-body-version="6bb74c3bea829082b131a5a11c632aa8">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/bbirand">bbirand</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1260574" class="timestamp"><time datetime="2014-07-09T16:34:55Z" is="relative-time" title="Jul 9, 2014, 10:34 AM MDT">on Jul 9</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@stalz Thanks for the pointer (and the excellent write-up!). I will definitely look into it!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/lenage"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/183649" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1261057" class="comment js-comment js-task-list-container" data-body-version="2962c5b80956ff0fa434478aab634e16">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/lenage">lenage</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1261057" class="timestamp"><time datetime="2014-07-10T09:01:57Z" is="relative-time" title="Jul 10, 2014, 3:01 AM MDT">on Jul 10</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Great read <img align="absmiddle" alt=":+1:" class="emoji" height="20" src="./The introduction to Reactive Programming you've been missing_files/1f44d-dbfb5015c41a4e22c8ec6cd3d726d531.png" title=":+1:" width="20"></p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/juanfezero"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/4616056" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1262202" class="comment js-comment js-task-list-container" data-body-version="e57e9c8e86715e00e0de2c3ec536fd3e">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/juanfezero">juanfezero</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1262202" class="timestamp"><time datetime="2014-07-11T21:22:54Z" is="relative-time" title="Jul 11, 2014, 3:22 PM MDT">on Jul 11</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Thank's for this great introduction.<br>
From this I can learn more.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/gekosurf"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/8133069" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1264912" class="comment js-comment js-task-list-container" data-body-version="c4f0f5e63b2359d00f6c5a2958fd7517">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/gekosurf">gekosurf</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1264912" class="timestamp"><time datetime="2014-07-17T02:13:35Z" is="relative-time" title="Jul 16, 2014, 8:13 PM MDT">on Jul 16</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Great introduction.<br><br>
I'm just looking at the Java Play framework for Reactive Programming.<br>
Your article certainly helps<br>
Thanks</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/rajeshpv"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/281831" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1265685" class="comment js-comment js-task-list-container" data-body-version="bfb10dea4ce0e9064fda0034ffa31422">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/rajeshpv">rajeshpv</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1265685" class="timestamp"><time datetime="2014-07-18T03:11:46Z" is="relative-time" title="Jul 17, 2014, 9:11 PM MDT">on Jul 17</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>wish I could send infinite thanks in a stream to this NICE , BEST and CLEAR write up, <br>
 (btw, stream supports infinite size) I loved the real example of twitter on jsFiddle, it is almost like putting logic in  where logic gets executed for those events.</p>

<p>Thanks again Stalz, brilliant work</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/sebastienhiticas"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/675541" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1268459" class="comment js-comment js-task-list-container" data-body-version="4eb50e5d54e9d902c4b7f055d4a6202e">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/sebastienhiticas">sebastienhiticas</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1268459" class="timestamp"><time datetime="2014-07-23T13:01:42Z" is="relative-time" title="Jul 23, 2014, 7:01 AM MDT">on Jul 23</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>This was very informative. Thanks for this introduction to Reactive Programming!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/jmig"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/955238" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1269082" class="comment js-comment js-task-list-container" data-body-version="63443a968ebe5ea1a93fd4ed792d1d92">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/jmig">jmig</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1269082" class="timestamp"><time datetime="2014-07-24T06:24:30Z" is="relative-time" title="Jul 24, 2014, 12:24 AM MDT">on Jul 24</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Have played with ReactiveCocoa in the past, mostly to handle my KVO stuff in a block based API, but nothing more.<br>
I just joined a new project where they use Rx and fell completely lost. I cannot tell you how much your introduction is simple yet incredibly clear and powerful. The code base looks totally logic and clear to me now. Thanks!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/razmig"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/1510905" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1271048" class="comment js-comment js-task-list-container" data-body-version="6f5b378fdd65c2c27e470368ea29f847">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/razmig">razmig</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1271048" class="timestamp"><time datetime="2014-07-28T12:00:57Z" is="relative-time" title="Jul 28, 2014, 6:00 AM MDT">on Jul 28</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Great tutorial, thanks!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/kwbr"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/169528" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1277341" class="comment js-comment js-task-list-container" data-body-version="ed9e0a76b121b3f3373f2c3478463457">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/kwbr">kwbr</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1277341" class="timestamp"><time datetime="2014-08-07T11:56:01Z" is="relative-time" title="Aug 7, 2014, 5:56 AM MDT">on Aug 7</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>I like your graphics. How are they done?</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/staltz"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/90512" width="48" height="48"></a>
  <div class="timeline-comment owner-comment">
    <div id="comment-1278128" class="comment js-comment js-task-list-container" data-body-version="b494bee6bc502b1885589ea46df837eb">
      <div class="timeline-comment-header">

          <span class="timeline-comment-label">Owner</span>


        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/staltz">staltz</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1278128" class="timestamp"><time datetime="2014-08-08T12:09:12Z" is="relative-time" title="Aug 8, 2014, 6:09 AM MDT">on Aug 8</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Hi @kwbr, you're not the first asking this. I made them with Sketch for OS X. Actually now I'm preparing an interactive diagrams webapp, still under construction: <a href="http://staltz.github.io/rxmarbles/" rel="noreferrer">http://staltz.github.io/rxmarbles/</a><br>
It'll be part of the upcoming ReactiveX documentation site: <a href="https://github.com/ReactiveX/reactivex.github.io/issues/1" rel="noreferrer">https://github.com/ReactiveX/reactivex.github.io/issues/1</a></p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/ondrek"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/1871393" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1279342" class="comment js-comment js-task-list-container" data-body-version="ef083155075b80eaf8d8e54a6231f3a2">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/ondrek">ondrek</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1279342" class="timestamp"><time datetime="2014-08-11T09:56:49Z" is="relative-time" title="Aug 11, 2014, 3:56 AM MDT">on Aug 11</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p><img align="absmiddle" alt=":+1:" class="emoji" height="20" src="./The introduction to Reactive Programming you've been missing_files/1f44d-dbfb5015c41a4e22c8ec6cd3d726d531.png" title=":+1:" width="20"> This is really nice reading, dude! .. I was trying to find something about FRP, but most of articles are really heavy and kinda difficult to read. If you are more interested in FRP check also this tutorial (<a href="http://conal.net/fran/tutorial.htm" rel="noreferrer">http://conal.net/fran/tutorial.htm</a>) and this answer (<a href="http://stackoverflow.com/questions/1028250/what-is-functional-reactive-programming/1028642#1028642" rel="noreferrer">http://stackoverflow.com/questions/1028250/what-is-functional-reactive-programming/1028642#1028642</a>) <img align="absmiddle" alt=":dancer:" class="emoji" height="20" src="./The introduction to Reactive Programming you've been missing_files/1f483-ab30c068bfc6e04a050df9f219067307.png" title=":dancer:" width="20"> </p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/vamdt"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/2239155" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1281356" class="comment js-comment js-task-list-container" data-body-version="3082597137f9944e2e7238c8067f76e4">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/vamdt">vamdt</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1281356" class="timestamp"><time datetime="2014-08-14T06:44:30Z" is="relative-time" title="Aug 14, 2014, 12:44 AM MDT">on Aug 14</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>This help me a lot, thanks!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/qesuto"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/2695732" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1285921" class="comment js-comment js-task-list-container" data-body-version="7333334920cd2e93c618fd3a530f3237">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/qesuto">qesuto</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1285921" class="timestamp"><time datetime="2014-08-21T11:51:06Z" is="relative-time" title="Aug 21, 2014, 5:51 AM MDT">on Aug 21</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Best introduction on the subject I've read so far. Great work!</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/Hardwareman"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/9056704" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1313878" class="comment js-comment js-task-list-container" data-body-version="2fe3cae78e56be6f7c92da695e8f4125">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/Hardwareman">Hardwareman</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1313878" class="timestamp"><time datetime="2014-10-07T19:31:22Z" is="relative-time" title="Oct 7, 2014, 1:31 PM MDT">26 days ago</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>We use our formative years learning how best to navigate in a parallel-concurrent world. Programmers must learnâ€”and keep on learningâ€”how to navigate in the strictly linear-sequential world of computation and make the LS-ness of the machine essentially transparent to the user. A tough task and the effort too often fails. </p>

<p>I would like to share some of my work on a fundamentally parallel-concurrent method of building process controllers. It has a special logic and operators that are much better for creating systems that react to real-world events. </p>

<p>My solution is hardware, as my UN suggests. A key realization is that, lo and behold, we think in P-C mode all the time. We just donâ€™t have the P-C machines w/w to build our reactive systems and must do it with the ubiquitous LS systems that are fundamentally unsuitable for those jobs.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/codemasteru"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/8498184" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1314933" class="comment js-comment js-task-list-container" data-body-version="35951680204e0589ebc76abf80631d76">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/codemasteru">codemasteru</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1314933" class="timestamp"><time datetime="2014-10-09T02:32:20Z" is="relative-time" title="Oct 8, 2014, 8:32 PM MDT">25 days ago</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Great share... Just came across it today..........Hopefully a quick start for me in FRP </p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/tommix000"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/5235945" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1319370" class="comment js-comment js-task-list-container" data-body-version="6f9743225bc31aeb2cf51e2224960b07">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/tommix000">tommix000</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1319370" class="timestamp"><time datetime="2014-10-16T10:34:55Z" is="relative-time" title="Oct 16, 2014, 4:34 AM MDT">18 days ago</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>An eye-opener and a great Tutorial, thank you very much.</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/benjycui"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/3580607" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1320812" class="comment js-comment js-task-list-container" data-body-version="e4e3623da312cf2d5cf2a4572a944f6d">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/benjycui">benjycui</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1320812" class="timestamp"><time datetime="2014-10-19T02:02:06Z" is="relative-time" title="Oct 18, 2014, 8:02 PM MDT">15 days ago</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>@staltz Excuse me. I spent several days in translating this tutorial into Chinese. So, could you add an reference to it? For not all of Chinese programmers are good at English and RP is a difficult concept to understand.</p>

<p>Chinese edition: <a href="https://github.com/benjycui/introrx-chinese-edition" rel="noreferrer">https://github.com/benjycui/introrx-chinese-edition</a></p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/simpzan"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/366578" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1321148" class="comment js-comment js-task-list-container" data-body-version="fdf108baa0da05dab95ecd3baf80a2c0">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/simpzan">simpzan</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1321148" class="timestamp"><time datetime="2014-10-20T02:43:03Z" is="relative-time" title="Oct 19, 2014, 8:43 PM MDT">14 days ago</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>The 3 suggestions are independently selected from the response, so it is possible that the 3 suggestions shown are the same one. I think it is an issue. <br>
Great tutorial anyway. </p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

<div class="timeline-comment-wrapper js-comment-container">
  <a href="https://gist.github.com/kzar"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/155710" width="48" height="48"></a>
  <div class="timeline-comment ">
    <div id="comment-1329929" class="comment js-comment js-task-list-container" data-body-version="28da0b6584fef19fd649507419cbab2c">
      <div class="timeline-comment-header">



        <div class="timeline-comment-header-text">
          <strong>
            <a class="author" href="https://gist.github.com/kzar">kzar</a>
          </strong>

          commented

            <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment-1329929" class="timestamp"><time datetime="2014-11-02T16:25:07Z" is="relative-time" title="Nov 2, 2014, 9:25 AM MST">6 hours ago</time></a>
        </div>
      </div>

    <div class="comment-content">

      <div class="edit-comment-hide">
        <div class="comment-body markdown-body  js-comment-body">
            <p>Wouldn't it make more sense to provide a GitHub user stream by flattening each response array down? Something like this:</p>

<pre><code>var userStream = Rx.Observable.range(0)
    .flatMap(function(i) {
        return Rx.Observable.fromPromise($.getJSON('https://api.github.com/users?since=' + i));
    })
    .flatMap(function(response) {
        return Rx.Observerable.fromArray(response);
    });
</code></pre>

<p>(I've never looked at RxJS and this code is untested but hopefully conveys what I mean. I realise this user stream would be in order which isn't what we want as well.)</p>
        </div>
      </div>

    </div>
  </div>
  </div>
  </div>

          </div>

          <div class="discussion-timeline-actions">
              <div class="timeline-comment-wrapper timeline-new-comment js-comment-container">
  <a href="https://gist.github.com/nischalbaidar"><img class="timeline-comment-avatar" src="./The introduction to Reactive Programming you've been missing_files/9509150" width="48" height="48"></a>

  <form accept-charset="UTF-8" action="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754/comments" class="js-new-comment-form js-comment-form" method="post"><div style="display:none"><input name="utf8" type="hidden" value="âœ“"><input name="authenticity_token" type="hidden" value="UlDNg8cpwb607om0f5MZTbdOBGYQGvCdZ0C1Zl8XYBaQlPVWdLJecl2PcHYh+M6sZee40iPB2wL9QKjTzK+a8g=="></div>
    <div class="timeline-comment">
      <input type="hidden" name="gist" value="12645505">

      <div id="js-new-comment-form-actions">
        
<div class="js-previewable-comment-form previewable-comment-form write-selected" data-preview-url="/preview">
  <div class="comment-form-head tabnav">
    <ul class="tabnav-tabs">
      <li><a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment_body_550_write_bucket" class="tabnav-tab write-tab js-write-tab selected" data-skip-pjax="">Write</a></li>
      <li><a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#comment_body_550_preview_bucket" class="tabnav-tab preview-tab js-preview-tab" data-skip-pjax="">Preview</a></li>
    </ul>
    <span class="tabnav-right">
      <a class="tabnav-widget text tabnav-extras" href="https://help.github.com/articles/github-flavored-markdown" target="_blank">
        <span class="octicon octicon-markdown"></span>
        Parsed as Markdown
      </a>
      
<a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#fullscreen_comment_body_550" class="enable-fullscreen js-enable-fullscreen tooltipped-n
  tabnav-widget text tabnav-extras">
  <span class="octicon octicon-screen-full"></span>
  Edit in fullscreen
</a>


    </span>
  </div>


  <div id="comment_body_550_write_bucket" class="write-content js-write-bucket ">
    <textarea name="comment[body]" tabindex="1" id="comment_body_550" placeholder="Leave a comment" class="comment-form-textarea js-comment-field js-size-to-fit js-quote-selection-target input-with-fullscreen-icon" data-suggester="comment_body_550_suggestions" required=""></textarea>

    

  </div>
  <div id="comment_body_550_preview_bucket" class="preview-content js-preview-bucket">
    <div class="comment-body markdown-body  js-comment-body">
    </div>
  </div>


  <div class="suggester-container">
    <div class="suggester js-navigation-container" id="comment_body_550_suggestions" data-url="/staltz/868e7e9bc2a7b8c1f754/suggestions">
    </div>
  </div>
</div>

        <div class="form-actions">
          <button type="submit" class="button primary js-comment-submit" tabindex="2" data-disable-with="" data-disable-invalid="" disabled="">
            Comment
          </button>
        </div>
      </div>
    </div>
</form></div>
  

          </div>
        </div><!-- /.discussion-timeline -->
      </div><!-- /.gist-content -->
    </div>
  </div>
</div><!-- /.container -->

  <div class="context-overlay"></div>
</div>

    </div>
    <div class="slow-loading-overlay"></div>
  </div>

  <div id="ajax-error-message" class="flash flash-error">
    <div class="container">
      <span class="octicon octicon-alert"></span>
      Something went wrong with that request. Please try again.
      <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#" class="octicon octicon-x ajax-error-dismiss"></a>
    </div>
  </div>


  <footer>
    <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com/">API</a></li>
      <li><a href="https://github.com/blog">Blog</a></li>
      <li><a href="https://github.com/about">About</a></li>

    </ul>

    <a href="https://gist.github.com/">
      <span class="mega-octicon octicon-mark-github" title="GitHub "></span>
    </a>

    <ul class="site-footer-links">
      <li>Â© 2014 <span title="0.22695s from github-fe102-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy">Privacy</a></li>
        <li><a href="https://github.com/security">Security</a></li>
        <li><a href="https://github.com/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->

  </footer>

  <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
        <div class="suggester-container">
            <div class="suggester fullscreen-suggester js-navigation-container" id="fullscreen_suggester" data-url="/staltz/868e7e9bc2a7b8c1f754/suggestions">
            </div>
        </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w" aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>




<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 1px; height: 1px; z-index: 999999999;"><object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" type="application/x-shockwave-flash" data="https://gist-assets.github.com/assets/zeroclipboard/dist/ZeroClipboard-aeb54c213f0d09883fed5a0947132da9.swf"><param name="allowScriptAccess" value="always"><param name="allowNetworking" value="all"><param name="menu" value="false"><param name="wmode" value="transparent"><param name="flashvars" value="trustedOrigins=gist.github.com%2C%2F%2Fgist.github.com%2Chttps%3A%2F%2Fgist.github.com&amp;swfObjectId=global-zeroclipboard-flash-bridge"></object></div></body></html>