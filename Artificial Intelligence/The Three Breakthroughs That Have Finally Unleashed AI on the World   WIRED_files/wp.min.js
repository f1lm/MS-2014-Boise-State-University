function addLoadEvent(a){var b=window.onload;window.onload="function"!=typeof window.onload?a:function(){b(),a()}}function setCookie(a,b,c,d,e,f,g){var h=a+"="+(c?escape(b):b)+(d?"; expires="+d.toGMTString():"")+(e?"; path="+e:"")+(f?"; domain="+f:"")+(g?"; secure":"");document.cookie=h}function getCookie(a){var b=document.cookie,c=a+"=",d=b.indexOf("; "+c);if(-1==d){if(d=b.indexOf(c),0!=d)return null}else d+=2;var e=document.cookie.indexOf(";",d);return-1==e&&(e=b.length),unescape(b.substring(d+c.length,e))}function deleteCookie(a,b,c){var d=getCookie(a);return null!=d&&(document.cookie=a+"="+(b?"; path="+b:"")+(c?"; domain="+c:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT"),d}function showSponsorTxt(){var a="",b="",c="",d="",e="",f="";if(null!=document.getElementById("sponsor")&&(a=document.getElementById("sponsor"),d=a.getElementsByTagName("img"),0!=d.length))for(var g=0;g<d.length;g++)d[g].width>1&&null!=document.getElementById("byTxt")&&(document.getElementById("byTxt").style.display="block");if(null!=document.getElementById("popular_sponsor")&&(b=document.getElementById("popular_sponsor"),e=b.getElementsByTagName("img"),0!=e.length))for(var g=0;g<e.length;g++)e[g].width>1&&null!=document.getElementById("popular_byTxt")&&(document.getElementById("popular_byTxt").style.display="block");if(null!=document.getElementById("sponsorMM")&&(c=document.getElementById("sponsorMM"),f=c.getElementsByTagName("img"),0!=f.length))for(var g=0;g<f.length;g++)f[g].width>1&&null!=document.getElementById("byTxtMM")&&(document.getElementById("byTxtMM").style.display="block")}function loginStatus(){var a=document.cookie,b=document.getElementById("login_link"),c=document.getElementById("logout_link"),d=a.indexOf("wired_reddit=");return b||c?void(-1!=d?(b.style.display="none",c.style.display="inline"):(b.style.display="inline",c.style.display="none")):!1}function chopItems(a){var b=new Array;try{for(var c=new RegExp("<item(?:s|.)*?>(?:s|.)*?</item>","g"),d=new RegExp("<title(?:s|.)*?>((?:s|.)*?)</title>","g"),e=new RegExp("<link(?:s|.)*?>((?:s|.)*?)</link>","g"),f=a.match(c),g=f.length>5?5:f.length,h=0;g>h;h++){var i=f[h];i.match(d);var j=RegExp.$1;i.match(e)[0];var k=RegExp.$1,l={title:j,link:k};b.push(l)}}catch(m){alert(m)}return b}function populateFeeds(a,b){var c=new Date,d="urlVal="+a+"&ts="+c.getTime();new Ajax.Request("/nolayout/rssproxy",{method:"get",crossSite:!0,parameters:d,onSuccess:function(a){var c=a.responseText,d=chopItems(c),e=document.getElementById(b),f=document.createElement("div");f.className="rss-box";var g=document.createElement("UL");g.className="rss-items",f.appendChild(g),e.appendChild(f);for(var h=d.length,i=0;h>i;i++){var j=d[i],k=createLinkNode(j.title,j.link);g.appendChild(k)}},onFailure:function(){}})}function createLinkNode(a,b){var c=document.createElement("LI");c.className="rss-item";var d=document.createElement("A");return d.target="_self",d.title=a,d.href=b,d.appendChild(document.createTextNode(a)),d.className="rss-item",c.appendChild(d),c}function getXMLDom(a){var b=null;if(window.ActiveXObject)b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);else{var c=new DOMParser;b=c.parseFromString(a,"text/xml")}return b}function parsePath(a){var b=a.length,c=a.indexOf("/"),d=a.indexOf("/",c+1),e=a.lastIndexOf("/"),f=0;for(c==e&&(paths[f]=a.slice(c+1));c!=e||-1!=d;)paths[f]=a.substring(c+1,d),e+1!=b&&(paths[f+1]=a.slice(d+1)),c=d,d=a.indexOf("/",c+1),f++}function setProps(){setProp6="",setProp7="",setProp8="",setProp9="",paths.length>=1&&""!=paths[0]&&(setProp6=paths[0]),paths.length>=2&&(setProp7=setProp6+"/"+paths[1]),paths.length>=3&&(setProp8=setProp7+"/"+paths[2]),paths.length>=4&&(setProp9=setProp8+"/"+paths[3])}function trackData(a){s.linkTrackVars="events",s.linkTrackEvents=a,s.events=a,s.tl(this,"o","AjaxCall")}function writeMicrosoftAudienceTag(){MSEXT_domain=document.location.host.split("."),MSEXT_domain=MSEXT_domain[MSEXT_domain.length-2],MSEXT_path=document.location.pathname.split("/"),MSEXT_request=document.location.protocol+"//view.atdmt.com/action/MSFT_CondeNet_AE_ExtData/v3/atc1."+MSEXT_domain,MSEXT_request+=""!=MSEXT_path[1]&&void 0!=MSEXT_path[1]?"/atc2."+MSEXT_path[1]:"",MSEXT_request+=""!=MSEXT_path[2]&&void 0!=MSEXT_path[2]?"/atc3."+MSEXT_path[2]:"",MSEXT_request+="/";var a=document.getElementById("footer"),b=document.createElement("img");b.src=MSEXT_request,b.height="1",b.width="1",a&&a.appendChild(b)}function detectPushdownAd(){if(document.getElementById("pushdownAd")){var a=document.getElementById("pushdownAd"),b=a.offsetHeight;60>=b&&(a.style.display="block")}}function scrubStatsBlogPermalinkPageName(){pathArray=window.location.pathname.split("/");var a;do a=pathArray.pop();while(!a||0==a.length);paginationFilter=/^([0-9]+|all)$/,paginationFilter.test(a)||pathArray.push(a),s.pageName=window.location.protocol+"//"+window.location.hostname+pathArray.join("/")}function removeChildNodes(a){for(;a.childNodes[0];)a.removeChild(a.childNodes[0])}function gup(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b="[\\?&]"+a+"=([^&#]*)",c=new RegExp(b),d=c.exec(window.location.href);return null==d?"":d[1]}jQuery(function(){jQuery("#pnav_list a.primaryLink").bind("mouseover",function(){jQuery(this).addClass("over")}).bind("mouseout",function(){jQuery(this).removeClass("over")}),jQuery("#pnav_list a.primaryLink").bind("mouseenter",function(){jQuery(".dropdownMenu").hide(),jQuery(this).parentsUntil("#pnav_list").find(".dropdownMenu").show(),jQuery(this).addClass("over")}),jQuery("#pnav_list li .dropdownMenu").bind("mouseleave",function(){jQuery(this).delay(500).fadeOut(200),jQuery(this).parentsUntil("#pnav_list").find("a.primaryLink").removeClass("over")});var a=CN.cookie.get("amg_user_info");if(jQuery("#gh_greeting").html(""!==a?'<span class="gh_username">Hi, <a href="/user/profile_update">'+a+'</a>&nbsp;|&nbsp;</span><a href="/user/logout">Sign Out</a>&nbsp;|':'<a href="/user/login">Sign In</a>&nbsp;|'),jQuery(".single-post").length&&!jQuery("body").hasClass("type-subwired")){var b=!0,c=!1,d=!1,e=new Date,f=e.getTime(),g=jQuery("#header728x90_frame");stickyLeaderboard=function(){var a=jQuery(window).scrollTop(),b=jQuery("#leaderboard");a>=49&&!c&&g.width()<729?(b.addClass("sticky-leaderboard"),jQuery("#leaderboard div").first().addClass("sticky-wrap"),jQuery("#tag-header").addClass("sticky-leaderboard-tag")):a>=49&&d&&g.width()<729?(b.parent().addClass("sticky-height-div"),jQuery("#tag-header").removeClass("sticky-leaderboard-tag"),b.slideUp(500,function(){jQuery("#leaderboard").removeClass("sticky-leaderboard")}),b.fadeTo("slow",0).slideDown(100,function(){b.fadeTo(500,1,function(){b.parent().removeClass("sticky-height-div")})})):(b.removeClass("sticky-leaderboard"),jQuery("#tag-header").removeClass("sticky-leaderboard-tag"))},stickyLeaderboard(),jQuery(window).scroll(function(){b&&stickyLeaderboard()}),checkIfAdRendered=function(){var a=new Date,e=a.getTime()-f;jQuery("div.displayAd728x90Js iframe").length?setTimeout(function(){c=!0,b=!1,d=!0,stickyLeaderboard()},3500):5e3>e?setTimeout(checkIfAdRendered,200):(c=!0,b=!1,d=!0,stickyLeaderboard())},checkIfAdRendered()}}),addDOMLoadEvent=function(){var a,b,c,d,e,f=[],g=function(){for(c=!0,clearInterval(a);d=f.shift();)d();b&&(b.onreadystatechange="")};return function(b){return c?b():(f[0]||(document.addEventListener&&document.addEventListener("DOMContentLoaded",g,!1),/WebKit/i.test(navigator.userAgent)&&(a=setInterval(function(){/loaded|complete/.test(document.readyState)&&g()},10)),e=window.onload,window.onload=function(){g(),e&&e()}),void f.push(b))}}();var cnp=window.cnp||{};cnp.util={},cnp.util.getElements=function(a,b,c){var d,e,f;if(c?"string"==typeof c&&(c=document.getElementById(c)):c=document,b||(b="*"),d=c.getElementsByTagName(b),!a)return d;e=[];for(var g=0;g<d.length;g++)f=d[g],cnp.util.isMember(f,a)&&e.push(f);return e},cnp.util.isMember=function(a,b){var c,d,e;if(c=a.className,!c)return!1;if(c==b)return!0;if(d=/\s+/,!d.test(c))return!1;e=c.split(d);for(var f=0;f<e.length;f++)if(e[f]==b)return!0;return!1},cnp.util.makeElement=function(a){var b,c=a.tagName,d=a.attributes,e=a.children;if(b=document.createElement(c),d)for(var f in d)d.hasOwnProperty(f)&&(b[f]=d[f]);if(e)for(var g=0;g<e.length;g++)b.appendChild(e[g]);return b},cnp.util.isDescendant=function(a,b){if(a&&b){try{for(var c=a.getElementsByTagName(b.nodeName),d=0;d<c.length;d++)if(c[d]==b)return!0}catch(e){}return!1}},cnp.util.getAncestors=function(a){for(var b=new Array;a.parentNode;)1==a.parentNode.nodeType&&b.push(a.parentNode),a=a.parentNode;return b},cnp.util.getOffsetParents=function(a){for(var b=new Array;a.offsetParent;)1==a.offsetParent.nodeType&&b.push(a.offsetParent),a=a.offsetParent;return b},cnp.SelectNavigator=function(a){this.element=a,this.element.onchange=function(){var a=this.options[this.selectedIndex].value;a.match(/http.*/)&&window.open(a)}},addLoadEvent(showSponsorTxt),addLoadEvent(loginStatus);var browserURI=location.pathname,uriLength=browserURI.length,directories=new Array,startSlash=browserURI.indexOf("/"),nextSlash=browserURI.indexOf("/",startSlash+1),lastSlash=browserURI.lastIndexOf("/"),slashCount=0;for(startSlash==lastSlash&&(directories[slashCount]=location.pathname.slice(startSlash+1));startSlash!=lastSlash||-1!=nextSlash;)directories[slashCount]=location.pathname.substring(startSlash+1,nextSlash),lastSlash+1!=uriLength&&(directories[slashCount+1]=browserURI.slice(nextSlash+1)),startSlash=nextSlash,nextSlash=browserURI.indexOf("/",startSlash+1),slashCount++;for(var paths=new Array,firstDir=directories[0],lastDir=directories[directories.length-1],omniHierarchy="",i=0;i<directories.length;i++)omniHierarchy+=directories[i],i!=directories.length-1&&(omniHierarchy+=",");var setPageType="",setProp1="",setProp2="",setProp3="",setProp5="",setProp6="",setProp7="",setProp8="",setProp9="",setEvents="";""==directories[0]&&(setProp6="homepage",omniHierarchy="homepage"),directories.length>=1&&""!=directories[0]&&(setProp6=directories[0]),directories.length>=2&&(setProp7=setProp6+"/"+directories[1]),directories.length>=3&&(setProp8=setProp7+"/"+directories[2]),directories.length>=4&&(setProp9=setProp8+"/"+directories[3]),addLoadEvent(writeMicrosoftAudienceTag);var dartSiteModifier=function(a){var b="",c=/.*\.[\w\.]+\/.*/;return-1!==a.indexOf("ipad")&&(b=".ipad"),{setSite:function(a){return a.match(c)[0].split("/").join(b+"/")}}}(navigator.userAgent.toLowerCase());!function(a){a(document).ready(function(){function b(){j.toggleClass("collapsed expanded");var b=j.attr("class"),c="";b.indexOf("collapsed")>=0?(c="collapsed",a("#post-nav button").attr("title","Expand menu (Press m)").html("Expand")):b.indexOf("expanded")>=0&&(c="expanded",a("#post-nav button").attr("title","Collapse menu (Press m)").html("Collapse")),store.set("wired-post_nav-toggle",c)}function c(){var b=a("#beat-posts").height(),c=a("#elsewhere").height(),d=a("#beat-posts .show").length,g=a("#elsewhere .show").length,h=b/d,i=c/g-2;f=Math.floor((b-c+5*h)/i),e=5}function d(){c();var b=a("#beat-posts .no-show"),d=b.length<5?b.length:e;a("#beat-posts .no-show:lt("+d+")").removeClass("no-show").addClass("show");var g=a("#elsewhere .no-show"),h=g.length<5?g.length:f;a("#elsewhere .no-show:lt("+h+")").removeClass("no-show").addClass("show"),a("#beat-posts .no-show").length<1&&(a("#load-more").remove(),a("#feed-pagination").removeClass("visually-hidden-only"))}var e=0,f=0,g=[],h=!0,i=!1;if((CN.cookie.get("WiredEditor")||document.domain.indexOf("localhost")>=0)&&(a(".entryEdit").show(),CN.debug.info("Enable edit")),a("div.facebook-share-button").length>0&&(fburl="https://graph.facebook.com?id="+window.location.href,a.getJSON(fburl,function(b){if(b.shares){var c,d;switch(!0){case b.shares>999999:d=b.shares/1e6,c=d.toFixed(1)+"m";break;case b.shares>99999:d=Math.round(b.shares/1e3),c=d+"k";break;case b.shares>999:d=b.shares/1e3,c=d.toFixed(1)+"k";break;default:c=b.shares}a(".facebook-share-button div").html(c).animate({opacity:1})}})),a(".sb_facebook-small .facebook-share-button a").on("click",function(){s.linkTrackVars="eVar37,events",s.linkTrackEvents="event34",s.events="event34",s.eVar37="Facebook",s.tl(a(this),"o","Social : "+s.eVar37,null)}),a(".sb_twitter-small a").on("click",function(){s.linkTrackVars="eVar37,events",s.linkTrackEvents="event34",s.events="event34",s.eVar37="Twitter",s.tl(a(this),"o","Social : "+s.eVar37,null)}),a(".sb_google-small .google-share-button a").on("click",function(){s.linkTrackVars="eVar37,events",s.linkTrackEvents="event34",s.events="event34",s.eVar37="Google",s.tl(!0,"o","Social : "+s.eVar37,null)}),a(".sb_linkedin-small a").on("click",function(){s.linkTrackVars="eVar37,events",s.linkTrackEvents="event34",s.events="event34",s.eVar37="LinkedIn",s.tl(a(this),"o","Social : "+s.eVar37,null)}),a(".sb_pinterest-small a").on("click",function(){s.linkTrackVars="eVar37,events",s.linkTrackEvents="event34",s.events="event34",s.eVar37="Pinterest",s.tl(a(this),"o","Social : "+s.eVar37,null)}),a("div.entry").length>0){var j=a("#post-nav"),k=a("div.entry"),l=!1;a(window).scroll(function(){var b=a(window).scrollTop(),c=a(window).height(),d=k.height(),e=k.offset(),f=b+c,g=e.top+d/2,h=e.top+d,i=a("footer").offset().top-b;f>g?j.slideDown("fast").removeClass("hidden").addClass("visible"):j.slideUp("fast").addClass("hidden").removeClass("visible"),f>h&&!l&&(s.linkTrackVars="events",s.linkTrackEvents="event12",s.events="event12",s.tl(!0,"o","Article Bottom",null),l=!0),i>=c?j.css("bottom",0):j.css("bottom",c-i-1)});var m=store.get("wired-post_nav-toggle"),n="";m?n=store.get("wired-post_nav-toggle"):(n="expanded",store.set("wired-post_nav-toggle",n)),j.addClass(n),a("#post-nav a.prev img").attr("title","Previous article (Press Shift + j or Shift + [left arrow])"),a("#post-nav a.next img").attr("title","Next article (Press Shift + k or Shift + [right arrow])"),a("#post-nav button").click(function(){b()}),a(document).keyup(function(c){if(!a(document.activeElement).is("input:text, textarea"))if(c.shiftKey&&74===c.keyCode||c.shiftKey&&37===c.keyCode){var d=a("#post-nav a.prev").attr("href");d&&(window.location.href=d)}else if(c.shiftKey&&75===c.keyCode||c.shiftKey&&39===c.keyCode){var e=a("#post-nav a.next").attr("href");e&&(window.location.href=e)}else if(c.shiftKey&&82===c.keyCode){var f=a("#post-nav a.rand").attr("href");f&&(window.location.href=f)}else 77===c.keyCode&&j.hasClass("visible")&&b()})}a('a[class*="module-"]').click(function(){for(var b=a(this).attr("class").split(/\s+/),c=0;c<b.length;c++){var d=b[c];if(d.indexOf("module-")!==!1){var e="module-",f=d.replace(e,"");store.set("referringModuleName",f)}}}),a("#footer_dropdowns_subscribe, #footer_dropdowns_sites, #footer_dropdowns_international").bind("change",function(){window.open(a(this).val())});var o=CN.cookie.get("amg_user_info");a("#gh_greeting").html(""!==o?'<span class="gh_username">Hi, '+o+'&nbsp;|&nbsp;</span><a href="/user/logout">Sign Out</a>&nbsp;|':'<a href="/user/login">Sign In</a>&nbsp;|'),a("#load-more").click(function(){d()});var p={ajax_loader_image:"/i/ajax-loader.gif",init_glider:function(){a(".category #glider-arrow-left").click(function(){p.glide("left")}),a(".category #glider-arrow-right").click(function(){p.glide("right")}),a(".category #p1-display").mouseover(function(){h=!1}).mouseout(function(){h=!0}),g=a(".category #slider-wrap li"),g.eq(0).addClass("active")},glide:function(b){if(!i&&(b||h)){i=!0;var c=a(".category #slider-wrap li.active"),d=c.next();0===d.length&&(d=a(".category #slider-wrap li:first-child")),"left"===b&&(d=c.prev(),0===d.length&&(d=a(".category #slider-wrap li:last-child"))),c.fadeOut(1e3,function(){c.removeClass("active"),d.addClass("active").fadeIn(1e3,function(){i=!1})})}}};p.init_glider(),setInterval(function(){p.glide(!1)},5e3),a("#tertiary_package").length&&a("#tertiary_package .tab-container a").click(function(b){b.preventDefault(),a("#tertiary_package .tab").addClass("visually-hidden-only"),a(a(this).attr("href")).removeClass("visually-hidden-only"),a("#tertiary_package .tab-container a").removeClass("active"),a(this).addClass("active")})})}(jQuery),function(a){a.fn.hoverIntent=function(b,c,d){var e={interval:100,sensitivity:7,timeout:0};e="object"==typeof b?a.extend(e,b):a.isFunction(c)?a.extend(e,{over:b,out:c,selector:d}):a.extend(e,{over:b,out:b,selector:c});var f,g,h,i,j=function(a){f=a.pageX,g=a.pageY},k=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.abs(h-f)+Math.abs(i-g)<e.sensitivity?(a(c).off("mousemove.hoverIntent",j),c.hoverIntent_s=1,e.over.apply(c,[b])):(h=f,i=g,c.hoverIntent_t=setTimeout(function(){k(b,c)},e.interval),void 0)},l=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,e.out.apply(b,[a])},m=function(b){var c=jQuery.extend({},b),d=this;d.hoverIntent_t&&(d.hoverIntent_t=clearTimeout(d.hoverIntent_t)),"mouseenter"==b.type?(h=c.pageX,i=c.pageY,a(d).on("mousemove.hoverIntent",j),1!=d.hoverIntent_s&&(d.hoverIntent_t=setTimeout(function(){k(c,d)},e.interval))):(a(d).off("mousemove.hoverIntent",j),1==d.hoverIntent_s&&(d.hoverIntent_t=setTimeout(function(){l(c,d)},e.timeout)))};return this.on({"mouseenter.hoverIntent":m,"mouseleave.hoverIntent":m},e.selector)}}(jQuery),function(a){function b(b){var c=a(b),d=c.attr("data-lazy-src");c.hide().removeAttr("data-lazy-src").attr("data-lazy-loaded","true"),b.src=d,c.fadeIn()}var c,d=!1,e=a("#primary-nav"),f=!1,g=!1,h=!1,i=function(){e.addClass("active").parents("#inner-nav").addClass("active"),a("#nav-wrap").addClass("active")},j=function(){e.removeClass("active").find("li").removeClass("active").end().parents("#inner-nav").removeClass("active"),a("#nav-wrap").removeClass("active"),a("#primary-nav li.subscribe").find("#AMS_WIR_GLOBAL_NAVBAR_ROLLOVER").removeClass("active")};if(void 0!==c){var k=null;a("#nav-wrap a.non-js-menu").each(function(){var b=a(this).attr("href");a(this).removeAttr("href").attr("data-tapref",b)}),a("#nav-wrap").find("a.non-js-menu").click(function(){if(k===this){var b=a(this).attr("data-tapref");return a(this).attr("href",b).removeAttr("data-tapref"),!0}return k=this,!0})}a("#nav-wrap").hoverIntent(function(){d||i()},function(){j()}),e.children("li").hoverIntent(function(){f=!0,i(),a("#primary-nav > li").not(this).removeClass("active").find("li").removeClass("active"),a(this).addClass("active"),f===!0&&g===!1&&h===!1&&a(this).find("ul > li:first").addClass("active"),a("#primary-nav > li").filter(this).find("#AMS_WIR_GLOBAL_NAVBAR_ROLLOVER").addClass("active"),a("#primary-nav > li").not(this).find("#AMS_WIR_GLOBAL_NAVBAR_ROLLOVER").removeClass("active"),a(this).find("img[data-lazy-src]").each(function(){b(this)})},function(){f=!1}),a("#primary-nav .subnav > li").each(function(){var b=a(this);a(this).children("ul").css("top",0),a(this).find(".feed-title a").mouseenter(function(){a("#primary-nav .subnav > li").not(b).removeClass("active"),b.addClass("active")})}),a("#primary-nav .subnav").hover(function(){g=!0},function(){g=!1}),a("#primary-nav .subnav > ul").hover(function(){h=!0},function(){h=!1}),a("#global-nav").hover(function(){d=!0,j()},function(){d=!1})}(jQuery);