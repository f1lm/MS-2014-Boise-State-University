function sendPerformanceMetric(){}function sendPerformanceMetric(a,b,c){if(window._pEnabled){if(!c){var d=new Date;c=d-window._pageLoadStart}window._pEvents.push([a,b,c])}}function _pSendEvent(action,optLabel,optValue){"use strict";ga("send","event","Performance",action,optLabel,optValue,{nonInteraction:1});var tempestTracker=ga.getByName("_tempestTracker");"undefined"!=typeof tempestTracker&&"function"==typeof tempestTracker.send&&tempestTracker.send("event","Performance",action,optLabel,optValue,{nonInteraction:1})}!function(window,moduleName){"use strict";var _globals=window.GreenSockGlobals=window.GreenSockGlobals||window;if(!_globals.TweenLite){var a,i,p,_ticker,_tickerActive,_namespace=function(ns){var i,a=ns.split("."),p=_globals;for(i=0;i<a.length;i++)p[a[i]]=p=p[a[i]]||{};return p},gs=_namespace("com.greensock"),_tinyNum=1e-10,_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_emptyFunc=function(){},_isArray=function(){var toString=Object.prototype.toString,array=toString.call([]);return function(obj){return null!=obj&&(obj instanceof Array||"object"==typeof obj&&!!obj.push&&toString.call(obj)===array)}}(),_defLookup={},Definition=function(ns,dependencies,func,global){this.sc=_defLookup[ns]?_defLookup[ns].sc:[],_defLookup[ns]=this,this.gsClass=null,this.func=func;var _classes=[];this.check=function(init){for(var cur,a,n,cl,i=dependencies.length,missing=i;--i>-1;)(cur=_defLookup[dependencies[i]]||new Definition(dependencies[i],[])).gsClass?(_classes[i]=cur.gsClass,missing--):init&&cur.sc.push(this);if(0===missing&&func)for(a=("com.greensock."+ns).split("."),n=a.pop(),cl=_namespace(a.join("."))[n]=this.gsClass=func.apply(func,_classes),global&&(_globals[n]=cl,"function"==typeof define&&define.amd?define((window.GreenSockAMDPath?window.GreenSockAMDPath+"/":"")+ns.split(".").pop(),[],function(){return cl}):ns===moduleName&&"undefined"!=typeof module&&module.exports&&(module.exports=cl)),i=0;i<this.sc.length;i++)this.sc[i].check()},this.check(!0)},_gsDefine=window._gsDefine=function(ns,dependencies,func,global){return new Definition(ns,dependencies,func,global)},_class=gs._class=function(ns,func,global){return func=func||function(){},_gsDefine(ns,[],function(){return func},global),func};_gsDefine.globals=_globals;var _baseParams=[0,0,1,1],_blankArray=[],Ease=_class("easing.Ease",function(func,extraParams,type,power){this._func=func,this._type=type||0,this._power=power||0,this._params=extraParams?_baseParams.concat(extraParams):_baseParams},!0),_easeMap=Ease.map={},_easeReg=Ease.register=function(ease,names,types,create){for(var e,name,j,type,na=names.split(","),i=na.length,ta=(types||"easeIn,easeOut,easeInOut").split(",");--i>-1;)for(name=na[i],e=create?_class("easing."+name,null,!0):gs.easing[name]||{},j=ta.length;--j>-1;)type=ta[j],_easeMap[name+"."+type]=_easeMap[type+name]=e[type]=ease.getRatio?ease:ease[type]||new ease};for(p=Ease.prototype,p._calcEnd=!1,p.getRatio=function(p){if(this._func)return this._params[0]=p,this._func.apply(null,this._params);var t=this._type,pw=this._power,r=1===t?1-p:2===t?p:.5>p?2*p:2*(1-p);return 1===pw?r*=r:2===pw?r*=r*r:3===pw?r*=r*r*r:4===pw&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>p?r/2:1-r/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=a.length;--i>-1;)p=a[i]+",Power"+i,_easeReg(new Ease(null,null,1,i),p,"easeOut",!0),_easeReg(new Ease(null,null,2,i),p,"easeIn"+(0===i?",easeNone":"")),_easeReg(new Ease(null,null,3,i),p,"easeInOut");_easeMap.linear=gs.easing.Linear.easeIn,_easeMap.swing=gs.easing.Quad.easeInOut;var EventDispatcher=_class("events.EventDispatcher",function(target){this._listeners={},this._eventTarget=target||this});p=EventDispatcher.prototype,p.addEventListener=function(type,callback,scope,useParam,priority){priority=priority||0;var listener,i,list=this._listeners[type],index=0;for(null==list&&(this._listeners[type]=list=[]),i=list.length;--i>-1;)listener=list[i],listener.c===callback&&listener.s===scope?list.splice(i,1):0===index&&listener.pr<priority&&(index=i+1);list.splice(index,0,{c:callback,s:scope,up:useParam,pr:priority}),this!==_ticker||_tickerActive||_ticker.wake()},p.removeEventListener=function(type,callback){var i,list=this._listeners[type];if(list)for(i=list.length;--i>-1;)if(list[i].c===callback)return void list.splice(i,1)},p.dispatchEvent=function(type){var i,t,listener,list=this._listeners[type];if(list)for(i=list.length,t=this._eventTarget;--i>-1;)listener=list[i],listener&&(listener.up?listener.c.call(listener.s||t,{type:type,target:t}):listener.c.call(listener.s||t))};var _reqAnimFrame=window.requestAnimationFrame,_cancelAnimFrame=window.cancelAnimationFrame,_getTime=Date.now||function(){return(new Date).getTime()},_lastUpdate=_getTime();for(a=["ms","moz","webkit","o"],i=a.length;--i>-1&&!_reqAnimFrame;)_reqAnimFrame=window[a[i]+"RequestAnimationFrame"],_cancelAnimFrame=window[a[i]+"CancelAnimationFrame"]||window[a[i]+"CancelRequestAnimationFrame"];_class("Ticker",function(fps,useRAF){var _fps,_req,_id,_gap,_nextTime,_self=this,_startTime=_getTime(),_useRAF=useRAF!==!1&&_reqAnimFrame,_lagThreshold=500,_adjustedLag=33,_tick=function(manual){var overlap,dispatch,elapsed=_getTime()-_lastUpdate;elapsed>_lagThreshold&&(_startTime+=elapsed-_adjustedLag),_lastUpdate+=elapsed,_self.time=(_lastUpdate-_startTime)/1e3,overlap=_self.time-_nextTime,(!_fps||overlap>0||manual===!0)&&(_self.frame++,_nextTime+=overlap+(overlap>=_gap?.004:_gap-overlap),dispatch=!0),manual!==!0&&(_id=_req(_tick)),dispatch&&_self.dispatchEvent("tick")};EventDispatcher.call(_self),_self.time=_self.frame=0,_self.tick=function(){_tick(!0)},_self.lagSmoothing=function(threshold,adjustedLag){_lagThreshold=threshold||1/_tinyNum,_adjustedLag=Math.min(adjustedLag,_lagThreshold,0)},_self.sleep=function(){null!=_id&&(_useRAF&&_cancelAnimFrame?_cancelAnimFrame(_id):clearTimeout(_id),_req=_emptyFunc,_id=null,_self===_ticker&&(_tickerActive=!1))},_self.wake=function(){null!==_id?_self.sleep():_self.frame>10&&(_lastUpdate=_getTime()-_lagThreshold+5),_req=0===_fps?_emptyFunc:_useRAF&&_reqAnimFrame?_reqAnimFrame:function(f){return setTimeout(f,1e3*(_nextTime-_self.time)+1|0)},_self===_ticker&&(_tickerActive=!0),_tick(2)},_self.fps=function(value){return arguments.length?(_fps=value,_gap=1/(_fps||60),_nextTime=this.time+_gap,void _self.wake()):_fps},_self.useRAF=function(value){return arguments.length?(_self.sleep(),_useRAF=value,void _self.fps(_fps)):_useRAF},_self.fps(fps),setTimeout(function(){_useRAF&&(!_id||_self.frame<5)&&_self.useRAF(!1)},1500)}),p=gs.Ticker.prototype=new gs.events.EventDispatcher,p.constructor=gs.Ticker;var Animation=_class("core.Animation",function(duration,vars){if(this.vars=vars=vars||{},this._duration=this._totalDuration=duration||0,this._delay=Number(vars.delay)||0,this._timeScale=1,this._active=vars.immediateRender===!0,this.data=vars.data,this._reversed=vars.reversed===!0,_rootTimeline){_tickerActive||_ticker.wake();var tl=this.vars.useFrames?_rootFramesTimeline:_rootTimeline;tl.add(this,tl._time),this.vars.paused&&this.paused(!0)}});_ticker=Animation.ticker=new gs.Ticker,p=Animation.prototype,p._dirty=p._gc=p._initted=p._paused=!1,p._totalTime=p._time=0,p._rawPrevTime=-1,p._next=p._last=p._onUpdate=p._timeline=p.timeline=null,p._paused=!1;var _checkTimeout=function(){_tickerActive&&_getTime()-_lastUpdate>2e3&&_ticker.wake(),setTimeout(_checkTimeout,2e3)};_checkTimeout(),p.play=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.reversed(!1).paused(!1)},p.pause=function(atTime,suppressEvents){return null!=atTime&&this.seek(atTime,suppressEvents),this.paused(!0)},p.resume=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.paused(!1)},p.seek=function(time,suppressEvents){return this.totalTime(Number(time),suppressEvents!==!1)},p.restart=function(includeDelay,suppressEvents){return this.reversed(!1).paused(!1).totalTime(includeDelay?-this._delay:0,suppressEvents!==!1,!0)},p.reverse=function(from,suppressEvents){return null!=from&&this.seek(from||this.totalDuration(),suppressEvents),this.reversed(!0).paused(!1)},p.render=function(){},p.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},p.isActive=function(){var rawTime,tl=this._timeline,startTime=this._startTime;return!tl||!this._gc&&!this._paused&&tl.isActive()&&(rawTime=tl.rawTime())>=startTime&&rawTime<startTime+this.totalDuration()/this._timeScale},p._enabled=function(enabled,ignoreTimeline){return _tickerActive||_ticker.wake(),this._gc=!enabled,this._active=this.isActive(),ignoreTimeline!==!0&&(enabled&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!enabled&&this.timeline&&this._timeline._remove(this,!0)),!1},p._kill=function(){return this._enabled(!1,!1)},p.kill=function(vars,target){return this._kill(vars,target),this},p._uncache=function(includeSelf){for(var tween=includeSelf?this:this.timeline;tween;)tween._dirty=!0,tween=tween.timeline;return this},p._swapSelfInParams=function(params){for(var i=params.length,copy=params.concat();--i>-1;)"{self}"===params[i]&&(copy[i]=this);return copy},p.eventCallback=function(type,callback,params,scope){if("on"===(type||"").substr(0,2)){var v=this.vars;if(1===arguments.length)return v[type];null==callback?delete v[type]:(v[type]=callback,v[type+"Params"]=_isArray(params)&&-1!==params.join("").indexOf("{self}")?this._swapSelfInParams(params):params,v[type+"Scope"]=scope),"onUpdate"===type&&(this._onUpdate=callback)}return this},p.delay=function(value){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+value-this._delay),this._delay=value,this):this._delay},p.duration=function(value){return arguments.length?(this._duration=this._totalDuration=value,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==value&&this.totalTime(this._totalTime*(value/this._duration),!0),this):(this._dirty=!1,this._duration)},p.totalDuration=function(value){return this._dirty=!1,arguments.length?this.duration(value):this._totalDuration},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(value>this._duration?this._duration:value,suppressEvents)):this._time},p.totalTime=function(time,suppressEvents,uncapped){if(_tickerActive||_ticker.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>time&&!uncapped&&(time+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var totalDuration=this._totalDuration,tl=this._timeline;if(time>totalDuration&&!uncapped&&(time=totalDuration),this._startTime=(this._paused?this._pauseTime:tl._time)-(this._reversed?totalDuration-time:time)/this._timeScale,tl._dirty||this._uncache(!1),tl._timeline)for(;tl._timeline;)tl._timeline._time!==(tl._startTime+tl._totalTime)/tl._timeScale&&tl.totalTime(tl._totalTime,!0),tl=tl._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==time||0===this._duration)&&(this.render(time,suppressEvents,!1),_lazyTweens.length&&_lazyRender())}return this},p.progress=p.totalProgress=function(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*value,suppressEvents):this._time/this.duration()},p.startTime=function(value){return arguments.length?(value!==this._startTime&&(this._startTime=value,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,value-this._delay)),this):this._startTime},p.endTime=function(includeRepeats){return this._startTime+(0!=includeRepeats?this.totalDuration():this.duration())/this._timeScale},p.timeScale=function(value){if(!arguments.length)return this._timeScale;if(value=value||_tinyNum,this._timeline&&this._timeline.smoothChildTiming){var pauseTime=this._pauseTime,t=pauseTime||0===pauseTime?pauseTime:this._timeline.totalTime();this._startTime=t-(t-this._startTime)*this._timeScale/value}return this._timeScale=value,this._uncache(!1)},p.reversed=function(value){return arguments.length?(value!=this._reversed&&(this._reversed=value,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},p.paused=function(value){if(!arguments.length)return this._paused;if(value!=this._paused&&this._timeline){_tickerActive||value||_ticker.wake();var tl=this._timeline,raw=tl.rawTime(),elapsed=raw-this._pauseTime;!value&&tl.smoothChildTiming&&(this._startTime+=elapsed,this._uncache(!1)),this._pauseTime=value?raw:null,this._paused=value,this._active=this.isActive(),!value&&0!==elapsed&&this._initted&&this.duration()&&this.render(tl.smoothChildTiming?this._totalTime:(raw-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!value&&this._enabled(!0,!1),this};var SimpleTimeline=_class("core.SimpleTimeline",function(vars){Animation.call(this,0,vars),this.autoRemoveChildren=this.smoothChildTiming=!0});p=SimpleTimeline.prototype=new Animation,p.constructor=SimpleTimeline,p.kill()._gc=!1,p._first=p._last=p._recent=null,p._sortChildren=!1,p.add=p.insert=function(child,position){var prevTween,st;if(child._startTime=Number(position||0)+child._delay,child._paused&&this!==child._timeline&&(child._pauseTime=child._startTime+(this.rawTime()-child._startTime)/child._timeScale),child.timeline&&child.timeline._remove(child,!0),child.timeline=child._timeline=this,child._gc&&child._enabled(!0,!0),prevTween=this._last,this._sortChildren)for(st=child._startTime;prevTween&&prevTween._startTime>st;)prevTween=prevTween._prev;return prevTween?(child._next=prevTween._next,prevTween._next=child):(child._next=this._first,this._first=child),child._next?child._next._prev=child:this._last=child,child._prev=prevTween,this._recent=child,this._timeline&&this._uncache(!0),this},p._remove=function(tween,skipDisable){return tween.timeline===this&&(skipDisable||tween._enabled(!1,!0),tween._prev?tween._prev._next=tween._next:this._first===tween&&(this._first=tween._next),tween._next?tween._next._prev=tween._prev:this._last===tween&&(this._last=tween._prev),tween._next=tween._prev=tween.timeline=null,tween===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},p.render=function(time,suppressEvents,force){var next,tween=this._first;for(this._totalTime=this._time=this._rawPrevTime=time;tween;)next=tween._next,(tween._active||time>=tween._startTime&&!tween._paused)&&(tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next},p.rawTime=function(){return _tickerActive||_ticker.wake(),this._totalTime};var TweenLite=_class("TweenLite",function(target,duration,vars){if(Animation.call(this,duration,vars),this.render=TweenLite.prototype.render,null==target)throw"Cannot tween a null target.";this.target=target="string"!=typeof target?target:TweenLite.selector(target)||target;var i,targ,targets,isSelector=target.jquery||target.length&&target!==window&&target[0]&&(target[0]===window||target[0].nodeType&&target[0].style&&!target.nodeType),overwrite=this.vars.overwrite;if(this._overwrite=overwrite=null==overwrite?_overwriteLookup[TweenLite.defaultOverwrite]:"number"==typeof overwrite?overwrite>>0:_overwriteLookup[overwrite],(isSelector||target instanceof Array||target.push&&_isArray(target))&&"number"!=typeof target[0])for(this._targets=targets=_slice(target),this._propLookup=[],this._siblings=[],i=0;i<targets.length;i++)targ=targets[i],targ?"string"!=typeof targ?targ.length&&targ!==window&&targ[0]&&(targ[0]===window||targ[0].nodeType&&targ[0].style&&!targ.nodeType)?(targets.splice(i--,1),this._targets=targets=targets.concat(_slice(targ))):(this._siblings[i]=_register(targ,this,!1),1===overwrite&&this._siblings[i].length>1&&_applyOverwrite(targ,this,null,1,this._siblings[i])):(targ=targets[i--]=TweenLite.selector(targ),"string"==typeof targ&&targets.splice(i+1,1)):targets.splice(i--,1);else this._propLookup={},this._siblings=_register(target,this,!1),1===overwrite&&this._siblings.length>1&&_applyOverwrite(target,this,null,1,this._siblings);(this.vars.immediateRender||0===duration&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_tinyNum,this.render(-this._delay))},!0),_isSelector=function(v){return v&&v.length&&v!==window&&v[0]&&(v[0]===window||v[0].nodeType&&v[0].style&&!v.nodeType)},_autoCSS=function(vars,target){var p,css={};for(p in vars)_reservedProps[p]||p in target&&"transform"!==p&&"x"!==p&&"y"!==p&&"width"!==p&&"height"!==p&&"className"!==p&&"border"!==p||!(!_plugins[p]||_plugins[p]&&_plugins[p]._autoCSS)||(css[p]=vars[p],delete vars[p]);vars.css=css};p=TweenLite.prototype=new Animation,p.constructor=TweenLite,p.kill()._gc=!1,p.ratio=0,p._firstPT=p._targets=p._overwrittenProps=p._startAt=null,p._notifyPluginsOfEnabled=p._lazy=!1,TweenLite.version="1.14.1",TweenLite.defaultEase=p._ease=new Ease(null,null,1,1),TweenLite.defaultOverwrite="auto",TweenLite.ticker=_ticker,TweenLite.autoSleep=!0,TweenLite.lagSmoothing=function(threshold,adjustedLag){_ticker.lagSmoothing(threshold,adjustedLag)},TweenLite.selector=window.$||window.jQuery||function(e){var selector=window.$||window.jQuery;return selector?(TweenLite.selector=selector,selector(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var _lazyTweens=[],_lazyLookup={},_internals=TweenLite._internals={isArray:_isArray,isSelector:_isSelector,lazyTweens:_lazyTweens},_plugins=TweenLite._plugins={},_tweenLookup=_internals.tweenLookup={},_tweenLookupNum=0,_reservedProps=_internals.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},_overwriteLookup={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},_rootFramesTimeline=Animation._rootFramesTimeline=new SimpleTimeline,_rootTimeline=Animation._rootTimeline=new SimpleTimeline,_lazyRender=_internals.lazyRender=function(){var tween,i=_lazyTweens.length;for(_lazyLookup={};--i>-1;)tween=_lazyTweens[i],tween&&tween._lazy!==!1&&(tween.render(tween._lazy[0],tween._lazy[1],!0),tween._lazy=!1);_lazyTweens.length=0};_rootTimeline._startTime=_ticker.time,_rootFramesTimeline._startTime=_ticker.frame,_rootTimeline._active=_rootFramesTimeline._active=!0,setTimeout(_lazyRender,1),Animation._updateRoot=TweenLite.render=function(){var i,a,p;if(_lazyTweens.length&&_lazyRender(),_rootTimeline.render((_ticker.time-_rootTimeline._startTime)*_rootTimeline._timeScale,!1,!1),_rootFramesTimeline.render((_ticker.frame-_rootFramesTimeline._startTime)*_rootFramesTimeline._timeScale,!1,!1),_lazyTweens.length&&_lazyRender(),!(_ticker.frame%120)){for(p in _tweenLookup){for(a=_tweenLookup[p].tweens,i=a.length;--i>-1;)a[i]._gc&&a.splice(i,1);0===a.length&&delete _tweenLookup[p]}if(p=_rootTimeline._first,(!p||p._paused)&&TweenLite.autoSleep&&!_rootFramesTimeline._first&&1===_ticker._listeners.tick.length){for(;p&&p._paused;)p=p._next;p||_ticker.sleep()}}},_ticker.addEventListener("tick",Animation._updateRoot);var _register=function(target,tween,scrub){var a,i,id=target._gsTweenID;if(_tweenLookup[id||(target._gsTweenID=id="t"+_tweenLookupNum++)]||(_tweenLookup[id]={target:target,tweens:[]}),tween&&(a=_tweenLookup[id].tweens,a[i=a.length]=tween,scrub))for(;--i>-1;)a[i]===tween&&a.splice(i,1);return _tweenLookup[id].tweens},_onOverwrite=function(overwrittenTween,overwritingTween,target,killedProps){var func=overwrittenTween.vars.onOverwrite;func&&func(overwrittenTween,overwritingTween,target,killedProps),func=TweenLite.onOverwrite,func&&func(overwrittenTween,overwritingTween,target,killedProps)},_applyOverwrite=function(target,tween,props,mode,siblings){var i,changed,curTween,l;if(1===mode||mode>=4){for(l=siblings.length,i=0;l>i;i++)if((curTween=siblings[i])!==tween)curTween._gc||(curTween._enabled(!1,!1)&&(changed=!0),_onOverwrite(curTween,tween));else if(5===mode)break;return changed}var globalStart,startTime=tween._startTime+_tinyNum,overlaps=[],oCount=0,zeroDur=0===tween._duration;for(i=siblings.length;--i>-1;)(curTween=siblings[i])===tween||curTween._gc||curTween._paused||(curTween._timeline!==tween._timeline?(globalStart=globalStart||_checkOverlap(tween,0,zeroDur),0===_checkOverlap(curTween,globalStart,zeroDur)&&(overlaps[oCount++]=curTween)):curTween._startTime<=startTime&&curTween._startTime+curTween.totalDuration()/curTween._timeScale>startTime&&((zeroDur||!curTween._initted)&&startTime-curTween._startTime<=2e-10||(overlaps[oCount++]=curTween)));for(i=oCount;--i>-1;)curTween=overlaps[i],2===mode&&curTween._kill(props,target,tween)&&(changed=!0),(2!==mode||!curTween._firstPT&&curTween._initted)&&(curTween._enabled(!1,!1)&&(changed=!0),2!==mode&&_onOverwrite(curTween,tween));return changed},_checkOverlap=function(tween,reference,zeroDur){for(var tl=tween._timeline,ts=tl._timeScale,t=tween._startTime;tl._timeline;){if(t+=tl._startTime,ts*=tl._timeScale,tl._paused)return-100;tl=tl._timeline}return t/=ts,t>reference?t-reference:zeroDur&&t===reference||!tween._initted&&2*_tinyNum>t-reference?_tinyNum:(t+=tween.totalDuration()/tween._timeScale/ts)>reference+_tinyNum?0:t-reference-_tinyNum};p._init=function(){var i,initPlugins,pt,p,startVars,v=this.vars,op=this._overwrittenProps,dur=this._duration,immediate=!!v.immediateRender,ease=v.ease;if(v.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),startVars={};for(p in v.startAt)startVars[p]=v.startAt[p];if(startVars.overwrite=!1,startVars.immediateRender=!0,startVars.lazy=immediate&&v.lazy!==!1,startVars.startAt=startVars.delay=null,this._startAt=TweenLite.to(this.target,0,startVars),immediate)if(this._time>0)this._startAt=null;else if(0!==dur)return}else if(v.runBackwards&&0!==dur)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(immediate=!1),pt={};for(p in v)_reservedProps[p]&&"autoCSS"!==p||(pt[p]=v[p]);if(pt.overwrite=0,pt.data="isFromStart",pt.lazy=immediate&&v.lazy!==!1,pt.immediateRender=immediate,this._startAt=TweenLite.to(this.target,0,pt),immediate){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=ease=ease?ease instanceof Ease?ease:"function"==typeof ease?new Ease(ease,v.easeParams):_easeMap[ease]||TweenLite.defaultEase:TweenLite.defaultEase,v.easeParams instanceof Array&&ease.config&&(this._ease=ease.config.apply(ease,v.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(i=this._targets.length;--i>-1;)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],op?op[i]:null)&&(initPlugins=!0);else initPlugins=this._initProps(this.target,this._propLookup,this._siblings,op);if(initPlugins&&TweenLite._onPluginEvent("_onInitAllProps",this),op&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),v.runBackwards)for(pt=this._firstPT;pt;)pt.s+=pt.c,pt.c=-pt.c,pt=pt._next;this._onUpdate=v.onUpdate,this._initted=!0},p._initProps=function(target,propLookup,siblings,overwrittenProps){var p,i,initPlugins,plugin,pt,v;if(null==target)return!1;_lazyLookup[target._gsTweenID]&&_lazyRender(),this.vars.css||target.style&&target!==window&&target.nodeType&&_plugins.css&&this.vars.autoCSS!==!1&&_autoCSS(this.vars,target);for(p in this.vars){if(v=this.vars[p],_reservedProps[p])v&&(v instanceof Array||v.push&&_isArray(v))&&-1!==v.join("").indexOf("{self}")&&(this.vars[p]=v=this._swapSelfInParams(v,this));else if(_plugins[p]&&(plugin=new _plugins[p])._onInitTween(target,this.vars[p],this)){for(this._firstPT=pt={_next:this._firstPT,t:plugin,p:"setRatio",s:0,c:1,f:!0,n:p,pg:!0,pr:plugin._priority},i=plugin._overwriteProps.length;--i>-1;)propLookup[plugin._overwriteProps[i]]=this._firstPT;(plugin._priority||plugin._onInitAllProps)&&(initPlugins=!0),(plugin._onDisable||plugin._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=propLookup[p]=pt={_next:this._firstPT,t:target,p:p,f:"function"==typeof target[p],n:p,pg:!1,pr:0},pt.s=pt.f?target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]():parseFloat(target[p]),pt.c="string"==typeof v&&"="===v.charAt(1)?parseInt(v.charAt(0)+"1",10)*Number(v.substr(2)):Number(v)-pt.s||0;pt&&pt._next&&(pt._next._prev=pt)}return overwrittenProps&&this._kill(overwrittenProps,target)?this._initProps(target,propLookup,siblings,overwrittenProps):this._overwrite>1&&this._firstPT&&siblings.length>1&&_applyOverwrite(target,this,propLookup,this._overwrite,siblings)?(this._kill(propLookup,target),this._initProps(target,propLookup,siblings,overwrittenProps)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(_lazyLookup[target._gsTweenID]=!0),initPlugins)},p.render=function(time,suppressEvents,force){var isComplete,callback,pt,rawPrevTime,prevTime=this._time,duration=this._duration,prevRawPrevTime=this._rawPrevTime;if(time>=duration)this._totalTime=this._time=duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(isComplete=!0,callback="onComplete"),0===duration&&(this._initted||!this.vars.lazy||force)&&(this._startTime===this._timeline._duration&&(time=0),(0===time||0>prevRawPrevTime||prevRawPrevTime===_tinyNum)&&prevRawPrevTime!==time&&(force=!0,prevRawPrevTime>_tinyNum&&(callback="onReverseComplete")),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum);else if(1e-7>time)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==prevTime||0===duration&&prevRawPrevTime>0&&prevRawPrevTime!==_tinyNum)&&(callback="onReverseComplete",isComplete=this._reversed),0>time&&(this._active=!1,0===duration&&(this._initted||!this.vars.lazy||force)&&(prevRawPrevTime>=0&&(force=!0),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)),this._initted||(force=!0);else if(this._totalTime=this._time=time,this._easeType){var r=time/duration,type=this._easeType,pow=this._easePower;(1===type||3===type&&r>=.5)&&(r=1-r),3===type&&(r*=2),1===pow?r*=r:2===pow?r*=r*r:3===pow?r*=r*r*r:4===pow&&(r*=r*r*r*r),this.ratio=1===type?1-r:2===type?r:.5>time/duration?r/2:1-r/2}else this.ratio=this._ease.getRatio(time/duration);if(this._time!==prevTime||force){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!force&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=prevTime,this._rawPrevTime=prevRawPrevTime,_lazyTweens.push(this),void(this._lazy=[time,suppressEvents]);this._time&&!isComplete?this.ratio=this._ease.getRatio(this._time/duration):isComplete&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==prevTime&&time>=0&&(this._active=!0),0===prevTime&&(this._startAt&&(time>=0?this._startAt.render(time,suppressEvents,force):callback||(callback="_dummyGS")),this.vars.onStart&&(0!==this._time||0===duration)&&(suppressEvents||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||_blankArray))),pt=this._firstPT;pt;)pt.f?pt.t[pt.p](pt.c*this.ratio+pt.s):pt.t[pt.p]=pt.c*this.ratio+pt.s,pt=pt._next;this._onUpdate&&(0>time&&this._startAt&&time!==-1e-4&&this._startAt.render(time,suppressEvents,force),suppressEvents||(this._time!==prevTime||isComplete)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||_blankArray)),callback&&(!this._gc||force)&&(0>time&&this._startAt&&!this._onUpdate&&time!==-1e-4&&this._startAt.render(time,suppressEvents,force),isComplete&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this.vars[callback].apply(this.vars[callback+"Scope"]||this,this.vars[callback+"Params"]||_blankArray),0===duration&&this._rawPrevTime===_tinyNum&&rawPrevTime!==_tinyNum&&(this._rawPrevTime=0))}},p._kill=function(vars,target,overwritingTween){if("all"===vars&&(vars=null),null==vars&&(null==target||target===this.target))return this._lazy=!1,this._enabled(!1,!1);target="string"!=typeof target?target||this._targets||this.target:TweenLite.selector(target)||target;var i,overwrittenProps,p,pt,propLookup,changed,killProps,record,killed;if((_isArray(target)||_isSelector(target))&&"number"!=typeof target[0])for(i=target.length;--i>-1;)this._kill(vars,target[i])&&(changed=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(target===this._targets[i]){propLookup=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],overwrittenProps=this._overwrittenProps[i]=vars?this._overwrittenProps[i]||{}:"all";break}}else{if(target!==this.target)return!1;propLookup=this._propLookup,overwrittenProps=this._overwrittenProps=vars?this._overwrittenProps||{}:"all"}if(propLookup){killProps=vars||propLookup,record=vars!==overwrittenProps&&"all"!==overwrittenProps&&vars!==propLookup&&("object"!=typeof vars||!vars._tempKill);for(p in killProps)(pt=propLookup[p])&&(killed||(killed=[]),killed.push(p),pt.pg&&pt.t._kill(killProps)&&(changed=!0),pt.pg&&0!==pt.t._overwriteProps.length||(pt._prev?pt._prev._next=pt._next:pt===this._firstPT&&(this._firstPT=pt._next),pt._next&&(pt._next._prev=pt._prev),pt._next=pt._prev=null),delete propLookup[p]),record&&(overwrittenProps[p]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1),killed&&overwritingTween&&_onOverwrite(this,overwritingTween,target,killed)}}return changed},p.invalidate=function(){return this._notifyPluginsOfEnabled&&TweenLite._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],Animation.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_tinyNum,this.render(-this._delay)),this},p._enabled=function(enabled,ignoreTimeline){if(_tickerActive||_ticker.wake(),enabled&&this._gc){var i,targets=this._targets;if(targets)for(i=targets.length;--i>-1;)this._siblings[i]=_register(targets[i],this,!0);else this._siblings=_register(this.target,this,!0)}return Animation.prototype._enabled.call(this,enabled,ignoreTimeline),this._notifyPluginsOfEnabled&&this._firstPT?TweenLite._onPluginEvent(enabled?"_onEnable":"_onDisable",this):!1},TweenLite.to=function(target,duration,vars){return new TweenLite(target,duration,vars)},TweenLite.from=function(target,duration,vars){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,new TweenLite(target,duration,vars)},TweenLite.fromTo=function(target,duration,fromVars,toVars){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,new TweenLite(target,duration,toVars)},TweenLite.delayedCall=function(delay,callback,params,scope,useFrames){return new TweenLite(callback,0,{delay:delay,onComplete:callback,onCompleteParams:params,onCompleteScope:scope,onReverseComplete:callback,onReverseCompleteParams:params,onReverseCompleteScope:scope,immediateRender:!1,useFrames:useFrames,overwrite:0})},TweenLite.set=function(target,vars){return new TweenLite(target,0,vars)},TweenLite.getTweensOf=function(target,onlyActive){if(null==target)return[];target="string"!=typeof target?target:TweenLite.selector(target)||target;var i,a,j,t;if((_isArray(target)||_isSelector(target))&&"number"!=typeof target[0]){for(i=target.length,a=[];--i>-1;)a=a.concat(TweenLite.getTweensOf(target[i],onlyActive));
for(i=a.length;--i>-1;)for(t=a[i],j=i;--j>-1;)t===a[j]&&a.splice(i,1)}else for(a=_register(target).concat(),i=a.length;--i>-1;)(a[i]._gc||onlyActive&&!a[i].isActive())&&a.splice(i,1);return a},TweenLite.killTweensOf=TweenLite.killDelayedCallsTo=function(target,onlyActive,vars){"object"==typeof onlyActive&&(vars=onlyActive,onlyActive=!1);for(var a=TweenLite.getTweensOf(target,onlyActive),i=a.length;--i>-1;)a[i]._kill(vars,target)};var TweenPlugin=_class("plugins.TweenPlugin",function(props,priority){this._overwriteProps=(props||"").split(","),this._propName=this._overwriteProps[0],this._priority=priority||0,this._super=TweenPlugin.prototype},!0);if(p=TweenPlugin.prototype,TweenPlugin.version="1.10.1",TweenPlugin.API=2,p._firstPT=null,p._addTween=function(target,prop,start,end,overwriteProp,round){var c,pt;return null!=end&&(c="number"==typeof end||"="!==end.charAt(1)?Number(end)-start:parseInt(end.charAt(0)+"1",10)*Number(end.substr(2)))?(this._firstPT=pt={_next:this._firstPT,t:target,p:prop,s:start,c:c,f:"function"==typeof target[prop],n:overwriteProp||prop,r:round},pt._next&&(pt._next._prev=pt),pt):void 0},p.setRatio=function(v){for(var val,pt=this._firstPT,min=1e-6;pt;)val=pt.c*v+pt.s,pt.r?val=Math.round(val):min>val&&val>-min&&(val=0),pt.f?pt.t[pt.p](val):pt.t[pt.p]=val,pt=pt._next},p._kill=function(lookup){var i,a=this._overwriteProps,pt=this._firstPT;if(null!=lookup[this._propName])this._overwriteProps=[];else for(i=a.length;--i>-1;)null!=lookup[a[i]]&&a.splice(i,1);for(;pt;)null!=lookup[pt.n]&&(pt._next&&(pt._next._prev=pt._prev),pt._prev?(pt._prev._next=pt._next,pt._prev=null):this._firstPT===pt&&(this._firstPT=pt._next)),pt=pt._next;return!1},p._roundProps=function(lookup,value){for(var pt=this._firstPT;pt;)(lookup[this._propName]||null!=pt.n&&lookup[pt.n.split(this._propName+"_").join("")])&&(pt.r=value),pt=pt._next},TweenLite._onPluginEvent=function(type,tween){var changed,pt2,first,last,next,pt=tween._firstPT;if("_onInitAllProps"===type){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}pt=tween._firstPT=first}for(;pt;)pt.pg&&"function"==typeof pt.t[type]&&pt.t[type]()&&(changed=!0),pt=pt._next;return changed},TweenPlugin.activate=function(plugins){for(var i=plugins.length;--i>-1;)plugins[i].API===TweenPlugin.API&&(_plugins[(new plugins[i])._propName]=plugins[i]);return!0},_gsDefine.plugin=function(config){if(!(config&&config.propName&&config.init&&config.API))throw"illegal plugin definition.";var prop,propName=config.propName,priority=config.priority||0,overwriteProps=config.overwriteProps,map={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},Plugin=_class("plugins."+propName.charAt(0).toUpperCase()+propName.substr(1)+"Plugin",function(){TweenPlugin.call(this,propName,priority),this._overwriteProps=overwriteProps||[]},config.global===!0),p=Plugin.prototype=new TweenPlugin(propName);p.constructor=Plugin,Plugin.API=config.API;for(prop in map)"function"==typeof config[prop]&&(p[map[prop]]=config[prop]);return Plugin.version=config.version,TweenPlugin.activate([Plugin]),Plugin},a=window._gsQueue){for(i=0;i<a.length;i++)a[i]();for(p in _defLookup)_defLookup[p].func||window.console.log("GSAP encountered missing dependency: com.greensock."+p)}_tickerActive=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(Animation,SimpleTimeline,TweenLite){var TimelineLite=function(vars){SimpleTimeline.call(this,vars),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var val,p,v=this.vars;for(p in v)val=v[p],_isArray(val)&&-1!==val.join("").indexOf("{self}")&&(v[p]=this._swapSelfInParams(val));_isArray(v.tweens)&&this.add(v.tweens,0,v.align,v.stagger)},_tinyNum=1e-10,TweenLiteInternals=TweenLite._internals,_isSelector=TweenLiteInternals.isSelector,_isArray=TweenLiteInternals.isArray,_lazyTweens=TweenLiteInternals.lazyTweens,_lazyRender=TweenLiteInternals.lazyRender,_blankArray=[],_globals=_gsScope._gsDefine.globals,_copy=function(vars){var p,copy={};for(p in vars)copy[p]=vars[p];return copy},_pauseCallback=function(tween,callback,params,scope){var time=tween._timeline._totalTime;(callback||!this._forcingPlayhead)&&(tween._timeline.pause(tween._startTime),callback&&callback.apply(scope||tween._timeline,params||_blankArray),this._forcingPlayhead&&tween._timeline.seek(time))},_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},p=TimelineLite.prototype=new SimpleTimeline;return TimelineLite.version="1.14.1",p.constructor=TimelineLite,p.kill()._gc=p._forcingPlayhead=!1,p.to=function(target,duration,vars,position){var Engine=vars.repeat&&_globals.TweenMax||TweenLite;return duration?this.add(new Engine(target,duration,vars),position):this.set(target,vars,position)},p.from=function(target,duration,vars,position){return this.add((vars.repeat&&_globals.TweenMax||TweenLite).from(target,duration,vars),position)},p.fromTo=function(target,duration,fromVars,toVars,position){var Engine=toVars.repeat&&_globals.TweenMax||TweenLite;return duration?this.add(Engine.fromTo(target,duration,fromVars,toVars),position):this.set(target,toVars,position)},p.staggerTo=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){var i,tl=new TimelineLite({onComplete:onCompleteAll,onCompleteParams:onCompleteAllParams,onCompleteScope:onCompleteAllScope,smoothChildTiming:this.smoothChildTiming});for("string"==typeof targets&&(targets=TweenLite.selector(targets)||targets),targets=targets||[],_isSelector(targets)&&(targets=_slice(targets)),stagger=stagger||0,0>stagger&&(targets=_slice(targets),targets.reverse(),stagger*=-1),i=0;i<targets.length;i++)vars.startAt&&(vars.startAt=_copy(vars.startAt)),tl.to(targets[i],duration,_copy(vars),i*stagger);return this.add(tl,position)},p.staggerFrom=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return vars.immediateRender=0!=vars.immediateRender,vars.runBackwards=!0,this.staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.staggerFromTo=function(targets,duration,fromVars,toVars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,this.staggerTo(targets,duration,toVars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.call=function(callback,params,scope,position){return this.add(TweenLite.delayedCall(0,callback,params,scope),position)},p.set=function(target,vars,position){return position=this._parseTimeOrLabel(position,0,!0),null==vars.immediateRender&&(vars.immediateRender=position===this._time&&!this._paused),this.add(new TweenLite(target,0,vars),position)},TimelineLite.exportRoot=function(vars,ignoreDelayedCalls){vars=vars||{},null==vars.smoothChildTiming&&(vars.smoothChildTiming=!0);var tween,next,tl=new TimelineLite(vars),root=tl._timeline;for(null==ignoreDelayedCalls&&(ignoreDelayedCalls=!0),root._remove(tl,!0),tl._startTime=0,tl._rawPrevTime=tl._time=tl._totalTime=root._time,tween=root._first;tween;)next=tween._next,ignoreDelayedCalls&&tween instanceof TweenLite&&tween.target===tween.vars.onComplete||tl.add(tween,tween._startTime-tween._delay),tween=next;return root.add(tl,0),tl},p.add=function(value,position,align,stagger){var curTime,l,i,child,tl,beforeRawTime;if("number"!=typeof position&&(position=this._parseTimeOrLabel(position,0,!0,value)),!(value instanceof Animation)){if(value instanceof Array||value&&value.push&&_isArray(value)){for(align=align||"normal",stagger=stagger||0,curTime=position,l=value.length,i=0;l>i;i++)_isArray(child=value[i])&&(child=new TimelineLite({tweens:child})),this.add(child,curTime),"string"!=typeof child&&"function"!=typeof child&&("sequence"===align?curTime=child._startTime+child.totalDuration()/child._timeScale:"start"===align&&(child._startTime-=child.delay())),curTime+=stagger;return this._uncache(!0)}if("string"==typeof value)return this.addLabel(value,position);if("function"!=typeof value)throw"Cannot add "+value+" into the timeline; it is not a tween, timeline, function, or string.";value=TweenLite.delayedCall(0,value)}if(SimpleTimeline.prototype.add.call(this,value,position),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(tl=this,beforeRawTime=tl.rawTime()>value._startTime;tl._timeline;)beforeRawTime&&tl._timeline.smoothChildTiming?tl.totalTime(tl._totalTime,!0):tl._gc&&tl._enabled(!0,!1),tl=tl._timeline;return this},p.remove=function(value){if(value instanceof Animation)return this._remove(value,!1);if(value instanceof Array||value&&value.push&&_isArray(value)){for(var i=value.length;--i>-1;)this.remove(value[i]);return this}return"string"==typeof value?this.removeLabel(value):this.kill(null,value)},p._remove=function(tween,skipDisable){SimpleTimeline.prototype._remove.call(this,tween,skipDisable);var last=this._last;return last?this._time>last._startTime+last._totalDuration/last._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(value,offsetOrLabel){return this.add(value,this._parseTimeOrLabel(null,offsetOrLabel,!0,value))},p.insert=p.insertMultiple=function(value,position,align,stagger){return this.add(value,position||0,align,stagger)},p.appendMultiple=function(tweens,offsetOrLabel,align,stagger){return this.add(tweens,this._parseTimeOrLabel(null,offsetOrLabel,!0,tweens),align,stagger)},p.addLabel=function(label,position){return this._labels[label]=this._parseTimeOrLabel(position),this},p.addPause=function(position,callback,params,scope){return this.call(_pauseCallback,["{self}",callback,params,scope],this,position)},p.removeLabel=function(label){return delete this._labels[label],this},p.getLabelTime=function(label){return null!=this._labels[label]?this._labels[label]:-1},p._parseTimeOrLabel=function(timeOrLabel,offsetOrLabel,appendIfAbsent,ignore){var i;if(ignore instanceof Animation&&ignore.timeline===this)this.remove(ignore);else if(ignore&&(ignore instanceof Array||ignore.push&&_isArray(ignore)))for(i=ignore.length;--i>-1;)ignore[i]instanceof Animation&&ignore[i].timeline===this&&this.remove(ignore[i]);if("string"==typeof offsetOrLabel)return this._parseTimeOrLabel(offsetOrLabel,appendIfAbsent&&"number"==typeof timeOrLabel&&null==this._labels[offsetOrLabel]?timeOrLabel-this.duration():0,appendIfAbsent);if(offsetOrLabel=offsetOrLabel||0,"string"!=typeof timeOrLabel||!isNaN(timeOrLabel)&&null==this._labels[timeOrLabel])null==timeOrLabel&&(timeOrLabel=this.duration());else{if(i=timeOrLabel.indexOf("="),-1===i)return null==this._labels[timeOrLabel]?appendIfAbsent?this._labels[timeOrLabel]=this.duration()+offsetOrLabel:offsetOrLabel:this._labels[timeOrLabel]+offsetOrLabel;offsetOrLabel=parseInt(timeOrLabel.charAt(i-1)+"1",10)*Number(timeOrLabel.substr(i+1)),timeOrLabel=i>1?this._parseTimeOrLabel(timeOrLabel.substr(0,i-1),0,appendIfAbsent):this.duration()}return Number(timeOrLabel)+offsetOrLabel},p.seek=function(position,suppressEvents){return this.totalTime("number"==typeof position?position:this._parseTimeOrLabel(position),suppressEvents!==!1)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(position,suppressEvents){return this.play(position,suppressEvents)},p.gotoAndStop=function(position,suppressEvents){return this.pause(position,suppressEvents)},p.render=function(time,suppressEvents,force){this._gc&&this._enabled(!0,!1);var tween,isComplete,next,callback,internalForce,totalDur=this._dirty?this.totalDuration():this._totalDuration,prevTime=this._time,prevStart=this._startTime,prevTimeScale=this._timeScale,prevPaused=this._paused;if(time>=totalDur?(this._totalTime=this._time=totalDur,this._reversed||this._hasPausedChild()||(isComplete=!0,callback="onComplete",0===this._duration&&(0===time||this._rawPrevTime<0||this._rawPrevTime===_tinyNum)&&this._rawPrevTime!==time&&this._first&&(internalForce=!0,this._rawPrevTime>_tinyNum&&(callback="onReverseComplete"))),this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,time=totalDur+1e-4):1e-7>time?(this._totalTime=this._time=0,(0!==prevTime||0===this._duration&&this._rawPrevTime!==_tinyNum&&(this._rawPrevTime>0||0>time&&this._rawPrevTime>=0))&&(callback="onReverseComplete",isComplete=this._reversed),0>time?(this._active=!1,this._rawPrevTime>=0&&this._first&&(internalForce=!0),this._rawPrevTime=time):(this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,time=0,this._initted||(internalForce=!0))):this._totalTime=this._time=this._rawPrevTime=time,this._time!==prevTime&&this._first||force||internalForce){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==prevTime&&time>0&&(this._active=!0),0===prevTime&&this.vars.onStart&&0!==this._time&&(suppressEvents||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||_blankArray)),this._time>=prevTime)for(tween=this._first;tween&&(next=tween._next,!this._paused||prevPaused);)(tween._active||tween._startTime<=this._time&&!tween._paused&&!tween._gc)&&(tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;else for(tween=this._last;tween&&(next=tween._prev,!this._paused||prevPaused);)(tween._active||tween._startTime<=prevTime&&!tween._paused&&!tween._gc)&&(tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;this._onUpdate&&(suppressEvents||(_lazyTweens.length&&_lazyRender(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||_blankArray))),callback&&(this._gc||(prevStart===this._startTime||prevTimeScale!==this._timeScale)&&(0===this._time||totalDur>=this.totalDuration())&&(isComplete&&(_lazyTweens.length&&_lazyRender(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this.vars[callback].apply(this.vars[callback+"Scope"]||this,this.vars[callback+"Params"]||_blankArray)))}},p._hasPausedChild=function(){for(var tween=this._first;tween;){if(tween._paused||tween instanceof TimelineLite&&tween._hasPausedChild())return!0;tween=tween._next}return!1},p.getChildren=function(nested,tweens,timelines,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||-9999999999;for(var a=[],tween=this._first,cnt=0;tween;)tween._startTime<ignoreBeforeTime||(tween instanceof TweenLite?tweens!==!1&&(a[cnt++]=tween):(timelines!==!1&&(a[cnt++]=tween),nested!==!1&&(a=a.concat(tween.getChildren(!0,tweens,timelines)),cnt=a.length))),tween=tween._next;return a},p.getTweensOf=function(target,nested){var tweens,i,disabled=this._gc,a=[],cnt=0;for(disabled&&this._enabled(!0,!0),tweens=TweenLite.getTweensOf(target),i=tweens.length;--i>-1;)(tweens[i].timeline===this||nested&&this._contains(tweens[i]))&&(a[cnt++]=tweens[i]);return disabled&&this._enabled(!1,!0),a},p.recent=function(){return this._recent},p._contains=function(tween){for(var tl=tween.timeline;tl;){if(tl===this)return!0;tl=tl.timeline}return!1},p.shiftChildren=function(amount,adjustLabels,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||0;for(var p,tween=this._first,labels=this._labels;tween;)tween._startTime>=ignoreBeforeTime&&(tween._startTime+=amount),tween=tween._next;if(adjustLabels)for(p in labels)labels[p]>=ignoreBeforeTime&&(labels[p]+=amount);return this._uncache(!0)},p._kill=function(vars,target){if(!vars&&!target)return this._enabled(!1,!1);for(var tweens=target?this.getTweensOf(target):this.getChildren(!0,!0,!1),i=tweens.length,changed=!1;--i>-1;)tweens[i]._kill(vars,target)&&(changed=!0);return changed},p.clear=function(labels){var tweens=this.getChildren(!1,!0,!0),i=tweens.length;for(this._time=this._totalTime=0;--i>-1;)tweens[i]._enabled(!1,!1);return labels!==!1&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var tween=this._first;tween;)tween.invalidate(),tween=tween._next;return Animation.prototype.invalidate.call(this)},p._enabled=function(enabled,ignoreTimeline){if(enabled===this._gc)for(var tween=this._first;tween;)tween._enabled(enabled,!0),tween=tween._next;return SimpleTimeline.prototype._enabled.call(this,enabled,ignoreTimeline)},p.totalTime=function(){this._forcingPlayhead=!0;var val=Animation.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,val},p.duration=function(value){return arguments.length?(0!==this.duration()&&0!==value&&this.timeScale(this._duration/value),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(value){if(!arguments.length){if(this._dirty){for(var prev,end,max=0,tween=this._last,prevStart=999999999999;tween;)prev=tween._prev,tween._dirty&&tween.totalDuration(),tween._startTime>prevStart&&this._sortChildren&&!tween._paused?this.add(tween,tween._startTime-tween._delay):prevStart=tween._startTime,tween._startTime<0&&!tween._paused&&(max-=tween._startTime,this._timeline.smoothChildTiming&&(this._startTime+=tween._startTime/this._timeScale),this.shiftChildren(-tween._startTime,!1,-9999999999),prevStart=0),end=tween._startTime+tween._totalDuration/tween._timeScale,end>max&&(max=end),tween=prev;this._duration=this._totalDuration=max,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==value&&this.timeScale(this._totalDuration/value),this},p.usesFrames=function(){for(var tl=this._timeline;tl._timeline;)tl=tl._timeline;return tl===Animation._rootFramesTimeline},p.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},TimelineLite},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(name){"use strict";var getGlobal=function(){return(_gsScope.GreenSockGlobals||_gsScope)[name]};"function"==typeof define&&define.amd?define(["TweenLite"],getGlobal):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=getGlobal())}("TimelineLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(TweenPlugin,TweenLite){var _hasPriority,_suffixMap,_cs,_overwriteProps,CSSPlugin=function(){TweenPlugin.call(this,"css"),this._overwriteProps.length=0,this.setRatio=CSSPlugin.prototype.setRatio},_specialProps={},p=CSSPlugin.prototype=new TweenPlugin("css");p.constructor=CSSPlugin,CSSPlugin.version="1.14.1",CSSPlugin.API=2,CSSPlugin.defaultTransformPerspective=0,CSSPlugin.defaultSkewType="compensated",p="px",CSSPlugin.suffixMap={top:p,right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var _autoRound,_reqSafariFix,_isSafari,_isFirefox,_isSafariLT6,_ieVers,_numExp=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_relNumExp=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_valuesExp=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_NaNExp=/[^\d\-\.]/g,_suffixExp=/(?:\d|\-|\+|=|#|\.)*/g,_opacityExp=/opacity *= *([^)]*)/i,_opacityValExp=/opacity:([^;]*)/i,_alphaFilterExp=/alpha\(opacity *=.+?\)/i,_rgbhslExp=/^(rgb|hsl)/,_capsExp=/([A-Z])/g,_camelExp=/-([a-z])/gi,_urlExp=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,_camelFunc=function(s,g){return g.toUpperCase()},_horizExp=/(?:Left|Right|Width)/i,_ieGetMatrixExp=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,_ieSetMatrixExp=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,_commasOutsideParenExp=/,(?=[^\)]*(?:\(|$))/gi,_DEG2RAD=Math.PI/180,_RAD2DEG=180/Math.PI,_forcePT={},_doc=document,_tempDiv=(_doc.documentElement,_doc.createElement("div")),_tempImg=_doc.createElement("img"),_internals=CSSPlugin._internals={_specialProps:_specialProps},_agent=navigator.userAgent,_supportsOpacity=function(){var a,i=_agent.indexOf("Android"),d=_doc.createElement("div");return _isSafari=-1!==_agent.indexOf("Safari")&&-1===_agent.indexOf("Chrome")&&(-1===i||Number(_agent.substr(i+8,1))>3),_isSafariLT6=_isSafari&&Number(_agent.substr(_agent.indexOf("Version/")+8,1))<6,_isFirefox=-1!==_agent.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_agent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_agent))&&(_ieVers=parseFloat(RegExp.$1)),d.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",a=d.getElementsByTagName("a")[0],a?/^0.55/.test(a.style.opacity):!1}(),_getIEOpacity=function(v){return _opacityExp.test("string"==typeof v?v:(v.currentStyle?v.currentStyle.filter:v.style.filter)||"")?parseFloat(RegExp.$1)/100:1},_log=function(s){window.console&&console.log(s)},_prefixCSS="",_prefix="",_checkPropPrefix=function(p,e){e=e||_tempDiv;var a,i,s=e.style;if(void 0!==s[p])return p;for(p=p.charAt(0).toUpperCase()+p.substr(1),a=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===s[a[i]+p];);return i>=0?(_prefix=3===i?"ms":a[i],_prefixCSS="-"+_prefix.toLowerCase()+"-",_prefix+p):null},_getComputedStyle=_doc.defaultView?_doc.defaultView.getComputedStyle:function(){},_getStyle=CSSPlugin.getStyle=function(t,p,cs,calc,dflt){var rv;return _supportsOpacity||"opacity"!==p?(!calc&&t.style[p]?rv=t.style[p]:(cs=cs||_getComputedStyle(t))?rv=cs[p]||cs.getPropertyValue(p)||cs.getPropertyValue(p.replace(_capsExp,"-$1").toLowerCase()):t.currentStyle&&(rv=t.currentStyle[p]),null==dflt||rv&&"none"!==rv&&"auto"!==rv&&"auto auto"!==rv?rv:dflt):_getIEOpacity(t)},_convertToPixels=_internals.convertToPixels=function(t,p,v,sfx,recurse){if("px"===sfx||!sfx)return v;if("auto"===sfx||!v)return 0;var pix,cache,time,horiz=_horizExp.test(p),node=t,style=_tempDiv.style,neg=0>v;if(neg&&(v=-v),"%"===sfx&&-1!==p.indexOf("border"))pix=v/100*(horiz?t.clientWidth:t.clientHeight);else{if(style.cssText="border:0 solid red;position:"+_getStyle(t,"position")+";line-height:0;","%"!==sfx&&node.appendChild)style[horiz?"borderLeftWidth":"borderTopWidth"]=v+sfx;else{if(node=t.parentNode||_doc.body,cache=node._gsCache,time=TweenLite.ticker.frame,cache&&horiz&&cache.time===time)return cache.width*v/100;style[horiz?"width":"height"]=v+sfx}node.appendChild(_tempDiv),pix=parseFloat(_tempDiv[horiz?"offsetWidth":"offsetHeight"]),node.removeChild(_tempDiv),horiz&&"%"===sfx&&CSSPlugin.cacheWidths!==!1&&(cache=node._gsCache=node._gsCache||{},cache.time=time,cache.width=pix/v*100),0!==pix||recurse||(pix=_convertToPixels(t,p,v,sfx,!0))}return neg?-pix:pix},_calculateOffset=_internals.calculateOffset=function(t,p,cs){if("absolute"!==_getStyle(t,"position",cs))return 0;var dim="left"===p?"Left":"Top",v=_getStyle(t,"margin"+dim,cs);return t["offset"+dim]-(_convertToPixels(t,p,parseFloat(v),v.replace(_suffixExp,""))||0)},_getAllStyles=function(t,cs){var i,tr,s={};if(cs=cs||_getComputedStyle(t,null))if(i=cs.length)for(;--i>-1;)s[cs[i].replace(_camelExp,_camelFunc)]=cs.getPropertyValue(cs[i]);else for(i in cs)s[i]=cs[i];else if(cs=t.currentStyle||t.style)for(i in cs)"string"==typeof i&&void 0===s[i]&&(s[i.replace(_camelExp,_camelFunc)]=cs[i]);return _supportsOpacity||(s.opacity=_getIEOpacity(t)),tr=_getTransform(t,cs,!1),s.rotation=tr.rotation,s.skewX=tr.skewX,s.scaleX=tr.scaleX,s.scaleY=tr.scaleY,s.x=tr.x,s.y=tr.y,_supports3D&&(s.z=tr.z,s.rotationX=tr.rotationX,s.rotationY=tr.rotationY,s.scaleZ=tr.scaleZ),s.filters&&delete s.filters,s},_cssDif=function(t,s1,s2,vars,forceLookup){var val,p,mpt,difs={},style=t.style;for(p in s2)"cssText"!==p&&"length"!==p&&isNaN(p)&&(s1[p]!==(val=s2[p])||forceLookup&&forceLookup[p])&&-1===p.indexOf("Origin")&&("number"==typeof val||"string"==typeof val)&&(difs[p]="auto"!==val||"left"!==p&&"top"!==p?""!==val&&"auto"!==val&&"none"!==val||"string"!=typeof s1[p]||""===s1[p].replace(_NaNExp,"")?val:0:_calculateOffset(t,p),void 0!==style[p]&&(mpt=new MiniPropTween(style,p,style[p],mpt)));if(vars)for(p in vars)"className"!==p&&(difs[p]=vars[p]);return{difs:difs,firstMPT:mpt}},_dimensions={width:["Left","Right"],height:["Top","Bottom"]},_margins=["marginLeft","marginRight","marginTop","marginBottom"],_getDimension=function(t,p,cs){var v=parseFloat("width"===p?t.offsetWidth:t.offsetHeight),a=_dimensions[p],i=a.length;for(cs=cs||_getComputedStyle(t,null);--i>-1;)v-=parseFloat(_getStyle(t,"padding"+a[i],cs,!0))||0,v-=parseFloat(_getStyle(t,"border"+a[i]+"Width",cs,!0))||0;return v},_parsePosition=function(v,recObj){(null==v||""===v||"auto"===v||"auto auto"===v)&&(v="0 0");var a=v.split(" "),x=-1!==v.indexOf("left")?"0%":-1!==v.indexOf("right")?"100%":a[0],y=-1!==v.indexOf("top")?"0%":-1!==v.indexOf("bottom")?"100%":a[1];return null==y?y="0":"center"===y&&(y="50%"),("center"===x||isNaN(parseFloat(x))&&-1===(x+"").indexOf("="))&&(x="50%"),recObj&&(recObj.oxp=-1!==x.indexOf("%"),recObj.oyp=-1!==y.indexOf("%"),recObj.oxr="="===x.charAt(1),recObj.oyr="="===y.charAt(1),recObj.ox=parseFloat(x.replace(_NaNExp,"")),recObj.oy=parseFloat(y.replace(_NaNExp,""))),x+" "+y+(a.length>2?" "+a[2]:"")},_parseChange=function(e,b){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(b)},_parseVal=function(v,d){return null==v?d:"string"==typeof v&&"="===v.charAt(1)?parseInt(v.charAt(0)+"1",10)*parseFloat(v.substr(2))+d:parseFloat(v)},_parseAngle=function(v,d,p,directionalEnd){var cap,split,dif,result,min=1e-6;return null==v?result=d:"number"==typeof v?result=v:(cap=360,split=v.split("_"),dif=Number(split[0].replace(_NaNExp,""))*(-1===v.indexOf("rad")?1:_RAD2DEG)-("="===v.charAt(1)?0:d),split.length&&(directionalEnd&&(directionalEnd[p]=d+dif),-1!==v.indexOf("short")&&(dif%=cap,dif!==dif%(cap/2)&&(dif=0>dif?dif+cap:dif-cap)),-1!==v.indexOf("_cw")&&0>dif?dif=(dif+9999999999*cap)%cap-(dif/cap|0)*cap:-1!==v.indexOf("ccw")&&dif>0&&(dif=(dif-9999999999*cap)%cap-(dif/cap|0)*cap)),result=d+dif),min>result&&result>-min&&(result=0),result},_colorLookup={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},_hue=function(h,m1,m2){return h=0>h?h+1:h>1?h-1:h,255*(1>6*h?m1+(m2-m1)*h*6:.5>h?m2:2>3*h?m1+(m2-m1)*(2/3-h)*6:m1)+.5|0},_parseColor=function(v){var c1,c2,c3,h,s,l;return v&&""!==v?"number"==typeof v?[v>>16,v>>8&255,255&v]:(","===v.charAt(v.length-1)&&(v=v.substr(0,v.length-1)),_colorLookup[v]?_colorLookup[v]:"#"===v.charAt(0)?(4===v.length&&(c1=v.charAt(1),c2=v.charAt(2),c3=v.charAt(3),v="#"+c1+c1+c2+c2+c3+c3),v=parseInt(v.substr(1),16),[v>>16,v>>8&255,255&v]):"hsl"===v.substr(0,3)?(v=v.match(_numExp),h=Number(v[0])%360/360,s=Number(v[1])/100,l=Number(v[2])/100,c2=.5>=l?l*(s+1):l+s-l*s,c1=2*l-c2,v.length>3&&(v[3]=Number(v[3])),v[0]=_hue(h+1/3,c1,c2),v[1]=_hue(h,c1,c2),v[2]=_hue(h-1/3,c1,c2),v):(v=v.match(_numExp)||_colorLookup.transparent,v[0]=Number(v[0]),v[1]=Number(v[1]),v[2]=Number(v[2]),v.length>3&&(v[3]=Number(v[3])),v)):_colorLookup.black},_colorExp="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(p in _colorLookup)_colorExp+="|"+p+"\\b";_colorExp=new RegExp(_colorExp+")","gi");var _getFormatter=function(dflt,clr,collapsible,multi){if(null==dflt)return function(v){return v};var formatter,dColor=clr?(dflt.match(_colorExp)||[""])[0]:"",dVals=dflt.split(dColor).join("").match(_valuesExp)||[],pfx=dflt.substr(0,dflt.indexOf(dVals[0])),sfx=")"===dflt.charAt(dflt.length-1)?")":"",delim=-1!==dflt.indexOf(" ")?" ":",",numVals=dVals.length,dSfx=numVals>0?dVals[0].replace(_numExp,""):"";return numVals?formatter=clr?function(v){var color,vals,i,a;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(color=(v.match(_colorExp)||[dColor])[0],vals=v.split(color).join("").match(_valuesExp)||[],i=vals.length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return pfx+vals.join(delim)+delim+color+sfx+(-1!==v.indexOf("inset")?" inset":"")}:function(v){var vals,a,i;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(vals=v.match(_valuesExp)||[],i=vals.length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return pfx+vals.join(delim)+sfx}:function(v){return v}},_getEdgeParser=function(props){return props=props.split(","),function(t,e,p,cssp,pt,plugin,vars){var i,a=(e+"").split(" ");for(vars={},i=0;4>i;i++)vars[props[i]]=a[i]=a[i]||a[(i-1)/2>>0];return cssp.parse(t,vars,pt,plugin)}},MiniPropTween=(_internals._setPluginRatio=function(v){this.plugin.setRatio(v);for(var val,pt,i,str,d=this.data,proxy=d.proxy,mpt=d.firstMPT,min=1e-6;mpt;)val=proxy[mpt.v],mpt.r?val=Math.round(val):min>val&&val>-min&&(val=0),mpt.t[mpt.p]=val,mpt=mpt._next;if(d.autoRotate&&(d.autoRotate.rotation=proxy.rotation),1===v)for(mpt=d.firstMPT;mpt;){if(pt=mpt.t,pt.type){if(1===pt.type){for(str=pt.xs0+pt.s+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.e=str}}else pt.e=pt.s+pt.xs0;mpt=mpt._next}},function(t,p,v,next,r){this.t=t,this.p=p,this.v=v,this.r=r,next&&(next._prev=this,this._next=next)}),CSSPropTween=(_internals._parseToProxy=function(t,vars,cssp,pt,plugin,shallow){var i,p,xp,mpt,firstPT,bpt=pt,start={},end={},transform=cssp._transform,oldForce=_forcePT;for(cssp._transform=null,_forcePT=vars,pt=firstPT=cssp.parse(t,vars,pt,plugin),_forcePT=oldForce,shallow&&(cssp._transform=transform,bpt&&(bpt._prev=null,bpt._prev&&(bpt._prev._next=null)));pt&&pt!==bpt;){if(pt.type<=1&&(p=pt.p,end[p]=pt.s+pt.c,start[p]=pt.s,shallow||(mpt=new MiniPropTween(pt,"s",p,mpt,pt.r),pt.c=0),1===pt.type))for(i=pt.l;--i>0;)xp="xn"+i,p=pt.p+"_"+xp,end[p]=pt.data[xp],start[p]=pt[xp],shallow||(mpt=new MiniPropTween(pt,xp,p,mpt,pt.rxp[xp]));pt=pt._next}return{proxy:start,end:end,firstMPT:mpt,pt:firstPT}},_internals.CSSPropTween=function(t,p,s,c,next,type,n,r,pr,b,e){this.t=t,this.p=p,this.s=s,this.c=c,this.n=n||p,t instanceof CSSPropTween||_overwriteProps.push(this.n),this.r=r,this.type=type||0,pr&&(this.pr=pr,_hasPriority=!0),this.b=void 0===b?s:b,this.e=void 0===e?s+c:e,next&&(this._next=next,next._prev=this)}),_parseComplex=CSSPlugin.parseComplex=function(t,p,b,e,clrs,dflt,pt,pr,plugin,setRatio){b=b||dflt||"",pt=new CSSPropTween(t,p,0,0,pt,setRatio?2:1,null,!1,pr,b,e),e+="";var i,xi,ni,bv,ev,bnums,enums,bn,rgba,temp,cv,str,ba=b.split(", ").join(",").split(" "),ea=e.split(", ").join(",").split(" "),l=ba.length,autoRound=_autoRound!==!1;for((-1!==e.indexOf(",")||-1!==b.indexOf(","))&&(ba=ba.join(" ").replace(_commasOutsideParenExp,", ").split(" "),ea=ea.join(" ").replace(_commasOutsideParenExp,", ").split(" "),l=ba.length),l!==ea.length&&(ba=(dflt||"").split(" "),l=ba.length),pt.plugin=plugin,pt.setRatio=setRatio,i=0;l>i;i++)if(bv=ba[i],ev=ea[i],bn=parseFloat(bv),bn||0===bn)pt.appendXtra("",bn,_parseChange(ev,bn),ev.replace(_relNumExp,""),autoRound&&-1!==ev.indexOf("px"),!0);else if(clrs&&("#"===bv.charAt(0)||_colorLookup[bv]||_rgbhslExp.test(bv)))str=","===ev.charAt(ev.length-1)?"),":")",bv=_parseColor(bv),ev=_parseColor(ev),rgba=bv.length+ev.length>6,rgba&&!_supportsOpacity&&0===ev[3]?(pt["xs"+pt.l]+=pt.l?" transparent":"transparent",pt.e=pt.e.split(ea[i]).join("transparent")):(_supportsOpacity||(rgba=!1),pt.appendXtra(rgba?"rgba(":"rgb(",bv[0],ev[0]-bv[0],",",!0,!0).appendXtra("",bv[1],ev[1]-bv[1],",",!0).appendXtra("",bv[2],ev[2]-bv[2],rgba?",":str,!0),rgba&&(bv=bv.length<4?1:bv[3],pt.appendXtra("",bv,(ev.length<4?1:ev[3])-bv,str,!1)));
else if(bnums=bv.match(_numExp)){if(enums=ev.match(_relNumExp),!enums||enums.length!==bnums.length)return pt;for(ni=0,xi=0;xi<bnums.length;xi++)cv=bnums[xi],temp=bv.indexOf(cv,ni),pt.appendXtra(bv.substr(ni,temp-ni),Number(cv),_parseChange(enums[xi],cv),"",autoRound&&"px"===bv.substr(temp+cv.length,2),0===xi),ni=temp+cv.length;pt["xs"+pt.l]+=bv.substr(ni)}else pt["xs"+pt.l]+=pt.l?" "+bv:bv;if(-1!==e.indexOf("=")&&pt.data){for(str=pt.xs0+pt.data.s,i=1;i<pt.l;i++)str+=pt["xs"+i]+pt.data["xn"+i];pt.e=str+pt["xs"+i]}return pt.l||(pt.type=-1,pt.xs0=pt.e),pt.xfirst||pt},i=9;for(p=CSSPropTween.prototype,p.l=p.pr=0;--i>0;)p["xn"+i]=0,p["xs"+i]="";p.xs0="",p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null,p.appendXtra=function(pfx,s,c,sfx,r,pad){var pt=this,l=pt.l;return pt["xs"+l]+=pad&&l?" "+pfx:pfx||"",c||0===l||pt.plugin?(pt.l++,pt.type=pt.setRatio?2:1,pt["xs"+pt.l]=sfx||"",l>0?(pt.data["xn"+l]=s+c,pt.rxp["xn"+l]=r,pt["xn"+l]=s,pt.plugin||(pt.xfirst=new CSSPropTween(pt,"xn"+l,s,c,pt.xfirst||pt,0,pt.n,r,pt.pr),pt.xfirst.xs0=0),pt):(pt.data={s:s+c},pt.rxp={},pt.s=s,pt.c=c,pt.r=r,pt)):(pt["xs"+l]+=s+(sfx||""),pt)};var SpecialProp=function(p,options){options=options||{},this.p=options.prefix?_checkPropPrefix(p)||p:p,_specialProps[p]=_specialProps[this.p]=this,this.format=options.formatter||_getFormatter(options.defaultValue,options.color,options.collapsible,options.multi),options.parser&&(this.parse=options.parser),this.clrs=options.color,this.multi=options.multi,this.keyword=options.keyword,this.dflt=options.defaultValue,this.pr=options.priority||0},_registerComplexSpecialProp=_internals._registerComplexSpecialProp=function(p,options,defaults){"object"!=typeof options&&(options={parser:defaults});var i,temp,a=p.split(","),d=options.defaultValue;for(defaults=defaults||[d],i=0;i<a.length;i++)options.prefix=0===i&&options.prefix,options.defaultValue=defaults[i]||d,temp=new SpecialProp(a[i],options)},_registerPluginProp=function(p){if(!_specialProps[p]){var pluginName=p.charAt(0).toUpperCase()+p.substr(1)+"Plugin";_registerComplexSpecialProp(p,{parser:function(t,e,p,cssp,pt,plugin,vars){var pluginClass=(_gsScope.GreenSockGlobals||_gsScope).com.greensock.plugins[pluginName];return pluginClass?(pluginClass._cssRegister(),_specialProps[p].parse(t,e,p,cssp,pt,plugin,vars)):(_log("Error: "+pluginName+" js file not loaded."),pt)}})}};p=SpecialProp.prototype,p.parseComplex=function(t,b,e,pt,plugin,setRatio){var i,ba,ea,l,bi,ei,kwd=this.keyword;if(this.multi&&(_commasOutsideParenExp.test(e)||_commasOutsideParenExp.test(b)?(ba=b.replace(_commasOutsideParenExp,"|").split("|"),ea=e.replace(_commasOutsideParenExp,"|").split("|")):kwd&&(ba=[b],ea=[e])),ea){for(l=ea.length>ba.length?ea.length:ba.length,i=0;l>i;i++)b=ba[i]=ba[i]||this.dflt,e=ea[i]=ea[i]||this.dflt,kwd&&(bi=b.indexOf(kwd),ei=e.indexOf(kwd),bi!==ei&&(e=-1===ei?ea:ba,e[i]+=" "+kwd));b=ba.join(", "),e=ea.join(", ")}return _parseComplex(t,this.p,b,e,this.clrs,this.dflt,pt,this.pr,plugin,setRatio)},p.parse=function(t,e,p,cssp,pt,plugin){return this.parseComplex(t.style,this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),this.format(e),pt,plugin)},CSSPlugin.registerSpecialProp=function(name,onInitTween,priority){_registerComplexSpecialProp(name,{parser:function(t,e,p,cssp,pt,plugin){var rv=new CSSPropTween(t,p,0,0,pt,2,p,!1,priority);return rv.plugin=plugin,rv.setRatio=onInitTween(t,e,cssp._tween,p),rv},priority:priority})};var _transformProps="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),_transformProp=_checkPropPrefix("transform"),_transformPropCSS=_prefixCSS+"transform",_transformOriginProp=_checkPropPrefix("transformOrigin"),_supports3D=null!==_checkPropPrefix("perspective"),Transform=_internals.Transform=function(){this.skewY=0},_SVGElement=window.SVGElement,_forceSVGTransformToAttr=_SVGElement&&(_ieVers||/Android/i.test(_agent)&&!window.chrome),_parseSVGOrigin=function(e,origin,decoratee){var bbox=e.getBBox();origin=_parsePosition(origin).split(" "),decoratee.xOrigin=(-1!==origin[0].indexOf("%")?parseFloat(origin[0])/100*bbox.width:parseFloat(origin[0]))+bbox.x,decoratee.yOrigin=(-1!==origin[1].indexOf("%")?parseFloat(origin[1])/100*bbox.height:parseFloat(origin[1]))+bbox.y},_getTransform=_internals.getTransform=function(t,cs,rec,parse){if(t._gsTransform&&rec&&!parse)return t._gsTransform;var s,m,i,n,dec,scaleX,scaleY,rotation,skewX,difX,difY,difR,difS,tm=rec?t._gsTransform||new Transform:new Transform,invX=tm.scaleX<0,min=2e-5,rnd=1e5,minAngle=179.99,minPI=minAngle*_DEG2RAD,zOrigin=_supports3D?parseFloat(_getStyle(t,_transformOriginProp,cs,!1,"0 0 0").split(" ")[2])||tm.zOrigin||0:0,defaultTransformPerspective=parseFloat(CSSPlugin.defaultTransformPerspective)||0;if(_transformProp?s=_getStyle(t,_transformPropCSS,cs,!0):t.currentStyle&&(s=t.currentStyle.filter.match(_ieGetMatrixExp),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),tm.x||0,tm.y||0].join(","):""),s&&"none"!==s&&"matrix(1, 0, 0, 1, 0, 0)"!==s){for(m=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],i=m.length;--i>-1;)n=Number(m[i]),m[i]=(dec=n-(n|=0))?(dec*rnd+(0>dec?-.5:.5)|0)/rnd+n:n;if(16===m.length){var a13=m[8],a23=m[9],a33=m[10],a14=m[12],a24=m[13],a34=m[14];if(tm.zOrigin&&(a34=-tm.zOrigin,a14=a13*a34-m[12],a24=a23*a34-m[13],a34=a33*a34+tm.zOrigin-m[14]),!rec||parse||null==tm.rotationX){var t1,t2,t3,cos,sin,yFlip,zFlip,a11=m[0],a21=m[1],a31=m[2],a41=m[3],a12=m[4],a22=m[5],a32=m[6],a42=m[7],a43=m[11],angle=Math.atan2(a32,a33),xFlip=-minPI>angle||angle>minPI;tm.rotationX=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a12*cos+a13*sin,t2=a22*cos+a23*sin,t3=a32*cos+a33*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33=a32*-sin+a33*cos,a43=a42*-sin+a43*cos,a12=t1,a22=t2,a32=t3),angle=Math.atan2(a13,a11),tm.rotationY=angle*_RAD2DEG,angle&&(yFlip=-minPI>angle||angle>minPI,cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a11*cos-a13*sin,t2=a21*cos-a23*sin,t3=a31*cos-a33*sin,a23=a21*sin+a23*cos,a33=a31*sin+a33*cos,a43=a41*sin+a43*cos,a11=t1,a21=t2,a31=t3),angle=Math.atan2(a21,a22),tm.rotation=angle*_RAD2DEG,angle&&(zFlip=-minPI>angle||angle>minPI,cos=Math.cos(-angle),sin=Math.sin(-angle),a11=a11*cos+a12*sin,t2=a21*cos+a22*sin,a22=a21*-sin+a22*cos,a32=a31*-sin+a32*cos,a21=t2),zFlip&&xFlip?tm.rotation=tm.rotationX=0:zFlip&&yFlip?tm.rotation=tm.rotationY=0:yFlip&&xFlip&&(tm.rotationY=tm.rotationX=0),tm.scaleX=(Math.sqrt(a11*a11+a21*a21)*rnd+.5|0)/rnd,tm.scaleY=(Math.sqrt(a22*a22+a23*a23)*rnd+.5|0)/rnd,tm.scaleZ=(Math.sqrt(a32*a32+a33*a33)*rnd+.5|0)/rnd,tm.skewX=0,tm.perspective=a43?1/(0>a43?-a43:a43):0,tm.x=a14,tm.y=a24,tm.z=a34}}else if(!(_supports3D&&!parse&&m.length&&tm.x===m[4]&&tm.y===m[5]&&(tm.rotationX||tm.rotationY)||void 0!==tm.x&&"none"===_getStyle(t,"display",cs))){var k=m.length>=6,a=k?m[0]:1,b=m[1]||0,c=m[2]||0,d=k?m[3]:1;tm.x=m[4]||0,tm.y=m[5]||0,scaleX=Math.sqrt(a*a+b*b),scaleY=Math.sqrt(d*d+c*c),rotation=a||b?Math.atan2(b,a)*_RAD2DEG:tm.rotation||0,skewX=c||d?Math.atan2(c,d)*_RAD2DEG+rotation:tm.skewX||0,difX=scaleX-Math.abs(tm.scaleX||0),difY=scaleY-Math.abs(tm.scaleY||0),Math.abs(skewX)>90&&Math.abs(skewX)<270&&(invX?(scaleX*=-1,skewX+=0>=rotation?180:-180,rotation+=0>=rotation?180:-180):(scaleY*=-1,skewX+=0>=skewX?180:-180)),difR=(rotation-tm.rotation)%180,difS=(skewX-tm.skewX)%180,(void 0===tm.skewX||difX>min||-min>difX||difY>min||-min>difY||difR>-minAngle&&minAngle>difR&&difR*rnd|!1||difS>-minAngle&&minAngle>difS&&difS*rnd|!1)&&(tm.scaleX=scaleX,tm.scaleY=scaleY,tm.rotation=rotation,tm.skewX=skewX),_supports3D&&(tm.rotationX=tm.rotationY=tm.z=0,tm.perspective=defaultTransformPerspective,tm.scaleZ=1)}tm.zOrigin=zOrigin;for(i in tm)tm[i]<min&&tm[i]>-min&&(tm[i]=0)}else tm={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,skewY:0,perspective:defaultTransformPerspective,rotation:0,rotationX:0,rotationY:0,zOrigin:0};return rec&&(t._gsTransform=tm),tm.svg=_SVGElement&&t instanceof _SVGElement,tm.svg&&_parseSVGOrigin(t,_getStyle(t,_transformOriginProp,_cs,!1,"50% 50%")+"",tm),tm.xPercent=tm.yPercent=0,tm},_setIETransformRatio=function(v){var filters,val,t=this.data,ang=-t.rotation*_DEG2RAD,skew=ang+t.skewX*_DEG2RAD,rnd=1e5,a=(Math.cos(ang)*t.scaleX*rnd|0)/rnd,b=(Math.sin(ang)*t.scaleX*rnd|0)/rnd,c=(Math.sin(skew)*-t.scaleY*rnd|0)/rnd,d=(Math.cos(skew)*t.scaleY*rnd|0)/rnd,style=this.t.style,cs=this.t.currentStyle;if(cs){val=b,b=-c,c=-val,filters=cs.filter,style.filter="";var dx,dy,w=this.t.offsetWidth,h=this.t.offsetHeight,clip="absolute"!==cs.position,m="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+b+", M21="+c+", M22="+d,ox=t.x+w*t.xPercent/100,oy=t.y+h*t.yPercent/100;if(null!=t.ox&&(dx=(t.oxp?w*t.ox*.01:t.ox)-w/2,dy=(t.oyp?h*t.oy*.01:t.oy)-h/2,ox+=dx-(dx*a+dy*b),oy+=dy-(dx*c+dy*d)),clip?(dx=w/2,dy=h/2,m+=", Dx="+(dx-(dx*a+dy*b)+ox)+", Dy="+(dy-(dx*c+dy*d)+oy)+")"):m+=", sizingMethod='auto expand')",style.filter=-1!==filters.indexOf("DXImageTransform.Microsoft.Matrix(")?filters.replace(_ieSetMatrixExp,m):m+" "+filters,(0===v||1===v)&&1===a&&0===b&&0===c&&1===d&&(clip&&-1===m.indexOf("Dx=0, Dy=0")||_opacityExp.test(filters)&&100!==parseFloat(RegExp.$1)||-1===filters.indexOf("gradient("&&filters.indexOf("Alpha"))&&style.removeAttribute("filter")),!clip){var marg,prop,dif,mult=8>_ieVers?1:-1;for(dx=t.ieOffsetX||0,dy=t.ieOffsetY||0,t.ieOffsetX=Math.round((w-((0>a?-a:a)*w+(0>b?-b:b)*h))/2+ox),t.ieOffsetY=Math.round((h-((0>d?-d:d)*h+(0>c?-c:c)*w))/2+oy),i=0;4>i;i++)prop=_margins[i],marg=cs[prop],val=-1!==marg.indexOf("px")?parseFloat(marg):_convertToPixels(this.t,prop,parseFloat(marg),marg.replace(_suffixExp,""))||0,dif=val!==t[prop]?2>i?-t.ieOffsetX:-t.ieOffsetY:2>i?dx-t.ieOffsetX:dy-t.ieOffsetY,style[prop]=(t[prop]=Math.round(val-dif*(0===i||2===i?1:mult)))+"px"}}},_set3DTransformRatio=_internals.set3DTransformRatio=function(v){var a11,a12,a13,a14,a21,a22,a23,a24,a31,a32,a33,a34,a41,a42,a43,zOrigin,rnd,cos,sin,t1,t2,t3,t4,t=this.data,style=this.t.style,angle=t.rotation*_DEG2RAD,sx=t.scaleX,sy=t.scaleY,sz=t.scaleZ,x=t.x,y=t.y,z=t.z,perspective=t.perspective;if((1===v||0===v)&&"auto"===t.force3D&&!(t.rotationY||t.rotationX||1!==sz||perspective||z))return void _set2DTransformRatio.call(this,v);if(_isFirefox){var n=1e-4;n>sx&&sx>-n&&(sx=sz=2e-5),n>sy&&sy>-n&&(sy=sz=2e-5),!perspective||t.z||t.rotationX||t.rotationY||(perspective=0)}if(angle||t.skewX)cos=Math.cos(angle),sin=Math.sin(angle),a11=cos,a21=sin,t.skewX&&(angle-=t.skewX*_DEG2RAD,cos=Math.cos(angle),sin=Math.sin(angle),"simple"===t.skewType&&(t1=Math.tan(t.skewX*_DEG2RAD),t1=Math.sqrt(1+t1*t1),cos*=t1,sin*=t1)),a12=-sin,a22=cos;else{if(!(t.rotationY||t.rotationX||1!==sz||perspective||t.svg))return void(style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) translate3d(":"translate3d(")+x+"px,"+y+"px,"+z+"px)"+(1!==sx||1!==sy?" scale("+sx+","+sy+")":""));a11=a22=1,a12=a21=0}a33=1,a13=a14=a23=a24=a31=a32=a34=a41=a42=0,a43=perspective?-1/perspective:0,zOrigin=t.zOrigin,rnd=1e5,angle=t.rotationY*_DEG2RAD,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),a31=a33*-sin,a41=a43*-sin,a13=a11*sin,a23=a21*sin,a33*=cos,a43*=cos,a11*=cos,a21*=cos),angle=t.rotationX*_DEG2RAD,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),t1=a12*cos+a13*sin,t2=a22*cos+a23*sin,t3=a32*cos+a33*sin,t4=a42*cos+a43*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33=a32*-sin+a33*cos,a43=a42*-sin+a43*cos,a12=t1,a22=t2,a32=t3,a42=t4),1!==sz&&(a13*=sz,a23*=sz,a33*=sz,a43*=sz),1!==sy&&(a12*=sy,a22*=sy,a32*=sy,a42*=sy),1!==sx&&(a11*=sx,a21*=sx,a31*=sx,a41*=sx),zOrigin&&(a34-=zOrigin,a14=a13*a34,a24=a23*a34,a34=a33*a34+zOrigin),t.svg&&(a14+=t.xOrigin-(t.xOrigin*a11+t.yOrigin*a12),a24+=t.yOrigin-(t.xOrigin*a21+t.yOrigin*a22)),a14=(t1=(a14+=x)-(a14|=0))?(t1*rnd+(0>t1?-.5:.5)|0)/rnd+a14:a14,a24=(t1=(a24+=y)-(a24|=0))?(t1*rnd+(0>t1?-.5:.5)|0)/rnd+a24:a24,a34=(t1=(a34+=z)-(a34|=0))?(t1*rnd+(0>t1?-.5:.5)|0)/rnd+a34:a34,style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix3d(":"matrix3d(")+[(a11*rnd|0)/rnd,(a21*rnd|0)/rnd,(a31*rnd|0)/rnd,(a41*rnd|0)/rnd,(a12*rnd|0)/rnd,(a22*rnd|0)/rnd,(a32*rnd|0)/rnd,(a42*rnd|0)/rnd,(a13*rnd|0)/rnd,(a23*rnd|0)/rnd,(a33*rnd|0)/rnd,(a43*rnd|0)/rnd,a14,a24,a34,perspective?1+-a34/perspective:1].join(",")+")"},_set2DTransformRatio=_internals.set2DTransformRatio=function(v){var ang,skew,rnd,sx,sy,a,b,c,d,matrix,min,t=this.data,targ=this.t,style=targ.style,x=t.x,y=t.y;return!(t.rotationX||t.rotationY||t.z||t.force3D===!0||"auto"===t.force3D&&1!==v&&0!==v)||t.svg&&_forceSVGTransformToAttr||!_supports3D?(sx=t.scaleX,sy=t.scaleY,void(t.rotation||t.skewX||t.svg?(ang=t.rotation*_DEG2RAD,skew=ang-t.skewX*_DEG2RAD,rnd=1e5,a=Math.cos(ang)*sx,b=Math.sin(ang)*sx,c=Math.sin(skew)*-sy,d=Math.cos(skew)*sy,t.svg&&(x+=t.xOrigin-(t.xOrigin*a+t.yOrigin*c),y+=t.yOrigin-(t.xOrigin*b+t.yOrigin*d),min=1e-6,min>x&&x>-min&&(x=0),min>y&&y>-min&&(y=0)),matrix=(a*rnd|0)/rnd+","+(b*rnd|0)/rnd+","+(c*rnd|0)/rnd+","+(d*rnd|0)/rnd+","+x+","+y+")",t.svg&&_forceSVGTransformToAttr?targ.setAttribute("transform","matrix("+matrix):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+matrix):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+sx+",0,0,"+sy+","+x+","+y+")")):(this.setRatio=_set3DTransformRatio,void _set3DTransformRatio.call(this,v))};_registerComplexSpecialProp("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,p,cssp,pt,plugin,vars){if(cssp._transform)return pt;var m2,skewY,copy,orig,has3D,hasChange,dr,m1=cssp._transform=_getTransform(t,_cs,!0,vars.parseTransform),style=t.style,min=1e-6,i=_transformProps.length,v=vars,endRotations={};if("string"==typeof v.transform&&_transformProp)copy=_tempDiv.style,copy[_transformProp]=v.transform,copy.display="block",copy.position="absolute",_doc.body.appendChild(_tempDiv),m2=_getTransform(_tempDiv,null,!1),_doc.body.removeChild(_tempDiv);else if("object"==typeof v){if(m2={scaleX:_parseVal(null!=v.scaleX?v.scaleX:v.scale,m1.scaleX),scaleY:_parseVal(null!=v.scaleY?v.scaleY:v.scale,m1.scaleY),scaleZ:_parseVal(v.scaleZ,m1.scaleZ),x:_parseVal(v.x,m1.x),y:_parseVal(v.y,m1.y),z:_parseVal(v.z,m1.z),xPercent:_parseVal(v.xPercent,m1.xPercent),yPercent:_parseVal(v.yPercent,m1.yPercent),perspective:_parseVal(v.transformPerspective,m1.perspective)},dr=v.directionalRotation,null!=dr)if("object"==typeof dr)for(copy in dr)v[copy]=dr[copy];else v.rotation=dr;"string"==typeof v.x&&-1!==v.x.indexOf("%")&&(m2.x=0,m2.xPercent=_parseVal(v.x,m1.xPercent)),"string"==typeof v.y&&-1!==v.y.indexOf("%")&&(m2.y=0,m2.yPercent=_parseVal(v.y,m1.yPercent)),m2.rotation=_parseAngle("rotation"in v?v.rotation:"shortRotation"in v?v.shortRotation+"_short":"rotationZ"in v?v.rotationZ:m1.rotation,m1.rotation,"rotation",endRotations),_supports3D&&(m2.rotationX=_parseAngle("rotationX"in v?v.rotationX:"shortRotationX"in v?v.shortRotationX+"_short":m1.rotationX||0,m1.rotationX,"rotationX",endRotations),m2.rotationY=_parseAngle("rotationY"in v?v.rotationY:"shortRotationY"in v?v.shortRotationY+"_short":m1.rotationY||0,m1.rotationY,"rotationY",endRotations)),m2.skewX=null==v.skewX?m1.skewX:_parseAngle(v.skewX,m1.skewX),m2.skewY=null==v.skewY?m1.skewY:_parseAngle(v.skewY,m1.skewY),(skewY=m2.skewY-m1.skewY)&&(m2.skewX+=skewY,m2.rotation+=skewY)}for(_supports3D&&null!=v.force3D&&(m1.force3D=v.force3D,hasChange=!0),m1.skewType=v.skewType||m1.skewType||CSSPlugin.defaultSkewType,has3D=m1.force3D||m1.z||m1.rotationX||m1.rotationY||m2.z||m2.rotationX||m2.rotationY||m2.perspective,has3D||null==v.scale||(m2.scaleZ=1);--i>-1;)p=_transformProps[i],orig=m2[p]-m1[p],(orig>min||-min>orig||null!=v[p]||null!=_forcePT[p])&&(hasChange=!0,pt=new CSSPropTween(m1,p,m1[p],orig,pt),p in endRotations&&(pt.e=endRotations[p]),pt.xs0=0,pt.plugin=plugin,cssp._overwriteProps.push(pt.n));return orig=v.transformOrigin,orig&&m1.svg?(_parseSVGOrigin(t,orig,m2),pt=new CSSPropTween(m1,"xOrigin",m1.xOrigin,m2.xOrigin-m1.xOrigin,pt,-1,"transformOrigin"),pt.b=m1.xOrigin,pt.e=pt.xs0=m2.xOrigin,pt=new CSSPropTween(m1,"yOrigin",m1.yOrigin,m2.yOrigin-m1.yOrigin,pt,-1,"transformOrigin"),pt.b=m1.yOrigin,pt.e=pt.xs0=m2.yOrigin,_removeProp(style,_transformOriginProp)):(orig||_supports3D&&has3D&&m1.zOrigin)&&(_transformProp?(hasChange=!0,p=_transformOriginProp,orig=(orig||_getStyle(t,p,_cs,!1,"50% 50%"))+"",pt=new CSSPropTween(style,p,0,0,pt,-1,"transformOrigin"),pt.b=style[p],pt.plugin=plugin,_supports3D?(copy=m1.zOrigin,orig=orig.split(" "),m1.zOrigin=(orig.length>2&&(0===copy||"0px"!==orig[2])?parseFloat(orig[2]):copy)||0,pt.xs0=pt.e=orig[0]+" "+(orig[1]||"50%")+" 0px",pt=new CSSPropTween(m1,"zOrigin",0,0,pt,-1,pt.n),pt.b=copy,pt.xs0=pt.e=m1.zOrigin):pt.xs0=pt.e=orig):_parsePosition(orig+"",m1)),hasChange&&(cssp._transformType=m1.svg&&_forceSVGTransformToAttr||!has3D&&3!==this._transformType?2:3),pt},prefix:!0}),_registerComplexSpecialProp("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),_registerComplexSpecialProp("borderRadius",{defaultValue:"0px",parser:function(t,e,p,cssp,pt){e=this.format(e);var ea1,i,es2,bs2,bs,es,bn,en,w,h,esfx,bsfx,rel,hn,vn,em,props=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],style=t.style;for(w=parseFloat(t.offsetWidth),h=parseFloat(t.offsetHeight),ea1=e.split(" "),i=0;i<props.length;i++)this.p.indexOf("border")&&(props[i]=_checkPropPrefix(props[i])),bs=bs2=_getStyle(t,props[i],_cs,!1,"0px"),-1!==bs.indexOf(" ")&&(bs2=bs.split(" "),bs=bs2[0],bs2=bs2[1]),es=es2=ea1[i],bn=parseFloat(bs),bsfx=bs.substr((bn+"").length),rel="="===es.charAt(1),rel?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.substr((en+"").length-(0>en?1:0))||""):(en=parseFloat(es),esfx=es.substr((en+"").length)),""===esfx&&(esfx=_suffixMap[p]||bsfx),esfx!==bsfx&&(hn=_convertToPixels(t,"borderLeft",bn,bsfx),vn=_convertToPixels(t,"borderTop",bn,bsfx),"%"===esfx?(bs=hn/w*100+"%",bs2=vn/h*100+"%"):"em"===esfx?(em=_convertToPixels(t,"borderLeft",1,"em"),bs=hn/em+"em",bs2=vn/em+"em"):(bs=hn+"px",bs2=vn+"px"),rel&&(es=parseFloat(bs)+en+esfx,es2=parseFloat(bs2)+en+esfx)),pt=_parseComplex(style,props[i],bs+" "+bs2,es+" "+es2,!1,"0px",pt);return pt},prefix:!0,formatter:_getFormatter("0px 0px 0px 0px",!1,!0)}),_registerComplexSpecialProp("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,p,cssp,pt,plugin){var ba,ea,i,pct,overlap,src,bp="background-position",cs=_cs||_getComputedStyle(t,null),bs=this.format((cs?_ieVers?cs.getPropertyValue(bp+"-x")+" "+cs.getPropertyValue(bp+"-y"):cs.getPropertyValue(bp):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),es=this.format(e);if(-1!==bs.indexOf("%")!=(-1!==es.indexOf("%"))&&(src=_getStyle(t,"backgroundImage").replace(_urlExp,""),src&&"none"!==src)){for(ba=bs.split(" "),ea=es.split(" "),_tempImg.setAttribute("src",src),i=2;--i>-1;)bs=ba[i],pct=-1!==bs.indexOf("%"),pct!==(-1!==ea[i].indexOf("%"))&&(overlap=0===i?t.offsetWidth-_tempImg.width:t.offsetHeight-_tempImg.height,ba[i]=pct?parseFloat(bs)/100*overlap+"px":parseFloat(bs)/overlap*100+"%");bs=ba.join(" ")}return this.parseComplex(t.style,bs,es,pt,plugin)},formatter:_parsePosition}),_registerComplexSpecialProp("backgroundSize",{defaultValue:"0 0",formatter:_parsePosition}),_registerComplexSpecialProp("perspective",{defaultValue:"0px",prefix:!0}),_registerComplexSpecialProp("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),_registerComplexSpecialProp("transformStyle",{prefix:!0}),_registerComplexSpecialProp("backfaceVisibility",{prefix:!0}),_registerComplexSpecialProp("userSelect",{prefix:!0}),_registerComplexSpecialProp("margin",{parser:_getEdgeParser("marginTop,marginRight,marginBottom,marginLeft")}),_registerComplexSpecialProp("padding",{parser:_getEdgeParser("paddingTop,paddingRight,paddingBottom,paddingLeft")}),_registerComplexSpecialProp("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,p,cssp,pt,plugin){var b,cs,delim;return 9>_ieVers?(cs=t.currentStyle,delim=8>_ieVers?" ":",",b="rect("+cs.clipTop+delim+cs.clipRight+delim+cs.clipBottom+delim+cs.clipLeft+")",e=this.format(e).split(",").join(delim)):(b=this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,b,e,pt,plugin)}}),_registerComplexSpecialProp("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),_registerComplexSpecialProp("autoRound,strictUnits",{parser:function(t,e,p,cssp,pt){return pt}}),_registerComplexSpecialProp("border",{defaultValue:"0px solid #000",parser:function(t,e,p,cssp,pt,plugin){return this.parseComplex(t.style,this.format(_getStyle(t,"borderTopWidth",_cs,!1,"0px")+" "+_getStyle(t,"borderTopStyle",_cs,!1,"solid")+" "+_getStyle(t,"borderTopColor",_cs,!1,"#000")),this.format(e),pt,plugin)},color:!0,formatter:function(v){var a=v.split(" ");return a[0]+" "+(a[1]||"solid")+" "+(v.match(_colorExp)||["#000"])[0]}}),_registerComplexSpecialProp("borderWidth",{parser:_getEdgeParser("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),_registerComplexSpecialProp("float,cssFloat,styleFloat",{parser:function(t,e,p,cssp,pt){var s=t.style,prop="cssFloat"in s?"cssFloat":"styleFloat";return new CSSPropTween(s,prop,0,0,pt,-1,p,!1,0,s[prop],e)}});var _setIEOpacityRatio=function(v){var skip,t=this.t,filters=t.filter||_getStyle(this.data,"filter")||"",val=this.s+this.c*v|0;100===val&&(-1===filters.indexOf("atrix(")&&-1===filters.indexOf("radient(")&&-1===filters.indexOf("oader(")?(t.removeAttribute("filter"),skip=!_getStyle(this.data,"filter")):(t.filter=filters.replace(_alphaFilterExp,""),skip=!0)),skip||(this.xn1&&(t.filter=filters=filters||"alpha(opacity="+val+")"),-1===filters.indexOf("pacity")?0===val&&this.xn1||(t.filter=filters+" alpha(opacity="+val+")"):t.filter=filters.replace(_opacityExp,"opacity="+val))};_registerComplexSpecialProp("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,p,cssp,pt,plugin){var b=parseFloat(_getStyle(t,"opacity",_cs,!1,"1")),style=t.style,isAutoAlpha="autoAlpha"===p;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+b),isAutoAlpha&&1===b&&"hidden"===_getStyle(t,"visibility",_cs)&&0!==e&&(b=0),_supportsOpacity?pt=new CSSPropTween(style,"opacity",b,e-b,pt):(pt=new CSSPropTween(style,"opacity",100*b,100*(e-b),pt),pt.xn1=isAutoAlpha?1:0,style.zoom=1,pt.type=2,pt.b="alpha(opacity="+pt.s+")",pt.e="alpha(opacity="+(pt.s+pt.c)+")",pt.data=t,pt.plugin=plugin,pt.setRatio=_setIEOpacityRatio),isAutoAlpha&&(pt=new CSSPropTween(style,"visibility",0,0,pt,-1,null,!1,0,0!==b?"inherit":"hidden",0===e?"hidden":"inherit"),pt.xs0="inherit",cssp._overwriteProps.push(pt.n),cssp._overwriteProps.push(p)),pt}});var _removeProp=function(s,p){p&&(s.removeProperty?("ms"===p.substr(0,2)&&(p="M"+p.substr(1)),s.removeProperty(p.replace(_capsExp,"-$1").toLowerCase())):s.removeAttribute(p))},_setClassNameRatio=function(v){if(this.t._gsClassPT=this,1===v||0===v){this.t.setAttribute("class",0===v?this.b:this.e);for(var mpt=this.data,s=this.t.style;mpt;)mpt.v?s[mpt.p]=mpt.v:_removeProp(s,mpt.p),mpt=mpt._next;1===v&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};_registerComplexSpecialProp("className",{parser:function(t,e,p,cssp,pt,plugin,vars){var difData,bs,cnpt,cnptLookup,mpt,b=t.getAttribute("class")||"",cssText=t.style.cssText;if(pt=cssp._classNamePT=new CSSPropTween(t,p,0,0,pt,2),pt.setRatio=_setClassNameRatio,pt.pr=-11,_hasPriority=!0,pt.b=b,bs=_getAllStyles(t,_cs),cnpt=t._gsClassPT){for(cnptLookup={},mpt=cnpt.data;mpt;)cnptLookup[mpt.p]=1,mpt=mpt._next;cnpt.setRatio(1)}return t._gsClassPT=pt,pt.e="="!==e.charAt(1)?e:b.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),cssp._tween._duration&&(t.setAttribute("class",pt.e),difData=_cssDif(t,bs,_getAllStyles(t),vars,cnptLookup),t.setAttribute("class",b),pt.data=difData.firstMPT,t.style.cssText=cssText,pt=pt.xfirst=cssp.parse(t,difData.difs,pt,plugin)),pt}});var _setClearPropsRatio=function(v){if((1===v||0===v)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var a,p,i,clearTransform,s=this.t.style,transformParse=_specialProps.transform.parse;if("all"===this.e)s.cssText="",clearTransform=!0;else for(a=this.e.split(" ").join("").split(","),i=a.length;--i>-1;)p=a[i],_specialProps[p]&&(_specialProps[p].parse===transformParse?clearTransform=!0:p="transformOrigin"===p?_transformOriginProp:_specialProps[p].p),_removeProp(s,p);clearTransform&&(_removeProp(s,_transformProp),this.t._gsTransform&&delete this.t._gsTransform)}};for(_registerComplexSpecialProp("clearProps",{parser:function(t,e,p,cssp,pt){return pt=new CSSPropTween(t,p,0,0,pt,2),pt.setRatio=_setClearPropsRatio,pt.e=e,pt.pr=-10,pt.data=cssp._tween,_hasPriority=!0,pt}}),p="bezier,throwProps,physicsProps,physics2D".split(","),i=p.length;i--;)_registerPluginProp(p[i]);p=CSSPlugin.prototype,p._firstPT=null,p._onInitTween=function(target,vars,tween){if(!target.nodeType)return!1;this._target=target,this._tween=tween,this._vars=vars,_autoRound=vars.autoRound,_hasPriority=!1,_suffixMap=vars.suffixMap||CSSPlugin.suffixMap,_cs=_getComputedStyle(target,""),_overwriteProps=this._overwriteProps;var v,pt,pt2,first,last,next,zIndex,tpt,threeD,style=target.style;if(_reqSafariFix&&""===style.zIndex&&(v=_getStyle(target,"zIndex",_cs),("auto"===v||""===v)&&this._addLazySet(style,"zIndex",0)),"string"==typeof vars&&(first=style.cssText,v=_getAllStyles(target,_cs),style.cssText=first+";"+vars,v=_cssDif(target,v,_getAllStyles(target)).difs,!_supportsOpacity&&_opacityValExp.test(vars)&&(v.opacity=parseFloat(RegExp.$1)),vars=v,style.cssText=first),this._firstPT=pt=this.parse(target,vars,null),this._transformType){for(threeD=3===this._transformType,_transformProp?_isSafari&&(_reqSafariFix=!0,""===style.zIndex&&(zIndex=_getStyle(target,"zIndex",_cs),("auto"===zIndex||""===zIndex)&&this._addLazySet(style,"zIndex",0)),_isSafariLT6&&this._addLazySet(style,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(threeD?"visible":"hidden"))):style.zoom=1,pt2=pt;pt2&&pt2._next;)pt2=pt2._next;tpt=new CSSPropTween(target,"transform",0,0,null,2),this._linkCSSP(tpt,null,pt2),tpt.setRatio=threeD&&_supports3D?_set3DTransformRatio:_transformProp?_set2DTransformRatio:_setIETransformRatio,tpt.data=this._transform||_getTransform(target,_cs,!0),_overwriteProps.pop()}if(_hasPriority){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}this._firstPT=first}return!0},p.parse=function(target,vars,pt,plugin){var p,sp,bn,en,bs,es,bsfx,esfx,isStr,rel,style=target.style;for(p in vars)es=vars[p],sp=_specialProps[p],sp?pt=sp.parse(target,es,p,this,pt,plugin,vars):(bs=_getStyle(target,p,_cs)+"",isStr="string"==typeof es,"color"===p||"fill"===p||"stroke"===p||-1!==p.indexOf("Color")||isStr&&_rgbhslExp.test(es)?(isStr||(es=_parseColor(es),es=(es.length>3?"rgba(":"rgb(")+es.join(",")+")"),pt=_parseComplex(style,p,bs,es,!0,"transparent",pt,0,plugin)):!isStr||-1===es.indexOf(" ")&&-1===es.indexOf(",")?(bn=parseFloat(bs),bsfx=bn||0===bn?bs.substr((bn+"").length):"",(""===bs||"auto"===bs)&&("width"===p||"height"===p?(bn=_getDimension(target,p,_cs),bsfx="px"):"left"===p||"top"===p?(bn=_calculateOffset(target,p,_cs),bsfx="px"):(bn="opacity"!==p?0:1,bsfx="")),rel=isStr&&"="===es.charAt(1),rel?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.replace(_suffixExp,"")):(en=parseFloat(es),esfx=isStr?es.substr((en+"").length)||"":""),""===esfx&&(esfx=p in _suffixMap?_suffixMap[p]:bsfx),es=en||0===en?(rel?en+bn:en)+esfx:vars[p],bsfx!==esfx&&""!==esfx&&(en||0===en)&&bn&&(bn=_convertToPixels(target,p,bn,bsfx),"%"===esfx?(bn/=_convertToPixels(target,p,100,"%")/100,vars.strictUnits!==!0&&(bs=bn+"%")):"em"===esfx?bn/=_convertToPixels(target,p,1,"em"):"px"!==esfx&&(en=_convertToPixels(target,p,en,esfx),esfx="px"),rel&&(en||0===en)&&(es=en+bn+esfx)),rel&&(en+=bn),!bn&&0!==bn||!en&&0!==en?void 0!==style[p]&&(es||es+""!="NaN"&&null!=es)?(pt=new CSSPropTween(style,p,en||bn||0,0,pt,-1,p,!1,0,bs,es),pt.xs0="none"!==es||"display"!==p&&-1===p.indexOf("Style")?es:bs):_log("invalid "+p+" tween value: "+vars[p]):(pt=new CSSPropTween(style,p,bn,en-bn,pt,0,p,_autoRound!==!1&&("px"===esfx||"zIndex"===p),0,bs,es),pt.xs0=esfx)):pt=_parseComplex(style,p,bs,es,!0,null,pt,0,plugin)),plugin&&pt&&!pt.plugin&&(pt.plugin=plugin);return pt},p.setRatio=function(v){var val,str,i,pt=this._firstPT,min=1e-6;if(1!==v||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(v||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;pt;){if(val=pt.c*v+pt.s,pt.r?val=Math.round(val):min>val&&val>-min&&(val=0),pt.type)if(1===pt.type)if(i=pt.l,2===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2;else if(3===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3;else if(4===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4;else if(5===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4+pt.xn4+pt.xs5;else{for(str=pt.xs0+val+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.t[pt.p]=str}else-1===pt.type?pt.t[pt.p]=pt.xs0:pt.setRatio&&pt.setRatio(v);else pt.t[pt.p]=val+pt.xs0;pt=pt._next}else for(;pt;)2!==pt.type?pt.t[pt.p]=pt.b:pt.setRatio(v),pt=pt._next;else for(;pt;)2!==pt.type?pt.t[pt.p]=pt.e:pt.setRatio(v),pt=pt._next},p._enableTransforms=function(threeD){this._transform=this._transform||_getTransform(this._target,_cs,!0),this._transformType=this._transform.svg&&_forceSVGTransformToAttr||!threeD&&3!==this._transformType?2:3};var lazySet=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(t,p,v){var pt=this._firstPT=new CSSPropTween(t,p,0,0,this._firstPT,2);pt.e=v,pt.setRatio=lazySet,pt.data=this},p._linkCSSP=function(pt,next,prev,remove){return pt&&(next&&(next._prev=pt),pt._next&&(pt._next._prev=pt._prev),pt._prev?pt._prev._next=pt._next:this._firstPT===pt&&(this._firstPT=pt._next,remove=!0),prev?prev._next=pt:remove||null!==this._firstPT||(this._firstPT=pt),pt._next=next,pt._prev=prev),pt},p._kill=function(lookup){var pt,p,xfirst,copy=lookup;if(lookup.autoAlpha||lookup.alpha){copy={};for(p in lookup)copy[p]=lookup[p];copy.opacity=1,copy.autoAlpha&&(copy.visibility=1)}return lookup.className&&(pt=this._classNamePT)&&(xfirst=pt.xfirst,xfirst&&xfirst._prev?this._linkCSSP(xfirst._prev,pt._next,xfirst._prev._prev):xfirst===this._firstPT&&(this._firstPT=pt._next),pt._next&&this._linkCSSP(pt._next,pt._next._next,xfirst._prev),this._classNamePT=null),TweenPlugin.prototype._kill.call(this,copy)};var _getChildStyles=function(e,props,targets){var children,i,child,type;if(e.slice)for(i=e.length;--i>-1;)_getChildStyles(e[i],props,targets);else for(children=e.childNodes,i=children.length;--i>-1;)child=children[i],type=child.type,child.style&&(props.push(_getAllStyles(child)),targets&&targets.push(child)),1!==type&&9!==type&&11!==type||!child.childNodes.length||_getChildStyles(child,props,targets)};return CSSPlugin.cascadeTo=function(target,duration,vars){var i,difs,p,tween=TweenLite.to(target,duration,vars),results=[tween],b=[],e=[],targets=[],_reservedProps=TweenLite._internals.reservedProps;for(target=tween._targets||tween.target,_getChildStyles(target,b,targets),tween.render(duration,!0),_getChildStyles(target,e),tween.render(0,!0),tween._enabled(!0),i=targets.length;--i>-1;)if(difs=_cssDif(targets[i],b[i],e[i]),difs.firstMPT){difs=difs.difs;for(p in vars)_reservedProps[p]&&(difs[p]=vars[p]);
results.push(TweenLite.to(targets[i],duration,difs))}return results},TweenPlugin.activate([CSSPlugin]),CSSPlugin},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(name){"use strict";var getGlobal=function(){return(_gsScope.GreenSockGlobals||_gsScope)[name]};"function"==typeof define&&define.amd?define(["TweenLite"],getGlobal):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=getGlobal())}("CSSPlugin"),window._pEvents=[],window._pEnabled=!0,void 0===window._pageLoadStart;var _pConfig=!1,_pPageReady=!1,_pFirstLoadComplete=!1,_pConfigInterval=setInterval(function(){"use strict";if("undefined"!=typeof angular&&angular.hasOwnProperty("injector")){var elem=angular.element(document),$injector=elem.injector();if($injector){_pConfig=$injector.get("Config");var $rootScope=$injector.get("$rootScope");$rootScope.$on("phxPageReady",function(){_pPageReady=!0,_pFirstLoadComplete||(sendPerformanceMetric("UX","J0 - PCL",new Date-window._pageLoadStart),_pFirstLoadComplete=!0)}),$rootScope.$on("$locationChangeStart",function(){_pPageReady=!1}),clearInterval(_pConfigInterval)}}},250),_pInterval=setInterval(function(){"use strict";if("undefined"!=typeof ga&&_pConfig&&("undefined"!=typeof _pConfig.performance&&window._pageRunId>_pConfig.performance&&(clearInterval(_pInterval),window._pEnabled=!1,window._pEvents=[]),_pPageReady))for(var count=0;window._pEvents.length>0;){var e=window._pEvents.pop();e[2]&&e[2]<3e5&&e[2]>0&&setTimeout(_pSendEvent,50*count++,e[0],e[1],e[2])}},500);if(window.performance&&window.performance.timing){var perf=window.performance.timing;sendPerformanceMetric("UX","T0 - J0",perf.domLoading-perf.navigationStart)}!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return"function"===type||jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else data=void 0;return data}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;l>i;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=data_priv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),computed&&(ret=computed.getPropertyValue(name)||computed[name]),computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(style,name){if(name in style)return name;for(var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=data_priv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),checkDisplay="none"===display?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display,"inline"===checkDisplay&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else{dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=data_priv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.3",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)+1>=0},isPlainObject:function(obj){return"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)?!1:obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length>i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],nodeType=context.nodeType,"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&documentIsHTML){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=1!==nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),(oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(outerCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context!==document&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;len>i;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;
return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,parent=doc.defaultView,parent&&parent!==parent.top&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),documentIsHTML=!isXML(doc),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(doc.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\f]' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),!(!support.matchesSelector||!documentIsHTML||rbuggyMatches&&rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}}),jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;len>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(owner){if(!Data.accepts(owner))return 0;var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))jQuery.extend(this.cache[unlock],data);else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return void 0===key?cache:cache[key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(void 0===key)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){owner[this.expando]&&delete this.cache[owner[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&(name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&void 0===value){if(data=data_user.get(elem,key),void 0!==data)return data;
if(data=data_user.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),-1!==key.indexOf("-")&&void 0!==data&&data_user.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=data_priv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=data_priv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=data_priv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var strundefined="undefined";support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,data_priv.remove(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(cur.disabled!==!0||"click"!==event.type){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==safeActiveElement()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;attaches?data_priv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),data_priv.remove(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l>i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l>i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function(elems){for(var data,elem,type,key,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++){if(jQuery.acceptData(elem)&&(key=elem[data_priv.expando],key&&(data=data_priv.cache[key]))){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_priv.cache[key]&&delete data_priv.cache[key]}delete data_user.cache[elem[data_user.expando]]}}}),jQuery.fn.extend({text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=value)})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){return elem.ownerDocument.defaultView.opener?elem.ownerDocument.defaultView.getComputedStyle(elem,null):window.getComputedStyle(elem,null)};!function(){function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",div.innerHTML="",docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal="1%"!==divStyle.top,boxSizingReliableVal="4px"===divStyle.width,docElem.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",container.appendChild(div),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return computePixelPositionAndBoxSizingReliable(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computePixelPositionAndBoxSizingReliable(),boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",docElem.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight),docElem.removeChild(container),div.removeChild(marginDiv),ret}}))}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value===value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)
},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||data_priv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret):null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed="string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=0===arguments.length||"string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}:function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(type===strundefined||"boolean"===type)&&(this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||value===!1?"":data_priv.get(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(option.value,values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=void 0}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.attachEvent&&window.attachEvent("onunload",function(){for(var key in xhrCallbacks)xhrCallbacks[key]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback;return support.cors||xhrSupported&&!options.crossDomain?{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(delete xhrCallbacks[id],callback=xhr.onload=xhr.onerror=null,"abort"===type?xhr.abort():"error"===type?complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"string"==typeof xhr.responseText?{text:xhr.responseText}:void 0,xhr.getAllResponseHeaders()))}},xhr.onload=callback(),xhr.onerror=callback("error"),callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}:void 0}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"):void 0}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>=0&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function(factory){"use strict";if("function"==typeof define&&define.amd)define(["jquery","jquery.ui.widget","jquery.iframe-transport","jquery.fileupload"],factory);else{var $=window.jQuery;factory($),$(function(){void 0!==$.fn.cloudinary_fileupload&&$("input.cloudinary-fileupload[type=file]").cloudinary_fileupload()})}}(function($){"use strict";function utf8_encode(argString){if(null===argString||"undefined"==typeof argString)return"";var start,end,string=argString+"",utftext="",stringl=0;start=end=0,stringl=string.length;for(var n=0;stringl>n;n++){var c1=string.charCodeAt(n),enc=null;128>c1?end++:enc=c1>127&&2048>c1?String.fromCharCode(c1>>6|192,63&c1|128):String.fromCharCode(c1>>12|224,c1>>6&63|128,63&c1|128),null!==enc&&(end>start&&(utftext+=string.slice(start,end)),utftext+=enc,start=end=n+1)}return end>start&&(utftext+=string.slice(start,stringl)),utftext}function crc32(str){str=utf8_encode(str);var table="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",crc=0,x=0,y=0;
crc=-1^crc;for(var i=0,iTop=str.length;iTop>i;i++)y=255&(crc^str.charCodeAt(i)),x="0x"+table.substr(9*y,8),crc=crc>>>8^x;return crc=-1^crc,0>crc&&(crc+=4294967296),crc}function option_consume(options,option_name,default_value){var result=options[option_name];return delete options[option_name],"undefined"==typeof result?default_value:result}function build_array(arg){return arg?$.isArray(arg)?arg:[arg]:[]}function present(value){return"undefined"!=typeof value&&(""+value).length>0}function process_base_transformations(options){for(var transformations=build_array(options.transformation),all_named=!0,i=0;i<transformations.length;i++)all_named=all_named&&"string"==typeof transformations[i];if(all_named)return[];delete options.transformation;for(var base_transformations=[],i=0;i<transformations.length;i++){var transformation=transformations[i];base_transformations.push("string"==typeof transformation?"t_"+transformation:generate_transformation_string($.extend({},transformation)))}return base_transformations}function process_size(options){var size=option_consume(options,"size");if(size){var split_size=size.split("x");options.width=split_size[0],options.height=split_size[1]}}function process_html_dimensions(options){var width=options.width,height=options.height,has_layer=options.overlay||options.underlay,crop=options.crop,use_as_html_dimensions=!has_layer&&!options.angle&&"fit"!=crop&&"limit"!=crop&&"lfill"!=crop;use_as_html_dimensions&&(width&&!options.html_width&&"auto"!==width&&parseFloat(width)>=1&&(options.html_width=width),height&&!options.html_height&&parseFloat(height)>=1&&(options.html_height=height)),crop||has_layer||(delete options.width,delete options.height)}function generate_transformation_string(options){var base_transformations=process_base_transformations(options);process_size(options),process_html_dimensions(options);var params=[];for(var param in TRANSFORMATION_PARAM_NAME_MAPPING){var value=option_consume(options,param);present(value)&&(TRANSFORMATION_PARAM_VALUE_MAPPING[param]&&(value=TRANSFORMATION_PARAM_VALUE_MAPPING[param](value)),present(value)&&params.push(TRANSFORMATION_PARAM_NAME_MAPPING[param]+"_"+value))}params.sort();var raw_transformation=option_consume(options,"raw_transformation");present(raw_transformation)&&params.push(raw_transformation);var transformation=params.join(",");return present(transformation)&&base_transformations.push(transformation),base_transformations.join("/")}function absolutize(url){if(!url.match(/^https?:\//)){var prefix=document.location.protocol+"//"+document.location.host;"?"==url[0]?prefix+=document.location.pathname:"/"!=url[0]&&(prefix+=document.location.pathname.replace(/\/[^\/]*$/,"/")),url=prefix+url}return url}function cloudinary_url(public_id,options){options=options||{};var type=option_consume(options,"type","upload");"fetch"==type&&(options.fetch_format=options.fetch_format||option_consume(options,"format"));var transformation=generate_transformation_string(options),resource_type=option_consume(options,"resource_type","image"),version=option_consume(options,"version"),format=option_consume(options,"format"),cloud_name=option_consume(options,"cloud_name",$.cloudinary.config().cloud_name);if(!cloud_name)throw"Unknown cloud_name";var private_cdn=option_consume(options,"private_cdn",$.cloudinary.config().private_cdn),secure_distribution=option_consume(options,"secure_distribution",$.cloudinary.config().secure_distribution),cname=option_consume(options,"cname",$.cloudinary.config().cname),cdn_subdomain=option_consume(options,"cdn_subdomain",$.cloudinary.config().cdn_subdomain),shorten=option_consume(options,"shorten",$.cloudinary.config().shorten),secure=option_consume(options,"secure","https:"==window.location.protocol),protocol=option_consume(options,"protocol",$.cloudinary.config().protocol),trust_public_id=option_consume(options,"trust_public_id");if("fetch"==type&&(public_id=absolutize(public_id)),public_id.match(/^https?:/)){if("upload"==type||"asset"==type)return public_id;public_id=encodeURIComponent(public_id).replace(/%3A/g,":").replace(/%2F/g,"/")}else public_id=encodeURIComponent(decodeURIComponent(public_id)).replace(/%3A/g,":").replace(/%2F/g,"/"),format&&(trust_public_id||(public_id=public_id.replace(/\.(jpg|png|gif|webp)$/,"")),public_id=public_id+"."+format);var prefix=secure?"https://":"file:"===window.location.protocol?"file://":"http://";if(prefix=protocol?protocol+"//":prefix,cloud_name.match(/^\//)&&!secure)prefix="/res"+cloud_name;else{var shared_domain=!private_cdn;if(secure)secure_distribution&&secure_distribution!=OLD_AKAMAI_SHARED_CDN||(secure_distribution=private_cdn?cloud_name+"-res.cloudinary.com":SHARED_CDN),shared_domain=shared_domain||secure_distribution==SHARED_CDN,prefix+=secure_distribution;else{var subdomain=cdn_subdomain?"a"+(crc32(public_id)%5+1)+".":"",host=cname||(private_cdn?cloud_name+"-res.cloudinary.com":"res.cloudinary.com");prefix+=subdomain+host}shared_domain&&(prefix+="/"+cloud_name)}shorten&&"image"==resource_type&&"upload"==type&&(resource_type="iu",type=void 0),public_id.search("/")>=0&&!public_id.match(/^v[0-9]+/)&&!public_id.match(/^https?:\//)&&!present(version)&&(version=1);var url=[prefix,resource_type,type,transformation,version?"v"+version:"",public_id].join("/").replace(/([^:])\/+/g,"$1/");return url}function default_stoppoints(width){return 10*Math.ceil(width/10)}function prepare_html_url(public_id,options){$.cloudinary.config("dpr")&&!options.dpr&&(options.dpr=$.cloudinary.config("dpr"));var url=cloudinary_url(public_id,options),width=option_consume(options,"html_width"),height=option_consume(options,"html_height");return width&&(options.width=width),height&&(options.height=height),url}function get_config(name,options,default_value){var value=options[name]||$.cloudinary.config(name);return"undefined"==typeof value&&(value=default_value),value}function closest_above(list,value){for(var i=list.length-2;i>=0&&list[i]>=value;)i--;return list[i+1]}var CF_SHARED_CDN="d3jpl91pxevbkh.cloudfront.net",OLD_AKAMAI_SHARED_CDN="cloudinary-a.akamaihd.net",AKAMAI_SHARED_CDN="res.cloudinary.com",SHARED_CDN=AKAMAI_SHARED_CDN,TRANSFORMATION_PARAM_NAME_MAPPING={angle:"a",background:"b",border:"bo",color:"co",color_space:"cs",crop:"c",default_image:"d",delay:"dl",density:"dn",dpr:"dpr",effect:"e",fetch_format:"f",flags:"fl",gravity:"g",height:"h",opacity:"o",overlay:"l",page:"pg",prefix:"p",quality:"q",radius:"r",transformation:"t",underlay:"u",width:"w",x:"x",y:"y"},TRANSFORMATION_PARAM_VALUE_MAPPING={angle:function(angle){return build_array(angle).join(".")},background:function(background){return background.replace(/^#/,"rgb:")},border:function(border){if($.isPlainObject(border)){var border_width=""+(border.width||2),border_color=(border.color||"black").replace(/^#/,"rgb:");border=border_width+"px_solid_"+border_color}return border},color:function(color){return color.replace(/^#/,"rgb:")},dpr:function(dpr){return dpr=dpr.toString(),"auto"===dpr?"1.0":dpr.match(/^\d+$/)?dpr+".0":dpr},effect:function(effect){return build_array(effect).join(":")},flags:function(flags){return build_array(flags).join(".")},transformation:function(transformation){return build_array(transformation).join(".")}},cloudinary_config=null,responsive_config=null,responsive_resize_initialized=!1,device_pixel_ratio_cache={};$.cloudinary={CF_SHARED_CDN:CF_SHARED_CDN,OLD_AKAMAI_SHARED_CDN:OLD_AKAMAI_SHARED_CDN,AKAMAI_SHARED_CDN:AKAMAI_SHARED_CDN,SHARED_CDN:SHARED_CDN,config:function(new_config,new_value){if(cloudinary_config||(cloudinary_config={},$('meta[name^="cloudinary_"]').each(function(){cloudinary_config[$(this).attr("name").replace("cloudinary_","")]=$(this).attr("content")})),"undefined"!=typeof new_value)cloudinary_config[new_config]=new_value;else{if("string"==typeof new_config)return cloudinary_config[new_config];new_config&&(cloudinary_config=new_config)}return cloudinary_config},url:function(public_id,options){return options=$.extend({},options),cloudinary_url(public_id,options)},url_internal:cloudinary_url,transformation_string:function(options){return options=$.extend({},options),generate_transformation_string(options)},image:function(public_id,options){options=$.extend({},options);var url=prepare_html_url(public_id,options),img=$("<img/>").data("src-cache",url).attr(options).cloudinary_update(options);return img},facebook_profile_image:function(public_id,options){return $.cloudinary.image(public_id,$.extend({type:"facebook"},options))},twitter_profile_image:function(public_id,options){return $.cloudinary.image(public_id,$.extend({type:"twitter"},options))},twitter_name_profile_image:function(public_id,options){return $.cloudinary.image(public_id,$.extend({type:"twitter_name"},options))},gravatar_image:function(public_id,options){return $.cloudinary.image(public_id,$.extend({type:"gravatar"},options))},fetch_image:function(public_id,options){return $.cloudinary.image(public_id,$.extend({type:"fetch"},options))},sprite_css:function(public_id,options){return options=$.extend({type:"sprite"},options),public_id.match(/.css$/)||(options.format="css"),$.cloudinary.url(public_id,options)},responsive:function(options){responsive_config=$.extend(responsive_config||{},options),$("img.cld-responsive, img.cld-hidpi").cloudinary_update(responsive_config);var responsive_resize=get_config("responsive_resize",responsive_config,!0);if(responsive_resize&&!responsive_resize_initialized){responsive_config.resizing=responsive_resize_initialized=!0;var timeout=null;$(window).on("resize",function(){function reset(){timeout&&(clearTimeout(timeout),timeout=null)}function run(){$("img.cld-responsive").cloudinary_update(responsive_config)}function wait(){reset(),setTimeout(function(){reset(),run()},debounce)}var debounce=get_config("responsive_debounce",responsive_config,100);debounce?wait():run()})}},calc_stoppoint:function(element,width){var stoppoints=$(element).data("stoppoints")||$.cloudinary.config().stoppoints||default_stoppoints;return"function"==typeof stoppoints?stoppoints(width):("string"==typeof stoppoints&&(stoppoints=$.map(stoppoints.split(","),function(val){return parseInt(val)})),closest_above(stoppoints,width))},device_pixel_ratio:function(){var dpr=window.devicePixelRatio||1,dpr_string=device_pixel_ratio_cache[dpr];return dpr_string||(dpr=closest_above($.cloudinary.supported_dpr_values,dpr),dpr_string=dpr.toString(),dpr_string.match(/^\d+$/)&&(dpr_string+=".0"),device_pixel_ratio_cache[dpr]=dpr_string),dpr_string},supported_dpr_values:[.75,1,1.3,1.5,2,3]},$.fn.cloudinary=function(options){return this.filter("img").each(function(){var img_options=$.extend({width:$(this).attr("width"),height:$(this).attr("height"),src:$(this).attr("src")},$(this).data(),options),public_id=option_consume(img_options,"source",option_consume(img_options,"src")),url=prepare_html_url(public_id,img_options);$(this).data("src-cache",url).attr({width:img_options.width,height:img_options.height})}).cloudinary_update(options),this},$.fn.cloudinary_update=function(options){options=options||{};var responsive_use_stoppoints=get_config("responsive_use_stoppoints",options,"resize"),exact=responsive_use_stoppoints===!1||"resize"==responsive_use_stoppoints&&!options.resizing;return this.filter("img").each(function(){options.responsive&&$(this).addClass("cld-responsive");var attrs={},src=$(this).data("src-cache")||$(this).data("src");if(src){var responsive=$(this).hasClass("cld-responsive")&&src.match(/\bw_auto\b/);if(responsive){var container=$(this).parent()[0],containerWidth=container?container.clientWidth:0;if(0==containerWidth)return;var requestedWidth=exact?containerWidth:$.cloudinary.calc_stoppoint(this,containerWidth),currentWidth=$(this).data("width")||0;requestedWidth>currentWidth?$(this).data("width",requestedWidth):requestedWidth=currentWidth,src=src.replace(/\bw_auto\b/g,"w_"+requestedWidth),attrs.width=null,attrs.height=null}attrs.src=src.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+$.cloudinary.device_pixel_ratio()),$(this).attr(attrs)}}),this};var webp=null;$.fn.webpify=function(options,webp_options){var that=this;if(options=options||{},webp_options=webp_options||options,!webp){webp=$.Deferred();var webp_canary=new Image;webp_canary.onerror=webp.reject,webp_canary.onload=webp.resolve,webp_canary.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}return $(function(){webp.done(function(){$(that).cloudinary($.extend({},webp_options,{format:"webp"}))}).fail(function(){$(that).cloudinary(options)})}),this},$.fn.fetchify=function(options){return this.cloudinary($.extend(options,{type:"fetch"}))},$.fn.fileupload&&($.cloudinary.delete_by_token=function(delete_token,options){options=options||{};var url=options.url;if(!url){var cloud_name=options.cloud_name||$.cloudinary.config().cloud_name;url="https://api.cloudinary.com/v1_1/"+cloud_name+"/delete_by_token"}var dataType=$.support.xhrFileUpload?"json":"iframe json";return $.ajax({url:url,method:"POST",data:{token:delete_token},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:dataType})},$.fn.cloudinary_fileupload=function(options){var initializing=!this.data("blueimpFileupload");if(initializing&&(options=$.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},options)),this.fileupload(options),initializing&&(this.bind("fileuploaddone",function(e,data){if(!data.result.error){if(data.result.path=["v",data.result.version,"/",data.result.public_id,data.result.format?"."+data.result.format:""].join(""),data.cloudinaryField&&data.form.length>0){var upload_info=[data.result.resource_type,data.result.type,data.result.path].join("/")+"#"+data.result.signature,multiple=$(e.target).prop("multiple"),add_field=function(){$("<input></input>").attr({type:"hidden",name:data.cloudinaryField}).val(upload_info).appendTo(data.form)};if(multiple)add_field();else{var field=$(data.form).find('input[name="'+data.cloudinaryField+'"]');field.length>0?field.val(upload_info):add_field()}}$(e.target).trigger("cloudinarydone",data)}}),this.bind("fileuploadstart",function(e){$(e.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(e){$(e.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(e,data){$(e.target).trigger("cloudinaryprogress",data)}),this.bind("fileuploadprogressall",function(e,data){$(e.target).trigger("cloudinaryprogressall",data)}),this.bind("fileuploadfail",function(e,data){$(e.target).trigger("cloudinaryfail",data)}),this.bind("fileuploadalways",function(e,data){$(e.target).trigger("cloudinaryalways",data)}),!this.fileupload("option").url)){var cloud_name=options.cloud_name||$.cloudinary.config().cloud_name,upload_url="https://api.cloudinary.com/v1_1/"+cloud_name+"/upload";this.fileupload("option","url",upload_url)}return this},$.fn.cloudinary_upload_url=function(remote_url){this.fileupload("option","formData").file=remote_url,this.fileupload("add",{files:[remote_url]}),delete this.fileupload("option","formData").file},$.fn.unsigned_cloudinary_upload=function(upload_preset,upload_params,options){options=options||{},upload_params=$.extend({},upload_params)||{},upload_params.cloud_name&&(options.cloud_name=upload_params.cloud_name,delete upload_params.cloud_name);for(var key in upload_params){var value=upload_params[key];$.isPlainObject(value)?upload_params[key]=$.map(value,function(v,k){return k+"="+v}).join("|"):$.isArray(value)&&(upload_params[key]=value.length>0&&$.isArray(value[0])?$.map(value,function(array_value){return array_value.join(",")}).join("|"):value.join(","))}upload_params.callback||(upload_params.callback="/cloudinary_cors.html"),upload_params.upload_preset=upload_preset,options.formData=upload_params,options.cloudinary_field&&(options.cloudinaryField=options.cloudinary_field,delete options.cloudinary_field);var html_options=options.html||{};return html_options["class"]="cloudinary_fileupload "+(html_options["class"]||""),options.multiple&&(html_options.multiple=!0),this.attr(html_options).cloudinary_fileupload(options),this},$.cloudinary.unsigned_upload_tag=function(upload_preset,upload_params,options){return $("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(upload_preset,upload_params,options)})}),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return e(n,t)}):e(t.jQuery,t)}(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;return i=n(r),c=t.call(r,"ontouchstart")>=0,s={horizontal:{},vertical:{}},f=1,a={},u="waypoints-context-id",p="resize.waypoints",y="scroll.waypoints",v=1,w="waypoints-waypoint-ids",g="waypoint",m="waypoints",o=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+f++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(u,this.id),a[this.id]=this,t.bind(y,function(){var t;return e.didScroll||c?void 0:(e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},r.setTimeout(t,n[m].settings.scrollThrottle))}),t.bind(p,function(){var t;return e.didResize?void 0:(e.didResize=!0,t=function(){return n[m]("refresh"),e.didResize=!1},r.setTimeout(t,n[m].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!c||t.vertical.oldScroll&&t.vertical.newScroll||n[m]("refresh"),n.each(t,function(t,r){var i,o,l;return l=[],o=r.newScroll>r.oldScroll,i=o?r.forward:r.backward,n.each(e.waypoints[t],function(t,e){var n,i;return r.oldScroll<(n=e.offset)&&n<=r.newScroll?l.push(e):r.newScroll<(i=e.offset)&&i<=r.oldScroll?l.push(e):void 0}),l.sort(function(t,e){return t.offset-e.offset}),o||l.reverse(),n.each(l,function(t,e){return e.options.continuous||t===l.length-1?e.trigger([i]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,r,i=this;return r=n.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;return i=r.options.offset,l=r.offset,o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp],n.isFunction(i)?i=i.apply(r.element):"string"==typeof i&&(i=parseFloat(i),r.options.offset.indexOf("%")>-1&&(i=Math.ceil(e.contextDimension*i/100))),r.offset=o-e.contextOffset+e.contextScroll-i,r.options.onlyOnScroll&&null!=l||!r.enabled?void 0:null!==l&&l<(s=e.oldScroll)&&s<=r.offset?r.trigger([e.backward]):null!==l&&l>(f=e.oldScroll)&&f>=r.offset?r.trigger([e.forward]):null===l&&e.oldScroll>=r.offset?r.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){return n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([p,y].join(" ")),delete a[this.id]):void 0},t}(),l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r),"bottom-in-view"===r.offset&&(r.offset=function(){var t;return t=n[m]("viewportHeight"),n.isWindow(e.element)||(t=e.$element.height()),t-n(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=r.horizontal?"horizontal":"vertical",this.callback=r.handler,this.context=e,this.enabled=r.enabled,this.id="waypoints"+v++,this.offset=null,this.options=r,e.waypoints[this.axis][this.id]=this,s[this.axis][this.id]=this,i=null!=(o=t.data(w))?o:[],i.push(this.id),t.data(w,i)}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete s[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,r;return(r=n(t).data(w))?(e=n.extend({},s.horizontal,s.vertical),n.map(r,function(t){return e[t]})):[]},t}(),d={init:function(t,e){var r;return null==e&&(e={}),null==(r=e.handler)&&(e.handler=t),this.each(function(){var t,r,i,s;return t=n(this),i=null!=(s=e.context)?s:n.fn[g].defaults.context,n.isWindow(i)||(i=t.closest(i)),i=n(i),r=a[i.data(u)],r||(r=new o(i)),new l(t,r,e)}),n[m]("refresh"),this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){return e>0?t.push(n[e-1]):void 0})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){return e<n.length-1?t.push(n[e+1]):void 0})},_traverse:function(t,e,i){var o,l;return null==t&&(t="vertical"),null==e&&(e=r),l=h.aggregate(e),o=[],this.each(function(){var e;return e=n.inArray(this,l[t]),i(o,e,l[t])}),this.pushStack(o)},_invoke:function(t,e){return t.each(function(){var t;return t=l.getWaypointsByElement(this),n.each(t,function(t,n){return n[e](),!0})}),this}},n.fn[g]=function(){var t,r;return r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],d[r]?d[r].apply(this,t):n.isFunction(r)?d.init.apply(this,arguments):n.isPlainObject(r)?d.init.apply(this,[null,r]):n.error(r?"The "+r+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},n.fn[g].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=r.innerHeight)?t:i.height()},aggregate:function(t){var e,r,i;return e=s,t&&(e=null!=(i=a[n(t).data(u)])?i.waypoints:void 0),e?(r={horizontal:[],vertical:[]},n.each(r,function(t,i){return n.each(e[t],function(t,e){return i.push(e)}),i.sort(function(t,e){return t.offset-e.offset}),r[t]=n.map(i,function(t){return t.element}),r[t]=n.unique(r[t])}),r):[]},above:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;return e=n.extend({},s.vertical,s.horizontal),n.each(e,function(e,n){return n[t](),!0})},_filter:function(t,e,r){var i,o;return(i=a[n(t).data(u)])?(o=[],n.each(i.waypoints[e],function(t,e){return r(i,e)?o.push(e):void 0}),o.sort(function(t,e){return t.offset-e.offset}),n.map(o,function(t){return t.element})):[]}},n[m]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],h[n]?h[n].apply(null,t):h.aggregate.call(null,n)},n[m].settings={resizeThrottle:100,scrollThrottle:30},i.load(function(){return n[m]("refresh")})})}.call(this),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function($){function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s=decodeURIComponent(s.replace(pluses," ")),config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value&&!$.isFunction(value)){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setTime(+t+864e5*days)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var result=key?void 0:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;l>i;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}key||void 0===(cookie=read(cookie))||(result[name]=cookie)}return result};config.defaults={},$.removeCookie=function(key,options){return void 0===$.cookie(key)?!1:($.cookie(key,"",$.extend({},options,{expires:-1})),!$.cookie(key))}}),function(window,document,undefined){"use strict";function minErr(module){return function(){var message,i,code=arguments[0],prefix="["+(module?module+":":"")+code+"] ",template=arguments[1],templateArgs=arguments,stringify=function(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof obj?"undefined":"string"!=typeof obj?JSON.stringify(obj):obj};for(message=prefix+template.replace(/\{\d+\}/g,function(match){var arg,index=+match.slice(1,-1);return index+2<templateArgs.length?(arg=templateArgs[index+2],"function"==typeof arg?arg.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof arg?"undefined":"string"!=typeof arg?toJson(arg):arg):match}),message=message+"\nhttp://errors.angularjs.org/1.2.7/"+(module?module+"/":"")+code,i=2;i<arguments.length;i++)message=message+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(stringify(arguments[i]));return new Error(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length=obj.length;return 1===obj.nodeType&&length?!0:isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key);else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context);else if(isArrayLike(obj))for(key=0;key<obj.length;key++)iterator.call(context,obj[key],key);else for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key);return obj}function sortedKeys(obj){var keys=[];for(var key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys.sort()}function forEachSorted(obj,iterator,context){for(var keys=sortedKeys(obj),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){for(var digit,index=uid.length;index;){if(index--,digit=uid[index].charCodeAt(0),57==digit)return uid[index]="A",uid.join("");if(90!=digit)return uid[index]=String.fromCharCode(digit+1),uid.join("");uid[index]="0"}return uid.unshift("0"),uid.join("")}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function extend(dst){var h=dst.$$hashKey;return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst[key]=value})}),setHashKey(dst,h),dst}function int(str){return parseInt(str,10)}function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!=value&&"object"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isArray(value){return"[object Array]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.document&&obj.location&&obj.alert&&obj.setInterval}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isElement(node){return!(!node||!(node.nodeName||node.on&&node.find))}function map(obj,iterator,context){var results=[];return forEach(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results}function includes(array,obj){return-1!=indexOf(array,obj)}function indexOf(array,obj){if(array.indexOf)return array.indexOf(obj);for(var i=0;i<array.length;i++)if(obj===array[i])return i;return-1}function arrayRemove(array,value){var index=indexOf(array,value);return index>=0&&array.splice(index,1),value}function copy(source,destination){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)destination.push(copy(source[i]))}else{var h=destination.$$hashKey;forEach(destination,function(value,key){delete destination[key]});for(var key in source)destination[key]=copy(source[key]);setHashKey(destination,h)}}else destination=source,source&&(isArray(source)?destination=copy(source,[]):isDate(source)?destination=new Date(source.getTime()):isRegExp(source)?destination=new RegExp(source.source):isObject(source)&&(destination=copy(source,{})));return destination}function shallowCopy(src,dst){dst=dst||{};for(var key in src)src.hasOwnProperty(key)&&"$"!==key.charAt(0)&&"$"!==key.charAt(1)&&(dst[key]=src[key]);return dst}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)&&o1.getTime()==o2.getTime();if(isRegExp(o1)&&isRegExp(o2))return o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2))return!1;keySet={};for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!keySet.hasOwnProperty(key)&&"$"!==key.charAt(0)&&o2[key]!==undefined&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function csp(){return document.securityPolicy&&document.securityPolicy.isActive||document.querySelector&&!(!document.querySelector("[ng-csp]")&&!document.querySelector("[data-ng-csp]"))}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,curryArgs.concat(slice.call(arguments,0))):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;
return"string"==typeof key&&"$"===key.charAt(0)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:JSON.stringify(obj,toJsonReplacer,pretty?"  ":null)}function fromJson(json){return isString(json)?JSON.parse(json):json}function toBoolean(value){if("function"==typeof value)value=!0;else if(value&&0!==value.length){var v=lowercase(""+value);value=!("f"==v||"0"==v||"false"==v||"no"==v||"n"==v||"[]"==v)}else value=!1;return value}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var TEXT_NODE=3,elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===TEXT_NODE?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var key_value,key,obj={};return forEach((keyValue||"").split("&"),function(keyValue){if(keyValue&&(key_value=keyValue.split("="),key=tryDecodeURIComponent(key_value[0]),isDefined(key))){var val=isDefined(key_value[1])?tryDecodeURIComponent(key_value[1]):!0;obj[key]?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function angularInit(element,bootstrap){function append(element){element&&elements.push(element)}var appElement,module,elements=[element],names=["ng:app","ng-app","x-ng-app","data-ng-app"],NG_APP_CLASS_REGEXP=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;forEach(names,function(name){names[name]=!0,append(document.getElementById(name)),name=name.replace(":","\\:"),element.querySelectorAll&&(forEach(element.querySelectorAll("."+name),append),forEach(element.querySelectorAll("."+name+"\\:"),append),forEach(element.querySelectorAll("["+name+"]"),append))}),forEach(elements,function(element){if(!appElement){var className=" "+element.className+" ",match=NG_APP_CLASS_REGEXP.exec(className);match?(appElement=element,module=(match[2]||"").replace(/\s+/g,",")):forEach(element.attributes,function(attr){!appElement&&names[attr.name]&&(appElement=element,module=attr.value)})}}),appElement&&bootstrap(appElement,module?[module]:[])}function bootstrap(element,modules){var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag)}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),modules.unshift("ng");var injector=createInjector(modules);return injector.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),void(angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)}),doBootstrap()}))}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){jQuery=window.jQuery,jQuery?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),jqLitePatchJQueryRemove("remove",!0,!0,!1),jqLitePatchJQueryRemove("empty",!1,!1,!1),jqLitePatchJQueryRemove("html",!1,!1,!0)):jqLite=JQLite,angular.element=jqLite}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockElements(nodes){var startNode=nodes[0],endNode=nodes[nodes.length-1];if(startNode===endNode)return jqLite(startNode);var element=startNode,elements=[element];do{if(element=element.nextSibling,!element)break;elements.push(element)}while(element!==endNode);return jqLite(elements)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod){return function(){return invokeQueue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],runBlocks=[],config=invokeLater("$injector","invoke"),moduleInstance={_invokeQueue:invokeQueue,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLater("$provide","provider"),factory:invokeLater("$provide","factory"),service:invokeLater("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),animation:invokeLater("$animateProvider","register"),filter:invokeLater("$filterProvider","register"),controller:invokeLater("$controllerProvider","register"),directive:invokeLater("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},$$minErr:minErr,$$csp:csp}),angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,required:requiredDirective,ngRequired:requiredDirective,ngValue:ngValueDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$timeout:$TimeoutProvider,$window:$WindowProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLitePatchJQueryRemove(name,dispatchThis,filterElems,getterIfNoArguments){function removePatch(param){var set,setIndex,setLength,element,childIndex,childLength,children,list=filterElems&&param?[this.filter(param)]:[this],fireEvent=dispatchThis;if(!getterIfNoArguments||null!=param)for(;list.length;)for(set=list.shift(),setIndex=0,setLength=set.length;setLength>setIndex;setIndex++)for(element=jqLite(set[setIndex]),fireEvent?element.triggerHandler("$destroy"):fireEvent=!fireEvent,childIndex=0,childLength=(children=element.children()).length;childLength>childIndex;childIndex++)list.push(jQuery(children[childIndex]));return originalJqFn.apply(this,arguments)}var originalJqFn=jQuery.fn[name];originalJqFn=originalJqFn.$original||originalJqFn,removePatch.$original=originalJqFn,jQuery.fn[name]=removePatch}function JQLite(element){if(element instanceof JQLite)return element;if(!(this instanceof JQLite)){if(isString(element)&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}if(isString(element)){var div=document.createElement("div");div.innerHTML="<div>&#160;</div>"+element,div.removeChild(div.firstChild),jqLiteAddNodes(this,div.childNodes);var fragment=jqLite(document.createDocumentFragment());fragment.append(this)}else jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element){jqLiteRemoveData(element);for(var i=0,children=element.childNodes||[];i<children.length;i++)jqLiteDealoc(children[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var events=jqLiteExpandoStore(element,"events"),handle=jqLiteExpandoStore(element,"handle");handle&&(isUndefined(type)?forEach(events,function(eventHandler,type){removeEventListenerFn(element,type,eventHandler),delete events[type]}):forEach(type.split(" "),function(type){isUndefined(fn)?(removeEventListenerFn(element,type,events[type]),delete events[type]):arrayRemove(events[type]||[],fn)}))}function jqLiteRemoveData(element,name){var expandoId=element[jqName],expandoStore=jqCache[expandoId];if(expandoStore){if(name)return void delete jqCache[expandoId].data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element[jqName]=undefined}}function jqLiteExpandoStore(element,key,value){var expandoId=element[jqName],expandoStore=jqCache[expandoId||-1];return isDefined(value)?(expandoStore||(element[jqName]=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={}),void(expandoStore[key]=value)):expandoStore&&expandoStore[key]}function jqLiteData(element,key,value){var data=jqLiteExpandoStore(element,"data"),isSetter=isDefined(value),keyDefined=!isSetter&&isDefined(key),isSimpleGetter=keyDefined&&!isObject(key);if(data||isSimpleGetter||jqLiteExpandoStore(element,"data",data={}),isSetter)data[key]=value;else{if(!keyDefined)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}function jqLiteHasClass(element,selector){return element.getAttribute?(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1:!1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements){elements=elements.nodeName||!isDefined(elements.length)||isWindow(elements)?[elements]:elements;for(var i=0;i<elements.length;i++)root.push(elements[i])}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element=jqLite(element),9==element[0].nodeType&&(element=element.find("html"));for(var names=isArray(name)?name:[name];element.length;){for(var i=0,ii=names.length;ii>i;i++)if((value=element.data(names[i]))!==undefined)return value;element=element.parent()}}function jqLiteEmpty(element){for(var i=0,childNodes=element.childNodes;i<childNodes.length;i++)jqLiteDealoc(childNodes[i]);for(;element.firstChild;)element.removeChild(element.firstChild)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[element.nodeName]&&booleanAttr}function createEventHandler(element,events){var eventHandler=function(event,type){if(event.preventDefault||(event.preventDefault=function(){event.returnValue=!1}),event.stopPropagation||(event.stopPropagation=function(){event.cancelBubble=!0}),event.target||(event.target=event.srcElement||document),isUndefined(event.defaultPrevented)){var prevent=event.preventDefault;event.preventDefault=function(){event.defaultPrevented=!0,prevent.call(event)},event.defaultPrevented=!1}event.isDefaultPrevented=function(){return event.defaultPrevented||event.returnValue===!1};var eventHandlersCopy=shallowCopy(events[type||event.type]||[]);forEach(eventHandlersCopy,function(fn){fn.call(element,event)}),8>=msie?(event.preventDefault=null,event.stopPropagation=null,event.isDefaultPrevented=null):(delete event.preventDefault,delete event.stopPropagation,delete event.isDefaultPrevented)};return eventHandler.elem=element,eventHandler}function hashKey(obj){var key,objType=typeof obj;return"object"==objType&&null!==obj?"function"==typeof(key=obj.$$hashKey)?key=obj.$$hashKey():key===undefined&&(key=obj.$$hashKey=nextUid()):key=obj,objType+":"+key}function HashMap(array){forEach(array,this.put,this)}function annotate(fn){var $inject,fnText,argDecl,last;return"function"==typeof fn?($inject=fn.$inject)||($inject=[],fn.length&&(fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})),fn.$inject=$inject):isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0),$inject}function createInjector(modulesToLoad){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function factory(name,factoryFn){return provider(name,{$get:factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val))}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){var moduleFn,invokeQueue,i,ii,runBlocks=[];return forEach(modulesToLoad,function(module){if(!loadedModules.get(module)){loadedModules.put(module,!0);try{if(isString(module))for(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),invokeQueue=moduleFn._invokeQueue,i=0,ii=invokeQueue.length;ii>i;i++){var invokeArgs=invokeQueue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}else isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals){var length,i,key,args=[],$inject=annotate(fn);for(i=0,length=$inject.length;length>i;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key))}return fn.$inject||(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals){var instance,returnedValue,Constructor=function(){};return Constructor.prototype=(isArray(Type)?Type[Type.length-1]:Type).prototype,instance=new Constructor,returnedValue=invoke(Type,instance,locals),isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(){throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(servicename){var provider=providerInjector.get(servicename+providerSuffix);return instanceInjector.invoke(provider.$get,provider)});return forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return forEach(list,function(element){result||"a"!==lowercase(element.nodeName)||(result=element)}),result}function scroll(){var elm,hash=$location.hash();hash?(elm=document.getElementById(hash))?elm.scrollIntoView():(elm=getFirstAnchor(document.getElementsByName(hash)))?elm.scrollIntoView():"top"===hash&&$window.scrollTo(0,0):$window.scrollTo(0,0)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(){$rootScope.$evalAsync(scroll)}),scroll}]}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function startPoller(interval,setTimeout){!function check(){forEach(pollFns,function(pollFn){pollFn()}),pollTimeout=setTimeout(check,interval)}()}function fireUrlChange(){newLocation=null,lastBrowserUrl!=self.url()&&(lastBrowserUrl=self.url(),forEach(urlChangeListeners,function(listener){listener(self.url())}))}var self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn()}),0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var pollTimeout,pollFns=[];self.addPollFn=function(fn){return isUndefined(pollTimeout)&&startPoller(100,setTimeout),pollFns.push(fn),fn};var lastBrowserUrl=location.href,baseElement=document.find("base"),newLocation=null;self.url=function(url,replace){if(location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){if(lastBrowserUrl==url)return;return lastBrowserUrl=url,$sniffer.history?replace?history.replaceState(null,"",url):(history.pushState(null,"",url),baseElement.attr("href",baseElement.attr("href"))):(newLocation=url,replace?location.replace(url):location.href=url),self}return newLocation||location.href.replace(/%27/g,"'")};var urlChangeListeners=[],urlChangeInit=!1;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",fireUrlChange),$sniffer.hashchange?jqLite(window).on("hashchange",fireUrlChange):self.addPollFn(fireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var lastCookies={},lastCookieString="",cookiePath=self.baseHref();self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(!name){if(rawDocument.cookie!==lastCookieString)for(lastCookieString=rawDocument.cookie,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=unescape(cookie.substring(0,index)),lastCookies[name]===undefined&&(lastCookies[name]=unescape(cookie.substring(index+1))));return lastCookies}value===undefined?rawDocument.cookie=escape(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT":isString(value)&&(cookieLength=(rawDocument.cookie=escape(name)+"="+escape(value)+";path="+cookiePath).length+1,cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"))},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){var lruEntry=lruHash[key]||(lruHash[key]={key:key});return refresh(lruEntry),isUndefined(value)?void 0:(key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value)},get:function(key){var lruEntry=lruHash[key];if(lruEntry)return refresh(lruEntry),data[key]},remove:function(key){var lruEntry=lruHash[key];lruEntry&&(lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key],delete data[key],size--)},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"A",directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$http,$templateCache,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){3==node.nodeType&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=node=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);return safeAddClass($compileNodes,"ng-scope"),function(scope,cloneConnectFn,transcludeControllers){assertArg(scope,"scope");var $linkNode=cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes;forEach(transcludeControllers,function(instance,name){$linkNode.data("$"+name+"Controller",instance)});for(var i=0,ii=$linkNode.length;ii>i;i++){var node=$linkNode[i],nodeType=node.nodeType;(1===nodeType||9===nodeType)&&$linkNode.eq(i).data("$scope",scope)}return cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode),$linkNode}}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,boundTranscludeFn){var nodeLinkFn,childLinkFn,node,$node,childScope,childTranscludeFn,i,ii,n,nodeListLength=nodeList.length,stableNodeList=new Array(nodeListLength);for(i=0;nodeListLength>i;i++)stableNodeList[i]=nodeList[i];for(i=0,n=0,ii=linkFns.length;ii>i;n++)node=stableNodeList[n],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],$node=jqLite(node),nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),$node.data("$scope",childScope)):childScope=scope,childTranscludeFn=nodeLinkFn.transclude,childTranscludeFn||!boundTranscludeFn&&transcludeFn?nodeLinkFn(childLinkFn,childScope,node,$rootElement,createBoundTranscludeFn(scope,childTranscludeFn||transcludeFn)):nodeLinkFn(childLinkFn,childScope,node,$rootElement,boundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,boundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&safeAddClass(jqLite(nodeList[i]),"ng-scope"),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?nodeLinkFn.transclude:transcludeFn),linkFns.push(nodeLinkFn,childLinkFn),linkFnFound=linkFnFound||nodeLinkFn||childLinkFn,previousCompileContext=null;
return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn){return function(transcludedScope,cloneFn,controllers){var scopeCreated=!1;transcludedScope||(transcludedScope=scope.$new(),transcludedScope.$$transcluded=!0,scopeCreated=!0);var clone=transcludeFn(transcludedScope,cloneFn,controllers);return scopeCreated&&clone.on("$destroy",bind(transcludedScope,transcludedScope.$destroy)),clone}}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case 1:addDirective(directives,directiveNormalize(nodeName_(node).toLowerCase()),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){var attrStartName=!1,attrEndName=!1;if(attr=nAttrs[j],!msie||msie>=8||attr.specified){name=attr.name,ngAttrName=directiveNormalize(name),NG_ATTR_BINDING.test(ngAttrName)&&(name=snake_case(ngAttrName.substr(6),"-"));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,attrs[nName]=value=trim(attr.value),getBooleanAttrName(node,nName)&&(attrs[nName]=!0),addAttrInterpolateDirective(node,directives,value,nName),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}}if(className=node.className,isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case 3:addTextInterpolateDirective(directives,node.nodeValue);break;case 8:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);1==node.nodeType&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(require,$element,elementControllers){var value,retrievalMethod="data",optional=!1;if(isString(require)){for(;"^"==(value=require.charAt(0))||"?"==value;)require=require.substr(1),"^"==value&&(retrievalMethod="inheritedData"),optional=optional||"?"==value;if(value=null,elementControllers&&"data"===retrievalMethod&&(value=elementControllers[require]),value=value||$element[retrievalMethod]("$"+require+"Controller"),!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",require,directiveName);return value}return isArray(require)&&(value=[],forEach(require,function(require){value.push(getControllers(require,$element,elementControllers))})),value}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn){var transcludeControllers;return arguments.length<2&&(cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers)}var attrs,$element,i,ii,linkFn,controller,isolateScope,transcludeFn,elementControllers={};if(attrs=compileNode===linkNode?templateAttrs:shallowCopy(templateAttrs,new Attributes(jqLite(linkNode),templateAttrs.$attr)),$element=attrs.$$element,newIsolateScopeDirective){var LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/,$linkNode=jqLite(linkNode);isolateScope=scope.$new(!0),templateDirective&&templateDirective===newIsolateScopeDirective.$$originalDirective?$linkNode.data("$isolateScope",isolateScope):$linkNode.data("$isolateScopeNoTemplate",isolateScope),safeAddClass($linkNode,"ng-isolate-scope"),forEach(newIsolateScopeDirective.scope,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,match=definition.match(LOCAL_REGEXP)||[],attrName=match[3]||scopeName,optional="?"==match[2],mode=match[1];switch(isolateScope.$$isolateBindings[scopeName]=mode+attrName,mode){case"@":attrs.$observe(attrName,function(value){isolateScope[scopeName]=value}),attrs.$$observers[attrName].$$scope=scope,attrs[attrName]&&(isolateScope[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b},parentSet=parentGet.assign||function(){throw lastValue=isolateScope[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],newIsolateScopeDirective.name)},lastValue=isolateScope[scopeName]=parentGet(scope),isolateScope.$watch(function(){var parentValue=parentGet(scope);return compare(parentValue,isolateScope[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=isolateScope[scopeName]):isolateScope[scopeName]=parentValue),lastValue=parentValue},null,parentGet.literal);break;case"&":parentGet=$parse(attrs[attrName]),isolateScope[scopeName]=function(locals){return parentGet(scope,locals)};break;default:throw $compileMinErr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",newIsolateScopeDirective.name,scopeName,definition)}})}for(transcludeFn=boundTranscludeFn&&controllersBoundTransclude,controllerDirectives&&forEach(controllerDirectives,function(directive){var controllerInstance,locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};controller=directive.controller,"@"==controller&&(controller=attrs[directive.name]),controllerInstance=$controller(controller,locals),elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance),directive.controllerAs&&(locals.$scope[directive.controllerAs]=controllerInstance)}),i=0,ii=preLinkFns.length;ii>i;i++)try{linkFn=preLinkFns[i],linkFn(linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.require,$element,elementControllers),transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)try{linkFn=postLinkFns[i],linkFn(linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.require,$element,elementControllers),transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}previousCompileContext=previousCompileContext||{};for(var newScopeDirective,directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasElementTranscludeDirective=!1,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(newScopeDirective=newScopeDirective||directive,directive.templateUrl||(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode),isObject(directiveValue)&&(newIsolateScopeDirective=directive))),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||{},assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=groupScan(compileNode,attrStart,attrEnd),$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,jqLite(sliceArgs($template)),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLite("<div>"+trim(directiveValue)+"</div>").contents(),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transclude=hasTranscludeDirective&&childTranscludeFn,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=extend({},origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl;return $compileNode.empty(),$http.get($sce.getTrustedResourceUrl(templateUrl),{cache:$templateCache}).success(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLite("<div>"+trim(content)+"</div>").contents(),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];beforeTemplateLinkNode!==beforeTemplateCompileNode&&(linkNode=jqLiteClone(compileNode),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode)),childBoundTranscludeFn=afterTemplateNodeLinkFn.transclude?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null}).error(function(response,code,headers,config){throw $compileMinErr("tpload","Failed to load template: {0}",config.url)}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){linkQueue?(linkQueue.push(scope),linkQueue.push(node),linkQueue.push(rootElement),linkQueue.push(boundTranscludeFn)):afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,boundTranscludeFn)}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",previousDirective.name,directive.name,what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:valueFn(function(scope,node){var parent=node.parent(),bindings=parent.data("$binding")||[];bindings.push(interpolateFn),safeAddClass(parent.data("$binding",bindings),"ng-binding"),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})})})}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"FORM"==tag&&"action"==attrNormalizedName||"IMG"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name){var interpolateFn=$interpolate(value,!0);if(interpolateFn){if("multiple"===name&&"SELECT"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");interpolateFn=$interpolate(attr[name],!0,getTrustedContext(node,name)),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1;break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),newNode[jqLite.expando]=firstElementToRemove[jqLite.expando];for(var k=1,kk=elementsToRemove.length;kk>k;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}var Attributes=function(element,attr){this.$$element=element,this.$attr=attr||{}};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){this.$removeClass(tokenDifference(oldClasses,newClasses)),this.$addClass(tokenDifference(newClasses,oldClasses))},$set:function(key,value,writeAttr,attrName){var nodeName,booleanKey=getBooleanAttrName(this.$$element[0],key);booleanKey&&(this.$$element.prop(key,value),attrName=booleanKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),("A"===nodeName&&"href"===key||"IMG"===nodeName&&"src"===key)&&(this[key]=value=$$sanitizeUri(value,"src"===key)),writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[key],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers={}),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||fn(attrs[key])}),fn}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function $ControllerProvider(){var controllers={},CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.$get=["$injector","$window",function($injector,$window){return function(expression,locals){var instance,match,constructor,identifier;if(isString(expression)&&(match=expression.match(CNTRL_REG),constructor=match[1],identifier=match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||getter($window,constructor,!0),assertArgFn(expression,constructor,!0)),instance=$injector.instantiate(expression,locals),identifier){if(!locals||"object"!=typeof locals.$scope)throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",constructor||expression.name,identifier);locals.$scope[identifier]=instance}return instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(){$log.error.apply($log,arguments)}}]}function parseHeaders(headers){var key,val,i,parsed={};return headers?(forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=lowercase(trim(line.substr(0,i))),val=trim(line.substr(i+1)),key&&(parsed[key]?parsed[key]+=", "+val:parsed[key]=val)}),parsed):parsed}function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){return headersObj||(headersObj=parseHeaders(headers)),name?headersObj[lowercase(name)]||null:headersObj}}function transformData(data,headers,fns){return isFunction(fns)?fns(data,headers):(forEach(fns,function(fn){data=fn(data,headers)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var JSON_START=/^\s*(\[|\{[^\{])/,JSON_END=/[\}\]]\s*$/,PROTECTION_PREFIX=/^\)\]\}',?\n/,CONTENT_TYPE_APPLICATION_JSON={"Content-Type":"application/json;charset=utf-8"},defaults=this.defaults={transformResponse:[function(data){return isString(data)&&(data=data.replace(PROTECTION_PREFIX,""),JSON_START.test(data)&&JSON_END.test(data)&&(data=fromJson(data))),data}],transformRequest:[function(d){return isObject(d)&&!isFile(d)?toJson(d):d}],headers:{common:{Accept:"application/json, text/plain, */*"},post:CONTENT_TYPE_APPLICATION_JSON,put:CONTENT_TYPE_APPLICATION_JSON,patch:CONTENT_TYPE_APPLICATION_JSON},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},interceptorFactories=this.interceptors=[],responseInterceptorFactories=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response,{data:transformData(response.data,response.headers,config.transformResponse)});return isSuccess(response.status)?resp:$q.reject(resp)}function mergeHeaders(config){function execHeaders(headers){var headerContent;forEach(headers,function(headerFn,header){isFunction(headerFn)&&(headerContent=headerFn(),null!=headerContent?headers[header]=headerContent:delete headers[header])})}var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]),execHeaders(defHeaders),execHeaders(reqHeaders);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return reqHeaders}var config={transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse},headers=mergeHeaders(requestConfig);extend(config,requestConfig),config.headers=headers,config.method=uppercase(config.method);var xsrfValue=urlIsSameOrigin(config.url)?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(headers[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue);var serverRequest=function(config){headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),config.transformRequest);return isUndefined(config.data)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData,headers).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise}function createShortMethods(){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{method:name,url:url}))}})}function createShortMethodsWithData(){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData,reqHeaders){function done(status,response,headersString){cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString)]):cache.remove(url)),resolvePromise(response,status,headersString),$rootScope.$$phase||$rootScope.$apply()}function resolvePromise(response,status,headers){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config})}function removePendingReq(){var idx=indexOf($http.pendingRequests,config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,url=buildUrl(config.url,config.params);if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),(config.cache||defaults.cache)&&config.cache!==!1&&"GET"==config.method&&(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache)if(cachedResp=cache.get(url),isDefined(cachedResp)){if(cachedResp.then)return cachedResp.then(removePendingReq,removePendingReq),cachedResp;isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],copy(cachedResp[2])):resolvePromise(cachedResp,200,{})}else cache.put(url,promise);return isUndefined(cachedResp)&&$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType),promise}function buildUrl(url,params){if(!params)return url;var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)||(value=[value]),forEach(value,function(v){isObject(v)&&(v=toJson(v)),parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))}))}),url+(-1==url.indexOf("?")?"?":"&")+parts.join("&")}var defaultCache=$cacheFactory("$http"),reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),forEach(responseInterceptorFactories,function(interceptorFactory,index){var responseFn=isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory);reversedInterceptors.splice(index,0,{response:function(response){return responseFn($q.when(response))},responseError:function(response){return responseFn($q.reject(response))}})}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put"),$http.defaults=defaults,$http}]}function createXhr(method){return 8>=msie&&"patch"===lowercase(method)?new ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,done){var script=rawDocument.createElement("script"),doneWrapper=function(){script.onreadystatechange=script.onload=script.onerror=null,rawDocument.body.removeChild(script),done&&done()};return script.type="text/javascript",script.src=url,msie&&8>=msie?script.onreadystatechange=function(){/loaded|complete/.test(script.readyState)&&doneWrapper()}:script.onload=script.onerror=function(){doneWrapper()},rawDocument.body.appendChild(script),doneWrapper}var ABORTED=-1;return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){status=ABORTED,jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString){var protocol=urlResolve(url).protocol;timeoutId&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,status="file"==protocol&&0===status?response?200:404:status,status=1223==status?204:status,callback(status,response,headersString),$browser.$$completeOutstandingRequest(noop)}var status;if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);
callbacks[callbackId]=function(data){callbacks[callbackId].data=data};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),function(){callbacks[callbackId].data?completeRequest(callback,200,callbacks[callbackId].data):completeRequest(callback,status||-2),delete callbacks[callbackId]})}else{var xhr=createXhr(method);xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onreadystatechange=function(){if(xhr&&4==xhr.readyState){var responseHeaders=null,response=null;status!==ABORTED&&(responseHeaders=xhr.getAllResponseHeaders(),response=xhr.responseType?xhr.response:xhr.responseText),completeRequest(callback,status||xhr.status,response,responseHeaders)}},withCredentials&&(xhr.withCredentials=!0),responseType&&(xhr.responseType=responseType),xhr.send(post||null)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else timeout&&timeout.then&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function $interpolate(text,mustHaveExpression,trustedContext){for(var startIndex,endIndex,fn,exp,index=0,parts=[],length=text.length,hasInterpolation=!1,concat=[];length>index;)-1!=(startIndex=text.indexOf(startSymbol,index))&&-1!=(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))?(index!=startIndex&&parts.push(text.substring(index,startIndex)),parts.push(fn=$parse(exp=text.substring(startIndex+startSymbolLength,endIndex))),fn.exp=exp,index=endIndex+endSymbolLength,hasInterpolation=!0):(index!=length&&parts.push(text.substring(index)),index=length);if((length=parts.length)||(parts.push(""),length=1),trustedContext&&parts.length>1)throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text);return!mustHaveExpression||hasInterpolation?(concat.length=length,fn=function(context){try{for(var part,i=0,ii=length;ii>i;i++)"function"==typeof(part=parts[i])&&(part=part(context),part=trustedContext?$sce.getTrusted(trustedContext,part):$sce.valueOf(part),null===part||isUndefined(part)?part="":"string"!=typeof part&&(part=toJson(part))),concat[i]=part;return concat.join("")}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}},fn.exp=text,fn.parts=parts,fn):void 0}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length;return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q",function($rootScope,$window,$q){function interval(fn,delay,count,invokeApply){var setInterval=$window.setInterval,clearInterval=$window.clearInterval,deferred=$q.defer(),promise=deferred.promise,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply;return count=isDefined(count)?count:0,promise.then(null,null,fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return promise&&promise.$$intervalId in intervals?(intervals[promise.$$intervalId].reject("canceled"),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0):!1},interval}]}function $LocaleProvider(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(num){return 1===num?"one":"other"}}}}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj,appBase){var parsedUrl=urlResolve(absoluteUrl,appBase);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=int(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj,appBase){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl,appBase);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){return 0===whole.indexOf(begin)?whole.substr(begin.length):void 0}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this,appBase),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$rewrite=function(url){var appUrl,prevAppUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?appBaseNoFile+appUrl:appBaseNoFile==url+"/"?appBaseNoFile:void 0}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/?.*?:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url),withoutHashUrl="#"==withoutBaseUrl.charAt(0)?beginsWith(hashPrefix,withoutBaseUrl):this.$$html5?withoutBaseUrl:"";if(!isString(withoutHashUrl))throw $locationMinErr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',url,hashPrefix);parseAppUrl(withoutHashUrl,this,appBase),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$rewrite=function(url){return stripHash(appBase)==stripHash(url)?url:void 0}}function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$rewrite=function(url){var appUrl;return appBase==stripHash(url)?url:(appUrl=beginsWith(appBaseNoFile,url))?appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"?appBaseNoFile:void 0}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode=!1;this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isDefined(mode)?(html5Mode=mode,this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function($rootScope,$browser,$sniffer,$rootElement){function afterLocationChange(oldUrl){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();html5Mode?(appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url):(appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl),$location=new LocationMode(appBase,"#"+hashPrefix),$location.$$parse($location.$$rewrite(initialUrl)),$rootElement.on("click",function(event){if(!event.ctrlKey&&!event.metaKey&&2!=event.which){for(var elm=jqLite(event.target);"a"!==lowercase(elm[0].nodeName);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href);var rewrittenUrl=$location.$$rewrite(absHref);absHref&&!elm.attr("target")&&rewrittenUrl&&!event.isDefaultPrevented()&&(event.preventDefault(),rewrittenUrl!=$browser.url()&&($location.$$parse(rewrittenUrl),$rootScope.$apply(),window.angular["ff-684208-preventDefault"]=!0))}}),$location.absUrl()!=initialUrl&&$browser.url($location.absUrl(),!0),$browser.onUrlChange(function(newUrl){$location.absUrl()!=newUrl&&($rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();$location.$$parse(newUrl),$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl).defaultPrevented?($location.$$parse(oldUrl),$browser.url(oldUrl)):afterLocationChange(oldUrl)}),$rootScope.$$phase||$rootScope.$digest())});var changeCounter=0;return $rootScope.$watch(function(){var oldUrl=$browser.url(),currentReplace=$location.$$replace;return changeCounter&&oldUrl==$location.absUrl()||(changeCounter++,$rootScope.$evalAsync(function(){$rootScope.$broadcast("$locationChangeStart",$location.absUrl(),oldUrl).defaultPrevented?$location.$$parse(oldUrl):($browser.url($location.absUrl(),currentReplace),afterLocationChange(oldUrl))})),$location.$$replace=!1,changeCounter}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("constructor"===name)throw $parseMinErr("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.document&&obj.location&&obj.alert&&obj.setInterval)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.on&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function setter(obj,path,setValue,fullExp,options){options=options||{};for(var key,element=path.split("."),i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);var propertyObj=obj[key];propertyObj||(propertyObj={},obj[key]=propertyObj),obj=propertyObj,obj.then&&options.unwrapPromises&&(promiseWarning(fullExp),"$$v"in obj||!function(promise){promise.then(function(val){promise.$$v=val})}(obj),obj.$$v===undefined&&(obj.$$v={}),obj=obj.$$v)}return key=ensureSafeMemberName(element.shift(),fullExp),obj[key]=setValue,setValue}function cspSafeGetterFn(key0,key1,key2,key3,key4,fullExp,options){return ensureSafeMemberName(key0,fullExp),ensureSafeMemberName(key1,fullExp),ensureSafeMemberName(key2,fullExp),ensureSafeMemberName(key3,fullExp),ensureSafeMemberName(key4,fullExp),options.unwrapPromises?function(scope,locals){var promise,pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=pathVal[key0],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),null==pathVal?key1?undefined:pathVal:(pathVal=pathVal[key1],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),null==pathVal?key2?undefined:pathVal:(pathVal=pathVal[key2],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),null==pathVal?key3?undefined:pathVal:(pathVal=pathVal[key3],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),null==pathVal?key4?undefined:pathVal:(pathVal=pathVal[key4],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),pathVal)))))}:function(scope,locals){var pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=pathVal[key0],null==pathVal?key1?undefined:pathVal:(pathVal=pathVal[key1],null==pathVal?key2?undefined:pathVal:(pathVal=pathVal[key2],null==pathVal?key3?undefined:pathVal:(pathVal=pathVal[key3],null==pathVal?key4?undefined:pathVal:pathVal=pathVal[key4]))))}}function simpleGetterFn1(key0,fullExp){return ensureSafeMemberName(key0,fullExp),function(scope,locals){return null==scope?undefined:(locals&&locals.hasOwnProperty(key0)?locals:scope)[key0]}}function simpleGetterFn2(key0,key1,fullExp){return ensureSafeMemberName(key0,fullExp),ensureSafeMemberName(key1,fullExp),function(scope,locals){return null==scope?undefined:(scope=(locals&&locals.hasOwnProperty(key0)?locals:scope)[key0],null==scope?undefined:scope[key1])}}function getterFn(path,options,fullExp){if(getterFnCache.hasOwnProperty(path))return getterFnCache[path];var fn,pathKeys=path.split("."),pathKeysLength=pathKeys.length;if(options.unwrapPromises||1!==pathKeysLength)if(options.unwrapPromises||2!==pathKeysLength)if(options.csp)fn=6>pathKeysLength?cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4],fullExp,options):function(scope,locals){var val,i=0;do val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],fullExp,options)(scope,locals),locals=undefined,scope=val;while(pathKeysLength>i);return val};else{var code="var p;\n";forEach(pathKeys,function(key,index){ensureSafeMemberName(key,fullExp),code+="if(s == null) return undefined;\ns="+(index?"s":'((k&&k.hasOwnProperty("'+key+'"))?k:s)')+'["'+key+'"];\n'+(options.unwrapPromises?'if (s && s.then) {\n pw("'+fullExp.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),code+="return s;";var evaledFnGetter=new Function("s","k","pw",code);evaledFnGetter.toString=valueFn(code),fn=options.unwrapPromises?function(scope,locals){return evaledFnGetter(scope,locals,promiseWarning)}:evaledFnGetter}else fn=simpleGetterFn2(pathKeys[0],pathKeys[1],fullExp);else fn=simpleGetterFn1(pathKeys[0],fullExp);return"hasOwnProperty"!==path&&(getterFnCache[path]=fn),fn}function $ParseProvider(){var cache={},$parseOptions={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(value){return isDefined(value)?($parseOptions.unwrapPromises=!!value,this):$parseOptions.unwrapPromises},this.logPromiseWarnings=function(value){return isDefined(value)?($parseOptions.logPromiseWarnings=value,this):$parseOptions.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function($filter,$sniffer,$log){return $parseOptions.csp=$sniffer.csp,promiseWarning=function(fullExp){$parseOptions.logPromiseWarnings&&!promiseWarningCache.hasOwnProperty(fullExp)&&(promiseWarningCache[fullExp]=!0,$log.warn("[$parse] Promise found in the expression `"+fullExp+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(exp){var parsedExpression;switch(typeof exp){case"string":if(cache.hasOwnProperty(exp))return cache[exp];var lexer=new Lexer($parseOptions),parser=new Parser(lexer,$filter,$parseOptions);return parsedExpression=parser.parse(exp,!1),"hasOwnProperty"!==exp&&(cache[exp]=parsedExpression),parsedExpression;case"function":return exp;default:return noop}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function defaultCallback(value){return value}function defaultErrback(reason){return reject(reason)}function all(promises){var deferred=defer(),counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,ref(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var defer=function(){var value,deferred,pending=[];return deferred={resolve:function(val){if(pending){var callbacks=pending;pending=undefined,value=ref(val),callbacks.length&&nextTick(function(){for(var callback,i=0,ii=callbacks.length;ii>i;i++)callback=callbacks[i],value.then(callback[0],callback[1],callback[2])})}},reject:function(reason){deferred.resolve(reject(reason))},notify:function(progress){if(pending){var callbacks=pending;pending.length&&nextTick(function(){for(var callback,i=0,ii=callbacks.length;ii>i;i++)callback=callbacks[i],callback[2](progress)})}},promise:{then:function(callback,errback,progressback){var result=defer(),wrappedCallback=function(value){try{result.resolve((isFunction(callback)?callback:defaultCallback)(value))}catch(e){result.reject(e),exceptionHandler(e)}},wrappedErrback=function(reason){try{result.resolve((isFunction(errback)?errback:defaultErrback)(reason))}catch(e){result.reject(e),exceptionHandler(e)}},wrappedProgressback=function(progress){try{result.notify((isFunction(progressback)?progressback:defaultCallback)(progress))}catch(e){exceptionHandler(e)}};return pending?pending.push([wrappedCallback,wrappedErrback,wrappedProgressback]):value.then(wrappedCallback,wrappedErrback,wrappedProgressback),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback){function makePromise(value,resolved){var result=defer();return resolved?result.resolve(value):result.reject(value),result.promise}function handleCallback(value,isResolved){var callbackOutput=null;try{callbackOutput=(callback||defaultCallback)()}catch(e){return makePromise(e,!1)}return callbackOutput&&isFunction(callbackOutput.then)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)}return this.then(function(value){return handleCallback(value,!0)},function(error){return handleCallback(error,!1)})}}}},ref=function(value){return value&&isFunction(value.then)?value:{then:function(callback){var result=defer();return nextTick(function(){result.resolve(callback(value))}),result.promise}}},reject=function(reason){return{then:function(callback,errback){var result=defer();return nextTick(function(){try{result.resolve((isFunction(errback)?errback:defaultErrback)(reason))}catch(e){result.reject(e),exceptionHandler(e)}}),result.promise}}},when=function(value,callback,errback,progressback){var done,result=defer(),wrappedCallback=function(value){try{return(isFunction(callback)?callback:defaultCallback)(value)}catch(e){return exceptionHandler(e),reject(e)}},wrappedErrback=function(reason){try{return(isFunction(errback)?errback:defaultErrback)(reason)}catch(e){return exceptionHandler(e),reject(e)}},wrappedProgressback=function(progress){try{return(isFunction(progressback)?progressback:defaultCallback)(progress)}catch(e){exceptionHandler(e)}};return nextTick(function(){ref(value).then(function(value){done||(done=!0,result.resolve(ref(value).then(wrappedCallback,wrappedErrback,wrappedProgressback)))},function(reason){done||(done=!0,result.resolve(wrappedErrback(reason)))},function(progress){done||result.notify(wrappedProgressback(progress))})}),result.promise};return{defer:defer,reject:reject,when:when,all:all}}function $RootScopeProvider(){var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function compileToFn(exp,name){var fn=$parse(exp);return assertArgFn(fn,name),fn}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}Scope.prototype={constructor:Scope,$new:function(isolate){var ChildScope,child;return isolate?(child=new Scope,child.$root=this.$root,child.$$asyncQueue=this.$$asyncQueue,child.$$postDigestQueue=this.$$postDigestQueue):(ChildScope=function(){},ChildScope.prototype=this,child=new ChildScope,child.$id=nextUid()),child["this"]=child,child.$$listeners={},child.$$listenerCount={},child.$parent=this,child.$$watchers=child.$$nextSibling=child.$$childHead=child.$$childTail=null,child.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=child,this.$$childTail=child):this.$$childHead=this.$$childTail=child,child},$watch:function(watchExp,listener,objectEquality){var scope=this,get=compileToFn(watchExp,"watch"),array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:watchExp,eq:!!objectEquality};if(lastDirtyWatch=null,!isFunction(listener)){var listenFn=compileToFn(listener||noop,"listener");watcher.fn=function(newVal,oldVal,scope){listenFn(scope)}}if("string"==typeof watchExp&&get.constant){var originalFn=watcher.fn;watcher.fn=function(newVal,oldVal,scope){originalFn.call(this,newVal,oldVal,scope),arrayRemove(array,watcher)}}return array||(array=scope.$$watchers=[]),array.unshift(watcher),function(){arrayRemove(array,watcher),lastDirtyWatch=null}},$watchCollection:function(obj,listener){function $watchCollectionWatch(){newValue=objGetter(self);var newLength,key;if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)oldValue[i]!==newValue[i]&&(changeDetected++,oldValue[i]=newValue[i])}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,oldValue.hasOwnProperty(key)?oldValue[key]!==newValue[key]&&(changeDetected++,oldValue[key]=newValue[key]):(oldLength++,oldValue[key]=newValue[key],changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)oldValue.hasOwnProperty(key)&&!newValue.hasOwnProperty(key)&&(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}function $watchCollectionAction(){listener(newValue,oldValue,self)}var oldValue,newValue,self=this,changeDetected=0,objGetter=$parse(obj),internalArray=[],internalObject={},oldLength=0;return this.$watch($watchCollectionWatch,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,logMsg,asyncTask,asyncQueue=this.$$asyncQueue,postDigestQueue=this.$$postDigestQueue,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression)}catch(e){clearPhase(),$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),logMsg=isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,logMsg+="; newVal: "+toJson(value)+"; oldVal: "+toJson(last),watchLog[logIdx].push(logMsg))}catch(e){clearPhase(),$exceptionHandler(e)}if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if(dirty&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,toJson(watchLog))}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$rootScope&&(forEach(this.$$listenerCount,bind(null,decrementListenerCount,this)),parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr){$rootScope.$$phase||$rootScope.$$asyncQueue.length||$browser.defer(function(){$rootScope.$$asyncQueue.length&&$rootScope.$digest()}),this.$$asyncQueue.push({scope:this,expression:expr})},$$postDigest:function(fn){this.$$postDigestQueue.push(fn)},$apply:function(expr){try{return beginPhase("$apply"),this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){namedListeners[indexOf(namedListeners,listener)]=null,decrementListenerCount(self,1,name)}},$emit:function(name){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event;scope=scope.$parent}while(scope);return event},$broadcast:function(name){for(var listeners,i,length,target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event}};var $rootScope=new Scope;return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return msie&&!(msie>=8)||(normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex))?uri:"unsafe:"+normalizedVal}}}function escapeForRegexp(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')
}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sniffer","$sceDelegate",function($parse,$sniffer,$sceDelegate){if(enabled&&$sniffer.msie&&$sniffer.msieDocumentMode<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=copy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:function(self,locals){return sce.getTrusted(type,parsed(self,locals))}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},documentMode=document.documentMode,vendorRegex=/^(Moz|webkit|O|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(document.body.style.webkitTransition),animations=isString(document.body.style.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||4>android||boxee),hashchange:"onhashchange"in $window&&(!documentMode||documentMode>7),hasEvent:function(event){if("input"==event&&9==msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android,msie:msie,msieDocumentMode:documentMode}}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function($rootScope,$browser,$q,$exceptionHandler){function timeout(fn,delay,invokeApply){var timeoutId,deferred=$q.defer(),promise=deferred.promise,skipApply=isDefined(invokeApply)&&!invokeApply;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn())}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArray(array))return array;var comparatorType=typeof comparator,predicates=[];predicates.check=function(value){for(var j=0;j<predicates.length;j++)if(!predicates[j](value))return!1;return!0},"function"!==comparatorType&&(comparator="boolean"===comparatorType&&comparator?function(obj,text){return angular.equals(obj,text)}:function(obj,text){return text=(""+text).toLowerCase(),(""+obj).toLowerCase().indexOf(text)>-1});var search=function(obj,text){if("string"==typeof text&&"!"===text.charAt(0))return!search(obj,text.substr(1));switch(typeof obj){case"boolean":case"number":case"string":return comparator(obj,text);case"object":switch(typeof text){case"object":return comparator(obj,text);default:for(var objKey in obj)if("$"!==objKey.charAt(0)&&search(obj[objKey],text))return!0}return!1;case"array":for(var i=0;i<obj.length;i++)if(search(obj[i],text))return!0;return!1;default:return!1}};switch(typeof expression){case"boolean":case"number":case"string":expression={$:expression};case"object":for(var key in expression)"$"==key?!function(){if(expression[key]){var path=key;predicates.push(function(value){return search(value,expression[path])})}}():!function(){if("undefined"!=typeof expression[key]){var path=key;predicates.push(function(value){return search(getter(value,path),expression[path])})}}();break;case"function":predicates.push(expression);break;default:return array}for(var filtered=[],j=0;j<array.length;j++){var value=array[j];predicates.check(value)&&filtered.push(value)}return filtered}}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,2).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(isNaN(number)||!isFinite(number))return"";var isNegative=0>number;number=Math.abs(number);var numStr=number+"",formatedText="",parts=[],hasExponent=!1;if(-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?numStr="0":(formatedText=numStr,hasExponent=!0)}if(hasExponent)fractionSize>0&&number>-1&&1>number&&(formatedText=number.toFixed(fractionSize));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac));var pow=Math.pow(10,fractionSize);number=Math.round(number*pow)/pow;var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;pos>i;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return parts.push(isNegative?pattern.negPre:pattern.posPre),parts.push(formatedText),parts.push(isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset(),paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));var h=int(match[4]||0)-tzHour,m=int(match[5]||0)-tzMin,s=int(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);return forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object){return toJson(object,!0)}}function limitToFilter(){return function(input,limit){if(!isArray(input)&&!isString(input))return input;if(limit=int(limit),isString(input))return limit?limit>=0?input.slice(0,limit):input.slice(limit,input.length):"";var i,n,out=[];for(limit>input.length?limit=input.length:limit<-input.length&&(limit=-input.length),limit>0?(i=0,n=limit):(i=input.length+limit,n=input.length);n>i;i++)out.push(input[i]);return out}}function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){function comparator(o1,o2){for(var i=0;i<sortPredicate.length;i++){var comp=sortPredicate[i](o1,o2);if(0!==comp)return comp}return 0}function reverseComparator(comp,descending){return toBoolean(descending)?function(a,b){return comp(b,a)}:comp}function compare(v1,v2){var t1=typeof v1,t2=typeof v2;return t1==t2?("string"==t1&&(v1=v1.toLowerCase(),v2=v2.toLowerCase()),v1===v2?0:v2>v1?-1:1):t2>t1?-1:1}if(!isArray(array))return array;if(!sortPredicate)return array;sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate],sortPredicate=map(sortPredicate,function(predicate){var descending=!1,get=predicate||identity;return isString(predicate)&&(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0),predicate=predicate.substring(1)),get=$parse(predicate)),reverseComparator(function(a,b){return compare(get(a),get(b))},descending)});for(var arrayCopy=[],i=0;i<array.length;i++)arrayCopy.push(array[i]);return arrayCopy.sort(reverseComparator(comparator,reverseOrder))}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function FormController(element,attrs){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",element.removeClass((isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey).addClass((isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey)}var form=this,parentForm=element.parent().controller("form")||nullFormCtrl,invalidCount=0,errors=form.$error={},controls=[];form.$name=attrs.name||attrs.ngForm,form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,parentForm.$addControl(form),element.addClass(PRISTINE_CLASS),toggleValidCss(!0),form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control)},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(errors,function(queue,validationToken){form.$setValidity(validationToken,!0,control)}),arrayRemove(controls,control)},form.$setValidity=function(validationToken,isValid,control){var queue=errors[validationToken];if(isValid)queue&&(arrayRemove(queue,control),queue.length||(invalidCount--,invalidCount||(toggleValidCss(isValid),form.$valid=!0,form.$invalid=!1),errors[validationToken]=!1,toggleValidCss(!0,validationToken),parentForm.$setValidity(validationToken,!0,form)));else{if(invalidCount||toggleValidCss(isValid),queue){if(includes(queue,control))return}else errors[validationToken]=queue=[],invalidCount++,toggleValidCss(!1,validationToken),parentForm.$setValidity(validationToken,!1,form);queue.push(control),form.$valid=!1,form.$invalid=!0}},form.$setDirty=function(){element.removeClass(PRISTINE_CLASS).addClass(DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){element.removeClass(DIRTY_CLASS).addClass(PRISTINE_CLASS),form.$dirty=!1,form.$pristine=!0,forEach(controls,function(control){control.$setPristine()})}}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionend",function(){composing=!1})}var listener=function(){if(!composing){var value=element.val();toBoolean(attr.ngTrim||"T")&&(value=trim(value)),ctrl.$viewValue!==value&&(scope.$$phase?ctrl.$setViewValue(value):scope.$apply(function(){ctrl.$setViewValue(value)}))}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(){timeout||(timeout=$browser.defer(function(){listener(),timeout=null}))};element.on("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener()}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue)};var patternValidator,match,pattern=attr.ngPattern,validate=function(regexp,value){return ctrl.$isEmpty(value)||regexp.test(value)?(ctrl.$setValidity("pattern",!0),value):(ctrl.$setValidity("pattern",!1),undefined)};if(pattern&&(match=pattern.match(/^\/(.*)\/([gim]*)$/),match?(pattern=new RegExp(match[1],match[2]),patternValidator=function(value){return validate(pattern,value)}):patternValidator=function(value){var patternObj=scope.$eval(pattern);if(!patternObj||!patternObj.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",pattern,patternObj,startingTag(element));return validate(patternObj,value)},ctrl.$formatters.push(patternValidator),ctrl.$parsers.push(patternValidator)),attr.ngMinlength){var minlength=int(attr.ngMinlength),minLengthValidator=function(value){return!ctrl.$isEmpty(value)&&value.length<minlength?(ctrl.$setValidity("minlength",!1),undefined):(ctrl.$setValidity("minlength",!0),value)};ctrl.$parsers.push(minLengthValidator),ctrl.$formatters.push(minLengthValidator)}if(attr.ngMaxlength){var maxlength=int(attr.ngMaxlength),maxLengthValidator=function(value){return!ctrl.$isEmpty(value)&&value.length>maxlength?(ctrl.$setValidity("maxlength",!1),undefined):(ctrl.$setValidity("maxlength",!0),value)};ctrl.$parsers.push(maxLengthValidator),ctrl.$formatters.push(maxLengthValidator)}}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(textInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$parsers.push(function(value){var empty=ctrl.$isEmpty(value);return empty||NUMBER_REGEXP.test(value)?(ctrl.$setValidity("number",!0),""===value?null:empty?value:parseFloat(value)):(ctrl.$setValidity("number",!1),undefined)}),ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?"":""+value}),attr.min){var minValidator=function(value){var min=parseFloat(attr.min);return!ctrl.$isEmpty(value)&&min>value?(ctrl.$setValidity("min",!1),undefined):(ctrl.$setValidity("min",!0),value)};ctrl.$parsers.push(minValidator),ctrl.$formatters.push(minValidator)}if(attr.max){var maxValidator=function(value){var max=parseFloat(attr.max);return!ctrl.$isEmpty(value)&&value>max?(ctrl.$setValidity("max",!1),undefined):(ctrl.$setValidity("max",!0),value)};ctrl.$parsers.push(maxValidator),ctrl.$formatters.push(maxValidator)}ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)||isNumber(value)?(ctrl.$setValidity("number",!0),value):(ctrl.$setValidity("number",!1),undefined)})}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var urlValidator=function(value){return ctrl.$isEmpty(value)||URL_REGEXP.test(value)?(ctrl.$setValidity("url",!0),value):(ctrl.$setValidity("url",!1),undefined)};ctrl.$formatters.push(urlValidator),ctrl.$parsers.push(urlValidator)}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var emailValidator=function(value){return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)?(ctrl.$setValidity("email",!0),value):(ctrl.$setValidity("email",!1),undefined)};ctrl.$formatters.push(emailValidator),ctrl.$parsers.push(emailValidator)}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid()),element.on("click",function(){element[0].checked&&scope.$apply(function(){ctrl.$setViewValue(attr.value)})}),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function checkboxInputType(scope,element,attr,ctrl){var trueValue=attr.ngTrueValue,falseValue=attr.ngFalseValue;isString(trueValue)||(trueValue=!0),isString(falseValue)||(falseValue=!1),element.on("click",function(){scope.$apply(function(){ctrl.$setViewValue(element[0].checked)})}),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value!==trueValue},ctrl.$formatters.push(function(value){return value===trueValue}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,function(){return{restrict:"AC",link:function(scope,element,attr){function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=flattenClasses(newVal||"");oldVal?equals(newVal,oldVal)||attr.$updateClass(newClasses,flattenClasses(oldVal)):attr.$addClass(newClasses)}oldVal=copy(newVal)}function flattenClasses(classVal){if(isArray(classVal))return classVal.join(" ");if(isObject(classVal)){var classes=[];return forEach(classVal,function(v,k){v&&classes.push(k)}),classes.join(" ")}return classVal}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==old$index&1){var classes=flattenClasses(scope.$eval(attr[name]));mod===selector?attr.$addClass(classes):attr.$removeClass(classes)}})}}}}var lowercase=function(string){return isString(string)?string.toLowerCase():string},uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,nodeName_,slice=[].slice,push=[].push,toString=Object.prototype.toString,ngMinErr=minErr("ng"),angular=(window.angular,window.angular||(window.angular={})),uid=["0","0","0"];msie=int((/msie (\d+)/.exec(lowercase(navigator.userAgent))||[])[1]),isNaN(msie)&&(msie=int((/trident\/.*; rv:(\d+)/.exec(lowercase(navigator.userAgent))||[])[1])),noop.$inject=[],identity.$inject=[];var trim=function(){return String.prototype.trim?function(value){return isString(value)?value.trim():value}:function(value){return isString(value)?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value}}();nodeName_=9>msie?function(element){return element=element.nodeName?element:element[0],element.scopeName&&"HTML"!=element.scopeName?uppercase(element.scopeName+":"+element.nodeName):element.nodeName}:function(element){return element.nodeName?element.nodeName:element[0].nodeName};var SNAKE_CASE_REGEXP=/[A-Z]/g,version={full:"1.2.7",major:1,minor:2,dot:7,codeName:"emoji-clairvoyance"},jqCache=JQLite.cache={},jqName=JQLite.expando="ng-"+(new Date).getTime(),jqId=1,addEventListenerFn=window.document.addEventListener?function(element,type,fn){element.addEventListener(type,fn,!1)}:function(element,type,fn){element.attachEvent("on"+type,fn)},removeEventListenerFn=window.document.removeEventListener?function(element,type,fn){element.removeEventListener(type,fn,!1)}:function(element,type,fn){element.detachEvent("on"+type,fn)},SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,jqLiteMinErr=minErr("jqLite"),JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[uppercase(value)]=!0}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite(element).data("$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite(element).data("$isolateScope")||jqLite(element).data("$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){if(name=camelCase(name),!isDefined(value)){var val;return 8>=msie&&(val=element.currentStyle&&element.currentStyle[name],""===val&&(val="auto")),val=val||element.style[name],8>=msie&&(val=""===val?undefined:val),val}element.style[name]=value},attr:function(element,name,value){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){var textProp=NODE_TYPE_TEXT_PROPERTY[element.nodeType];return isUndefined(value)?textProp?element[textProp]:"":void(element[textProp]=value)}var NODE_TYPE_TEXT_PROPERTY=[];return 9>msie?(NODE_TYPE_TEXT_PROPERTY[1]="innerText",NODE_TYPE_TEXT_PROPERTY[3]="nodeValue"):NODE_TYPE_TEXT_PROPERTY[1]=NODE_TYPE_TEXT_PROPERTY[3]="textContent",getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if("SELECT"===nodeName_(element)&&element.multiple){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){if(isUndefined(value))return element.innerHTML;for(var i=0,childNodes=element.childNodes;i<childNodes.length;i++)jqLiteDealoc(childNodes[i]);element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;i<this.length;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=value===undefined?Math.min(this.length,1):this.length,j=0;jj>j;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;i<this.length;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,dealoc:jqLiteDealoc,on:function onFn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var events=jqLiteExpandoStore(element,"events"),handle=jqLiteExpandoStore(element,"handle");events||jqLiteExpandoStore(element,"events",events={}),handle||jqLiteExpandoStore(element,"handle",handle=createEventHandler(element,events)),forEach(type.split(" "),function(type){var eventFns=events[type];if(!eventFns){if("mouseenter"==type||"mouseleave"==type){var contains=document.body.contains||document.body.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};events[type]=[];var eventmap={mouseleave:"mouseout",mouseenter:"mouseover"};onFn(element,eventmap[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!contains(target,related))&&handle(event,type)})}else addEventListenerFn(element,type,handle),events[type]=[];eventFns=events[type]}eventFns.push(fn)})},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){1===element.nodeType&&children.push(element)}),children},contents:function(element){return element.childNodes||[]},append:function(element,node){forEach(new JQLite(node),function(child){(1===element.nodeType||11===element.nodeType)&&element.appendChild(child)})},prepend:function(element,node){if(1===element.nodeType){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode)[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:function(element){jqLiteDealoc(element);
var parent=element.parentNode;parent&&parent.removeChild(element)},after:function(element,newElement){var index=element,parent=element.parentNode;forEach(new JQLite(newElement),function(node){parent.insertBefore(node,index.nextSibling),index=node})},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){isUndefined(condition)&&(condition=!jqLiteHasClass(element,selector)),(condition?jqLiteAddClass:jqLiteRemoveClass)(element,selector)},parent:function(element){var parent=element.parentNode;return parent&&11!==parent.nodeType?parent:null},next:function(element){if(element.nextElementSibling)return element.nextElementSibling;for(var elm=element.nextSibling;null!=elm&&1!==elm.nodeType;)elm=elm.nextSibling;return elm},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,eventName,eventData){var eventFns=(jqLiteExpandoStore(element,"events")||{})[eventName];eventData=eventData||[];var event=[{preventDefault:noop,stopPropagation:noop}];forEach(eventFns,function(fn){fn.apply(element,event.concat(eventData))})}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0;i<this.length;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key)]=value},get:function(key){return this[hashKey(key)]},remove:function(key){var value=this[key=hashKey(key)];return delete this[key],value}};var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector"),$animateMinErr=minErr("$animate"),$AnimateProvider=["$provide",function($provide){this.$$selectors={},this.register=function(name,factory){var key=name+"-animation";if(name&&"."!=name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);this.$$selectors[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){return 1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null),this.$$classNameFilter},this.$get=["$timeout",function($timeout){return{enter:function(element,parent,after,done){after?after.after(element):(parent&&parent[0]||(parent=after.parent()),parent.append(element)),done&&$timeout(done,0,!1)},leave:function(element,done){element.remove(),done&&$timeout(done,0,!1)},move:function(element,parent,after,done){this.enter(element,parent,after,done)},addClass:function(element,className,done){className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteAddClass(element,className)}),done&&$timeout(done,0,!1)},removeClass:function(element,className,done){className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteRemoveClass(element,className)}),done&&$timeout(done,0,!1)},enabled:noop}}]}],$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^(x[\:\-_]|data[\:\-_])/i,$interpolateMinErr=minErr("$interpolate"),PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location");LocationHashbangInHtml5Url.prototype=LocationHashbangUrl.prototype=LocationHtml5Url.prototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url,replace){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return match[1]&&this.path(decodeURIComponent(match[1])),(match[2]||match[1])&&this.search(match[3]||""),this.hash(match[5]||"",replace),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return"/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search))this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",identity),replace:function(){return this.$$replace=!0,this}};var promiseWarning,$parseMinErr=minErr("$parse"),promiseWarningCache={},OPERATORS={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:noop,"+":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),isDefined(a)?isDefined(b)?a+b:a:isDefined(b)?b:undefined},"-":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),(isDefined(a)?a:0)-(isDefined(b)?b:0)},"*":function(self,locals,a,b){return a(self,locals)*b(self,locals)},"/":function(self,locals,a,b){return a(self,locals)/b(self,locals)},"%":function(self,locals,a,b){return a(self,locals)%b(self,locals)},"^":function(self,locals,a,b){return a(self,locals)^b(self,locals)},"=":noop,"===":function(self,locals,a,b){return a(self,locals)===b(self,locals)},"!==":function(self,locals,a,b){return a(self,locals)!==b(self,locals)},"==":function(self,locals,a,b){return a(self,locals)==b(self,locals)},"!=":function(self,locals,a,b){return a(self,locals)!=b(self,locals)},"<":function(self,locals,a,b){return a(self,locals)<b(self,locals)},">":function(self,locals,a,b){return a(self,locals)>b(self,locals)},"<=":function(self,locals,a,b){return a(self,locals)<=b(self,locals)},">=":function(self,locals,a,b){return a(self,locals)>=b(self,locals)},"&&":function(self,locals,a,b){return a(self,locals)&&b(self,locals)},"||":function(self,locals,a,b){return a(self,locals)||b(self,locals)},"&":function(self,locals,a,b){return a(self,locals)&b(self,locals)},"|":function(self,locals,a,b){return b(self,locals)(self,locals,a(self,locals))},"!":function(self,locals,a){return!a(self,locals)}},ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text,this.index=0,this.ch=undefined,this.lastCh=":",this.tokens=[];for(var token,json=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===json[0]&&(token=this.tokens[this.tokens.length-1])&&(token.json=-1===token.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&json.unshift(this.ch),this.is("}]")&&json.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var ch2=this.ch+this.peek(),ch3=ch2+this.peek(2),fn=OPERATORS[this.ch],fn2=OPERATORS[ch2],fn3=OPERATORS[ch3];fn3?(this.tokens.push({index:this.index,text:ch3,fn:fn3}),this.index+=3):fn2?(this.tokens.push({index:this.index,text:ch2,fn:fn2}),this.index+=2):fn?(this.tokens.push({index:this.index,text:this.ch,fn:fn,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(chars){return-1!==chars.indexOf(this.ch)},was:function(chars){return-1!==chars.indexOf(this.lastCh)},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},isNumber:function(ch){return ch>="0"&&"9">=ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"	"===ch||"\n"===ch||""===ch||" "===ch},isIdent:function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}number=1*number,this.tokens.push({index:start,text:number,json:!0,fn:function(){return number}})},readIdent:function(){for(var lastDot,peekIndex,methodName,ch,parser=this,ident="",start=this.index;this.index<this.text.length&&(ch=this.text.charAt(this.index),"."===ch||this.isIdent(ch)||this.isNumber(ch));)"."===ch&&(lastDot=this.index),ident+=ch,this.index++;if(lastDot)for(peekIndex=this.index;peekIndex<this.text.length;){if(ch=this.text.charAt(peekIndex),"("===ch){methodName=ident.substr(lastDot-start+1),ident=ident.substr(0,lastDot-start),this.index=peekIndex;break}if(!this.isWhitespace(ch))break;peekIndex++}var token={index:start,text:ident};if(OPERATORS.hasOwnProperty(ident))token.fn=OPERATORS[ident],token.json=OPERATORS[ident];else{var getter=getterFn(ident,this.options,this.text);token.fn=extend(function(self,locals){return getter(self,locals)},{assign:function(self,value){return setter(self,ident,value,parser.text,parser.options)}})}this.tokens.push(token),methodName&&(this.tokens.push({index:lastDot,text:".",json:!1}),this.tokens.push({index:lastDot+1,text:methodName,json:!1}))},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep?rep:ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,string:string,json:!0,fn:function(){return string}});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options};Parser.ZERO=function(){return 0},Parser.prototype={constructor:Parser,parse:function(text,json){this.text=text,this.json=json,this.tokens=this.lexer.lex(text),json&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:text,index:0})});var value=json?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value.literal=!!value.literal,value.constant=!!value.constant,value},primary:function(){var primary;if(this.expect("("))primary=this.filterChain(),this.consume(")");else if(this.expect("["))primary=this.arrayDeclaration();else if(this.expect("{"))primary=this.object();else{var token=this.expect();primary=token.fn,primary||this.throwError("not a primary expression",token),token.json&&(primary.constant=!0,primary.literal=!0)}for(var next,context;next=this.expect("(","[",".");)"("===next.text?(primary=this.functionCall(primary,context),context=null):"["===next.text?(context=primary,primary=this.objectIndex(primary)):"."===next.text?(context=primary,primary=this.fieldAccess(primary)):this.throwError("IMPOSSIBLE");return primary},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){if(this.tokens.length>0){var token=this.tokens[0],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return token?(this.json&&!token.json&&this.throwError("is not valid json",token),this.tokens.shift(),token):!1},consume:function(e1){this.expect(e1)||this.throwError("is unexpected, expecting ["+e1+"]",this.peek())},unaryFn:function(fn,right){return extend(function(self,locals){return fn(self,locals,right)},{constant:right.constant})},ternaryFn:function(left,middle,right){return extend(function(self,locals){return left(self,locals)?middle(self,locals):right(self,locals)},{constant:left.constant&&middle.constant&&right.constant})},binaryFn:function(left,fn,right){return extend(function(self,locals){return fn(self,locals,left,right)},{constant:left.constant&&right.constant})},statements:function(){for(var statements=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&statements.push(this.filterChain()),!this.expect(";"))return 1===statements.length?statements[0]:function(self,locals){for(var value,i=0;i<statements.length;i++){var statement=statements[i];statement&&(value=statement(self,locals))}return value}},filterChain:function(){for(var token,left=this.expression();;){if(!(token=this.expect("|")))return left;left=this.binaryFn(left,token.fn,this.filter())}},filter:function(){for(var token=this.expect(),fn=this.$filter(token.text),argsFn=[];;){if(!(token=this.expect(":"))){var fnInvoke=function(self,locals,input){for(var args=[input],i=0;i<argsFn.length;i++)args.push(argsFn[i](self,locals));return fn.apply(self,args)};return function(){return fnInvoke}}argsFn.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var right,token,left=this.ternary();return(token=this.expect("="))?(left.assign||this.throwError("implies assignment but ["+this.text.substring(0,token.index)+"] can not be assigned to",token),right=this.ternary(),function(scope,locals){return left.assign(scope,right(scope,locals),locals)}):left},ternary:function(){var middle,token,left=this.logicalOR();return(token=this.expect("?"))?(middle=this.ternary(),(token=this.expect(":"))?this.ternaryFn(left,middle,this.ternary()):void this.throwError("expected :",token)):left},logicalOR:function(){for(var token,left=this.logicalAND();;){if(!(token=this.expect("||")))return left;left=this.binaryFn(left,token.fn,this.logicalAND())}},logicalAND:function(){var token,left=this.equality();return(token=this.expect("&&"))&&(left=this.binaryFn(left,token.fn,this.logicalAND())),left},equality:function(){var token,left=this.relational();return(token=this.expect("==","!=","===","!=="))&&(left=this.binaryFn(left,token.fn,this.equality())),left},relational:function(){var token,left=this.additive();return(token=this.expect("<",">","<=",">="))&&(left=this.binaryFn(left,token.fn,this.relational())),left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left=this.binaryFn(left,token.fn,this.multiplicative());return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left=this.binaryFn(left,token.fn,this.unary());return left},unary:function(){var token;return this.expect("+")?this.primary():(token=this.expect("-"))?this.binaryFn(Parser.ZERO,token.fn,this.unary()):(token=this.expect("!"))?this.unaryFn(token.fn,this.unary()):this.primary()},fieldAccess:function(object){var parser=this,field=this.expect().text,getter=getterFn(field,this.options,this.text);return extend(function(scope,locals,self){return getter(self||object(scope,locals),locals)},{assign:function(scope,value,locals){return setter(object(scope,locals),field,value,parser.text,parser.options)}})},objectIndex:function(obj){var parser=this,indexFn=this.expression();return this.consume("]"),extend(function(self,locals){var v,p,o=obj(self,locals),i=indexFn(self,locals);return o?(v=ensureSafeObject(o[i],parser.text),v&&v.then&&parser.options.unwrapPromises&&(p=v,"$$v"in v||(p.$$v=undefined,p.then(function(val){p.$$v=val})),v=v.$$v),v):undefined},{assign:function(self,value,locals){var key=indexFn(self,locals),safe=ensureSafeObject(obj(self,locals),parser.text);return safe[key]=value}})},functionCall:function(fn,contextGetter){var argsFn=[];if(")"!==this.peekToken().text)do argsFn.push(this.expression());while(this.expect(","));this.consume(")");var parser=this;return function(scope,locals){for(var args=[],context=contextGetter?contextGetter(scope,locals):scope,i=0;i<argsFn.length;i++)args.push(argsFn[i](scope,locals));var fnPtr=fn(scope,locals,context)||noop;ensureSafeObject(context,parser.text),ensureSafeObject(fnPtr,parser.text);var v=fnPtr.apply?fnPtr.apply(context,args):fnPtr(args[0],args[1],args[2],args[3],args[4]);return ensureSafeObject(v,parser.text)}},arrayDeclaration:function(){var elementFns=[],allConstant=!0;if("]"!==this.peekToken().text)do{var elementFn=this.expression();elementFns.push(elementFn),elementFn.constant||(allConstant=!1)}while(this.expect(","));return this.consume("]"),extend(function(self,locals){for(var array=[],i=0;i<elementFns.length;i++)array.push(elementFns[i](self,locals));return array},{literal:!0,constant:allConstant})},object:function(){var keyValues=[],allConstant=!0;if("}"!==this.peekToken().text)do{var token=this.expect(),key=token.string||token.text;this.consume(":");var value=this.expression();keyValues.push({key:key,value:value}),value.constant||(allConstant=!1)}while(this.expect(","));return this.consume("}"),extend(function(self,locals){for(var object={},i=0;i<keyValues.length;i++){var keyValue=keyValues[i];object[keyValue.key]=keyValue.value(self,locals)}return object},{literal:!0,constant:allConstant})}};var getterFnCache={},$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href,!0);$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return 8>=msie&&(attr.href||attr.name||attr.$set("href",""),element.append(document.createComment("IE fix"))),attr.href||attr.name?void 0:function(scope,element){element.on("click",function(event){element.attr("href")||event.preventDefault()})}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:100,compile:function(){return function(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}}}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){attr.$observe(normalized,function(value){value&&(attr.$set(attrName,value),msie&&element.prop(attrName,attr[attrName]))})}}}});var nullFormCtrl={$addControl:noop,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop};FormController.$inject=["$element","$attrs","$scope"];var formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",controller:FormController,compile:function(){return{pre:function(scope,formElement,attr,controller){if(!attr.action){var preventDefaultListener=function(event){event.preventDefault?event.preventDefault():event.returnValue=!1};addEventListenerFn(formElement[0],"submit",preventDefaultListener),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",preventDefaultListener)},0,!1)})}var parentFormCtrl=formElement.parent().controller("form"),alias=attr.name||attr.ngForm;alias&&setter(scope,alias,controller,alias),parentFormCtrl&&formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller),alias&&setter(scope,alias,undefined,alias),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,inputType={text:textInputType,number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop},inputDirective=["$browser","$sniffer",function($browser,$sniffer){return{restrict:"E",require:"?ngModel",link:function(scope,element,attr,ctrl){ctrl&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrl,$sniffer,$browser)}}}],VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse",function($scope,$exceptionHandler,$attr,$element,$parse){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",$element.removeClass((isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey).addClass((isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=$attr.name;var ngModelGet=$parse($attr.ngModel),ngModelSet=ngModelGet.assign;if(!ngModelSet)throw minErr("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element));this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var parentForm=$element.inheritedData("$formController")||nullFormCtrl,invalidCount=0,$error=this.$error={};$element.addClass(PRISTINE_CLASS),toggleValidCss(!0),this.$setValidity=function(validationErrorKey,isValid){$error[validationErrorKey]!==!isValid&&(isValid?($error[validationErrorKey]&&invalidCount--,invalidCount||(toggleValidCss(!0),this.$valid=!0,this.$invalid=!1)):(toggleValidCss(!1),this.$invalid=!0,this.$valid=!1,invalidCount++),$error[validationErrorKey]=!isValid,toggleValidCss(isValid,validationErrorKey),parentForm.$setValidity(validationErrorKey,isValid,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,$element.removeClass(DIRTY_CLASS).addClass(PRISTINE_CLASS)},this.$setViewValue=function(value){this.$viewValue=value,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,$element.removeClass(PRISTINE_CLASS).addClass(DIRTY_CLASS),parentForm.$setDirty()),forEach(this.$parsers,function(fn){value=fn(value)}),this.$modelValue!==value&&(this.$modelValue=value,ngModelSet($scope,value),forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}}))};var ctrl=this;$scope.$watch(function(){var value=ngModelGet($scope);if(ctrl.$modelValue!==value){var formatters=ctrl.$formatters,idx=formatters.length;for(ctrl.$modelValue=value;idx--;)value=formatters[idx](value);ctrl.$viewValue!==value&&(ctrl.$viewValue=value,ctrl.$render())}return value})}],ngModelDirective=function(){return{require:["ngModel","^?form"],controller:NgModelController,link:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;formCtrl.$addControl(modelCtrl),scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})}}},ngChangeDirective=valueFn({require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),requiredDirective=function(){return{require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){attr.required=!0;var validator=function(value){return attr.required&&ctrl.$isEmpty(value)?void ctrl.$setValidity("required",!1):(ctrl.$setValidity("required",!0),value)};ctrl.$formatters.push(validator),ctrl.$parsers.unshift(validator),attr.$observe("required",function(){validator(ctrl.$viewValue)})}}}},ngListDirective=function(){return{require:"ngModel",link:function(scope,element,attr,ctrl){var match=/\/(.*)\//.exec(attr.ngList),separator=match&&new RegExp(match[1])||attr.ngList||",",parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trim(value))}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(", "):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=ngDirective(function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.ngBind),scope.$watch(attr.ngBind,function(value){element.text(value==undefined?"":value)})}),ngBindTemplateDirective=["$interpolate",function($interpolate){return function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));element.addClass("ng-binding").data("$binding",interpolateFn),attr.$observe("ngBindTemplate",function(value){element.text(value)})}}],ngBindHtmlDirective=["$sce","$parse",function($sce,$parse){return function(scope,element,attr){function getStringValue(){return(parsed(scope)||"").toString()}element.addClass("ng-binding").data("$binding",attr.ngBindHtml);var parsed=$parse(attr.ngBindHtml);scope.$watch(getStringValue,function(){element.html($sce.getTrustedHtml(parsed(scope))||"")})}}],ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{scope:!0,controller:"@",priority:500}}],ngEventDirectives={};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(name){var directiveName=directiveNormalize("ng-"+name);ngEventDirectives[directiveName]=["$parse",function($parse){return{compile:function($element,attr){var fn=$parse(attr[directiveName]);return function(scope,element){element.on(lowercase(name),function(event){scope.$apply(function(){fn(scope,{$event:event})})})}}}}]});var ngIfDirective=["$animate",function($animate){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope;$scope.$watch($attr.ngIf,function(value){toBoolean(value)?childScope||(childScope=$scope.$new(),$transclude(childScope,function(clone){clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)})):(childScope&&(childScope.$destroy(),childScope=null),block&&($animate.leave(getBlockElements(block.clone)),block=null))})}}}],ngIncludeDirective=["$http","$templateCache","$anchorScroll","$animate","$sce",function($http,$templateCache,$anchorScroll,$animate,$sce){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement),currentElement=null)};scope.$watch($sce.parseAsResourceUrl(srcExp),function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($http.get(src,{cache:$templateCache}).success(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element,afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded"),scope.$eval(onloadExp)}}).error(function(){thisChangeId===changeCounter&&cleanupLastIncludeContent()}),scope.$emit("$includeContentRequested")):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){$element.html(ctrl.template),$compile($element.contents())(scope)}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngPluralizeDirective=["$locale","$interpolate",function($locale,$interpolate){var BRACE=/{}/g;return{restrict:"EA",link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),isWhen=/^when(Minus)?(.+)$/;forEach(attr,function(expression,attributeName){isWhen.test(attributeName)&&(whens[lowercase(attributeName.replace("when","").replace("Minus","-"))]=element.attr(attr.$attr[attributeName]))}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,startSymbol+numberExp+"-"+offset+endSymbol))}),scope.$watch(function(){var value=parseFloat(scope.$eval(numberExp));return isNaN(value)?"":(value in whens||(value=$locale.pluralCat(value-offset)),whensExpFns[value](scope,element,!0))},function(newVal){element.text(newVal)})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){function getBlockStart(block){return block.clone[0]}function getBlockEnd(block){return block.clone[block.clone.length-1]}var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var trackByExp,trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,lhs,rhs,valueIdentifier,keyIdentifier,expression=$attr.ngRepeat,match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),hashFnLocals={$id:hashKey};
if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);if(lhs=match[1],rhs=match[2],trackByExp=match[3],trackByExp?(trackByExpGetter=$parse(trackByExp),trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)}):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),match=lhs.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);valueIdentifier=match[3]||match[1],keyIdentifier=match[2];var lastBlockMap={};$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,arrayLength,childScope,key,value,trackById,trackByIdFn,collectionKeys,block,elementsToRemove,previousNode=$element[0],nextBlockMap={},nextBlockOrder=[];if(isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(key in collection)collection.hasOwnProperty(key)&&"$"!=key.charAt(0)&&collectionKeys.push(key);collectionKeys.sort()}for(arrayLength=collectionKeys.length,length=nextBlockOrder.length=collectionKeys.length,index=0;length>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),assertNotHasOwnProperty(trackById,"`track by` id"),lastBlockMap.hasOwnProperty(trackById))block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap.hasOwnProperty(trackById))throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",expression,trackById);nextBlockOrder[index]={id:trackById},nextBlockMap[trackById]=!1}for(key in lastBlockMap)lastBlockMap.hasOwnProperty(key)&&(block=lastBlockMap[key],elementsToRemove=getBlockElements(block.clone),$animate.leave(elementsToRemove),forEach(elementsToRemove,function(element){element[NG_REMOVED]=!0}),block.scope.$destroy());for(index=0,length=collectionKeys.length;length>index;index++){if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],nextBlockOrder[index-1]&&(previousNode=getBlockEnd(nextBlockOrder[index-1])),block.scope){childScope=block.scope,nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockElements(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block)}else childScope=$scope.$new();childScope[valueIdentifier]=value,keyIdentifier&&(childScope[keyIdentifier]=key),childScope.$index=index,childScope.$first=0===index,childScope.$last=index===arrayLength-1,childScope.$middle=!(childScope.$first||childScope.$last),childScope.$odd=!(childScope.$even=0===(1&index)),block.scope||$transclude(childScope,function(clone){clone[clone.length++]=document.createComment(" end ngRepeat: "+expression+" "),$animate.enter(clone,null,jqLite(previousNode)),previousNode=clone,block.scope=childScope,block.clone=clone,nextBlockMap[block.id]=block})}lastBlockMap=nextBlockMap})}}}],ngShowDirective=["$animate",function($animate){return function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[toBoolean(value)?"removeClass":"addClass"](element,"ng-hide")})}}],ngHideDirective=["$animate",function($animate){return function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[toBoolean(value)?"addClass":"removeClass"](element,"ng-hide")})}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate",function($animate){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var selectedTranscludes,selectedElements,watchExpr=attr.ngSwitch||attr.on,selectedScopes=[];scope.$watch(watchExpr,function(value){for(var i=0,ii=selectedScopes.length;ii>i;i++)selectedScopes[i].$destroy(),$animate.leave(selectedElements[i]);selectedElements=[],selectedScopes=[],(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&(scope.$eval(attr.change),forEach(selectedTranscludes,function(selectedTransclude){var selectedScope=scope.$new();selectedScopes.push(selectedScope),selectedTransclude.transclude(selectedScope,function(caseElement){var anchor=selectedTransclude.element;selectedElements.push(caseElement),$animate.enter(caseElement,anchor.parent(),anchor)})}))})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:800,require:"^ngSwitch",compile:function(element,attrs){return function(scope,element,attr,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:800,require:"^ngSwitch",link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({controller:["$element","$transclude",function($element,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));this.$transclude=$transclude}],link:function($scope,$element,$attrs,controller){controller.$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],ngOptionsMinErr=minErr("ngOptions"),ngOptionsDirective=valueFn({terminal:!0}),selectDirective=["$compile","$parse",function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,nullModelCtrl={$setViewValue:noop};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function($element,$scope,$attrs){var nullOption,unknownOption,self=this,optionsMap={},ngModelCtrl=nullModelCtrl;self.databound=$attrs.ngModel,self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_,nullOption=nullOption_,unknownOption=unknownOption_},self.addOption=function(value){assertNotHasOwnProperty(value,'"option value"'),optionsMap[value]=!0,ngModelCtrl.$viewValue==value&&($element.val(value),unknownOption.parent()&&unknownOption.remove())},self.removeOption=function(value){this.hasOption(value)&&(delete optionsMap[value],ngModelCtrl.$viewValue==value&&this.renderUnknownOption(value))},self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";unknownOption.val(unknownVal),$element.prepend(unknownOption),$element.val(unknownVal),unknownOption.prop("selected",!0)},self.hasOption=function(value){return optionsMap.hasOwnProperty(value)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop})}],link:function(scope,element,attr,ctrls){function setupAsSingle(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;selectCtrl.hasOption(viewValue)?(unknownOption.parent()&&unknownOption.remove(),selectElement.val(viewValue),""===viewValue&&emptyOption.prop("selected",!0)):isUndefined(viewValue)&&emptyOption?selectElement.val(""):selectCtrl.renderUnknownOption(viewValue)},selectElement.on("change",function(){scope.$apply(function(){unknownOption.parent()&&unknownOption.remove(),ngModelCtrl.$setViewValue(selectElement.val())})})}function setupAsMultiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find("option"),function(option){option.selected=isDefined(items.get(option.value))})},scope.$watch(function(){equals(lastView,ctrl.$viewValue)||(lastView=copy(ctrl.$viewValue),ctrl.$render())}),selectElement.on("change",function(){scope.$apply(function(){var array=[];forEach(selectElement.find("option"),function(option){option.selected&&array.push(option.value)}),ctrl.$setViewValue(array)})})}function setupAsOptions(scope,selectElement,ctrl){function render(){var optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,key,groupLength,length,groupIndex,index,selected,lastElement,element,label,optionGroups={"":[]},optionGroupNames=[""],modelValue=ctrl.$modelValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,locals={},selectedSet=!1;if(multiple)if(trackFn&&isArray(modelValue)){selectedSet=new HashMap([]);for(var trackIndex=0;trackIndex<modelValue.length;trackIndex++)locals[valueName]=modelValue[trackIndex],selectedSet.put(trackFn(scope,locals),modelValue[trackIndex])}else selectedSet=new HashMap(modelValue);for(index=0;length=keys.length,length>index;index++){if(key=index,keyName){if(key=keys[index],"$"===key.charAt(0))continue;locals[keyName]=key}if(locals[valueName]=values[key],optionGroupName=groupByFn(scope,locals)||"",(optionGroup=optionGroups[optionGroupName])||(optionGroup=optionGroups[optionGroupName]=[],optionGroupNames.push(optionGroupName)),multiple)selected=isDefined(selectedSet.remove(trackFn?trackFn(scope,locals):valueFn(scope,locals)));else{if(trackFn){var modelCast={};modelCast[valueName]=modelValue,selected=trackFn(scope,modelCast)===trackFn(scope,locals)}else selected=modelValue===valueFn(scope,locals);selectedSet=selectedSet||selected}label=displayFn(scope,locals),label=isDefined(label)?label:"",optionGroup.push({id:trackFn?trackFn(scope,locals):keyName?keys[index]:index,label:label,selected:selected})}for(multiple||(nullOption||null===modelValue?optionGroups[""].unshift({id:"",label:"",selected:!selectedSet}):selectedSet||optionGroups[""].unshift({id:"?",label:"",selected:!0})),groupIndex=0,groupLength=optionGroupNames.length;groupLength>groupIndex;groupIndex++){for(optionGroupName=optionGroupNames[groupIndex],optionGroup=optionGroups[optionGroupName],optionGroupsCache.length<=groupIndex?(existingParent={element:optGroupTemplate.clone().attr("label",optionGroupName),label:optionGroup.label},existingOptions=[existingParent],optionGroupsCache.push(existingOptions),selectElement.append(existingParent.element)):(existingOptions=optionGroupsCache[groupIndex],existingParent=existingOptions[0],existingParent.label!=optionGroupName&&existingParent.element.attr("label",existingParent.label=optionGroupName)),lastElement=null,index=0,length=optionGroup.length;length>index;index++)option=optionGroup[index],(existingOption=existingOptions[index+1])?(lastElement=existingOption.element,existingOption.label!==option.label&&lastElement.text(existingOption.label=option.label),existingOption.id!==option.id&&lastElement.val(existingOption.id=option.id),lastElement[0].selected!==option.selected&&lastElement.prop("selected",existingOption.selected=option.selected)):(""===option.id&&nullOption?element=nullOption:(element=optionTemplate.clone()).val(option.id).attr("selected",option.selected).text(option.label),existingOptions.push(existingOption={element:element,label:option.label,id:option.id,selected:option.selected}),lastElement?lastElement.after(element):existingParent.element.append(element),lastElement=element);for(index++;existingOptions.length>index;)existingOptions.pop().element.remove()}for(;optionGroupsCache.length>groupIndex;)optionGroupsCache.pop()[0].element.remove()}var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP)))throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,optionGroupsCache=[[{element:selectElement,label:""}]];nullOption&&($compile(nullOption)(scope),nullOption.removeClass("ng-scope"),nullOption.remove()),selectElement.empty(),selectElement.on("change",function(){scope.$apply(function(){var optionGroup,key,value,optionElement,index,groupIndex,length,groupLength,trackIndex,collection=valuesFn(scope)||[],locals={};if(multiple){for(value=[],groupIndex=0,groupLength=optionGroupsCache.length;groupLength>groupIndex;groupIndex++)for(optionGroup=optionGroupsCache[groupIndex],index=1,length=optionGroup.length;length>index;index++)if((optionElement=optionGroup[index].element)[0].selected){if(key=optionElement.val(),keyName&&(locals[keyName]=key),trackFn)for(trackIndex=0;trackIndex<collection.length&&(locals[valueName]=collection[trackIndex],trackFn(scope,locals)!=key);trackIndex++);else locals[valueName]=collection[key];value.push(valueFn(scope,locals))}}else if(key=selectElement.val(),"?"==key)value=undefined;else if(""===key)value=null;else if(trackFn){for(trackIndex=0;trackIndex<collection.length;trackIndex++)if(locals[valueName]=collection[trackIndex],trackFn(scope,locals)==key){value=valueFn(scope,locals);break}}else locals[valueName]=collection[key],keyName&&(locals[keyName]=key),value=valueFn(scope,locals);ctrl.$setViewValue(value)})}),ctrl.$render=render,scope.$watch(render)}if(ctrls[1]){for(var emptyOption,selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=!1,optionTemplate=jqLite(document.createElement("option")),optGroupTemplate=jqLite(document.createElement("optgroup")),unknownOption=optionTemplate.clone(),i=0,children=element.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=nullOption=children.eq(i);break}selectCtrl.init(ngModelCtrl,nullOption,unknownOption),multiple&&(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}),optionsExp?setupAsOptions(scope,element,ngModelCtrl):multiple?setupAsMultiple(scope,element,ngModelCtrl):setupAsSingle(scope,element,ngModelCtrl,selectCtrl)}}}}],optionDirective=["$interpolate",function($interpolate){var nullSelectCtrl={addOption:noop,removeOption:noop};return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.databound?element.prop("selected",!1):selectCtrl=nullSelectCtrl,interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),newVal!==oldVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal)}):selectCtrl.addOption(attr.value),element.on("$destroy",function(){selectCtrl.removeOption(attr.value)})}}}}],styleDirective=valueFn({restrict:"E",terminal:!0});bindJQuery(),publishExternalAPI(angular),jqLite(document).ready(function(){angularInit(document,bootstrap)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}</style>'),function(window,angular){"use strict";function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}]}function sanitizeText(chars){var buf=[],writer=htmlSanitizeWriter(buf,angular.noop);return writer.chars(chars),buf.join("")}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function htmlParser(html,handler){function parseStartTag(tag,tagName,rest,unary){if(tagName=angular.lowercase(tagName),blockElements[tagName])for(;stack.last()&&inlineElements[stack.last()];)parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName),unary=voidElements[tagName]||!!unary,unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)}),handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;if(tagName=angular.lowercase(tagName))for(pos=stack.length-1;pos>=0&&stack[pos]!=tagName;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}var index,chars,match,stack=[],last=html;for(stack.last=function(){return stack[stack.length-1]};html;){if(chars=!0,stack.last()&&specialElements[stack.last()])html=html.replace(new RegExp("(.*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){return text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1"),handler.chars&&handler.chars(decodeEntities(text)),""}),parseEndTag("",stack.last());else if(0===html.indexOf("<!--")?(index=html.indexOf("--",4),index>=0&&html.lastIndexOf("-->",index)===index&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)):DOCTYPE_REGEXP.test(html)?(match=html.match(DOCTYPE_REGEXP),match&&(html=html.replace(match[0],""),chars=!1)):BEGING_END_TAGE_REGEXP.test(html)?(match=html.match(END_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(END_TAG_REGEXP,parseEndTag),chars=!1)):BEGIN_TAG_REGEXP.test(html)&&(match=html.match(START_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(START_TAG_REGEXP,parseStartTag),chars=!1)),chars){index=html.indexOf("<");var text=0>index?html:html.substring(0,index);html=0>index?"":html.substring(index),handler.chars&&handler.chars(decodeEntities(text))}if(html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag()}function decodeEntities(value){if(!value)return"";var parts=spaceRe.exec(value),spaceBefore=parts[1],spaceAfter=parts[3],content=parts[2];return content&&(hiddenPre.innerHTML=content.replace(/</g,"&lt;"),content="textContent"in hiddenPre?hiddenPre.textContent:hiddenPre.innerText),spaceBefore+content+spaceAfter}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=!1,out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag),!ignore&&specialElements[tag]&&(ignore=tag),ignore||validElements[tag]!==!0||(out("<"),out(tag),angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;validAttrs[lkey]!==!0||uriAttrs[lkey]===!0&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(unary?"/>":">"))},end:function(tag){tag=angular.lowercase(tag),ignore||validElements[tag]!==!0||(out("</"),out(tag),out(">")),tag==ignore&&(ignore=!1)},chars:function(chars){ignore||out(encodeEntities(chars))}}}var $sanitizeMinErr=angular.$$minErr("$sanitize"),START_TAG_REGEXP=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,END_TAG_REGEXP=/^<\s*\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\s*\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g,voidElements=makeMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),specialElements=makeMap("script,style"),validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements),uriAttrs=makeMap("background,cite,href,longdesc,src,usemap"),validAttrs=angular.extend({},uriAttrs,makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),hiddenPre=document.createElement("pre"),spaceRe=/^(\s*)([\s\S]*?)(\s*)$/;angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,MAILTO_REGEXP=/^mailto:/;return function(text,target){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){html.push("<a "),angular.isDefined(target)&&(html.push('target="'),html.push(target),html.push('" ')),html.push('href="'),html.push(url),html.push('">'),addText(text),html.push("</a>")}if(!text)return text;for(var match,url,i,raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]==match[3]&&(url="mailto:"+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular),function(window,angular){"use strict";function makeSwipeDirective(directiveName,direction,eventName){ngTouch.directive(directiveName,["$parse","$swipe",function($parse,$swipe){var MAX_VERTICAL_DISTANCE=75,MAX_VERTICAL_RATIO=.3,MIN_HORIZONTAL_DISTANCE=30;return function(scope,element,attr){function validSwipe(coords){if(!startCoords)return!1;var deltaY=Math.abs(coords.y-startCoords.y),deltaX=(coords.x-startCoords.x)*direction;return valid&&MAX_VERTICAL_DISTANCE>deltaY&&deltaX>0&&deltaX>MIN_HORIZONTAL_DISTANCE&&MAX_VERTICAL_RATIO>deltaY/deltaX}var startCoords,valid,swipeHandler=$parse(attr[directiveName]);$swipe.bind(element,{start:function(coords){startCoords=coords,valid=!0},cancel:function(){valid=!1},end:function(coords,event){validSwipe(coords)&&scope.$apply(function(){element.triggerHandler(eventName),swipeHandler(scope,{$event:event})})}})}}])}var ngTouch=angular.module("ngTouch",[]);ngTouch.factory("$swipe",[function(){function getCoordinates(event){var touches=event.touches&&event.touches.length?event.touches:[event],e=event.changedTouches&&event.changedTouches[0]||event.originalEvent&&event.originalEvent.changedTouches&&event.originalEvent.changedTouches[0]||touches[0].originalEvent||touches[0];return{x:e.clientX,y:e.clientY}}var MOVE_BUFFER_RADIUS=10;return{bind:function(element,eventHandlers){var totalX,totalY,startCoords,lastPos,active=!1;element.on("touchstart mousedown",function(event){startCoords=getCoordinates(event),active=!0,totalX=0,totalY=0,lastPos=startCoords,eventHandlers.start&&eventHandlers.start(startCoords,event)}),element.on("touchcancel",function(event){active=!1,eventHandlers.cancel&&eventHandlers.cancel(event)}),element.on("touchmove mousemove",function(event){if(active&&startCoords){var coords=getCoordinates(event);if(totalX+=Math.abs(coords.x-lastPos.x),totalY+=Math.abs(coords.y-lastPos.y),lastPos=coords,!(MOVE_BUFFER_RADIUS>totalX&&MOVE_BUFFER_RADIUS>totalY))return totalY>totalX?(active=!1,void(eventHandlers.cancel&&eventHandlers.cancel(event))):(event.preventDefault(),void(eventHandlers.move&&eventHandlers.move(coords,event)))}}),element.on("touchend mouseup",function(event){active&&(active=!1,eventHandlers.end&&eventHandlers.end(getCoordinates(event),event))})}}}]),ngTouch.config(["$provide",function($provide){$provide.decorator("ngClickDirective",["$delegate",function($delegate){return $delegate.shift(),$delegate}])}]),ngTouch.directive("ngClick",["$parse","$timeout","$rootElement",function($parse,$timeout,$rootElement){function hit(x1,y1,x2,y2){return Math.abs(x1-x2)<CLICKBUSTER_THRESHOLD&&Math.abs(y1-y2)<CLICKBUSTER_THRESHOLD}function checkAllowableRegions(touchCoordinates,x,y){for(var i=0;i<touchCoordinates.length;i+=2)if(hit(touchCoordinates[i],touchCoordinates[i+1],x,y))return touchCoordinates.splice(i,i+2),!0;return!1}function onClick(event){if(!(Date.now()-lastPreventedTime>PREVENT_DURATION)){var touches=event.touches&&event.touches.length?event.touches:[event],x=touches[0].clientX,y=touches[0].clientY;1>x&&1>y||checkAllowableRegions(touchCoordinates,x,y)||(event.stopPropagation(),event.preventDefault(),event.target&&event.target.blur())}}function onTouchStart(event){var touches=event.touches&&event.touches.length?event.touches:[event],x=touches[0].clientX,y=touches[0].clientY;touchCoordinates.push(x,y),$timeout(function(){for(var i=0;i<touchCoordinates.length;i+=2)if(touchCoordinates[i]==x&&touchCoordinates[i+1]==y)return void touchCoordinates.splice(i,i+2)},PREVENT_DURATION,!1)}function preventGhostClick(x,y){touchCoordinates||($rootElement[0].addEventListener("click",onClick,!0),$rootElement[0].addEventListener("touchstart",onTouchStart,!0),touchCoordinates=[]),lastPreventedTime=Date.now(),checkAllowableRegions(touchCoordinates,x,y)}var lastPreventedTime,touchCoordinates,TAP_DURATION=750,MOVE_TOLERANCE=12,PREVENT_DURATION=2500,CLICKBUSTER_THRESHOLD=25,ACTIVE_CLASS_NAME="ng-click-active";return function(scope,element,attr){function resetState(){tapping=!1,element.removeClass(ACTIVE_CLASS_NAME)}var tapElement,startTime,touchStartX,touchStartY,clickHandler=$parse(attr.ngClick),tapping=!1;element.on("touchstart",function(event){tapping=!0,tapElement=event.target?event.target:event.srcElement,3==tapElement.nodeType&&(tapElement=tapElement.parentNode),element.addClass(ACTIVE_CLASS_NAME),startTime=Date.now();var touches=event.touches&&event.touches.length?event.touches:[event],e=touches[0].originalEvent||touches[0];touchStartX=e.clientX,touchStartY=e.clientY}),element.on("touchmove",function(){resetState()}),element.on("touchcancel",function(){resetState()}),element.on("touchend",function(event){var diff=Date.now()-startTime,touches=event.changedTouches&&event.changedTouches.length?event.changedTouches:event.touches&&event.touches.length?event.touches:[event],e=touches[0].originalEvent||touches[0],x=e.clientX,y=e.clientY,dist=Math.sqrt(Math.pow(x-touchStartX,2)+Math.pow(y-touchStartY,2));tapping&&TAP_DURATION>diff&&MOVE_TOLERANCE>dist&&(preventGhostClick(x,y),tapElement&&tapElement.blur(),angular.isDefined(attr.disabled)&&attr.disabled!==!1||element.triggerHandler("click",[event])),resetState()}),element.onclick=function(){},element.on("click",function(event,touchend){scope.$apply(function(){clickHandler(scope,{$event:touchend||event})})}),element.on("mousedown",function(){element.addClass(ACTIVE_CLASS_NAME)}),element.on("mousemove mouseup",function(){element.removeClass(ACTIVE_CLASS_NAME)})}}]),makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight")}(window,window.angular),angular.module("respond",[]).factory("Respond",["$rootScope","$window","$timeout",function($rootScope,$window,$timeout){"use strict";function _addBreakpoint(breakpoint){function _pushBreakpoint(value){_breakpoints.push(parseInt(value,10)),_breakpoints.sort(function(a,b){return b-a})}angular.isArray(breakpoint)?angular.forEach(breakpoint,function(value){_pushBreakpoint(value)}):_pushBreakpoint(breakpoint),_checkBreakpointChange()}function _checkBreakpointChange(){for(var newBreakpoint=0,i=0;i<_breakpoints.length;i++)if($window.innerWidth>=_breakpoints[i]){newBreakpoint=_breakpoints[i];break}if(newBreakpoint!==_currentBreakpoint){var _oldValue=_currentBreakpoint;_currentBreakpoint=newBreakpoint,$rootScope.$broadcast("breakpoint",_oldValue,_currentBreakpoint,_breakpoints)}}function _getCurrentBreakpoint(){return _currentBreakpoint}function _getBreakpoints(){return _breakpoints}var _breakpoints=[],_currentBreakpoint=null,_timeout=null;return angular.element($window).bind("resize",function(){_timeout||(_timeout=!0,$timeout(function(){_checkBreakpointChange(),_timeout=!1},100))}),{addBreakpoint:_addBreakpoint,getCurrentBreakpoint:_getCurrentBreakpoint,getBreakpoints:_getBreakpoints}}]).directive("respondClass",["$rootScope","Respond",function($rootScope,Respond){"use strict";return{restrict:"A",link:function($scope,$element,$attr){var breakpoints=$scope.$eval($attr.respondClass),breakpointWidths=[];$rootScope.$on("breakpoint",function(event,oldBreakpoint,newBreakpoint){-1!==breakpointWidths.indexOf(oldBreakpoint)&&$element.removeClass(breakpoints[oldBreakpoint]),-1!==breakpointWidths.indexOf(newBreakpoint)&&$element.addClass(breakpoints[newBreakpoint])}),angular.forEach(breakpoints,function(c,breakpoint){breakpointWidths.push(parseInt(breakpoint,10))}),Respond.addBreakpoint(breakpointWidths)}}}]);var mod;mod=angular.module("infinite-scroll",[]),mod.value("THROTTLE_MILLISECONDS",null),mod.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function($rootScope,$window,$interval,THROTTLE_MILLISECONDS){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"="},link:function(scope,elem,attrs){var changeContainer,checkWhenEnabled,container,handleInfiniteScrollContainer,handleInfiniteScrollDisabled,handleInfiniteScrollDistance,handleInfiniteScrollUseDocumentBottom,handler,height,immediateCheck,offsetTop,pageYOffset,scrollDistance,scrollEnabled,throttle,useDocumentBottom,windowElement;return windowElement=angular.element($window),scrollDistance=null,scrollEnabled=null,checkWhenEnabled=null,container=null,immediateCheck=!0,useDocumentBottom=!1,height=function(elem){return elem=elem[0]||elem,isNaN(elem.offsetHeight)?elem.document.documentElement.clientHeight:elem.offsetHeight},offsetTop=function(elem){return elem[0].getBoundingClientRect&&!elem.css("none")?elem[0].getBoundingClientRect().top+pageYOffset(elem):void 0},pageYOffset=function(elem){return elem=elem[0]||elem,isNaN(window.pageYOffset)?elem.document.documentElement.scrollTop:elem.ownerDocument.defaultView.pageYOffset},handler=function(){var containerBottom,containerTopOffset,elementBottom,remaining,shouldScroll;return container===windowElement?(containerBottom=height(container)+pageYOffset(container[0].document.documentElement),elementBottom=offsetTop(elem)+height(elem)):(containerBottom=height(container),containerTopOffset=0,void 0!==offsetTop(container)&&(containerTopOffset=offsetTop(container)),elementBottom=offsetTop(elem)-containerTopOffset+height(elem)),useDocumentBottom&&(elementBottom=height((elem[0].ownerDocument||elem[0].document).documentElement)),remaining=elementBottom-containerBottom,shouldScroll=remaining<=height(container)*scrollDistance+1,shouldScroll?(checkWhenEnabled=!0,scrollEnabled?scope.$$phase||$rootScope.$$phase?scope.infiniteScroll():scope.$apply(scope.infiniteScroll):void 0):checkWhenEnabled=!1
},throttle=function(func,wait){var later,previous,timeout;return timeout=null,previous=0,later=function(){var context;return previous=(new Date).getTime(),$interval.cancel(timeout),timeout=null,func.call(),context=null},function(){var now,remaining;return now=(new Date).getTime(),remaining=wait-(now-previous),0>=remaining?(clearTimeout(timeout),$interval.cancel(timeout),timeout=null,previous=now,func.call()):timeout?void 0:timeout=$interval(later,remaining,1)}},null!=THROTTLE_MILLISECONDS&&(handler=throttle(handler,THROTTLE_MILLISECONDS)),scope.$on("$destroy",function(){return container.unbind("scroll",handler)}),handleInfiniteScrollDistance=function(v){return scrollDistance=parseFloat(v)||0},scope.$watch("infiniteScrollDistance",handleInfiniteScrollDistance),handleInfiniteScrollDistance(scope.infiniteScrollDistance),handleInfiniteScrollDisabled=function(v){return scrollEnabled=!v,scrollEnabled&&checkWhenEnabled?(checkWhenEnabled=!1,handler()):void 0},scope.$watch("infiniteScrollDisabled",handleInfiniteScrollDisabled),handleInfiniteScrollDisabled(scope.infiniteScrollDisabled),handleInfiniteScrollUseDocumentBottom=function(v){return useDocumentBottom=v},scope.$watch("infiniteScrollUseDocumentBottom",handleInfiniteScrollUseDocumentBottom),handleInfiniteScrollUseDocumentBottom(scope.infiniteScrollUseDocumentBottom),changeContainer=function(newContainer){return null!=container&&container.unbind("scroll",handler),container=newContainer,null!=newContainer?container.bind("scroll",handler):void 0},changeContainer(windowElement),handleInfiniteScrollContainer=function(newContainer){if(null!=newContainer&&0!==newContainer.length){if(newContainer instanceof HTMLElement?newContainer=angular.element(newContainer):"function"==typeof newContainer.append?newContainer=angular.element(newContainer[newContainer.length-1]):"string"==typeof newContainer&&(newContainer=angular.element(document.querySelector(newContainer))),null!=newContainer)return changeContainer(newContainer);throw new Exception("invalid infinite-scroll-container attribute.")}},scope.$watch("infiniteScrollContainer",handleInfiniteScrollContainer),handleInfiniteScrollContainer(scope.infiniteScrollContainer||[]),null!=attrs.infiniteScrollParent&&changeContainer(angular.element(elem.parent())),null!=attrs.infiniteScrollImmediateCheck&&(immediateCheck=scope.$eval(attrs.infiniteScrollImmediateCheck)),$interval(function(){return immediateCheck?handler():void 0},0,1)}}}]);var requirejs,require,define;!function(global){function isFunction(it){return"[object Function]"===ostring.call(it)}function isArray(it){return"[object Array]"===ostring.call(it)}function each(ary,func){if(ary){var i;for(i=0;i<ary.length&&(!ary[i]||!func(ary[i],i,ary));i+=1);}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1&&(!ary[i]||!func(ary[i],i,ary));i-=1);}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj)if(hasProp(obj,prop)&&func(obj[prop],prop))break}function mixin(target,source,force,deepStringMixin){return source&&eachProp(source,function(value,prop){(force||!hasProp(target,prop))&&(!deepStringMixin||"object"!=typeof value||!value||isArray(value)||isFunction(value)||value instanceof RegExp?target[prop]=value:(target[prop]||(target[prop]={}),mixin(target[prop],value,force,deepStringMixin)))}),target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(err){throw err}function getGlobal(value){if(!value)return value;var g=global;return each(value.split("."),function(part){g=g[part]}),g}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);return e.requireType=id,e.requireModules=requireModules,err&&(e.originalError=err),e}function newContext(contextName){function trimDots(ary){var i,part;for(i=0;i<ary.length;i++)if(part=ary[i],"."===part)ary.splice(i,1),i-=1;else if(".."===part){if(0===i||1==i&&".."===ary[2]||".."===ary[i-1])continue;i>0&&(ary.splice(i-1,2),i-=2)}}function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,normalizedBaseParts,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"];if(name&&(name=name.split("/"),lastIndex=name.length-1,config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])&&(name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")),"."===name[0].charAt(0)&&baseParts&&(normalizedBaseParts=baseParts.slice(0,baseParts.length-1),name=normalizedBaseParts.concat(name)),trimDots(name),name=name.join("/")),applyMap&&map&&(baseParts||starMap)){nameParts=name.split("/");outerLoop:for(i=nameParts.length;i>0;i-=1){if(nameSegment=nameParts.slice(0,i).join("/"),baseParts)for(j=baseParts.length;j>0;j-=1)if(mapValue=getOwn(map,baseParts.slice(0,j).join("/")),mapValue&&(mapValue=getOwn(mapValue,nameSegment))){foundMap=mapValue,foundI=i;break outerLoop}!foundStarMap&&starMap&&getOwn(starMap,nameSegment)&&(foundStarMap=getOwn(starMap,nameSegment),starI=i)}!foundMap&&foundStarMap&&(foundMap=foundStarMap,foundI=starI),foundMap&&(nameParts.splice(0,foundI,foundMap),name=nameParts.join("/"))}return pkgMain=getOwn(config.pkgs,name),pkgMain?pkgMain:name}function removeScript(name){isBrowser&&each(scripts(),function(scriptNode){return scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName?(scriptNode.parentNode.removeChild(scriptNode),!0):void 0})}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);return pathConfig&&isArray(pathConfig)&&pathConfig.length>1?(pathConfig.shift(),context.require.undef(id),context.makeRequire(null,{skipMap:!0})([id]),!0):void 0}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;return index>-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=!0,normalizedName="";return name||(isDefine=!1,name="_@r"+(requireCounter+=1)),nameParts=splitPrefix(name),prefix=nameParts[0],name=nameParts[1],prefix&&(prefix=normalize(prefix,parentName,applyMap),pluginModule=getOwn(defined,prefix)),name&&(prefix?normalizedName=pluginModule&&pluginModule.normalize?pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)}):-1===name.indexOf("!")?normalize(name,parentName,applyMap):name:(normalizedName=normalize(name,parentName,applyMap),nameParts=splitPrefix(normalizedName),prefix=nameParts[0],normalizedName=nameParts[1],isNormalized=!0,url=context.nameToUrl(normalizedName))),suffix=!prefix||pluginModule||isNormalized?"":"_unnormalized"+(unnormalizedCounter+=1),{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);return mod||(mod=registry[id]=new context.Module(depMap)),mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);!hasProp(defined,id)||mod&&!mod.defineEmitComplete?(mod=getModule(depMap),mod.error&&"error"===name?fn(mod.error):mod.on(name,fn)):"defined"===name&&fn(defined[id])}function onError(err,errback){var ids=err.requireModules,notified=!1;errback?errback(err):(each(ids,function(id){var mod=getOwn(registry,id);mod&&(mod.error=err,mod.events.error&&(notified=!0,mod.emit("error",err)))}),notified||req.onError(err))}function takeGlobalQueue(){globalDefQueue.length&&(apsp.apply(defQueue,[defQueue.length,0].concat(globalDefQueue)),globalDefQueue=[])}function cleanRegistry(id){delete registry[id],delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;mod.error?mod.emit("error",mod.error):(traced[id]=!0,each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);!dep||mod.depMatched[i]||processed[depId]||(getOwn(traced,depId)?(mod.defineDep(i,defined[depId]),mod.check()):breakCycle(dep,traced,processed))}),processed[id]=!0)}function checkLoaded(){var err,usingPathFallback,waitInterval=1e3*config.waitSeconds,expired=waitInterval&&context.startTime+waitInterval<(new Date).getTime(),noLoads=[],reqCalls=[],stillLoading=!1,needCycleCheck=!0;if(!inCheckLoaded){if(inCheckLoaded=!0,eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(mod.enabled&&(map.isDefine||reqCalls.push(mod),!mod.error))if(!mod.inited&&expired)hasPathFallback(modId)?(usingPathFallback=!0,stillLoading=!0):(noLoads.push(modId),removeScript(modId));else if(!mod.inited&&mod.fetched&&map.isDefine&&(stillLoading=!0,!map.prefix))return needCycleCheck=!1}),expired&&noLoads.length)return err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads),err.contextName=context.contextName,onError(err);needCycleCheck&&each(reqCalls,function(mod){breakCycle(mod,{},{})}),expired&&!usingPathFallback||!stillLoading||!isBrowser&&!isWebWorker||checkLoadedTimeoutId||(checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0,checkLoaded()},50)),inCheckLoaded=!1}}function callGetModule(args){hasProp(defined,args[0])||getModule(makeModuleMap(args[0],null,!0)).init(args[1],args[2])}function removeListener(node,func,name,ieName){node.detachEvent&&!isOpera?ieName&&node.detachEvent(ieName,func):node.removeEventListener(name,func,!1)}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;return removeListener(node,context.onScriptLoad,"load","onreadystatechange"),removeListener(node,context.onScriptError,"error"),{node:node,id:node&&node.getAttribute("data-requiremodule")}}function intakeDefines(){var args;for(takeGlobalQueue();defQueue.length;){if(args=defQueue.shift(),null===args[0])return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]));callGetModule(args)}}var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;return handlers={require:function(mod){return mod.require?mod.require:mod.require=context.makeRequire(mod.map)},exports:function(mod){return mod.usingExports=!0,mod.map.isDefine?mod.exports?defined[mod.map.id]=mod.exports:mod.exports=defined[mod.map.id]={}:void 0},module:function(mod){return mod.module?mod.module:mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})}}},Module=function(map){this.events=getOwn(undefEvents,map.id)||{},this.map=map,this.shim=getOwn(config.shim,map.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},Module.prototype={init:function(depMaps,factory,errback,options){options=options||{},this.inited||(this.factory=factory,errback?this.on("error",errback):this.events.error&&(errback=bind(this,function(err){this.emit("error",err)})),this.depMaps=depMaps&&depMaps.slice(0),this.errback=errback,this.inited=!0,this.ignore=options.ignore,options.enabled||this.enabled?this.enable():this.check())},defineDep:function(i,depExports){this.depMatched[i]||(this.depMatched[i]=!0,this.depCount-=1,this.depExports[i]=depExports)},fetch:function(){if(!this.fetched){this.fetched=!0,context.startTime=(new Date).getTime();var map=this.map;return this.shim?void context.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()})):map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;urlFetched[url]||(urlFetched[url]=!0,context.load(this.map.id,url))},check:function(){if(this.enabled&&!this.enabling){var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(factory)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}else exports=context.execCb(id,factory,depExports,exports);if(this.map.isDefine&&void 0===exports&&(cjsModule=this.module,cjsModule?exports=cjsModule.exports:this.usingExports&&(exports=this.exports)),err)return err.requireMap=this.map,err.requireModules=this.map.isDefine?[this.map.id]:null,err.requireType=this.map.isDefine?"define":"require",onError(this.error=err)}else exports=factory;this.exports=exports,this.map.isDefine&&!this.ignore&&(defined[id]=exports,req.onResourceLoad&&req.onResourceLoad(context,this.map,this.depMaps)),cleanRegistry(id),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap),on(pluginMap,"defined",bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(plugin.normalize&&(name=plugin.normalize(name,function(name){return normalize(name,parentName,!0)})||""),normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap),on(normalizedMap,"defined",bind(this,function(value){this.init([],function(){return value},null,{enabled:!0,ignore:!0})})),normalizedMod=getOwn(registry,normalizedMap.id),void(normalizedMod&&(this.depMaps.push(normalizedMap),this.events.error&&normalizedMod.on("error",bind(this,function(err){this.emit("error",err)})),normalizedMod.enable()))):bundleId?(this.map.url=context.nameToUrl(bundleId),void this.load()):(load=bind(this,function(value){this.init([],function(){return value},null,{enabled:!0})}),load.error=bind(this,function(err){this.inited=!0,this.error=err,err.requireModules=[id],eachProp(registry,function(mod){0===mod.map.id.indexOf(id+"_unnormalized")&&cleanRegistry(mod.map.id)}),onError(err)}),load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;textAlt&&(text=textAlt),hasInteractive&&(useInteractive=!1),getModule(moduleMap),hasProp(config.config,id)&&(config.config[moduleName]=config.config[id]);try{req.exec(text)}catch(e){return onError(makeError("fromtexteval","fromText eval for "+id+" failed: "+e,e,[id]))}hasInteractive&&(useInteractive=!0),this.depMaps.push(moduleMap),context.completeLoad(moduleName),localRequire([moduleName],load)}),void plugin.load(map.name,localRequire,load,config))})),context.enable(pluginMap,this),this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){enabledRegistry[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if("string"==typeof depMap){if(depMap=makeModuleMap(depMap,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[i]=depMap,handler=getOwn(handlers,depMap.id))return void(this.depExports[i]=handler(this));this.depCount+=1,on(depMap,"defined",bind(this,function(depExports){this.defineDep(i,depExports),this.check()})),this.errback?on(depMap,"error",bind(this,this.errback)):this.events.error&&on(depMap,"error",bind(this,function(err){this.emit("error",err)}))}id=depMap.id,mod=registry[id],hasProp(handlers,id)||!mod||mod.enabled||context.enable(depMap,this)})),eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);mod&&!mod.enabled&&context.enable(pluginMap,this)})),this.enabling=!1,this.check()},on:function(name,cb){var cbs=this.events[name];cbs||(cbs=this.events[name]=[]),cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)}),"error"===name&&delete this.events[name]}},context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){cfg.baseUrl&&"/"!==cfg.baseUrl.charAt(cfg.baseUrl.length-1)&&(cfg.baseUrl+="/");var shim=config.shim,objs={paths:!0,bundles:!0,config:!0,map:!0};eachProp(cfg,function(value,prop){objs[prop]?(config[prop]||(config[prop]={}),mixin(config[prop],value,!0,!0)):config[prop]=value}),cfg.bundles&&eachProp(cfg.bundles,function(value,prop){each(value,function(v){v!==prop&&(bundlesMap[v]=prop)})}),cfg.shim&&(eachProp(cfg.shim,function(value,id){isArray(value)&&(value={deps:value}),!value.exports&&!value.init||value.exportsFn||(value.exportsFn=context.makeShimExports(value)),shim[id]=value}),config.shim=shim),cfg.packages&&each(cfg.packages,function(pkgObj){var location,name;pkgObj="string"==typeof pkgObj?{name:pkgObj}:pkgObj,name=pkgObj.name,location=pkgObj.location,location&&(config.paths[name]=pkgObj.location),config.pkgs[name]=pkgObj.name+"/"+(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(registry,function(mod,id){mod.inited||mod.map.unnormalized||(mod.map=makeModuleMap(id))}),(cfg.deps||cfg.callback)&&context.require(cfg.deps||[],cfg.callback)},makeShimExports:function(value){function fn(){var ret;return value.init&&(ret=value.init.apply(global,arguments)),ret||value.exports&&getGlobal(value.exports)}return fn},makeRequire:function(relMap,options){function localRequire(deps,callback,errback){var id,map,requireMod;return options.enableBuildCallback&&callback&&isFunction(callback)&&(callback.__requireJsBuild=!0),"string"==typeof deps?isFunction(callback)?onError(makeError("requireargs","Invalid require call"),errback):relMap&&hasProp(handlers,deps)?handlers[deps](registry[relMap.id]):req.get?req.get(context,deps,relMap,localRequire):(map=makeModuleMap(deps,relMap,!1,!0),id=map.id,hasProp(defined,id)?defined[id]:onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName+(relMap?"":". Use require([])")))):(intakeDefines(),context.nextTick(function(){intakeDefines(),requireMod=getModule(makeModuleMap(null,relMap)),requireMod.skipMap=options.skipMap,requireMod.init(deps,callback,errback,{enabled:!0}),checkLoaded()}),localRequire)}return options=options||{},mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf("."),segment=moduleNamePlusExt.split("/")[0],isRelative="."===segment||".."===segment;return-1!==index&&(!isRelative||index>1)&&(ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length),moduleNamePlusExt=moduleNamePlusExt.substring(0,index)),context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,!0),ext,!0)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,!1,!0).id)},specified:function(id){return id=makeModuleMap(id,relMap,!1,!0).id,hasProp(defined,id)||hasProp(registry,id)}}),relMap||(localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,!0),mod=getOwn(registry,id);removeScript(id),delete defined[id],delete urlFetched[map.url],delete undefEvents[id],eachReverse(defQueue,function(args,i){args[0]===id&&defQueue.splice(i,1)}),mod&&(mod.events.defined&&(undefEvents[id]=mod.events),cleanRegistry(id))}),localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);mod&&getModule(depMap).enable()},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;for(takeGlobalQueue();defQueue.length;){if(args=defQueue.shift(),null===args[0]){if(args[0]=moduleName,found)break;found=!0}else args[0]===moduleName&&(found=!0);callGetModule(args)}if(mod=getOwn(registry,moduleName),!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(!(!config.enforceDefine||shExports&&getGlobal(shExports)))return hasPathFallback(moduleName)?void 0:onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]));callGetModule([moduleName,shim.deps||[],shim.exportsFn])}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain&&(moduleName=pkgMain),bundleId=getOwn(bundlesMap,moduleName))return context.nameToUrl(bundleId,ext,skipExt);if(req.jsExtRegExp.test(moduleName))url=moduleName+(ext||"");else{for(paths=config.paths,syms=moduleName.split("/"),i=syms.length;i>0;i-=1)if(parentModule=syms.slice(0,i).join("/"),parentPath=getOwn(paths,parentModule)){isArray(parentPath)&&(parentPath=parentPath[0]),syms.splice(0,i,parentPath);break}url=syms.join("/"),url+=ext||(/^data\:|\?/.test(url)||skipExt?"":".js"),url=("/"===url.charAt(0)||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs?url+((-1===url.indexOf("?")?"?":"&")+config.urlArgs):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if("load"===evt.type||readyRegExp.test((evt.currentTarget||evt.srcElement).readyState)){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);return hasPathFallback(data.id)?void 0:onError(makeError("scripterror","Script error for: "+data.id,evt,[data.id]))}},context.require=context.makeRequire(),context}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(script){return"interactive"===script.readyState?interactiveScript=script:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.16",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;return isArray(deps)||"string"==typeof deps||(config=deps,isArray(callback)?(deps=callback,callback=errback,errback=optional):deps=[]),config&&config.context&&(contextName=config.context),context=getOwn(contexts,contextName),context||(context=contexts[contextName]=req.s.newContext(contextName)),config&&context.configure(config),context.require(deps,callback,errback)},req.config=function(config){return req(config)},req.nextTick="undefined"!=typeof setTimeout?function(fn){setTimeout(fn,4)}:function(fn){fn()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(config){var node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return node.type=config.scriptType||"text/javascript",node.charset="utf-8",node.async=!0,node},req.load=function(context,moduleName,url){var node,config=context&&context.config||{};if(isBrowser)return node=req.createNode(config,moduleName,url),node.setAttribute("data-requirecontext",context.contextName),node.setAttribute("data-requiremodule",moduleName),!node.attachEvent||node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0||isOpera?(node.addEventListener("load",context.onScriptLoad,!1),node.addEventListener("error",context.onScriptError,!1)):(useInteractive=!0,node.attachEvent("onreadystatechange",context.onScriptLoad)),node.src=url,currentlyAddingScript=node,baseElement?head.insertBefore(node,baseElement):head.appendChild(node),currentlyAddingScript=null,node;if(isWebWorker)try{importScripts(url),context.completeLoad(moduleName)}catch(e){context.onError(makeError("importscripts","importScripts failed for "+moduleName+" at "+url,e,[moduleName]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(script){return head||(head=script.parentNode),dataMain=script.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(name,deps,callback){var node,context;"string"!=typeof name&&(callback=deps,deps=name,name=null),isArray(deps)||(callback=deps,deps=null),!deps&&isFunction(callback)&&(deps=[],callback.length&&(callback.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(match,dep){deps.push(dep)}),deps=(1===callback.length?["require"]:["require","exports","module"]).concat(deps))),useInteractive&&(node=currentlyAddingScript||getInteractiveScript(),node&&(name||(name=node.getAttribute("data-requiremodule")),context=contexts[node.getAttribute("data-requirecontext")])),(context?context.defQueue:globalDefQueue).push([name,deps,callback])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),function(undefined){function dfl(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function printMsg(msg){moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(printMsg(msg),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(printMsg(msg),deprecations[name]=!0)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}function Locale(){}function Moment(config,skipOverflow){skipOverflow!==!1&&checkOverflow(config),copyConfig(this,config),this._d=new Date(+config._d)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=moment.localeData(),this._bubble()}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=from._pf),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=makeAs(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=moment.duration(val,period),addOrSubtractDurationFromMoment(this,dur,direction),this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),months&&rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding),updateOffset&&moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);
return method.call(moment._locale,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||24===m._a[HOUR]&&(0!==m._a[MINUTE]||0!==m._a[SECOND]||0!==m._a[MILLISECOND])?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length&&m._pf.bigHour===undefined)),m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule)try{oldLocale=moment.locale(),require("./locale/"+name),moment.locale(oldLocale)}catch(e){}return locales[name]}function makeAs(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-+res,res._d.setTime(+res._d+diff),moment.updateOffset(res,!1),res):moment(input).local()}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"x":return parseTokenOffsetMs;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=config._locale.monthsParse(input,token,config._strict),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=config._locale.isPM(input);break;case"h":case"hh":config._pf.bigHour=!0;case"H":case"HH":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"x":config._d=new Date(toInt(input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":a=config._locale.weekdaysParse(input),null!=a?(config._w=config._w||{},config._w.d=a):config._pf.invalidWeekday=input;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=toInt(input));break;case"gg":case"GG":config._w=config._w||{},config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year),week=dfl(w.W,1),weekday=dfl(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year),week=dfl(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=dfl(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601)return void parseISO(config);config._a=[],config._pf.empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._pf.bigHour===!0&&config._a[HOUR]<=12&&(config._pf.bigHour=undefined),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),config._isPm===!1&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else config._isValid=!1}function makeDateFromString(config){parseISO(config),config._isValid===!1&&(delete config._isValid,moment.createFromInputFallback(config))}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function makeDateFromInput(config){var matched,input=config._i;input===undefined?config._d=new Date:isDate(input)?config._d=new Date(+input):null!==(matched=aspNetJsonRegex.exec(input))?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),dateFromConfig(config)):"object"==typeof input?dateFromObject(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,locale){if("string"==typeof input)if(isNaN(input)){if(input=locale.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||1===days&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||1===months&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=+posNegDuration>0,args[4]=locale,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return d=0===d?7:d,weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var res,input=config._i,format=config._f;return config._locale=config._locale||moment.localeData(config._l),null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),moment.isMoment(input)?new Moment(input,!0):(format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),res=new Moment(config),res._nextDay&&(res.add(1,"d"),res._nextDay=undefined),res))}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return moment();for(res=moments[0],i=1;i<moments.length;++i)moments[i][fn](res)&&(res=moments[i]);return res}function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){return"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)}}function daysToYears(days){return 400*days/146097}function yearsToDays(years){return 146097*years/400}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}for(var moment,oldGlobalMoment,i,VERSION="2.8.4",globalScope="undefined"!=typeof global?global:this,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule="undefined"!=typeof module&&module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Locale.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=moment.utc([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.apply(mom,[now]):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=locale,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)},moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)},moment.utc=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=locale,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,diffRes,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))?(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}):"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(moment(duration.from),moment(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),moment.isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.ISO_8601=function(){},moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.relativeTimeThreshold=function(threshold,limit){return relativeTimeThresholds[threshold]===undefined?!1:limit===undefined?relativeTimeThresholds[threshold]:(relativeTimeThresholds[threshold]=limit,!0)},moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)}),moment.locale=function(key,values){var data;return key&&(data="undefined"!=typeof values?moment.defineLocale(key,values):moment.localeData(key),data&&(moment.duration._locale=moment._locale=data)),moment._locale._abbr},moment.defineLocale=function(name,values){return null!==values?(values.abbr=name,locales[name]||(locales[name]=new Locale),locales[name].set(values),moment.locale(name),locales[name]):(delete locales[name],null)},moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)}),moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return moment._locale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&hasOwnProp(obj,"_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){return this._isUTC&&(this.zone(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.add(this._dateTzOffset(),"m")),this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var diff,output,daysAdjust,that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone());return units=normalizeUnits(units),"year"===units||"month"===units?(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),daysAdjust=this-moment(this).startOf("month")-(that-moment(that).startOf("month")),daysAdjust-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone())),output+=daysAdjust/diff,"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";
return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),units===undefined||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")},isAfter:function(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+this>+input):(inputMs=moment.isMoment(input)?+input:+moment(input),inputMs<+this.clone().startOf(units))},isBefore:function(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+input>+this):(inputMs=moment.isMoment(input)?+input:+moment(input),+this.clone().endOf(units)<inputMs)},isSame:function(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+this===+input):(inputMs=+moment(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),this>other?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),other>this?this:other}),zone:function(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null==input?this._isUTC?offset:this._dateTzOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=this._dateTzOffset()),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.subtract(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){return units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value),this},locale:function(key){var newLocaleData;return key===undefined?this._locale._abbr:(newLocaleData=moment.localeData(key),null!=newLocaleData&&(this._locale=newLocaleData),this)},lang:deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return key===undefined?this.localeData():this.locale(key)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,years=0;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),years=absRound(daysToYears(days)),days-=absRound(yearsToDays(years)),months+=absRound(days/30),days%=30,years+=absRound(months/12),months%=12,data.days=days,data.months=months,data.years=years},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());return withSuffix&&(output=this.localeData().pastFuture(+this,output)),this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){var days,months;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+this._milliseconds/864e5,months=this._months+12*daysToYears(days),"month"===units?months:months/12;switch(days=this._days+Math.round(yearsToDays(this._months/12)),units){case"week":return days/7+this._milliseconds/6048e5;case"day":return days+this._milliseconds/864e5;case"hour":return 24*days+this._milliseconds/36e5;case"minute":return 24*days*60+this._milliseconds/6e4;case"second":return 24*days*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*days*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+units)}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"},localeData:function(){return this._locale}}),moment.duration.fn.toString=moment.duration.fn.toISOString;for(i in unitMillisecondFactors)hasOwnProp(unitMillisecondFactors,i)&&makeDurationGetter(i.toLowerCase());moment.duration.fn.asMilliseconds=function(){return this.as("ms")},moment.duration.fn.asSeconds=function(){return this.as("s")},moment.duration.fn.asMinutes=function(){return this.as("m")},moment.duration.fn.asHours=function(){return this.as("h")},moment.duration.fn.asDays=function(){return this.as("d")},moment.duration.fn.asWeeks=function(){return this.as("weeks")},moment.duration.fn.asMonths=function(){return this.as("M")},moment.duration.fn.asYears=function(){return this.as("y")},moment.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule?module.exports=moment:"function"==typeof define&&define.amd?(define("moment",function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal===!0&&(globalScope.moment=oldGlobalMoment),moment}),makeGlobal(!0)):makeGlobal()}.call(this),function(){angular.module("angularytics",[]).provider("Angularytics",function(){var eventHandlersNames=["Google"];this.setEventHandlers=function(handlers){angular.isString(handlers)&&(handlers=[handlers]),eventHandlersNames=[],angular.forEach(handlers,function(handler){eventHandlersNames.push(capitalizeHandler(handler))})};var capitalizeHandler=function(handler){return handler.charAt(0).toUpperCase()+handler.substring(1)},pageChangeEvent="$locationChangeSuccess";this.setPageChangeEvent=function(newPageChangeEvent){pageChangeEvent=newPageChangeEvent},this.$get=["$injector","$rootScope","$location",function($injector,$rootScope,$location){var eventHandlers=[];angular.forEach(eventHandlersNames,function(handler){eventHandlers.push($injector.get("Angularytics"+handler+"Handler"))});var forEachHandlerDo=function(action){angular.forEach(eventHandlers,function(handler){action(handler)})},service={};return service.init=function(){},service.trackEvent=function(category,action,opt_label,opt_value,opt_noninteraction){forEachHandlerDo(function(handler){category&&action&&handler.trackEvent(category,action,opt_label,opt_value,opt_noninteraction)})},service.trackPageView=function(url){forEachHandlerDo(function(handler){url&&handler.trackPageView(url)})},$rootScope.$on(pageChangeEvent,function(){service.trackPageView($location.url())}),service}]})}(),function(){angular.module("angularytics").factory("AngularyticsConsoleHandler",["$log",function($log){var service={};return service.trackPageView=function(url){$log.log("URL visited",url)},service.trackEvent=function(category,action,opt_label,opt_value,opt_noninteraction){$log.log("Event tracked",category,action,opt_label,opt_value,opt_noninteraction)},service}])}(),function(){angular.module("angularytics").factory("AngularyticsGoogleHandler",["$log",function(){var service={};return service.trackPageView=function(url){_gaq.push(["_set","page",url]),_gaq.push(["_trackPageview",url])},service.trackEvent=function(category,action,opt_label,opt_value,opt_noninteraction){_gaq.push(["_trackEvent",category,action,opt_label,opt_value,opt_noninteraction])},service}]).factory("AngularyticsGoogleUniversalHandler",function(){var service={};return service.trackPageView=function(url){ga("set","page",url),ga("send","pageview",url)},service.trackEvent=function(category,action,opt_label,opt_value,opt_noninteraction){ga("send","event",category,action,opt_label,opt_value,{nonInteraction:opt_noninteraction})},service})}(),function(){angular.module("angularytics").filter("trackEvent",["Angularytics",function(Angularytics){return function(entry,category,action,opt_label,opt_value,opt_noninteraction){return Angularytics.trackEvent(category,action,opt_label,opt_value,opt_noninteraction),entry}}])}(),function(win,$){function featureTest(property,value,noPrefixes){var prop=property+":",el=document.createElement("test"),mStyle=el.style;return mStyle.cssText=noPrefixes?prop+value:prop+["-webkit-","-moz-","-ms-","-o-",""].join(value+";"+prop)+value+";",-1!==mStyle[property].indexOf(value)}function getPx(unit){return parseInt(unit,10)||0}var S={classes:{plugin:"fixedsticky",active:"fixedsticky-on",inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition"},tests:{sticky:featureTest("position","sticky"),fixed:featureTest("position","fixed",!0)},getScrollTop:function(){var prop="pageYOffset",method="scrollTop";return win?prop in win?win[prop]:win.document.documentElement[method]:win.document.body[method]},bypass:function(){return S.tests.sticky&&!S.optOut||!S.tests.fixed||win.FixedFixed&&!$(win.document.documentElement).hasClass("fixed-supported")},update:function(el){function isFixedToTop(){var offsetTop=scroll+elTop;return offsetTop>initialOffset&&parentOffset+parentHeight>=offsetTop+height}function isFixedToBottom(){return initialOffset+(height||0)>scroll+viewportHeight-elBottom&&scroll+viewportHeight-elBottom>=parentOffset+(height||0)}if(el.offsetWidth){var skipSettingToFixed,elTop,elBottom,$el=$(el),height=$el.outerHeight(),initialOffset=$el.data(S.keys.offset),scroll=S.getScrollTop(),isAlreadyOn=$el.is("."+S.classes.active),toggle=function(turnOn){$el[turnOn?"addClass":"removeClass"](S.classes.active)[turnOn?"removeClass":"addClass"](S.classes.inactive)},viewportHeight=$(window).height(),position=$el.data(S.keys.position),$parent=$el.parent(),parentOffset=$parent.offset().top,parentHeight=$parent.outerHeight();void 0===initialOffset&&(initialOffset=$el.offset().top,$el.data(S.keys.offset,initialOffset),$el.after($("<div>").addClass(S.classes.clone).height(height))),position||(skipSettingToFixed="auto"!==$el.css("top")||"auto"!==$el.css("bottom"),skipSettingToFixed||$el.css("position","fixed"),position={top:"auto"!==$el.css("top"),bottom:"auto"!==$el.css("bottom")},skipSettingToFixed||$el.css("position",""),$el.data(S.keys.position,position)),elTop=getPx($el.css("top")),elBottom=getPx($el.css("bottom")),position.top&&isFixedToTop()||position.bottom&&isFixedToBottom()?isAlreadyOn||toggle(!0):isAlreadyOn&&toggle(!1)}},destroy:function(el){var $el=$(el);if(!S.bypass())return $(win).unbind(".fixedsticky"),$el.each(function(){$(this).removeData([S.keys.offset,S.keys.position]).removeClass(S.classes.active).removeClass(S.classes.inactive).next("."+S.classes.clone).remove()})},init:function(el){var $el=$(el);if(!S.bypass())return $el.each(function(){var _this=this;$(win).bind("scroll.fixedsticky",function(){S.update(_this)}),S.update(this),$(win).bind("resize.fixedsticky",function(){$el.is("."+S.classes.active)&&S.update(_this)})})}};win.FixedSticky=S,$.fn.fixedsticky=function(method){if("function"==typeof S[method])return S[method].call(S,this);if("object"!=typeof method&&method)throw new Error("Method `"+method+"` does not exist on jQuery.fixedsticky");return S.init.call(S,this)},win.FixedFixed||$(win.document.documentElement).addClass(S.classes.withoutFixedFixed)}(this,jQuery),function(w,undefined){function checkFixed(){var scroll="scrollTop"in w.document.body?w.document.body.scrollTop:docEl.scrollTop;scroll!==undefined&&scroll>0&&w.document.body&&(w.document.body.insertBefore(el,w.document.body.firstChild),el.getBoundingClientRect&&0===el.getBoundingClientRect().top||(docEl.className=docEl.className.replace(htmlclass,"")),w.document.body.removeChild(el),w.removeEventListener?w.removeEventListener("scroll",checkFixed,!1):w.detachEvent("onscroll",checkFixed))}var htmlclass="fixed-supported",el=w.document.createElement("div"),ua=w.navigator.userAgent,docEl=w.document.documentElement;el.style.position="fixed",el.style.top=0,ua.match(/Android 2\.[1256]/)&&ua.indexOf("AppleWebKit")>-1&&ua.match(/Opera Mobi\/([0-9]+)/)&&RegExp.$1<7458&&w.operamini&&"[object OperaMini]"==={}.toString.call(w.operamini)&&ua.match(/Fennec\/([0-9]+)/)&&RegExp.$1<6||(docEl.className+=" "+htmlclass,w.addEventListener?w.addEventListener("scroll",checkFixed,!1):w.attachEvent("onscroll",checkFixed)),w.FixedFixed=checkFixed}(this),function(window,angular,undefined){"use strict";function setOneTimeBinding($scope,element,watch,watcherParser,bindingParser,done){function removeWatcher(){watcherRemover&&watcherRemover()}var watchingValue=watcherParser($scope);if(watchingValue!==undefined)return done(element,watcherParser==bindingParser?watchingValue:bindingParser($scope));var watcherRemover=$scope.$watch(watch,function(newValue){return newValue!=undefined?(removeWatcher(),done(element,watcherParser==bindingParser?newValue:bindingParser($scope))):void 0});$scope.$on("$destroy",removeWatcher)}function makeBindingDirective(definition){once.directive(definition.name,["$parse",function($parse){return function($scope,element,attrs){var watch=attrs.onceWaitFor||attrs[definition.name],watcherParser=$parse(watch),bindingParser=attrs.onceWaitFor?$parse(attrs[definition.name]):watcherParser;setOneTimeBinding($scope,element,watch,watcherParser,bindingParser,definition.binding)}}])}var once=angular.module("once",[]),bindingsDefinitions=[{name:"onceText",binding:function(element,value){element.text(null!==value?value:"")}},{name:"onceHtml",binding:function(element,value){element.html(value)}},{name:"onceSrc",binding:function(element,value){element.attr("src",value)}},{name:"onceHref",binding:function(element,value){element.attr("href",value)}},{name:"onceTitle",binding:function(element,value){element.attr("title",value)}},{name:"onceAlt",binding:function(element,value){element.attr("alt",value)}},{name:"onceId",binding:function(element,value){element.attr("id",value)}},{name:"onceIf",binding:function(element,value){value||element.remove()}},{name:"onceClass",binding:function(element,value){if(angular.isObject(value)&&!angular.isArray(value)){var results=[];angular.forEach(value,function(val,index){val&&results.push(index)}),value=results}value&&element.addClass(angular.isArray(value)?value.join(" "):value)}},{name:"onceStyle",binding:function(element,value){element.css(value)}},{name:"onceShow",binding:function(element,value){value?element.css("display",""):element.css("display","none")}},{name:"onceHide",binding:function(element,value){value?element.css("display","none"):element.css("display","")}}];angular.forEach(bindingsDefinitions,makeBindingDirective),once.directive("once",function(){return function($scope,element,attrs){angular.forEach(attrs,function(attr,attrName){if(/^onceAttr[A-Z]/.test(attrName)){var bind=function(element,value){var dashedName=attrName.replace(/[A-Z]/g,function(match){return"-"+match.toLowerCase()}),name=dashedName.substr(10);element.attr(name,value)};setOneTimeBinding($scope,element,attrs,attrName,bind)}})}})}(window,window.angular);var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an_unknown_OS"},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string,dataProp=data[i].prop;if(this.versionSearchString=data[i].versionSearch||data[i].identity,dataString){if(-1!=dataString.indexOf(data[i].subString))return data[i].identity}else if(dataProp)return data[i].identity}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(-1!=index)return parseFloat(dataString.substring(index+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone_iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};if(BrowserDetect.init(),!aetn)var aetn={};aetn.videoplayer=function(){function PDKVideoPlayer(inPlayerDiv,inPdkBaseURL,inPlayerSettings,inAdAnalyticConfigs,inCompanions,inCallbacks){function initVideoPlayer(){var adTest=!1;if("non-Flash"==aetn.videoplayer.runtime())return void(callbacks.nonFlashHandler&&callbacks.nonFlashHandler());if("bad-Flash"==aetn.videoplayer.runtime())return void(callbacks.badFlashVersionHandler&&callbacks.badFlashVersionHandler());var player=new Player(inPlayerDiv);player.runtime=aetn.videoplayer.runtime(),player.fp.bgcolor="0x000000",player.fp.wmode="opaque",player.logLevel=document.location.toString().indexOf("debug=true")>-1?"debug":"error",document.location.toString().indexOf("test=on")>-1&&(adTest=!0),player.allowFullScreen="true",player.allowScriptAccess="always",player.backgroundColor="0x131313",player.controlBackgroundColor="0x131313",player.controlColor="0xBEBEBE",player.controlFrameColor="0x545759",player.controlHoverColor="0xFF0000",player.controlSelectedColor="0xFFFFFF",player.frameColor="0x545759",player.loadProgressColor="0x444444",player.pageBackgroundColor="0x131313",player.playProgressColor="0xFF0000",player.scrubberColor="0xBEBEBE",player.scrubberFrameColor="0x444444",player.scrubTrackColor="0xBEBEBE",player.textBackgroundColor="0x383838",player.textColor="0xBEBEBE",player.previewImageAssetType="Video Still",player.autoPlay="false",player.layoutUrl=("/"!=pdkBaseURL.charAt(pdkBaseURL.length-1)?pdkBaseURL+"/":pdkBaseURL)+"../data/AETN_basic_meta_glass.xml?x=asdf",player.pluginAkamaiHD="type=auth|priority=0|URL="+pdkBaseURL+"/swf/akamaiHD.swf?v="+ver+"|hosts=hdaks3.aetndigital.com",player.pluginAETNPersistentOverlay="type=auth|priority=2|URL="+pdkBaseURL+"/swf/aetn/AETNPersistentOverlay.swf?v="+ver+formatParams(playerSettings.persistentOverlay),player.pluginAETNPass=playerSettings.adobePass_use_old?"jkvar=HelloWorld|type=url|priority=1|URL="+pdkBaseURL+"/swf/aetn/aetnPass.swf?v="+ver+mergeParams(adobePassParams,playerSettings.adobePass):"jkvar=HelloWorld|type=url|priority=1|URL="+pdkBaseURL+"/swf/aetn/AETNPass2.swf?v="+ver+mergeParams(adobePassParams,playerSettings.adobePass),player.pluginFreewheel="type=ads|priority=10|url="+pdkBaseURL+"/swf/freewheel.swf?v="+ver+"|adManagerUrl=http://adm.fwmrm.net/p/aetn_live/AdManager.swf|enablePrerollsAndPostrolls=false|preloadSlots=false|customIdField=thePlatformID"+(adTest?mergeParams(adAnalyticConfigs.freewheelFlash,freewheelParams.flash_test):mergeParams(freewheelParams.flash_live,adAnalyticConfigs.freewheelFlash)),player.pluginComScore="type=tracking|priority=12|URL="+pdkBaseURL+"/swf/comScore.swf?v="+ver+"|trackEachChapter=true"+formatParams(adAnalyticConfigs.comscore),player.pluginNielsen="type=tracking|priority=14|URL="+pdkBaseURL+"/swf/ggtp397.swf?v="+ver+mergeParams(nielsenParams,adAnalyticConfigs.nielsen),player.pluginAETNOmniture="type=tracking|priority=16|URL="+pdkBaseURL+"/swf/aetn/AETNOmniture.swf?v="+ver+"|host=metrics.aetn.com|enableTrackHeartbeat=false"+formatParams(adAnalyticConfigs.omniture),player.pluginConviva="type=|priority=17|URL=http://livepassdl.conviva.com/thePlatform/ConvivaThePlatformPlugin_5_1_2.swf"+mergeParams(convivaParams,adAnalyticConfigs.conviva),player.pluginAETNMCustomBasic="type=overlay|priority=20|URL="+pdkBaseURL+"/swf/aetn/AETNCustomBasic.swf?v="+ver+"|mbr=true|switch=m3u|assetType=Flash_Video",player.pluginAETNMButtonShare="type=overlay|priority=22|URL="+pdkBaseURL+"/swf/aetn/AETNButtonShare.swf?v="+ver,player.pluginAETNShareScreen="type=overlay|priority=24|URL="+pdkBaseURL+"/swf/aetn/AETNShareScreen.swf?v="+ver+formatParams(playerSettings.shareConfig),playerSettings.hotmoments&&(player.pluginAETVHotMoments="type="+playerSettings.hotmoments.type+"|priority="+playerSettings.hotmoments.priority+"|URL="+playerSettings.hotmoments.URL+(playerSettings.hotmoments.callback?"|callback="+playerSettings.hotmoments.callback:"")),player.overrideNativeControls="true",playerSettings.showPDKControlsInHTML5||(player.pluginHtml5AETNControls="type=overlay|URL="+pdkBaseURL+"/js/plugins/aetn/AETNControlsPlugIn.js?v="+ver),player.pluginHtml5UrlSigning="type=rewrite|URL="+pdkBaseURL+"/js/plugins/aetn/AETNUrlSigningPlugIn.js?v="+ver+"|priority=1",playerSettings.adobePass&&playerSettings.adobePass.policy&&(html5UrlParams.policy=playerSettings.adobePass.policy),player.pluginHtml5LinkUrlMod="type=player|URL="+pdkBaseURL+"/js/plugins/aetn/AETNLinkUrlModPlugIn.js?v="+ver+"|priority=2"+mergeParams(html5UrlParams,playerSettings.html5UrlParams),player.pluginHtml5ShareCard="type=overlay|URL="+pdkBaseURL+"/js/plugins/aetn/AETNShareCardPlugIn.js?v="+ver,player.pluginHtml5ErrorCard="type=error|videoLandingPageUrl=http://www.history.com|URL="+pdkBaseURL+"/js/plugins/aetn/AETNErrorCardPlugIn.js?v="+ver,player.pluginHtml5ComScore="type=tracking|URL="+pdkBaseURL+"/js/plugins/comScore.js?v="+ver+"|trackEachChapter=true"+formatParams(adAnalyticConfigs.comscore),player.pluginHtml5Omniture="type=tracking|URL="+pdkBaseURL+"/js/plugins/aetn/AETNOmnitureMediaPlugIn.js?v="+ver+"|host=metrics.aetn.com"+formatParams(adAnalyticConfigs.omniture,defaultOmnitureParams),player.pluginHtml5Freewheel="type=adcomponent|URL="+pdkBaseURL+"/js/plugins/freewheel.js||adManagerUrl=http://adm.fwmrm.net/p/aetn_live/AdManager.js|customIdField=thePlatformID"+(adTest?mergeParams(adAnalyticConfigs.freewheel,freewheelParams.html5_test):mergeParams(freewheelParams.html5_live,adAnalyticConfigs.freewheel)),playerSettings&&jQuery.extend(!0,player,playerSettings),"HTML5"==player.runtime&&player.html5ReleaseURL&&(player.releaseURL=player.html5ReleaseURL,player.showControls=playerSettings.showPDKControlsInHTML5?!0:!1),player.bind(inPlayerDiv)}function formatParams(data,defaultData){var params="";return data?jQuery.each(data,function(k,v){params+="|"+k+"="+v}):defaultData&&(params=defaultData),params}function mergeParams(defaultData,customData){var merged={};jQuery.extend(merged,defaultData,customData);var params="";return jQuery.each(merged,function(k,v){params+="|"+k+"="+v}),params}function hideShowCompanionWrapper(e){for(var i=0;i<companionAdElements.length;i++)if("300"==companionAdElements[i].width&&"250"==companionAdElements[i].height){e.data.baseClip.isAd===!0?(companionAdElements[i].swapElement&&companionAdElements[i].swapElement.children(":not(#"+companionAdElements[i].adId+")").hide(),jQuery("#"+companionAdElements[i].adId).show()):(companionAdElements[i].swapElement&&companionAdElements[i].swapElement.children().show(),jQuery("#"+companionAdElements[i].adId).hide());break}}function removeCompanionAd(){if(companionOn||"Flash"!=aetn.videoplayer.runtime())for(var i=0;i<companionAdElements.length;i++)if("300"==companionAdElements[i].width&&"250"==companionAdElements[i].height){companionAdElements[i].swapElement&&companionAdElements[i].swapElement.children().show(),jQuery("#"+companionAdElements[i].adId).hide(),companionOn=!1;break}}function isExists(){var p=jQuery(document).find("#"+playerDiv),exists=!1;return p.length>0&&(exists=!0),exists}var self=this,scopes=[inPlayerDiv],companionAdElements=inCompanions?inCompanions:null,playerSettings=inPlayerSettings,adAnalyticConfigs=inAdAnalyticConfigs,playerDiv=inPlayerDiv,pdkBaseURL=inPdkBaseURL,companionOn=!1,freewheelParams={flash_live:{networkId:171213,playerProfile:"171213:AETN_flash_live",serverUrl:"http://29ccd.v.fwmrm.net/ad/p",siteSectionNetworkId:171213,videoAssetNetworkId:171213,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)},flash_test:{networkId:171212,playerProfile:"171212:AETN_flash_test",serverUrl:"http://29ccc.v.fwmrm.net/ad/p",siteSectionNetworkId:171212,videoAssetNetworkId:171212,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)},html5_live:{networkId:171213,playerProfile:"171213:AETN_html5_live",serverUrl:"http://29ccd.v.fwmrm.net/ad/g",siteSectionNetworkId:171213,videoAssetNetworkId:171213,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)},html5_test:{networkId:171212,playerProfile:"171212:AETN_html5_test",serverUrl:"http://29ccc.v.fwmrm.net/ad/g",siteSectionNetworkId:171212,videoAssetNetworkId:171212,callback:"fwCallback",keyValues:encodeURIComponent("vindico_dv_type="+BrowserDetect.OS)}},nielsenParams={censuscategory:"seriesNameGlobal",subcategory:"season",title:"title"},convivaParams={viewerId:"",serviceUrl:"http://livepass.conviva.com",cdnName:"AKAMAI",deviceType:"PC",playerName:"PDK Flash 5.1.3",customerId:"c3.TP-AE",metadataKeys:"network,thePlatformId,programID,isLongForm,title,episode,mrssCategory,availableDate,premierDate,season,isBehindWall,duration","playerTag.syndicator":"Synacor","playerTag.streamProtocol":"hds","playerTag.playParameters":"mbr=true&switch=hds&assetTypes=medium_video_s3&manifest=true","playerTag.player":"PDK","playerTag.playerVersion":"1.0.1","playerTag.accessType":"Free","playerTag.mvpd":""},adobePassParams={assetTypes:"medium_video_s3",mbr:"true",metafile:"false","switch":"hds",aetnPass:"aetn.video.adobePass"},html5UrlParams={assetTypes:"medium_video_s3",mbr:"true",metafile:"false","switch":"hls"},defaultOmnitureParams="|brandPrefix=HIS|enableTrackHeartbeat=false",callbacks={nonFlashHandler:!1,badFlashVersionHandler:!1};if(jQuery.extend(callbacks,inCallbacks),this.bindListener=function(eventName,methodName,scopes){tpController.addEventListener(eventName,methodName,scopes)},this.unbindListener=function(eventName,methodName){tpController.removeEventListener(eventName,methodName,"*")},this.playVideo=function(videoURLs,noPlayback,scopes){var releaseURL="Flash"==aetn.videoplayer.runtime()?videoURLs.releaseURL:videoURLs.html5ReleaseURL?videoURLs.html5ReleaseURL:videoURLs.releaseURL;noPlayback?tpController.loadReleaseURL(releaseURL,!0,scopes):tpController.setReleaseURL(releaseURL,!0,scopes)},this.pauseVideo=function(paused){isExists()&&tpController.pause(paused,["aeplayer"],!0)
},this.displayAcudeoCompanionAd=function(banners){if(companionAdElements)for(i=0;i<companionAdElements.length;i++){var ad=companionAdElements[i];for(j=0;j<banners.length;j++)if(ad.width==banners[j].width&&ad.height==banners[j].height){ad.swapElement&&ad.swapElement.children(":not(#"+ad.adId+")").hide(),ad.staticAdId&&jQuery("#"+ad.staticAdId).hide(),jQuery("#"+ad.adId).is(":visible")||jQuery("#"+ad.adId).show(),tmDisplayBanner(banners,ad.adId,ad.width,ad.height),companionOn=!0,"true"==ad.hideAfterVideoAdEnd&&tpController.addEventListener("OnMediaEnd",removeCompanionAd,scopes);break}}},this.wrapCompanionMarkup=function(index){var divId=companionAdElements[index].adId,adDiv=jQuery("#"+companionAdElements[index].adId);if(1==adDiv.length&&!(jQuery("._fwph",adDiv).length>0)){jQuery("script",adDiv).remove();var spanId=divId+"_fw_ad",adContainerId="_fw_container_"+spanId,adContainer=jQuery("<span>").attr("id",adContainerId);adDiv.wrapInner(adContainer),adContainer=jQuery("#_fw_container_"+spanId,adDiv);var fwSpan=jQuery("<span>").attr("id",spanId).addClass("_fwph");fwSpan=adContainer.wrap(fwSpan).parent();var form=jQuery("<form>").attr("id","_fw_form_"+spanId).css("display","none");form.append(jQuery("<input>").attr({type:"hidden",name:"_fw_input_"+spanId,id:"_fw_input_"+spanId,value:companionAdElements[index].settings})),fwSpan.append(form),"true"==companionAdElements[index].hideAfterVideoAdEnd&&tpController.addEventListener("OnMediaStart",hideShowCompanionWrapper,scopes)}},this.start=function(){initVideoPlayer()},"HTML5"==aetn.videoplayer.runtime()||"FW"==adAnalyticConfigs.adSwitch){var playerHeight=jQuery("#"+inPlayerDiv).height(),playerWidth=jQuery("#"+inPlayerDiv).width();jQuery.each(companionAdElements,function(index,value){value.settings&&self.wrapCompanionMarkup(index)}),jQuery("<style type='text/css'> #fw-pdk-plugin-video-display-base{height: "+playerHeight+"px; width: "+playerWidth+"px} </style>").appendTo("head")}}var ver="1_1_11",pub={};return pub.init=function(playerDiv,pdkBaseURL,playerSettings,adAnalyticConfigs,companions,inCallbacks){var player=new PDKVideoPlayer(playerDiv,pdkBaseURL,playerSettings,adAnalyticConfigs,companions,inCallbacks);return player},pub.playVideo=function(videoURLs,noPlayback,player){player.playVideo(videoURLs,noPlayback,scopes)},pub.pauseVideo=function(paused,player){player.pauseVideo(paused,scopes)},pub.wrapCompanionMarkup=function(index,player){player.wrapCompanionMarkup(index)},pub.bindListener=function(eventName,methodName,scopes){player.bindListener(eventName,methodName,scopes)},pub.unbindListener=function(eventName,methodName,scopes){player.unbindListener(eventName,methodName,scopes)},pub.runtime=function(){var value=navigator.userAgent.toLowerCase();if(value.indexOf("iphone")>-1||value.indexOf("ipad")>-1||value.indexOf("android")>-1)return"HTML5";if(swfobject.hasFlashPlayerVersion("10.1.0")){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){var playerVersion=swfobject.getFlashPlayerVersion();if("11"==playerVersion.major&&"3"==playerVersion.minor)return"bad-Flash"}return"Flash"}return"non-Flash"},pub}();var aetn=aetn?aetn:{};aetn.biography=aetn.biography?aetn.biography:{},aetn.biography.videocontroller=function(){function setCurrentPlayer(pID){currentPlayerID=pID,currentPlayer=players[currentPlayerID].player,currentPlaylist=players[currentPlayerID].playlist,currentIndex=players[currentPlayerID].playerIndex,currentScope=players[currentPlayerID].scope}function getPlayerSettings(pdkBase,player,commonConfig){var embedPlayerUrl=pdkBase.substr(0,pdkBase.indexOf("/",10))+"/pservice/embed-player/?siteId=bio&tPid={platformID}",videoList=player.playlist,index=player.playerIndex,settings={autoPlay:player.autoPlay,shareConfig:{embedCode:'<iframe width="480" height="320" src="'+embedPlayerUrl+'" frameborder="0" scrolling="no" allowfullscreen></iframe>'},layoutUrl:priv.videoplayer.layoutUrl,embed:{embedSite:"bio"},releaseURL:videoList[index].videoURLs.releaseURL,adobePass_use_old:!0};return videoList[index].videoURLs.html5ReleaseURL&&(settings.html5ReleaseURL=videoList[0].videoURLs.html5ReleaseURL),$.extend(!0,settings,commonConfig),settings}function getAdAnalyticConfigs(videoList,commonAdConfig){var config={adSwitch:"FW",comscore:{c2:"3005002",c4:"6357324"},omniture:{host:"metrics.aetn.com",brandPrefix:"BIO",enableTrackHeartbeat:"false"},nielsen:{clientid:"us-901285",vcid:"c03"}};return $.extend(!0,config,commonAdConfig),config}function playerHandler(e){var controlId=e.originator?e.originator.controlId:this.scope.scopeIds[2];switch(e.type){case"OnSetRelease":case"OnSetReleaseUrl":setCurrentPlayer(controlId);break;case"OnReleaseEnd":"false"!==players[controlId].autoPlay&&pub.nextVideo(controlId);break;case"OnReleaseStart":updateMetadata(controlId);break;case"OnLoadReleaseUrl":break;case"OnMediaUnpause":setCurrentPlayer(controlId)}}function updateMetadata(pID){var playerElement=document.getElementById(pID),playerEvent=new Event("PDK:OnReleaseStart");playerEvent.target=playerElement,playerElement.dispatchEvent(playerEvent)}function registerListeners(player){player.bindListener("OnSetReleaseUrl",playerHandler,scopes),player.bindListener("OnSetRelease",playerHandler,scopes),player.bindListener("OnReleaseEnd",playerHandler,scopes),player.bindListener("OnReleaseStart",playerHandler,scopes),player.bindListener("OnLoadRelease",playerHandler,scopes),player.bindListener("OnLoadReleaseUrl",playerHandler,scopes),player.bindListener("OnMediaUnpause",playerHandler,scopes),player.bindListener("OnReleaseSelected",playerHandler,scopes)}var pub={},priv={};priv.display={},priv.display.flash={},priv.videoplayer={},priv.display.flash.FLASH_DOWNLOAD_URL="http://www.adobe.com/products/flashplayer/",priv.videoplayer.layoutUrl="../data/AETN_basic_meta_glass.xml";var currentPlayerID,currentPlayer,players={},scopes=["default","javascript"],currentScope=[],currentPlaylist={},currentIndex=0;return pub.initPlayer=function(playerDiv,playlist,pdkBase,isAutoPlay,isAutoStart,commonAdCofig,adBoxes,commonConfig){var autoPlay=isAutoPlay,autoStart=isAutoStart,player=void 0,playlistData=playlist;commonConfig||(commonConfig={}),priv.videoplayer.layoutUrl=pdkBase+"/../data/AETN_basic_meta_glass.xml",players[playerDiv]={autoPlay:autoPlay,autoStart:autoStart,playerIndex:0,playlist:playlist,scope:[playerDiv]},players[playerDiv].player=player=aetn.videoplayer.init(playerDiv,pdkBase,getPlayerSettings(pdkBase,players[playerDiv],commonConfig),getAdAnalyticConfigs(playlistData,commonAdCofig),adBoxes,{}),scopes.push(playerDiv),player.start(),registerListeners(player)},pub.nextVideo=function(pID){currentPlayerID=pID,currentPlaylist=players[currentPlayerID].playlist,currentIndex=players[currentPlayerID].playerIndex,currentScope=players[currentPlayerID].scope,currentPlayer=players[currentPlayerID].player,currentIndex<currentPlaylist.length-1&&(currentIndex++,players[currentPlayerID].playerIndex=currentIndex,currentPlayer.playVideo(currentPlaylist[currentIndex].videoURLs,!1,currentScope))},pub.playVideo=function(videoURLs,player){aetn.videoplayer.playVideo(videoURLs,player)},pub.getPlayers=function(){return players},pub.getPlayerById=function(p_ID){return players[p_ID]},pub.getCurrentlyActivePlayer=function(){return void 0!==currentPlayerID&&players[currentPlayerID]?players[currentPlayerID]:players[0]},pub.removePlayer=function(pID){var deadIndex=scopes.indexOf(pID);scopes.splice(deadIndex,1),delete players[pID]},pub}(),function(window,angular){"use strict";function $RouteProvider(){function inherit(parent,extra){return angular.extend(new(angular.extend(function(){},{prototype:parent})),extra)}function pathRegExp(path,opts){var insensitive=opts.caseInsensitiveMatch,ret={originalPath:path,regexp:path},keys=ret.keys=[];return path=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(_,slash,key,option){var optional="?"===option?option:null,star="*"===option?option:null;return keys.push({name:key,optional:!!optional}),slash=slash||"",""+(optional?"":slash)+"(?:"+(optional?slash:"")+(star&&"(.+?)"||"([^/]+)")+(optional||"")+")"+(optional||"")}).replace(/([\/$\*])/g,"\\$1"),ret.regexp=new RegExp("^"+path+"$",insensitive?"i":""),ret}var routes={};this.when=function(path,route){if(routes[path]=angular.extend({reloadOnSearch:!0},route,path&&pathRegExp(path,route)),path){var redirectPath="/"==path[path.length-1]?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({redirectTo:path},pathRegExp(redirectPath,route))}return this},this.otherwise=function(params){return this.when(null,params),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function($rootScope,$location,$routeParams,$q,$injector,$http,$templateCache,$sce){function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;len>i;++i){var key=keys[i-1],val="string"==typeof m[i]?decodeURIComponent(m[i]):m[i];key&&val&&(params[key.name]=val)}return params}function updateRoute(){var next=parseRoute(),last=$route.current;next&&last&&next.$$route===last.$$route&&angular.equals(next.pathParams,last.pathParams)&&!next.reloadOnSearch&&!forceReload?(last.params=next.params,angular.copy(last.params,$routeParams),$rootScope.$broadcast("$routeUpdate",last)):(next||last)&&(forceReload=!1,$rootScope.$broadcast("$routeChangeStart",next,last),$route.current=next,next&&next.redirectTo&&(angular.isString(next.redirectTo)?$location.path(interpolate(next.redirectTo,next.params)).search(next.params).replace():$location.url(next.redirectTo(next.pathParams,$location.path(),$location.search())).replace()),$q.when(next).then(function(){if(next){var template,templateUrl,locals=angular.extend({},next.resolve);return angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value)}),angular.isDefined(template=next.template)?angular.isFunction(template)&&(template=template(next.params)):angular.isDefined(templateUrl=next.templateUrl)&&(angular.isFunction(templateUrl)&&(templateUrl=templateUrl(next.params)),templateUrl=$sce.getTrustedResourceUrl(templateUrl),angular.isDefined(templateUrl)&&(next.loadedTemplateUrl=templateUrl,template=$http.get(templateUrl,{cache:$templateCache}).then(function(response){return response.data}))),angular.isDefined(template)&&(locals.$template=template),$q.all(locals)}}).then(function(locals){next==$route.current&&(next&&(next.locals=locals,angular.copy(next.params,$routeParams)),$rootScope.$broadcast("$routeChangeSuccess",next,last))},function(error){next==$route.current&&$rootScope.$broadcast("$routeChangeError",next,last,error)}))}function parseRoute(){var params,match;return angular.forEach(routes,function(route){!match&&(params=switchRouteMatcher($location.path(),route))&&(match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params}),match.$$route=route)}),match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function interpolate(string,params){var result=[];return angular.forEach((string||"").split(":"),function(segment,i){if(0===i)result.push(segment);else{var segmentMatch=segment.match(/(\w+)(.*)/),key=segmentMatch[1];result.push(params[key]),result.push(segmentMatch[2]||""),delete params[key]}}),result.join("")}var forceReload=!1,$route={routes:routes,reload:function(){forceReload=!0,$rootScope.$evalAsync(updateRoute)}};return $rootScope.$on("$locationChangeSuccess",updateRoute),$route}]}function $RouteParamsProvider(){this.$get=function(){return{}}}function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){function cleanupLastView(){currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement),currentElement=null)}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new(),current=$route.current,clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element,function(){!angular.isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()}),cleanupLastView()});currentElement=clone,currentScope=current.scope=newScope,currentScope.$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)}else cleanupLastView()}var currentScope,currentElement,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update),update()}}}function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);current.controllerAs&&(scope[current.controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}var ngRouteModule=angular.module("ngRoute",["ng"]).provider("$route",$RouteProvider);ngRouteModule.provider("$routeParams",$RouteParamsProvider),ngRouteModule.directive("ngView",ngViewFactory),ngRouteModule.directive("ngView",ngViewFillContentFactory),ngViewFactory.$inject=["$route","$anchorScroll","$animate"],ngViewFillContentFactory.$inject=["$compile","$controller","$route"]}(window,window.angular),function(window,angular,undefined){"use strict";angular.module("ngAnimate",["ng"]).config(["$provide","$animateProvider",function($provide,$animateProvider){function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType==ELEMENT_NODE)return elm}}function isMatchingElement(elm1,elm2){return extractElementNode(elm1)==extractElementNode(elm2)}var noop=angular.noop,forEach=angular.forEach,selectors=$animateProvider.$$selectors,ELEMENT_NODE=1,NG_ANIMATE_STATE="$$ngAnimateState",NG_ANIMATE_CLASS_NAME="ng-animate",rootAnimateState={running:!0};$provide.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout","$rootScope","$document",function($delegate,$injector,$sniffer,$rootElement,$timeout,$rootScope){function lookup(name){if(name){var matches=[],flagMap={},classes=name.substr(1).split(".");($sniffer.transitions||$sniffer.animations)&&classes.push("");for(var i=0;i<classes.length;i++){var klass=classes[i],selectorFactoryName=selectors[klass];selectorFactoryName&&!flagMap[klass]&&(matches.push($injector.get(selectorFactoryName)),flagMap[klass]=!0)}return matches}}function performAnimation(animationEvent,className,element,parentElement,afterElement,domOperation,doneCallback){function onBeforeAnimationsComplete(cancelled){if(fireDOMOperation(),cancelled===!0)return void closeAnimation();var data=element.data(NG_ANIMATE_STATE);data&&(data.done=closeAnimation,element.data(NG_ANIMATE_STATE,data)),invokeRegisteredAnimationFns(animations,"after",closeAnimation)}function invokeRegisteredAnimationFns(animations,phase,allAnimationFnsComplete){function progress(index,phase){var phaseCompletionFlag=phase+"Complete",currentAnimation=animations[index];currentAnimation[phaseCompletionFlag]=!0,(currentAnimation[endFnName]||noop)();for(var i=0;i<animations.length;i++)if(!animations[i][phaseCompletionFlag])return;allAnimationFnsComplete()}var endFnName=phase+"End";forEach(animations,function(animation,index){var animationPhaseCompleted=function(){progress(index,phase)};return"before"!=phase||"enter"!=animationEvent&&"move"!=animationEvent?void(animation[phase]?animation[endFnName]=isClassBased?animation[phase](element,className,animationPhaseCompleted):animation[phase](element,animationPhaseCompleted):animationPhaseCompleted()):void animationPhaseCompleted()})}function fireDoneCallbackAsync(){doneCallback&&$timeout(doneCallback,0,!1)}function fireDOMOperation(){fireDOMOperation.hasBeenRun||(fireDOMOperation.hasBeenRun=!0,domOperation())}function closeAnimation(){if(!closeAnimation.hasBeenRun){closeAnimation.hasBeenRun=!0;var data=element.data(NG_ANIMATE_STATE);data&&(isClassBased?cleanup(element):(data.closeAnimationTimeout=$timeout(function(){cleanup(element)},0,!1),element.data(NG_ANIMATE_STATE,data))),fireDoneCallbackAsync()}}var currentClassName,classes,node=extractElementNode(element);if(node&&(currentClassName=node.className,classes=currentClassName+" "+className),!node||!isAnimatableClassName(classes))return fireDOMOperation(),void closeAnimation();var animationLookup=(" "+classes).replace(/\s+/g,".");parentElement||(parentElement=afterElement?afterElement.parent():element.parent());var matches=lookup(animationLookup),isClassBased="addClass"==animationEvent||"removeClass"==animationEvent,ngAnimateState=element.data(NG_ANIMATE_STATE)||{};if(animationsDisabled(element,parentElement)||0===matches.length)return fireDOMOperation(),void closeAnimation();var animations=[],allowAnimations=isClassBased?!(ngAnimateState.disabled||ngAnimateState.running&&ngAnimateState.structural):!0;if(allowAnimations&&forEach(matches,function(animation){if(!animation.allowCancel||animation.allowCancel(element,animationEvent,className)){var beforeFn,afterFn=animation[animationEvent];"leave"==animationEvent?(beforeFn=afterFn,afterFn=null):beforeFn=animation["before"+animationEvent.charAt(0).toUpperCase()+animationEvent.substr(1)],animations.push({before:beforeFn,after:afterFn})}}),0===animations.length)return fireDOMOperation(),void fireDoneCallbackAsync();var futureClassName=" "+currentClassName+" ";ngAnimateState.running&&($timeout.cancel(ngAnimateState.closeAnimationTimeout),cleanup(element),cancelAnimations(ngAnimateState.animations),ngAnimateState.beforeComplete?(ngAnimateState.done||noop)(!0):isClassBased&&!ngAnimateState.structural&&(futureClassName="removeClass"==ngAnimateState.event?futureClassName.replace(ngAnimateState.className,""):futureClassName+ngAnimateState.className+" "));var classNameToken=" "+className+" ";return"addClass"==animationEvent&&futureClassName.indexOf(classNameToken)>=0||"removeClass"==animationEvent&&-1==futureClassName.indexOf(classNameToken)?(fireDOMOperation(),void fireDoneCallbackAsync()):(element.addClass(NG_ANIMATE_CLASS_NAME),element.data(NG_ANIMATE_STATE,{running:!0,event:animationEvent,className:className,structural:!isClassBased,animations:animations,done:onBeforeAnimationsComplete}),void invokeRegisteredAnimationFns(animations,"before",onBeforeAnimationsComplete))}function cancelChildAnimations(element){var node=extractElementNode(element);forEach(node.querySelectorAll("."+NG_ANIMATE_CLASS_NAME),function(element){element=angular.element(element);var data=element.data(NG_ANIMATE_STATE);data&&(cancelAnimations(data.animations),cleanup(element))})}function cancelAnimations(animations){var isCancelledFlag=!0;forEach(animations,function(animation){animations.beforeComplete||(animation.beforeEnd||noop)(isCancelledFlag),animations.afterComplete||(animation.afterEnd||noop)(isCancelledFlag)})}function cleanup(element){isMatchingElement(element,$rootElement)?rootAnimateState.disabled||(rootAnimateState.running=!1,rootAnimateState.structural=!1):(element.removeClass(NG_ANIMATE_CLASS_NAME),element.removeData(NG_ANIMATE_STATE))}function animationsDisabled(element,parentElement){if(rootAnimateState.disabled)return!0;if(isMatchingElement(element,$rootElement))return rootAnimateState.disabled||rootAnimateState.running;do{if(0===parentElement.length)break;var isRoot=isMatchingElement(parentElement,$rootElement),state=isRoot?rootAnimateState:parentElement.data(NG_ANIMATE_STATE),result=state&&(!!state.disabled||!!state.running);if(isRoot||result)return result;if(isRoot)return!0}while(parentElement=parentElement.parent());return!0}$rootElement.data(NG_ANIMATE_STATE,rootAnimateState),$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){rootAnimateState.running=!1})});var classNameFilter=$animateProvider.classNameFilter(),isAnimatableClassName=classNameFilter?function(className){return classNameFilter.test(className)}:function(){return!0};return{enter:function(element,parentElement,afterElement,doneCallback){this.enabled(!1,element),$delegate.enter(element,parentElement,afterElement),$rootScope.$$postDigest(function(){performAnimation("enter","ng-enter",element,parentElement,afterElement,noop,doneCallback)})},leave:function(element,doneCallback){cancelChildAnimations(element),this.enabled(!1,element),$rootScope.$$postDigest(function(){performAnimation("leave","ng-leave",element,null,null,function(){$delegate.leave(element)},doneCallback)})},move:function(element,parentElement,afterElement,doneCallback){cancelChildAnimations(element),this.enabled(!1,element),$delegate.move(element,parentElement,afterElement),$rootScope.$$postDigest(function(){performAnimation("move","ng-move",element,parentElement,afterElement,noop,doneCallback)})},addClass:function(element,className,doneCallback){performAnimation("addClass",className,element,null,null,function(){$delegate.addClass(element,className)},doneCallback)},removeClass:function(element,className,doneCallback){performAnimation("removeClass",className,element,null,null,function(){$delegate.removeClass(element,className)},doneCallback)},enabled:function(value,element){switch(arguments.length){case 2:if(value)cleanup(element);else{var data=element.data(NG_ANIMATE_STATE)||{};data.disabled=!0,element.data(NG_ANIMATE_STATE,data)}break;case 1:rootAnimateState.disabled=!value;break;default:value=!rootAnimateState.disabled}return!!value}}}]),$animateProvider.register("",["$window","$sniffer","$timeout",function($window,$sniffer,$timeout){function afterReflow(element,callback){$timeout.cancel(animationTimer),animationReflowQueue.push(callback);var node=extractElementNode(element);element=angular.element(node),animationElementQueue.push(element);var elementData=element.data(NG_ANIMATE_CSS_DATA_KEY);closingAnimationTime=Math.max(closingAnimationTime,(elementData.maxDelay+elementData.maxDuration)*CLOSING_TIME_BUFFER*ONE_SECOND),elementData.animationCount=animationCounter,animationTimer=$timeout(function(){forEach(animationReflowQueue,function(fn){fn()});var elementQueueSnapshot=[],animationCounterSnapshot=animationCounter;forEach(animationElementQueue,function(elm){elementQueueSnapshot.push(elm)}),$timeout(function(){closeAllAnimations(elementQueueSnapshot,animationCounterSnapshot),elementQueueSnapshot=null},closingAnimationTime,!1),animationReflowQueue=[],animationElementQueue=[],animationTimer=null,lookupCache={},closingAnimationTime=0,animationCounter++},10,!1)}function closeAllAnimations(elements,count){forEach(elements,function(element){var elementData=element.data(NG_ANIMATE_CSS_DATA_KEY);elementData&&elementData.animationCount==count&&(elementData.closeAnimationFn||noop)()})}function getElementAnimationDetails(element,cacheKey){var data=cacheKey?lookupCache[cacheKey]:null;if(!data){var transitionDelayStyle,animationDelayStyle,transitionDurationStyle,transitionPropertyStyle,transitionDuration=0,transitionDelay=0,animationDuration=0,animationDelay=0;forEach(element,function(element){if(element.nodeType==ELEMENT_NODE){var elementStyles=$window.getComputedStyle(element)||{};transitionDurationStyle=elementStyles[TRANSITION_PROP+DURATION_KEY],transitionDuration=Math.max(parseMaxTime(transitionDurationStyle),transitionDuration),transitionPropertyStyle=elementStyles[TRANSITION_PROP+PROPERTY_KEY],transitionDelayStyle=elementStyles[TRANSITION_PROP+DELAY_KEY],transitionDelay=Math.max(parseMaxTime(transitionDelayStyle),transitionDelay),animationDelayStyle=elementStyles[ANIMATION_PROP+DELAY_KEY],animationDelay=Math.max(parseMaxTime(animationDelayStyle),animationDelay);var aDuration=parseMaxTime(elementStyles[ANIMATION_PROP+DURATION_KEY]);aDuration>0&&(aDuration*=parseInt(elementStyles[ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY],10)||1),animationDuration=Math.max(aDuration,animationDuration)}}),data={total:0,transitionPropertyStyle:transitionPropertyStyle,transitionDurationStyle:transitionDurationStyle,transitionDelayStyle:transitionDelayStyle,transitionDelay:transitionDelay,transitionDuration:transitionDuration,animationDelayStyle:animationDelayStyle,animationDelay:animationDelay,animationDuration:animationDuration},cacheKey&&(lookupCache[cacheKey]=data)}return data}function parseMaxTime(str){var maxValue=0,values=angular.isString(str)?str.split(/\s*,\s*/):[];return forEach(values,function(value){maxValue=Math.max(parseFloat(value)||0,maxValue)}),maxValue}function getCacheKey(element){var parentElement=element.parent(),parentID=parentElement.data(NG_ANIMATE_PARENT_KEY);return parentID||(parentElement.data(NG_ANIMATE_PARENT_KEY,++parentCounter),parentID=parentCounter),parentID+"-"+extractElementNode(element).className}function animateSetup(element,className){var cacheKey=getCacheKey(element),eventCacheKey=cacheKey+" "+className,stagger={},ii=lookupCache[eventCacheKey]?++lookupCache[eventCacheKey].total:0;if(ii>0){var staggerClassName=className+"-stagger",staggerCacheKey=cacheKey+" "+staggerClassName,applyClasses=!lookupCache[staggerCacheKey];applyClasses&&element.addClass(staggerClassName),stagger=getElementAnimationDetails(element,staggerCacheKey),applyClasses&&element.removeClass(staggerClassName)}element.addClass(className);var timings=getElementAnimationDetails(element,eventCacheKey),maxDelay=Math.max(timings.transitionDelay,timings.animationDelay),maxDuration=Math.max(timings.transitionDuration,timings.animationDuration);if(0===maxDuration)return element.removeClass(className),!1;var activeClassName="";return timings.transitionDuration>0?blockTransitions(element):blockKeyframeAnimations(element),forEach(className.split(" "),function(klass,i){activeClassName+=(i>0?" ":"")+klass+"-active"}),element.data(NG_ANIMATE_CSS_DATA_KEY,{className:className,activeClassName:activeClassName,maxDuration:maxDuration,maxDelay:maxDelay,classes:className+" "+activeClassName,timings:timings,stagger:stagger,ii:ii}),!0}function blockTransitions(element){extractElementNode(element).style[TRANSITION_PROP+PROPERTY_KEY]="none"}function blockKeyframeAnimations(element){extractElementNode(element).style[ANIMATION_PROP]="none 0s"}function unblockTransitions(element){var prop=TRANSITION_PROP+PROPERTY_KEY,node=extractElementNode(element);node.style[prop]&&node.style[prop].length>0&&(node.style[prop]="")}function unblockKeyframeAnimations(element){var prop=ANIMATION_PROP,node=extractElementNode(element);node.style[prop]&&node.style[prop].length>0&&(node.style[prop]="")}function animateRun(element,className,activeAnimationComplete){function onEnd(){element.off(css3AnimationEvents,onAnimationProgress),element.removeClass(activeClassName),animateClose(element,className);var node=extractElementNode(element);for(var i in appliedStyles)node.style.removeProperty(appliedStyles[i])}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event,timeStamp=ev.$manualTimeStamp||ev.timeStamp||Date.now(),elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration&&activeAnimationComplete()}var elementData=element.data(NG_ANIMATE_CSS_DATA_KEY),node=extractElementNode(element);if(-1==node.className.indexOf(className)||!elementData)return void activeAnimationComplete();var timings=elementData.timings,stagger=elementData.stagger,maxDuration=elementData.maxDuration,activeClassName=elementData.activeClassName,maxDelayTime=Math.max(timings.transitionDelay,timings.animationDelay)*ONE_SECOND,startTime=Date.now(),css3AnimationEvents=ANIMATIONEND_EVENT+" "+TRANSITIONEND_EVENT,ii=elementData.ii,style="",appliedStyles=[];if(timings.transitionDuration>0){var propertyStyle=timings.transitionPropertyStyle;-1==propertyStyle.indexOf("all")&&(style+=CSS_PREFIX+"transition-property: "+propertyStyle+";",style+=CSS_PREFIX+"transition-duration: "+timings.transitionDurationStyle+";",appliedStyles.push(CSS_PREFIX+"transition-property"),appliedStyles.push(CSS_PREFIX+"transition-duration"))}if(ii>0){if(stagger.transitionDelay>0&&0===stagger.transitionDuration){var delayStyle=timings.transitionDelayStyle;style+=CSS_PREFIX+"transition-delay: "+prepareStaggerDelay(delayStyle,stagger.transitionDelay,ii)+"; ",appliedStyles.push(CSS_PREFIX+"transition-delay")}stagger.animationDelay>0&&0===stagger.animationDuration&&(style+=CSS_PREFIX+"animation-delay: "+prepareStaggerDelay(timings.animationDelayStyle,stagger.animationDelay,ii)+"; ",appliedStyles.push(CSS_PREFIX+"animation-delay"))}if(appliedStyles.length>0){var oldStyle=node.getAttribute("style")||"";node.setAttribute("style",oldStyle+" "+style)}return element.on(css3AnimationEvents,onAnimationProgress),element.addClass(activeClassName),elementData.closeAnimationFn=function(){onEnd(),activeAnimationComplete()},onEnd}function prepareStaggerDelay(delayStyle,staggerDelay,index){var style="";return forEach(delayStyle.split(","),function(val,i){style+=(i>0?",":"")+(index*staggerDelay+parseInt(val,10))+"s"}),style}function animateBefore(element,className){return animateSetup(element,className)?function(cancelled){cancelled&&animateClose(element,className)}:void 0}function animateAfter(element,className,afterAnimationComplete){return element.data(NG_ANIMATE_CSS_DATA_KEY)?animateRun(element,className,afterAnimationComplete):(animateClose(element,className),void afterAnimationComplete())}function animate(element,className,animationComplete){var preReflowCancellation=animateBefore(element,className);if(!preReflowCancellation)return void animationComplete();var cancel=preReflowCancellation;return afterReflow(element,function(){unblockTransitions(element),unblockKeyframeAnimations(element),cancel=animateAfter(element,className,animationComplete)}),function(cancelled){(cancel||noop)(cancelled)}}function animateClose(element,className){element.removeClass(className),element.removeData(NG_ANIMATE_CSS_DATA_KEY)}function suffixClasses(classes,suffix){var className="";return classes=angular.isArray(classes)?classes:classes.split(/\s+/),forEach(classes,function(klass,i){klass&&klass.length>0&&(className+=(i>0?" ":"")+klass+suffix)}),className}var TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT,CSS_PREFIX="";window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined?(CSS_PREFIX="-webkit-",TRANSITION_PROP="WebkitTransition",TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"):(TRANSITION_PROP="transition",TRANSITIONEND_EVENT="transitionend"),window.onanimationend===undefined&&window.onwebkitanimationend!==undefined?(CSS_PREFIX="-webkit-",ANIMATION_PROP="WebkitAnimation",ANIMATIONEND_EVENT="webkitAnimationEnd animationend"):(ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend");var animationTimer,DURATION_KEY="Duration",PROPERTY_KEY="Property",DELAY_KEY="Delay",ANIMATION_ITERATION_COUNT_KEY="IterationCount",NG_ANIMATE_PARENT_KEY="$$ngAnimateKey",NG_ANIMATE_CSS_DATA_KEY="$$ngAnimateCSS3Data",ELAPSED_TIME_MAX_DECIMAL_PLACES=3,CLOSING_TIME_BUFFER=1.5,ONE_SECOND=1e3,animationCounter=0,lookupCache={},parentCounter=0,animationReflowQueue=[],animationElementQueue=[],closingAnimationTime=0;return{allowCancel:function(element,animationEvent,className){var oldClasses=(element.data(NG_ANIMATE_CSS_DATA_KEY)||{}).classes;if(!oldClasses||["enter","leave","move"].indexOf(animationEvent)>=0)return!0;var parentElement=element.parent(),clone=angular.element(extractElementNode(element).cloneNode());clone.attr("style","position:absolute; top:-9999px; left:-9999px"),clone.removeAttr("id"),clone.empty(),forEach(oldClasses.split(" "),function(klass){clone.removeClass(klass)});var suffix="addClass"==animationEvent?"-add":"-remove";clone.addClass(suffixClasses(className,suffix)),parentElement.append(clone);var timings=getElementAnimationDetails(clone);return clone.remove(),Math.max(timings.transitionDuration,timings.animationDuration)>0
},enter:function(element,animationCompleted){return animate(element,"ng-enter",animationCompleted)},leave:function(element,animationCompleted){return animate(element,"ng-leave",animationCompleted)},move:function(element,animationCompleted){return animate(element,"ng-move",animationCompleted)},beforeAddClass:function(element,className,animationCompleted){var cancellationMethod=animateBefore(element,suffixClasses(className,"-add"));return cancellationMethod?(afterReflow(element,function(){unblockTransitions(element),unblockKeyframeAnimations(element),animationCompleted()}),cancellationMethod):void animationCompleted()},addClass:function(element,className,animationCompleted){return animateAfter(element,suffixClasses(className,"-add"),animationCompleted)},beforeRemoveClass:function(element,className,animationCompleted){var cancellationMethod=animateBefore(element,suffixClasses(className,"-remove"));return cancellationMethod?(afterReflow(element,function(){unblockTransitions(element),unblockKeyframeAnimations(element),animationCompleted()}),cancellationMethod):void animationCompleted()},removeClass:function(element,className,animationCompleted){return animateAfter(element,suffixClasses(className,"-remove"),animationCompleted)}}}])}])}(window,window.angular);
//# sourceMappingURL=/scripts/components.min.js.map/* globals window, $ */
angular.module('site-config-readwrite', ['base-config'])
    .provider('Config', ['BaseConfigProvider', function (BaseConfigProvider) {
        'use strict';

        var adInsertions = [
            {
                position: {
                    repeat: 5,
                    row: 2,
                    breakpoints: {
                        300: {
                            repeat: 7,
                            row: 3,
                        }
                    }
                },
                cardContents: 'advertising',
                cardTypeCode: 'adaptive',
                cardData: {
                    role: 'adaptive',
                    adMode: 'fill',
                    id: 'adaptive-ad-%d',
                }
            },
            {
                position: {
                    column: 'rand',
                    repeat: 3,
                    row: 3,
                    breakpoints: {
                        675: {
                            repeat: 3
                        },
                        300: {
                            repeat: 14,
                            row: 6
                        }
                    },
                },
                cardContents: 'advertising',
                cardTypeCode: 'standard',
                cardData: {
                    role: 'iab',
                    id: '300x250-%d'
                }
            },
        ];

        var hubInsertions = angular.copy(adInsertions);
        hubInsertions.push({
            position: {
                index: 12
            },
            cardContents: 'newsletter',
            id: 'newsletter'
        });

        var relatedArticlesInsertions = angular.copy(adInsertions);
        relatedArticlesInsertions.push({
            position: {
                index: 0
            },
            cardContents: 'newsletter',
            id: 'newsletter'
        });

        var config = {
            typekitId: 'qjc4adc',
            siteId: window.phxEnv.siteId,
            copyrightHolder: 'Wearable World Inc.',
            logo: {
                heading: {
                    title: 'ReadWrite',
                    imageUrl: '/site/images/readwrite-logo.svg'
                },
                nav: {
                    title: 'ReadWrite',
                    imageUrl: '/site/images/readwrite-logo.svg'
                }
            },
            timezone: 'US/Pacific',
            timezoneOffset: -8,
            siteName: 'ReadWrite',
            siteSlogan: 'Web Apps, Web Technology Trends, Social Networking and Social Media',
            siteHtmlTitle: 'ReadWrite',
            siteMetaDescription: 'Web Apps, Web Technology Trends, Social Networking and Social Media',
            siteUrl: 'http://readwrite.com',
            siteProductionDomain: 'readwrite.com',
            // google webmaster tools token
            googleSiteVerificationToken: '', // TODO
            hasUserModule: false,

            // Route declarations,
            // Paths are matched in the defined order.
            routes: [
                {
                    path: 'fourohfour',
                    keyword: '404',
                    bodyClasses: 'l-404',
                    viewMeta: {
                        title: 'Page not found',
                    },
                    components: [
                        {
                            type: 'error',
                            isMaster: true,
                            code: 404,
                        }
                    ]
                },
                {
                    path: 'fivehundred',
                    keyword: '500',
                    bodyClasses: 'l-404', // we currently use 404 for all error styling
                    viewMeta: {
                        title: 'Application error',
                    },
                    components: [
                        {
                            type: 'error',
                            isMaster: true,
                            code: 500,
                        }
                    ]
                },
                {
                    path: 'fiveohthree',
                    keyword: '503',
                    bodyClasses: 'l-404', // we currently use 404 for all error styling
                    viewMeta: {
                        title: 'Site blocked',
                    },
                    components: [
                        {
                            type: 'error',
                            isMaster: true,
                            code: 503,
                        }
                    ]
                },
                {
                    path: '/sitemaps/static.xml',
                    keyword: 'staticSitemap',
                    sitemap: {
                        defaultChangeFreq: 'weekly'
                    },
                },
                {
                    path: '/sitemaps/sections.xml',
                    keyword: 'sectionSitemap',
                    sitemap: {
                        operation: 'getSectionSitemapEntries',
                        locKeyword: 'sectionHub',
                        defaultChangeFreq: 'weekly'
                    },
                },
                {
                    path: '/sitemaps/user-profiles.xml',
                    keyword: 'userProfileSitemap',
                    sitemap: {
                        operation: 'getContentUserProfileSitemapEntries',
                        locKeyword: 'authorHub',
                        defaultChangeFreq: 'weekly'
                    },
                },
                {
                    path: '/sitemaps/basic-pages.xml',
                    keyword: 'contentBasicPageSitemap',
                    sitemap: {
                        operation: 'getWithoutImagesContentCustomSitemapEntriesByCustomType',
                        customType: 'ContentBasicPage',
                        locKeyword: 'contentBasicPageDetail',
                        defaultChangeFreq: 'weekly'
                    },
                },
                {
                    path: '/sitemaps/articles/:year.xml',
                    keyword: 'articleSitemap',
                    sitemap: {
                        operation: 'getContentArticleSitemapEntriesByYear',
                        locKeyword: 'articleDetail',
                        defaultChangeFreq: 'weekly',
                        startYear: 2003,
                    },
                },
                {
                    path: '/news-sitemap.xml',
                    keyword: 'newsSitemap',
                    sitemap: {
                        operation: 'getPublishedArticlesByStartDate',
                        locKeyword: 'articleDetail',
                        prevHoursToDisplay: 48,
                    },
                },
                {
                    path: '/author/feed/:author.xml',
                    keyword: 'authorHubRssFull',
                    rss: {
                        fullContent: true,
                    },
                },
                {
                    path: '/author/:author',
                    keyword: 'authorHub',
                    components: [
                        // When authors are upgraded to content items, this should be changed
                        // to a "detail" component, just as on a rich term hub.
                        {
                            type: 'authorHeader',
                            authorSlug: '{{author}}',
                            isMaster: true
                        },
                        {
                            type: 'contentFeed',

                            collection: {
                                contentArticles: {
                                    byAuthor: '{{author}}',
                                },
                                initialLimit: 24
                            },
                            insertions: hubInsertions,
                            ads: true,
                            heading: {
                                title: 'Stories By This Author',
                                imageUrl: '/site/images/hub-stream-heading-author-articles.svg'
                            },
                        }
                    ]
                },
                {
                    path: '/page/advertise',
                    keyword: 'advertiseRedirect',
                    redirect: {
                        baseUrl: 'http://www.saymedia.com',
                        path: '/advertise-with-us',
                        type: 301,
                    },
                },
                {
                    path: '/page/:slug',
                    keyword: 'contentBasicPageDetail',
                    components: [
                        {
                            type: 'detail',
                            isMaster: true,

                            item: {
                                byContentType: 'ContentBasicPage',
                                bySlug: '{{slug}}'
                            }
                        }
                    ],
                },
                {
                    path: '/rss.xml',
                    keyword: 'coverHubRss',
                    rss: {
                        fullContent: false,
                    },
                },
                {
                    path: '/main/feed/articles.xml',
                    keyword: 'coverHubRssFull',
                    rss: {
                        fullContent: true,
                    },
                },
                {
                    path: '/rss-editorial',
                    keyword: 'coverHubRssFull',
                    rss: {
                        fullContent: true,
                        excludeSponsoredContent: true,
                    },
                },
                {
                    path: '/rss-historical/:start/:end',
                    keyword: 'historicalRssFull',
                    rss: {
                        fullContent: true,
                        excludeSponsoredContent: true,
                        limit: 50
                    },
                },
                {
                    path: '/',
                    keyword: 'coverHub',
                    showCoverlinesH1: true,
                    includeInStaticSitemap: true,
                    viewMeta: {
                        title: 'Web Apps, Web Technology Trends, Social Networking and Social Media',
                        description: 'ReadWrite is a popular weblog that provides Web Technology news, ' +
                            'reviews and analysis, covering web apps, web technology trends, social ' +
                            'networking and social media.',
                        canonicalPath: '/'
                    },
                    components: [
                        {
                            type: 'hero',
                            item: {
                                byBlock: 'cover_hero',
                            },
                        },
                        {
                            type: 'subhero',
                            collection: {
                                contentItems: {
                                    byBlocks: [
                                        'cover_subhero1',
                                        'cover_subhero2',
                                        'cover_subhero3',
                                        'cover_subhero4'
                                    ]
                                }
                            },
                        },
                        {
                            type: 'contentFeed',
                            isMaster: true,
                            collection: {
                                contentArticles: {
                                    byExcludedObjects: [
                                        'block:cover_hero',
                                        'block:cover_subhero1',
                                        'block:cover_subhero2',
                                        'block:cover_subhero3',
                                        'block:cover_subhero4'
                                    ]
                                },
                                initialLimit: 24
                            },
                            insertions: hubInsertions,
                            ads: true,
                            heading: {

                            },
                        }
                    ]
                },
                {
                    path: '/search/:query?',
                    keyword: 'searchQuery',
                    viewMeta: {
                        title: '{{query ? "Search for \\"" + query + "\\"" :  "Search"}}',
                        description: 'Search our articles at Readwrite'
                    },
                    components: [
                        {
                            type: 'search',
                            htmlClasses: 'search-icon',
                            routeKeyword: 'searchQuery',
                            placeHolder: 'Search',
                            searchQuery: '{{query}}'
                        },
                        {
                            type: 'contentFeed',
                            isMaster: true,
                            collection: {
                                contentItems: {
                                    byQuery: '{{query}}'
                                },
                                initialLimit: 24
                            },
                            heading: {
                                title: '{{query ? "Results for \\"" + query + "\\"" : ""}}' 
                            }
                        }
                    ]
                },
                {
                    path: '/tags/feed/:tag/articles.xml',
                    keyword: 'tagHubRssFull',
                    rss: {
                        fullContent: true,
                    },
                },
                {
                    path: '/tag/:tag',
                    keyword: 'tagHub',
                    components: [
                        // When tags are upgraded to rich terms, this should be changed
                        // to a "detail" component, just as on a rich term hub.
                        {
                            type: 'tagHeader',
                            isMaster: true,
                            tag: '{{tag}}'
                        },
                        {
                            type: 'contentFeed',

                            collection: {
                                contentArticles: {
                                    byTag: '{{tag}}',
                                },
                                initialLimit: 24
                            },
                            insertions: hubInsertions,
                            ads: true,
                            heading: {
                                title: 'Articles tagged'
                            },
                        }
                    ]
                },
                {
                    path: '/tags/:tag',
                    keyword: 'tagsRedirect',
                    redirect: {
                        routeKeyword: 'tagHub',
                        type: 301,
                        routeParams: {
                            tag: '{{tag}}'
                        }
                    }
                },
                {
                    path: '/series/:slug',
                    // By convention, this needs to match the vocabulary key for
                    // the Series rich term, hence "seriesDetail".
                    keyword: 'seriesDetail',
                    components: [
                        {
                            type: 'detail',
                            isMaster: true,

                            item: {
                                byContentType: 'ContentRichTerm',
                                bySlug: '{{slug}}'
                            }
                        },
                        {
                            type: 'contentFeed',

                            collection: {
                                contentItems: {
                                    byContentType: 'ContentArticle',
                                    byItem: {
                                        useMasterItem: true
                                    },
                                },
                                initialLimit: 24,
                            },
                            insertions: hubInsertions,
                            ads: true,
                            adSection: 'series-{{slug}}',
                        },
                    ],
                },
                {
                    path: '/toc',
                    keyword: 'toc',
                    redirect: {
                        routeKeyword: 'contentBasicPageDetail',
                        type: 301,
                        routeParams: {
                            slug: 'topics'
                        }
                    }
                },
                {
                    path: '/reading-list',
                    keyword: 'readingList',
                    redirect: {
                        routeKeyword: 'coverHub',
                        type: 301,
                    }
                },
                {
                    path: '/enterprise',
                    keyword: 'enterpriseSectionRedirect',
                    redirect: {
                        routeKeyword: 'sectionHub',
                        type: 301,
                        routeParams: {
                            section: 'work',
                        },
                    },
                },
                {
                    path: '/small-biz',
                    keyword: 'smallbizSectionRedirect',
                    redirect: {
                        routeKeyword: 'sectionHub',
                        type: 301,
                        routeParams: {
                            section: 'start',
                        },
                    },
                },
                {
                    path: '/2012/10/01/top_10_youtube_videos_of_all_time',
                    keyword: 'articleRedirect',
                    redirect: {
                        routeKeyword: 'articleDetail',
                        type: 301,
                        routeParams: {
                            year: '2012',
                            month: '09',
                            day: '02',
                            slug: 'top_10_youtube_videos_of_all_time',
                        },
                    },
                },
                {
                    path: '/:year/:month/page/:slug',
                    keyword: 'pageArticleRedirect',
                    redirect: {
                        routeKeyword: 'coverHub',
                        type: '301'
                    }
                },
                {
                    path: '/archives/:year/:month',
                    keyword: 'archiveRedirect',
                    redirect: {
                        routeKeyword: 'coverHub',
                        type: 301
                    }
                },
                {
                    // TODO: Build an actual year/month hub that lists articles from that time. This will
                    // require a new contentsvc endpoint.
                    path: '/:year/:month',
                    keyword: 'yearMonthRedirect',
                    redirect: {
                        routeKeyword: 'coverHub',
                        type: 302
                    }
                },
                {
                    path: '/preview/page/:id/:version/:dummy',
                    keyword: 'preview:contentBasicPageDetail',
                    components: [
                        {
                            type: 'detail',
                            isMaster: true,

                            item: {
                                byContentType: 'ContentBasicPage',
                                byId: '{{id}}',
                                byVersion: '{{version}}'
                            }
                        }
                    ]
                },
                {
                    path: '/preview/article/:nodeId/:itemId/:dummy',
                    keyword: 'preview:articleDetail',
                    components: [
                        {
                            type: 'detail',
                            isMaster: true,
                            ads: true,

                            item: {
                                byId: '{{itemId}}',
                            },
                            injectable: true
                        },
                        {
                            type: 'contentFeed',

                            collection: {
                                relatedContentArticles: {
                                    byItem: {
                                        byId: '{{itemId}}',
                                    }
                                },
                                initialLimit: 24,
                            },
                            heading: {
                                title: 'Related Stories',
                            },
                            insertions: hubInsertions,
                        }
                    ]
                },
                {
                    path: '/preview/home/:previewTime',
                    keyword: 'preview:coverHub',
                    components: [
                        {
                            type: 'hero',
                            item: {
                                byBlock: 'cover_hero',
                                byTime: '{{previewTime}}'
                            },
                        },
                        {
                            type: 'subhero',
                            collection: {
                                contentItems: {
                                    byBlocks: [
                                        'cover_subhero1',
                                        'cover_subhero2',
                                        'cover_subhero3',
                                        'cover_subhero4'
                                    ],
                                    byTime: '{{previewTime}}'
                                }
                            },
                        },
                        {
                            type: 'contentFeed',
                            isMaster: true,
                            collection: {
                                contentArticles: {},
                                initialLimit: 24
                            },
                            insertions: hubInsertions,
                            heading: {
                                title: 'Fresh Stories'
                            },
                        }
                    ]
                },
                {
                    path: '/section/feed/:section/articles.xml',
                    keyword: 'sectionHubRssFull',
                    rss: {
                        fullContent: true,
                    },
                },
                {
                    path: '/:section',
                    keyword: 'sectionHub',
                    components: [
                        // When sections are upgraded to rich terms, this should be changed
                        // to a "detail" component, just as on a rich term hub.
                        {
                            type: 'sectionHeader',
                            sectionKey: '{{section}}',
                            isMaster: true
                        },
                        {
                            type: 'contentFeed',

                            collection: {
                                contentArticles: {
                                    bySection: '{{section}}',
                                },
                                initialLimit: 24
                            },
                            insertions: hubInsertions,
                            ads: true,
                            adSection: '{{section}}',
                            heading: {
              //                  title: 'Fresh Stories',
                            },
                        }
                    ]
                },
                {
                    path: '/:year/:month/:day/:slug',
                    keyword: 'articleDetail',
                    components: [
                        {
                            type: 'detail',
                            isMaster: true,
                            ads: true,

                            item: {
                                byContentType: 'ContentArticle',
                                bySlug: '{{slug}}'
                            },
                            injectable: true
                        },
                        {
                            type: 'itemComments',
                            item: {
                                useMasterItem: true
                            }
                        },
                        {
                            type: 'contentFeed',

                            collection: {
                                relatedContentArticles: {
                                    byItem: {
                                        useMasterItem: true
                                    }
                                },
                                initialLimit: 4,
                            },
                            heading: {
                                title: 'Related Stories',
                                imageUrl: '/site/images/hub-stream-heading-related-content.svg'
                            },
                            insertions: relatedArticlesInsertions,
                            htmlClasses: 'nocontent'
                        }
                    ]
                }
            ],
            topNav: { // Web | Cloud | Mobile | Social | Start | Play | Work | Hack
                links: [
                    { name: 'Web', url: '/web' },
                    { name: 'Cloud', url: '/cloud' },
                    { name: 'Mobile', url: '/mobile' },
                    { name: 'Social', url: '/social' },
                    { name: 'Start', url: '/start' },
                    // { name: 'Play', url: '/play' },
                    { name: 'Wear', url: '/wear' },
                    { name: 'Work', url: '/work' },
                    { name: 'Hack', url: '/hack' },
                ]
            },
            footer: {
                links: [
                    { name: 'About', url: '/page/about' },
                    { name: 'Events', url: '/page/events' },
                    { name: 'Contact', url: '/page/contact' },
                    { name: 'Advertise', url: 'http://www.saymedia.com/company-and-campaign-information' },
                    { name: 'Privacy', url: '/page/privacy-policy' },
                    { name: 'Subscribe', url: 'http://readwrite.us2.list-manage.com/' +
                        'subscribe?u=f5a0df2d9082c86e808468c10&id=9fbeb5d667' }
                ]
            },
            siteEmail: 'bugs@readwrite.com',
            sayChannelLabel: 'SAY:Technology',
            social: {
                shareButtons: [
                    'facebook',
                    'twitter',
                    'googleplus',
                    'reddit',
                    'linkedin',
                ],
                links: [
                    { name: 'facebook', id: 'readwrite'},
                    { name: 'twitter', id: 'rww'},
                    { name: 'linkedin', id: 'readwrite'},
                    { name: 'googleplus', id: '+ReadWriteWeb'}
                ],
                services: {
                    siteTwitterUsername: 'rww',
                    facebookPageId: '65491870325',
                    googlePlusPublisherUrl: 'https://plus.google.com/112111196451586545452',
                    pinterestDomainVerify: ''
                },
                pinItImages: true
            },
            soundCloud: {
                color: 'c80f32'
            },
            disqus: {
                shortname: 'readwritenext'
            },
            readingList: { // TODO
                heading: { /* reading list stream header in left sidebar */
                    title: 'You Might Also Like',
                    imageUrl: '/site/images/sidebar-heading-reading-list.svg'
                }
            },
            analytics: {
                providers: {
                    'GoogleAnalytics': {
                        trackingId: 'UA-421291-1',
                        domain: 'readwrite.com'
                    },
                    'Chartbeat': {
                        uid: 24210,
                        domain: 'readwrite.com'
                    },
                    'Disqus': 'readwritenext',
                    'Quantcast': {
                        qacctSite: 'p-3aud4J6uA4Z6Y'
                    },
                    'Buzzfeed': 'readwrite.com',
                    'Parsely': 'readwrite.com'
                }
            },
            // sectionsMap is used to bridge the cap until the platform can support this
            //  extra data
            sections: {
                'cloud': {
                    displayName: 'cloud',
                    sectionKey: 'cloud',
                    sectionImage: '/site/images/section-image-cloud.jpg',
                    metaDescription: 'ReadWriteCloud covers the movement of processing power and storage ' +
                        'away from local servers and into the data center, exploring the implications of ' +
                        'this seismic shift.',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-cloud.svg',
                            title: 'Cloud'
                        }
                    }
                },
                'hack': {
                    displayName: 'hack',
                    sectionKey: 'hack',
                    sectionImage: '/site/images/section-image-hack.jpg',
                    metaDescription: 'ReadWriteHack is designed to help software, Web and mobile ' +
                        'developers learn the key trends, tools, and best practices that shape their work ' +
                        'and careers.',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-hack.svg',
                            title: 'Hack'
                        }
                    }
                },
                'mobile': {
                    displayName: 'mobile',
                    sectionKey: 'mobile',
                    sectionImage: '/site/images/section-image-mobile.jpg',
                    metaDescription: 'ReadWriteMobile helps mobile users, business customers, and ' +
                        'developers understand the personal, business and technical implications of ' +
                        'mobile devices and apps.',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-mobile.svg',
                            title: 'Mobile'
                        }
                    }
                },
                'play': {
                    displayName: 'play',
                    sectionKey: 'play',
                    sectionImage: '/site/images/section-image-play.jpg',
                    metaDescription: 'ReadWritePlay dives into the intersection of entertainment and ' +
                        'technology, covering everything from gaming to music, video, and more.',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-play.svg',
                            title: 'Play'
                        }
                    }
                },
                'wear': {
                    displayName: 'wear',
                    sectionKey: 'wear',
                    sectionImage: '/site/images/readwritewear-section-header-shadow.jpg',
                    metaDescription: 'ReadWriteWear explores the implications of wearable technologies, ' +
                        'personal area networks, and the frontiers of human connectivity.',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/RW_section-hub-overlay_wear.svg',
                            title: 'Wear'
                        }
                    }
                },
                'social': {
                    displayName: 'social',
                    sectionKey: 'social',
                    sectionImage: '/site/images/section-image-social.jpg',
                    metaDescription : 'ReadWriteSocial covers how social networks and technologies are ' +
                        'remaking the world in every aspect of our business and personal lives.',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-social.svg',
                            title: 'Social'
                        }
                    }
                },
                'start': {
                    displayName: 'start',
                    sectionKey: 'start',
                    sectionImage: '/site/images/section-image-start.jpg',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-start.svg',
                            title: 'Start'
                        }
                    }
                },
                'web': {
                    displayName: 'web',
                    sectionKey: 'web',
                    sectionImage: '/site/images/section-image-web.jpg',
                    metaDescription: 'ReadWrite covers the foundational technologies of the Web and the ' +
                        'major players making use of them.',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-web.svg',
                            title: 'Web'
                        }
                    }
                },
                'work': {
                    displayName: 'work',
                    sectionKey: 'work',
                    sectionImage: '/site/images/section-image-work.jpg',
                    hero: {
                        heading: {
                            imageUrl: '/site/images/section-hub-overlay-work.svg',
                            title: 'Work'
                        }
                    }
                }
            },
            ad: {
                adServer: 'Pigeon',
                integrations: {
                    pigeon: {
                        iab: 'ai016768a15fba970b01b2d9813179860c',
                        contentAdjacent300x600: 'ai016768a15fba970b01a33b7bc139860e',
                        inline: 'ai016768a15fba970b01a511be1039970c',
                        fill: 'ai016768a15fba970b01b2d9813185860c',
                        iabBackfill1: 'ai016768a15fba970b01a511be1047970c',
                        iabBackfill2: 'ai016768a15fba970b01a3fd0e7423970b'
                    },
                }
            },
            newsletter: {
                title: '<span>Sign-Up for our weekly newsletter.</span>',
                mailchimpListId: '8a128a8fa6',
                clickoutUrl: 'http://readwrite.us2.list-manage.com/subscribe' +
                              '?u=f5a0df2d9082c86e808468c10&id=9fbeb5d667',
                message: 'Thanks for signing up! Just one more step: please ' +
                    'check your inbox to confirm your subscription.',
                bgImgUrl: '/site/images/newsletter-tile.jpg'
            },
            fourohfour: {
                title: '404 Error',
                msg: 'Merp. We couldn\'t find the page you were looking for.'
            },
            minimumBrowserVersions: {
                'MSIE': 9
            },
            contentRecommendations: {
                provider: 'taboola',
                url: 'http://cdn.taboola.com/libtrc/saymedia-readwrite/loader.js',
                containerId: 'taboola-below-article-thumbnails',
                targetType: 'mix',
                mode: 'alternating-thumbnails-a',
                placement: 'Below Article Thumbnails',
                mobileMode: 'alternating-thumbnails-b',
                mobilePlacement: 'Mobile Below Article Thumbnails'
            },
            features2: {
                flags: {
                }
            }
        };

        this.$get = function () {
            return $.extend(true, BaseConfigProvider.$get(), config);
        };
    }]);

angular.module('site-config', ['site-config-readwrite']);
    // .provider('Config', ['ReadWriteConfigProvider', function (ReadWriteConfigProvider) {
    //     this.$get = ReadWriteConfigProvider.$get;
    // }]);
/*globals window, require*/
'use strict';

var phxEnv = {};

phxEnv.siteId = 'cs019099924683860e';
phxEnv.siteKeyword = 'readwrite';
phxEnv.siteDomain = 'readwrite.com';

window.hexEnvironment = 'PROD';
window.cloudinaryCloudName = 'tempest';
window.cloudinaryCname = 'files.readwrite.com';
window.mockingjayEnabled = false;

window.cstInitialConfig = {
    cornerstone: {
        cstLogger: {
            proxyUrl: 'http://api.readwrite.com',
            clientLevelThreshold: 'error',
            serverLevelThreshold: 'error',
            siteName: 'readwrite',
            appName: 'phoenix'
        }
    },
    filament: {
        flmRaw: {
            proxyUrl: 'http://api.readwrite.com',
            authProxyUrl: 'https://www.saymedia-content.com'
        }
    },
    phxEventDemux: {
        beaconServerUrl: 'http://beacon.saymedia.com/'
    },
};

// if ie 9 we need to set up the xdomain proxy
if (typeof window.xdomain !== 'undefined') {
    var s = {};
    s['http://api.readwrite.com'] = '/static/xdomainproxy.html';
    window.xdomain({slaves: s});
}

require.config({
    baseUrl: '/scripts/',
    paths: {
        'domReady': '../components/requirejs-domready/domReady',
        'text': '../components/requirejs-text/text',
        'components': '../components',
        'moment': '../components/moment/moment',
        'site': '../site/',
        'cornerstone': '../components/cornerstone/htdocs',
        'filament': '../components/filament/htdocs',
        'belvedere': '../components/belvedere/htdocs',
        'partials': '../partials',
        'cyclamen': '../components/cyclamenjs/src',
        'delivery': '../components/delivery/src'
    }
});
define("filament/flmFetcher",[],function(){return function($q,flmGetMulti,cstLogger){function getTransformPromise(myself,id,transform){var outerDeferred=$q.defer(),innerPromise=myself.getObjectPromise(id);return innerPromise.then(function(obj){outerDeferred.resolve(transform(obj))}),outerDeferred.promise}function getPropertyPromise(myself,id,propertyName){var key=id+"\n"+propertyName;return myself.propertyPromises[key]||(myself.propertyPromises[key]=myself.getTransformPromise(id,function(obj){return obj[propertyName]})),myself.propertyPromises[key]}function fetchMulti(myself,ids){for(var unique={},uniqueIds=[],i=0;i<ids.length;i++){var id=ids[i];null!==id&&(unique[id]=!0)}for(var uniqueId in unique)uniqueIds.push(uniqueId);for(var missingIds=[],j=0;j<uniqueIds.length;j++){var missingUniqueId=uniqueIds[j];myself.objectPromises[missingUniqueId]||missingIds.push(missingUniqueId)}if(0===missingIds.length){var fakeDefer=$q.defer();return fakeDefer.resolve(!0),fakeDefer.promise}for(var deferred={},k=0;k<missingIds.length;k++){var missingId=missingIds[k],defer=$q.defer();deferred[missingId]=defer,myself.objectPromises[missingId]=defer.promise}for(var itemLimit=105,getMultiPromises=[],getBatch=function(batchIds){return flmGetMulti.getMulti(myself.operation,batchIds).then(function(data){for(var id in data){var defer=deferred[id];defer.resolve(data[id])}},function(err){cstLogger.error(err)})};missingIds.length>0;){var batchIds=missingIds.splice(0,itemLimit);getMultiPromises.push(getBatch(batchIds))}return $q.all(getMultiPromises)}function getMulti(myself,ids){fetchMulti(myself,ids);for(var result={},i=0;i<ids.length;i++){var id=ids[i];result[id]=myself.objectPromises[id]}return result}function fillPromiseCache(myself,items){for(var id in items){var item=items[id],defer=$q.defer();myself.objectPromises[id]=defer.promise,defer.resolve(item)}}var Bulk=function(operation,options){this.objectDeferred={},this.propertyPromises={},this.idProperty=options&&options.idProperty?options.idProperty:"id";var myself=this;operation().then(function(result){for(var entries=result.entries,i=0;i<entries.length;i++){var obj=entries[i],deferred=myself.getObjectDeferred(obj[myself.idProperty]);deferred.resolve(obj)}})};Bulk.prototype={getObjectPromise:function(id){return this.getObjectDeferred(id).promise},getObjectDeferred:function(id){return this.objectDeferred[id]||(this.objectDeferred[id]=$q.defer()),this.objectDeferred[id]},getTransformPromise:function(id,transform){return getTransformPromise(this,id,transform)},getPropertyPromise:function(id,propertyName){return getPropertyPromise(this,id,propertyName)}};var Multi=function(operation){this.operation=operation,this.objectPromises={},this.propertyPromises={}};return Multi.prototype={getObjectPromise:function(){var arrayId=Array.prototype.join.call(arguments);return this.objectPromises[arrayId]||(this.objectPromises[arrayId]=this.operation.apply(null,arguments)),this.objectPromises[arrayId]},getTransformPromise:function(id,transform){return getTransformPromise(this,id,transform)},getPropertyPromise:function(id,propertyName){return getPropertyPromise(this,id,propertyName)},getMultiObjectPromises:function(ids){return getMulti(this,ids)},fetchMultiObjects:function(ids){return fetchMulti(this,ids)},fillPromiseCache:function(items){return fillPromiseCache(this,items)}},{createBulkItemFetcher:function(operation,options){return new Bulk(operation,options)},createMultiItemFetcher:function(operation){return new Multi(operation)}}}}),define("filament/flmGetMulti",[],function(){return function($http,$q,cstConfig,cstLogger){var proxyUrl,getProxyUrl=function(){if(!proxyUrl){var config=cstConfig.getModuleConfig("filament");proxyUrl=config.flmRaw.proxyUrl}return proxyUrl};return{getMulti:function(operation,ids){var defer=$q.defer(),pathChunks=operation.pathChunks;if(2!==pathChunks.length&&null!==pathChunks[1])throw new Error("This operation cannot use the fetcher");var noun=pathChunks[0];ids.sort();for(var urlParts=[getProxyUrl(),":apiproxy-multi",noun],i=0;i<ids.length;i++)urlParts.push(ids[i]);var url=urlParts.join("/");if(url.length>2083)throw new Error("Too many ids in this requests");return $http.get(url,{withCredentials:!1}).success(function(response){defer.resolve(response)}).error(function(response){cstLogger.error("error during api-multi-item-fetcher-anon: status="+response.status+"message="+response.data),defer.reject(null)}),defer.promise}}}}),define("filament/buildNgApiService",[],function(){return function(operations){return function($http,$q,$rootScope,cstConfig,cstLogger){function generateRcid(){function rchar8(){return Math.random().toString(16).substring(2,10)}function rchar4(){return Math.random().toString(16).substring(2,6)}return rchar8()+"-"+rchar4()+"-"+rchar4()+"-"+rchar4()+"-"+rchar4()+rchar8()}function bindOperation(operation,client){var bound=function(){var msg=["Calling",operation.nounName,operation.methodName,"with"];return msg.push.apply(msg,arguments),cstLogger.debug(msg.join(" ")),operation.apply(client,arguments)};return bound.nounName=operation.nounName,bound.methodName=operation.methodName,bound.pathChunks=operation.pathChunks,bound.pathParams=operation.pathParams,bound.paramType=operation.paramType,bound.returnType=operation.returnType,bound.queryParams=operation.queryParams,bound.expectedParamCount=operation.expectedParamCount,bound}function makeClient(operations,doAuth){for(var client={},operationCount=operations.length,i=0;operationCount>i;i++){var operation=operations[i],noun=operation.nounName,method=operation.methodName;void 0===client[noun]&&(client[noun]={}),client[noun][method]=bindOperation(operation,client)}var stats={apiClientCalls:{count:0,timeSpent:0}};return client.makeApiRequest=function(urlParts,method,requestType,responseType,quargs,body){var defer=$q.defer(),useAnonGet="GET"===method&&!doAuth;if("undefined"!=typeof window.sendPerformanceMetric){stats.apiClientCalls.count++;var start=new Date}var path=useAnonGet?"/:apiproxy-anon/"+urlParts.join("/"):"/:apiproxy/"+method+"/"+urlParts.join("/"),config=cstConfig.getModuleConfig("filament"),proxyUrl=config.flmRaw.proxyUrl;doAuth&&(proxyUrl=void 0===config.flmRaw.authProxyUrl?proxyUrl.replace(/^http:/,"https:"):config.flmRaw.authProxyUrl),proxyUrl&&(path=proxyUrl+path);var requestContentType;null!==requestType&&null!==body?(body=requestType.coerceOut("request",body),body=JSON.stringify(body),requestContentType="application/json"):useAnonGet?(body=null,requestContentType=null):(body="",requestContentType="text/plain");var quargsArr=[];for(var k in quargs)null!==quargs[k]&&void 0!==quargs[k]&&quargsArr.push(encodeURIComponent(k)+"="+encodeURIComponent(quargs[k]));quargsArr.length>0&&(path=path+"?"+quargsArr.join("&"));var headers={};return useAnonGet||(headers["X-RCID"]=generateRcid()),headers.Accept=null,$http({method:useAnonGet?"GET":"POST",url:path,data:body,headers:headers,withCredentials:doAuth}).success(function(data){if("undefined"!=typeof window.sendPerformanceMetric){stats.apiClientCalls.timeSpent=new Date-start;var apiEndpoint=urlParts[0];urlParts.length>2&&(apiEndpoint+=" "+urlParts[2]),$rootScope.$emit("filamentAPIRequestResolved",{endpoint:apiEndpoint,stats:stats.apiClientCalls}),stats.apiClientCalls.timeSpent=0}null!==responseType&&(data=responseType.coerceIn(data)),defer.resolve(data)}).error(function(data,status){var errMsgLog="API error: "+method+" "+path+" returned "+String(status)+" "+data;status>=500&&cstLogger.error(errMsgLog),defer.reject(data)}),defer.promise},client}var authedClient=makeClient(operations,!0),anonClient=makeClient(operations,!1);return authedClient.anon=anonClient,authedClient}}}),define("filament/apiCore",[],function(){var _getInnerTypeName=function(innerType){return(innerType||{}).name||"circular"},listTypeConstructor=function(typeName){return function(innerType){return{innerType:innerType,collectionType:"list",coerceIn:function(value){var ret={entries:[]},entries=ret.entries;entries.length=value.entries.length;for(var i=0;i<value.entries.length;i++)entries[i]=innerType.coerceIn(value.entries[i]);return null!==value.totalResults&&void 0!==value.totalResults&&(ret.totalResults=value.totalResults),null!==value.estimatedTotalResults&&void 0!==value.estimatedTotalResults&&(ret.estimatedTotalResults=value.estimatedTotalResults),null!==value.moreResultsToken&&void 0!==value.moreResultsToken&&(ret.moreResultsToken=value.moreResultsToken),ret},name:typeName+"<"+_getInnerTypeName(innerType)+">"}}};return{objectType:function(name,subtypes,properties){return{coerceOut:function(desc,value){if(null===value)return null;if("object"!=typeof value)throw new Error(desc+" must be an object");if(value.objectType&&subtypes[value.objectType])return subtypes[value.objectType].coerceOut(desc,value);var ret={};for(var k in properties){var type=properties[k];null!==value[k]&&void 0!==value[k]&&(ret[k]=type.coerceOut(desc+"."+k,value[k]))}return ret},coerceIn:function(value){if(null===value)return null;if("object"==typeof value){if(value.objectType&&subtypes[value.objectType])return subtypes[value.objectType].coerceIn(value);var ret={};for(var k in properties){var type=properties[k];ret[k]=null!==value[k]&&void 0!==value[k]?type.coerceIn(value[k]):null}return ret}return null},properties:properties,subtypes:subtypes,name:name}},listType:listTypeConstructor("List"),streamType:listTypeConstructor("Stream"),stringType:{coerceOut:function(desc,value){if("string"!=typeof value)throw new Error(desc+" must be a string");return value},coerceIn:function(value){return String(value)},name:"string"},datetimeType:{coerceOut:function(desc,value){if(!value instanceof Date)throw new Error(desc+" must be a Date object");var ret=value.toISOString();return ret=ret.substr(0,19)+"Z"},coerceIn:function(value){if("string"==typeof value){var match=value.match(/^(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)Z$/);if(match){var ret=new Date(Date.UTC(Number(match[1]),Number(match[2])-1,Number(match[3]),Number(match[4]),Number(match[5]),Number(match[6])));return ret}return null}return null},name:"datetime"},anonymousType:{coerceOut:function(desc,value){return value},coerceIn:function(value){return value},name:void 0},externalType:{coerceOut:function(desc,value){return value},coerceIn:function(value){return value},name:"external"},floatType:{coerceOut:function(desc,value){if("number"!=typeof value)throw new Error(desc+" must be a number");return value},coerceIn:function(value){return Number(value)},name:"float"},integerType:{coerceOut:function(desc,value){if("number"!=typeof value||Math.floor(value)!==value)throw new Error(desc+" must be a whole number");return value},coerceIn:function(value){return Math.floor(Number(value))},name:"integer"},booleanType:{coerceOut:function(desc,value){if("boolean"!=typeof value)throw new Error(desc+" must be a boolean");return value},coerceIn:function(value){return value?!0:!1},name:"boolean"},arrayType:function(innerType){return{innerType:innerType,collectionType:"array",coerceOut:function(desc,value){if("object"!=typeof value||value.constructor!==Array)throw new Error(desc+" must be an array");for(var ret=[],i=0;i<value.length;i++)ret[i]=innerType.coerceOut(desc+"["+i+"]",value[i]);return ret},coerceIn:function(value){var ret=[];ret.length=value.length;for(var i=0;i<ret.length;i++)ret[i]=innerType.coerceIn(value[i]);return ret},name:"array<"+_getInnerTypeName(innerType)+">"}},mapType:function(innerType){return{innerType:innerType,collectionType:"map",coerceOut:function(desc,value){if("object"!=typeof value)throw new Error(desc+" must be an object");var ret={};for(var k in value)ret[k]=innerType.coerceOut(desc+'["'+k+'"]',value[k]);return ret},coerceIn:function(value){var ret={};for(var k in value)ret[k]=innerType.coerceIn(value[k]);return ret},name:"map<"+_getInnerTypeName(innerType)+">"}},dynType:function(f){return{coerceOut:function(desc,value){var realType=f();return realType.coerceOut(desc,value)},coerceIn:function(value){var realType=f();return realType.coerceIn(value)},name:"dyn"}}}}),define("filament/api/contentAuthPrincipals/getPermissions",["filament/apiCore"],function(apiCore){var op=function(id){return this.makeApiRequest(["content-auth-principals",encodeURIComponent(id),"permissions"],"GET",null,apiCore.objectType(void 0,{},{globalPermissionKeywords:apiCore.arrayType(apiCore.stringType),sitePermissionKeywords:apiCore.mapType(apiCore.arrayType(apiCore.stringType))}),null,null)};return op.nounName="contentAuthPrincipals",op.methodName="getPermissions",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{globalPermissionKeywords:apiCore.arrayType(apiCore.stringType),sitePermissionKeywords:apiCore.mapType(apiCore.arrayType(apiCore.stringType))}),op.pathChunks=["content-auth-principals",null,"permissions"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/flmSession",["filament/buildNgApiService","filament/api/contentAuthPrincipals/getPermissions"],function(buildNgApiService,contentAuthPrincipalsPermissions){return function($http,$q,cstConfig,cstLogger,$injector){var proxyUrl,getProxyUrl=function(){if(!proxyUrl){var config=cstConfig.getModuleConfig("filament");proxyUrl=void 0===config.flmRaw.authProxyUrl?config.flmRaw.proxyUrl.replace(/^http:/,"https:"):config.flmRaw.authProxyUrl}return proxyUrl},authApiClient=$injector.invoke(buildNgApiService([contentAuthPrincipalsPermissions])),changeListeners=[],notifyListeners=function(newPrincipal){for(var i=0;i<changeListeners.length;i++)changeListeners[i](newPrincipal)},flmSession={logIn:function(providerKeyword,loginName,password){if("staff"!==providerKeyword)throw new Error("Only the 'staff' provider is currently supported");var defer=$q.defer(),url=getProxyUrl()+"/:signin",data={username:loginName,password:password};return $http.post(url,data,{withCredentials:!0}).success(function(){flmSession.getCurrentPrincipal().then(function(principal){defer.resolve(principal),notifyListeners(principal)})}).error(function(data,status){defer.reject({data:data,status:status})}),defer.promise},logOut:function(){var url=getProxyUrl()+"/:signout";$http.post(url,{},{withCredentials:!0}).success(function(){notifyListeners(null),cstLogger.debug("signed out")}).error(function(data,status){cstLogger.error("error while signing out: "+data+status)})},getCurrentPrincipal:function(){var defer=$q.defer(),url=cstConfig.getModuleConfig("filament").flmRaw.currentPrincipalUrl||getProxyUrl()+"/:current-principal";return $http.get(url,{withCredentials:!0}).success(function(data){defer.resolve(data)}).error(function(data,status){cstLogger.error("error while getting the current principal: "+data+status),defer.reject(null)}),defer.promise},getAllPermissionsForPrincipal:function(principal){return authApiClient.contentAuthPrincipals.getPermissions(principal.id)},addPrincipalChangeListener:function(listener){changeListeners.push(listener)}};return flmSession}}),define("filament/flmStreamerFull",[],function(){return function($q){var notifyCallbacks=function(callbacks,thisArg,args){for(var i=0;i<callbacks.length;i++)callbacks[i].apply(thisArg,args)},getEnpointInfo=function(){var op=this.currentOperation,isStream=op.queryParams.hasOwnProperty("startToken"),isList=op.queryParams.hasOwnProperty("offset"),isActionStream=null!==op.paramType&&!isList&&!isStream&&op.paramType.properties&&op.returnType.properties&&op.paramType.properties.hasOwnProperty("startToken")&&op.returnType.properties.hasOwnProperty("moreResultsToken");return{isStream:isStream,isList:isList,isActionStream:isActionStream,hasQueryParams:Object.keys(op.queryParams).length>0}},reset=function(){this.items=[],this.hasMoreItems=!0,this.nextRequestTokenValue=null,this.currentOperation.queryParams.startToken?this.nextRequestTokenArg="startToken":this.currentOperation.queryParams.offset?(this.nextRequestTokenArg="offset",this.nextRequestTokenValue=1):this.nextRequestTokenArg=null,notifyCallbacks(this.resetCallbacks,this,[]),this.currentRequest=void 0,this.moreItemsCallbacks=[]},Streamer=function(config){this.operations=config.operations,this.currentOperation=this.operations[config.initialOperationKey],this.currentOperationKey=config.initialOperationKey,this.ac=config.initialAc,this.q=config.initialQ,this.sort=config.initialSort,this.limit=config.initialLimit,this.relatedData={},this.relatedPromises=[],this.loadingCallbacks=[],this.moreItemsCallbacks=[],this.resetCallbacks=[],this.currentOperationParameters="operationParameters"in config?config.operationParameters:[],this.requestIdentifier=0,reset.apply(this)};return Streamer.prototype={getOperationInfo:function(){return getEnpointInfo.apply(this)},changeOperation:function(operationKey,paramList){var newOperation=this.operations[operationKey],newParams="undefined"==typeof paramList?[]:paramList;(newOperation!==this.currentOperation||newParams!==this.currentOperationParameters)&&(this.currentOperation=newOperation,this.currentOperationKey=operationKey,this.currentOperationParameters=newParams,reset.apply(this))},setOperationParameters:function(paramList){this.currentOperationParameters=paramList,reset.apply(this)},changeLimit:function(limit){limit!==this.limit&&(this.limit=limit,reset.apply(this))},changeAc:function(ac){ac!==this.ac&&(this.ac=ac,reset.apply(this))},changeQ:function(q){q!==this.q&&(this.q=q,reset.apply(this))},changeSort:function(sort){sort!==this.sort&&(this.sort=sort,reset.apply(this))},loadMoreItems:function(){if(this.hasMoreItems&&!this.currentRequest){this.requestIdentifier++;var endpointInfo=getEnpointInfo.apply(this),options={};null!==this.nextRequestTokenValue&&(options[this.nextRequestTokenArg]=this.nextRequestTokenValue),null!==this.q&&void 0!==this.q&&(options.q=this.q),null!==this.ac&&void 0!==this.ac&&(options.ac=this.ac),null!==this.sort&&void 0!==this.sort&&(options.sort=this.sort),null!==this.limit&&void 0!==this.limit&&(options.limit=this.limit);var operationParams=JSON.parse(JSON.stringify(this.currentOperationParameters));if(endpointInfo.isActionStream)for(var name in options)options.hasOwnProperty(name)&&(operationParams[operationParams.length-1][name]=options[name]);else endpointInfo.hasQueryParams&&operationParams.push(options);if(operationParams.length!==this.currentOperation.expectedParamCount){var errorMessage=this.currentOperation.nounName+"."+this.currentOperation.operationName+" expects "+this.currentOperation.expectedParamCount+" parameters but "+operationParams.length+" are configured";throw new Error(errorMessage)}var myself=this,currentRequestIdentifier=this.requestIdentifier;notifyCallbacks(this.loadingCallbacks,this,[!0]),this.currentRequest=this.currentOperation.apply(null,operationParams),this.currentRequest.then(function(response){if(currentRequestIdentifier===myself.requestIdentifier){notifyCallbacks(myself.loadingCallbacks,myself,[!1]),myself.currentRequest=null;var newItems=response.entries;0===newItems.length&&(myself.hasMoreItems=!1);var setRelatedData=function(item,name,callback){var myPromise=$q.when(callback(item)).then(function(data){item.related[name]=data});myself.relatedPromises.push(myPromise)};myself.relatedData&&angular.forEach(newItems,function(item){for(var name in myself.relatedData){var callback=myself.relatedData[name];item.related||(item.related={}),setRelatedData(item,name,callback)}});var newItemsIndex=myself.items.length;myself.items=myself.items.concat(newItems),myself.hasMoreItems&&("offset"===myself.nextRequestTokenArg?myself.nextRequestTokenValue+=newItems.length:response.moreResultsToken?(myself.nextRequestTokenArg="startToken",myself.nextRequestTokenValue=response.moreResultsToken):myself.hasMoreItems=!1),notifyCallbacks(myself.moreItemsCallbacks,myself,[newItemsIndex])}},function(error){throw notifyCallbacks(myself.loadingCallbacks,myself,[!1]),myself.currentRequest=null,error})}},refresh:function(){reset.apply(this),this.loadMoreItems()},watchLoading:function(callback){this.loadingCallbacks.push(callback)},watchMoreItems:function(callback){this.moreItemsCallbacks.push(callback)},watchReset:function(callback){this.resetCallbacks.push(callback)},addRelatedData:function(name,callback){this.relatedData[name]=callback}},Streamer}}),define("filament/apiTypes/ContentAdvertisingRoadblock",["filament/apiCore"],function(apiCore){var typeContentAdvertisingRoadblock=apiCore.objectType("ContentAdvertisingRoadblock",{},{adaptive:apiCore.stringType,adaptiveFullscreen:apiCore.stringType,contentAdjacent300x600:apiCore.stringType,iab:apiCore.stringType});return typeContentAdvertisingRoadblock}),define("filament/apiTypes/ContentBrandingBadge",["filament/apiCore"],function(apiCore){var typeContentBrandingBadge=apiCore.objectType("ContentBrandingBadge",{},{linkTargetUrl:apiCore.stringType,imageUrl:apiCore.stringType,alternativeText:apiCore.stringType,imageId:apiCore.stringType});return typeContentBrandingBadge}),define("filament/apiTypes/ContentItemBranding",["filament/apiCore","filament/apiTypes/ContentBrandingBadge"],function(apiCore,typeContentBrandingBadge){var typeContentItemBranding=apiCore.objectType("ContentItemBranding",{},{isEndorsedForSearch:apiCore.booleanType,bottomBadge:typeContentBrandingBadge,topBadge:typeContentBrandingBadge});return typeContentItemBranding}),define("filament/apiTypes/ContentReportingThirdPartyConfiguration",["filament/apiCore"],function(apiCore){var typeContentReportingThirdPartyConfiguration=apiCore.objectType("ContentReportingThirdPartyConfiguration",{},{pageview:apiCore.arrayType(apiCore.stringType)});return typeContentReportingThirdPartyConfiguration}),define("filament/apiTypes/ContentReportingConfiguration",["filament/apiCore","filament/apiTypes/ContentReportingThirdPartyConfiguration"],function(apiCore,typeContentReportingThirdPartyConfiguration){var typeContentReportingConfiguration=apiCore.objectType("ContentReportingConfiguration",{},{opportunityLineItemId:apiCore.stringType,thirdPartyEventEndpoints:typeContentReportingThirdPartyConfiguration});return typeContentReportingConfiguration}),define("filament/apiTypes/ContentSocialStatsItem",["filament/apiCore"],function(apiCore){var typeContentSocialStatsItem=apiCore.objectType("ContentSocialStatsItem",{},{acceleration:apiCore.floatType,velocity:apiCore.floatType,estimate:apiCore.floatType,lastCount:apiCore.floatType});return typeContentSocialStatsItem}),define("filament/apiTypes/ContentSocialStats",["filament/apiCore","filament/apiTypes/ContentSocialStatsItem"],function(apiCore,typeContentSocialStatsItem){var typeContentSocialStats=apiCore.objectType("ContentSocialStats",{},{reddit:typeContentSocialStatsItem,pinterest:typeContentSocialStatsItem,twitter:typeContentSocialStatsItem,googleplus:typeContentSocialStatsItem,linkedin:typeContentSocialStatsItem,facebook:typeContentSocialStatsItem,disqus:typeContentSocialStatsItem});return typeContentSocialStats}),define("filament/apiTypes/ContentTag",["filament/apiCore"],function(apiCore){var typeContentTag=apiCore.objectType("ContentTag",{},{tagKey:apiCore.stringType,displayName:apiCore.stringType,description:apiCore.stringType,vocabularyId:apiCore.stringType});return typeContentTag}),define("filament/apiTypes/ContentRichTerm",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentReportingConfiguration,typeContentSocialStats,typeContentTag){var typeContentRichTerm=apiCore.objectType("ContentRichTerm",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,vocabularyId:apiCore.stringType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,title:apiCore.stringType,authoringStatusCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,objectType:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,overviewTml:apiCore.stringType,slug:apiCore.stringType,displayName:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentRichTerm}),define("filament/apiTypes/ContentArticle",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentArticle=apiCore.objectType("ContentArticle",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,sectionKey:apiCore.stringType,terms:apiCore.arrayType(typeContentRichTerm),title:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,autoSaved:apiCore.booleanType,originalPublicationTimestamp:apiCore.datetimeType,reporting:typeContentReportingConfiguration,bodyTml:apiCore.stringType,featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,presentationTypeCode:apiCore.stringType,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,lastModifiedTimestamp:apiCore.datetimeType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,objectType:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentArticle}),define("filament/apiTypes/ContentBasicPage",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentBasicPage=apiCore.objectType("ContentBasicPage",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,terms:apiCore.arrayType(typeContentRichTerm),title:apiCore.stringType,authoringStatusCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,objectType:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,bodyTml:apiCore.stringType,featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentBasicPage}),define("filament/apiTypes/ContentCustomData",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentCustomData=apiCore.objectType("ContentCustomData",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,title:apiCore.stringType,authoringStatusCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,objectType:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,data:apiCore.stringType,cardTypeCode:apiCore.stringType,slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentCustomData}),define("filament/apiTypes/ContentPerson",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentPerson=apiCore.objectType("ContentPerson",{},{authorProfileId:apiCore.stringType,suffix:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,nationalities:apiCore.arrayType(typeContentRichTerm),birthMonth:apiCore.stringType,prefix:apiCore.stringType,culturalAssociations:apiCore.arrayType(typeContentRichTerm),deathMonth:apiCore.stringType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,deathYear:typeContentRichTerm,id:apiCore.stringType,editedTimestamp:apiCore.datetimeType,featuredImageId:apiCore.stringType,industries:apiCore.arrayType(typeContentRichTerm),metaDescription:apiCore.stringType,birthYear:typeContentRichTerm,middleName:apiCore.stringType,authoringStatusCode:apiCore.stringType,occupations:apiCore.arrayType(typeContentRichTerm),profileTml:apiCore.stringType,lockToken:apiCore.stringType,promoPhotoId:apiCore.stringType,affiliations:apiCore.arrayType(typeContentRichTerm),editedByPrincipalId:apiCore.stringType,birthCountry:typeContentRichTerm,birthState:typeContentRichTerm,disqusId:apiCore.stringType,alternateNames:apiCore.mapType(apiCore.arrayType(apiCore.stringType)),objectType:apiCore.stringType,primaryPhotoId:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,lastName:typeContentRichTerm,terms:apiCore.arrayType(typeContentRichTerm),canonicalUrl:apiCore.stringType,isNoindex:apiCore.booleanType,deathMonthDay:typeContentRichTerm,astrologicalSign:typeContentRichTerm,reporting:typeContentReportingConfiguration,bestKnownFor:apiCore.stringType,deathCirca:apiCore.booleanType,createdTimestamp:apiCore.datetimeType,migrationId:apiCore.stringType,teaser:apiCore.stringType,birthCity:typeContentRichTerm,primaryImageId:apiCore.stringType,groups:apiCore.arrayType(typeContentRichTerm),lifeEvents:apiCore.arrayType(typeContentRichTerm),schools:apiCore.arrayType(typeContentRichTerm),deathYearCe:apiCore.booleanType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),interestingFacts:apiCore.arrayType(apiCore.stringType),gender:apiCore.stringType,contentNodeId:apiCore.stringType,firstName:typeContentRichTerm,primaryContentSiteId:apiCore.stringType,birthCirca:apiCore.booleanType,slug:apiCore.stringType,deathState:typeContentRichTerm,publicationTimestamp:apiCore.datetimeType,birthMonthDay:typeContentRichTerm,birthYearCe:apiCore.booleanType,socialStats:typeContentSocialStats,birthDay:apiCore.stringType,deathCountry:typeContentRichTerm,primarySiteId:apiCore.stringType,quotes:apiCore.arrayType(apiCore.stringType),advertisingRoadblock:typeContentAdvertisingRoadblock,deathDay:apiCore.stringType,title:apiCore.stringType,opportunityLineItemId:apiCore.stringType,deathCity:typeContentRichTerm,statusCode:apiCore.stringType});
return typeContentPerson}),define("filament/apiTypes/ContentIngredient",["filament/apiCore"],function(apiCore){var typeContentIngredient=apiCore.objectType("ContentIngredient",{},{descriptionTmlInline:apiCore.stringType,objectType:apiCore.stringType});return typeContentIngredient}),define("filament/apiTypes/ContentIngredientList",["filament/apiCore","filament/apiTypes/ContentIngredient"],function(apiCore,typeContentIngredient){var typeContentIngredientList=apiCore.objectType("ContentIngredientList",{},{objectType:apiCore.stringType,label:apiCore.stringType,ingredients:apiCore.arrayType(typeContentIngredient)});return typeContentIngredientList}),define("filament/apiTypes/ContentRecipe",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentIngredientList","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentIngredientList,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentRecipe=apiCore.objectType("ContentRecipe",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,servingSizeDescription:apiCore.stringType,createdPrincipalId:apiCore.stringType,publicationTimestamp:apiCore.datetimeType,narrativeTml:apiCore.stringType,dietaryNotes:apiCore.arrayType(typeContentRichTerm),duration:apiCore.integerType,isExcludedFromPublishedStreams:apiCore.booleanType,promoTitle:apiCore.stringType,metaDescription:apiCore.stringType,id:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,ingredients:apiCore.arrayType(typeContentIngredientList),authoringStatusCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),lockToken:apiCore.stringType,cardTypeCode:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,objectType:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,mealType:apiCore.arrayType(typeContentRichTerm),isWorkInProgress:apiCore.booleanType,instructionsTml:apiCore.stringType,prepTime:apiCore.integerType,cookingStyle:apiCore.arrayType(typeContentRichTerm),slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,title:apiCore.stringType,versionId:apiCore.stringType,cookTime:apiCore.integerType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentRecipe}),define("filament/apiTypes/ContentReference",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentReference=apiCore.objectType("ContentReference",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,objectType:apiCore.stringType,title:apiCore.stringType,authoringStatusCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,canonicalUrl:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,url:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentReference}),define("filament/apiTypes/ContentCustom",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentBasicPage","filament/apiTypes/ContentCustomData","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentPerson","filament/apiTypes/ContentRecipe","filament/apiTypes/ContentReference","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentBasicPage,typeContentCustomData,typeContentItemBranding,typeContentPerson,typeContentRecipe,typeContentReference,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentCustom=apiCore.objectType("ContentCustom",{ContentBasicPage:typeContentBasicPage,ContentCustomData:typeContentCustomData,ContentPerson:typeContentPerson,ContentRecipe:typeContentRecipe,ContentReference:typeContentReference,ContentRichTerm:typeContentRichTerm},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,objectType:apiCore.stringType,title:apiCore.stringType,authoringStatusCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,canonicalUrl:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentCustom}),define("filament/apiTypes/ContentEmbed",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentEmbed=apiCore.objectType("ContentEmbed",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,promoPhotoId:apiCore.stringType,title:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,content:apiCore.mapType(apiCore.stringType),editedByPrincipalId:apiCore.stringType,externalId:apiCore.stringType,disqusId:apiCore.stringType,provider:apiCore.stringType,externalUrl:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,sectionKey:apiCore.stringType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,objectType:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentEmbed}),define("filament/apiTypes/ContentAttribution",["filament/apiCore"],function(apiCore){var typeContentAttribution=apiCore.objectType("ContentAttribution",{},{sourceName:apiCore.stringType,sourcePageUrl:apiCore.stringType});return typeContentAttribution}),define("filament/apiTypes/Rectangle",["filament/apiCore"],function(apiCore){var typeRectangle=apiCore.objectType("Rectangle",{},{x2:apiCore.integerType,y1:apiCore.integerType,x1:apiCore.integerType,y2:apiCore.integerType});return typeRectangle}),define("filament/apiTypes/ContentPhoto",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentAttribution","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag","filament/apiTypes/Rectangle"],function(apiCore,typeContentAdvertisingRoadblock,typeContentAttribution,typeContentItemBranding,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag,typeRectangle){var typeContentPhoto=apiCore.objectType("ContentPhoto",{},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,height:apiCore.integerType,cloudinaryVersionId:apiCore.integerType,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,id:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,terms:apiCore.arrayType(typeContentRichTerm),title:apiCore.stringType,primaryPhotoId:apiCore.stringType,hasFaces:apiCore.booleanType,lockToken:apiCore.stringType,promoPhotoId:apiCore.stringType,defaultCaption:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,latitude:apiCore.floatType,objectType:apiCore.stringType,publicId:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,focusArea:typeRectangle,attribution:typeContentAttribution,featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,format:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,bytes:apiCore.integerType,versionId:apiCore.stringType,longitude:apiCore.floatType,promoTitle:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,width:apiCore.integerType,statusCode:apiCore.stringType});return typeContentPhoto}),define("filament/apiTypes/ContentItemSummaryOnSite",["filament/apiCore","filament/apiTypes/ContentTag"],function(apiCore,typeContentTag){var typeContentItemSummaryOnSite=apiCore.objectType("ContentItemSummaryOnSite",{},{sectionKey:apiCore.stringType,slug:apiCore.stringType,authorProfileId:apiCore.stringType,contentNodeId:apiCore.stringType,disqusCommentCount:apiCore.integerType,primaryContentSiteId:apiCore.stringType,teaser:apiCore.stringType,promoTitle:apiCore.stringType,createdTimestamp:apiCore.datetimeType,publicationTimestamp:apiCore.datetimeType,primaryImageId:apiCore.stringType,title:apiCore.stringType,opportunityLineItemId:apiCore.stringType,contentSiteId:apiCore.stringType,id:apiCore.stringType,tags:apiCore.arrayType(typeContentTag)});return typeContentItemSummaryOnSite}),define("filament/apiTypes/ContentProductQuote",["filament/apiCore","filament/apiTypes/ContentItemSummaryOnSite"],function(apiCore,typeContentItemSummaryOnSite){var typeContentProductQuote=apiCore.objectType("ContentProductQuote",{},{quoteText:apiCore.stringType,articleId:apiCore.stringType,summary:typeContentItemSummaryOnSite});return typeContentProductQuote}),define("filament/apiTypes/ContentProductRetailer",["filament/apiCore"],function(apiCore){var typeContentProductRetailer=apiCore.objectType("ContentProductRetailer",{},{productPageUrl:apiCore.stringType,name:apiCore.stringType});return typeContentProductRetailer}),define("filament/apiTypes/ContentProduct",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentProductQuote","filament/apiTypes/ContentProductRetailer","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentItemBranding,typeContentProductQuote,typeContentProductRetailer,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentProduct=apiCore.objectType("ContentProduct",{},{statusCode:apiCore.stringType,authorProfileId:apiCore.stringType,features:apiCore.arrayType(apiCore.stringType),weight:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,quotes:apiCore.arrayType(typeContentProductQuote),publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,id:apiCore.stringType,editedTimestamp:apiCore.datetimeType,canonicalUrl:apiCore.stringType,dimensions:apiCore.stringType,descriptionTml:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),lockToken:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,objectType:apiCore.stringType,price:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,brand:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,manufacturer:apiCore.stringType,slug:apiCore.stringType,imageIds:apiCore.arrayType(apiCore.stringType),contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,title:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,sectionKey:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,retailers:apiCore.arrayType(typeContentProductRetailer),advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,priceCurrencyKeyword:apiCore.stringType,gtinCode:apiCore.stringType});return typeContentProduct}),define("filament/apiTypes/ContentItem",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentArticle","filament/apiTypes/ContentBasicPage","filament/apiTypes/ContentCustom","filament/apiTypes/ContentCustomData","filament/apiTypes/ContentEmbed","filament/apiTypes/ContentItemBranding","filament/apiTypes/ContentPerson","filament/apiTypes/ContentPhoto","filament/apiTypes/ContentProduct","filament/apiTypes/ContentRecipe","filament/apiTypes/ContentReference","filament/apiTypes/ContentReportingConfiguration","filament/apiTypes/ContentRichTerm","filament/apiTypes/ContentSocialStats","filament/apiTypes/ContentTag"],function(apiCore,typeContentAdvertisingRoadblock,typeContentArticle,typeContentBasicPage,typeContentCustom,typeContentCustomData,typeContentEmbed,typeContentItemBranding,typeContentPerson,typeContentPhoto,typeContentProduct,typeContentRecipe,typeContentReference,typeContentReportingConfiguration,typeContentRichTerm,typeContentSocialStats,typeContentTag){var typeContentItem=apiCore.objectType("ContentItem",{ContentArticle:typeContentArticle,ContentCustom:typeContentCustom,ContentBasicPage:typeContentBasicPage,ContentCustomData:typeContentCustomData,ContentPerson:typeContentPerson,ContentRecipe:typeContentRecipe,ContentReference:typeContentReference,ContentRichTerm:typeContentRichTerm,ContentEmbed:typeContentEmbed,ContentPhoto:typeContentPhoto,ContentProduct:typeContentProduct},{authorProfileId:apiCore.stringType,disqusCommentCount:apiCore.integerType,relativeUrl:apiCore.stringType,branding:typeContentItemBranding,publicationTimestamp:apiCore.datetimeType,createdPrincipalId:apiCore.stringType,isExcludedFromPublishedStreams:apiCore.booleanType,metaDescription:apiCore.stringType,lockToken:apiCore.stringType,editedTimestamp:apiCore.datetimeType,objectType:apiCore.stringType,title:apiCore.stringType,tags:apiCore.arrayType(typeContentTag),id:apiCore.stringType,promoPhotoId:apiCore.stringType,editedByPrincipalId:apiCore.stringType,disqusId:apiCore.stringType,canonicalUrl:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType,terms:apiCore.arrayType(typeContentRichTerm),featuredImageId:apiCore.stringType,isNoindex:apiCore.booleanType,primaryPhotoId:apiCore.stringType,reporting:typeContentReportingConfiguration,createdTimestamp:apiCore.datetimeType,teaser:apiCore.stringType,primaryImageId:apiCore.stringType,isWorkInProgress:apiCore.booleanType,cardTypeCode:apiCore.stringType,slug:apiCore.stringType,contentNodeId:apiCore.stringType,primaryContentSiteId:apiCore.stringType,versionId:apiCore.stringType,promoTitle:apiCore.stringType,socialStats:typeContentSocialStats,primarySiteId:apiCore.stringType,advertisingRoadblock:typeContentAdvertisingRoadblock,migrationId:apiCore.stringType,opportunityLineItemId:apiCore.stringType,statusCode:apiCore.stringType});return typeContentItem}),define("filament/api/contentItems/get",["filament/apiCore","filament/apiTypes/ContentItem"],function(apiCore,typeContentItem){var op=function(id){return this.makeApiRequest(["content-items",encodeURIComponent(id)],"GET",null,typeContentItem,null,null)};return op.nounName="contentItems",op.methodName="get",op.paramType=null,op.returnType=typeContentItem,op.pathChunks=["content-items",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/apiTypes/ContentSection",["filament/apiCore"],function(apiCore){var typeContentSection=apiCore.objectType("ContentSection",{},{sectionKey:apiCore.stringType,displayName:apiCore.stringType,contentSiteId:apiCore.stringType});return typeContentSection}),define("filament/api/contentSections/get",["filament/apiCore","filament/apiTypes/ContentSection"],function(apiCore,typeContentSection){var op=function(id){return this.makeApiRequest(["content-sections",encodeURIComponent(id)],"GET",null,typeContentSection,null,null)};return op.nounName="contentSections",op.methodName="get",op.paramType=null,op.returnType=typeContentSection,op.pathChunks=["content-sections",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentTags/get",["filament/apiCore","filament/apiTypes/ContentTag"],function(apiCore,typeContentTag){var op=function(id){return this.makeApiRequest(["content-tags",encodeURIComponent(id)],"GET",null,typeContentTag,null,null)};return op.nounName="contentTags",op.methodName="get",op.paramType=null,op.returnType=typeContentTag,op.pathChunks=["content-tags",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/apiTypes/ContentUserSocialAccount",["filament/apiCore"],function(apiCore){var typeContentUserSocialAccount=apiCore.objectType("ContentUserSocialAccount",{},{username:apiCore.stringType,userid:apiCore.stringType,provider:apiCore.stringType});return typeContentUserSocialAccount}),define("filament/apiTypes/ContentUserProfile",["filament/apiCore","filament/apiTypes/ContentUserSocialAccount"],function(apiCore,typeContentUserSocialAccount){var typeContentUserProfile=apiCore.objectType("ContentUserProfile",{},{website:apiCore.stringType,bio:apiCore.stringType,slug:apiCore.stringType,pinterestProfileUrl:apiCore.stringType,displayName:apiCore.stringType,socialAccounts:apiCore.arrayType(typeContentUserSocialAccount),twitterUsername:apiCore.stringType,authPrincipalId:apiCore.stringType,publishedItemCount:apiCore.integerType,disqusUsername:apiCore.stringType,photoId:apiCore.stringType,id:apiCore.stringType,linkedinProfileUrl:apiCore.stringType,instagramProfileUrl:apiCore.stringType,migrationId:apiCore.stringType,facebookProfileUrl:apiCore.stringType,gplusProfileUrl:apiCore.stringType,contentSiteId:apiCore.stringType,email:apiCore.stringType,objectType:apiCore.stringType});return typeContentUserProfile}),define("filament/api/contentUserProfiles/get",["filament/apiCore","filament/apiTypes/ContentUserProfile"],function(apiCore,typeContentUserProfile){var op=function(id){return this.makeApiRequest(["content-user-profiles",encodeURIComponent(id)],"GET",null,typeContentUserProfile,null,null)};return op.nounName="contentUserProfiles",op.methodName="get",op.paramType=null,op.returnType=typeContentUserProfile,op.pathChunks=["content-user-profiles",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentProducts/get",["filament/apiCore","filament/apiTypes/ContentProduct"],function(apiCore,typeContentProduct){var op=function(id){return this.makeApiRequest(["content-products",encodeURIComponent(id)],"GET",null,typeContentProduct,null,null)};return op.nounName="contentProducts",op.methodName="get",op.paramType=null,op.returnType=typeContentProduct,op.pathChunks=["content-products",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/flmContentFetchers/apiClient",["filament/buildNgApiService","filament/api/contentItems/get","filament/api/contentSections/get","filament/api/contentTags/get","filament/api/contentUserProfiles/get","filament/api/contentProducts/get"],function(buildNgApiService){var operations=Array.prototype.slice.call(arguments,1);return buildNgApiService(operations)}),define("filament/flmContentFetchers",["filament/flmContentFetchers/apiClient"],function(apiClient){var flmContentFetchers=angular.module("flmContentFetchers",[]);flmContentFetchers.factory("flmContentFetchersApiClient",apiClient);var registerFetcher=function(serviceName,nounName){flmContentFetchers.factory(serviceName,function(flmFetcher,flmContentFetchersApiClient){var op=flmContentFetchersApiClient.anon[nounName].get;return flmFetcher.createMultiItemFetcher(op)})};return registerFetcher("flmContentArticleFetcher","contentItems"),registerFetcher("flmContentUserProfileFetcher","contentUserProfiles"),registerFetcher("flmContentSectionFetcher","contentSections"),registerFetcher("flmContentTagFetcher","contentTags"),registerFetcher("flmContentPhotoFetcher","contentItems"),registerFetcher("flmContentProductFetcher","contentProducts"),registerFetcher("flmContentPersonFetcher","contentItems"),registerFetcher("flmContentRichTermFetcher","contentItems"),flmContentFetchers}),define("filament/module",["filament/flmFetcher","filament/flmGetMulti","filament/flmSession","filament/flmStreamerFull","filament/flmContentFetchers"],function(flmFetcher,flmGetMulti,flmSession,flmStreamerFull,flmContentFetchers){var flm=angular.module("filament",[flmContentFetchers.name]);return flm.factory("flmFetcher",flmFetcher),flm.factory("flmGetMulti",flmGetMulti),flm.factory("flmSession",flmSession),flm.factory("flmStreamerFull",flmStreamerFull),flm}),define("cornerstone/cstLogger",[],function(){return function($http,cstConfig){var console;if(window.console)console=window.console,"object"==typeof console.log&&["log","info","warn","error"].forEach(function(m){console[m]=this.bind(console[m],console)},Function.prototype.call);else{var noLog=function(){};console={log:noLog,info:noLog,warn:noLog,error:noLog,trace:noLog}}var localLogFunctions={DEBUG:console.log,INFO:console.info,WARN:console.warn,ERROR:console.error,CRITICAL:console.error},logger={init:function(clientLevelThreshold,serverLevelThreshold,endpoint,appName){if(this.levels={DEBUG:1,INFO:2,WARN:3,ERROR:4,CRITICAL:5,NO_LOGGING:6},!clientLevelThreshold)throw new Error("clientLevelThreshold is required");if(this.clientLevelThreshold=this.levels[clientLevelThreshold.toUpperCase()],!this.clientLevelThreshold)throw new Error("invalid clientLevelThreshold");if(!serverLevelThreshold)throw new Error("serverLevelThreshold is required");if(this.serverLevelThreshold=this.levels[serverLevelThreshold.toUpperCase()],!this.serverLevelThreshold)throw new Error("invalid serverLevelThreshold");if(!endpoint)throw new Error("endpoint is required");this.endpoint=endpoint,this.appName=appName},_getActivity:function(){return"undefined"==typeof document?"no document":document.URL},_makeLogRecord:function(msg,level){return{message:msg,level:level,rcid:null,env:null,appName:this.appName,trace:(new Error).stack,activity:this._getActivity()}},_dispatchLogRecord:function(record,level){if(this.levels[level]>=this.clientLevelThreshold){var logFunc=localLogFunctions[level];logFunc.apply(console,[record.message])}this.levels[level]>=this.serverLevelThreshold&&$http.post(this.endpoint,JSON.stringify([record]))},_log:function(msg,level){if(level=level.toUpperCase(),!(this.levels[level]<this.clientLevelThreshold&&this.levels[level]<this.serverLevelThreshold)){var record=this._makeLogRecord(msg,level);this._dispatchLogRecord(record,level)}},debug:function(msg){this._log(msg,"debug")},info:function(msg){this._log(msg,"info")},warn:function(msg){this._log(msg,"warn")},error:function(msg){this._log(msg,"error")},critical:function(msg){this._log(msg,"critical")}},config=cstConfig.getModuleConfig("cornerstone"),clientLevel=config&&config.cstLogger&&config.cstLogger.clientLevelThreshold?config.cstLogger.clientLevelThreshold:"debug",serverLevel=config&&config.cstLogger&&config.cstLogger.serverLevelThreshold?config.cstLogger.serverLevelThreshold:"no_logging",endpoint="/:logger",base=config.cstLogger.proxyUrl;base&&(endpoint=base+endpoint);var appName=config.cstLogger.appName;return logger.init(clientLevel,serverLevel,endpoint,appName),logger}}),define("cornerstone/cstConfig",[],function(){var mainConfig;return window.cstInitialConfig?(mainConfig=window.cstInitialConfig,window.cstInitialConfig=null):mainConfig="",function(){return{getModuleConfig:function(key){return mainConfig[key]?mainConfig[key]:{}}}}}),define("cornerstone/module",["cornerstone/cstLogger","cornerstone/cstConfig"],function(cstLogger,cstConfig){var cst=angular.module("cornerstone",[]);return cst.factory("cstLogger",cstLogger),cst.factory("cstConfig",cstConfig),cst}),define("belvedere/blvCloudinaryResolver",[],function(){return function($q,flmContentPhotoFetcher){var cCname="files.saymedia-content.com";return"undefined"!=typeof cloudinaryCname&&(cCname=cloudinaryCname),$.cloudinary.config({cloud_name:cloudinaryCloudName,cname:cCname,private_cdn:!0,secure_distribution:"tempest-res.cloudinary.com",cdn_subdomain:!0}),{getDefaultCloudinaryOptions:function(){return{crop:"fill",height:380,width:630}},_formatIsJpeg:function(format){return"jpg"===format.toLowerCase()||"jpeg"===format.toLowerCase()},_formatIsPng:function(format){return"png"===format.toLowerCase()},_formatIsGif:function(format){return"gif"===format.toLowerCase()},_consideredSmall:function(h,w){return h&&90>=h||w&&90>=w?!0:!1},rawResolver:function(contentPhoto,cloudinaryOptions){return cloudinaryOptions||(cloudinaryOptions=this.getDefaultCloudinaryOptions()),cloudinaryOptions.format=contentPhoto.format,this._formatIsGif(contentPhoto.format)&&(cloudinaryOptions={},cloudinaryOptions.format=contentPhoto.format),cloudinaryOptions.convertPngToJpg&&this._formatIsPng(cloudinaryOptions.format)&&(cloudinaryOptions.format="jpg"),this._formatIsJpeg(cloudinaryOptions.format)&&(cloudinaryOptions.dpr=$.cloudinary.device_pixel_ratio()),cloudinaryOptions.dpr>1.4&&cloudinaryOptions.retinaQuality&&(cloudinaryOptions.quality=cloudinaryOptions.retinaQuality),!cloudinaryOptions.quality&&this._formatIsJpeg(cloudinaryOptions.format)&&(cloudinaryOptions.quality=this._consideredSmall(cloudinaryOptions.height,cloudinaryOptions.width)?90:80),$.cloudinary.url(contentPhoto.publicId,cloudinaryOptions)},getCloudinaryUrl:function(contentPhoto,cloudinaryOptions){var defer=$q.defer();return contentPhoto.publicId?(defer.resolve(this.rawResolver(contentPhoto,cloudinaryOptions)),defer.promise):void defer.reject("publicId is missing for ContentPhoto "+contentPhoto.id)},getCloudinaryUrlById:function(id,cloudinaryOptions){var defer=$q.defer(),myself=this;return flmContentPhotoFetcher.getObjectPromise(id).then(function(contentPhoto){return contentPhoto?contentPhoto.publicId?void defer.resolve(myself.rawResolver(contentPhoto,cloudinaryOptions)):void defer.reject("publicId is missing for ContentPhoto "+contentPhoto.id):void defer.resolve(null)},function(){defer.reject("contentPhoto is missing, id: "+id)}),defer.promise}}}}),define("belvedere/blvTmlProcessor",[],function(){return function($compile,$rootScope,$q,blvTmlUtil){var _processExternalProvider=function(elem,index){angular.element(elem).attr("tml-external-provider-"+elem.getAttribute("tml-external-provider"),!0),"theplatform"===elem.getAttribute("tml-external-provider")&&angular.element(elem).attr("tml-player-index",index)},_processTmlCollection=function(elem){var $elem=angular.element(elem);if($elem.find("[tml-image]").attr("tml-collection-item",!0),"slideshow"===elem.getAttribute("tml-render-style")){var videoChildren=$elem.find("div[tml-external-provider]");videoChildren.length>0?($elem.attr("tml-collection-grid",!0),$elem.attr("tml-render-style","thumbnails")):$elem.attr("tml-collection-carousel",!0)}else"thumbnails"===elem.getAttribute("tml-render-style")&&$elem.attr("tml-collection-grid",!0)},_revertTmlCollection=function(elem){elem.removeAttribute("slideshow"===elem.getAttribute("tml-render-style")?"tml-collection-carousel":"thumbnails"===elem.getAttribute("tml-render-style")?"tml-collection-grid":"tml-collection-carousel")},_revertLayout=function(elem){elem.removeAttribute("tml-render-layout")},_revertExternalProvider=function(elem){elem.removeAttribute("tml-external-provider-"+elem.getAttribute("tml-external-provider"))
},_addTmlRenderLayout=function(elem){var layout;layout=!elem.getAttribute("tml-render-layout")||elem.getAttribute("tml-render-size")||elem.getAttribute("tml-render-position")?blvTmlUtil.getMappedTmlRenderLayout(elem):blvTmlUtil.validateLayout(elem.getAttribute("tml-render-layout"),elem);var $elem=angular.element(elem);$elem.attr("tml-render-layout",layout)},mutators=[{type:"external provider",selector:"[tml-external-provider]",mutate:_processExternalProvider,revert:_revertExternalProvider},{type:"collection",selector:"[tml-collection]",mutate:_processTmlCollection,revert:_revertTmlCollection},{type:"add tml layout",selector:"blockquote, [tml-image]:not([tml-collection-item]),[tml-collection],[tml-external-provider]:not([tml-collection-item]),[tml-product]:not([tml-collection-item])",mutate:_addTmlRenderLayout,revert:_revertLayout}];return{tmlToAngularTemplate:function(tmlString){var element=angular.element("<div>").append(angular.element(tmlString)),selector=mutators.map(function(m){return m.selector}).join(",");return element.find(selector).each(function(idx,elem){for(var i=0;i<mutators.length;++i)angular.element(elem).is(mutators[i].selector)&&mutators[i].mutate(elem,idx)}),element.html()},angularTemplateToTml:function(angularTemplate){var element=angular.element("<div>").append(angular.element(angularTemplate)),selector=mutators.map(function(m){return m.selector}).join(",");return element.find(selector).each(function(idx,elem){for(var i=0;i<mutators.length;++i)angular.element(elem).is(mutators[i].selector)&&mutators[i].revert(elem)}),element.html()},compile:function(tmlString){return this.compileWithPromise(tmlString).domObject},Registry:function(){var overriddenAdZones={};this.overrideAdZone=function(zoneName,renderCb){overriddenAdZones[zoneName]||(overriddenAdZones[zoneName]=renderCb)},this.getOverriddenAdZones=function(){return overriddenAdZones}},compileWithPromise:function(tmlString){var result={},templateString=this.tmlToAngularTemplate(tmlString);blvTmlUtil.resetTmlPromises();var linkFunction=$compile(templateString),scope=$rootScope.$new(),registry=new this.Registry;scope.$on("blvTmlRegistration",function(evt,cb){cb(registry)}),result.domObject=linkFunction(scope),result.registry=registry;var promises=blvTmlUtil.getTmlPromises();if(promises.length>0)result.promiseObject=$q.all(promises);else{var deferred=$q.defer();deferred.resolve(!0),result.promiseObject=deferred.promise}return blvTmlUtil.resetTmlPromises(),result}}}}),define("belvedere/blvTmlUtil",[],function(){return function(){var tmlPromises=[],defaultLayoutMap={"default":"inline",small:"left",smallleft:"left",smallright:"right",smallcenter:"left",medium:"right",mediumleft:"left",mediumright:"right",mediumcenter:"right",large:"inline",largeleft:"inline",largeright:"inline",largecenter:"inline",xlarge:"breakout",xlargeleft:"breakout",xlargeright:"breakout",xlargecenter:"breakout",left:"left",right:"right",center:"inline"},layoutConfigByType={"default":{defaultLayout:"inline",supportedLayouts:["left","right","inline","breakout","full-bleed"]},product:{defaultLayout:"inline",supportedLayouts:["inline"]},blockquote:{defaultLayout:"inline",supportedLayouts:["left","right","inline","breakout"]},image:{defaultLayout:"inline",supportedLayouts:["left","right","inline","breakout","full-bleed"]},externalEmbed:{defaultLayout:"inline",supportedLayouts:["inline","breakout","full-bleed"]},collection:{defaultLayout:"inline",supportedLayouts:["inline","breakout","full-bleed"]}},validLayouts={left:"l-wrap-left",right:"l-wrap-right",inline:"l-inline",breakout:"l-breakout","full-bleed":"l-full-bleed"},validPositions={left:"mm-left",center:"mm-center",right:"mm-right"},validSizes={small:"mm-small",medium:"mm-medium",large:"mm-large",xlarge:"mm-xlarge"},validBlockElements=["BLOCKQUOTE","P","H2","H3","H4","OL","UL","SECTION"],validBlockElementAttributes=["tml-anchor","tml-section","tml-render-layout","tml-render-position","tml-render-size"],validEmbedElementAttributes=["tml-image","tml-product","tml-collection","tml-anchor","tml-external-id","tml-image-caption","tml-external-provider","tml-external-provider-theplatform-path","tml-embed-src","tml-embed-thumbnail","tml-embed-height","tml-embed-width","tml-render-size","tml-render-layout","tml-render-position","tml-render-style"],validInlineElementAttributes=["href","rel","fragment-id"],validBrElementAttributes=["tml-linebreak"],cloudinaryOptionsSet={"mm-small":{crop:"fit",width:300},"mm-medium":{crop:"fit",width:630},"mm-large":{crop:"fit",width:960},"mm-xlarge":{crop:"fit",width:1200},"":{crop:"fit",width:630}};return{layoutConfigByType:layoutConfigByType,getMappedTmlRenderLayout:function(elem){var pos="",size="";elem.getAttribute("tml-render-position")&&(pos=elem.getAttribute("tml-render-position")),elem.getAttribute("tml-render-size")&&(size=elem.getAttribute("tml-render-size"));var layoutKey=size+pos;""===layoutKey&&(layoutKey="default");var layout=this.validateLayout(defaultLayoutMap[layoutKey],elem);return layout},validateLayout:function(layout,elem){var validatedLayout=layout,type="default";return elem.getAttribute("tml-image")?type="image":elem.getAttribute("tml-collection")?type="collection":elem.getAttribute("tml-externalProvider")?type="externalEmbed":elem.getAttribute("tml-product")?type="product":"blockquote"===elem.tagName.toLowerCase()&&(type="blockquote"),$.inArray(layout,layoutConfigByType[type].supportedLayouts)<0&&(validatedLayout=layoutConfigByType[type].defaultLayout),validatedLayout},getValidPositions:function(){return validPositions},getValidSizes:function(){return validSizes},getValidBlockElements:function(){return validBlockElements},getValidBlockElementAttributes:function(){return validBlockElementAttributes},getValidEmbedElementAttributes:function(){return validEmbedElementAttributes},getValidInlineElementAttributes:function(){return validInlineElementAttributes},getValidBrElementAttributes:function(){return validBrElementAttributes},getTmlRenderLayout:function(iAttrs){if(!angular.isDefined(iAttrs.tmlRenderLayout))return"";var layout=iAttrs.tmlRenderLayout;return validLayouts[layout]?validLayouts[layout]:""},getTmlRenderPosition:function(iAttrs){if(!angular.isDefined(iAttrs.tmlRenderPosition))return"";var position=iAttrs.tmlRenderPosition;return validPositions[position]?validPositions[position]:""},getTmlRenderSize:function(iAttrs){if(!angular.isDefined(iAttrs.tmlRenderSize))return"";var size=iAttrs.tmlRenderSize;return validSizes[size]?validSizes[size]:""},isValidBlockElement:function(iElement){return validBlockElements.indexOf(iElement.context.nodeName)>-1},getCloudinaryOptionsBySize:function(size){return cloudinaryOptionsSet[size]},getCloudinaryOptions:function(iAttrs){var size=this.getTmlRenderSize(iAttrs);return this.getCloudinaryOptionsBySize(size)},getTmlPromises:function(){return tmlPromises},trackTmlPromise:function(promiseObj){tmlPromises.push(promiseObj)},resetTmlPromises:function(){tmlPromises=[]}}}}),define("belvedere/tmlModule",["belvedere/blvCloudinaryResolver","belvedere/blvTmlProcessor","belvedere/blvTmlUtil"],function(blvCloudinaryResolver,blvTmlProcessor,blvTmlUtil){var blv=angular.module("belvedere",[]);return blv.service("blvCloudinaryResolver",blvCloudinaryResolver),blv.service("blvTmlProcessor",blvTmlProcessor),blv.service("blvTmlUtil",blvTmlUtil),blv}),define("filament/api/socialStats/getByIds",["filament/apiCore","filament/apiTypes/ContentSocialStats"],function(apiCore,typeContentSocialStats){var op=function(idsId){return this.makeApiRequest(["social-stats","@by-ids",encodeURIComponent(idsId)],"GET",null,apiCore.objectType(void 0,{},{stats:apiCore.mapType(typeContentSocialStats)}),null,null)};return op.nounName="socialStats",op.methodName="getByIds",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{stats:apiCore.mapType(typeContentSocialStats)}),op.pathChunks=["social-stats","@by-ids",null],op.pathParams={idsId:2},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentArticles/getPublishedRelatedArticles",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-articles",encodeURIComponent(id),"related-articles","@published"],"GET",null,apiCore.listType(typeContentArticle),quargs,null)};return op.nounName="contentArticles",op.methodName="getPublishedRelatedArticles",op.paramType=null,op.returnType=apiCore.listType(typeContentArticle),op.pathChunks=["content-articles",null,"related-articles","@published"],op.pathParams={id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=2,op}),define("filament/api/contentArticles/get",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id){return this.makeApiRequest(["content-articles",encodeURIComponent(id)],"GET",null,typeContentArticle,null,null)};return op.nounName="contentArticles",op.methodName="get",op.paramType=null,op.returnType=typeContentArticle,op.pathChunks=["content-articles",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentArticles/getProducts",["filament/apiCore","filament/apiTypes/ContentProduct"],function(apiCore,typeContentProduct){var op=function(id,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-articles",encodeURIComponent(id),"products"],"GET",null,apiCore.listType(typeContentProduct),quargs,null)};return op.nounName="contentArticles",op.methodName="getProducts",op.paramType=null,op.returnType=apiCore.listType(typeContentProduct),op.pathChunks=["content-articles",null,"products"],op.pathParams={id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=2,op}),define("filament/api/contentArticles/getAssociatedTags",["filament/apiCore","filament/apiTypes/ContentTag"],function(apiCore,typeContentTag){var op=function(id,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-articles",encodeURIComponent(id),"associated-tags"],"GET",null,apiCore.listType(typeContentTag),quargs,null)};return op.nounName="contentArticles",op.methodName="getAssociatedTags",op.paramType=null,op.returnType=apiCore.listType(typeContentTag),op.pathChunks=["content-articles",null,"associated-tags"],op.pathParams={id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=2,op}),define("filament/api/contentCustoms/getVersion",["filament/apiCore","filament/apiTypes/ContentCustom"],function(apiCore,typeContentCustom){var op=function(id,versionId){return this.makeApiRequest(["content-customs",encodeURIComponent(id),"@",encodeURIComponent(versionId)],"GET",null,typeContentCustom,null,null)};return op.nounName="contentCustoms",op.methodName="getVersion",op.paramType=null,op.returnType=typeContentCustom,op.pathChunks=["content-customs",null,"@",null],op.pathParams={versionId:3,id:1},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentItems/getEmbeddedPhotos",["filament/apiCore","filament/apiTypes/ContentPhoto"],function(apiCore,typeContentPhoto){var op=function(id){return this.makeApiRequest(["content-items",encodeURIComponent(id),"embedded-photos"],"GET",null,apiCore.listType(typeContentPhoto),null,null)};return op.nounName="contentItems",op.methodName="getEmbeddedPhotos",op.paramType=null,op.returnType=apiCore.listType(typeContentPhoto),op.pathChunks=["content-items",null,"embedded-photos"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentItems/getAssociatedRichTerms",["filament/apiCore","filament/apiTypes/ContentRichTerm"],function(apiCore,typeContentRichTerm){var op=function(id,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-items",encodeURIComponent(id),"associated-rich-terms"],"GET",null,apiCore.listType(typeContentRichTerm),quargs,null)};return op.nounName="contentItems",op.methodName="getAssociatedRichTerms",op.paramType=null,op.returnType=apiCore.listType(typeContentRichTerm),op.pathChunks=["content-items",null,"associated-rich-terms"],op.pathParams={id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=2,op}),define("filament/api/contentProducts/getAssociatedTags",["filament/apiCore","filament/apiTypes/ContentTag"],function(apiCore,typeContentTag){var op=function(id,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-products",encodeURIComponent(id),"associated-tags"],"GET",null,apiCore.listType(typeContentTag),quargs,null)};return op.nounName="contentProducts",op.methodName="getAssociatedTags",op.paramType=null,op.returnType=apiCore.listType(typeContentTag),op.pathChunks=["content-products",null,"associated-tags"],op.pathParams={id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=2,op}),define("filament/api/contentProducts/getVersion",["filament/apiCore","filament/apiTypes/ContentProduct"],function(apiCore,typeContentProduct){var op=function(id,versionId){return this.makeApiRequest(["content-products",encodeURIComponent(id),"@",encodeURIComponent(versionId)],"GET",null,typeContentProduct,null,null)};return op.nounName="contentProducts",op.methodName="getVersion",op.paramType=null,op.returnType=typeContentProduct,op.pathChunks=["content-products",null,"@",null],op.pathParams={versionId:3,id:1},op.queryParams={},op.expectedParamCount=2,op}),define("filament/apiTypes/ContentPublication",["filament/apiCore"],function(apiCore){var typeContentPublication=apiCore.objectType("ContentPublication",{},{statusCode:apiCore.stringType,contentNodeId:apiCore.stringType,sectionKey:apiCore.stringType,assignedEditorPrincipalId:apiCore.stringType,publicationTimestamp:apiCore.datetimeType,contentItemId:apiCore.stringType,assignedAuthorPrincipalId:apiCore.stringType,contentSiteId:apiCore.stringType,slug:apiCore.stringType,originalPublicationTimestamp:apiCore.datetimeType});return typeContentPublication}),define("filament/api/contentPublications/get",["filament/apiCore","filament/apiTypes/ContentPublication"],function(apiCore,typeContentPublication){var op=function(id){return this.makeApiRequest(["content-publications",encodeURIComponent(id)],"GET",null,typeContentPublication,null,null)};return op.nounName="contentPublications",op.methodName="get",op.paramType=null,op.returnType=typeContentPublication,op.pathChunks=["content-publications",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/apiTypes/ContentSponsorship",["filament/apiCore","filament/apiTypes/ContentAdvertisingRoadblock","filament/apiTypes/ContentBrandingBadge","filament/apiTypes/ContentReportingConfiguration"],function(apiCore,typeContentAdvertisingRoadblock,typeContentBrandingBadge,typeContentReportingConfiguration){var typeContentSponsorship=apiCore.objectType("ContentSponsorship",{},{reporting:typeContentReportingConfiguration,sectionBrandingBadge:typeContentBrandingBadge,advertisingRoadblock:typeContentAdvertisingRoadblock});return typeContentSponsorship}),define("filament/api/contentSections/getCurrentSponsorship",["filament/apiCore","filament/apiTypes/ContentSponsorship"],function(apiCore,typeContentSponsorship){var op=function(id){return this.makeApiRequest(["content-sections",encodeURIComponent(id),"current-sponsorship"],"GET",null,typeContentSponsorship,null,null)};return op.nounName="contentSections",op.methodName="getCurrentSponsorship",op.paramType=null,op.returnType=typeContentSponsorship,op.pathChunks=["content-sections",null,"current-sponsorship"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentSites/addEmailToMailingList",["filament/apiCore"],function(apiCore){var op=function(id,payload){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"add-email-to-mailing-list"],"POST",apiCore.objectType(void 0,{},{email:apiCore.stringType,mailchimpListId:apiCore.stringType}),null,null,payload)};return op.nounName="contentSites",op.methodName="addEmailToMailingList",op.paramType=apiCore.objectType(void 0,{},{email:apiCore.stringType,mailchimpListId:apiCore.stringType}),op.returnType=null,op.pathChunks=["content-sites",null,"add-email-to-mailing-list"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/finalizePhotoUpload",["filament/apiCore","filament/apiTypes/ContentPhoto"],function(apiCore,typeContentPhoto){var op=function(id,payload){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"finalize-photo-upload"],"POST",apiCore.objectType(void 0,{},{item:typeContentPhoto,uploadId:apiCore.stringType}),apiCore.objectType(void 0,{},{item:typeContentPhoto}),null,payload)};return op.nounName="contentSites",op.methodName="finalizePhotoUpload",op.paramType=apiCore.objectType(void 0,{},{item:typeContentPhoto,uploadId:apiCore.stringType}),op.returnType=apiCore.objectType(void 0,{},{item:typeContentPhoto}),op.pathChunks=["content-sites",null,"finalize-photo-upload"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=2,op}),define("filament/apiTypes/ContentSite",["filament/apiCore"],function(apiCore){var typeContentSite=apiCore.objectType("ContentSite",{},{displayName:apiCore.stringType,disqusShortname:apiCore.stringType,baseUrl:apiCore.stringType,primaryDomain:apiCore.stringType,id:apiCore.stringType,hexAppName:apiCore.stringType});return typeContentSite}),define("filament/api/contentSites/get",["filament/apiCore","filament/apiTypes/ContentSite"],function(apiCore,typeContentSite){var op=function(id){return this.makeApiRequest(["content-sites",encodeURIComponent(id)],"GET",null,typeContentSite,null,null)};return op.nounName="contentSites",op.methodName="get",op.paramType=null,op.returnType=typeContentSite,op.pathChunks=["content-sites",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/apiTypes/ContentSitemapEntry",["filament/apiCore"],function(apiCore){var typeContentSitemapEntry=apiCore.objectType("ContentSitemapEntry",{},{priority:apiCore.floatType,lastModified:apiCore.datetimeType,imageUrls:apiCore.arrayType(apiCore.stringType),changeFrequency:apiCore.stringType,pathParams:apiCore.mapType(apiCore.stringType)});return typeContentSitemapEntry}),define("filament/api/contentSites/getContentCustomSitemapEntriesByCustomType",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id,customTypeId){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-custom-sitemap-entries","@by-custom-type",encodeURIComponent(customTypeId)],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getContentCustomSitemapEntriesByCustomType",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-custom-sitemap-entries","@by-custom-type",null],op.pathParams={id:1,customTypeId:4},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/getWithoutImagesContentCustomSitemapEntriesByCustomType",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id,customTypeId){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-custom-sitemap-entries","@by-custom-type",encodeURIComponent(customTypeId),"@without-images"],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getWithoutImagesContentCustomSitemapEntriesByCustomType",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-custom-sitemap-entries","@by-custom-type",null,"@without-images"],op.pathParams={id:1,customTypeId:4},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/getWithoutImagesContentCustomSitemapEntriesByCustomTypeAndYear",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id,customTypeId,yearId){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-custom-sitemap-entries","@by-custom-type",encodeURIComponent(customTypeId),"@without-images","@by-year",encodeURIComponent(yearId)],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getWithoutImagesContentCustomSitemapEntriesByCustomTypeAndYear",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-custom-sitemap-entries","@by-custom-type",null,"@without-images","@by-year",null],op.pathParams={yearId:7,id:1,customTypeId:4},op.queryParams={},op.expectedParamCount=3,op}),define("filament/api/contentSites/getContentUserProfiles",["filament/apiCore","filament/apiTypes/ContentUserProfile"],function(apiCore,typeContentUserProfile){var op=function(id,options){var quargs={};return options&&(null!==options.q&&(quargs.q=options.q),null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-user-profiles"],"GET",null,apiCore.streamType(typeContentUserProfile),quargs,null)};return op.nounName="contentSites",op.methodName="getContentUserProfiles",op.paramType=null,op.returnType=apiCore.streamType(typeContentUserProfile),op.pathChunks=["content-sites",null,"content-user-profiles"],op.pathParams={id:1},op.queryParams={q:"q",startToken:"start-token",limit:"max-results"},op.expectedParamCount=2,op}),define("filament/api/contentSites/getContentUserProfilesByAuthPrincipalId",["filament/apiCore","filament/apiTypes/ContentUserProfile"],function(apiCore,typeContentUserProfile){var op=function(id,authPrincipalId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-user-profiles","@by-auth-principal-id",encodeURIComponent(authPrincipalId)],"GET",null,apiCore.streamType(typeContentUserProfile),quargs,null)};return op.nounName="contentSites",op.methodName="getContentUserProfilesByAuthPrincipalId",op.paramType=null,op.returnType=apiCore.streamType(typeContentUserProfile),op.pathChunks=["content-sites",null,"content-user-profiles","@by-auth-principal-id",null],op.pathParams={authPrincipalId:4,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getContentUserProfilesBySlug",["filament/apiCore","filament/apiTypes/ContentUserProfile"],function(apiCore,typeContentUserProfile){var op=function(id,slug,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-user-profiles","@by-slug",encodeURIComponent(slug)],"GET",null,apiCore.streamType(typeContentUserProfile),quargs,null)};return op.nounName="contentSites",op.methodName="getContentUserProfilesBySlug",op.paramType=null,op.returnType=apiCore.streamType(typeContentUserProfile),op.pathChunks=["content-sites",null,"content-user-profiles","@by-slug",null],op.pathParams={id:1,slug:4},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getEmbedsByAuthorProfileSlugs",["filament/apiCore","filament/apiTypes/ContentEmbed"],function(apiCore,typeContentEmbed){var op=function(id,authorProfileSlugsId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"embeds","@by-author-profile-slugs",encodeURIComponent(authorProfileSlugsId)],"GET",null,apiCore.streamType(typeContentEmbed),quargs,null)};return op.nounName="contentSites",op.methodName="getEmbedsByAuthorProfileSlugs",op.paramType=null,op.returnType=apiCore.streamType(typeContentEmbed),op.pathChunks=["content-sites",null,"embeds","@by-author-profile-slugs",null],op.pathParams={id:1,authorProfileSlugsId:4},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getEmbedsByAuthorProfileSlugsAndHashtags",["filament/apiCore","filament/apiTypes/ContentEmbed"],function(apiCore,typeContentEmbed){var op=function(id,authorProfileSlugsId,hashtagsId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"embeds","@by-author-profile-slugs",encodeURIComponent(authorProfileSlugsId),"@by-hashtags",encodeURIComponent(hashtagsId)],"GET",null,apiCore.streamType(typeContentEmbed),quargs,null)};return op.nounName="contentSites",op.methodName="getEmbedsByAuthorProfileSlugsAndHashtags",op.paramType=null,op.returnType=apiCore.streamType(typeContentEmbed),op.pathChunks=["content-sites",null,"embeds","@by-author-profile-slugs",null,"@by-hashtags",null],op.pathParams={id:1,hashtagsId:6,authorProfileSlugsId:4},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=4,op}),define("filament/api/contentSites/getPopularContentArticles",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"popular-content-articles"],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPopularContentArticles",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"popular-content-articles"],op.pathParams={id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=2,op}),define("filament/api/contentSites/getPublishedArticles",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published"],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticles",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published"],op.pathParams={id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=2,op}),define("filament/api/contentSites/getPublishedArticlesByAuthorProfileSlug",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,authorProfileSlug,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-author-profile-slug",encodeURIComponent(authorProfileSlug)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByAuthorProfileSlug",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-author-profile-slug",null],op.pathParams={authorProfileSlug:5,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedArticlesByBlocks",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,blocksId,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-blocks",encodeURIComponent(blocksId)],"GET",null,apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentArticle))}),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByBlocks",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentArticle))}),op.pathChunks=["content-sites",null,"articles","@published","@by-blocks",null],op.pathParams={blocksId:5,id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedArticlesByBlocksAndTime",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,blocksId,time,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-blocks",encodeURIComponent(blocksId),"@by-time",encodeURIComponent(time)],"GET",null,apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentArticle))}),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByBlocksAndTime",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentArticle))}),op.pathChunks=["content-sites",null,"articles","@published","@by-blocks",null,"@by-time",null],op.pathParams={blocksId:5,id:1,time:7},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=4,op}),define("filament/api/contentSites/getPublishedArticlesByExcludedBlocks",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,excludedBlocksId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-excluded-blocks",encodeURIComponent(excludedBlocksId)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByExcludedBlocks",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-excluded-blocks",null],op.pathParams={excludedBlocksId:5,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedArticlesByExcludedObjects",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,excludedObjectsId,options){var quargs={};
return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-excluded-objects",encodeURIComponent(excludedObjectsId)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByExcludedObjects",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-excluded-objects",null],op.pathParams={excludedObjectsId:5,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedArticlesBySlug",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,slug){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-slug",encodeURIComponent(slug)],"GET",null,apiCore.listType(typeContentArticle),null,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesBySlug",op.paramType=null,op.returnType=apiCore.listType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-slug",null],op.pathParams={id:1,slug:5},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/getPublishedArticlesBySection",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,sectionId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-section",encodeURIComponent(sectionId)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesBySection",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-section",null],op.pathParams={id:1,sectionId:5},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedArticlesByStartDate",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,startDate,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-start-date",encodeURIComponent(startDate)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByStartDate",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-start-date",null],op.pathParams={startDate:5,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedArticlesByStartDateAndEndDate",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,startDate,endDate,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-start-date",encodeURIComponent(startDate),"@by-end-date",encodeURIComponent(endDate)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByStartDateAndEndDate",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-start-date",null,"@by-end-date",null],op.pathParams={startDate:5,endDate:7,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=4,op}),define("filament/api/contentSites/getPublishedArticlesByTag",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,tag,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"articles","@published","@by-tag",encodeURIComponent(tag)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedArticlesByTag",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"articles","@published","@by-tag",null],op.pathParams={tag:5,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedContentCustomsByAuthorProfileSlug",["filament/apiCore","filament/apiTypes/ContentCustom"],function(apiCore,typeContentCustom){var op=function(id,authorProfileSlug,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-customs","@published","@by-author-profile-slug",encodeURIComponent(authorProfileSlug)],"GET",null,apiCore.streamType(typeContentCustom),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedContentCustomsByAuthorProfileSlug",op.paramType=null,op.returnType=apiCore.streamType(typeContentCustom),op.pathChunks=["content-sites",null,"content-customs","@published","@by-author-profile-slug",null],op.pathParams={authorProfileSlug:5,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedContentCustomsByCustomType",["filament/apiCore","filament/apiTypes/ContentCustom"],function(apiCore,typeContentCustom){var op=function(id,customTypeId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-customs","@published","@by-custom-type",encodeURIComponent(customTypeId)],"GET",null,apiCore.streamType(typeContentCustom),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedContentCustomsByCustomType",op.paramType=null,op.returnType=apiCore.streamType(typeContentCustom),op.pathChunks=["content-sites",null,"content-customs","@published","@by-custom-type",null],op.pathParams={id:1,customTypeId:5},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedContentCustomsByCustomTypeAndAuthorProfileSlug",["filament/apiCore","filament/apiTypes/ContentCustom"],function(apiCore,typeContentCustom){var op=function(id,customTypeId,authorProfileSlug,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-customs","@published","@by-custom-type",encodeURIComponent(customTypeId),"@by-author-profile-slug",encodeURIComponent(authorProfileSlug)],"GET",null,apiCore.streamType(typeContentCustom),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedContentCustomsByCustomTypeAndAuthorProfileSlug",op.paramType=null,op.returnType=apiCore.streamType(typeContentCustom),op.pathChunks=["content-sites",null,"content-customs","@published","@by-custom-type",null,"@by-author-profile-slug",null],op.pathParams={authorProfileSlug:7,id:1,customTypeId:5},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=4,op}),define("filament/api/contentSites/getPublishedContentCustomsByCustomTypeAndSlug",["filament/apiCore","filament/apiTypes/ContentCustom"],function(apiCore,typeContentCustom){var op=function(id,customTypeId,slug){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-customs","@published","@by-custom-type",encodeURIComponent(customTypeId),"@by-slug",encodeURIComponent(slug)],"GET",null,apiCore.streamType(typeContentCustom),null,null)};return op.nounName="contentSites",op.methodName="getPublishedContentCustomsByCustomTypeAndSlug",op.paramType=null,op.returnType=apiCore.streamType(typeContentCustom),op.pathChunks=["content-sites",null,"content-customs","@published","@by-custom-type",null,"@by-slug",null],op.pathParams={id:1,customTypeId:5,slug:7},op.queryParams={},op.expectedParamCount=3,op}),define("filament/apiTypes/ContentPublishedItem",["filament/apiCore","filament/apiTypes/ContentItem","filament/apiTypes/ContentPublication"],function(apiCore,typeContentItem,typeContentPublication){var typeContentPublishedItem=apiCore.objectType("ContentPublishedItem",{},{item:typeContentItem,publication:typeContentPublication});return typeContentPublishedItem}),define("filament/api/contentSites/getPublishedContentItemsBySlug",["filament/apiCore","filament/apiTypes/ContentPublishedItem"],function(apiCore,typeContentPublishedItem){var op=function(id,slug){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-items","@published","@by-slug",encodeURIComponent(slug)],"GET",null,apiCore.listType(typeContentPublishedItem),null,null)};return op.nounName="contentSites",op.methodName="getPublishedContentItemsBySlug",op.paramType=null,op.returnType=apiCore.listType(typeContentPublishedItem),op.pathChunks=["content-sites",null,"content-items","@published","@by-slug",null],op.pathParams={id:1,slug:5},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/getPublishedItems",["filament/apiCore","filament/apiTypes/ContentItem"],function(apiCore,typeContentItem){var op=function(id,options){var quargs={};return options&&(null!==options.q&&(quargs.q=options.q),null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.filterByTypes&&(quargs["filter.types"]=options.filterByTypes)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"items","@published"],"GET",null,apiCore.streamType(typeContentItem),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedItems",op.paramType=null,op.returnType=apiCore.streamType(typeContentItem),op.pathChunks=["content-sites",null,"items","@published"],op.pathParams={id:1},op.queryParams={q:"q",startToken:"start-token",limit:"max-results",filterByTypes:"filter.types"},op.expectedParamCount=2,op}),define("filament/api/contentSites/getPublishedItemsByBlocks",["filament/apiCore","filament/apiTypes/ContentItem"],function(apiCore,typeContentItem){var op=function(id,blocksId,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"items","@published","@by-blocks",encodeURIComponent(blocksId)],"GET",null,apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentItem))}),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedItemsByBlocks",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentItem))}),op.pathChunks=["content-sites",null,"items","@published","@by-blocks",null],op.pathParams={blocksId:5,id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedItemsByBlocksAndTime",["filament/apiCore","filament/apiTypes/ContentItem"],function(apiCore,typeContentItem){var op=function(id,blocksId,time,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"items","@published","@by-blocks",encodeURIComponent(blocksId),"@by-time",encodeURIComponent(time)],"GET",null,apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentItem))}),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedItemsByBlocksAndTime",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentItem))}),op.pathChunks=["content-sites",null,"items","@published","@by-blocks",null,"@by-time",null],op.pathParams={blocksId:5,id:1,time:7},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=4,op}),define("filament/api/contentSites/getPublishedItemsByRichTermAndType",["filament/apiCore","filament/apiTypes/ContentItem"],function(apiCore,typeContentItem){var op=function(id,richTermId,typeId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"items","@published","@by-rich-term",encodeURIComponent(richTermId),"@by-type",encodeURIComponent(typeId)],"GET",null,apiCore.streamType(typeContentItem),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedItemsByRichTermAndType",op.paramType=null,op.returnType=apiCore.streamType(typeContentItem),op.pathChunks=["content-sites",null,"items","@published","@by-rich-term",null,"@by-type",null],op.pathParams={richTermId:5,id:1,typeId:7},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=4,op}),define("filament/api/contentSites/getPublishedItemsByQueryTemplate",["filament/apiCore","filament/apiTypes/ContentItem"],function(apiCore,typeContentItem){var op=function(id,queryTemplateId,options){var quargs={};return options&&(null!==options.q&&(quargs.q=options.q),null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.filterByTypes&&(quargs["filter.types"]=options.filterByTypes)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"items","@published","@by-query-template",encodeURIComponent(queryTemplateId)],"GET",null,apiCore.streamType(typeContentItem),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedItemsByQueryTemplate",op.paramType=null,op.returnType=apiCore.streamType(typeContentItem),op.pathChunks=["content-sites",null,"items","@published","@by-query-template",null],op.pathParams={id:1,queryTemplateId:5},op.queryParams={q:"q",startToken:"start-token",limit:"max-results",filterByTypes:"filter.types"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedProducts",["filament/apiCore","filament/apiTypes/ContentProduct"],function(apiCore,typeContentProduct){var op=function(id,options){var quargs={};return options&&(null!==options.q&&(quargs.q=options.q),null!==options.sort&&(quargs.sort=options.sort),null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.startToken&&(quargs["start-token"]=options.startToken)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"products","@published"],"GET",null,apiCore.streamType(typeContentProduct),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedProducts",op.paramType=null,op.returnType=apiCore.streamType(typeContentProduct),op.pathChunks=["content-sites",null,"products","@published"],op.pathParams={id:1},op.queryParams={q:"q",sort:"sort",limit:"max-results",startToken:"start-token"},op.expectedParamCount=2,op}),define("filament/api/contentSites/getPublishedProductsBySlug",["filament/apiCore","filament/apiTypes/ContentProduct"],function(apiCore,typeContentProduct){var op=function(id,slug){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"products","@published","@by-slug",encodeURIComponent(slug)],"GET",null,apiCore.listType(typeContentProduct),null,null)};return op.nounName="contentSites",op.methodName="getPublishedProductsBySlug",op.paramType=null,op.returnType=apiCore.listType(typeContentProduct),op.pathChunks=["content-sites",null,"products","@published","@by-slug",null],op.pathParams={id:1,slug:5},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/getPublishedProductsByTagAndVocabulary",["filament/apiCore","filament/apiTypes/ContentProduct"],function(apiCore,typeContentProduct){var op=function(id,tag,vocabularyId,options){var quargs={};return options&&(null!==options.sort&&(quargs.sort=options.sort),null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"products","@published","@by-tag",encodeURIComponent(tag),"@by-vocabulary",encodeURIComponent(vocabularyId)],"GET",null,apiCore.listType(typeContentProduct),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedProductsByTagAndVocabulary",op.paramType=null,op.returnType=apiCore.listType(typeContentProduct),op.pathChunks=["content-sites",null,"products","@published","@by-tag",null,"@by-vocabulary",null],op.pathParams={tag:5,id:1,vocabularyId:7},op.queryParams={sort:"sort",startToken:"start-token",limit:"max-results"},op.expectedParamCount=4,op}),define("filament/apiTypes/ContentBlockItem",["filament/apiCore"],function(apiCore){var typeContentBlockItem=apiCore.objectType("ContentBlockItem",{},{isEndDateIndefinite:apiCore.booleanType,endDate:apiCore.datetimeType,overridePromoTitle:apiCore.stringType,overrideTeaser:apiCore.stringType,startDate:apiCore.datetimeType,blockKey:apiCore.stringType,contentItemId:apiCore.stringType,isImageOnly:apiCore.booleanType,overrideLabel:apiCore.stringType,overridePromoPhotoId:apiCore.stringType,contentItemObjectType:apiCore.stringType,contentSiteId:apiCore.stringType,id:apiCore.stringType,objectType:apiCore.stringType});return typeContentBlockItem}),define("filament/apiTypes/ContentBlockItemWithItem",["filament/apiCore","filament/apiTypes/ContentBlockItem","filament/apiTypes/ContentItem"],function(apiCore,typeContentBlockItem,typeContentItem){var typeContentBlockItemWithItem=apiCore.objectType("ContentBlockItemWithItem",{},{contentItem:typeContentItem,blockItem:typeContentBlockItem});return typeContentBlockItemWithItem}),define("filament/api/contentSites/getPublishedWithBlockItemsByBlocks",["filament/apiCore","filament/apiTypes/ContentBlockItemWithItem"],function(apiCore,typeContentBlockItemWithItem){var op=function(id,blocksId,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"items","@published","@by-blocks",encodeURIComponent(blocksId),"@with-block"],"GET",null,apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentBlockItemWithItem))}),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedWithBlockItemsByBlocks",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentBlockItemWithItem))}),op.pathChunks=["content-sites",null,"items","@published","@by-blocks",null,"@with-block"],op.pathParams={blocksId:5,id:1},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=3,op}),define("filament/api/contentSites/getPublishedWithBlockItemsByBlocksAndTime",["filament/apiCore","filament/apiTypes/ContentBlockItemWithItem"],function(apiCore,typeContentBlockItemWithItem){var op=function(id,blocksId,time,options){var quargs={};return options&&(null!==options.limit&&(quargs["max-results"]=options.limit),null!==options.offset&&(quargs["start-index"]=options.offset)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"items","@published","@by-blocks",encodeURIComponent(blocksId),"@by-time",encodeURIComponent(time),"@with-block"],"GET",null,apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentBlockItemWithItem))}),quargs,null)};return op.nounName="contentSites",op.methodName="getPublishedWithBlockItemsByBlocksAndTime",op.paramType=null,op.returnType=apiCore.objectType(void 0,{},{entryMap:apiCore.mapType(apiCore.arrayType(typeContentBlockItemWithItem))}),op.pathChunks=["content-sites",null,"items","@published","@by-blocks",null,"@by-time",null,"@with-block"],op.pathParams={blocksId:5,id:1,time:7},op.queryParams={limit:"max-results",offset:"start-index"},op.expectedParamCount=4,op}),define("filament/api/contentSites/getRecentlyMentionedProducts",["filament/apiCore","filament/apiTypes/ContentProduct"],function(apiCore,typeContentProduct){var op=function(id,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"products","@recently-mentioned"],"GET",null,apiCore.streamType(typeContentProduct),quargs,null)};return op.nounName="contentSites",op.methodName="getRecentlyMentionedProducts",op.paramType=null,op.returnType=apiCore.streamType(typeContentProduct),op.pathChunks=["content-sites",null,"products","@recently-mentioned"],op.pathParams={id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=2,op}),define("filament/api/contentSites/getSections",["filament/apiCore","filament/apiTypes/ContentSection"],function(apiCore,typeContentSection){var op=function(id){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"sections"],"GET",null,apiCore.listType(typeContentSection),null,null)};return op.nounName="contentSites",op.methodName="getSections",op.paramType=null,op.returnType=apiCore.listType(typeContentSection),op.pathChunks=["content-sites",null,"sections"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentSites/getTags",["filament/apiCore","filament/apiTypes/ContentTag"],function(apiCore,typeContentTag){var op=function(id,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"tags"],"GET",null,apiCore.streamType(typeContentTag),quargs,null)};return op.nounName="contentSites",op.methodName="getTags",op.paramType=null,op.returnType=apiCore.streamType(typeContentTag),op.pathChunks=["content-sites",null,"tags"],op.pathParams={id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=2,op}),define("filament/api/contentSites/startPhotoUpload",["filament/apiCore"],function(apiCore){var op=function(id,payload){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"start-photo-upload"],"POST",apiCore.objectType(void 0,{},{}),apiCore.objectType(void 0,{},{uploadId:apiCore.stringType,signature:apiCore.stringType}),null,payload)};return op.nounName="contentSites",op.methodName="startPhotoUpload",op.paramType=apiCore.objectType(void 0,{},{}),op.returnType=apiCore.objectType(void 0,{},{uploadId:apiCore.stringType,signature:apiCore.stringType}),op.pathChunks=["content-sites",null,"start-photo-upload"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/getContentArticleSitemapEntries",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-article-sitemap-entries"],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getContentArticleSitemapEntries",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-article-sitemap-entries"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentSites/getContentArticleSitemapEntriesByYear",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id,yearId){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-article-sitemap-entries","@by-year",encodeURIComponent(yearId)],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getContentArticleSitemapEntriesByYear",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-article-sitemap-entries","@by-year",null],op.pathParams={yearId:4,id:1},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentSites/getSectionSitemapEntries",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"section-sitemap-entries"],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getSectionSitemapEntries",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"section-sitemap-entries"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentSites/getContentTagSitemapEntries",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-tag-sitemap-entries"],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getContentTagSitemapEntries",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-tag-sitemap-entries"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentSites/getContentUserProfileSitemapEntries",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-user-profile-sitemap-entries"],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getContentUserProfileSitemapEntries",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-user-profile-sitemap-entries"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentSites/getContentProductSitemapEntries",["filament/apiCore","filament/apiTypes/ContentSitemapEntry"],function(apiCore,typeContentSitemapEntry){var op=function(id){return this.makeApiRequest(["content-sites",encodeURIComponent(id),"content-product-sitemap-entries"],"GET",null,apiCore.streamType(typeContentSitemapEntry),null,null)};return op.nounName="contentSites",op.methodName="getContentProductSitemapEntries",op.paramType=null,op.returnType=apiCore.streamType(typeContentSitemapEntry),op.pathChunks=["content-sites",null,"content-product-sitemap-entries"],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentSites/getTrendingContentArticlesByAlgo",["filament/apiCore","filament/apiTypes/ContentArticle"],function(apiCore,typeContentArticle){var op=function(id,algoId,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-sites",encodeURIComponent(id),"trending-content-articles","@by-algo",encodeURIComponent(algoId)],"GET",null,apiCore.streamType(typeContentArticle),quargs,null)};return op.nounName="contentSites",op.methodName="getTrendingContentArticlesByAlgo",op.paramType=null,op.returnType=apiCore.streamType(typeContentArticle),op.pathChunks=["content-sites",null,"trending-content-articles","@by-algo",null],op.pathParams={algoId:4,id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=3,op}),define("filament/api/contentUserProfiles/post",["filament/apiCore","filament/apiTypes/ContentUserProfile"],function(apiCore,typeContentUserProfile){var op=function(payload){return this.makeApiRequest(["content-user-profiles"],"POST",typeContentUserProfile,typeContentUserProfile,null,payload)};return op.nounName="contentUserProfiles",op.methodName="post",op.paramType=typeContentUserProfile,op.returnType=typeContentUserProfile,op.pathChunks=["content-user-profiles"],op.pathParams={},op.queryParams={},op.expectedParamCount=1,op}),define("filament/api/contentUserProfiles/put",["filament/apiCore","filament/apiTypes/ContentUserProfile"],function(apiCore,typeContentUserProfile){var op=function(id,payload){return this.makeApiRequest(["content-user-profiles",encodeURIComponent(id)],"PUT",typeContentUserProfile,typeContentUserProfile,null,payload)};return op.nounName="contentUserProfiles",op.methodName="put",op.paramType=typeContentUserProfile,op.returnType=typeContentUserProfile,op.pathChunks=["content-user-profiles",null],op.pathParams={id:1},op.queryParams={},op.expectedParamCount=2,op}),define("filament/api/contentCustoms/getPublishedRelatedContent",["filament/apiCore","filament/apiTypes/ContentItem"],function(apiCore,typeContentItem){var op=function(id,options){var quargs={};return options&&(null!==options.startToken&&(quargs["start-token"]=options.startToken),null!==options.limit&&(quargs["max-results"]=options.limit)),this.makeApiRequest(["content-customs",encodeURIComponent(id),"published-related-content"],"GET",null,apiCore.streamType(typeContentItem),quargs,null)};return op.nounName="contentCustoms",op.methodName="getPublishedRelatedContent",op.paramType=null,op.returnType=apiCore.streamType(typeContentItem),op.pathChunks=["content-customs",null,"published-related-content"],op.pathParams={id:1},op.queryParams={startToken:"start-token",limit:"max-results"},op.expectedParamCount=2,op}),define("phxCore/services/phxApiClient",["filament/buildNgApiService","filament/api/socialStats/getByIds","filament/api/contentArticles/getPublishedRelatedArticles","filament/api/contentArticles/get","filament/api/contentArticles/getProducts","filament/api/contentArticles/getAssociatedTags","filament/api/contentCustoms/getVersion","filament/api/contentItems/getEmbeddedPhotos","filament/api/contentItems/get","filament/api/contentItems/getAssociatedRichTerms","filament/api/contentProducts/getAssociatedTags","filament/api/contentProducts/getVersion","filament/api/contentPublications/get","filament/api/contentSections/get","filament/api/contentSections/getCurrentSponsorship","filament/api/contentSites/addEmailToMailingList","filament/api/contentSites/finalizePhotoUpload","filament/api/contentSites/get","filament/api/contentSites/getContentCustomSitemapEntriesByCustomType","filament/api/contentSites/getWithoutImagesContentCustomSitemapEntriesByCustomType","filament/api/contentSites/getWithoutImagesContentCustomSitemapEntriesByCustomTypeAndYear","filament/api/contentSites/getContentUserProfiles","filament/api/contentSites/getContentUserProfilesByAuthPrincipalId","filament/api/contentSites/getContentUserProfilesBySlug","filament/api/contentSites/getEmbedsByAuthorProfileSlugs","filament/api/contentSites/getEmbedsByAuthorProfileSlugsAndHashtags","filament/api/contentSites/getPopularContentArticles","filament/api/contentSites/getPublishedArticles","filament/api/contentSites/getPublishedArticlesByAuthorProfileSlug","filament/api/contentSites/getPublishedArticlesByBlocks","filament/api/contentSites/getPublishedArticlesByBlocksAndTime","filament/api/contentSites/getPublishedArticlesByExcludedBlocks","filament/api/contentSites/getPublishedArticlesByExcludedObjects","filament/api/contentSites/getPublishedArticlesBySlug","filament/api/contentSites/getPublishedArticlesBySection","filament/api/contentSites/getPublishedArticlesByStartDate","filament/api/contentSites/getPublishedArticlesByStartDateAndEndDate","filament/api/contentSites/getPublishedArticlesByTag","filament/api/contentSites/getPublishedContentCustomsByAuthorProfileSlug","filament/api/contentSites/getPublishedContentCustomsByCustomType","filament/api/contentSites/getPublishedContentCustomsByCustomTypeAndAuthorProfileSlug","filament/api/contentSites/getPublishedContentCustomsByCustomTypeAndSlug","filament/api/contentSites/getPublishedContentItemsBySlug","filament/api/contentSites/getPublishedItems","filament/api/contentSites/getPublishedItemsByBlocks","filament/api/contentSites/getPublishedItemsByBlocksAndTime","filament/api/contentSites/getPublishedItemsByRichTermAndType","filament/api/contentSites/getPublishedItemsByQueryTemplate","filament/api/contentSites/getPublishedProducts","filament/api/contentSites/getPublishedProductsBySlug","filament/api/contentSites/getPublishedProductsByTagAndVocabulary","filament/api/contentSites/getPublishedWithBlockItemsByBlocks","filament/api/contentSites/getPublishedWithBlockItemsByBlocksAndTime","filament/api/contentSites/getRecentlyMentionedProducts","filament/api/contentSites/getSections","filament/api/contentSites/getTags","filament/api/contentSites/startPhotoUpload","filament/api/contentSites/getContentArticleSitemapEntries","filament/api/contentSites/getContentArticleSitemapEntriesByYear","filament/api/contentSites/getSectionSitemapEntries","filament/api/contentSites/getContentTagSitemapEntries","filament/api/contentSites/getContentUserProfileSitemapEntries","filament/api/contentSites/getContentProductSitemapEntries","filament/api/contentSites/getTrendingContentArticlesByAlgo","filament/api/contentTags/get","filament/api/contentUserProfiles/get","filament/api/contentUserProfiles/post","filament/api/contentUserProfiles/put","filament/api/contentCustoms/getPublishedRelatedContent"],function(buildNgApiService){var operations=Array.prototype.slice.call(arguments,1);
return buildNgApiService(operations)}),define("phxCore/services/Augment",[],function(){return["$q","Config","$timeout","blvTmlProcessor","phxApiClient","flmContentPhotoFetcher","flmContentProductFetcher","flmContentPersonFetcher","phxUtil","phxRoute","cstLogger",function($q,Config,$timeout,blvTmlProcessor,phxApiClient,flmContentPhotoFetcher,flmContentProductFetcher,flmContentPersonFetcher,phxUtil,phxRoute,cstLogger){var Augment=function(augmentSettings){this.settings=augmentSettings};return Augment.prototype={applyDefaultAugmentOptions:function(options){options=options||{};var output={};if(options)for(var p in options)output[p]=options[p];return this.settings.optional&&angular.forEach(this.settings.optional,function(v,k){k in output||(output[k]=v["default"])}),this.settings.settings&&angular.forEach(this.settings.settings,function(v,k){k in output||(output[k]=v["default"])}),this.settings.compileTml&&void 0===options.compileTml&&(output.compileTml=this.settings.settings.compileTml?this.settings.settings.compileTml["default"]:!1),output},augment:function(item,options,fromArray){options=this.applyDefaultAugmentOptions(options);var promises={},myself=this;if(this.settings.relativeUrlBySlug){var args={};args[this.settings.relativeUrlBySlug.routeParam||"slug"]=item.slug;var kw=this.settings.relativeUrlBySlug.routeKeyword;if(angular.isFunction(kw)&&(kw=kw(item)),!kw)throw new Error("cannot build the url: no route keyword");var routePath=phxRoute.pathByKeyword(kw);if(routePath)item.relativeUrl=phxUtil.makePath(routePath,args);else{if(!this.settings.relativeUrlBySlug.optional)throw new Error("cannot build the url: no route found for "+kw);item.relativeUrl=null}}if(this.settings.always&&this.settings.always(item,options),this.settings.optional&&angular.forEach(this.settings.optional,function(v,k){if(options[k]){var promise,id;v.id&&(id=angular.isFunction(v.id)?v.id(item):item[v.id]),v.populate?v.populate(item,options):v.fetch?(!v.id||id)&&(promise=v.fetch(item,options)):v.fetcher&&v.id&&id&&(promise=v.fetcher.getObjectPromise(id)),promise&&(promise.then(function(fetched){v.target&&(item[v.target]=fetched),v.postResolve&&v.postResolve(item,fetched,options);var opts={};v.postResolveAugmentOptions&&(opts=v.postResolveAugmentOptions(options)),v.postResolveAugment&&!fromArray&&v.postResolveAugment.augment(fetched,opts),v.postResolveAugmentMany&&fetched.entries&&!fromArray&&v.postResolveAugmentMany.augmentArray(fetched.entries,opts)}),promises[k]=promises[k]||[],promises[k].push(promise))}}),this.settings.compileTml&&options.compileTml&&angular.forEach(this.settings.compileTml,function(value){promises.tml=[];var tmlString=item[value.source],embedPromise=myself._preloadEmbeds(tmlString);promises.tml.push(embedPromise);var tmlResult=blvTmlProcessor.compileWithPromise(tmlString);item[value.target]=tmlResult.domObject,value.registryTarget&&(item[value.registryTarget]=tmlResult.registry);var timeout=$timeout(function(){$timeout.cancel(timeout),item[value.target].find("a").each(function(){try{phxUtil.isExternalLink(this.href)&&angular.element(this).attr("target","_blank")}catch(err){cstLogger.error("Error attempting to inspect href for "+item.id)}})});embedPromise.then(function(){var callback=value.callback;callback&&callback()})}),fromArray)return promises;var allPromises=[];angular.forEach(promises,function(v){allPromises=allPromises.concat(v)});var all=$q.all(allPromises);return options.viewMeta&&this.settings.viewMeta&&(myself=this,all.then(function(){item._viewMeta=myself.settings.viewMeta(item)})),all},augmentArray:function(items,options){var i,id,item,myself=this,promises={},fetchers=[],fetchIds=[],seenItemIds={};if(options=this.applyDefaultAugmentOptions(options),this.settings.optional){for(angular.forEach(this.settings.optional,function(v,k){if(options[k]&&v.fetcher&&v.id){for(var fetcherI,seen=!1,i=0;i<fetchers.length;i++)if(v.fetcher===fetchers[i]){seen=!0,fetcherI=i;break}seen||(fetcherI=fetchers.length,fetchers.push(v.fetcher),fetchIds.push([]));var ids=[];for(i=0;i<items.length;i++)item=items[i],angular.isFunction(v.id)?(id=v.id(item),id&&ids.push(id)):item[v.id]&&ids.push(item[v.id]);ids.length&&(fetchIds[fetcherI]=fetchIds[fetcherI].concat(ids))}}),i=0;i<fetchers.length;i++)fetchers[i].fetchMultiObjects(fetchIds[i]);for(i=0;i<items.length;i++)if(item=items[i],!seenItemIds[item.id]){seenItemIds[item.id]=!0;var itemPromises=myself.augment(item,options,!0);itemPromises&&angular.forEach(this.settings.optional,function(v,k){itemPromises[k]&&(promises[k]=promises[k]||[],promises[k]=promises[k].concat(itemPromises[k]))})}angular.forEach(this.settings.optional,function(v,k){promises[k]&&v.postResolveAugment&&$q.all(promises[k]).then(function(fetched){v.postResolveAugment.augmentArray(fetched,v.postResolveAugmentOptions(options))})})}else for(seenItemIds={},i=0;i<items.length;i++)item=items[i],seenItemIds[item.id]||(seenItemIds[item.id]=!0,myself.augment(item,options,!0));var allPromises=[];return angular.forEach(promises,function(v){allPromises=allPromises.concat(v)}),$q.all(allPromises)},augmentStreamerArray:function(streamer,itemIndex,options){for(var newItems=[],i=itemIndex;i<streamer.items.length;i++)newItems.push(streamer.items[i]);return this.augmentArray(newItems,options)},_fillFetcherCache:function(fetcher,apiObjects){if(0!==apiObjects.length){var hash={};angular.forEach(apiObjects,function(o){hash[o.id]=o}),fetcher.fillPromiseCache(hash)}},_extractIds:function(tmlString,attrName){var tmlobjects=angular.element("<div>"+tmlString+"</div>").find("["+attrName+"]"),tmlobjectIds=[];return angular.forEach(tmlobjects,function(tmlobject){tmlobjectIds.push(angular.element(tmlobject).attr(attrName))}),tmlobjectIds},_preloadEmbeds:function(tmlString){var fetcherPromises=[],tmlImageIds=this._extractIds(tmlString,"tml-image");tmlImageIds.length>0&&fetcherPromises.push(flmContentPhotoFetcher.fetchMultiObjects(tmlImageIds));var tmlProductIds=this._extractIds(tmlString,"tml-product");tmlProductIds.length>0&&fetcherPromises.push(flmContentProductFetcher.fetchMultiObjects(tmlProductIds));var tmlPersonIds=this._extractIds(tmlString,"tml-person");return tmlPersonIds.length>0&&fetcherPromises.push(flmContentPersonFetcher.fetchMultiObjects(tmlPersonIds)),$q.all(fetcherPromises)}},Augment}]}),define("phxCore/services/AugmentCustom",[],function(){return["phxUtil","phxRoute","Augment",function(phxUtil,phxRoute,Augment){var AugmentCustom=function(augmentSettings){Augment.call(this,augmentSettings)};return AugmentCustom.prototype=Object.create(Augment.prototype),AugmentCustom.prototype.constructor=AugmentCustom,AugmentCustom}]}),define("phxCore/services/phxAnimation",[],function(){return["$rootScope","$q","$timeout",function($rootScope,$q,$timeout){function animationStarted(){0===numAnimations&&(realDigest=$rootScope.__proto__.$digest,$rootScope.__proto__.$digest=function(){},$("body").css("pointer-events","none")),numAnimations++}function animationEnded(){numAnimations--,0>=numAnimations&&(numAnimations=0,$("body").css("pointer-events","auto"),$rootScope.__proto__.$digest=realDigest,$rootScope.$digest())}var realDigest,numAnimations=0;return{runAnimation:function(){var args=Array.prototype.slice.call(arguments),animationFn=args.shift(),deferred=$q.defer(),doneCallback=function(){animationEnded(),deferred.resolve(!0)};return args.push(doneCallback),$timeout(function(){animationStarted(),animationFn.apply(null,args)},0,!1),deferred.promise}}}]}),define("phxCore/services/phxAugmentArticle",[],function(){return["$filter","Config","phxUtil","phxRoute","Augment","flmContentSectionFetcher","flmContentUserProfileFetcher","flmContentPhotoFetcher","phxAugmentUserProfile","phxAugmentRichTerm","blvCloudinaryResolver","phxCards","phxApiClient","phxSocialStatsFetcher","phxSocial",function($filter,Config,phxUtil,phxRoute,Augment,flmContentSectionFetcher,flmContentUserProfileFetcher,flmContentPhotoFetcher,phxAugmentUserProfile,phxAugmentRichTerm,blvCloudinaryResolver,phxCards,phxApiClient,phxSocialStatsFetcher,phxSocial){var df=$filter("date"),getRelativeUrl=function(article){return phxUtil.makePath(phxRoute.pathByKeyword("articleDetail"),{section:article.sectionKey,slug:article.slug,year:df(article.publicationTimestamp,"yyyy"),month:df(article.publicationTimestamp,"MM"),day:df(article.publicationTimestamp,"dd")})},getSectionRelativeUrl=function(article){return phxUtil.makePath(phxRoute.pathByKeyword("sectionHub"),{section:article.sectionKey})},extractTagClasses=function(tags){var tagClasses=[];return angular.forEach(tags,function(tag){var vocabularyName=tag.vocabularyId.split(":")[1];tagClasses.push(vocabularyName+"-"+tag.tagKey)}),tagClasses},getTermNameList=function(tags){var tagNames=[];return angular.forEach(tags,function(tag){tagNames.push(tag.displayName)}),tagNames},augmentSettings={always:function(article,options){article.displayTitle=options.displayPromoTitle&&article.promoTitle?article.promoTitle:article.title,article.tagClasses=extractTagClasses(article.tags),article.relativeUrl=getRelativeUrl(article),article.sectionRelativeUrl=getSectionRelativeUrl(article),article.publicationTimestampFormatted=df(article.publicationTimestamp,"medium"),article.publicationTimestampDatetime=df(article.publicationTimestamp,"yyyy-MM-ddTHH:mm")},viewMeta:function(article){var meta={contentItemId:article.id,title:article.title,description:article.metaDescription||article.teaser||"Read "+article.title,socialSharingImageId:article.primaryImageId,promoImageId:article.primaryImageId,openGraphType:"article",canonicalPath:article.relativeUrl,canonicalUrl:article.canonicalUrl,robots:article.isNoindex?"noindex":null,sectionKey:article.sectionKey,keywords:getTermNameList(article.tags),publishDatetimeISO8601:df(article.publicationTimestamp,"yyyy-MM-ddTHH:mm:ss:Z"),contentNodeId:article.contentNodeId,objectType:article.objectType};return article.hasOwnProperty("associatedRichTerms")&&(meta.keywords=meta.keywords.concat(getTermNameList(article.associatedRichTerms.entries))),article.hasOwnProperty("author")&&(meta.authorName=article.author.displayName,meta.authorTwitterUsername=article.author.twitterUsername),meta},optional:{loadAssociatedRichTerms:{"default":!1,fetch:function(article){return phxApiClient.anon.contentItems.getAssociatedRichTerms(article.id)},postResolveAugmentMany:phxAugmentRichTerm,postResolveAugmentOptions:function(){return{loadPrimaryImage:!1}},target:"associatedRichTerms"},loadSection:{"default":!1,fetcher:flmContentSectionFetcher,id:function(article){return article.sectionKey?Config.siteId+":"+article.sectionKey:null},target:"section"},loadAuthor:{"default":!1,fetcher:flmContentUserProfileFetcher,id:"authorProfileId",target:"author",postResolve:function(article,author,options){author&&options.setupDisqus&&(article.disqusTitle=article.displayTitle+" - by "+author.displayName,article.disqusIdentifier=article.disqusId)},postResolveAugment:phxAugmentUserProfile,postResolveAugmentOptions:function(options){return{loadPhoto:options.loadAuthorPhoto,cloudinaryOptions:options.authorCloudinaryOptions}}},loadFreshSocial:{"default":!0,fetcher:phxSocialStatsFetcher,id:function(article){return phxSocial.isFresh(article.publicationTimestamp)?article.contentNodeId:void 0},postResolve:function(article,stats){article.socialProof=phxSocial.buildSocialProof(stats)}},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadFeaturedImage:{"default":!1,target:"featuredImage",fetcher:flmContentPhotoFetcher,id:function(article){return"feature"===article.presentationTypeCode&&article.featuredImageId?article.featuredImageId:void 0}},makeTagUrls:{"default":!1,populate:function(article){angular.forEach(article.tags,function(tag){tag.relativeUrl=phxUtil.makePath(phxRoute.pathByKeyword("tagHub"),{tag:tag.tagKey})})}},setupDisqus:{"default":!1,populate:function(article){article.disqusTitle=article.displayTitle,article.disqusIdentifier=article.disqusId}},prepareSocialProof:{"default":!0,populate:function(article){article.socialStats&&(article.socialProof=phxSocial.buildSocialProof(article.socialStats))}}},settings:{loadAuthorPhoto:{"default":!1},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:630,height:380}},compileTml:{"default":!1},authorCloudinaryOptions:{"default":{crop:"fill",height:60,width:60,gravity:"face"}}},compileTml:{loadBodyTml:{source:"bodyTml",target:"processedBodyTml"}}},augment=new Augment(augmentSettings);return augment.getRelativeUrl=getRelativeUrl,augment}]}),define("phxCore/services/phxAugmentBasicPage",[],function(){return["AugmentCustom","flmContentPhotoFetcher","flmContentUserProfileFetcher","phxAugmentUserProfile",function(AugmentCustom,flmContentPhotoFetcher,flmContentUserProfileFetcher){var augmentSettings={relativeUrlBySlug:{routeKeyword:"contentBasicPageDetail"},always:function(page,options){page.displayTitle=options.displayPromoTitle&&page.promoTitle?page.promoTitle:page.title,options.useBodyForDefaultTeaser&&!page.teaser&&(page.teaser=angular.element("<div>"+page.bodyTml.replace(/<\/?p>/g," ")+"</div>").text())},optional:{loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadAuthor:{"default":!0,fetcher:flmContentUserProfileFetcher,id:"authorProfileId",target:"author"}},compileTml:{loadBodyTml:{source:"bodyTml",target:"processedBodyTml"}},viewMeta:function(page){return{title:page.title,description:page.title+" page",canonicalPath:page.relativeUrl,canonicalUrl:page.canonicalUrl,robots:page.isNoindex?"noindex":null,contentItemId:page.id,contentNodeId:page.contentNodeId,objectType:page.objectType}},settings:{compileTml:{"default":!1},useBodyForDefaultTeaser:{"default":!0}}};return new AugmentCustom(augmentSettings)}]}),define("phxCore/services/phxAugmentEmbed",[],function(){return["AugmentCustom","flmContentPhotoFetcher","blvCloudinaryResolver","$filter","phxUtil","phxRoute",function(AugmentCustom,flmContentPhotoFetcher,blvCloudinaryResolver,$filter,phxUtil,phxRoute){var df=$filter("date"),getSectionRelativeUrl=function(article){return phxUtil.makePath(phxRoute.pathByKeyword("sectionHub"),{section:article.sectionKey})},augmentSettings={always:function(embed,options){options.sectionKey&&(embed.sectionKey=options.sectionKey),embed.sectionRelativeUrl=getSectionRelativeUrl(embed),embed.publicationTimestampDatetime=df(embed.publicationTimestamp,"yyyy-MM-ddTHH:mm")},optional:{loadPrimaryImage:{"default":!0,fetch:function(reference,options){var cloudinaryOptions=options.cloudinaryOptions;return angular.isFunction(cloudinaryOptions)&&(cloudinaryOptions=cloudinaryOptions(reference)),blvCloudinaryResolver.getCloudinaryUrlById(reference.primaryImageId,cloudinaryOptions)},target:"primaryImageUrl",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:1290,height:350}}}};return new AugmentCustom(augmentSettings)}]}),define("phxCore/services/phxAugmentPerson",[],function(){return["AugmentCustom","flmContentPhotoFetcher","blvCloudinaryResolver","phxUtil","phxRoute","Config","$filter","$rootScope","phxSocial","phxSocialStatsFetcher",function(AugmentCustom,flmContentPhotoFetcher,blvCloudinaryResolver,phxUtil,phxRoute,Config,$filter,$rootScope,phxSocial,phxSocialStatsFetcher){var augmentSettings={relativeUrlBySlug:{routeKeyword:"contentPersonDetail"},always:function(person,options){person.displayTitle=options.displayPromoTitle&&person.promoTitle?person.promoTitle:person.title;for(var richTerms=[],l=options.richTermsList.length,i=0;l>i;i++){var term=person[options.richTermsList[i]];term&&(Array.isArray(term)?richTerms=richTerms.concat(term.map(phxUtil.makeRichTermRelativeUrl,phxUtil)):richTerms.push(phxUtil.makeRichTermRelativeUrl(term)))}person.richTerms=richTerms;var jobTitles=[];if(person.occupations)for(var occs=$filter("phxDedupeRichTerms")(person.occupations),j=0,k=occs.length;k>j;j++)occs[j].displayName&&jobTitles.push(occs[j].displayName);person.jobTitles=jobTitles.join(", ")},viewMeta:function(person){return{title:person.title+" - "+Config.people.detailHtmlTitle+" - "+person.jobTitles,description:person.metaDescription||person.teaser||person.bestKnownFor||"See "+person.title+" at "+Config.siteName,keywords:person.metaKeywords,promoImageId:person.primaryImageId,socialSharingImageId:person.primaryImageId,canonicalPath:person.relativeUrl,canonicalUrl:person.canonicalUrl,robots:person.isNoindex?"noindex":null,contentNodeId:person.contentNodeId,contentItemId:person.id,objectType:person.objectType}},optional:{loadPrimaryImage:{"default":!0,fetch:function(person,options){var cloudinaryOptions=options.cloudinaryOptions;return angular.isFunction(cloudinaryOptions)&&(cloudinaryOptions=cloudinaryOptions(person)),blvCloudinaryResolver.getCloudinaryUrlById(person.primaryImageId,cloudinaryOptions)},target:"primaryImageUrl",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:300,height:300}},loadFreshSocial:{"default":!0,fetcher:phxSocialStatsFetcher,id:function(person){return phxSocial.isFresh(person.publicationTimestamp)?person.id:void 0},postResolve:function(person,stats){person.socialProof=phxSocial.buildSocialProof(stats)}},prepareSocialProof:{"default":!0,populate:function(person){person.socialStats&&(person.socialProof=phxSocial.buildSocialProof(person.socialStats))}}},compileTml:{loadPersonTml:{source:"profileTml",target:"processedProfileTml",registryTarget:"mainTmlRegistry"}},settings:{compileTml:{"default":!1},richTermsList:{"default":["affiliations","astrologicalSign","birthCity","birthCountry","birthMonthDay","birthState","birthYear","culturalAssociations","deathCity","deathCountry","deathMonthDay","deathState","deathYear","firstName","groups","industries","lastName","lifeEvents","nationalities","occupations","schools"]}}};return new AugmentCustom(augmentSettings)}]}),define("phxCore/services/phxAugmentProduct",[],function(){return["$filter","Config","phxUtil","phxRoute","Augment","phxAugmentArticle","flmContentTagFetcher","flmContentUserProfileFetcher","flmContentPhotoFetcher","blvCloudinaryResolver","$q",function($filter,Config,phxUtil,phxRoute,Augment,phxAugmentArticle,flmContentTagFetcher,flmContentUserProfileFetcher,flmContentPhotoFetcher,blvCloudinaryResolver,$q){var tagId=function(vocabulary,key){return Config.siteId+":"+vocabulary+":"+key},MAX_QUOTES=4,augmentSettings={relativeUrlBySlug:{routeKeyword:"productDetail"},optional:{loadPrimaryImage:{"default":!0,fetch:function(product,options){var cloudinaryOptions=options.cloudinaryOptions;return angular.isFunction(cloudinaryOptions)&&(cloudinaryOptions=cloudinaryOptions(product)),blvCloudinaryResolver.getCloudinaryUrlById(product.primaryImageId,cloudinaryOptions)},target:"primaryImageUrl",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadBrand:{"default":!0,fetcher:flmContentTagFetcher,id:function(product){return tagId("brands",product.brand)},postResolve:function(product,tag,options){tag&&(product.brandDisplayName=tag.displayName,options.displayTitleWithBrand&&(product.brandDisplayName+=" "+product.promoTitle))}},displayTitleWithBrand:{"default":!1},loadRetailers:{"default":!1,populate:function(product){var ids=[];if(angular.forEach(product.retailers,function(retailer){ids.push(tagId("retailers",retailer.name))}),ids.length){var promises=flmContentTagFetcher.getMultiObjectPromises(ids);$q.all(promises).then(function(tags){for(var i=0;i<product.retailers.length;i++)product.retailers[i].displayName=tags[ids[i]].displayName})}}},prepareQuotes:{"default":!1,populate:function(product){if(product.hasOwnProperty("quotes")&&product.quotes){for(var display=[],summaries=[],i=0;i<product.quotes.length&&(!product.quotes[i].quoteText||!product.quotes[i].summary||(display.push(product.quotes[i]),summaries.push(product.quotes[i].summary),display.length!==MAX_QUOTES));i++);product.quotes=display,phxAugmentArticle.augmentArray(summaries,{loadAuthor:!0,loadAuthorPhoto:!0,authorCloudinaryOptions:{crop:"fill",height:60,width:60,gravity:"face"}})}}},setupDisqus:{"default":!1,populate:function(product){product.disqusTitle=product.title,product.disqusIdentifier=product.id}}},settings:{cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:630,height:380}},compileTml:{"default":!1}},viewMeta:function(product){return{title:product.title,canonicalPath:product.relativeUrl,contentItemId:product.id,contentNodeId:product.contentNodeId,objectType:product.objectType}},compileTml:{loadDescriptionTml:{source:"descriptionTml",target:"processedDescriptionTml"}}};return new Augment(augmentSettings)}]}),define("phxCore/services/phxAugmentRecipe",[],function(){return["AugmentCustom","flmContentPhotoFetcher","flmContentUserProfileFetcher","phxSocial","blvCloudinaryResolver","phxUtil","phxRoute","Config","$filter","$rootScope","phxAugmentUserProfile","phxAugmentRichTerm","phxApiClient","phxSocialStatsFetcher",function(AugmentCustom,flmContentPhotoFetcher,flmContentUserProfileFetcher,phxSocial,blvCloudinaryResolver,phxUtil,phxRoute,Config,$filter,$rootScope,phxAugmentUserProfile,phxAugmentRichTerm,phxApiClient,phxSocialStatsFetcher){var df=$filter("date"),makePropertiesList=function(recipe){for(var expectedProperties=[{key:"duration",display:"Duration",type:"time",itemprop:"totalTime"},{key:"cookTime",display:"Cook Time",type:"time",itemprop:"cookTime"},{key:"prepTime",display:"Prep Time",type:"time",itemprop:"prepTime"},{key:"servingSizeDescription",display:"",type:"string",itemprop:"recipeYield"}],properties=[],i=0;i<expectedProperties.length;i++)if(recipe[expectedProperties[i].key]){var pname=expectedProperties[i].key;expectedProperties[i].value=recipe[pname],properties.push(expectedProperties[i])}return properties},augmentSettings={relativeUrlBySlug:{routeKeyword:"contentRecipeDetail"},always:function(recipe,options){recipe.displayTitle=options.displayPromoTitle&&recipe.promoTitle?recipe.promoTitle:recipe.title,options.useBodyForDefaultTeaser&&!recipe.primaryImageId&&!recipe.teaser&&recipe.narrativeTml&&(recipe.teaser=angular.element("<div>"+recipe.narrativeTml.replace(/<\/?p>/g," ")+"</div>").text()),recipe.properties=[],recipe.properties=makePropertiesList(recipe),recipe.publicationTimestampDatetime=df(recipe.publicationTimestamp,"yyyy-MM-ddTHH:mm")},viewMeta:function(recipe){return{title:recipe.title,description:recipe.metaDescription||recipe.teaser,keywords:recipe.metaKeywords,promoImageId:recipe.primaryImageId,socialSharingImageId:recipe.primaryImageId,canonicalPath:recipe.relativeUrl,canonicalUrl:recipe.canonicalUrl,robots:recipe.isNoindex?"noindex":null,contentItemId:recipe.id,contentNodeId:recipe.contentNodeId,objectType:recipe.objectType}},optional:{loadAssociatedRichTerms:{"default":!1,fetch:function(recipe){return phxApiClient.anon.contentItems.getAssociatedRichTerms(recipe.id)},postResolveAugmentMany:phxAugmentRichTerm,postResolveAugmentOptions:function(){return{loadPrimaryImage:!1}},target:"associatedRichTerms"},loadAuthor:{"default":!1,fetcher:flmContentUserProfileFetcher,id:"authorProfileId",target:"author",postResolve:function(article,author,options){author&&options.setupDisqus&&(article.disqusTitle=article.displayTitle+" - by "+author.displayName,article.disqusIdentifier=article.disqusId)},postResolveAugment:phxAugmentUserProfile,postResolveAugmentOptions:function(options){return{loadPhoto:options.loadAuthorPhoto,cloudinaryOptions:options.authorCloudinaryOptions}}},loadFreshSocial:{"default":!0,fetcher:phxSocialStatsFetcher,id:function(recipe){return phxSocial.isFresh(recipe.publicationTimestamp)?recipe.id:void 0},postResolve:function(recipe,stats){recipe.socialProof=phxSocial.buildSocialProof(stats)}},prepareSocialProof:{"default":!0,populate:function(recipe){recipe.socialStats&&(recipe.socialProof=phxSocial.buildSocialProof(recipe.socialStats))}},loadPrimaryImage:{"default":!0,fetch:function(recipe,options){var cloudinaryOptions=options.cloudinaryOptions;return angular.isFunction(cloudinaryOptions)&&(cloudinaryOptions=cloudinaryOptions(recipe)),blvCloudinaryResolver.getCloudinaryUrlById(recipe.primaryImageId,cloudinaryOptions)},target:"primaryImageUrl",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:300,height:300}}},compileTml:{loadNarrativeTml:{source:"narrativeTml",target:"processedNarrativeTml"},loadInstructionsTml:{source:"instructionsTml",target:"processedInstructionsTml"}},settings:{authorCloudinaryOptions:{"default":{crop:"fill",gravity:"face",height:60,width:60}},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:630,height:380}},compileTml:{"default":!1},loadAuthorPhoto:{"default":!0},richTermsList:{"default":["cookingStyle","dietaryNotes","mealType","terms"]},useBodyForDefaultTeaser:{"default":!0}}};return new AugmentCustom(augmentSettings)}]}),define("phxCore/services/phxAugmentReference",[],function(){return["AugmentCustom","flmContentPhotoFetcher","blvCloudinaryResolver",function(AugmentCustom,flmContentPhotoFetcher,blvCloudinaryResolver){var augmentSettings={always:function(reference,options){reference.displayTitle=options.displayPromoTitle&&reference.promoTitle?reference.promoTitle:reference.title},optional:{loadPrimaryImage:{"default":!0,fetch:function(reference,options){var cloudinaryOptions=options.cloudinaryOptions;return angular.isFunction(cloudinaryOptions)&&(cloudinaryOptions=cloudinaryOptions(reference)),blvCloudinaryResolver.getCloudinaryUrlById(reference.primaryImageId,cloudinaryOptions)},target:"primaryImageUrl",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:1290,height:350}}}};return new AugmentCustom(augmentSettings)}]}),define("phxCore/services/phxAugmentRichTerm",[],function(){return["AugmentCustom","flmContentPhotoFetcher","blvCloudinaryResolver","phxRoute",function(AugmentCustom,flmContentPhotoFetcher,blvCloudinaryResolver,phxRoute){var augmentSettings={relativeUrlBySlug:{routeKeyword:function(richTerm){var vocabKey=richTerm.vocabularyId.split(":")[1],route=phxRoute.pathByKeyword(vocabKey+"Detail");return route?vocabKey+"Detail":"richTermDetail"},optional:!0},always:function(richTerm,options){richTerm.displayTitle=options.displayPromoTitle&&richTerm.promoTitle?richTerm.promoTitle:richTerm.title},optional:{loadPrimaryImage:{"default":!0,fetch:function(richTerm,options){var cloudinaryOptions=options.cloudinaryOptions;return angular.isFunction(cloudinaryOptions)&&(cloudinaryOptions=cloudinaryOptions(richTerm)),blvCloudinaryResolver.getCloudinaryUrlById(richTerm.primaryImageId,cloudinaryOptions)},target:"primaryImageUrl",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetcher:flmContentPhotoFetcher,id:"primaryImageId"},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:1290,height:350}}},compileTml:{loadOverviewTml:{source:"overviewTml",target:"processedOverviewTml"}},viewMeta:function(richTerm){return{title:richTerm.displayTitle,description:richTerm.metaDescription||richTerm.teaser||"Take a look at "+richTerm.title,promoImageId:richTerm.primaryImageId,socialSharingImageId:richTerm.primaryImageId,canonicalPath:richTerm.relativeUrl,canonicalUrl:richTerm.canonicalUrl,robots:richTerm.isNoindex?"noindex":null,contentItemId:richTerm.id,contentNodeId:richTerm.contentNodeId,objectType:richTerm.objectType}},settings:{compileTml:{"default":!1}}};return new AugmentCustom(augmentSettings)}]}),define("phxCore/services/phxAugmentUserProfile",[],function(){return["phxUtil","phxRoute","Augment","flmContentPhotoFetcher","blvCloudinaryResolver",function(phxUtil,phxRoute,Augment,flmContentPhotoFetcher){var augmentSettings={relativeUrlBySlug:{routeKeyword:"authorHub",routeParam:"author"},viewMeta:function(profile){return{title:"Articles by "+profile.displayName,description:"Articles by "+profile.displayName,openGraphType:"profile",authorName:profile.displayName,canonicalPath:profile.relativeUrl,contentItemId:profile.id,contentNodeId:profile.contentNodeId,objectType:profile.objectType}},optional:{loadPhoto:{"default":!1,target:"photo",fetcher:flmContentPhotoFetcher,id:"photoId"},cloudinaryOptions:{"default":{crop:"fill",width:600,gravity:"face",height:380}}},settings:{compileTml:{"default":!1}}};return new Augment(augmentSettings)}]}),define("phxCore/services/phxAugmentVideo",[],function(){return["AugmentCustom","phxTheplatformVideoService","$q",function(AugmentCustom,phxTheplatformVideoService,$q){var _augment=function(item,feed){if(!feed)return item.id=null,item.title="Sorry!",item.rating="N/A",item.duration="00:00:00",item.teaser="Unable to display this video.",void(item.primaryImageUrl="/site/images/bio-video-opt.jpg");var vars={teaser:feed[0].display.sdescs,title:feed[0].display.title,duration:feed[0].display.duration,rating:feed[0].display.rating,primaryImageUrl:feed[0].display.image?feed[0].display.image.url:"/site/images/bio-video-opt.jpg",contentUrl:feed[0].videoURLs.releaseURL,thumbnailUrl:feed[0].display.thumbnail,uploadDate:new Date(feed[0].display.addedTimestamp).toISOString(),contentRating:feed[0].display.rating};feed[0].display.image&&angular.extend(vars,{videoStill:feed[0].display.image.url}),angular.extend(item,vars)},augmentSettings={optional:{loadVideo:{"default":!0,target:"playList",fetch:function(item){var deferred=$q.defer();return item.showPlayer=!0,item.feedItem?(_augment(item,[item.feedItem]),deferred.resolve([item.feedItem])):phxTheplatformVideoService.getVideoFeedById(item.id).then(function(feed){_augment(item,feed),deferred.resolve(feed)}),deferred.promise}}}};return new AugmentCustom(augmentSettings)}]}),define("delivery/deferred",[],function(){return function(object,methodName){var queue=[],queuer=function(){queue.push(arguments)};queuer.implement=function(implementation){for(var i=0;i<queue.length;i++)implementation.apply(object,queue[i]);object[methodName]=implementation},object[methodName]=queuer}}),define("delivery/beacons",["delivery/deferred"],function(){function Beacon(loader,log,base){var enabled=!1;"undefined"!=typeof base&&(enabled=!0,"/"!==base[base.length-1]&&(base+="/"),/\w*:\/\//.test(base)||(base="//"+base)),this.send=function(name,rid,parameters){if(enabled){log.debug(name+": "+rid);var now=new Date;if("undefined"==typeof parameters&&(parameters={}),"string"!=typeof rid||!/^[0-9a-fA-F_]+$/.test(rid.slice(rid.search("_")+1,rid.length))){var message="beacon.send(name, rid) rid must be a hexadecimal string";throw log.error(message),new Error(message)}parameters.rid=rid,parameters.curtime=now.getTime(),parameters.curtz=now.getTimezoneOffset();var querylist=[];parsing:for(var key in parameters){var value=parameters[key];switch(typeof value){case"number":case"boolean":case"string":querylist.push(escape(key)+"="+escape(value));continue parsing;case"object":if(value.constructor===Array){for(var i=0;i<value.length;i++)querylist.push(escape(key)+"="+escape(value));continue parsing}break;default:log.debug("parameter "+key+" for beacon "+name+" is of unknown type: "+typeof value)}}loader.fireRequest(base+name+"?"+querylist.join("&"))}},this.exception=function(){}}return Beacon}),define("delivery/ready",[],function(){function ReadyHandler(){var ready=!1,callbacks=[];document.readyState in{complete:!0,interactive:!0}&&(ready=!0);var handleReady=function(){for(ready=!0;callbacks.length>0;)callbacks.shift()()};document.addEventListener?(document.addEventListener("DOMContentLoaded",handleReady,!1),window.addEventListener("load",handleReady,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",handleReady,!1),window.attachEvent("onload",handleReady)),this.ready=function(callback){ready?callback():callbacks.push(callback)
}}return function(){var readyHandler=new ReadyHandler;return function(callback){readyHandler.ready(callback)}}()}),define("delivery/loader",["delivery/ready"],function(ready){function Loader(pixel,log){function buildTag(src,nonDestructive,callback){var script=document.createElement("script");script.setAttribute("src",src),script.setAttribute("type","text/javascript"),script.sayUsed=!0;var dispatch=function(){"undefined"!=typeof callback&&callback.call(this,arguments),script.onreadystatechange=null,script.onload=null,nonDestructive||script.parentNode.removeChild(script)};return script.onload=dispatch,script.onreadystatechange=function(){script.readyState in{loaded:1,complete:1}&&dispatch.call(this,arguments)},script}var head,counter=0;ready(function(){head=document.getElementsByTagName("head")[0]}),this.fetch=function(url){var request;return window.XMLHttpRequest?request=new XMLHttpRequest:window.ActiveXObject&&(request=new ActiveXObject("Microsoft.XMLHTTP")),request.open("GET",url,!1),request.send(null),log.debug("loader.fetch("+url+")"),request.responseText},this.fireRequest=function(url){pixel.fireRequest(url)},this.loadScript=function(src,callback){ready(function(){head.appendChild(buildTag(src,0,callback))})},this.jsonp=function(url,callbackName,parameters,callback,timeout){log.debug("loader.jsonp()"),"undefined"==typeof timeout&&(timeout=3e3);var cleanup=function(){delete this[cb]},timerId=window.setTimeout(function(){callback(),cleanup()},timeout),id=counter++,cb="jsonp_"+id;this[cb]=function(){window.clearTimeout(timerId),callback.apply(this,arguments),cleanup()},parameters[callbackName]="loader."+cb;var token="?",query="";for(var key in parameters)query+=token+key+"="+escape(parameters[key]),token="&";log.debug("JSONP: "+url+query),this.loadScript(url+query)},this.insertScript=function(src,target,callback){var script=buildTag(src,1,callback);return target.parentNode.insertBefore(script,target),script},this.appendScript=function(src,target,callback){var script=buildTag(src,1,callback);return target.appendChild(script),script}}return Loader}),define("phxCore/services/phxBeaconClient",["delivery/beacons","delivery/loader"],function(Beacon,Loader){return["cstLogger","cstConfig","phxPixelClient",function(cstLogger,cstConfig,phxPixelClient){return{makeBeaconClient:function(){var pixel=new phxPixelClient,beaconServerUrl=cstConfig.getModuleConfig("phxEventDemux").beaconServerUrl,loader=new Loader(pixel,cstLogger);return new Beacon(loader,cstLogger,beaconServerUrl)}}}]}),define("phxCore/services/phxBlocks",[],function(){return["cstLogger",function(){function _register(key,element){currentBlocks[key]=element,insertionBlocks[key]=element.clone()}function _replace(key,element){currentBlocks.hasOwnProperty(key)&&(currentBlocks[key].replaceWith(element),currentBlocks[key]=element)}function _restore(key){_replace(key,insertionBlocks[key])}function _hasInsertionBlock(key){return currentBlocks.hasOwnProperty(key)}var insertionBlocks={},currentBlocks={};return{register:_register,replace:_replace,restore:_restore,hasInsertionBlock:_hasInsertionBlock}}]}),define("phxCore/services/phxBreakouts",[],function(){return["$window","$timeout","$rootScope","$log","phxUtil","phxCategorizr",function($window,$timeout,$rootScope,$log,phxUtil,phxCategorizr){var _flows=[],_dams=[],_bounds=null,damPadding=0,flowPadding=0,drawDebugBoxes=!1,stats={processBreakoutsCalled:0,processBreakoutsExecuted:0,timeSpent:0},_registerFlow=function(element,pad){var e=angular.element(element);pad&&e.data("padding",pad),e.length&&_flows.push(e)},_registerDam=function(element,pad){var e=angular.element(element);pad&&e.data("padding",pad),e.length&&_dams.push(e)},_registerBounds=function(element){var e=angular.element(element);e.length&&(_bounds=e)},_unregisterFlow=function(element){var e=angular.element(element);e.length&&_flows.indexOf(e)&&_flows.splice(_flows.indexOf(e),1)},_unregisterDam=function(element){var e=angular.element(element);e.length&&-1!==_dams.indexOf(e)&&_dams.splice(_dams.indexOf(e),1)},_unregisterBounds=function(element){var e=angular.element(element);e.length&&(_bounds=null)},_reset=function(){_dams=[],_flows=[]},_removeItem=function(e){var thisChild=e;thisChild&&thisChild.parentNode&&thisChild.parentNode.removeChild(thisChild)},_skipItem=function(bounds){return 0===bounds.width||0===bounds.height?!0:!1},_compareTop=function(a,b){return a.bounds.top<b.bounds.top?-1:a.bounds.top>b.bounds.top?1:0},_getBounds=function(e){var b=e.getBoundingClientRect(),br={};return br.top=b.top+window.pageYOffset,br.bottom=b.bottom+window.pageYOffset,br.left=b.left+window.pageXOffset,br.right=b.right+window.pageXOffset,br.height=b.height,br.width=b.width,br},_doElementsCross=function(breakout,block){var padding=0;return damPadding&&(padding+=damPadding),flowPadding&&(padding+=flowPadding),block.height>=10&&(block.left<=breakout.left&&block.right>=breakout.left||block.left>=breakout.left&&block.right<=breakout.right||block.left<=breakout.right&&block.right>=breakout.right||block.left<=breakout.left&&block.right>=breakout.right)&&(block.top<=breakout.top-padding&&block.bottom>=breakout.top-padding||block.top>=breakout.top-padding&&block.bottom<=breakout.bottom+padding||block.top<=breakout.bottom+padding&&block.bottom>=breakout.bottom+padding||block.top<=breakout.top-padding&&block.bottom>=breakout.bottom+padding)},_loggedProcessBreakouts=function(){stats.processBreakoutsCalled++,_processBreakouts()},_afterNextRepaint=function(cb){var raf=$window.requestAnimationFrame;return raf?function(){raf(function(){raf(cb)})}:cb},_processBreakouts=phxUtil.throttle(_afterNextRepaint(function(){if(!phxCategorizr.isSizeA()){for(var start=new Date,d=0;d<_dams.length;d++)_dams[d].bounds=_getBounds(_dams[d][0]),_dams[d].skip=_skipItem(_dams[d].bounds);for(var f=0;f<_flows.length;f++)_flows[f].data("phxOriginalMarginTop")||_flows[f].data("phxOriginalMarginTop",window.getComputedStyle(_flows[f][0]).marginTop),_flows[f][0].style.marginTop=_flows[f].data("phxOriginalMarginTop"),_flows[f].removeClass("reflow-pre"),_flows[f].removeClass("reflow-post"),_flows[f].bounds=_getBounds(_flows[f][0]),_flows[f].skip=_skipItem(_flows[f].bounds);if(_dams.sort(_compareTop),_flows.sort(_compareTop),_dams.length>0&&_flows.length>0)for(var i in _dams)if(!_dams[i].skip){drawDebugBoxes&&($(_dams[i][0]).addClass("debug-box-red"),$(_dams[i][0]).attr("data-debug",JSON.stringify(_dams[i].bounds)));var breakout=_getBounds(_dams[i][0]);damPadding=_dams[i].attr("phx-breakdancr-padding")?parseInt(_dams[i].attr("phx-breakdancr-padding")):_dams[i].data("padding")?_dams[i].data("padding"):0;for(var j in _flows){drawDebugBoxes&&($(_flows[j][0]).addClass("debug-box-green"),$(_flows[j][0]).attr("data-debug",JSON.stringify(_flows[j].bounds)));var flowStyle=window.getComputedStyle(_flows[j][0]);if("fixed"!==flowStyle.position&&"absolute"!==flowStyle.position&&_flows[j].skip===!1){var block=_getBounds(_flows[j][0]);if(flowPadding=_flows[j].attr("phx-breakdancr-padding")?parseInt(_flows[j].attr("phx-breakdancr-padding")):_flows[j].data("padding")?_flows[j].data("padding"):0,_doElementsCross(breakout,block)){var dY=breakout.bottom-block.top,mTop=flowStyle.marginTop,mBottom=flowStyle.marginBottom,margin=parseInt(dY,10)+parseInt(mTop,10)+parseInt(mBottom,10);_flows[j][0].style.marginTop=parseInt(margin)+parseInt(damPadding)+parseInt(flowPadding)+"px",_flows[j-1]&&!_flows[j-1].skip&&($(_flows[j-1][0]).addClass("reflow-pre"),$(_flows[j][0]).addClass("reflow-post"));break}}}}if(_bounds)for(var boundsRect=_getBounds(_bounds[0]),removeSiblings=!1,ff=0;ff<_flows.length;ff++)removeSiblings===!0?_removeItem(_flows[ff][0]):(_flows[ff].bounds=_getBounds(_flows[ff][0]),_flows[ff].bounds.bottom>boundsRect.bottom&&(_removeItem(_flows[ff][0]),removeSiblings=!0));stats.processBreakoutsExecuted++,stats.timeSpent+=new Date-start}}),250);return $rootScope.$on("$viewContentLoaded",_loggedProcessBreakouts),angular.element($window).bind("resize",function(){_loggedProcessBreakouts()}),$rootScope.$on("$routeChangeStart",_reset),$rootScope.$on("$routeChangeStart",function(){window.sendPerformanceMetric&&stats.processBreakoutsExecuted>0&&(sendPerformanceMetric("UX","Breakout processing time (ms)",stats.timeSpent),sendPerformanceMetric("UX","Breakout run count",stats.processBreakoutsExecuted)),stats.processBreakoutsExecuted=0,stats.processBreakoutsCalled=0,stats.timeSpent=0}),{registerFlow:_registerFlow,registerDam:_registerDam,registerBounds:_registerBounds,unregisterFlow:_unregisterFlow,unregisterDam:_unregisterDam,unregisterBounds:_unregisterBounds,processBreakouts:_loggedProcessBreakouts,reset:_reset}}]}),define("phxCore/services/phxCategorizr",[],function(){return function(){var _deviceType,_os,_osVersion,_browser,_browserVersion,_ua,_breakpoint,_connectionType,_connectionSpeed,_slugList,mediaBreakPoints=[0,300,675,1023,136e3],mediaBreakpointNames=[null,"A","B","C","D"],_deviceRules=[{cond:/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE\-HTML/gi,result:"tv"},{cond:/Xbox|PLAYSTATION.3|Wii/gi,result:"tv"},{cond:"/iP(a|ro)d/i.exec(ua) || ( /tablet/i.exec(ua) && !/RX-34/i.exec(ua) ) || /FOLIO/i.exec(ua)",result:"tablet"},{cond:"/Linux/i.exec(ua) && /Android/i.exec(ua) && !/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945/i.exec(ua)",result:"tablet"},{cond:"/Kindle/i.exec(ua) || /Mac.OS/i.exec(ua) && /Silk/i.exec(ua)",result:"tablet"},{cond:"/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i.exec(ua) || /MB511/i.exec(ua) && /RUTEM/i.exec(ua)",result:"tablet"},{cond:/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/gi,result:"mobile"},{cond:"/Opera/i.exec(ua) && /Windows.NT.5/i.exec(ua) && /HTC|Xda|Mini|Vario|SAMSUNG-GT-i8000|SAMSUNG-SGH-i9/i.exec(ua)",result:"mobile"},{cond:"/Windows.(NT|XP|ME|9)/.exec(ua) && !/Phone/i.exec(ua)  || /Win(9|.9|NT)/i.exec(ua)",result:"desktop"},{cond:"/Macintosh|PowerPC/i.exec(ua) && !/Silk/i.exec(ua)",result:"desktop"},{cond:"/Linux/i.exec(ua) && /X11/i.exec(ua)",result:"desktop"},{cond:/Solaris|SunOS|BSD/gi,result:"desktop"},{cond:"/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i.exec(ua) && !/Mobile/i.exec(ua)",result:"desktop"},{cond:"/Node/i.exec(ua)",result:"server"}],_osRules={tv:[],desktop:[{cond:/Win/gi,versearch:"Win",result:"Windows"},{cond:/Mac/gi,versearch:"OS",result:"Mac OS"},{cond:/Linux/gi,versearch:"",result:"Linux"}],tablet:[{cond:/Android/gi,versearch:"Android",result:"Android"},{cond:/webOS/gi,versearch:"",result:"webOS"},{cond:/iP(a|ro)d/gi,versearch:"OS",result:"iOS"}],mobile:[{cond:/iPhone/gi,versearch:"OS",result:"iOS"},{cond:/Android/gi,versearch:"Android",result:"Android"},{cond:/webOS/gi,versearch:"",result:"webOS"},{cond:/Windows/gi,versearch:"",result:"Windows Phone"},{cond:/Symbian/gi,versearch:"",result:"Symbian"}],server:[{cond:/linux/gi,versearch:"",result:"linux"}]},_browserRules={tv:[],desktop:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"}],tablet:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Silk/gi,versearch:"Silk",result:"Silk"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"}],mobile:[{cond:/MSIE/gi,versearch:"MSIE",result:"MSIE"},{cond:/Chrome/gi,versearch:"Chrome",result:"Chrome"},{cond:/Opera/gi,versearch:"Opera",result:"Opera"},{cond:/Safari/gi,versearch:"Version",result:"Safari"},{cond:/Firefox/gi,versearch:"Firefox",result:"Firefox"}],server:[{cond:/Node/gi,versearch:"",result:"node"}]},_checkInfo=function(){_deviceType||_getDeviceInfo()},_getDeviceType=function(){return _checkInfo(),_deviceType},_getOs=function(){return _checkInfo(),_os},_getOsVersion=function(){return _checkInfo(),_osVersion},_getBrowser=function(){return _checkInfo(),_browser},_getBrowserVersion=function(){return _checkInfo(),_browserVersion},_getUserAgent=function(){return _checkInfo(),_ua},_getBreakpoint=function(){return _checkInfo(),_breakpoint},_getConnectionType=function(){return _checkInfo(),_connectionType},_getConnectionSpeed=function(){return _checkInfo(),_connectionSpeed},_isError=function(){return null===_deviceType},_isServer=function(){return"server"===_deviceType},_isDesktop=function(){return"desktop"===_deviceType},_isTablet=function(){return"tablet"===_deviceType},_isPhone=function(){return"mobile"===_deviceType},_isMobile=function(){return _isPhone()||_isTablet()},_isTV=function(){return"tv"===_deviceType},_isWebView=function(){var _ua=_getUserAgent();return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(_ua)},_isBrowserDesktopFirefox=function(){return _isDesktop()&&"Firefox"===_browser},_isBrowserDesktopIE=function(){return _isDesktop()&&"MSIE"===_browser},_isBrowserDesktopIE6=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=6&&7>_browserVersion},_isBrowserDesktopIE7=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=7&&8>_browserVersion},_isBrowserDesktopIE8=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=8&&9>_browserVersion},_isBrowserDesktopIE9=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=9&&10>_browserVersion},_isBrowserDesktopIE10=function(){return _isDesktop()&&"MSIE"===_browser&&_browserVersion>=10&&11>_browserVersion},_isSizeA=function(){return"A"===_breakpoint},_isSizeB=function(){return"B"===_breakpoint},_isSizeC=function(){return"C"===_breakpoint},_isSizeD=function(){return"D"===_breakpoint},_isHighSpeed=function(){return 3===_connectionType||4===_connectionType},_isMediumSpeed=function(){return 3===_connectionType||4===_connectionType},_isLowSpeed=function(){return 3===_connectionType||4===_connectionType},_isUnknownSpeed=function(){return 3===_connectionType||4===_connectionType},_getSlugList=function(){if(_checkInfo(),"undefined"==typeof _slugList){var o=[];return o.push(_cleanSlug(_deviceType)),o.push(_cleanSlug(_os)),o.push(_cleanSlug(_browser)),_osVersion&&o.push(_cleanSlug(_os+parseInt(_osVersion,10).toString())),_browserVersion&&o.push(_cleanSlug(_browser+parseInt(_browserVersion,10).toString())),_slugList=o}return _slugList},_searchVersion=function(dataString,str){var index=dataString.indexOf(str);if(-1!==index){var ver=parseFloat(dataString.substring(index+str.length+1))||null;return ver}},_cleanSlug=function(slug){return angular.isDefined(slug)?slug.toLowerCase().replace(/\s/g,"-"):void 0},_getDeviceInfo=function(agentString){var deviceType="mobile",breakpoint="C";_slugList=void 0;for(var ua=agentString||navigator.userAgent,c=0;c<_deviceRules.length;c++)if("string"==typeof _deviceRules[c].cond){if(eval(_deviceRules[c].cond)){deviceType=_deviceRules[c].result;break}}else if(ua.match(_deviceRules[c].cond)){deviceType=_deviceRules[c].result;break}for(var o=0;o<_osRules[deviceType].length;o++)if(ua.match(_osRules[deviceType][o].cond)){_os=_osRules[deviceType][o].result,_osVersion=_searchVersion(ua,_osRules[deviceType][o].versearch);break}for(var b=0;b<_browserRules[deviceType].length;b++)if(ua.match(_browserRules[deviceType][b].cond)){_browser=_browserRules[deviceType][b].result,_browserVersion=_searchVersion(ua,_browserRules[deviceType][b].versearch);break}var clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||null;if(clientWidth)for(var i in mediaBreakPoints)clientWidth>=mediaBreakPoints[i]&&(breakpoint=mediaBreakpointNames[i]);var connection=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{type:"unknown"};_connectionType=connection.type,_ua=ua,_deviceType=deviceType,_breakpoint=breakpoint};this.$get=function(){return{getDeviceInfo:_getDeviceInfo,getDeviceType:_getDeviceType,getOs:_getOs,getOsVersion:_getOsVersion,getBrowser:_getBrowser,getBrowserVersion:_getBrowserVersion,getBreakpoint:_getBreakpoint,getConnectionType:_getConnectionType,getConnectionSpeed:_getConnectionSpeed,getSlugList:_getSlugList,getUserAgent:_getUserAgent,isError:_isError,isServer:_isServer,isDesktop:_isDesktop,isTablet:_isTablet,isPhone:_isPhone,isMobile:_isMobile,isTV:_isTV,isWebView:_isWebView,isBrowserDesktopFirefox:_isBrowserDesktopFirefox,isBrowserDesktopIE:_isBrowserDesktopIE,isBrowserDesktopIE6:_isBrowserDesktopIE6,isBrowserDesktopIE7:_isBrowserDesktopIE7,isBrowserDesktopIE8:_isBrowserDesktopIE8,isBrowserDesktopIE9:_isBrowserDesktopIE9,isBrowserDesktopIE10:_isBrowserDesktopIE10,isSizeA:_isSizeA,isSizeB:_isSizeB,isSizeC:_isSizeC,isSizeD:_isSizeD,isHighSpeed:_isHighSpeed,isMediumSpeed:_isMediumSpeed,isLowSpeed:_isLowSpeed,isUnknownSpeed:_isUnknownSpeed}}}}),define("phxCore/services/phxContentRecommendationsUtil",[],function(){return["$timeout","phxCategorizr",function($timeout,phxCategorizr){function _injectContent(config,canonicalUrl){scriptLoaded?_funcs[config.provider].injectContent(config,canonicalUrl):_injectScript(config)}function _injectScript(config){_funcs[config.provider].init(),$.getScript(config.url,_funcs[config.provider].getOnload(config))}function _replaceImage(img){if(img.src.match(/\.gif$/)){var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0,canvas.width,canvas.height),img.parentNode.replaceChild(canvas,img)}}function _hasImages(element){return element.find("img").length}function _inspectImage(img){angular.element(img).attr("data-pin-no-hover",!0),img.complete?_replaceImage(img):angular.element(img).on("load",function(){_replaceImage(img)})}var scriptLoaded=!1,_funcs={taboola:{_buildTaboolaPushObject:function(config){var mode=config.mode,placement=config.placement;return phxCategorizr.isMobile()&&(mode=config.mobileMode,placement=config.mobilePlacement),{container:config.containerId,target_type:config.targetType,mode:mode,placement:placement}},getOnload:function(config){return function(){scriptLoaded=!0,window._taboola=window._taboola||[],_taboola.push(_funcs.taboola._buildTaboolaPushObject(config)),_taboola.push({flush:!0})}},init:function(){window._taboola=window._taboola||[],_taboola.push({article:"auto"})},injectContent:function(config,canonicalUrl){$timeout(function(){window.taboola=window._taboola||[],_taboola.push({notify:"newPageLoad"}),_taboola.push(_funcs.taboola._buildTaboolaPushObject(config)),_taboola.push({article:"auto",url:canonicalUrl})},50)}},pubexchange:{getOnload:function(){return function(){scriptLoaded=!0}},init:function(){},injectContent:function(){$timeout(function(){window.PUBX.loader(!1)},50)}}};return{injectContent:_injectContent,hasImages:_hasImages,replaceImage:_replaceImage,inspectImage:_inspectImage}}]}),define("phxCore/services/phxCookies",[],function(){return["cstLogger",function(cstLogger){function _get(key){var cookie=null;try{cookie=$.cookie(key)}catch(e){cstLogger.error("Potential previous UAID cookie corruption!: "+e)}return cookie}function _put(key,value,config){$.cookie(key,value,config)}return $.cookie.json=!0,$.cookie.defaults.path="/",{get:_get,put:_put}}]}),define("phxCore/services/phxEmbeds",[],function(){return["$q","$http","$rootScope","$timeout","Config",function($q,$http,$rootScope,$timeout,Config){function processQueue(){if(0!==embedQueue.length){var list=embedQueue;embedQueue=[],$http({method:"JSONP",url:document.location.protocol+"//api.embed.ly/1/oembed",params:{key:Config.embedly.apiKey,urls:list.map(function(u){return u.url}),callback:"JSON_CALLBACK",maxwidth:MAX_WIDTH,width:MAX_WIDTH,autoplay:!1,nostyle:!0},responseType:"json"}).success(function(data){data.map(function(item,i){list[i].promise.resolve(item)})}).error(function(data){list.map(function(item){item.promise.reject(data)})})}}var timeout,MAX_WIDTH=630,TIMEOUT=200,embedQueue=[];$rootScope.$on("phxContentLoaded",function(){window.embedly&&$timeout(function(){angular.element("a.embedly-card").length>0&&window.embedly.look()},50)});var loaded=!1;return{createCard:function(url){var html='<a class="embedly-card" href="'+url+'" data-card-chrome="0" data-card-controls="0"></a>';if(!loaded){var script=document.createElement("script");script.setAttribute("src",("https:"===document.location.protocol?"https":"http")+"://cdn.embedly.com/widgets/platform.js"),script.setAttribute("id","embedly-platform"),script.setAttribute("async","true"),document.getElementsByTagName("head")[0].appendChild(script),loaded=!0}return html},load:function(url){timeout&&$timeout.cancel(timeout);var deferred=$q.defer();return embedQueue.push({url:url,promise:deferred}),timeout=$timeout(function(){$timeout.cancel(timeout),processQueue()},TIMEOUT),deferred.promise}}}]}),define("delivery/now",[],function(){return function(){return(new Date).getTime()}}),define("delivery/json",[],function(){var localJSON=window.JSON||{};return("undefined"==typeof localJSON.stringify||'{"test":["1"]}'!==localJSON.stringify({test:["1"]}))&&(localJSON.stringify=function(object){var type=typeof object;if("object"!==type||null===object)return"string"===type&&(object='"'+object+'"'),String(object);var name,value,json=[],array=object&&object.constructor===Array;for(name in object)value=object[name],type=typeof value,"function"!==type&&("string"===type?value='"'+value+'"':"object"===type&&null!==value&&(value=localJSON.stringify(value)),json.push((array?"":'"'+name+'":')+String(value)));return(array?"[":"{")+String(json)+(array?"]":"}")},localJSON.parse=localJSON.parse||function(string){return eval("("+string+")")}),localJSON}),define("delivery/clone",["delivery/json"],function(JSON){return function(object){return JSON.parse(JSON.stringify(object))}}),define("cyclamen/eventbus",["delivery/json","delivery/clone"],function(JSON,clone){return function(log){var registerListeners={},eventListeners={},lastEvent={},nameOf=function(namespace,type){return namespace+":"+type},vivifyList=function(container,key){return key in container||(container[key]=[]),container[key]};this.onListen=function(namespace,type,callback){var name=nameOf(namespace,type);if("function"!=typeof callback)throw new Error("callback argument must be a function");var listeners=vivifyList(registerListeners,name);listeners.push(callback)},this.addListener=function(namespace,type,callback){var name=nameOf(namespace,type);if("function"!=typeof callback)throw new Error("callback argument must be a function");lastEvent.hasOwnProperty(name)&&callback.call(this,lastEvent[name]);var listeners=vivifyList(eventListeners,name);for(listeners.push(callback),listeners=vivifyList(registerListeners,name);listeners.length>0;)listeners.shift()();return!0},this.removeListener=function(namespace,type,callback){for(var name=nameOf(namespace,type),listeners=vivifyList(eventListeners,name),i=0;i<listeners.length;i++)if(callback===listeners[i]){do i===listeners.length?listeners.pop():listeners[i]=listeners[i+1];while(i++<listeners.length);return!0}return!1},this.dispatch=function(namespace,type,event){var name=nameOf(namespace,type);if("string"!=typeof type&&(event=type),"undefined"==typeof event)event={};else if("object"!=typeof event)throw new Error("EventBus.dispatch(ns,type,event): event argument must be an object");var listeners=vivifyList(eventListeners,name).slice(0);log&&log.isDebug&&log.debug(name+" - "+JSON.stringify(event,function(key,value){return"impression"===key&&"object"==typeof value?"[object Impression]":value})+" ("+listeners.length+" listeners)");for(var i=0;i<listeners.length;i++)if(listeners[i].call(this,clone(event))===!1)return!1;return lastEvent[name]=event,!0},this.dispatcher=function(namespace){var self=this;return{dispatch:function(type,event){self.dispatch(namespace,type,event)}}}}}),define("cyclamen/session",["delivery/now","cyclamen/eventbus"],function(now,EventBus){return function(log,rid,integration,product,specification,meta){EventBus.call(this,log),this.rid=rid,this.integration=integration||null,this.integrationId=integration?integration.id:null,this.time=now(),this.product=product,this.specification=specification,this.meta=meta,this.elapsed=function(){return now()-this.time};var ctas=specification&&specification.creative&&specification.creative.ctas;if(ctas&&ctas.constructor===Array){for(var ctasTable={},i=0;i<ctas.length;i++)for(var key in ctas[i])ctas[i].hasOwnProperty(key)&&(ctasTable[key]=ctas[i][key]);specification.creative.ctas=ctasTable}}}),define("cyclamen/pageview",["cyclamen/session"],function(Session){return function(rid,product,specification,meta){var log={debug:function(){},error:function(){},isDebug:!1};Session.call(this,log,rid,null,product,specification,meta)}}),define("phxCore/services/phxEventBus",["cyclamen/pageview"],function(PageView){return function(){return PageView}}),define("delivery/event",[],function(){function Event(){this.add=function(node,type,callback){node.addEventListener?node.addEventListener(type,callback):"function"==typeof jQuery?jQuery(node).on(type,callback):node.attachEvent&&node.attachEvent("on"+type,callback)},this.remove=function(node,type,callback){node.removeEventListener?node.removeEventListener(type,callback):"function"==typeof jQuery?jQuery(node).off(type,callback):node.detachEvent&&node.detachEvent("on"+type,callback)},this.trigger=function(node,type,properties){var doc=node.ownerDocument;if(node.dispatchEvent&&doc.createEvent){var nodeEvent=doc.createEvent("Event");if(nodeEvent.initEvent(type,!0,!0),"undefined"!=typeof properties)for(var key in properties)key in nodeEvent||(nodeEvent[key]=properties[key]);node.dispatchEvent(nodeEvent)}else"function"==typeof jQuery&&jQuery(node).trigger(type,properties)}}return new Event}),define("delivery/indexof",[],function(){return function(array,element){for(var i=0;i<array.length;i++)if(array[i]===element)return i;return-1}}),define("cyclamen/demux",["delivery/event","delivery/indexof"],function(event,indexOf){function Demultiplexer(beacon,log,rules,overrides,creativeTrackingBeacons){"undefined"==typeof overrides&&(overrides={}),"undefined"==typeof creativeTrackingBeacons&&(creativeTrackingBeacons=[]);var handlers={dom:function(session,publisher,eventName,requirement){if("string"!=typeof requirement)throw new Error("DOM target must be event name");if("object"!=typeof session.node)throw new Error("DOM events only supported for session types that belong to a DOM node");return function(evt){log.debug("demux.DOM: "+requirement),evt.rid=session.rid,evt.integrationId=session.integrationId,evt.session=session,evt.impression=session,event.trigger(session.node,requirement,evt)}},beacon:function(session,publisher,eventName,beaconName){if("string"!=typeof beaconName)throw new Error("event target must be a beacon name");return function(evt){if(log.debug("demux.beacon: "+beaconName),indexOf(creativeTrackingBeacons,beaconName)>-1){var i,key,traffic=session.specification?session.specification.traffic:void 0,trafficKeys=["ccid","lineitemid","creativeid"];if(traffic)for(i=0;i<trafficKeys.length;i++)key=trafficKeys[i],"string"==typeof traffic[key]&&traffic[key].length&&(evt[key]=traffic[key]);var creative=session.specification?session.specification.creative:void 0,creativeKeys=["prod"];if(creative)for(i=0;i<creativeKeys.length;i++)key=creativeKeys[i],"string"==typeof creative[key]&&creative[key].length&&(evt[key]=creative[key]);session.dimensions&&session.dimensions.length&&(evt.dim=session.dimensions),session.integrationId&&(evt.intgid=session.integrationId),evt.integrationId&&delete evt.integrationId}beacon.send(beaconName,session.rid,evt)}},event:function(session,publisher,eventName,requirement){if("string"!=typeof requirement)throw new Error("event target must be an event name");return function(evt){log.debug("demux.event: "+requirement),session.dispatch(publisher,requirement,evt)}},report:function(session,publisher,eventName,arglist){if(arglist.constructor!==Array)throw new Error(publisher+":"+eventName+" event report specification must be an argument mapping, in the form of an array.");if("object"!=typeof session.report)throw new Error("Impression report reporting only supported for session types with an impression report object.");return function(evt){var report=session.report,method=arglist[0];log.debug("demux.report: "+method);for(var parameters=[],i=1;i<arglist.length;i++)parameters.push(evt[arglist[i]]);if("function"!=typeof report[method]){var msg="report object has no method "+method;throw log.error(msg),new Error(msg)}report[method].apply(report,parameters)}},"function":function(session,publisher,eventName,funcName){return function(evt){if("object"!=typeof session.node)throw new Error("Global function reporting only supported for session types that belong to a DOM node");var callable=window[funcName];log.debug("demux.function: "+funcName),"function"==typeof callable&&callable.call(session,session.node.parentNode,evt)}}},properties=function(object){var result=[];for(var key in object)object.hasOwnProperty(key)&&result.push(key);return result},uniqueProperties=function(a,b){var list=properties(a).concat(properties(b));if(list.length>1){list.sort();for(var i=0,j=0;j<list.length;i++)for(i!==j&&(list[i]=list[j]);list[i]===list[j];)j++;list.splice(i,j-i)}return list},wrapHandler=function(impression,publisher,eventName,handler){var wrappedHandler=function(){return impression.removeListener(publisher,eventName,wrappedHandler),handler.apply(this,arguments)};return wrappedHandler};this.attach=function(session){var product=session.product,productOverrides={};"undefined"!=typeof product&&overrides[product]&&(productOverrides=overrides[product]);for(var publishers=uniqueProperties(rules,productOverrides),p=0;p<publishers.length;p++)for(var publisher=publishers[p],publisherRules=rules[publisher]||{},publisherOverrides=productOverrides[publisher]||{},eventNames=uniqueProperties(publisherRules,publisherOverrides),e=0;e<eventNames.length;e++)for(var eventName=eventNames[e],requirements=publisherRules[eventName]||{},requirementOverrides=publisherOverrides[eventName]||{},dispatchTypes=uniqueProperties(requirements,requirementOverrides),d=0;d<dispatchTypes.length;d++){var dispatchType=dispatchTypes[d],removeAfter=!1,requirement=requirementOverrides[dispatchType];if("undefined"==typeof requirement&&(requirement=requirements[dispatchType]),null!==requirement){"+"===dispatchType.substring(0,1)&&(removeAfter=!0,dispatchType=dispatchType.substring(1)),handlers.hasOwnProperty(dispatchType)||log.error("Unknown dispatch type "+publisher+":"+eventName+" "+dispatchType);var handler=handlers[dispatchType](session,publisher,eventName,requirement);removeAfter&&(handler=wrapHandler(session,publisher,eventName,handler)),session.addListener(publisher,eventName,handler)}}},this.getRules=function(){return rules.clone()}}return Demultiplexer}),define("phxCore/services/phxEventDemux",["cyclamen/demux"],function(Demultiplexer){var productDemuxOverrides={};return["cstLogger","phxBeaconClient",function(cstLogger,phxBeaconClient){var beaconClient=phxBeaconClient.makeBeaconClient();return function(demuxRules,creativeTrackingBeacons){return Demultiplexer.call(this,beaconClient,cstLogger,demuxRules,productDemuxOverrides,creativeTrackingBeacons)}}]}),define("components/features-js/features",[],function(){function is_numeric(n){return!isNaN(parseFloat(n))&&isFinite(n)}function is_array(arr){return arr instanceof Array}function is_object(obj){return!is_array(obj)&&obj instanceof Object}function is_string(str){return"string"==typeof str}function is_null(obj){return null==obj}function objectGet(obj,key,def){return is_object(obj)&&obj.hasOwnProperty(key)?obj[key]:def}var Feature_Config=function(name,stanza,world){this._name=name,this._cache={},this._world=world,is_null(stanza)?stanza={enabled:this.OFF}:is_string(stanza)&&(stanza={enabled:stanza}),this._description=this._parseDescription(stanza),this._enabled=this._parseEnabled(stanza),this._users=this._parseUsersOrGroups(stanza,this.USERS),this._groups=this._parseUsersOrGroups(stanza,this.GROUPS),this._adminVariant=this._parseVariantName(stanza,this.ADMIN),this._internalVariant=this._parseVariantName(stanza,this.INTERNAL),this._public_url_override=this._parsePublicURLOverride(stanza),this._bucketing=this._parseBucketBy(stanza),this._percentages=this._computePercentages()
};Feature_Config.prototype={DESCRIPTION:"description",ENABLED:"enabled",USERS:"users",GROUPS:"groups",ADMIN:"admin",INTERNAL:"internal",PUBLIC_URL_OVERRIDE:"publicUrlOverride",BUCKETING:"bucketing",ON:"on",OFF:"off",UAID:"uaid",USER:"user",RANDOM:"random",isEnabled:function(){var bucketingID=this._bucketingID(),userID=this._world.userID();return this._chooseVariant(bucketingID,userID,!1)!==this.OFF},variant:function(){var bucketingID=this._bucketingID(),userID=this._world.userID();return this._chooseVariant(bucketingID,userID,!0)},isEnabledFor:function(user){var userID=this.getUserIdFrom(user);return this._chooseVariant(userID,userID,!1)!==this.OFF},isEnabledBucketingBy:function(bucketingID){var userID=this._world.userID();return this._chooseVariant(bucketingID,userID,!1)!==this.OFF},variantFor:function(user){var userID=this._getUserIdFrom(user);return this._chooseVariant(userID,userID,!0)},variantBucketingBy:function(bucketingID){var userID=this._world.userID();return this._chooseVariant(bucketingID,userID,!0)},description:function(){return this._description},_getUserIdFromUser:function(user){return user.user_id},_chooseVariant:function(bucketingID,userID,inVariantMethod){if(inVariantMethod&&this._enabled===this.ON&&this._error("Variant check when fully enabled"),is_string(this._enabled))return this._enabled;if(is_null(bucketingID)&&this._error("No bucketing ID supplied"),this._cache.hasOwnProperty(bucketingID))return this._cache[bucketingID];var variant=this._variantFromURL(userID)||this._variantForUser(userID)||this._variantForGroup(userID)||this._variantForAdmin(userID)||this._variantForInternal()||this._variantByPercentage(bucketingID)||[this.OFF,"w"],v=variant[0],selector=variant[1];return inVariantMethod&&v===this.OFF&&this._error("Variant check outside enabled check"),this._world.log(this._name,v,selector),this._cache[bucketingID]=v,v},_bucketingID:function(){switch(this._bucketing){case this.UAID:case this.RANDOM:var uaid=this._world.uaid();return uaid?uaid:"no uaid";case this.USER:var userID=this._world.userID();return is_null(userID)?this._world.uaid():userID;default:this._error("Bad bucketing: "+this._bucketing)}},_variantFromURL:function(userID){if(this._public_url_override||this._world.isInternalRequest()||this._world.isAdmin(userID)){var urlFeatures=this._world.urlFeatures();if(urlFeatures)for(var features=urlFeatures.split(","),i=0;i<features.length;i++){var parts=features[i].split(":");if(parts[0]===this._name)return[parts.length>1?parts[1]:this.ON,"o"]}}return!1},_variantForUser:function(userID){if(this._users){var name=this._world.userName(userID);if(name&&this._users.hasOwnProperty(name))return[this._users[name],"u"]}return!1},_variantForGroup:function(userID){if(userID)for(var groupID in this._groups)if(this._world.inGroup(userID,groupID))return[this._groups[groupID],"g"];return!1},_variantForAdmin:function(userID){return userID&&this._adminVariant&&this._world.isAdmin(userID)?[this._adminVariant,"a"]:!1},_variantForInternal:function(){return this._internalVariant&&this._world.isInternalRequest()?[this._internalVariant,"i"]:!1},_variantByPercentage:function(id){for(var n=100*this._randomish(id),i=0;i<this._percentages.length;i++){var v=this._percentages[i];if(n<v[0]||100===v[0])return[v[1],"w"]}return!1},_randomish:function(id){return this._bucketing===this.RANDOM?this._world.random():this._world.hash(this._name+"-"+id)},_parseDescription:function(stanza){return objectGet(stanza,this.DESCRIPTION,"No description")},_parseEnabled:function(stanza){var enabled=objectGet(stanza,this.ENABLED,0);return is_numeric(enabled)?(0>enabled?(this._error("enabled ("+enabled+") < 0"),enabled=0):enabled>100&&(this._error("enabled ("+enabled+") > 100"),enabled=100),{on:enabled}):is_string(enabled)||is_object(enabled)?enabled:void this._error("Malformed enabled property")},_computePercentages:function(){var total=0,percentages=[];if(is_object(this._enabled))for(var variant in this._enabled){var percentage=this._enabled[variant];(!is_numeric(percentage)||0>percentage||percentage>100)&&this._error("Bad percentage "+percentage),percentage>0&&(total+=percentage,percentages.push([total,variant])),total>100&&this._error("Total of percentages > 100: "+total)}return percentages},_parseUsersOrGroups:function(stanza,what){var value=objectGet(stanza,what);if(is_string(value)||is_numeric(value)){var ret={};return ret[value]=this.ON,ret}if(is_array(value)){for(var result={},i=0;i<value.length;i++)result[value[i].toLowerCase()]=this.ON;return result}if(!is_object(value))return{};var result={},bad_keys=[];if(!bad_keys){for(var variant in value){var whos=value[variant];for(var who in whos)result[who.toLowerCase()]=variant}return result}this._error("Unknown variants "+bad_keys.join(", "))},_parseVariantName:function(stanza,what){var value=objectGet(stanza,what);return value?is_object(this._enabled)?this._enabled.hasOwnProperty(value)?value:void this._error("Unknown variant "+value):value:!1},_parsePublicURLOverride:function(stanza){return objectGet(stanza,this.PUBLIC_URL_OVERRIDE,!1)},_parseBucketBy:function(stanza){return objectGet(stanza,this.BUCKETING,this.UAID)},_error:function(msg){throw msg}};var Feature=function(world){this._world=world,this._configCache={}};return Feature.prototype={isEnabled:function(name){return this._fromConfig(name).isEnabled()},isEnabledFor:function(name,user){return this._fromConfig(name).isEnabledFor(user)},isEnabledBucketingBy:function(name,str){return this._fromConfig(name).isEnabledBucketingBy(str)},variant:function(name){return this._fromConfig(name).variant()},variantFor:function(name,user){return this._fromConfig(name).variantFor(user)},variantBucketingBy:function(name,bucketingID){return this._fromConfig(name).variantBucketingBy(bucketingID)},description:function(name){return this._fromConfig(name).description()},data:function(name,def){var stanza=this._world.configValue(name);return stanza&&stanza.hasOwnProperty("data")?stanza.data:def||{}},variantData:function(name,def){var data=this.data(name),variant=this.variant(name);return data.hasOwnProperty(variant)?data.variant:def},_fromConfig:function(name){if(this._configCache.hasOwnProperty(name))return this._configCache[name];var stanza=this._world.configValue(name),ret=new Feature_Config(name,stanza,this._world);return this._configCache[name]=ret,ret},selections:function(){return this._world.selections()}},Feature}),function(){function parse(s,buf,offset){var i=buf&&offset||0,ii=0;for(buf=buf||[],s.toLowerCase().replace(/[0-9a-f]{2}/g,function(oct){16>ii&&(buf[i+ii++]=_hexToByte[oct])});16>ii;)buf[i+ii++]=0;return buf}function unparse(buf,offset){var i=offset||0,bth=_byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}function v1(options,buf,offset){var i=buf&&offset||0,b=buf||[];options=options||{};var clockseq=null!=options.clockseq?options.clockseq:_clockseq,msecs=null!=options.msecs?options.msecs:(new Date).getTime(),nsecs=null!=options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(0>dt&&null==options.clockseq&&(clockseq=clockseq+1&16383),(0>dt||msecs>_lastMSecs)&&null==options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq,msecs+=122192928e5;var tl=(1e4*(268435455&msecs)+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;6>n;n++)b[i+n]=node[n];return buf?buf:unparse(b)}function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"==options?new BufferClass(16):null,options=null),options=options||{};var rnds=options.random||(options.rng||_rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;16>ii;ii++)buf[i+ii]=rnds[ii];return buf||unparse(rnds)}var _rng,_global=this;if("function"==typeof _global.require)try{var _rb=_global.require("crypto").randomBytes;_rng=_rb&&function(){return _rb(16)}}catch(e){}if(!_rng&&_global.crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);_rng=function(){return crypto.getRandomValues(_rnds8),_rnds8}}if(!_rng){var _rnds=new Array(16);_rng=function(){for(var r,i=0;16>i;i++)0===(3&i)&&(r=4294967296*Math.random()),_rnds[i]=r>>>((3&i)<<3)&255;return _rnds}}for(var BufferClass="function"==typeof _global.Buffer?_global.Buffer:Array,_byteToHex=[],_hexToByte={},i=0;256>i;i++)_byteToHex[i]=(i+256).toString(16).substr(1),_hexToByte[_byteToHex[i]]=i;var _seedBytes=_rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0,uuid=v4;if(uuid.v1=v1,uuid.v4=v4,uuid.parse=parse,uuid.unparse=unparse,uuid.BufferClass=BufferClass,"function"==typeof define&&define.amd)define("components/node-uuid/uuid",[],function(){return uuid});else if("undefined"!=typeof module&&module.exports)module.exports=uuid;else{var _previousRoot=_global.uuid;uuid.noConflict=function(){return _global.uuid=_previousRoot,uuid},_global.uuid=uuid}}.call(this),define("phxCore/services/phxFeatures",["components/features-js/features","components/node-uuid/uuid"],function(features,uuid){return["Config","cstLogger","phxCookies","$location","phxAnalyticsUtil",function(Config,cstLogger,phxCookies,$location,phxAnalyticsUtil){var UAID_COOKIE="uaid",uaid=null,featuresConfig=Config.features2&&Config.features2.flags||{},World=function(){this._selections=[]};World.prototype={configValue:function(name,def){return featuresConfig.hasOwnProperty(name)?featuresConfig[name]:def},uaid:function(){if(uaid)return uaid;var uaidCookie=phxCookies.get(UAID_COOKIE);return uaidCookie&&uaidCookie.uaid?uaid=uaidCookie.uaid:uaidCookie&&!uaidCookie.uaid?(uaid=uuid.v4(),phxCookies.put(UAID_COOKIE,{uaid:uaid},{expires:3650}),cstLogger.info("Potential previous UAID cookie corruption: "+uaid)):(uaid=uuid.v4(),phxCookies.put(UAID_COOKIE,{uaid:uaid},{expires:3650})),uaid},userID:function(){return null},userName:function(){return null},inGroup:function(){return!1},isAdmin:function(){return!1},isInternalRequest:function(){return!1},urlFeatures:function(){return $location.search().features},random:function(){return Math.random()},hash:function(id){for(var hash,char=0,i=0;i<id.length;i++)char=id.charCodeAt(i),hash=(hash<<5)-hash+char,hash&=hash;return Math.abs(hash)%1e3/1e3},log:function(name,variant,selector){this._selections.push([name,variant,selector]),cstLogger.info("Feature flag: "+name+":"+variant+":"+selector)},selections:function(){return this._selections}};var returnFeatures=new features(new World);return returnFeatures.registerExperiments=function(){var bodyClasses=[];for(var thisFeature in featuresConfig)if(featuresConfig.hasOwnProperty(thisFeature)&&this.isEnabled(thisFeature)){var thisExperiment=featuresConfig[thisFeature],variation=this.variant(thisFeature);bodyClasses.push("mm-"+thisFeature+"-"+variation);var expConfig={variation:variation,experimentId:featuresConfig[thisFeature].experimentId,trackingSlot:featuresConfig[thisFeature].trackingSlot};"undefined"!=typeof featuresConfig[thisFeature].experimentMap&&(expConfig.variationIndex=thisExperiment.experimentMap[variation]),phxAnalyticsUtil.registerExperiment(expConfig)}bodyClasses.length>0&&(returnFeatures.bodyClass=bodyClasses.join(" "))},returnFeatures}]}),define("phxCore/services/phxFragmentUrl",[],function(){return["$location","$rootScope","$timeout","$window","phxFeatures",function($location,$rootScope,$timeout){var waypointEls=[],scrolling=!1,bound=!1,initialFragmentIfNotFound=null;return{scrollIfHashThenBind:function(scope){var myself=this,fragment=$location.hash();if(fragment)if("photos"===fragment||"videos"===fragment){var selector="photos"===fragment?"[tml-collection]:not(:has([tml-external-provider]))":"[tml-collection]:has([tml-external-provider])";$timeout(function(){var el=angular.element(selector);el.length&&angular.element("html, body").animate({scrollTop:el.offset().top},500)},1e3)}else $timeout(function(){myself.setFragment(fragment,!0,!1),myself.bindVerticalScroll(scope)},1e3);else myself.bindVerticalScroll(scope)},setScrolling:function(bool){scrolling=bool},setFragment:function(fragment,scroll,replace){var delay=100;replace&&($location.replace(),$location.hash(fragment),$rootScope.$$phase||$rootScope.$apply(),delay=0),scroll&&(scrolling=!0,$timeout(function(){var el=angular.element('section[tml-anchor="'+fragment+'"]');el.length&&angular.element("html, body").animate({scrollTop:el.offset().top},500),bound&&$timeout(function(){scrolling=!1},600)},200))},bindVerticalScroll:function($scope){var myself=this;$timeout(function(){$("section[tml-anchor]").each(function(){waypointEls.push($(this)),$(this).waypoint(function(){scrolling||myself.setFragment($(this).attr("tml-anchor"),!1,!0)},{continuous:!1})}),bound=!0,scrolling=!1,$("section.m-page--component").waypoint(function(direction){"up"===direction&&myself.setFragment(null,!1,!0)})},2e3),$scope.$on("$destroy",function(){angular.forEach(waypointEls,function(el){el.waypoint("destroy")}),waypointEls=[],$("section.l-page-body").waypoint("destroy")})},getInitialFragmentIfNotFound:function(){return initialFragmentIfNotFound}}}]}),define("phxCore/services/phxImageOptions",[],function(){return["phxImageOptionsProfiles","Config","phxResponsiveSize","phxUtil",function(phxImageOptionsProfiles,Config,phxResponsiveSize,phxUtil){function _getOptions(profile){var responsiveSize=phxResponsiveSize.getName(),cache=resolvedOptions[responsiveSize];if(cache.hasOwnProperty(profile))return cache[profile];cache[profile]=null;var options=baseOptions[profile]||null;if(options&&options[responsiveSize]&&(options=$.extend(!0,{},options,options[responsiveSize])),options&&options["extends"]){var parent=_getOptions(options["extends"]);parent&&"object"==typeof parent&&(options=$.extend(!0,{},parent,options))}if(options){var viewportIncrement=options.hasOwnProperty("viewportIncrement")?options.viewportIncrement:baseOptions.hasOwnProperty("viewportIncrement")?baseOptions.viewportIncrement:500,round=options.hasOwnProperty("viewportRound")?Math[options.viewportRound]:baseOptions.hasOwnProperty("viewportRound")?Math[baseOptions.viewportRound]:Math.floor;if(options.hasOwnProperty("width")&&"viewport"===options.width){var w=phxUtil.getViewportDimensions().width;options.width=viewportIncrement*round(w/viewportIncrement)}if(options.hasOwnProperty("height")&&"viewport"===options.height){var h=phxUtil.getViewportDimensions().height;options.height=viewportIncrement*round(h/viewportIncrement)}}return cache[profile]=options,options}var baseOptions=phxImageOptionsProfiles;Config.imageOptions&&(baseOptions=$.extend(!0,{},baseOptions,Config.imageOptions));var resolvedOptions={A:{},B:{},C:{},D:{}};return{getOptions:_getOptions}}]}),define("phxCore/services/phxImageOptionsProfiles",{standardCard:{crop:"fill",gravity:"face",width:300,height:190,retinaQuality:40,convertPngToJpg:!0},imageCard:{"extends":"standardCard",height:320},doubleImageCard:{"extends":"imageCard",width:620,height:320},tripleImageCard:{A:{"extends":"imageCard"},B:{"extends":"doubleImageCard"},C:{"extends":"imageCard",width:940,height:485}},doubleSideBySideImageCard:{"extends":"imageCard",C:{width:460,height:267}},readingList:{crop:"fill",gravity:"face",width:200,height:150},contentStrip:{crop:"fill",gravity:"face",width:120,height:120},coverline:{effect:"sharpen",crop:"fill",gravity:"face",height:200,quality:90},personDetailPrimaryImage:{crop:"fill",gravity:"face",width:300,height:300},recipeDetailPrimaryImage:{crop:"fill",width:940,height:529,quality:70},richTermDetailPrimaryImage:{crop:"fill",gravity:"face",width:1290,height:350},productDetailPrimaryImage:{crop:"fill",width:650,height:650},articleDetailPrimaryImage:{crop:"fill",quality:60,retinaQuality:40,A:{width:568,height:568},B:{width:768,height:768},C:{viewportIncrement:200,width:"viewport",height:"viewport"}},articleDetailAuthorImage:{crop:"fill",width:60,height:60,gravity:"face"},recipeDetailAuthorImage:{crop:"fill",width:120,height:90,gravity:"face"},userProfilePrimaryImage:{crop:"fill",width:600,gravity:"face",height:380},collectionFullscreenImage:{crop:"fit",height:"viewport",width:"viewport",viewportIncrement:500,viewportRound:"ceil"},"inlineImage:default":{crop:"fit",width:620,A:{width:320},retinaQuality:40},"inlineImage:mm-small":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:300}},"inlineImage:mm-medium":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:460}},"inlineImage:mm-large":{"extends":"inlineImage:default"},"inlineImage:mm-xlarge":{"extends":"inlineImage:default",A:{width:320},B:{width:620},C:{width:940}},"inlineImage:l-wrap-left":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:300}},"inlineImage:l-wrap-right":{"extends":"inlineImage:default",A:{width:320},B:{width:300},C:{width:460}},"inlineImage:l-inline":{"extends":"inlineImage:default"},"inlineImage:l-breakout":{"extends":"inlineImage:default",A:{width:320},B:{width:620},C:{width:940}},"inlineImage:l-full-bleed":{crop:"fill",quality:60,retinaQuality:40,A:{width:568},B:{width:768},C:{viewportIncrement:200,width:"viewport"}},socialSharingImage:{crop:"fit",width:1200,height:1200}}),define("phxCore/services/phxMultiStreamer",[],function(){return["$q","Config","phxApiClient","phxUtil",function($q){var MultiStreamer=function(streamerPromises,initialLimit){this.items=[],this.hasMoreItems=!0,this._initialLimit=initialLimit,this._pageCount=0,this._moreItemsCallbacks=[],this._loadingCallbacks=[],this._streamerPromises=streamerPromises,this._streamerValues=null,this._streamerCursors=[],this._loadMoreItemsPendingCount=0,this._previousItemIndex=0};return MultiStreamer.prototype={getStreams:function(){var deferred=$q.defer(),myself=this;return $q.all(this._streamerPromises).then(function(streamerValues){myself._streamerValues=streamerValues;var loadingFunction=function(){for(var i=0;i<myself._loadingCallbacks.length;i++)myself._loadingCallbacks[i].apply(myself,[!0])};for(var s in myself._streamerValues)myself._streamerCursors[s]=0,myself._streamerValues[s].watchMoreItems(myself._watchMoreItemsCallbackWrapper(s).bind(myself)),myself._streamerValues[s].watchLoading(loadingFunction);deferred.resolve()}),deferred.promise},_moveItemId:function(id){for(var i in this._streamerValues)for(var i2 in this._streamerValues[i].items){var item=this._streamerValues[i].items[i2];if(item.id===id)return this.items.push(item),void this._streamerValues[i].items.splice(i2,1)}},_coalesceStreams:function(){var myself=this,maxItems=this._pageCount*this._initialLimit;[].concat.apply([],this._streamerValues.map(function(streamer){return streamer.items})).sort(this._streamerCompare).forEach(function(item){myself.items.length<=maxItems&&myself._moveItemId(item.id)})},_streamerCompare:function(a,b){return a.publicationTimestamp>b.publicationTimestamp?-1:a.publicationTimestamp<b.publicationTimestamp?1:0},watchMoreItems:function(callback){this._moreItemsCallbacks.push(callback)},watchLoading:function(callback){this._loadingCallbacks.push(callback)},_loadMoreStreamItems:function(){var myself=this;this._streamerValues.map(function(streamer){streamer.items.length<myself._initialLimit&&streamer.hasMoreItems&&(myself._loadMoreItemsPendingCount++,streamer.loadMoreItems(),myself._callLoadingCallbacks(!0))})},_callLoadingCallbacks:function(loading){for(var i=0;i<this._loadingCallbacks.length;i++)this._loadingCallbacks[i].apply(this,[loading])},_callMoreItemsCallbacks:function(newItemsIndex){for(var i=0;i<this._moreItemsCallbacks.length;i++)this._moreItemsCallbacks[i].apply(this,[newItemsIndex])},_watchMoreItemsCallbackWrapper:function(){var myself=this;return function(){if(myself._loadMoreItemsPendingCount--,0===myself._loadMoreItemsPendingCount){myself._callLoadingCallbacks(!1),myself._coalesceStreams();var newItemsIndex=this._previousItemIndex;this._previousItemIndex=myself.items.length,myself._callMoreItemsCallbacks(newItemsIndex);for(var hasMoreItems=!1,i2=0,l2=myself._streamerValues.length;l2>i2;i2++)myself._streamerValues[i2].hasMoreItems&&(hasMoreItems=!0);myself.hasMoreItems=hasMoreItems}}},loadMoreItems:function(){this._pageCount++,this._streamerValues?this._loadMoreStreamItems():this.getStreams().then(function(){this._loadMoreStreamItems()}.bind(this))}},MultiStreamer}]}),define("phxCore/services/phxNavManager",[],function(){return["$rootScope","$location",function($rootScope,$location){var currentPath,history=[],wasBack=!1;return $rootScope.$on("$routeChangeSuccess",function(){var newPath=$location.path();history.length&&history[history.length-1]===newPath?(wasBack=!0,history.pop()):(wasBack=!1,history.push(currentPath)),currentPath=newPath}),{wentBack:function(){return wasBack}}}]}),define("phxCore/services/phxPage",[],function(){return["$q","$timeout","phxComponent","phxComponentUtil","phxUtil","phxRoute","phxPageReporting","phxEventBus","phxAdvertising","Config","phxFeatures",function($q,$timeout,phxComponent,phxComponentUtil,phxUtil,phxRoute,phxPageReporting,phxEventBus,phxAdvertising,Config,phxFeatures){function Page(routeConfig){this.routeConfig=routeConfig,this.loaded=!1,this.classes=[],this.events=new phxEventBus}function NotFoundError(){this.message="Not Found",this.name="NotFoundError";var innerError=new Error(this.message);this.stack=innerError.stack,this.toString=innerError.toString}function Redirection(targetPath){this.message="Redirection to "+targetPath,this.targetPath=targetPath}function filterEnabledComponents(routeComponents){return routeComponents.filter(function(componentConfig){return componentConfig.enabledOn?phxComponentUtil.canEnable(componentConfig.enabledOn):!0})}return Page.prototype={prepareComponents:function(progressCb){progressCb||(progressCb=function(){});var routeConfig=this.routeConfig,componentConfigs=routeConfig.components,defaultViewMeta=routeConfig.viewMeta||{},masterComponentPromise=$q.when(null),page=this,previousComponentsLoaded=$timeout(function(){}),startRenderingDefer=$q.defer();previousComponentsLoaded=$q.all([previousComponentsLoaded,startRenderingDefer.promise]);var enabledComponentConfigs=filterEnabledComponents(componentConfigs),components=[];return angular.forEach(enabledComponentConfigs,function(componentConfig){var componentPromise=phxComponent.getComponent(componentConfig,page);componentConfig.isMaster&&(masterComponentPromise=componentPromise),previousComponentsLoaded=$q.all([previousComponentsLoaded,componentPromise]).then(function(results){var component=results[1];progressCb(component),components.push(component)})}),masterComponentPromise.then(function(component){if(page.masterComponent=component,page.viewMeta=angular.copy(defaultViewMeta),component){if(!component.data)return void startRenderingDefer.reject(new NotFoundError);component.data.item&&angular.extend(page.viewMeta,component.data.item._viewMeta||{}),page.sponsorship=component.data.sponsorship,page.overriddenAdZones=component.data.overriddenAdZones}page.advertising=phxAdvertising.createContextForPage(page),page.sponsorship&&page.sponsorship.reporting&&phxPageReporting.enableReporting(page.events,page.sponsorship.reporting),startRenderingDefer.resolve(!0),page.events.dispatch("page","masterComponentLoaded")},function(err){startRenderingDefer.reject(err)}),previousComponentsLoaded.then(function(){return page.loaded=!0,page.events.dispatch("page","loaded",{featureSelections:phxFeatures.selections()}),components})},makeRedirection:function(routeKeyword,params){var path=phxUtil.makePath(phxRoute.pathByKeyword(routeKeyword),params);return new Redirection(path)}},{Page:Page,NotFoundError:NotFoundError,Redirection:Redirection}}]}),define("phxCore/services/phxPageReporting",[],function(){return["phxEventDemux","phxPixelClient",function(phxEventDemux,phxPixelClient){function enableSayReporting(eventBus,opportunityLineItemId){eventBus.specification.traffic.lineitemid=opportunityLineItemId,eventBus.rid=["pv",opportunityLineItemId,(new Date).getTime(),""+Math.random(),"_a"].join("-");var demux=new phxEventDemux({page:{loaded:{beacon:"pageview"}}},["pageview"]);demux.attach(eventBus)}function enableThirdPartyReporting(eventBus,thirdPartyEndpoints){var pageviewEndpoints=thirdPartyEndpoints.pageview||[];if(0!==pageviewEndpoints.length){var pixel=new phxPixelClient;eventBus.addListener("page","loaded",function(){for(var i=0;i<pageviewEndpoints.length;i++)pixel.fireRequest(pageviewEndpoints[i])})}}function enableReporting(eventBus,reportingConfig){if(reportingConfig){var pageViewSpecification={traffic:{}};eventBus.specification=pageViewSpecification,reportingConfig.opportunityLineItemId&&enableSayReporting(eventBus,reportingConfig.opportunityLineItemId),reportingConfig.thirdPartyEventEndpoints&&enableThirdPartyReporting(eventBus,reportingConfig.thirdPartyEventEndpoints)}}return{enableReporting:enableReporting}}]}),define("delivery/pixel",[],function(){function Pixel(loadTime){var retainer=[];"undefined"==typeof loadTime&&(loadTime=3e3);var release=function(){retainer.shift()};this.fireRequest=function(url){var image=document.createElement("img");image.src=url,retainer.push(image),window.setTimeout(release,loadTime)}}return Pixel}),define("phxCore/services/phxPixelClient",["delivery/pixel"],function(Pixel){return function(){return Pixel}}),define("phxCore/services/phxPubExchangeUtil",[],function(){return["phxCookies","Config",function(){function _injectScript(config){!function(d,s,id){var js,pjs=d.getElementsByTagName(s)[0];js=d.createElement(s),js.id=id,js.async=!0,js.src=config.widgetUrl,pjs.parentNode.insertBefore(js,pjs)}(document,"script","pubexchange-jssdk")}function _replaceImage(img){if(img.src.match(/\.gif$/)){var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0,canvas.width,canvas.height),img.parentNode.replaceChild(canvas,img)}}function _hasImages(element){return element.find("img").length}function _inspectImage(img){angular.element(img).attr("data-pin-no-hover",!0),angular.element(img).attr("nopin",!0),img.complete?_replaceImage(img):angular.element(img).on("load",function(){_replaceImage(img)})}return{injectScript:_injectScript,hasImages:_hasImages,replaceImage:_replaceImage,inspectImage:_inspectImage}}]}),define("phxCore/services/phxReadingListUtil",[],function(){return["phxCookies","Config",function(phxCookies,Config){function _markItemAsRead(contentNodeId){var readArticles=phxCookies.get(_readArticleListCookie)||[],cookieIndex=readArticles.indexOf(contentNodeId);for(-1===cookieIndex?readArticles.push(contentNodeId):(readArticles.splice(cookieIndex,1),readArticles.push(contentNodeId));readArticles.length>Config.readingList.numberOfItems;)readArticles.shift();phxCookies.put(_readArticleListCookie,readArticles,{expires:730})}function _isArticleRead(contentNodeId){var readArticles=phxCookies.get(_readArticleListCookie)||[];return-1!==readArticles.indexOf(contentNodeId)}var _readArticleListCookie="phxReadArticleListCookie";return{markItemAsRead:_markItemAsRead,isItemRead:_isArticleRead}}]}),define("phxCore/services/phxResponsiveSize",[],function(){return["$rootScope","Respond",function($rootScope,Respond){function _getSizeNumber(){var breakpoints=Respond.getBreakpoints(),currentBreakpoint=Respond.getCurrentBreakpoint(),numColumns=breakpoints.length-breakpoints.indexOf(currentBreakpoint);return 0===breakpoints[breakpoints.length-1]&&numColumns--,0===numColumns&&(numColumns=1),numColumns}function _update(){currentSizeNumber=_getSizeNumber(),currentSizeName=NUMBER_TO_NAME[currentSizeNumber]}var currentSizeNumber,currentSizeName,NUMBER_TO_NAME={1:"A",2:"B",3:"C",4:"D"};return $rootScope.$on("breakpoint",_update),_update(),{getName:function(){return currentSizeName},getNumber:function(){return currentSizeNumber}}}]}),define("phxCore/services/phxRoute",[],function(){return["$routeProvider","ConfigProvider",function($routeProvider,ConfigProvider){function makeRedirectController(redirect){return["$location","$routeParams","phxUtil","phxRoute","$interpolate","$rootScope","$http",function($location,$routeParams,phxUtil,phxRoute,$interpolate,$rootScope){if(redirect.redirectionLookup)phxUtil.tryRedirectionLookup();else{if(redirect.routeKeyword){var params={};redirect.routeParams?angular.forEach(redirect.routeParams,function(value,key){params[key]=$interpolate(value)($routeParams)}):params=$routeParams,$location.path(phxUtil.makePath(phxRoute.pathByKeyword(redirect.routeKeyword),params))}redirect.hashParams?$location.hash(phxUtil.makePath(redirect.hashParams.map(function(p){return":"+p}).join("-"),$routeParams)):redirect.hash&&$location.hash(redirect.hash),redirect.baseUrl?window.location.replace(redirect.baseUrl.replace(/\/$/,"")+$location.url()):$location.replace(),$rootScope.$broadcast("phxRedirection",null,$location.absUrl())}}]}function makeReloadController(){return["$location","$routeParams",function(){window.location.reload(!0)}]}function registerRoute(routeConfig){return routeConfig.hasOwnProperty("redirect")?void $routeProvider.when(routeConfig.path,{template:"",controller:makeRedirectController(routeConfig.redirect)}):routeConfig.hasOwnProperty("rss")?void $routeProvider.when(routeConfig.path,{template:"",controller:makeReloadController(routeConfig)}):void(routeConfig.hasOwnProperty("sitemap")||routeConfig.hasOwnProperty("proxy")||$routeProvider.when(routeConfig.path,{reloadOnSearch:!1}))}var Config=ConfigProvider.$get(),routeConfigsByKeyword={},routeConfigsByPath={};angular.forEach(Config.routes,function(routeConfig){routeConfigsByKeyword[routeConfig.keyword]=routeConfig,routeConfigsByPath[routeConfig.path]=routeConfig,registerRoute(routeConfig)}),$routeProvider.otherwise({resolve:{loadData:["$q","phxUtil",function($q,phxUtil){var deferred=$q.defer();return phxUtil.tryRedirectionLookup().then(function(){},function(){deferred.reject("Not found")}),deferred.promise}]}}),this.$get=function(){return{routeConfigByKeyword:function(keyword){return routeConfigsByKeyword[keyword]||null},routeConfigByPath:function(path){return routeConfigsByPath[path]||null},pathByKeyword:function(keyword){var routeConfig=this.routeConfigByKeyword(keyword);return routeConfig?routeConfig.path:null}}}}]}),define("phxCore/services/phxSectionUtil",[],function(){return["phxApiClient","Config","$q","cstLogger","phxUtil","phxRoute",function(phxApiClient,Config,$q,cstLogger,phxUtil,phxRoute){function _getSectionPromiseByKey(key){var sectionPromise=$q.defer();return _getSectionsMapPromise().then(function(sectionMap){sectionPromise.resolve(sectionMap[key])}),sectionPromise.promise}function _getSectionsMapPromise(){var sectionsMapPromise=$q.defer();return _sectionsMapCache?sectionsMapPromise.resolve(_sectionsMapCache):_getSectionsArrayPromise().then(function(result){_sectionsMapCache={},angular.forEach(result,function(section){_sectionsMapCache[section.sectionKey]=section}),sectionsMapPromise.resolve(_sectionsMapCache)}),sectionsMapPromise.promise}function _getSectionPath(sectionKey){return phxUtil.makePath(phxRoute.pathByKeyword("sectionHub"),{section:sectionKey})}function _getSectionsArrayPromise(){var sectionsArrayPromise=$q.defer();return _sectionsArrayCache?sectionsArrayPromise.resolve(_sectionsArrayCache):Config.sections?(_sectionsArrayCache=Config.sections,angular.forEach(_sectionsArrayCache,function(section){section.relativeUrl=_getSectionPath(section.sectionKey)}),sectionsArrayPromise.resolve(_sectionsArrayCache)):(cstLogger.error("No sections in the config"),sectionsArrayPromise.reject("No sections in config")),sectionsArrayPromise.promise}var _sectionsArrayCache,_sectionsMapCache;
return{getSectionsMapPromise:_getSectionsMapPromise,getSectionsArrayPromise:_getSectionsArrayPromise,getSectionPromiseByKey:_getSectionPromiseByKey}}]}),define("phxCore/services/phxSitemapBuilder",[],function(){return["$route","phxRoute","Config","phxApiClient","phxUtil","$q","blvCloudinaryResolver","flmContentPhotoFetcher",function($route,phxRoute,Config,phxApiClient,phxUtil,$q,blvCloudinaryResolver,flmContentPhotoFetcher){return{getConfigSitemapPaths:function(){for(var route,paths=[],path="",i=0;i<Config.routes.length;i++)if(route=Config.routes[i],route.hasOwnProperty("sitemap"))if(route.sitemap.hasOwnProperty("startYear")){path=route.path;for(var startYear=route.sitemap.startYear,currentYear=(new Date).getFullYear(),j=startYear;currentYear>=j;j++)paths.push(path.replace(":year",j))}else path=route.path,paths.push(path);return paths},getSitemap:function(route,year){if(void 0===route)return null;for(var locPattern="",i=0;i<Config.routes.length;i++){var configRoute=Config.routes[i];configRoute.keyword===route.sitemap.locKeyword&&(locPattern=configRoute.path)}if(""===locPattern)return null;var operationName=route.sitemap.operation;if(void 0===operationName)return null;var operation=phxApiClient.anon.contentSites[operationName];if(void 0===operation)return null;var defaultChangeFreq=route.sitemap.defaultChangeFreq,customVar=[];if(customVar.push(Config.siteId),route.sitemap.hasOwnProperty("customType")&&customVar.push(route.sitemap.customType),route.sitemap.hasOwnProperty("startYear"))customVar.push(year);else if(route.sitemap.hasOwnProperty("prevHoursToDisplay")){var d=new Date;d.setHours(d.getHours()-route.sitemap.prevHoursToDisplay),customVar.push(d.toISOString())}return function(chunkCb,completeCb){function processChunk(response){var rawEntries=response.entries,sitemapEntries=[],getTags=function(sitemapEntry){for(var concatenatedTags="",j=0;j<sitemapEntry.tags.length;j++)j>0&&(concatenatedTags+=","),concatenatedTags+=sitemapEntry.tags[j].displayName.replace("&","&#038;");return concatenatedTags};if("newsSitemap"===route.keyword){for(var imageIds=[],i=0;i<rawEntries.length;i++)rawEntries[i].opportunityLineItemId||imageIds.push(rawEntries[i].primaryImageId);$q.all(flmContentPhotoFetcher.getMultiObjectPromises(imageIds)).then(function(primaryImages){for(var i=0;i<rawEntries.length;i++){var sitemapEntry=rawEntries[i];if(!sitemapEntry.opportunityLineItemId){sitemapEntry.pathParams={},sitemapEntry.pathParams.month=sitemapEntry.publicationTimestamp.toISOString().substring(5,7),sitemapEntry.pathParams.day=sitemapEntry.publicationTimestamp.toISOString().substring(8,10),sitemapEntry.pathParams.section=sitemapEntry.sectionKey,sitemapEntry.pathParams.slug=sitemapEntry.slug,sitemapEntry.pathParams.year=sitemapEntry.publicationTimestamp.toISOString().substring(0,4);var contentPhoto=primaryImages[sitemapEntry.primaryImageId];sitemapEntry.primaryImageUrl="",contentPhoto&&(sitemapEntry.primaryImageUrl=blvCloudinaryResolver.rawResolver(contentPhoto)),sitemapEntries.push({url:phxUtil.makePath(locPattern,sitemapEntry.pathParams),primaryImageUrl:sitemapEntry.primaryImageUrl,lastModified:sitemapEntry.publicationTimestamp?sitemapEntry.publicationTimestamp.toISOString():null,changeFrequency:"hourly",priority:sitemapEntry.priority,title:sitemapEntry.title.replace(/&/g,"&#038;"),tags:getTags(sitemapEntry)})}}chunkCb(sitemapEntries),completeCb(!0)})}else{for(var j=0;j<rawEntries.length;j++){var sitemapEntry=rawEntries[j],changeFreq=defaultChangeFreq;sitemapEntry.changeFrequency&&(changeFreq=sitemapEntry.changeFrequency),sitemapEntries.push({url:phxUtil.makePath(locPattern,sitemapEntry.pathParams),lastModified:sitemapEntry.lastModified?sitemapEntry.lastModified.toISOString():null,changeFrequency:changeFreq,priority:sitemapEntry.priority})}chunkCb(sitemapEntries),completeCb(!0)}}function requestChunk(){operation.apply(null,customVar).then(processChunk,function(){completeCb(!1)})}requestChunk()}},getStaticSitemap:function(route){if(void 0===route)return null;var changeFreq=route.sitemap.defaultChangeFreq;return function(chunkCb,completeCb){for(var sitemapEntries=[],i=0;i<Config.routes.length;i++){var routeDef=Config.routes[i];routeDef.hasOwnProperty("includeInStaticSitemap")&&routeDef.includeInStaticSitemap===!0&&sitemapEntries.push({url:routeDef.path,changeFrequency:changeFreq})}chunkCb(sitemapEntries),completeCb(!0)}}}}]}),define("phxCore/services/phxSiteProgrammingUtil",[],function(){return["$filter","Config","phxApiClient","phxDataLoader","phxDataLoaderImpl",function($filter,Config,phxApiClient,phxDataLoader){var previewTime;return{resetPreviewTime:function(){previewTime=void 0},setPreviewTime:function(time){previewTime=parseInt(time,10)},getPreviewTime:function(){return previewTime},getItemsByBlocks:function(blocks){return previewTime?phxDataLoader.getCollection({contentItems:{byBlocks:blocks,byTime:new Date(previewTime).toISOString()}},"summary"):phxDataLoader.getCollection({contentItems:{byBlocks:blocks}},"summary")}}}]}),define("phxCore/services/phxSocial",[],function(){return["$window","$document","$location","$rootScope","$timeout","$q","$http","Config","cstLogger","$filter","phxCategorizr",function($window,$document,$location,$rootScope,$timeout,$q,$http,Config,cstLogger,$filter,phxCategorizr){function _share(item,medium){var title="",teaser="",url=_buildUrl(item.relativeUrl);item&&(title=item.promoTitle||item.title,teaser=item.teaser||"");var shareMethod,params={};if("function"!=typeof share[medium])return void cstLogger.error(medium+" is not supported by phxSocial.");shareMethod=share[medium],params={url:url,title:title,text:title,subject:title,body:title+". "+teaser};var imageUrl=$filter("phxImageUrl")(item.primaryImage,"articleDetailPrimaryImage");angular.isDefined(imageUrl)?(params.image=imageUrl,shareMethod(params)):shareMethod(params)}function _buildDestination(medium,action){var linkName,links={},linkType=phxCategorizr.isDesktop()||_isWindowsPhone()?"browser":"app";return linkName=linkType+action+"Link",links.alt=buttonSettings[medium].links["browser"+action+"Link"],links.url=buttonSettings[medium].links.hasOwnProperty(linkName)?buttonSettings[medium].links[linkName]:links.alt,links}function _loadAppFrame(appUrl,altUrl){if(_isWindowsPhone()||_isWebLink(appUrl))$window.location.href=altUrl;else{var frameTimeout,iframe=$window.document.createElement("iframe");iframe.style.border="none",iframe.style.width="1px",iframe.style.height="1px",iframe.onload=function(){clearTimeout(frameTimeout)},iframe.src=appUrl,$window.addEventListener("pageshow",function(){clearTimeout(frameTimeout)},!1),$window.addEventListener('pagehide"',function(){clearTimeout(frameTimeout)},!1),$window.document.body.appendChild(iframe),frameTimeout=setTimeout(function(){var hidden=document.hidden||document.mozHidden||document.webkitHidden||document.msHidden;hidden||($window.location.href=altUrl)},2e3),loadingNativeApp=!0}}function _buildUrl(relativeUrl){var absoluteUrl=Config.siteUrl+relativeUrl;return absoluteUrl}function _buildSocialProof(socialStats){var socialProof={aggregate:0};for(var network in socialStats){var stats=socialStats[network];stats&&("disqus"===network?(socialProof.aggregate+=stats.lastCount,socialProof[network]=Math.round(stats.lastCount)):(socialProof.aggregate+=stats.estimate,socialProof[network]=Math.round(stats.estimate)))}return socialProof.aggregate=Math.round(socialProof.aggregate),socialProof}function _isFresh(timestamp){if(timestamp){var msec=Date.parse(timestamp),timeDiff=(new Date).getTime()-msec,hoursDiff=Math.floor(timeDiff/1e3/60/60);if(96>=hoursDiff)return!0}return!1}function _isWindowsPhone(){var isWindows=phxCategorizr.getUserAgent().indexOf("Windows Phone")>-1;return isWindows}function _isWebLink(link){var re=/^https?/g,isWebLink=re.exec(link);return null!==isWebLink}var buttonSettings={facebook:{className:"facebook",proofKey:"facebook",medium:"facebook",links:{browserShareLink:"https://www.facebook.com/sharer.php?u=SHARE_URL",browserProfileLink:"https://www.facebook.com/PROFILE_ID",appProfileLink:"fb://profile/PROFILE_ID"}},twitter:{className:"twitter",proofKey:"twitter",medium:"twitter",links:{browserShareLink:"https://twitter.com/intent/tweet?url=SHARE_URL",browserProfileLink:"https://twitter.com/PROFILE_ID",appShareLink:"twitter://post?message=TITLE_TEXT%20SHARE_URL",appProfileLink:"twitter://user?screen_name=PROFILE_ID"}},googleplus:{className:"gplus",proofKey:"googleplus",medium:"googleplus",links:{browserProfileLink:"http://plus.google.com/PROFILE_ID",browserShareLink:"https://plus.google.com/share?url=SHARE_URL",appShareLink:"gplus://plus.google.com/share?url=SHARE_URL",appProfileLink:"gplus://plus.google.com/PROFILE_ID"}},reddit:{className:"reddit",proofKey:"reddit",medium:"reddit",links:{browserShareLink:"http://www.reddit.com/submit?url=SHARE_URL"}},pinterest:{className:"pinterest",proofKey:"pinterest",medium:"pinterest",links:{browserShareLink:"http://pinterest.com/pin/create/button/?url=SHARE_URL",browserProfileLink:"http://pinterest.com/PROFILE_ID",appProfileLink:"pinterest://user/PROFILE_ID/"}},tumblr:{className:"tumblr",proofKey:null,medium:"tumblr",links:{browserProfileLink:"http://PROFILE_ID.tumblr.com/",browserShareLink:"http://www.tumblr.com/share/link?url=SHARE_URL",browserSharePhotoLink:"http://www.tumblr.com/share/photo?clickthru=SHARE_URL",browserShareQuoteLink:"http://www.tumblr.com/share/quote?source=%20(%3Ca%20href%3D%22SHARE_URL%22%3Evia%3C%2Fa%3E)",appProfileLink:"tumblr://x-callback-url/blog?blogName=PROFILE_ID"}},tumblr_link:{className:"tumblr",proofKey:null,medium:"tumblr_link"},linkedin:{className:"linkedin",proofKey:"linkedin",medium:"linkedin",links:{browserShareLink:"https://www.linkedin.com/cws/share?url=SHARE_URL",browserProfileLink:"http://www.linkedin.com/company/PROFILE_ID",appProfileLink:"linkedin://#profile/PROFILE_ID"}},instagram:{className:"instagram",medium:"instagram",links:{browserProfileLink:"http://instagram.com/PROFILE_ID",appProfileLink:"instagram://user?username=PROFILE_ID"}},youtube:{className:"youtube",medium:"youtube",links:{browserProfileLink:"http://www.youtube.com/user/PROFILE_ID"}}},loadingNativeApp=!1,encodeQueryParams=function(params){var apiParams=[];for(var p in params)if(params.hasOwnProperty(p))if(params[p]instanceof Array)for(var i=0;i<params[p].length;i++)apiParams.push(p+"[]="+encodeURIComponent(params[p][i]).replace(/'/g,"%27"));else apiParams.push(p+"="+encodeURIComponent(params[p]).replace(/'/g,"%27"));return apiParams},filterParams=function(obj,params){var filteredParams={};for(var p in obj)obj.hasOwnProperty(p)&&-1!==params.indexOf(p)&&(filteredParams[p]=obj[p]);return filteredParams},_openTo=function(destination){var windowParams={windowTimeout:!1,windowPopup:phxCategorizr.isDesktop(),destination:null,target:destination.target};windowParams.windowPopup?$window.open(destination.url,windowParams.target):_loadAppFrame(destination.url,destination.alt)},shareTo=function(destination,params,windowParams){var shareParams,win,defaults={url:$location.absUrl()};params=params||{},shareParams=angular.extend({},defaults,params);for(var targetUrl in destination)destination[targetUrl]=destination[targetUrl].replace("SHARE_URL",encodeURIComponent(shareParams.url));delete shareParams.url;var extra=encodeQueryParams(shareParams).join("&");if(extra)for(var tUrl in destination)destination[tUrl]+="&"+extra;if(windowParams=angular.extend({windowSpecs:"width=500,height=500",windowName:"phxShareWindow",windowTimeout:!1,windowPopup:phxCategorizr.isDesktop(),destination:null},windowParams),windowParams.windowPopup){if(win=$window.open(destination.url,windowParams.windowName,windowParams.windowSpecs),windowParams.windowTimeout!==!1)var timeout=$timeout(function(){win.close(),$timeout.cancel(timeout)},windowParams.windowTimeout)}else _loadAppFrame(destination.url,destination.alt);return win},share={};return share.twitter=function(params){var destination=_buildDestination("twitter","Share"),windowParams={windowSpecs:"width=550,height=258,resizable=0,scrollbars=0"};return params=filterParams(params,["url","text"]),phxCategorizr.isMobile()&&destination.url.indexOf("TITLE_TEXT")>-1?(destination.url=destination.url.replace("TITLE_TEXT",encodeURIComponent(params.text)),delete params.text):destination.url=destination.url.replace("TITLE_TEXT%20",""),shareTo(destination,params,windowParams)},share.facebook=function(params){var destination=_buildDestination("facebook","Share"),windowParams={windowSpecs:"width=600,height=350,resizable=0,scrollbars=0"};return params=filterParams(params,["url","title"]),params.t=params.title,delete params.title,shareTo(destination,params,windowParams)},share.pinterest=function(params){var destination=_buildDestination("pinterest","Share"),windowParams={windowSpecs:"width=665,height=350,resizable=0,scrollbars=0"};return params=filterParams(params,["url","image","body"]),params.image?(params.media=params.image,delete params.image):cstLogger.error("Pinterest requires a pin specify an image URL (must start with http://)"),params.body&&(params.description=params.body,delete params.body),shareTo(destination,params,windowParams)},share.email=function(params){var destination={},windowParams={windowPopup:!1};return params=filterParams(params,["url","subject","body"]),params.subject||cstLogger("You should set a subject for your email"),params.body||cstLogger("Your should set a body for your email"),destination.url="mailto:?subject="+encodeURIComponent(params.subject)+"&body="+encodeURIComponent(params.body)+"%20SHARE_URL",delete params.subject,delete params.body,shareTo(destination,params,windowParams)},share.tumblr=function(type,params){var destinationParams,destination={},windowParams={windowSpecs:"width=900,height=480,resizable=0,scrollbars=0"};switch(type){case"link":destination=_buildDestination("tumblr","Share"),destinationParams=["title","description"];break;case"photo":destination.url="http://www.tumblr.com/share/photo?clickthru=SHARE_URL",destinationParams=["source","caption"];break;case"quote":destination=_buildDestination("tumblr","ShareQuote"),destinationParams=["quote"];break;default:return void cstLogger("You must specify the type of tumblr post: link or photo")}return shareTo(destination,params,windowParams)},share.tumblr_link=function(params){return params=filterParams(params,["url","title","body"]),params.description=params.body,delete params.body,share.tumblr("link",params)},share.tumblr_photo=function(params){return share.tumblr("photo",params)},share.tumblr_quote=function(params){return share.tumblr("quote",params)},share.googleplus=function(params){var destination=_buildDestination("googleplus","Share"),windowParams={windowSpecs:"height=600,width=600,menubar=no,toolbar=no,resizable=yes,scrollbars=yes"};return params=filterParams(params,["url"]),shareTo(destination,params,windowParams)},share.linkedin=function(params){var destination=_buildDestination("linkedin","Share"),windowParams={windowSpecs:"width=600,height=390,resizable=0,scrollbars=0"};return params=filterParams(params,["url"]),shareTo(destination,params,windowParams)},share.reddit=function(params){var destination=_buildDestination("reddit","Share"),windowParams={windowSpecs:"width=840,height=464,resizable=0,scrollbars=0"};return params=filterParams(params,["url","title"]),shareTo(destination,params,windowParams)},{buildSocialProof:_buildSocialProof,buildDestination:_buildDestination,openTo:_openTo,isFresh:_isFresh,share:_share,loadingNativeApp:function(){return loadingNativeApp},shareButtonSettings:function(){return buttonSettings}}}]}),define("phxCore/services/phxSocialStatsFetcher",[],function(){return["$q","phxApiClient",function($q,phxApiClient){var objectPromises={},fetchMulti=function(ids){var objectDeferreds={};0!==ids.length&&(angular.forEach(ids,function(id){var deferred=$q.defer();objectDeferreds[id]=deferred,objectPromises[id]=deferred.promise}),phxApiClient.anon.socialStats.getByIds(ids.join(",")).then(function(result){angular.forEach(ids,function(id){result.stats&&result.stats[id]?objectDeferreds[id].resolve(result.stats[id]):objectDeferreds[id].reject()})}))};return{getObjectPromise:function(id){return objectPromises[id]||fetchMulti([id]),objectPromises[id]},fetchMultiObjects:fetchMulti}}]}),define("phxCore/services/phxUtil",[],function(){return["$window","$document","$location","$filter","Config","Respond","$timeout","phxRoute","$http","$rootScope","$q","phxCategorizr",function($window,$document,$location,$filter,Config,Respond,$timeout,phxRoute,$http,$rootScope,$q,phxCategorizr){return{hasFlash:function(){var hasFlash=!1;try{var fo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");fo&&(hasFlash=!0)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(hasFlash=!0)}return hasFlash},throttle:function(fn,wait){var context,args,timeout,result,previous=0,later=function(){previous=new Date,timeout=null,result=fn.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(timeout&&$timeout.cancel(timeout),previous=now,result=fn.apply(context,args)):timeout||(timeout=$timeout(later,remaining)),result}},after:function(fn,count){return function(){return--count<1?fn.apply(this,arguments):void 0}},fromTitleCaseToWords:function(txt,delimiter){delimiter||(delimiter="-");var clean=txt.replace(/([A-Z_][^A-Z\s\-]*)/g,function(match){return match.charAt(0).toLowerCase()+match.substr(1)+delimiter});return clean.substring(0,clean.length-1)},makePath:function(routeString,params){if(!routeString)throw"routeString is required";var result=routeString;for(var param in params){var value=params[param],placeholder=":"+param;result=result.replace(placeholder,value)}return result=result.replace(/\/:[^/]+\?/g,""),result=result.replace(/\?/g,""),result=result.replace(/\*/g,"")},makeRichTermRelativeUrl:function(richTerm){var self=this;return"ContentRichTerm"!==richTerm.objectType||richTerm.relativeUrl||(richTerm.relativeUrl=self.makePath(phxRoute.pathByKeyword("richTermDetail"),{slug:richTerm.slug})),richTerm},locationBaseUrl:function(){var port=$location.port();return port||(port=""),80===port&&(port=""),port&&(port=":"+port),$location.protocol()+"://"+$location.host()+port},getViewportDimensions:function(){return{width:$window.innerWidth||$document[0].documentElement.clientWidth||0,height:$window.innerHeight||$document[0].documentElement.clientHeight||0}},isElementInView:function(element){if(element){var rect=element.getBoundingClientRect(),viewport=this.getViewportDimensions();return rect.top>=0&&rect.left>=0&&rect.bottom<=viewport.height&&rect.right<=viewport.width}},getHeading:function(headingObject){if(headingObject){var returnString;return returnString=headingObject.imageUrl?'<img src="'+headingObject.imageUrl+'" alt="'+headingObject.title+'">':headingObject.title}},runInNPercent:function(percent){return"undefined"==typeof window._pageRunId?!1:window._pageRunId<percent/100?!0:!1},formatDateAsRfc822:function(date){return $filter("date")(date,"EEE, dd MMM yyyy HH:mm:ss Z")},escapeUnicode:function(str){return str.replace(/[<>\&\\\"\x00-\x1f\x7f-\uffff]/g,function(esc){return"&#x"+("0000"+esc.charCodeAt().toString(16)).slice(-4)+";"})},isExternalLink:function(href){if(!href)return!1;var re=new RegExp("^https?://([^/]+)/"),matches=href.match(re);return matches?matches[1]===Config.siteProductionDomain?!1:!0:!1},estimateContentHeight:function(content){var self=this,contentHeight=0,imageCount=0;return angular.forEach(content,function(child){child=angular.element(child);var childHeight=0,tmlLayout=child[0].attributes.hasOwnProperty("tml-render-layout")?child.attr("tml-render-layout"):null,impact=self.getContentElementHeightImpact(tmlLayout);child[0].attributes.hasOwnProperty("tml-image")?(childHeight=self.estimateTmlImageHeight(child),imageCount++):childHeight=child[0].attributes.hasOwnProperty("tml-external-provider")?250:child.outerHeight(!0),contentHeight+=childHeight*impact}),contentHeight},estimateTmlImageHeight:function(image){var img=angular.element(image).find("img").eq(0),outer=img.outerHeight()-img.innerHeight(),imageHeight=img.width()/img.attr("width")*img.attr("height");return imageHeight+outer},getContentElementHeightImpact:function(layout){var impact=1;return("inline"===layout||"left"===layout)&&(impact=.5),impact},sortAssociatedRichTerms:function(entries){var sortedTerms={};return angular.forEach(entries,function(term){var termType=term.vocabularyId.split(":")[1];sortedTerms[termType]||(sortedTerms[termType]={},sortedTerms[termType].displayName=termType,sortedTerms[termType].items=[]),sortedTerms[termType].items.push(term)}),sortedTerms},tryRedirectionLookup:function(){var deferred=$q.defer();if(void 0===$location.path())return deferred.reject("Not found"),deferred.promise;var url=$location.url?$location.url():$location.path();return $http({method:"GET",url:"/:phoenix-api/redirect"+url}).success(function(data,status,headers){var re=RegExp("^"+$location.protocol()+"://"+$location.host());headers("location")?phxCategorizr.isServer()?($rootScope.$broadcast("phxRedirection",null,headers("location")),deferred.resolve(headers("location"))):headers("location").match(re)?($location.path(headers("location").replace(re,"")),$location.replace(),$rootScope.$broadcast("phxRedirection",null,$location.absUrl()),deferred.resolve($location.absUrl())):window.location.replace(headers("location")):(deferred.reject("Not found"),$rootScope.$broadcast("$routeChangeError"))}).error(function(){deferred.reject("Not found"),$rootScope.$broadcast("$routeChangeError")}),deferred.promise}}}]}),define("phxCore/services/phxViewMeta",[],function(){return["$rootScope","$location","Config","blvCloudinaryResolver","$timeout","phxImageOptions","$interpolate","$routeParams",function($rootScope,$location,Config,blvCloudinaryResolver,$timeout,phxImageOptions,$interpolate,$routeParams){var metaScope=$rootScope.$new(!0),view=metaScope.view={},site=metaScope.site={},validViewCallbacks=[],loadedSiteConfig=!1,loadSiteConfig=function(){site.baseUrl=Config.siteUrl,site.domain=Config.siteProductionDomain,site.name=Config.siteName,site.slogan=Config.siteSlogan,site.shortName=Config.siteName,site.htmlTitle=Config.siteHtmlTitle,site.copyrightHolder=Config.copyrightHolder,site.faviconUrl=Config.iconPaths?Config.iconPaths.favicon:void 0,site.twitterUsername=Config.social?Config.social.services.siteTwitterUsername:void 0,site.facebookPageId=Config.social?Config.social.services.facebookPageId:void 0,site.facebookAppId=Config.social?Config.social.services.facebookAppId:void 0,site.googlePlusPublisherUrl=Config.social?Config.social.services.googlePlusPublisherUrl:void 0,site.googleSiteVerificationToken=Config.googleSiteVerificationToken,site.pinterestDomainVerify=Config.social?Config.social.services.pinterestDomainVerify:void 0,loadedSiteConfig=!0},viewProperties=["title","description","socialSharingImageId","socialSharingImage1200x630Url","promoImageId","authorName","authorTwitterUsername","openGraphType","contentItemId","contentNodeId","objectType","keywords","canonicalPath","canonicalUrl","rssPath","robots","sectionKey","publishDatetimeISO8601"];return metaScope.$watch("view.promoImageId",function(){view.promoImageId?blvCloudinaryResolver.getCloudinaryUrlById(view.promoImageId,{crop:"fill",width:400,height:300}).then(function(url){view.promoImage400x300Url=url}):delete view.promoImage400x300Url}),metaScope.$watch("view.socialSharingImageId",function(){view.socialSharingImageId?blvCloudinaryResolver.getCloudinaryUrlById(view.promoImageId,phxImageOptions.getOptions("socialSharingImage")).then(function(url){view.socialSharingImage1200x630Url=url}):delete view.socialSharingImage1200x630Url}),{resetView:function(){loadSiteConfig();for(var i=0;i<viewProperties.length;i++)delete view[viewProperties[i]];validViewCallbacks=[]},setView:function(properties){loadSiteConfig();for(var i=0;i<viewProperties.length;i++){var name=viewProperties[i];properties[name]?("keywords"===name&&"string"==typeof properties[name]&&(properties[name]=properties[name].split(/\s+/)),"string"==typeof properties[name]&&properties[name].match(/{{/)?($interpolate("{{query}}"),view[name]=$interpolate(properties[name])($routeParams)):view[name]=properties[name]):delete view[name]}if(view.canonicalUrl=view.canonicalUrl||view.canonicalPath&&site.baseUrl+view.canonicalPath||null,void 0!==validViewCallbacks){var theseCallbacks=validViewCallbacks;validViewCallbacks=void 0,angular.forEach(theseCallbacks,function(cb){cb(view)})}},waitForValidView:function(cb){if(void 0!==validViewCallbacks)validViewCallbacks.push(cb);else var timeout=$timeout(function(){cb(view),$timeout.cancel(timeout)})},scope:metaScope}}]}),define("phxCore/services/phxFullscreenUtil",[],function(){var zoomFullscreenElement=null,zoomFullscreenContainer=null,getCoords=function(element){return{width:element.clientWidth,height:element.clientHeight,top:$(element).offset().top-$(window).scrollTop(),left:$(element).offset().left}};return["$timeout",function($timeout){return{hasNative:function(element){return element.requestFullscreen||element.webkitRequestFullScreen||element.mozRequestFullScreen},nativeFullscreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},isNativeEnabled:function(){return this.nativeFullscreenElement()?!0:!1},enableNative:function(element){element.requestFullScreen?element.requestFullScreen():element.webkitRequestFullScreen?element.webkitRequestFullScreen():element.mozRequestFullScreen&&element.mozRequestFullScreen()},cancelNative:function(){document.cancelFullScreen?document.cancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()},toggleNative:function(element){this.isNativeEnabled()?this.cancelNative():this.enableNative(element)},zoomFullscreenElement:function(){return zoomFullscreenElement},isZoomFullscreenEnabled:function(){return zoomFullscreenElement?!0:!1},enableZoomFullscreen:function(element){zoomFullscreenElement=element;var container=document.createElement("div");container.setAttribute("class","zoom-fullscreen-container"),zoomFullscreenContainer=container,document.body.appendChild(container);var innerTrans=document.createElement("div");innerTrans.setAttribute("class","zoom-fullscreen-inner");var innerScale=document.createElement("div");innerScale.setAttribute("class","zoom-fullscreen-inner"),$(element).wrap(innerTrans),$(element).wrap(innerScale),$timeout(function(){var innerScale=element.parentNode,innerTrans=innerScale.parentNode,coords=getCoords(element),screenCenterX=window.innerWidth/2,screenCenterY=window.innerHeight/2,elementCenterX=coords.left+coords.width/2,elementCenterY=coords.top+coords.height/2,transX=screenCenterX-elementCenterX,transY=screenCenterY-elementCenterY,magnifaction=.8,scaleY=window.innerHeight*magnifaction/coords.height,scaleX=window.innerWidth*magnifaction/coords.width,scale=scaleY>scaleX?scaleX:scaleY;container.style["background-color"]="rgba(255,255,255,1)",innerTrans.style["-webkit-transform"]="translateX("+transX+"px) translateY("+transY+"px)",innerScale.style["-webkit-transform"]="scale("+scale+")"},1)},cancelZoomFullscreen:function(){if(this.isZoomFullscreenEnabled()){var element=zoomFullscreenElement,innerScale=element.parentNode,innerTrans=innerScale.parentNode,container=zoomFullscreenContainer,transitionDone=!1,transitionCB=function(){transitionDone||(transitionDone=!0,$(zoomFullscreenElement).unwrap(),$(zoomFullscreenElement).unwrap(),container.parentNode.removeChild(container),zoomFullscreenElement=null,zoomFullscreenContainer=null)};innerScale.addEventListener("webkitTransitionEnd",transitionCB,!1),innerScale.addEventListener("msTransitionEnd",transitionCB,!1),innerScale.addEventListener("transitionEnd",transitionCB,!1),container.style["background-color"]="rgba(255,255,255,0)",innerScale.style["-webkit-transform"]="scale(1)",innerTrans.style["-webkit-transform"]="translateX(0px) translateY(0px)"}},toggleZoomFullscreen:function(element){this.isZoomFullscreenEnabled()?this.cancelZoomFullscreen():this.enableZoomFullscreen(element)},toggleNativeWithFallback:function(element){this.hasNative(element)?this.toggleNative(element):this.toggleZoomFullscreen(element)}}}]}),define("phxCore/services/phxLightTmlProcessor",[],function(){return["$q","flmContentPhotoFetcher","blvCloudinaryResolver",function($q,flmContentPhotoFetcher,blvCloudinaryResolver){function makeImageHandler(imgElem){return function(photo){return blvCloudinaryResolver.getCloudinaryUrl(photo,{crop:"fill",width:620}).then(function(imageUrl){imgElem.setAttribute("src",imageUrl)})}}function processElement(elem,imageLoader,promises,showImages){if(1!==elem.nodeType)return elem;var document=elem.ownerDocument;if(elem.hasAttribute("tml-image")&&showImages){var imageId=elem.getAttribute("tml-image"),figureElem=document.createElement("figure"),imgElem=document.createElement("img");if(elem.appendChild(figureElem),figureElem.appendChild(imgElem),promises.push(imageLoader.requestImage(imageId).then(makeImageHandler(imgElem))),elem.hasAttribute("tml-image-caption")){var figCaptionElem=document.createElement("figcaption"),figCaptionTextNode=document.createTextNode(elem.getAttribute("tml-image-caption"));figCaptionElem.appendChild(figCaptionTextNode),figureElem.appendChild(figCaptionElem)}}else if(elem.hasAttribute("tml-collection")||elem.hasAttribute("tml-external-provider")||elem.hasAttribute("tml-image")&&!showImages)return!1;for(var children=elem.childNodes,childCount=children.length,processedChildren=[],i=0;childCount>i;i++){var res=processElement(children[i],imageLoader,promises,showImages);res&&processedChildren.push(res)}return elem.innerHTML="",angular.element(elem).append(processedChildren),elem}function ImageLoader(){var imageIdDefers={};return{requestImage:function(imageId){return imageIdDefers[imageId]||(imageIdDefers[imageId]=$q.defer()),imageIdDefers[imageId].promise},loadAllImages:function(){var imageIds=Object.keys(imageIdDefers),imagePromises=flmContentPhotoFetcher.getMultiObjectPromises(imageIds);return $q.all(imagePromises).then(function(images){for(var imageId in images)imageIdDefers[imageId].resolve(images[imageId]);return images})}}}return{renderArticlesTmlToHtml:function(articles,showImages){var imageLoader=ImageLoader(),articleBodyElems={},promises=[];showImages="undefined"==typeof showImages?!0:showImages;for(var i=0;i<articles.length;i++){for(var article=articles[i],elems=angular.element(article.bodyTml),processedElems=[],j=0;j<elems.length;j++){var res=processElement(elems[j],imageLoader,promises,showImages);res&&processedElems.push(res)}articleBodyElems[article.id]=processedElems}return promises.push(imageLoader.loadAllImages()),$q.all(promises).then(function(){for(var i=0;i<articles.length;i++){var article=articles[i],elems=articleBodyElems[article.id],container=angular.element("<div></div>");container.append(elems),article.bodyHtml=container.html()}return articles})}}}]}),define("phxCore/controllers/phxTheplatformVideoCtrl",[],function(){return["$scope","$sce","$window","Config","phxTheplatformVideoService",function($scope,$sce,$window,Config,phxTheplatformVideoService){function _updatePlayerContext(context){return context.playList=this.playList,context.playerAutoStart=this.playerAutoPlay,context.playerAutoPlay=this.playerAutoStart,context.pdkBase=this.aeConfig.pdkBase,context.playerDivId=this.aeConfig.playerDivId,context.playerPlugins=this.aeConfig.playerPlugins,context}function _updateMetaData(currentVideoData){$scope.source=$sce.trustAsResourceUrl(aeConfig.aeAkamaiURL+"/pservice/embed-player/?siteId="+$scope.siteId+"&tPid="+currentVideoData.videoTpID),$scope.embedURL=$scope.source,$scope.contentURL=currentVideoData.videoURLs.releaseURL,$scope.contentCaption=currentVideoData.display.sdescs,$scope.title=currentVideoData.display.title,$scope.duration=currentVideoData.display.duration,$scope.thumbnailURL=currentVideoData.display.thumbnail,$scope.uploadDate=new Date(currentVideoData.display.addedTimestamp).toISOString(),$scope.rating=currentVideoData.display.rating,currentVideoData.display.image&&($scope.videoStill=currentVideoData.display.image.url,$scope.vs_width=currentVideoData.display.image.width,$scope.vs_height=currentVideoData.display.image.height)
}function _postMsgToPlayers(context,eventType){if(context&&context.contentWindow){var videoWin=context.contentWindow;videoWin.postMessage(eventType,"*")}}function _pauseAllPlayers(){var playerFrames=$window.parent.$.find("figure iframe");$.each(playerFrames,function(){var contentWin=this.contentWindow;contentWin&&contentWin.initializedPlayer&&contentWin.pausePlayer()})}function _isProfilePage(){var path=$scope.$root.location.path(),profileRE=/^\/\bpeople\/(?:[\w+]*-)*(\d+)$/gi,profileMatch=profileRE.exec(path),result=0;return profileMatch&&profileMatch.length>1&&(result=profileMatch[1]),result}var aeConfig=phxTheplatformVideoService.getAeConfig(),playList=[],playerAutoPlay="false",playerAutoStart=!1,primaryPlayer=!1;return $scope.isEmbed=!1,$scope.isFeatured=!1,$scope.isGalleryItem=!1,$scope.playerDivId=aeConfig.playerDivId,$window.s_account=aeConfig.omnitureAccount[window.hexEnvironment],{aeConfig:aeConfig,playerAutoPlay:playerAutoPlay,playerAutoStart:playerAutoStart,primaryPlayer:primaryPlayer,playList:playList,isProfilePage:_isProfilePage,pauseAllPlayers:_pauseAllPlayers,postMsgToPlayers:_postMsgToPlayers,updateMetaData:_updateMetaData,updatePlayerContext:_updatePlayerContext}}]}),define("phxCore/directives/phxScrollTo",[],function(){return["$route",function(){return{restrict:"A",link:function(scope,element,attrs){var scrollToId=attrs.phxScrollTo;element.bind("click",function(){var desiredElem=document.getElementById(scrollToId);if(desiredElem){var topOfDesiredElem=$(desiredElem).position().top;$(window).scrollTop(topOfDesiredElem)}})}}}]}),define("phxCore/directives/phxAutoFocus",[],function(){return["$timeout",function($timeout){return{restrict:"AC",link:function(scope,element){$timeout(function(){element.focus()})}}}]}),define("phxCore/directives/phxBlockInsertion",[],function(){return["phxBlocks",function(phxBlocks){return{restrict:"A",link:function(scope,iElement,iAttrs){var key=iAttrs.phxBlockInsertion;phxBlocks.register(key,iElement)}}}]}),define("phxCore/directives/phxBlockReplacement",[],function(){return["phxBlocks",function(phxBlocks){return{restrict:"A",link:function(scope,iElement,iAttrs){var key=iAttrs.phxBlockReplacement;iElement.remove(),phxBlocks.hasInsertionBlock(key)&&(phxBlocks.replace(key,iElement),scope.$on("$destroy",function(){phxBlocks.restore(key)}))}}}]}),define("phxCore/directives/phxBody",[],function(){return["$route","phxRoute","phxFeatures",function($route,phxRoute,phxFeatures){return{restrict:"E",link:function(scope){scope.$on("$routeChangeSuccess",function(){scope.bodyClasses=$route.current.bodyClasses?$route.current.bodyClasses.slice(0):[];var routeConfig=phxRoute.routeConfigByPath($route.current.originalPath);routeConfig&&routeConfig.bodyClasses&&(scope.bodyClasses=scope.bodyClasses.concat(routeConfig.bodyClasses)),"undefined"!=typeof phxFeatures.bodyClass&&(scope.bodyClasses=scope.bodyClasses.concat(phxFeatures.bodyClass))})}}}]}),define("phxCore/directives/phxBreakoutDam",[],function(){return["phxBreakout",function(phxBreakout){return{restrict:"AC",link:function($scope,$element,$attrs){$element.data("padding",$attrs.phxBreakdancrPadding),phxBreakout.registerDam($element[0]),$scope.$on("$destroy",function(){phxBreakout.unregisterDam($element)})}}}]}),define("phxCore/directives/phxBreakoutFlow",[],function(){return["phxBreakout",function(phxBreakout){return{restrict:"AC",link:function($scope,$element,$attrs){$element.data("padding",$attrs.phxBreakdancrPadding),phxBreakout.registerFlow($element[0]),$scope.$on("$destroy",function(){phxBreakout.unregisterFlow($element)})}}}]}),define("phxCore/directives/phxBreakoutBounds",[],function(){return["phxBreakout",function(phxBreakout){return{restrict:"AC",link:function($scope,$element){phxBreakout.registerBounds($element[0]),$scope.$on("$destroy",function(){phxBreakout.unregisterBounds($element)})}}}]}),define("phxCore/directives/phxBrowserConstraint",[],function(){return["phxCategorizr","$parse","$animate",function(phxCategorizr,$parse){return{restrict:"A",transclude:"element",priority:601,compile:function(tElement,tAttr){var test=$parse(tAttr.phxBrowserConstraint),show=test(phxCategorizr);return function(scope,iElement,iAttr,ctrl,$transclude){show&&$transclude(function(cloneElement){cloneElement.insertAfter(iElement)})}}}}]}),define("phxCore/directives/phxCategorizrClass",[],function(){return["phxCategorizr",function(phxCategorizr){return{restrict:"E",link:function(scope,element){for(var classList=phxCategorizr.getSlugList(),i=0;i<classList.length;i++)element.addClass(classList[i])}}}]}),define("text",["module"],function(module){var text,fs,Cc,Ci,xpcIsWindows,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation="undefined"!=typeof location&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||void 0),buildMap={},masterConfig=module.config&&module.config()||{};return text={version:"2.0.14",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp);matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:masterConfig.createXhr||function(){var xhr,i,progId;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;3>i;i+=1){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){var modName,ext,temp,strip=!1,index=name.lastIndexOf("."),isRelative=0===name.indexOf("./")||0===name.indexOf("../");return-1!==index&&(!isRelative||index>1)?(modName=name.substring(0,index),ext=name.substring(index+1)):modName=name,temp=ext||modName,index=temp.indexOf("!"),-1!==index&&(strip="strip"===temp.substring(index+1),temp=temp.substring(0,index),ext?ext=temp:modName=temp),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var uProtocol,uHostName,uPort,match=text.xdRegExp.exec(url);return match?(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),uPort=uHostName[1],uHostName=uHostName[0],!(uProtocol&&uProtocol!==protocol||uHostName&&uHostName.toLowerCase()!==hostname.toLowerCase()||(uPort||uHostName)&&uPort!==port)):!0},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config&&config.isBuild&&!config.inlineText)return void onLoad();masterConfig.isBuild=config&&config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+(parsed.ext?"."+parsed.ext:""),url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr;return 0===url.indexOf("empty:")?void onLoad():void(!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)}))},write:function(pluginName,moduleName,write){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){var parsed=text.parseName(moduleName),extPart=parsed.ext?"."+parsed.ext:"",nonStripName=parsed.moduleName+extPart,fileName=req.toUrl(parsed.moduleName+extPart)+".js";text.load(nonStripName,req,function(){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},"node"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(fs=require.nodeRequire("fs"),text.get=function(url,callback,errback){try{var file=fs.readFileSync(url,"utf8");"﻿"===file[0]&&(file=file.substring(1)),callback(file)}catch(e){errback&&errback(e)}}):"xhr"===masterConfig.env||!masterConfig.env&&text.createXhr()?text.get=function(url,callback,errback,headers){var header,xhr=text.createXhr();if(xhr.open("GET",url,!0),headers)for(header in headers)headers.hasOwnProperty(header)&&xhr.setRequestHeader(header.toLowerCase(),headers[header]);masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(){var status,err;4===xhr.readyState&&(status=xhr.status||0,status>399&&600>status?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,errback&&errback(err)):callback(xhr.responseText),masterConfig.onXhrComplete&&masterConfig.onXhrComplete(xhr,url))},xhr.send(null)}:"rhino"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?text.get=function(url,callback){var stringBuffer,line,encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),content="";try{for(stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&65279===line.charAt(0)&&(line=line.substring(1)),null!==line&&stringBuffer.append(line);null!==(line=input.readLine());)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}:("xpconnect"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(Cc=Components.classes,Ci=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),xpcIsWindows="@mozilla.org/windows-registry-key;1"in Cc,text.get=function(url,callback){var inStream,convertStream,fileObj,readData={};xpcIsWindows&&(url=url.replace(/\//g,"\\")),fileObj=new FileUtils.File(url);try{inStream=Cc["@mozilla.org/network/file-input-stream;1"].createInstance(Ci.nsIFileInputStream),inStream.init(fileObj,1,0,!1),convertStream=Cc["@mozilla.org/intl/converter-input-stream;1"].createInstance(Ci.nsIConverterInputStream),convertStream.init(inStream,"utf-8",inStream.available(),Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),convertStream.readString(inStream.available(),readData),convertStream.close(),inStream.close(),callback(readData.value)}catch(e){throw new Error((fileObj&&fileObj.path||"")+": "+e)}}),text}),define("text!phxCore/html/phxCategoryNav.html",[],function(){return'<select id="filterByTag" ng-model="selected" ng-options="o as o.label for o in categories" ng-hide="noNavigation">\n    <option value="" ng-class="" ng-selected="">{{defaultLabel}}</option>\n</select>\n'}),define("phxCore/directives/phxCategoryNav",["text!phxCore/html/phxCategoryNav.html"],function(template){return["Config",function(Config){var PADDING=" ";return{restrict:"E",replace:!0,template:template,scope:{selected:"=",configKey:"@"},link:function(scope){if(!Config[scope.configKey])return void(scope.noNavigation=!0);var nav=Config[scope.configKey],byTag={};angular.forEach(nav.categories,function(v){byTag[v.tag]=v.label,v.heading||(v.label=PADDING+v.label)}),scope.defaultLabel=nav.defaultLabel,scope.categories=nav.categories}}}]}),define("text!phxCore/html/phxCitationFormats.html",[],function(){return'<div>\n    <h2 class="m-person-citations--hed">Cite This Page</h2>\n\n    <h3 class="m-person-citation--hed">APA Style</h3>\n    <div class="m-person-citation--body">\n        {{item.displayTitleNoDot}}. ({{year}}). {{$root.config.siteNameForCitation}}. Retrieved {{retrieved|date:\'hh:mm, MMM dd, yyyy\'}}, from <span ng-bind-html="link"></span>.\n    </div>\n    <h3 class="m-person-citation--hed">Harvard Style</h3>\n    <div class="m-person-citation--body">\n        {{item.displayTitleNoDot}}. [Internet]. {{year}}. {{$root.config.siteNameForCitation}}. Available from: <span ng-bind-html="link"></span> [Accessed {{retrieved|date:\'dd MMM yyyy\'}}].\n    </div>\n    <h3 class="m-person-citation--hed">MLA Style</h3>\n    <div class="m-person-citation--body">\n        "{{item.displayTitleNoDot}}." <i>{{$root.config.siteNameForMlaCitation}}</i>. {{$root.config.sitePublisher}}, {{year}}. Web. {{retrieved|date:\'dd\'}} <span ng-if="(retrieved|date:\'MMMM\').length<5">{{retrieved|date:\'MMMM\'}}</span><span ng-if="(retrieved|date:\'MMMM\').length>=5">{{retrieved|date:\'MMM\'}}.</span> {{year}}.\n    </div>\n\n    <div ng-show="moreShowing">\n        <h3 class="m-person-citation--hed">MHRA Style</h3>\n        <div class="m-person-citation--body">\n            "{{item.displayTitle}}," {{$root.config.siteNameForCitation}}, {{year}}, <span ng-bind-html="link"></span> [accessed {{retrieved|date:\'MMM dd yyyy\'}}].\n        </div>\n        <h3 class="m-person-citation--hed">Chicago Style</h3>\n        <div class="m-person-citation--body">\n            "{{item.displayTitle}}," {{$root.config.siteNameForCitation}}, <span ng-bind-html="link"></span> (accessed {{retrieved|date:\'MMM dd yyyy\'}}).\n        </div>\n        <h3 class="m-person-citation--hed">CBE/CSE Style</h3>\n        <div class="m-person-citation--body">\n            {{item.displayTitle}} [Internet]. {{$root.config.siteNameForCitation}}; {{year}} [cited {{retrieved|date:\'yyyy MMM dd\'}}] Available from: <span ng-bind-html="link"></span>.\n        </div>\n        <h3 class="m-person-citation--hed">Bluebook Style</h3>\n        <div class="m-person-citation--body">\n            {{item.displayTitle}}, <span ng-bind-html="link"></span> (last visited {{retrieved|date:\'MMM dd yyyy\'}}).\n        </div>\n        <h3 class="m-person-citation--hed">AMA Style</h3>\n        <div class="m-person-citation--body">\n            {{item.displayTitleNoDot}}. {{$root.config.siteNameForCitation}}. {{year}}. Available at: <span ng-bind-html="link"></span>. Accessed {{retrieved|date:\'MMM dd yyyy\'}}.\n        </div>\n    </div>\n\n    <div ng-hide="moreShowing">\n        <button ng-click="moreShowing = true">View More Citation Formats &raquo;</button>\n    </div>\n\n</div>\n'}),define("phxCore/directives/phxCitationFormats",["text!phxCore/html/phxCitationFormats.html"],function(template){return["$filter","Config",function($filter,Config){return{restrict:"EA",template:template,scope:{item:"=",displayName:"="},link:function(scope){var unwatch=scope.$watch("item",function(item){if(item){unwatch(),scope.retrieved=new Date,scope.year=$filter("date")(scope.retrieved,"yyyy"),scope.item.displayTitleNoDot=scope.item.displayTitle.replace(/\.$/,"");var url=Config.siteUrl+item.relativeUrl;scope.link='<a href="'+url+'">'+url+"</a>",scope.moreShowing=!1}})}}}]}),define("text!phxCore/html/phxContentArticle.html",[],function(){return'<article class="m-story" ng-class="article.tagClasses">\n    <span ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Article" >\n        <section phx-block-replacement="page-top" ng-if="$root.features.variant(\'atf\') === \'top\'">\n            <phx-adaptive-ad-with-banner-fallback></phx-adaptive-ad-with-banner-fallback>\n        </section>\n        <!--// START DETAIL TEMPLATE //-->\n        <meta content="en" itemprop="inLanguage" />\n\n        <aside ng-if="article.presentationTypeCode !== \'feature\'">\n            <phx-adaptive-ad-with-banner-fallback ng-if="$root.features.variant(\'atf\') === \'above_headline\'"></phx-adaptive-ad-with-banner-fallback>\n        </aside>\n\n        <header ng-style="article.presentationTypeCode===\'feature\' ? {height: $root.windowHeight} : null" class="m-story--header">\n\n            <div ng-if="article.presentationTypeCode===\'feature\'" class="m-story--image" ng-style="{\'background-image\': \'url({{article.featuredImage ? (article.featuredImage|phxImageUrl:\'articleDetailPrimaryImage\') : (article.primaryImage|phxImageUrl:\'articleDetailPrimaryImage\') }})\'}"></div>\n\n            <div class="m-story--feature-header">\n\n                <div itemprop="articleSection" class="m-story--section">\n                    <a once-href="article.sectionRelativeUrl" phx-track-event="click" phx-track-id="SectionKey" once-text="$root.config.sections[article.sectionKey].displayName"></a>\n                </div>\n\n                <div class="m-sponsor--section-sponsor"><phx-branding-badge badge="article.sponsorship.sectionBrandingBadge"></phx-branding-badge></div>\n\n                <div class="m-story--summary">\n                    <h1 class="m-story--hed" itemprop="headline" phx-word-count>{{article.displayTitle}}</h1>\n                    <div class="m-story--abstract" itemprop="description" ng-bind="article.teaser"></div>\n                </div>\n\n                <div class="m-story--meta">\n                    <dl>\n                        <dt>Avatar:</dt>\n                        <dd ng-if="article.author.photo" class="m-story--avatar"><a ng-href="{{article.author.relativeUrl}}" phx-track-event="click" phx-track-id="Author Image"><img once-src="article.author.photo|phxImageUrl:\'articleDetailAuthorImage\'" once-alt="article.author.displayName" /></a></dd>\n                        <dt>Author:</dt>\n                        <dd itemprop="author" class="m-story--author"><a ng-href="{{article.author.relativeUrl}}" phx-track-event="click" phx-track-id="Author Name" rel="author" once-html="article.author.displayName"></a></dd>\n                        <dt>Publish date:</dt>\n                        <dd class="m-story--publish-date"><time itemprop="datePublished" datetime="{{article.publicationTimestampDatetime}}" phx-live-date="{{article.publicationTimestamp}}" title="{{article.publicationTimestampFormatted}}">{{article.publicationTimestamp|date}}</time></dd>\n\n                        <dt ng-if="$root.config.social | phxIsTrue">Social count:</dt>\n                        <dd itemprop="interactionCount" class="m-story--interaction-count">{{article.socialProof.aggregate}}</dd>\n\n                    </dl>\n                </div>\n\n            </div>\n\n        </header>\n\n        <aside>\n            <phx-adaptive-ad-with-banner-fallback ng-if="$root.features.variant(\'atf\') === \'below_headline\'"></phx-adaptive-ad-with-banner-fallback>\n        </aside>\n\n        <!-- Wrapper for setting content width -->\n        <div class="m-story--contents" phx-breakout-bounds>\n\n            <phx-social-tools\n                    once-if="($root.config.social | phxIsTrue)"\n                    once-style="{top: $root.windowHeight}"\n                    content-item="article"\n                    author="article.author">\n            </phx-social-tools>\n\n            <div class="l-one-third m-aside-rail">\n                <div class="m-aside-rail--content">\n                    <aside class="m-iab" phx-breakout-flow>\n                        <!--\n                        <img src="http://search-creatives.s3.amazonaws.com/4b/c6/29/4bc6295d5f13df025376ab52f9b2e7e5.jpg">\n                        -->\n                        <phx-advertisement once-if="$root.config.ad | phxIsTrue" class="m-sponsor--adjacency" ad-role="contentAdjacent300x600" once-attr-page-type="type"></phx-advertisement>\n                    </aside>\n\n                    <aside class="m-aside-list" ng-if="readingListEnabled">\n                        <phx-reading-list class="m-reading-list" once-if="$root.config.readingList" omit="article.id">\n                        </phx-reading-list>\n                    </aside>\n                </div>\n            </div>\n\n            <div class="m-story--sponsor"><phx-branding-badge badge="article.branding.topBadge"></phx-branding-badge></div>\n\n            <section itemprop="articleBody">\n                <div class="m-body-copy" phx-html="article.processedBodyTml" data-phx-advertising-container></div>\n\n            </section>\n\n            <div class="m-story--sponsor"><phx-branding-badge badge="article.branding.bottomBadge"></phx-branding-badge></div>\n\n            <footer class="m-story--footer">\n                <div class="m-story--meta">\n                    <dl>\n                        <dt class="m-story--label" ng-if=\'showTagsLabel\'>Tags</dt>\n                        <dd itemprop="keywords" class="m-story--keywords"><a ng-repeat="tag in article.tags" once-href="tag.relativeUrl" phx-html="tag.displayName"></a></dd>\n                        <dt ng-repeat-start="termType in article.sortedAssociatedRichTerms" phx-html="termType.displayName + \':\'"></dt>\n                        <dd ng-repeat-end itemprop="keywords" class="m-story--keywords"><a ng-repeat="term in termType.items" once-href="term.relativeUrl" phx-html="term.displayName" once-if="term.relativeUrl"></a></dd>\n                    </dl>\n                </div>\n\n                <aside class="m-story--author-box">\n\n                    <div ng-if="article.author.photo" class="m-story--avatar"><a ng-href="{{article.author.relativeUrl}}" phx-track-event="click" phx-track-id="Author Image"><img once-src="article.author.photo|phxImageUrl:\'articleDetailAuthorImage\'" once-alt="article.author.displayName" /></a></div>\n\n                    <div class="m-story--author-content">\n\n                    <div class="m-story--author-byline"><a once-href="article.author.relativeUrl" once-text="article.author.displayName" rel="author"></a></div>\n\n                    <div class="m-story--author-social" ng-show="showAuthorSocialLinks">\n                        <dl>\n                            <dt ng-if="article.author.twitterUsername">Twitter:</dt>\n                                <dd ng-if="article.author.twitterUsername"><a ng-href="http://twitter.com/{{article.author.twitterUsername}}" phx-track-event="click" phx-track-id="Twitter Follow" rel="me" target="blank">Twitter</a></dd>\n                            <dt ng-if="article.author.gplusProfileUrl">Google Plus:</dt>\n                                <dd ng-if="article.author.gplusProfileUrl"><a ng-href="{{article.author.gplusProfileUrl}}" phx-track-event="click" phx-track-id="Google Plus Follow" rel="me" target="blank">Google+</a></dd>\n                            <dt ng-if="article.author.facebookProfileUrl">Facebook:</dt>\n                                <dd ng-if="article.author.facebookProfileUrl"><a ng-href="{{article.author.facebookProfileUrl}}" phx-track-event="click" phx-track-id="Facebook Follow" rel="me" target="blank">Facebook</a></dd>\n                            <dt ng-if="article.author.linkedinProfileUrl">Linkedin:</dt>\n                                <dd ng-if="article.author.linkedinProfileUrl"><a ng-href="{{article.author.linkedinProfileUrl}}" phx-track-event="click" phx-track-id="Linkedin Follow" rel="me" target="blank">LinkedIn</a></dd>\n                            <dt ng-if="article.author.pinterestProfileUrl">Pinterest:</dt>\n                                <dd ng-if="article.author.pinterestProfileUrl"><a ng-href="{{article.author.pinterestProfileUrl}}" phx-track-event="click" phx-track-id="Pinterest Follow" rel="me" target="blank">Pinterest</a></dd>\n                            <dt ng-if="article.author.instagramProfileUrl">Instagram:</dt>\n                                <dd ng-if="article.author.instagramProfileUrl"><a ng-href="{{article.author.instagramProfileUrl}}" phx-track-event="click" phx-track-id="Instagram Follow" rel="me" target="blank">Instagram</a></dd>\n                            <dt ng-if="article.author.website">Website:</dt>\n                                <dd ng-if="article.author.website"><a ng-href="{{article.author.website}}" phx-track-event="click" phx-track-id="Website Follow" rel="me" target="blank">Website</a></dd>\n                        </dl>\n                    </div>\n                </aside>\n            </footer>\n\n            <aside class="m-aside-pub-exchange">\n                <phx-pub-exchange phx-breakout-dam\n                                  phx-track-id="PubExchange"\n                                  ng-if="$root.config.pubExchange | phxIsTrue"\n                                  config="$root.config.pubExchange">\n                </phx-pub-exchange>\n            </aside>\n\n            <aside phx-content-recommendations phx-breakout-dam\n                  phx-track-id="ContentRecommendations"\n                  ng-if="$root.config.contentRecommendations | phxIsTrue"\n                  config="$root.config.contentRecommendations"\n                  url="{{article.relativeUrl}}">\n            </aside>\n        </div>\n\n    </span>\n\n    <span ng-if="phxDisplayMode!=\'full\'">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image" style="background-image:url(\'{{article.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n            <a once-href="article.relativeUrl" phx-track-event="click" phx-track-id="Image" once-attr-rel="article.opportunityLineItemId?\'nofollow\':\'\'">\n                <img once-src="article.primaryImage|phxImageUrl:phxPrimaryImageProfile" once-alt="article.displayTitle" data-pin-no-hover="true" nopin="true"/>\n            </a>\n        </div>\n\n        <div once-if="article.sectionKey && phxDisplayMode!=\'strip\' && phxDisplayMode!=\'coverline\'" once-wait-for="article" class="m-item--section"><a once-href="article.sectionRelativeUrl" phx-track-event="click" phx-track-id="SectionKey" once-text="$root.config.sections[article.sectionKey].displayName" ng-if="! article.branding"></a><a ng-if="article.branding" once-text="$root.config.brandedContent.cardDisclosureCaption"></a></div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a once-if="phxDisplayMode==\'toaster\'" once-href="article.relativeUrl" phx-track-event="click" phx-track-id="Title" once-attr-rel="article.opportunityLineItemId?\'nofollow\':\'\'" phx-ellipsis="{{article.displayTitle}}" once-text="article.displayTitle"></a>\n                    <a once-if="phxDisplayMode==\'strip\'" once-href="article.relativeUrl" phx-track-event="click" phx-track-id="Title" once-attr-rel="article.opportunityLineItemId?\'nofollow\':\'\'" phx-ellipsis="{{article.displayTitle}}" once-text="article.displayTitle"></a>\n                    <a once-if="phxDisplayMode!=\'toaster\' && phxDisplayMode!=\'strip\'" once-href="article.relativeUrl" phx-track-event="click" phx-track-id="Title" once-attr-rel="article.opportunityLineItemId?\'nofollow\':\'\'" once-text="article.displayTitle"></a>\n                </h2>\n                <div class="m-item--abstract-wrapper">\n                    <div once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" phx-ellipsis="{{article.displayTitle}}" once-text="article.teaser"></div>\n                </div>\n            </div>\n\n            <ul once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--details">\n                <li class="m-item--author"><a once-href="article.author.relativeUrl" phx-track-event="click" phx-track-id="Author Name" once-html="article.author.displayName"></a></li>\n                <li class="m-item--date-published" phx-live-date="{{article.publicationTimestamp}}" once-title="article.publicationTimestampFormatted">{{article.publicationTimestamp|date}}</li>\n\n                <li class="m-item--comment-count" ng-if="article.socialProof && cardSocialProof === \'comment\'">\n                    <a href="{{article.relativeUrl}}#comments"><ng-pluralize count="article.socialProof.disqus" when="{\'0\': \'Comment\', \'one\': \'{} Comment\', \'other\': \'{} Comments\'}"></ng-pluralize></a>\n                </li>\n                <li class="m-item--aggregate-count" ng-if="article.socialProof && cardSocialProof === \'aggregate\' && article.socialProof.aggregate > 1">\n                    {{article.socialProof.aggregate|phxAbbreviateNumber}} Shares\n                </li>\n            </ul>\n            <!-- this is a bit of a hack to show comment counts on the xojane "most talked about" strip\n                 It is a bit of duplicated code from above\n            -->\n            <ul once-if="phxDisplayMode==\'strip\'" class="m-item--details">\n                <li class="m-item--comment-count" ng-if="article.socialProof && cardSocialProof === \'comment\'">\n                    <a href="{{article.relativeUrl}}#comments"><ng-pluralize count="article.socialProof.disqus" when="{\'0\': \'Comment\', \'one\': \'{} Comment\', \'other\': \'{} Comments\'}"></ng-pluralize></a>\n                </li>\n                <li class="m-item--aggregate-count" ng-if="article.socialProof && cardSocialProof === \'aggregate\' && article.socialProof.aggregate > 1">\n                    {{article.socialProof.aggregate|phxAbbreviateNumber}} Shares\n                </li>\n            </ul>\n        </div>\n\n    </span>\n\n</article>\n'}),define("phxCore/directives/phxContentArticle",["text!phxCore/html/phxContentArticle.html"],function(template){return["$timeout","phxBreakout","AngularyticsSkimlinksHandler","phxCategorizr","phxFeatures","Config","phxAnalyticsUtil","phxUtil",function($timeout,phxBreakout,AngularyticsSkimlinksHandler,phxCategorizr,phxFeatures,Config,phxAnalyticsUtil,phxUtil){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope,element){scope.showTagsLabel=!1,scope.article=scope.contentItem,scope.article.tags&&scope.article.tags.length>0&&(scope.showTagsLabel=!0),Config.cardSocialProof&&(scope.cardSocialProof=Config.cardSocialProof),scope.article&&scope.article.presentationTypeCode&&element.addClass("mm-"+scope.article.presentationTypeCode),scope.showAuthorSocialLinks=scope.article.author&&(scope.article.author.twitterUsername||scope.article.author.gplusProfileUrl||scope.article.author.facebookProfileUrl||scope.article.author.linkedinProfileUrl||scope.article.author.pinterestProfileUrl||scope.article.author.instagramProfileUrl||scope.article.author.website)?!0:!1,scope.$watch("contentItem.associatedRichTerms",function(){if(scope.contentItem.associatedRichTerms&&scope.contentItem.associatedRichTerms.entries){var sortedTerms=phxUtil.sortAssociatedRichTerms(scope.contentItem.associatedRichTerms.entries);scope.contentItem.sortedAssociatedRichTerms=sortedTerms,sortedTerms&&sortedTerms.terms&&sortedTerms.terms.items&&sortedTerms.terms.items.length>0&&(scope.showTagsLabel=!0)}}),scope.$watch("contentItem.processedBodyTml",function(){if(scope.contentItem.processedBodyTml){var damSelector=[".l-full-width.m-story .l-breakout",".l-full-width.m-story .l-full-bleed",".l-full-width.m-story .mm-xlarge",".l-full-width.m-story .mm-left"].join(", ");$timeout(function(){angular.forEach(angular.element(damSelector),function(child){0===angular.element(child).parents(".m-collection--carousel").length&&phxBreakout.registerDam(child,50)})},0),AngularyticsSkimlinksHandler.trackPageView()}}),scope.readingListEnabled=!1,phxCategorizr.isServer()||phxCategorizr.isSizeA()||phxCategorizr.isSizeB()||(scope.readingListEnabled=!0)}}}]}),define("text!phxCore/html/phxContentEmbed.html",[],function(){return'<article class="m-content-embed" ng-switch="embed.provider">\n\n    <!--// START TWITTER TEMPLATE //-->\n    <span ng-if="phxDisplayMode!==\'full\'" ng-switch-when="twitter" class="m-content-embed--twitter" ng-class="embed.content.imageUrl ? \'mm-has-image-embed\' : \'\'" phx-track-id="ContentEmbed-Twitter">\n        <phx-primary-image class="m-item--image" alt="{{embed.promoTitle}}" image="{{embed.content.imageUrl|phxImageUrl:phxPrimaryImageProfile|phxDefault:embed.content.imageUrl}}" background-image="{{embed.content.imageUrl|phxImageUrl:phxPrimaryImageProfile|phxDefault:embed.content.imageUrl}}" url="{{embed.externalUrl}}" target="_blank" data-pin-no-hover="true" ></phx-primary-image>\n\n        <div class="m-item--content">\n            <div class="m-item--avatar"><a ng-href="https://twitter.com/{{embed.content.username}}" target="_blank" phx-track-event="click" phx-track-id="Avatar"><img ng-src="{{embed.content.userImageUrl}}" /></a></div>\n\n            <div class="m-item--summary">\n                <h2 class="m-item--hed"><a ng-href="https://twitter.com/{{embed.content.username}}" target="_blank" phx-track-event="click" phx-track-id="Username">{{embed.content.userDisplayName}}</a></h2>\n\n                <div class="m-item--follow"><a ng-href="https://twitter.com/intent/user?screen_name={{embed.content.username}}" target="_blank" phx-track-event="click" phx-track-id="Follow">Follow</a></div>\n\n                <ul class="m-item--summary-details">\n                    <li class="m-item--embed-username"><a ng-href="https://twitter.com/{{embed.content.username}}" target="_blank" phx-track-event="click" phx-track-id="Username">@{{embed.content.username}}</a></li>\n                    <li class="m-item--date-published" once-title="embed.publicationTimestampDatetime"><a ng-href="{{embed.externalUrl}}" phx-live-date="{{embed.publicationTimestamp}}" target="_blank" phx-track-event="click" phx-track-id="Date"></a></li>\n                </ul>\n            </div>\n\n            <div class="m-item--abstract" phx-html="embed.content.text"></div>\n\n            <ul class="m-item--details">\n                <li class="m-item--reply"><a ng-href="https://twitter.com/intent/tweet?in_reply_to={{embed.externalId}}" target="_blank" phx-track-event="click" phx-track-id="Reply">Reply</a></li>\n                <li class="m-item--retweet"><a ng-href="https://twitter.com/intent/retweet?tweet_id={{embed.externalId}}" target="_blank" phx-track-event="click" phx-track-id="Retweet">Retweet</a></li>\n                <li class="m-item--favorite"><a ng-href="https://twitter.com/intent/favorite?tweet_id={{embed.externalId}}" target="_blank" phx-track-event="click" phx-track-id="Favorite">Favorite</a></li>\n            </ul>\n        </div>\n\n        <div once-if="embed.sectionKey" once-wait-for="embed" class="m-item--section"><a once-href="embed.sectionRelativeUrl" phx-track-event="click" phx-track-id="SectionKey" once-text="$root.config.sections[embed.sectionKey].displayName"></a></div>\n\n        <div class="m-item--vendor"></div>\n    </span>\n\n    <!--// START INSTAGRAM TEMPLATE //-->\n\n    <span ng-if="phxDisplayMode!==\'full\'" ng-switch-when="instagram" class="m-content-embed--instagram" phx-track-id="ContentEmbed-Instagram">\n        <phx-primary-image class="m-item--image" alt="{{embed.promoTitle}}" image="{{embed.content.lowResolutionImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:embed.content.lowResolutionImage}}" background-image="{{embed.content.lowResolutionImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:embed.content.lowResolutionImage}}" url="{{embed.externalUrl}}" target="_blank" data-pin-no-hover="true"></phx-primary-image>\n    <div class="m-item--content">\n        <div class="m-item--avatar"><a ng-href="http://instagram.com/{{embed.content.username}}" target="_blank" phx-track-event="click" phx-track-id="Username"><img ng-src="{{embed.content.userImageUrl}}" /></a></div>\n\n        <div class="m-item--summary">\n            <h2 class="m-item--hed"><a ng-href="http://instagram.com/{{embed.content.username}}" target="_blank" phx-track-event="click" phx-track-id="Username">{{embed.content.userDisplayName}}</a></h2>\n\n            <ul class="m-item--summary-details">\n                <li class="m-item--date-published" once-title="embed.publicationTimestampDatetime"><a ng-href="{{embed.externalUrl}}" phx-live-date="{{embed.publicationTimestamp}}" target="_blank" phx-track-event="click" phx-track-id="Date"></a><li>\n            </ul>\n        </div>\n\n        <div class="m-item--abstract" phx-html="embed.content.text"></div>\n\n        <ul class="m-item--details">\n            <li class="m-item--like-count"><a ng-href="{{embed.externalUrl}}" target="_blank" phx-track-event="click" phx-track-id="Likes"><ng-pluralize count="embed.content.likeCount" when="{\'0\': \'Like\', \'one\': \'{} Like\', \'other\': \'{} Likes\'}"></ng-pluralize></a></li>\n            <li class="m-item--comment-count"><a ng-href="{{embed.externalUrl}}" target="_blank" phx-track-event="click" phx-track-id="Comments"><ng-pluralize count="embed.content.commentCount" when="{\'0\': \'Comment\', \'one\': \'{} Comment\', \'other\': \'{} Comments\'}"></ng-pluralize></a></li>\n        </ul>\n    </div>\n\n        <div once-if="embed.sectionKey" once-wait-for="embed" class="m-item--section"><a once-href="embed.sectionRelativeUrl" phx-track-event="click" phx-track-id="SectionKey" once-text="$root.config.sections[embed.sectionKey].displayName"></a></div>\n\n        <div class="m-item--vendor"></div>\n    </span>\n\n    <!--// START DISQUS TEMPLATE //-->\n\n    <span ng-if="phxDisplayMode!==\'full\'" ng-switch-when="disqus" class="m-content-embed--disqus" phx-track-id="ContentEmbed-Disqus">\n\n        <div class="m-item--content">\n            <div class="m-item--avatar"><img ng-src="{{embed.content.userImageUrl}}" /></div>\n\n            <div class="m-item--summary">\n                <h2 class="m-item--hed">{{embed.content.userDisplayName}}</h2>\n\n                <ul class="m-item--summary-details">\n                    <li class="m-item--date-published" phx-live-date="{{embed.publicationTimestamp}}" once-title="embed.publicationTimestampDatetime"><li>\n                </ul>\n            </div>\n\n            <div class="m-item--abstract" phx-html="embed.content.text"></div>\n\n            <div class="m-item--title"><a ng-href="{{embed.externalUrl}}" phx-track-event="click" phx-track-id="Title">&ldquo;{{embed.content.title}}&rdquo;</a></div>\n        </div>\n\n        <div once-if="embed.sectionKey" once-wait-for="embed" class="m-item--section"><a once-href="embed.sectionRelativeUrl" phx-track-event="click" phx-track-id="SectionKey" once-text="$root.config.sections[embed.sectionKey].displayName"></a></div>\n\n        <div class="m-item--vendor"></div>\n    </span>\n</article>'
}),define("phxCore/directives/phxContentEmbed",["text!phxCore/html/phxContentEmbed.html"],function(template){return["Config",function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope){scope.embed=scope.contentItem}}}]}),define("text!phxCore/html/phxContentBasicPage.html",[],function(){return'<article class="m-basic-page">\n\n    <span ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Article">\n        <section phx-block-replacement="page-top" ng-if="$root.features.variant(\'atf\') === \'top\'">\n            <phx-adaptive-ad-with-banner-fallback></phx-adaptive-ad-with-banner-fallback>\n        </section>\n        <!--// START DETAIL TEMPLATE //-->\n        <h1 class="m-basic-page--hed" itemprop="headline">{{page.title}}</h1>\n        <section class="m-body-copy" itemprop="articleBody" phx-html="page.processedBodyTml"></section>\n    </span>\n\n    <span ng-if="phxDisplayMode!==\'full\'">\n        <!--// START LIST TEMPLATE //-->\n\n        <div class="m-item--image" style="background-image:url(\'{{page.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:page.primaryImageUrl}}\');">\n            <a ng-href="{{page.relativeUrl}}" phx-track-event="click" phx-track-id="Image" alt="{{page.displayTitle}}">\n                <img once-src="page.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:page.primaryImageUrl" alt="{{page.displayTitle}}" data-pin-no-hover="true" />\n            </a>\n        </div>\n\n        <div class="m-item--content">\n            <div class="m-item--summary">\n                <h2 class="m-item--hed" phx-word-count>\n                    <a once-if="phxDisplayMode!=\'toaster\' && phxDisplayMode!=\'strip\'" once-href="page.relativeUrl" phx-track-event="click" phx-track-id="Title" once-text="page.title"></a>\n                </h2>\n                <div class="m-item--abstract-wrapper">\n                    <div once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" phx-ellipsis="{{page.displayTitle}}" once-text="page.teaser"></div>\n                </div>\n            </div>\n\n            <ul once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--details">\n                <li class="m-item--author"><a once-href="page.author.relativeUrl" phx-track-event="click" phx-track-id="Author Name" once-html="page.author.displayName">{{page.author.displayName}}</a></li>\n                <li class="m-item--date-published" phx-live-date="{{page.publicationTimestamp}}" once-title="page.publicationTimestampFormatted">{{page.publicationTimestamp|date}}</li>\n            </ul>\n        </div>\n\n        <div once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'coverline\'" class="m-item--section"><a once-text="$root.config.siteName" once-href="page.relativeUrl" once-wait-for="page"></a></div>\n\n    </span>\n</article>\n'}),define("phxCore/directives/phxContentBasicPage",["text!phxCore/html/phxContentBasicPage.html"],function(template){return function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope){scope.page=scope.contentItem}}}}),define("phxCore/directives/phxContentItem",[],function(){return["$compile","phxUtil","cstLogger","phxFeatures",function($compile,phxUtil,cstLogger){function getLinkFn(type){return!linkForType.hasOwnProperty(type)&&classForType.hasOwnProperty(type)&&(linkForType[type]=$compile('<div class="'+classForType[type]+'" content-item="phxContentItem" phx-display-mode="{{phxDisplayMode}}" phx-primary-image-profile="{{phxPrimaryImageProfile}}"></div>')),linkForType[type]}var classForType={ContentArticle:"phx-content-article",ContentProduct:"phx-content-product",ContentBasicPage:"phx-content-basic-page",ContentEmbed:"phx-content-embed",ContentVideo:"phx-content-video",ContentPerson:"phx-content-person",ContentRecipe:"phx-content-recipe",ContentReference:"phx-content-reference",ContentRichTerm:"phx-content-rich-term"},linkForType={};return{restrict:"A",scope:{phxContentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},link:function(scope,element){scope.$watch("phxContentItem",function(phxContentItem){if(phxContentItem){var type=phxContentItem.objectType,innerLink=getLinkFn(type);if(element.html(""),!innerLink)return;var child;innerLink(scope,function(clone){child=clone}),element.prop("tagName")!==child.prop("tagName")&&cstLogger.warn("The root element `"+child.prop("tagName")+"` of the loaded template does not match the container element `"+element.prop("tagName")+"`");for(var attributes=child.get(0).attributes,i=0;i<attributes.length;i++)"class"===attributes[i].name?element.addClass(attributes[i].value):element.attr(attributes[i].name,attributes[i].value);element.append(child.contents())}})}}}]}),define("text!phxCore/html/phxContentPerson.html",[],function(){return'<article class="m-person">\n\n    <span ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Person">\n        <!--// START DETAIL TEMPLATE //-->\n        <section phx-block-replacement="page-top" ng-if="$root.features.variant(\'atf\') === \'top\'">\n            <phx-adaptive-ad-with-banner-fallback></phx-adaptive-ad-with-banner-fallback>\n        </section>\n\n\n        <phx-primary-image url="{{person.relativeUrl}}" class="m-person--image" image="{{person.primaryImage|phxImageUrl:\'personDetailPrimaryImage\'}}" alt="{{person.title}}"></phx-primary-image>\n\n        <div class="l-wrap">\n            <h1 class="m-person--hed" phx-word-count>{{person.displayTitle}}&nbsp;<span class="m-person--hed-meta">{{$root.config.siteName}}</span></h1>\n            <div class="m-person--occupations"><span ng-repeat="occupation in person.occupations | phxDedupeRichTerms">{{occupation.displayName}}<span ng-if="!$last">, </span></span><span ng-if="person.birthYear || person.deathYear" class="m-person--birthdeathyears"> (<span phx-html="[person.birthYear, person.deathYear, person.birthCirca, person.deathCirca, person.deathYearCe, person.deathYearCe] | phxBirthDeathYears"></span>)</span></div>\n            <div ng-if="($root.config.social | phxIsTrue)">\n                <phx-social-tools content-item="person"></phx-social-tools>\n            </div>\n        </div>\n\n        <aside ng-if="(showProfile300x600 | phxIsTrue)" phx-breakout-flow class="m-person--ad" style="">\n            <phx-advertisement ad-role="contentAdjacent300x600" class="m-person--iab"></phx-advertisement>\n        </aside>\n\n        <aside phx-breakout-flow class="m-person--quickfacts">\n            <h2 class="m-person--quickfacts--hed">Quick Facts</h2>\n\n            <phx-fact label="Name" source="person.title" phx-fact-itemprop="name"></phx-fact>\n            <phx-fact label="Occupation" source="person.occupations" type="richTermList" itemscope phx-fact-itemprop="jobTitle"></phx-fact>\n            <phx-fact source="[person.birthYear, person.birthMonth, person.birthDay, person.birthMonthDay, person.birthCirca, person.birthYearCe]" type="dateFromYmd" label="Birth Date" age-if="{{!person.deathYear}}" phx-fact-itemprop="birthDate"></phx-fact>\n            <phx-fact source="[person.deathYear, person.deathMonth, person.deathDay, person.deathMonthDay, person.deathCirca, person.deathYearCe]" type="dateFromYmd" label="Death Date" phx-fact-itemprop="deathDate"></phx-fact>\n            <phx-fact source="person.interesting_facts" label="Did You Know?"></phx-fact>\n            <phx-fact source="person.schools" label="Education" type="richTermList" phx-fact-itemprop="alumniOf"></phx-fact>\n            <phx-fact source="[person.birthCity, person.birthState, person.birthCountry]" label="Place of Birth" type="placeName"></phx-fact>\n            <phx-fact source="[person.deathCity, person.deathState, person.deathCountry]" label="Place of Death" type="placeName"></phx-fact>\n            <phx-fact source="person.alternateNames" type="listFromMap" phx-fact-itemprop="additionalName"></phx-fact>\n            <phx-fact ng-if="!person.deathYear" source="person.astrologicalSign" type="richTermList" label="Zodiac Sign"></phx-fact>\n        </aside>\n\n        <aside phx-breakout-flow class="m-person--toc">\n            <phx-fragment-toc tml-source="person.processedProfileTml" route-keyword="contentPersonDetail"></phx-fragment-toc>\n            <ul><li>\n                <a href="" ng-click="jumpToCitations()">Cite This Page</a>\n            </li></ul>\n        </aside>\n\n        <div class="m-person--abstract" itemprop="description" phx-html="person.bestKnownFor" ng-if="person.bestKnownFor"></div>\n\n        <aside phx-breakout-flow class="m-person--groups">\n            <h2>IN THESE GROUPS</h2>\n            <phx-related-rich-terms item="person" show-initially="4" ></phx-related-rich-terms>\n        </aside>\n\n        <aside phx-breakout-flow class="m-person--quotes" ng-if="person.quotes">\n            <phx-text-carousel source="person.quotes" prepend="&ldquo;" append="&rdquo;" footer="\'&#151;\' + person.title"></phx-text-carousel>\n        </aside>\n\n        <section class="m-body-copy" phx-html="person.processedProfileTml" phx-advertising-container></section>\n\n        <section class="m-person--factcheck">\n            <h2 class="m-person--factcheck--hed">Fact Check</h2>\n            <p>We strive for accuracy and fairness. If you see something that doesn\'t look right, <a href="/page/contact-us">contact us</a>!</p>\n        </section>\n\n        <aside class="m-person--citations" id="citations">\n            <phx-citation-formats item="person" display-name="person.alternateNames[\'Full Name\'][0] || person.title"></phx-citation-formats>\n        </aside>\n\n        <aside ng-if="($root.config.pubExchange | phxIsTrue) " >\n            <phx-pub-exchange config="$root.config.pubExchange"></phx-pub-exchange>\n        </aside>\n\n        <aside phx-content-recommendations phx-breakout-dam\n               phx-track-id="ContentRecommendations"\n               ng-if="$root.config.contentRecommendations | phxIsTrue"\n               config="$root.config.contentRecommendations"\n               url="{{person.relativeUrl}}" >\n        </aside>\n    </span>\n\n    <span ng-if="phxDisplayMode!==\'full\'">\n        <!--// START LIST TEMPLATE //-->\n        <phx-primary-image url="{{person.relativeUrl}}" class="m-item--image" image="{{person.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:person.primaryImageUrl}}" style="background-image:url(\'{{person.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:person.primaryImageUrl}}\')" alt="{{person.title}}"></phx-primary-image>\n\n        <div class="m-item--summary">\n            <h2 class="m-item--hed" phx-word-count>\n                <a ng-href="{{person.relativeUrl}}" phx-track-event="click" phx-track-id="Title">{{person.displayTitle}}</a>\n            </h2>\n            <div class="m-item--abstract" ng-bind="person.bestKnownFor" phx-ellipsis="{{person.bestKnownFor}}"></div>\n        </div>\n\n        <ul class="m-item--details">\n            <li class="m-item--occupation" ng-repeat="occupation in person.occupations | phxDedupeRichTerms">{{occupation.displayName}}<span ng-if="!$last">, </span></li>\n            <li class="m-item--birthdeathyears" span ng-if="person.birthYear || person.deathYear"> (<span phx-html="[person.birthYear, person.deathYear, person.birthCirca, person.deathCirca, person.deathYearCe, person.deathYearCe] | phxBirthDeathYears"></span>)</li>\n        </ul>\n    </span>\n\n</article>\n'}),define("phxCore/directives/phxContentPerson",["text!phxCore/html/phxContentPerson.html"],function(template){return["phxFragmentUrl","$timeout","phxAdvertising","Config",function(phxFragmentUrl,$timeout,phxAdvertising,Config){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope){scope.showProfile300x600=!1,"full"===scope.phxDisplayMode&&Config.ad&&(scope.showProfile300x600=!0),scope.person=scope.contentItem,scope.jumpToCitations=function(){phxFragmentUrl.setFragment(null,!1,!0),phxFragmentUrl.setScrolling(!0);var top=angular.element(".m-person--citations").offset().top;angular.element("html, body").animate({scrollTop:top},500),$timeout(function(){phxFragmentUrl.setScrolling(!1)},600)}}}}]}),define("text!phxCore/html/phxContentProduct.html",[],function(){return'<article class="m-product">\n\n    <span ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Product">\n        <section phx-block-replacement="page-top" ng-if="$root.features.variant(\'atf\') === \'top\'">\n            <phx-adaptive-ad-with-banner-fallback></phx-adaptive-ad-with-banner-fallback>\n        </section>\n\n        <!--// START DETAIL TEMPLATE //-->\n        <meta itemprop="image" content="{{product.primaryImage|phxImageUrl:\'productDetailPrimaryImage\'}}">\n        <meta itemprop="gtin14" content="{{product.gtinCode}}">\n\n        <header>\n            <phx-primary-image alt="{{product.title}}" class="m-product--image" image="{{product.primaryImage|phxImageUrl:\'productDetailPrimaryImage\'}}" id="{{product.id}}" url="{{product.relativeUrl}}"></phx-primary-image>\n\n            <div class="m-product--summary">\n                <h1 class="m-product--hed" itemprop="brandDisplayName" itemscope itemtype="http://schema.org/Brand">{{product.brandDisplayName}}</h1>\n\n                <div class="m-product--abstract" itemprop="description">\n                    <p class="m-product--title" itemprop="name">\n                        <span phx-html="product.title"></span>\n\n                        <span class="m-product--offers" itemprop="offers" itemscope itemtype="http://schema.org/Offer" itemtype="http://schema.org/Offer" ng-show="product.price">\n                            <meta itemprop="priceCurrency" content="{{product.priceCurrency}}">\n                            <span itemprop="price">{{product.price | currency:product.priceCurrency}}</span>\n                        </span>\n                    </p>\n                    <p class="m-product--description" itemprop="description" phx-html="product.processedDescriptionTml"></p>\n                </div>\n            </div>\n\n            <ul class="m-product--buttons">\n                <li class="opinions"><a class="button" phx-scroll-to="comments"><span>Opinions</span></a></li>\n                <li class="buynow"><a class="button" target="_blank" ng-href="{{ product.retailers[0].productPageUrl }}"><span>Buy Now</span></a></li>\n            </ul>\n\n            <div class="m-product--meta">\n                <dl ng-show="product.weight">\n                    <dt class="m-product--meta--headline">Weight:</dt><dd phx-html="product.weight" itemprop="weight"></dd>\n                </dl>\n                <dl ng-show="product.dimensions">\n                    <dt class="m-product--meta--headline">Dimensions:</dt><dd phx-html="product.dimensions"></dd>\n                </dl>\n                <dl ng-show="product.retailers">\n                    <dt class="m-product--meta--headline">Retailers:</dt><dd><span ng-repeat="retailer in product.retailers"><a ng-href="{{ retailer.productPageUrl }}">{{ retailer.displayName }}</a><span ng-show="!$last">, </span></span></dd>\n                </dl>\n            </div>\n        </header>\n\n        <footer>\n            <div ng-switch="$root.config.social|phxIsTrue">\n                <phx-social-tools ng-switch-when="true" hide-aggregate-count="true" content-item="product"></phx-social-tools>\n            </div>\n        </footer>\n\n    </span>\n\n    <span ng-if="phxDisplayMode!==\'full\'">\n        <!--// START LIST TEMPLATE //-->\n\n        <div class="m-item--image" style="background-image:url(\'{{product.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:product.primaryImageUrl}}\');">\n            <a once-href="product.relativeUrl" content-id="{{product.id}}">\n                <img once-src="product.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:product.primaryImageUrl" once-alt="product.title" data-pin-no-hover="true" />\n            </a>\n        </div>\n\n        <div class="m-item--summary">\n            <h2 class="m-item--hed"><a once-href="product.relativeUrl" phx-track-event="click" phx-track-id="Title" once-text="product.brandDisplayName"></a></h2>\n            <div class="m-item--abstract" phx-html="product.processedDescriptionTml" phx-ellipsis></div>\n        </div>\n\n        <ul class="m-item--details">\n            <li class="m-item--name" phx-html="product.title"></li>\n            <li class="m-item--price" phx-html="product.price | currency:product.priceCurrency"></li>\n        </ul>\n    </span>\n</article>\n'}),define("phxCore/directives/phxContentProduct",["text!phxCore/html/phxContentProduct.html"],function(template){return["AngularyticsSkimlinksHandler",function(AngularyticsSkimlinksHandler){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope){scope.product=scope.contentItem,scope.$watch("contentItem",function(contentItem){contentItem&&AngularyticsSkimlinksHandler.trackPageView()})}}}]}),define("text!phxCore/html/phxContentRecipe.html",[],function(){return'<article class="m-recipe" ng-class="recipe.tagClasses">\n\n    <span ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Recipe" >\n        <section phx-block-replacement="page-top" ng-if="$root.features.variant(\'atf\') === \'top\'">\n            <phx-adaptive-ad-with-banner-fallback></phx-adaptive-ad-with-banner-fallback>\n        </section>\n\n        <!--// START DETAIL TEMPLATE //-->\n        <meta content="en" itemprop="inLanguage" />\n\n        <header ng-style="recipe.presentationTypeCode===\'feature\' ? {height: $root.windowHeight} : null" class="m-recipe--header">\n\n            <div ng-if="recipe.presentationTypeCode===\'feature\'" class="m-recipe--image"\n            ng-style="{\'background-image\': \'url({{recipe.primaryImage|phxImageUrl:\'recipeDetailPrimaryImage\'}})\' }"></div>\n\n            <div class="m-recipe--feature-header">\n\n                <div class="m-recipe--section" ng-hide=true>\n                    <a once-href="recipe.terms[0].relativeUrl" phx-track-event="click" phx-track-id="RichTerm" once-text="recipe.terms[0].displayName"></a>\n                </div>\n\n                <div class="m-sponsor--section-sponsor"></div>\n\n                <div class="m-recipe--summary">\n                    <h1 class="m-recipe--hed" itemprop="name" phx-word-count>{{recipe.displayTitle}}</h1>\n                    <div class="m-recipe--abstract" itemprop="description" ng-bind="recipe.teaser"></div>\n                </div>\n\n                <div class="m-recipe--meta">\n                    <dl>\n                        <dt>Author:</dt>\n                        <dd itemprop="author" class="m-recipe--author"><a ng-href="{{recipe.author.relativeUrl}}" phx-track-event="click" phx-track-id="Author Name" rel="author" once-html="recipe.author.displayName"></a></dd>\n                        <dt>Publish date:</dt>\n                        <dd class="m-recipe--publish-date">\n                            <time itemprop="datePublished" datetime="{{recipe.publicationTimestampDatetime}}" phx-live-date="{{recipe.publicationTimestamp}}" title="{{recipe.publicationTimestampFormatted}}">{{recipe.publicationTimestamp|date}}</time>\n                        </dd>\n\n                        <dt ng-if="$root.config.social | phxIsTrue">Social count:</dt>\n                        <dd itemprop="interactionCount" class="m-recipe--interaction-count" min="{{$root.config.social.minForDisplay}}">{{recipe.socialCounts.aggregate}}</dd>\n                    </dl>\n                </div>\n\n            </div>\n\n            <phx-social-tools\n                    once-if="($root.config.social | phxIsTrue)"\n                    once-style="{top: $root.windowHeight}"\n                    content-item="recipe"\n                    author="recipe.author">\n            </phx-social-tools>\n\n            <phx-primary-image ng-show="recipe.primaryImage" alt="{{recipe.displayTitle}}" image="{{recipe.primaryImage|phxImageUrl:\'recipeDetailPrimaryImage\'}}" style="background-image:url(\'{{recipe.primaryImage|phxImageUrl:\'recipeDetailPrimaryImage\'}}\');" class="m-recipe--image" url="{{recipe.relativeUrl}}"></phx-primary-image>\n\n        </header>\n\n        <!-- Wrapper for setting content width -->\n        <div class="m-recipe--contents" data-phx-advertising-container>\n\n            <div class="m-recipe--body" phx-breakout-bounds>\n\n                <div class="m-story--sponsor"></div>\n\n                <div class="m-body-copy" ng-show="recipe.processedNarrativeTml" phx-html="recipe.processedNarrativeTml"></div>\n\n                <div class="l-one-third m-aside-rail">\n                    <div class="m-aside-rail--content">\n                        <aside class="m-iab" phx-breakout-flow>\n                            <!--<img src="http://search-creatives.s3.amazonaws.com/4b/c6/29/4bc6295d5f13df025376ab52f9b2e7e5.jpg">-->\n                            <phx-advertisement once-if="$root.config.ad | phxIsTrue" class="m-sponsor--adjacency" ad-role="contentAdjacent300x600" once-attr-page-type="type"></phx-advertisement>\n                        </aside>\n\n                        <aside class="m-aside-list" ng-if="readingListEnabled">\n                            <phx-reading-list class="m-reading-list" once-if="$root.config.readingList" omit="recipe.id"></phx-reading-list>\n                        </aside>\n                    </div>\n                </div>\n\n                <ul class="m-recipe--properties" ng-show="showRecipeProperties">\n                    <li ng-repeat="property in recipe.properties" ng-switch on="property.type" ng-class="property.key == \'servingSizeDescription\' ? \'single\' : \'double\'">\n                        <!-- switch tag on property type -->\n                        <span ng-switch-when="string" itemprop="{{property.itemprop}}">{{property.value}}</span>\n                        <time ng-switch-when="time" datetime="PT{{property.value}}M" itemprop="{{property.itemprop}}">{{property.value}}min</time>\n\n                        <span class="label">{{property.display}}</span>\n                    </li>\n                </ul>\n\n                <section class="l-split-width">\n                    <div class="l-split-column m-recipe--ingredients">\n                        <h3>Ingredients</h3>\n                        <div class="m-recipe--group" ng-repeat="group in recipe.ingredients">\n                            <h4 ng-show="group.label">{{ group.label }}</h4>\n                            <ul ng-repeat="ingredient in group.ingredients">\n                                <li itemprop="ingredients" phx-html="ingredient.descriptionTmlInline">\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n\n                    <div class="l-split-column m-recipe--preparation">\n                        <h3>Preparation</h3>\n                        <div class="m-recipe--group" phx-html="recipe.processedInstructionsTml" itemprop="recipeInstructions"></div>\n                    </div>\n                </section>\n\n                <div class="m-recipe--meta">\n                    <dl>\n                        <dt>Publish date:</dt>\n                        <dd class="m-recipe--publish-date" phx-live-date="{{recipe.publicationTimestamp}}" once-title="recipe.publicationTimestampFormatted" once-text="recipe.publicationTimestamp|date"></dd>\n                        <dt>Tags:</dt>\n                        <dt ng-repeat-start="termType in recipe.sortedAssociatedRichTerms" phx-html="termType.displayName + \':\'"></dt>\n                        <dd ng-repeat-end itemprop="keywords" class="m-recipe--keywords">\n                            <a ng-repeat="term in termType.items" once-href="term.relativeUrl" phx-html="term.displayName"></a>\n                        </dd>\n                    </dl>\n                </div>\n\n                <aside class="m-recipe--authorbox">\n                    <div ng-if="recipe.author.photo" class="m-recipe--avatar">\n                        <a ng-href="{{recipe.author.relativeUrl}}" phx-track-event="click" phx-track-id="Author Image">\n                            <img once-src="recipe.author.photo|phxImageUrl:\'recipeDetailAuthorImage\'" once-alt="recipe.author.displayName" />\n                        </a>\n                    </div>\n                    <div class="m-recipe--author">\n                        <a ng-href="{{recipe.author.relativeUrl}}" phx-track-event="click" phx-track-id="Author Name" rel="author" once-html="recipe.author.displayName"></a>\n                        <span phx-html="recipe.author.bio"></span>\n\n                        <div class="m-recipe--author-social" ng-show="showAuthorSocialLinks">\n                            <dl>\n                                <dt ng-if="recipe.author.twitterUsername">Twitter:</dt>\n                                    <dd ng-if="recipe.author.twitterUsername"><a ng-href="http://twitter.com/{{recipe.author.twitterUsername}}" phx-track-event="click" phx-track-id="Twitter Follow" rel="me" target="blank">Twitter</a></dd>\n                                <dt ng-if="recipe.author.gplusProfileUrl">Google Plus:</dt>\n                                    <dd ng-if="recipe.author.gplusProfileUrl"><a ng-href="{{recipe.author.gplusProfileUrl}}" phx-track-event="click" phx-track-id="Google Plus Follow" rel="me" target="blank">Google+</a></dd>\n                                <dt ng-if="recipe.author.facebookProfileUrl">Facebook:</dt>\n                                    <dd ng-if="recipe.author.facebookProfileUrl"><a ng-href="{{recipe.author.facebookProfileUrl}}" phx-track-event="click" phx-track-id="Facebook Follow" rel="me" target="blank">Facebook</a></dd>\n                                <dt ng-if="recipe.author.linkedinProfileUrl">Linkedin:</dt>\n                                    <dd ng-if="recipe.author.linkedinProfileUrl"><a ng-href="{{recipe.author.linkedinProfileUrl}}" phx-track-event="click" phx-track-id="Linkedin Follow" rel="me" target="blank">LinkedIn</a></dd>\n                                <dt ng-if="recipe.author.pinterestProfileUrl">Pinterest:</dt>\n                                    <dd ng-if="recipe.author.pinterestProfileUrl"><a ng-href="{{recipe.author.pinterestProfileUrl}}" phx-track-event="click" phx-track-id="Pinterest Follow" rel="me" target="blank">Pinterest</a></dd>\n                                <dt ng-if="recipe.author.instagramProfileUrl">Instagram:</dt>\n                                    <dd ng-if="recipe.author.instagramProfileUrl"><a ng-href="{{recipe.author.instagramProfileUrl}}" phx-track-event="click" phx-track-id="Instagram Follow" rel="me" target="blank">Instagram</a></dd>\n                                <dt ng-if="recipe.author.website">Website:</dt>\n                                    <dd ng-if="recipe.author.website"><a ng-href="{{recipe.author.website}}" phx-track-event="click" phx-track-id="Website Follow" rel="me" target="blank">Website</a></dd>\n                            </dl>\n                        </div>\n                    </div>\n                </aside>\n            </div>\n\n            <div class="m-story--sponsor"></div>\n\n            <footer class="m-recipe--footer">\n                <div once-if="$root.config.social | phxIsTrue">\n                    <phx-social-tools content-item="recipe" author="recipe.author"></phx-social-tools>\n                </div>\n            </footer>\n\n            <aside class="m-aside-pub-exchange">\n                <phx-pub-exchange phx-breakout-dam\n                                  phx-track-id="PubExchange"\n                                  ng-if="$root.config.pubExchange | phxIsTrue"\n                                  config="$root.config.pubExchange">\n                </phx-pub-exchange>\n            </aside>\n\n            <aside phx-content-recommendations phx-breakout-dam\n                  phx-track-id="ContentRecommendations"\n                  ng-if="$root.config.contentRecommendations | phxIsTrue"\n                  config="$root.config.contentRecommendations"\n                  url="{{recipe.relativeUrl}}">\n            </aside>\n        </div>\n    </span>\n\n\n\n\n\n    <span ng-if="phxDisplayMode!=\'full\'">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image" style="background-image:url(\'{{recipe.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:recipe.primaryImageUrl}}\');">\n            <a once-href="recipe.relativeUrl" phx-track-event="click" phx-track-id="Image" once-attr-rel="recipe.opportunityLineItemId?\'nofollow\':\'\'">\n                <img once-src="recipe.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:recipe.primaryImageUrl" once-alt="recipe.displayTitle" data-pin-no-hover="true" />\n            </a>\n        </div>\n\n        <div once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'coverline\'" once-wait-for="recipe" class="m-item--section"><a href="/recipes" phx-track-event="click" phx-track-id="SectionKey">recipes</a></div>\n\n        <div class="m-item--summary">\n            <h2 class="m-item--hed" phx-word-count>\n                <a once-if="phxDisplayMode==\'toaster\'" once-href="recipe.relativeUrl" phx-track-event="click" phx-track-id="Title" once-attr-rel="recipe.opportunityLineItemId?\'nofollow\':\'\'" phx-ellipsis="{{recipe.displayTitle}}" once-text="arrecipeticle.displayTitle"></a>\n                <a once-if="phxDisplayMode==\'strip\'" once-href="recipe.relativeUrl" phx-track-event="click" phx-track-id="Title" once-attr-rel="recipe.opportunityLineItemId?\'nofollow\':\'\'" phx-ellipsis="{{recipe.displayTitle}}" once-text="recipe.displayTitle"></a>\n                <a once-if="phxDisplayMode!=\'toaster\' && phxDisplayMode!=\'strip\'" once-href="recipe.relativeUrl" phx-track-event="click" phx-track-id="Title" once-attr-rel="recipe.opportunityLineItemId?\'nofollow\':\'\'" once-text="recipe.displayTitle"></a>\n            </h2>\n            <div class="m-item--abstract-wrapper">\n                <div once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" phx-ellipsis="{{recipe.teaser}}" once-text="recipe.teaser"></div>\n            </div>\n        </div>\n\n        <ul once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--details">\n            <li class="m-item--author"><a once-href="recipe.author.relativeUrl" phx-track-event="click" phx-track-id="Author Name" once-html="recipe.author.displayName"></a></li>\n            <li class="m-item--date-published" phx-live-date="{{recipe.publicationTimestamp}}" once-title="recipe.publicationTimestampFormatted">{{recipe.publicationTimestamp|date}}</li>\n        </ul>\n    </span>\n</article>\n'}),define("phxCore/directives/phxContentRecipe",["text!phxCore/html/phxContentRecipe.html"],function(template){return["phxAdvertising","phxUtil","phxCategorizr","Config",function(phxAdvertising,phxUtil,phxCategorizr){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope){if(scope.recipe=scope.contentItem,scope.showProfile300x600=!1,scope.showRecipeProperties=scope.recipe.properties&&scope.recipe.properties.length?!0:!1,scope.showAuthorSocialLinks=scope.recipe.author&&(scope.recipe.author.twitterUsername||scope.recipe.author.gplusProfileUrl||scope.recipe.author.facebookProfileUrl||scope.recipe.author.linkedinProfileUrl||scope.recipe.author.pinterestProfileUrl||scope.recipe.author.instagramProfileUrl||scope.recipe.author.website)?!0:!1,scope.$watch("contentItem.associatedRichTerms",function(){if(scope.contentItem.associatedRichTerms&&scope.contentItem.associatedRichTerms.entries){var sortedTerms=phxUtil.sortAssociatedRichTerms(scope.contentItem.associatedRichTerms.entries);
scope.contentItem.sortedAssociatedRichTerms=sortedTerms}}),scope.recipe.processedNarrativeTml){var cleanNarrativeTml=scope.recipe.processedNarrativeTml.filter(function(index,element){var firstTmlImage=element.outerHTML.indexOf("tml-image")>-1&&0===index;return!firstTmlImage});scope.recipe.processedNarrativeTml=cleanNarrativeTml}scope.readingListEnabled=!1,phxCategorizr.isServer()||phxCategorizr.isSizeA()||phxCategorizr.isSizeB()||(scope.readingListEnabled=!0)}}}]}),define("phxCore/directives/phxContentRecommendations",[],function(){return["phxContentRecommendationsUtil","Config",function(phxContentRecommendationsUtil,Config){return{restrict:"EA",scope:{config:"=",url:"@"},template:'<div id="{{containerId}}" class="l-content-recommendation m-{{provider}} nocontent">',replace:!0,link:function(scope,element){var config,url;scope.$watch("[config, url]",function(newVal){if(config=newVal[0],url=newVal[1],config){scope.containerId=config.containerId,scope.provider=config.provider;var canonicalUrl=Config.siteUrl+url;phxContentRecommendationsUtil.injectContent(config,canonicalUrl)}},!0);var hasImages=function(){return phxContentRecommendationsUtil.hasImages(element)},unwatch=scope.$watch(hasImages,function(hasImages){hasImages&&(unwatch(),angular.forEach(element.find("img"),phxContentRecommendationsUtil.inspectImage))})}}}]}),define("text!phxCore/html/phxContentReference.html",[],function(){return'<article itemscope class="m-reference" itemtype="http://schema.org/WebPage">\n    <span ng-if="phxDisplayMode===\'full\'">\n        <!--// START DETAIL TEMPLATE //-->\n    <meta content="en" itemprop="inLanguage" />\n\n    <header>\n        <div class="m-reference--image" itemprop="image">\n\n            <phx-primary-image class="m-reference--image" alt="{{reference.promoTitle}}" image="{{reference.primaryImageUrl}}" background-image="{{reference.primaryImageUrl}}" url="{{reference.url}}" target="_blank"></phx-primary-image>\n\n        </div>\n    </header>\n\n    <aside>\n        <div class="m-reference--summary">\n            <p class="m-reference--hed" itemprop="name">\n                {{ reference.promoTitle || reference.title }}\n            </p>\n            <p class="m-reference--description" itemprop="description">\n                {{ reference.teaser }}\n            </p>\n        </div>\n    </aside>\n    </span>\n\n    <span ng-if="phxDisplayMode!==\'full\'">\n        <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image" style="background-image:url(\'{{reference.primaryImage|phxImageUrl:phxPrimaryImageProfile}}\');">\n            <a once-href="reference.url" phx-track-event="click" phx-track-id="Image" once-attr-rel="reference.opportunityLineItemId?\'nofollow\':\'\'" target="_blank">\n                <img once-src="reference.primaryImage|phxImageUrl:phxPrimaryImageProfile" once-alt="reference.displayTitle" data-pin-no-hover="true" nopin="true"/>\n            </a>\n        </div>\n\n        <div class="m-item--summary">\n            <h2 class="m-item--hed" itemprop="name" phx-word-count>\n				<a once-if="phxDisplayMode==\'toaster\'" once-href="reference.url" phx-track-event="click" phx-track-id="Title" once-attr-rel="reference.opportunityLineItemId?\'nofollow\':\'\'" phx-ellipsis="{{reference.displayTitle}}" once-text="reference.displayTitle" target="_blank"></a>\n				<a once-if="phxDisplayMode==\'strip\'" once-href="reference.url" phx-track-event="click" phx-track-id="Title" once-attr-rel="reference.opportunityLineItemId?\'nofollow\':\'\'" phx-ellipsis="{{reference.displayTitle}}" once-text="reference.displayTitle" target="_blank"></a>\n				<a once-if="phxDisplayMode!=\'toaster\' && phxDisplayMode!=\'strip\'" once-href="reference.url" phx-track-event="click" phx-track-id="Title" once-attr-rel="reference.opportunityLineItemId?\'nofollow\':\'\'" once-text="reference.displayTitle" target="_blank"></a>\n            </h2>\n            <div once-if="phxDisplayMode!=\'strip\' && phxDisplayMode!=\'aside\'" class="m-item--abstract" itemprop="description" phx-ellipsis="{{reference.teaser}}" once-text="reference.teaser"></div>\n        </div>\n    </span>\n</article>\n'}),define("phxCore/directives/phxContentReference",["text!phxCore/html/phxContentReference.html"],function(template){return[function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope){scope.reference=scope.contentItem}}}]}),define("text!phxCore/html/phxContentRichTerm.html",[],function(){return'<article class="m-rich-term" phx-track-id="ContentRichTerm">\n    <span ng-if="phxDisplayMode===\'full\'" itemscope itemtype="http://schema.org/Article" >\n        <!--// START DETAIL TEMPLATE //-->\n        <header>\n            <phx-primary-image class="m-rich-term--image" background-image="{{term.primaryImage|phxImageUrl:\'richTermDetailPrimaryImage\'}}" alt="{{term.displayTitle}}" image="{{term.primaryImage|phxImageUrl:\'richTermDetailPrimaryImage\'}}" url="{{term.relativeUrl}}"></phx-primary-image>\n        </header>\n\n        <div class="m-rich-term--summary">\n            <h1 class="m-rich-term--hed" itemprop="headline" phx-word-count>{{term.displayTitle}}</h1>\n\n            <div ng-if="($root.config.social | phxIsTrue)">\n                <phx-social-tools content-item="term"></phx-social-tools>\n            </div>\n\n            <div class="m-rich-term--abstract" itemprop="description" ng-bind="term.teaser"></div>\n        </div>\n\n        <aside class="m-rich-term--ad">\n            <phx-freewheel-ad layout="box"></phx-freewheel-ad>\n        </aside>\n\n        <section class="m-body-copy" itemprop="articleBody" phx-html="term.processedOverviewTml"></section>\n    </span>\n\n    <span ng-if="phxDisplayMode!==\'full\'">\n      <!--// START LIST TEMPLATE //-->\n        <div class="m-item--image" style="background-image:url(\'{{term.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:term.primaryImageUrl}}\');">\n            <a ng-href="{{term.relativeUrl}}" phx-track-event="click" phx-track-id="Image" alt="{{term.displayTitle}}">\n                <img ng-if="term.primaryImage" ng-src="{{term.primaryImage|phxImageUrl:phxPrimaryImageProfile|phxDefault:term.primaryImageUrl}}" alt="{{term.displayTitle}}" data-pin-no-hover="true" />\n            </a>\n        </div>\n\n        <div class="m-item--summary">\n            <h2 class="m-item--hed" phx-word-count>\n                <a ng-href="{{term.relativeUrl}}" phx-track-event="click" phx-track-id="Title" phx-html="term.displayTitle"></a>\n            </h2>\n            <div class="m-item--abstract" phx-ellipsis="{{term.teaser}}" ng-bind="term.teaser"></div>\n        </div>\n    </span>\n</article>\n'}),define("phxCore/directives/phxContentRichTerm",["text!phxCore/html/phxContentRichTerm.html"],function(template){return[function(){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,link:function(scope,element){scope.term=scope.contentItem,scope.term.overviewTml||element.addClass("mm-nocopy")}}}]}),define("text!phxCore/html/phxContentVideo.html",[],function(){return'<article class="m-content-video" tml-external-provider itemprop="video" itemscope itemtype="http://schema.org/VideoObject">\n\n    <meta itemprop="thumbnailUrl" content="{{video.thumbnailUrl}}" />\n    <meta itemprop="contentUrl" content="{{video.contentUrl}}"/>\n    <meta itemprop="uploadDate" content="{{video.uploadDate}}" />\n    <meta itemprop="contentRating" content="{{video.contentRating}}" />\n    <meta itemprop="contentCaption" content="{{video.teaser}}" />\n\n    <div class="m-video--return-page" ng-if="phxDisplayMode==\'full\'" ng-cloak>\n        <a ng-href="{{returnPage.url}}" class="m-video--return-arrow"></a><a ng-href="{{returnPage.url}}">Return to {{returnPage.title}}</a>\n    </div>\n\n    <aside class="m-video--ad" ng-if="phxDisplayMode==\'full\'">\n        <phx-freewheel-ad layout="box"></phx-freewheel-ad>\n    </aside>\n\n    <div class="m-video--player-container" ng-if="phxDisplayMode==\'full\'">\n\n        <iframe class="m-video--player" id="{{playerDivId}}" src="videoIframe.html"></iframe>\n\n        <div class="m-video--summary">\n            <h1 class="m-video--hed" itemprop="name" phx-word-count>\n                {{video.title}}\n            </h1>\n            <div class="m-video--abstract" itemprop="description" ng-cloak>({{video.rating}}; {{video.duration}}) {{video.teaser}}</div>\n        </div>\n\n    </div>\n\n\n    <header>\n        <div ng-if="phxDisplayMode!=\'full\'" class="m-video--image m-video--not-playing" id="{{\'m-video--\' + video.id}}">\n            <a ng-href="{{video.relativeUrl}}" phx-video-link="video" phx-track-event="click" phx-track-id="Image" alt="{{video.title}}">\n                <img ng-src="{{video.primaryImageUrl}}" alt="{{video.title}}" itemprop="thumbnail" />\n            </a>\n        </div>\n    </header>\n\n    <div class="m-video--summary" ng-if="phxDisplayMode!=\'full\'">\n        <h2 class="m-video--hed" itemprop="name" phx-word-count>\n            <a ng-href="{{video.relativeUrl}}" phx-video-link="video" phx-track-event="click" phx-track-id="Title" phx-html="video.title"></a>\n        </h2>\n\n        <div class="m-item--abstract-wrapper">\n            <div class="m-video--abstract" itemprop="description" phx-ellipsis="{{video.teaser}}" ng-bind="video.teaser"></div>\n        </div>\n    </div>\n\n    <ul class="m-item--details" ng-if="phxDisplayMode!=\'full\'">\n        <li class="m-item--rating">{{video.rating|uppercase}}</li>\n        <li class="m-item--duration">{{video.duration}}</li>\n    </ul>\n\n</article>\n'}),define("phxCore/directives/phxContentVideo",["text!phxCore/html/phxContentVideo.html"],function(template){return["$location","$rootScope","$sce","$window","phxViewMeta","phxElementUtil","phxTheplatformVideoService",function($location,$rootScope,$sce,$window,phxViewMeta,phxElementUtil){return{restrict:"AC",replace:!0,scope:{contentItem:"=",phxDisplayMode:"@",phxPrimaryImageProfile:"@"},template:template,controller:"phxTheplatformVideoCtrl",link:function(scope,element,attrs,ctrl){scope.video=scope.contentItem;var now="m-video--now-playing",not="m-video--not-playing";if("full"===scope.phxDisplayMode){scope.returnPage={url:scope.video.source.relativeUrl,title:scope.video.source.title+" Biography"},$rootScope.$on("phxVideo::switchVideo",function(evt,video){if(video.id){scope.video=video,scope.$apply();var vidContext=angular.element("iframe.m-video--player")[0].contentWindow,vplayer=vidContext.aetn.biography.videocontroller.getPlayers().aeplayer;vplayer&&vplayer.player.playVideo(video.playList[0].videoURLs,!1,vplayer.scope),window.history.pushState({},"",video.relativeUrl+($location.$$hash?"#"+$location.$$hash:""));var unbind=$rootScope.$on("$locationChangeStart",function(evt){evt.preventDefault(),unbind()});phxElementUtil.animateToElement("iframe.m-video--player"),$rootScope.$apply(),angular.element("."+now).removeClass(now).addClass(not),angular.element("#m-video--"+video.id).removeClass(not).addClass(now)}});var articleSel='article[itemprop="video"]',inDom=function(){return $.contains(document.documentElement,angular.element(articleSel)[0])};scope.$watch("video.playList",function(playList){if(playList)var unwatch=scope.$watch(inDom,function(elementOnPage){elementOnPage&&(unwatch(),angular.element(articleSel).find("iframe").bind("load",function(evt){ctrl.playerAutoStart=!0,ctrl.playerAutoPlay=!0,ctrl.playList=playList;var pc=ctrl.updatePlayerContext(evt.target.contentWindow);pc.startPlayer(),angular.element("#m-video--"+scope.video.id).removeClass(not).addClass(now)}),phxViewMeta.setView({title:scope.video.title,description:scope.video.teaser,socialSharingImage1200x630Url:scope.video.primaryImageUrl}))})})}}}}]}),define("text!phxCore/html/phxCoverlines.html",[],function(){return'<header class="l-coverlines m-feed nocontent {{config.htmlClasses}}" phx-track-id="Coverlines" ng-if="enabled">\n    <div class="l-coverlines--content">\n        <h1 ng-if="showH1" class="m-coverlines--site">\n          <a class="m-coverlines--logo" href="/" phx-skin-bgimg="$root.config.logo.heading" once-text="$root.config.siteName"></a>\n        </h1>\n        <a ng-if="!showH1" class="m-coverlines--logo" href="/" phx-skin-bgimg="$root.config.logo.heading" once-text="$root.config.siteName"></a>\n        <article ng-repeat="item in coverlines" phx-content-item="item" phx-display-mode="coverline" phx-primary-image-profile="coverline"></article>\n    </div>\n</header>'}),define("phxCore/directives/phxCoverlines",["text!phxCore/html/phxCoverlines.html"],function(template){return["$rootScope","phxSiteProgrammingUtil","Config","phxComponentUtil","phxRoute","$route",function($rootScope,phxSiteProgrammingUtil,Config,phxComponentUtil,phxRoute,$route){return{restrict:"E",template:template,replace:!0,link:function(scope){var gotPreviewTime=!1,config=Config.coverlines2;scope.enabled=phxComponentUtil.canEnable(config.enabledOn);var loadBlocks=function(){config&&config.blockTokens&&phxSiteProgrammingUtil.getItemsByBlocks(config.blockTokens).then(function(result){scope.coverlines=result.items})};$rootScope.$watch(function(){return phxSiteProgrammingUtil.getPreviewTime()},function(newVal,oldVal){void 0===newVal&&newVal===oldVal||!scope.enabled||(gotPreviewTime=!0,loadBlocks())}),scope.$on("$routeChangeSuccess",function(){scope.showH1=phxRoute.routeConfigByPath($route.current.originalPath).showCoverlinesH1===!0?!0:!1})}}}]}),define("phxCore/directives/phxDisqusThread",[],function(){return["$window","$location","$timeout","phxUtil","phxElementUtil",function($window,$location,$timeout,phxUtil,phxElementUtil){return{restrict:"A",scope:{disqusShortname:"@",disqusTitle:"@",disqusIdentifier:"@",disqusUrl:"@"},template:'<div id="disqus_thread"></div>',replace:!0,controller:function($scope,$element){var _disqusLoaded=!1,_loadDisqus=function(){if(!_disqusLoaded&&$scope.disqusIdentifier&&$scope.disqusUrl&&$scope.disqusTitle){if("undefined"!=typeof DISQUS)DISQUS.reset({reload:!0,config:function(){this.page.identifier=$scope.disqusIdentifier,this.page.url=$scope.disqusUrl,this.page.title=$scope.disqusTitle}});else{if(!$scope.disqusShortname)return;window.disqus_shortname=$scope.disqusShortname,window.disqus_identifier=$scope.disqusIdentifier,window.disqus_url=$scope.disqusUrl,window.disqus_title=$scope.disqusTitle,function(){var dsq=document.createElement("script");dsq.type="text/javascript",dsq.async=!0,dsq.src="//"+window.disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq)}()}$element.waypoint("destroy"),_disqusLoaded=!0}};$scope.$on("$destroy",function(){window.disqus_identifier=null,window.disqus_url=null,window.disqus_title=null});var unwatch=$scope.$watch("disqusIdentifier+disqusTitle+disqusUrl+disqusShortname",function(){$scope.disqusIdentifier&&$scope.disqusUrl&&$scope.disqusTitle&&$scope.disqusShortname&&(unwatch(),$location.hash()&&$location.hash().match("^comment[s-]")?(_loadDisqus(),"comments"===$location.hash()&&$timeout(function(){phxElementUtil.animateToElement("#disqus_thread")},1e3)):$element.waypoint(function(){_loadDisqus()},{offset:"200%"}))})}}}]}),define("text!phxCore/html/phxFact.html",[],function(){return'<dl>\n    <dt ng-repeat-start="value in values" ng-if="value.label | phxIsTrue">{{value.label}}</dt>\n    <dd ng-repeat-end itemprop="{{itemprop}}" ng-bind-html="value.value"></dd>\n</dl>\n'}),define("phxCore/directives/phxFact",["text!phxCore/html/phxFact.html"],function(template){return["$filter",function($filter){var types={richTermList:function(source,attr){angular.isArray(source)||(source=[source]);var ret=[];return source=$filter("phxDedupeRichTerms")(source),angular.forEach(source,function(term){ret.push(term.relativeUrl&&!attr.noLinks?'<a href="'+term.relativeUrl+'">'+term.displayName+"</a>":term.displayName)}),ret.join(", ")},dateFromYmd:function(source,attr){if(source[0]){var date,dateStr,y=source[0],m=source[1],d=source[2],md=source[3],circa=source[4],ce=source[5];if(m?d?(date=new Date(y.displayName,m-1,d),y.displayName<100&&date.setFullYear(y.displayName),dateStr=$filter("date")(date,"MMMM d, y"),md&&md.relativeUrl&&!attr.noLinks&&(dateStr=dateStr.replace(new RegExp(md.displayName),'<a href="'+md.relativeUrl+'">'+md.displayName+"</a>"))):(date=new Date(y.displayName,m-1,1),dateStr=$filter("date")(date,"MMMM, y")):dateStr=y.displayName,y.relativeUrl&&!attr.noLinks&&(dateStr=dateStr.replace(new RegExp(y.displayName),'<a href="'+y.relativeUrl+'">'+y.displayName+"</a>")),circa&&(dateStr="c. "+dateStr),void 0===ce||null===ce||ce||(dateStr+=" BCE"),attr.ageIf&&"false"!==attr.ageIf&&date){var now=new Date,yDelta=now.getFullYear()-date.getFullYear(),mDelta=now.getMonth()-date.getMonth();(0>mDelta||0===mDelta&&now.getDate()<date.getDate())&&yDelta--,dateStr+=" (age "+yDelta+")"}return dateStr}},placeName:function(source,attr){for(var strParts=[],i=0;i<source.length;i++)if(source[i]&&(2!==i||!source[i].displayName.match(/^U\.?S\.?A\.?|United States/))){var str=source[i].displayName;source[i].relativeUrl&&!attr.noLinks&&(str='<a href="'+source[i].relativeUrl+'">'+str+"</a>"),strParts.push(str)}return strParts.join(", ")},listFromMap:function(source){var ret=[];return angular.forEach(source,function(v,k){for(var i=0;i<v.length;i++){var item={value:v[i]};0===i&&(item.label=k),ret.push(item)}}),ret}};return{restrict:"EA",template:template,replace:!0,scope:{source:"=",type:"@",label:"@",itemprop:"@phxFactItemprop"},link:function(scope,element,attr){var unwatch=scope.$watch("source",function(source){if(source&&(!angular.isArray(source)||source.length)&&(unwatch(),!attr.type||!types[attr.type]||(source=types[attr.type](source,attr,scope)))){var values=[];angular.forEach(angular.isArray(source)?source:[source],function(item){values.push(angular.isObject(item)?item:{value:item,label:attr.label})}),scope.values=values}})}}}]}),define("text!phxCore/html/phxFragmentToc.html",[],function(){return'<ul>\n    <li ng-repeat="fragment in fragments">\n        <a href="" ng-click="setFragment(fragment.fragment)" phx-html="fragment.heading"></a>\n    </li>\n</ul>\n'}),define("phxCore/directives/phxFragmentToc",["text!phxCore/html/phxFragmentToc.html"],function(template){return["phxFragmentUrl","$location",function(phxFragmentUrl){return{restrict:"EA",template:template,scope:{tmlSource:"=",routeKeyword:"@"},link:function(scope){var unwatch=scope.$watch("tmlSource",function(nodes){if(nodes){unwatch();var fragments=[];angular.forEach(nodes,function(node){if("SECTION"===node.tagName){var el=angular.element(node),heading=el.find("h2");heading.length&&fragments.push({fragment:el.attr("tml-anchor"),heading:heading[0].innerHTML})}}),scope.fragments=fragments,scope.setFragment=function(fragment){phxFragmentUrl.setFragment(fragment,!0,!0)}}})}}}]}),define("text!phxCore/html/phxFreewheelAd.html",[],function(){return'<div id="{{divID}}">\n    <span id="{{divID}}_fw_ad" class="_fwph">\n        <span id="_fw_container_{{divID}}_fw_ad">\n            <iframe id="ad-box-iframe" width="{{adType.width}}" height="{{adType.height}}"\n                frameborder="0" marginheight="0" marginwidth="0" scrolling="no"></iframe>\n        </span>\n        <form id="_fw_form_{{divID}}_fw_ad" style="display: none;">\n            <input id="_fw_input_{{divID}}_fw_ad" type="hidden"\n                name="_fw_input_{{divID}}_fw_ad"\n                value="{{fwInput}}">\n        </form>\n    </span>\n</div>'}),define("phxCore/directives/phxFreewheelAd",["text!phxCore/html/phxFreewheelAd.html"],function(template){return function($rootScope){return{restrict:"E",replace:!0,scope:{layout:"="},template:template,link:function(scope,element,attrs){var adType={box:{width:300,height:250},leaderboard:{width:728,height:90}};scope.adtype=adType[attrs.layout],scope.divID="ad-"+attrs.layout+"-"+scope.adtype.width+"x"+scope.adtype.height,scope.fwInput="ptgt=s&envp=g_js&slau="+scope.adtype.width+"x"+scope.adtype.height+"&w="+scope.adtype.width+"&h="+scope.adtype.height+"&cd="+scope.adtype.width+","+scope.adtype.height+"|"+scope.adtype.width+","+scope.adtype.height,$rootScope.$on("phxTmlExternalProvider::initialized",function(data){scope.divID+="-"+data.targetScope.playerDivId})}}}}),define("phxCore/directives/phxHtml",[],function(){return["$parse","$sce",function($parse){return{restrict:"A",link:function(scope,element,attr){function getStringValue(){return(parsed(scope)||"").toString()}element.addClass("ng-binding").data("$binding",attr.phxHtml);var parsed=$parse(attr.phxHtml);scope.$watch(getStringValue,function(){element.html(parsed(scope)||"")})}}}]}),define("phxCore/directives/phxInteractionCount",[],function(){return["Config","phxSocial","$animate",function(Config,phxSocial,$animate){return{restrict:"EA",template:"{{count|phxAbbreviateNumber}}",scope:{url:"@",commentCount:"@",min:"@"},priority:999,link:function($scope,element){element.addClass("ng-hide"),$scope.$watch("url",function(){if($scope.url)if(Config.social&&Config.social.enableSharingCounts)phxSocial.getSocialCountPromise($scope.url).then(function(count){var total=0;$scope.commentCount&&!isNaN($scope.commentCount)&&(total+=parseInt($scope.commentCount,10)),count&&!isNaN(count)&&(total+=parseInt(count,10)),$scope.count=total,($scope.min?total>=$scope.min:!0)&&$animate.removeClass(element,"ng-hide")},function(){$scope.count="N/A"});else{var total=0;$scope.commentCount&&!isNaN($scope.commentCount)&&(total+=parseInt($scope.commentCount,10)),$scope.count=total}})}}}]}),function(undefined){function dfl(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function printMsg(msg){moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(printMsg(msg),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(printMsg(msg),deprecations[name]=!0)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}function Locale(){}function Moment(config,skipOverflow){skipOverflow!==!1&&checkOverflow(config),copyConfig(this,config),this._d=new Date(+config._d)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=moment.localeData(),this._bubble()}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=from._pf),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=makeAs(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=moment.duration(val,period),addOrSubtractDurationFromMoment(this,dur,direction),this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),months&&rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding),updateOffset&&moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||24===m._a[HOUR]&&(0!==m._a[MINUTE]||0!==m._a[SECOND]||0!==m._a[MILLISECOND])?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length&&m._pf.bigHour===undefined)),m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule)try{oldLocale=moment.locale(),require("./locale/"+name),moment.locale(oldLocale)}catch(e){}return locales[name]}function makeAs(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-+res,res._d.setTime(+res._d+diff),moment.updateOffset(res,!1),res):moment(input).local()}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"x":return parseTokenOffsetMs;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))
}}function timezoneMinutesFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?-minutes:minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=config._locale.monthsParse(input,token,config._strict),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._isPm=config._locale.isPM(input);break;case"h":case"hh":config._pf.bigHour=!0;case"H":case"HH":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"x":config._d=new Date(toInt(input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=timezoneMinutesFromString(input);break;case"dd":case"ddd":case"dddd":a=config._locale.weekdaysParse(input),null!=a?(config._w=config._w||{},config._w.d=a):config._pf.invalidWeekday=input;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=toInt(input));break;case"gg":case"GG":config._w=config._w||{},config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year),week=dfl(w.W,1),weekday=dfl(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year),week=dfl(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=dfl(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()+config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601)return void parseISO(config);config._a=[],config._pf.empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._pf.bigHour===!0&&config._a[HOUR]<=12&&(config._pf.bigHour=undefined),config._isPm&&config._a[HOUR]<12&&(config._a[HOUR]+=12),config._isPm===!1&&12===config._a[HOUR]&&(config._a[HOUR]=0),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else config._isValid=!1}function makeDateFromString(config){parseISO(config),config._isValid===!1&&(delete config._isValid,moment.createFromInputFallback(config))}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function makeDateFromInput(config){var matched,input=config._i;input===undefined?config._d=new Date:isDate(input)?config._d=new Date(+input):null!==(matched=aspNetJsonRegex.exec(input))?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),dateFromConfig(config)):"object"==typeof input?dateFromObject(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,locale){if("string"==typeof input)if(isNaN(input)){if(input=locale.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||1===days&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||1===months&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=+posNegDuration>0,args[4]=locale,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return d=0===d?7:d,weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var res,input=config._i,format=config._f;return config._locale=config._locale||moment.localeData(config._l),null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),moment.isMoment(input)?new Moment(input,!0):(format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),res=new Moment(config),res._nextDay&&(res.add(1,"d"),res._nextDay=undefined),res))}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return moment();for(res=moments[0],i=1;i<moments.length;++i)moments[i][fn](res)&&(res=moments[i]);return res}function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){return"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)}}function daysToYears(days){return 400*days/146097}function yearsToDays(years){return 146097*years/400}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}for(var moment,oldGlobalMoment,i,VERSION="2.8.4",globalScope="undefined"!=typeof global?global:this,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule="undefined"!=typeof module&&module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Locale.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=moment.utc([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.apply(mom,[now]):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=locale,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)},moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)},moment.utc=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=locale,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,diffRes,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))?(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}):"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(moment(duration.from),moment(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),moment.isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.ISO_8601=function(){},moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.relativeTimeThreshold=function(threshold,limit){return relativeTimeThresholds[threshold]===undefined?!1:limit===undefined?relativeTimeThresholds[threshold]:(relativeTimeThresholds[threshold]=limit,!0)},moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)}),moment.locale=function(key,values){var data;return key&&(data="undefined"!=typeof values?moment.defineLocale(key,values):moment.localeData(key),data&&(moment.duration._locale=moment._locale=data)),moment._locale._abbr},moment.defineLocale=function(name,values){return null!==values?(values.abbr=name,locales[name]||(locales[name]=new Locale),locales[name].set(values),moment.locale(name),locales[name]):(delete locales[name],null)},moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)}),moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return moment._locale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&hasOwnProp(obj,"_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.zone(0,keepLocalTime)},local:function(keepLocalTime){return this._isUTC&&(this.zone(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.add(this._dateTzOffset(),"m")),this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var diff,output,daysAdjust,that=makeAs(input,this),zoneDiff=6e4*(this.zone()-that.zone());return units=normalizeUnits(units),"year"===units||"month"===units?(diff=432e5*(this.daysInMonth()+that.daysInMonth()),output=12*(this.year()-that.year())+(this.month()-that.month()),daysAdjust=this-moment(this).startOf("month")-(that-moment(that).startOf("month")),daysAdjust-=6e4*(this.zone()-moment(this).startOf("month").zone()-(that.zone()-moment(that).startOf("month").zone())),output+=daysAdjust/diff,"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),units===undefined||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")},isAfter:function(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+this>+input):(inputMs=moment.isMoment(input)?+input:+moment(input),inputMs<+this.clone().startOf(units))},isBefore:function(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+input>+this):(inputMs=moment.isMoment(input)?+input:+moment(input),+this.clone().endOf(units)<inputMs)},isSame:function(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+this===+input):(inputMs=+moment(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),this>other?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),other>this?this:other}),zone:function(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null==input?this._isUTC?offset:this._dateTzOffset():("string"==typeof input&&(input=timezoneMinutesFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=this._dateTzOffset()),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.subtract(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(offset-input,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(input){return input=input?moment(input).zone():0,(this.zone()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){return units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value),this
},locale:function(key){var newLocaleData;return key===undefined?this._locale._abbr:(newLocaleData=moment.localeData(key),null!=newLocaleData&&(this._locale=newLocaleData),this)},lang:deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return key===undefined?this.localeData():this.locale(key)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,years=0;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),years=absRound(daysToYears(days)),days-=absRound(yearsToDays(years)),months+=absRound(days/30),days%=30,years+=absRound(months/12),months%=12,data.days=days,data.months=months,data.years=years},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());return withSuffix&&(output=this.localeData().pastFuture(+this,output)),this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){var days,months;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+this._milliseconds/864e5,months=this._months+12*daysToYears(days),"month"===units?months:months/12;switch(days=this._days+Math.round(yearsToDays(this._months/12)),units){case"week":return days/7+this._milliseconds/6048e5;case"day":return days+this._milliseconds/864e5;case"hour":return 24*days+this._milliseconds/36e5;case"minute":return 24*days*60+this._milliseconds/6e4;case"second":return 24*days*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*days*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+units)}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"},localeData:function(){return this._locale}}),moment.duration.fn.toString=moment.duration.fn.toISOString;for(i in unitMillisecondFactors)hasOwnProp(unitMillisecondFactors,i)&&makeDurationGetter(i.toLowerCase());moment.duration.fn.asMilliseconds=function(){return this.as("ms")},moment.duration.fn.asSeconds=function(){return this.as("s")},moment.duration.fn.asMinutes=function(){return this.as("m")},moment.duration.fn.asHours=function(){return this.as("h")},moment.duration.fn.asDays=function(){return this.as("d")},moment.duration.fn.asWeeks=function(){return this.as("weeks")},moment.duration.fn.asMonths=function(){return this.as("M")},moment.duration.fn.asYears=function(){return this.as("y")},moment.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule?module.exports=moment:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal===!0&&(globalScope.moment=oldGlobalMoment),moment}),makeGlobal(!0)):makeGlobal()}.call(this),define("phxCore/directives/phxLiveDate",["moment"],function(moment){return["$interval","$filter",function($interval,$filter){return{restrict:"EA",template:"{{fromNow}}",scope:{phxLiveDate:"@",refreshInterval:"@",liveDateDefaultFormat:"@"},link:function(scope,element,attrs){var liveDateInterval;scope.$watch("phxLiveDate",function(phxLiveDate){function refresh(){moment().diff(currentDate,"days")>=1?(scope.fromNow=$filter("date")(phxLiveDate,scope.liveDateDefaultFormat),liveDateInterval&&$interval.cancel(liveDateInterval)):scope.fromNow=currentDate.fromNow()}if(phxLiveDate){phxLiveDate=phxLiveDate.replace(/^\"|\"$/g,"").replace(/\Z$/,"+0000");var currentDate=moment(phxLiveDate,"YYYY-MM-DD[T]HH:mm:ss.SSSZZ"),refreshInterval=1e3*(attrs.refreshInterval||60);refresh(),liveDateInterval=$interval(refresh,refreshInterval)}},!0),element.on("$destroy",function(){$interval.cancel(liveDateInterval)})}}}]}),define("text!phxCore/html/phxNav.html",[],function(){return'<nav class="l-navbar" ng-cloak>\n    <div class="m-navbar">\n        <phx-nav-list classname="m-navbar--menu-primary" items="primaryMenu"></phx-nav-list>\n        <a class="m-navbar--menu-logo" href="/"><div phx-skin-bgimg="logoHeading"></div></a>\n        <phx-nav-list classname="m-navbar--menu-secondary" items="secondaryMenu"></phx-nav-list>\n   </div>\n</nav>'}),define("phxCore/directives/phxNav",["text!phxCore/html/phxNav.html"],function(template){return["Config","phxRoute","phxUtil","phxFeatures","$rootScope","phxSocial",function(Config,phxRoute,phxUtil,phxFeatures,$rootScope,phxSocial){return{restrict:"E",template:template,replace:!0,link:function(scope,element){var defaultPrimaryMenu,defaultSecondaryMenu,tocTitle;Config.TOC&&Config.TOC.hero&&Config.TOC.hero.heading&&(tocTitle=Config.TOC.hero.heading.title),defaultPrimaryMenu=[];var basicPath=phxRoute.pathByKeyword("contentBasicPageDetail");defaultPrimaryMenu.push({classname:"m-navbar--menu-sections m-off-canvas--toggle",title:"Topics"});var searchPath=phxRoute.pathByKeyword("searchQuery");if(searchPath&&defaultPrimaryMenu.push({classname:"m-navbar--menu-search",url:phxUtil.makePath(searchPath),title:"Search"}),basicPath&&defaultPrimaryMenu.push({classname:"m-navbar--menu-info",url:phxUtil.makePath(basicPath,{slug:"about"}),title:"About"}),Config.topNav&&Config.topNav.links)for(var external=/https?:\/\//,classname="m-navbar--menu-link",i=0;i<Config.topNav.links.length;i++)external.test(Config.topNav.links[i].url)&&(classname+=" m-navbar--menu-link-external"),defaultPrimaryMenu.push({classname:classname,title:Config.topNav.links[i].title,name:Config.topNav.links[i].name,url:Config.topNav.links[i].url,target:Config.topNav.links[i].target,rel:Config.topNav.links[i].rel});if(defaultSecondaryMenu=[],Config.social&&Config.social.links)for(var n=0;n<Config.social.links.length;n++){var destination=phxSocial.buildDestination(Config.social.links[n].name,"Profile");defaultSecondaryMenu.push({classname:"m-navbar--menu-social m-navbar--menu-"+Config.social.links[n].name,url:destination.url.replace("PROFILE_ID",Config.social.links[n].id),alt:destination.alt.replace("PROFILE_ID",Config.social.links[n].id),rel:Config.social.links[n].rel,target:"_blank",trackId:Config.social.links[n].name+"-follow"})}Config.logo&&(scope.logoHeading=Config.logo.nav),scope.primaryMenu=defaultPrimaryMenu,scope.secondaryMenu=defaultSecondaryMenu,(phxFeatures.isEnabled("sticky-nav")||phxFeatures.isEnabled("transitions"))&&(element.addClass("fixedsticky"),element.fixedsticky(),$rootScope.$on("breakpoint",function(){element.fixedsticky("destroy"),element.fixedsticky()}))}}}]}),define("text!phxCore/html/phxNavList.html",[],function(){return'<ul class="{{classname}}" phx-track-id="Nav List">\n    <li class="{{item.classname}}" ng-class="{\'is-active\': item.url && item.url === currentPath}" ng-repeat="item in items" phx-track-id="Item">\n        <a ng-href="{{item.url}}" ng-click="clickHandler($event, item)" target="{{item.target && item.target || \'\'}}" title="{{item.title}}"\n        	phx-track-event="click" phx-track-id="{{ item.trackId && item.trackId || \'Name\'}}">\n        	<em class="{{item.nameclass}}">{{item.name}}</em>\n        </a>\n\n        <!-- support for sub-links -->\n        <ul ng-if="item.links" class="{{subclassname}}">\n            <li class="{{subitem.classname}}" ng-class="{\'is-active\': subitem.url === currentPath}" ng-repeat="subitem in item.links" phx-track-id="SubItem">\n                <a ng-href="{{subitem.url}}" target="{{subitem.target && subitem.target || \'\'}}" title="{{subitem.title}}" phx-track-event="click" phx-track-id="{{ subitem.trackId && subitem.trackId || \'Name\'}}"><em class="{{subitem.nameclass}}">{{subitem.name}}</em></a>\n            </li>\n        </ul>\n    </li>\n</ul>\n'}),define("phxCore/directives/phxNavList",["text!phxCore/html/phxNavList.html"],function(template){return["$location","phxSocial",function($location,phxSocial){return{restrict:"E",scope:{items:"=",classname:"@",subclassname:"@"},template:template,replace:!0,link:function($scope){$scope.clickHandler=function(e,item){item.hasOwnProperty("target")&&-1!==item.classname.indexOf("m-navbar--menu-social")&&(e.preventDefault(),phxSocial.openTo(item))},$scope.$on("$locationChangeSuccess",function(){$scope.currentPath=$location.path()})}}}]}),define("text!phxCore/html/phxNewsletterSignup.html",[],function(){return'<article class="m-newsletter" itemscope phx-track-id="Newsletter">\n    <header ng-style="{\'background-image\': $root.config.newsletter.bgImgUrl ? \'url(\'+$root.config.newsletter.bgImgUrl+\')\' : \'\'}">\n        <div class="m-newsletter--image"></div>\n\n        <div class="m-newsletter--summary">\n            <h2 class="m-newsletter--hed newsletter" phx-skin-bgimg="newsletterHeading"></h2>\n\n            <div ng-show="message" class="alert message">{{message}}</div>\n\n            <h3 ng-hide="message" class="m-newsletter--hed" phx-html="$root.config.newsletter.title"></h3>\n\n            <div ng-show="error" class="m-newsletter--error">{{error}}</div>\n\n            <form ng-if="!clickoutUrl" ng-hide="message" name="signupForm" class="form-horizontal" ng-submit="finalize(email)">\n                <div class="error" ng-show="signupForm.input.$error.required">Required!</div>\n\n                <input name="email" type="email" required=true id="signup-box-email-signup" ng-model="email" placeholder="Email address">\n\n                <input type="submit" value="" ng-disabled="working">\n            </form>\n\n            <a ng-href="{{clickoutUrl}}" target="_blank" ng-if="clickoutUrl" class="clickout">Sign up now</a>\n        </div>\n    </header>\n</article>\n'}),define("phxCore/directives/phxNewsletterSignup",["text!phxCore/html/phxNewsletterSignup.html"],function(template){return["Config","phxApiClient",function(Config,phxApiClient){return{restrict:"EAC",template:template,replace:!0,controller:function($scope){$scope.working=!1,$scope.newsletterHeading=Config.newsletter?Config.newsletter.heading:void 0,$scope.clickoutUrl=Config.newsletter.clickoutUrl,$scope.finalize=function(email){$scope.working=!0;var mailchimpListId=Config.newsletter.mailchimpListId;email||($scope.working=!1,$scope.error="Email is required."),phxApiClient.contentSites.addEmailToMailingList(Config.siteId,{email:email,mailchimpListId:mailchimpListId}).then(function(){$scope.message=Config.newsletter?Config.newsletter.message:void 0,$scope.bgImgUrl=Config.newsletter?Config.newsletter.bgImgUrl:void 0,$scope.email="",$scope.error=!1},function(){$scope.working=!1,$scope.error="There was an error. Please try again."})}}}}]}),define("text!phxCore/html/phxOffCanvasNav.html",[],function(){return'<nav class="m-off-canvas" ng-cloak>\n    <div class="m-off-canvas--close m-off-canvas--toggle">\n        <a ng-href="#"></a>\n    </div>\n\n    <div class="m-vertical-nav m-off-canvas--scroller">\n        <phx-nav-list classname="m-vertical-nav--menu mm-primary" subclassname="m-vertical-nav--submenu" items="primaryMenu"></phx-nav-list>\n        <phx-nav-list classname="m-vertical-nav--menu mm-secondary" subclassname="m-vertical-nav--submenu" items="secondaryMenu"></phx-nav-list>\n    </div>\n\n    <div class="m-off-canvas--footer">\n        <form><input placeholder="Search" ng-model="search.keyword" ng-keypress="search.onKeypress($event)" /><button class="m-off-canvas--footer--submit" ng-click="search.search()"></button></form>\n\n        <div class="m-navbar">\n            <phx-nav-list classname="m-navbar--menu-secondary" subclassname="m-navbar--menu-secondary-submenu" items="socialMenu"></phx-nav-list>\n        </div>\n    </div>\n</nav>\n'}),define("phxCore/directives/phxOffCanvasNav",["text!phxCore/html/phxOffCanvasNav.html"],function(template){return["Config","$rootScope","$location","phxRoute","phxUtil","$timeout","phxSocial",function(Config,$rootScope,$location,phxRoute,phxUtil,$timeout,phxSocial){return{restrict:"EA",template:template,replace:!0,scope:{primaryMenu:"&",secondaryMenu:"&"},link:function(scope){var defaultPrimaryMenu=[],defaultSecondaryMenu=[],defaultSocialMenu=[];if(Config.offCanvasNav&&Config.offCanvasNav.links||Config.topNav&&Config.topNav.links){var links=[];links=Config.offCanvasNav?Config.offCanvasNav.links:Config.topNav.links;for(var external=/https?:\/\//,classname="m-navbar--menu-link",i=0;i<links.length;i++)external.test(links[i].url)&&(classname+=" m-navbar--menu-link-external"),defaultPrimaryMenu.push({classname:classname,title:links[i].title,name:links[i].name,url:links[i].url,target:links[i].target,rel:links[i].rel,links:links[i].links,imgSrc:links[i].imgSrc})}if(Config.footer&&Config.footer.links&&(defaultSecondaryMenu=Config.footer.links),Config.social&&Config.social.links)for(var i2=0;i2<Config.social.links.length;i2++){var destination=phxSocial.buildDestination(Config.social.links[i2].name,"Profile");defaultSocialMenu.push({classname:"m-navbar--menu-"+Config.social.links[i2].name,url:destination.url.replace("PROFILE_ID",Config.social.links[i2].id),alt:destination.alt.replace("PROFILE_ID",Config.social.links[i2].id),rel:Config.social.links[i2].rel,target:"_blank",trackId:Config.social.links[i2].name+"-follow"})}scope.primaryMenu=defaultPrimaryMenu,scope.secondaryMenu=defaultSecondaryMenu,scope.socialMenu=defaultSocialMenu;var OffCanvasNav=function(){this.container=angular.element(".m-off-canvas--container"),this.defaultEffect="m-off-canvas--effect-2",this.eventType="click touchstart",this.bodyClickListener=this.bodyClickFn.bind(this),this.bodyScrollListener=this.bodyScrollFn.bind(this);var myself=this;angular.element(document).keypress(this.keypressFn.bind(this)),this.container.on("click",".m-off-canvas--scroller a",function(){var timeout=$timeout(function(){myself.close(),$timeout.cancel(timeout)})}),angular.element("body").on(this.eventType,".m-off-canvas--toggle a",function(e){e.stopPropagation(),e.preventDefault(),myself.toggle(myself.defaultEffect)}),angular.element(".m-off-canvas--scroller").on("mousewheel scroll",function(e){return e.originalEvent.deltaY>0&&this.clientHeight+this.scrollTop===this.scrollHeight||e.originalEvent.deltaY<0&&0===this.scrollTop?(e.stopPropagation(),e.preventDefault(),!1):void 0})};OffCanvasNav.prototype.open=function(effect){this.container[0].className="m-off-canvas--container",this.container.addClass(effect);var myself=this,timeout=$timeout(function(){myself.container.addClass("m-off-canvas--menu-open"),$timeout.cancel(timeout)},25);angular.element("body").on(this.eventType,this.bodyClickListener),angular.element(document).on("scroll mousewheel",this.bodyScrollListener)},OffCanvasNav.prototype.close=function(){angular.element("body").off(this.eventType,this.bodyClickListener),angular.element(document).off("scroll mousewheel",this.bodyScrollListener),this.container.removeClass("m-off-canvas--menu-open");var timeout=$timeout(function(){angular.element(".m-off-canvas--scroller")[0].scrollTop=0,$timeout.cancel(timeout)},510)},OffCanvasNav.prototype.toggle=function(effect){this.container.hasClass("m-off-canvas--menu-open")?this.close():this.open(effect)},OffCanvasNav.prototype.hasParentClass=function(e,classname){return e===document?!1:angular.element(e).hasClass(classname)?!0:e.parentNode&&this.hasParentClass(e.parentNode,classname)},OffCanvasNav.prototype.bodyClickFn=function(event){this.hasParentClass(event.target,"m-off-canvas--menu")||(event.stopPropagation(),event.preventDefault(),this.close())},OffCanvasNav.prototype.bodyScrollFn=function(event){this.hasParentClass(event.target,"m-off-canvas--menu")||(event.stopPropagation(),event.preventDefault())},OffCanvasNav.prototype.keypressFn=function(event){126===event.which&&event.shiftKey&&"input"!==event.target.localName&&this.toggle(this.defaultEffect)};var thisNav=new OffCanvasNav;$rootScope.openOffCanvasNav=function(effect){return function(e){e&&(e.stopPropagation(),e.preventDefault()),thisNav.open(effect)}},$rootScope.closeOffCanvasNav=function(e){e&&e.preventDefault(),thisNav.close()},$rootScope.toggleOffCanvasNav=function(effect){return function(e){e&&(e.stopPropagation(),e.preventDefault()),thisNav.toggle(effect)}},scope.search={},scope.search.onKeypress=function(event){13===event.which&&scope.search.search()},scope.search.search=function(){if("undefined"!=typeof scope.search.keyword&&""!==scope.search.keyword){thisNav.close();var searchRoutePath=phxRoute.pathByKeyword("searchQuery"),path=phxUtil.makePath(searchRoutePath,{query:scope.search.keyword});$location.path(path),$location.hash(null),scope.search.keyword=""}}}}}]}),define("phxCore/directives/phxOnHeightChange",[],function(){return["$parse","$window",function($parse,$window){return{restrict:"A",compile:function(tElement,tAttr){var fn=$parse(tAttr.phxOnHeightChange,null,!0);return function(scope,iElement){if($window.requestAnimationFrame){var sizeProxyFrame=angular.element("<iframe width=0 frameborder=0></iframe>");sizeProxyFrame.css("height","100%"),sizeProxyFrame.css("position","absolute"),sizeProxyFrame.css("top","0"),sizeProxyFrame.css("bottom","0"),sizeProxyFrame.css("right","0"),sizeProxyFrame.css("left","auto"),sizeProxyFrame.css("opacity","0"),iElement.append(sizeProxyFrame),$window.requestAnimationFrame(function(){sizeProxyFrame[0].contentWindow.onresize=function(){scope.$apply(fn)}}),scope.$on("$destroy",function(){sizeProxyFrame.remove()})}}}}}]}),define("text!phxCore/html/phxPage.html",[],function(){return'<div class="m-page" ng-class="pageClasses"></div>\n'}),define("text!phxCore/html/phxPageFooter.html",[],function(){return'<footer class="m-page-footer ng-cloak">\n    <section class="m-colophon">\n        <div class="m-colophon--links">\n        <span ng-repeat="link in $root.config.footer.links" ng-show="$root.config.footer" phx-track-id="Footer Links" ng-class="{last: $last}">\n            <a href="{{link.url}}" phx-track-event="click" phx-track-id="Link">{{link.name}}</a>\n        </span>\n        </div>\n\n        <a class="m-colophon--logo ng-binding mm-has-svg" href="/" phx-skin-bgimg="$root.config.logo.heading"></a>\n        <span class="m-colophon--copyright">&copy; {{$root.currentTime|date:\'yyyy\'}} {{$root.config.copyrightHolder}}</span>\n        <phx-advertisement ad-role="mobileFixedBottom" phx-browser-constraint="getBreakpoint() == \'A\'"></phx-advertisement>\n    </section>\n</footer>\n'}),define("text!phxCore/html/phxLoader.html",[],function(){return'<div class="m-loader"></div>'}),define("phxCore/directives/phxPage",["text!phxCore/html/phxPage.html","text!phxCore/html/phxPageFooter.html","text!phxCore/html/phxLoader.html"],function(template,footerTemplate,loaderTemplate){return["phxRoute","$timeout","phxComponent","$compile","$q","phxCategorizr","phxAnalyticsUtil","phxViewMeta","phxComponentUtil","phxPage","$injector",function(phxRoute,$timeout,phxComponent,$compile,$q,phxCategorizr,phxAnalyticsUtil,phxViewMeta,phxComponentUtil,phxPage,$injector){var footerLinkFn=$compile(footerTemplate),Page=phxPage.Page;return{restrict:"AE",template:template,replace:!0,controller:["$scope",function($scope){var routeConfig=phxRoute.routeConfigByPath($scope.path);routeConfig||(routeConfig=phxRoute.routeConfigByKeyword("404"));var page=new Page(routeConfig);$scope.page=page,this.page=page}],require:"phxPage",link:function(scope,pageElement,iAttrs,phxPageCtrl){function renderPage(page){function renderComponent(component){var componentElement=component.createElement();if(componentElement.addClass("m-page--component"),fadeComponents&&componentElement.addClass("is-loading").addClass("mm-loadable"),loader&&loader.remove(),pageElement.append(componentElement),componentElement.trigger("phxComponentReady",component.type.name),component.isMaster&&component.data&&scope.$emit("phxPage::masterItemLoaded",component.data.item),fadeComponents){var renderDefer=$q.defer();$timeout(function(){componentElement.removeClass("is-loading"),loader&&(pageElement.append(loader),loader.fadeIn(1e3)),renderDefer.resolve(!0)}),renderPromises.push(renderDefer.promise)}componentElement.on("$destroy",function(){component.destroy()})}phxPageCtrl.page=page;var renderPromises=[];return page.prepareComponents(renderComponent).then(function(){$q.all(renderPromises).then(function(){var masterComponent=page.masterComponent;return masterComponent?masterComponent.data&&masterComponent.data.item&&phxAnalyticsUtil.initializeAnalyticsUsingContentItem(masterComponent.data.item):phxAnalyticsUtil.initializeAnalyticsForHomepage(),pageElement.trigger("phxPageReady"),footerLinkFn(scope,function(footerElement){pageElement.append(footerElement)}),phxAnalyticsUtil.contentLoaded(),scope.$emit("phxPageAllComponentsReady",page),loader&&loader.remove(),page})})}var loader,fadeComponents=scope.fadeComponents||!1;phxCategorizr.isServer()||(loader=$(loaderTemplate),pageElement.append(loader),loader.fadeIn(1e3)),scope.pageClasses=[];var page=phxPageCtrl.page;scope.pageClasses=page.classes,page.events.addListener("page","masterComponentLoaded",function(){phxViewMeta.setView(page.viewMeta),$timeout(function(){phxAnalyticsUtil.pageReady()})}),renderPage(page)["catch"](function(err){function _isBehindFirewall(){var config=cstConfig.getModuleConfig("filament"),firewalled=!1;return jQuery.support.cors=!0,jQuery.ajax({url:config.flmRaw.proxyUrl+"/:apiproxy-anon/content-sites",success:function(){firewalled=!1},error:function(err){0===err.status&&(firewalled=!0)},async:!1}),jQuery.support.cors=!1,firewalled}var cstConfig=$injector.get("cstConfig"),cstLogger=$injector.get("cstLogger"),phxUtil=$injector.get("phxUtil"),$location=$injector.get("$location");if(err instanceof phxPage.Redirection)return scope.$emit("phxRedirection",page,err.targetPath),$location.path(err.targetPath),void $location.replace();var deferred=$q.defer();err instanceof phxPage.NotFoundError?phxUtil.tryRedirectionLookup().then(function(){},function(){deferred.resolve("404")}):_isBehindFirewall()?deferred.resolve("503"):(deferred.resolve("500"),phxUtil.runInNPercent(50)&&cstLogger.error("Application error: "+$location.absUrl()+" "+err.trim())),deferred.promise.then(function(routeKeyword){var routeConfig=phxRoute.routeConfigByKeyword(routeKeyword),errorPage=new Page(routeConfig);pageElement.html(""),renderPage(errorPage)})})}}}]}),define("phxCore/directives/phxPages",[],function(){return["$route","$location","$compile","$q","$controller","phxAnimation","phxNavManager","phxFeatures","$window",function($route,$location,$compile,$q,$controller,phxAnimation,phxNavManager,phxFeatures,$window){function update(scope,element){var newScope=scope.$new(!0);newScope.path=$route.current.originalPath,newScope.fadeComponents=phxFeatures.isEnabled("transitions")?null===currentElement:!0;var newElement=linkFn(newScope,function(){});element.append(newElement),transition(currentElement,newElement).then(function(){currentScope&&currentScope.$destroy(),currentScope=newScope,currentElement&&currentElement.remove(),currentElement=newElement})}function transition(from,to){return phxFeatures.isEnabled("transitions")&&from&&to&&TweenLite?(to.css("opacity",0),$q.all([phxAnimation.runAnimation(transitionOut,from,null),waitForPageReady(to)]).then(function(){var transition=phxNavManager.wentBack()?transitionRight:transitionLeft;return phxAnimation.runAnimation(transition,from,to)})):($window.scrollTo(0,0),$q.when(!0))}function waitForPageReady(page){var deferred=$q.defer(),deregister=page.scope().$on("phxPageAllComponentsReady",function(){deferred.resolve(!0),deregister()});return deferred.promise}function transitionOut(element,keep,onComplete){var DURATION=.2,OPACITY=.4,EASE=Power2.easeInOut;if(keep){var keepCopy=keep.clone();keepCopy.attr("id","REMOVE");var keepPos=keep.offset();keepCopy.css("position","absolute").css("top",keepPos.top).css("left",keepPos.left).css("z-index",9999),$("body").append(keepCopy)}var tl=new TimelineLite;tl.add(TweenLite.to(element,DURATION,{opacity:OPACITY,ease:EASE,onComplete:onComplete}))}function transitionLeft(from,to,onComplete){transitionLeftOrRight(from,to,!0,onComplete)}function transitionRight(from,to,onComplete){transitionLeftOrRight(from,to,!1,onComplete)}function getTargetScrollPos(currentScrollPos){return Math.min(currentScrollPos,$(".l-coverlines").height()+1)}function resetStyles(element){element.removeAttr("style")}function transitionLeftOrRight(from,to,goLeft,onComplete){$("#REMOVE").remove();var FROM_DURATION=.5,FROM_EASE=Power2.easeInOut,TO_DURATION=.5,TO_EASE=Power2.easeInOut,TIMESCALE=1,scrollPos=$(document).scrollTop(),targetScrollPos=getTargetScrollPos(scrollPos),width=from.width();to.css("opacity",1),to.css("position","absolute"),to.css("z-index",1),to.css("top",scrollPos-targetScrollPos+"px");var tl=new TimelineLite;tl.timeScale(TIMESCALE),tl.add(TweenLite.to(from,FROM_DURATION,{x:goLeft?-width:width,force3D:"auto",ease:FROM_EASE}),0),tl.add(TweenLite.from(to,TO_DURATION,{x:goLeft?width:-width,force3D:"auto",ease:TO_EASE}),0),tl.eventCallback("onComplete",function(){resetStyles(from),resetStyles(to),from.hide(),$(document).scrollTop(targetScrollPos),onComplete()})}var Power2=$window.GreenSockGlobals?$window.GreenSockGlobals.Power2:null,TweenLite=$window.GreenSockGlobals?$window.GreenSockGlobals.TweenLite:null,TimelineLite=$window.GreenSockGlobals?$window.GreenSockGlobals.TimelineLite:null,template="<phx-page></phx-page>",linkFn=$compile(template),currentScope=null,currentElement=null;return{restrict:"A",link:function(scope,element){scope.$on("$routeChangeError",function(){$route.current.originalPath="404",update(scope,element)}),scope.$on("$routeChangeSuccess",function(){$route.current&&$route.current.controller?$controller($route.current.controller):$route.current&&$route.current.redirectTo||update(scope,element)})}}}]}),define("text!phxCore/html/phxPhotoUploader.html",[],function(){return'<div class="photo-uploader">\n    <div ng-show="uploadError" class="alert">Upload Error</div>\n\n    <div class="row">\n        <div ng-show="uploadStep == \'Progress\' || uploadStep==\'Uploading\' || uploadStep ==\'Thumbnail\'" class="span2">\n            <div id="upload-box-image-preview"></div>\n\n            <div ng-show="uploadStep == \'Progress\'" id="upload-box-progress" class="progress progress-striped">\n                <div class="bar"></div>\n            </div>\n        </div>\n\n        <div class="span2">\n            <div ng-show="uploadStep == \'Input\'">\n                <input class="" name="file" type="file" id="upload-box-file-upload">\n            </div>\n\n            <form name="uploadForm" class="form-horizontal" ng-show="uploadStep == \'Progress\' || uploadStep == \'Thumbnail\' || uploadStep == \'Uploading\'" ng-submit="finalize()">\n                <p class="image-form-upload-button">\n                    <input class="btn btn-small " ng-click="cancel()" type="button" value="Cancel">\n                    <input class="btn btn-small btn-primary ng-class: { disabled: uploadStep == \'Uploading\' || uploadStep !=\'Thumbnail\'  };" type="submit" value="Upload">\n                </p>\n            </form>\n        </div>\n    </div>\n</div>\n'}),define("phxCore/directives/phxPhotoUploader",["text!phxCore/html/phxPhotoUploader.html"],function(template){return["cstLogger","phxApiClient",function(cstLogger,phxApiClient){return{template:template,replace:!0,scope:{contentSiteId:"@",title:"@",caption:"@"},link:function(scope,elem,attrs){function showProgress(loaded,total){"Input"===scope.uploadStep&&(scope.uploadStep="Progress",scope.$apply());var progress=parseInt(loaded/total*100,10);elem.find("#upload-box-progress .bar").css("width",progress+"%")}function showThumbnail(data){scope.uploadStep="Thumbnail",elem.find("#upload-box-image-preview").html($.cloudinary.image(data.result.public_id,{format:data.result.format,version:data.result.version,crop:"fill",height:150,width:150}))}function cloudinaryUploadSuccess(data){cstLogger.debug("upload to Cloudinary done, public_id="+data.result.public_id),showThumbnail(data),scope.public_id=data.result.public_id}function initUploader(){var input=elem.find("#upload-box-file-upload");input.bind("fileuploadprogress",function(e,data){showProgress(data.loaded,data.total)}),input.bind("cloudinarydone",function(e,data){cloudinaryUploadSuccess(data)}),phxApiClient.contentSites.startPhotoUpload(scope.contentSiteId,{}).then(function(response){input.attr("data-form-data",response.signature),input.cloudinary_fileupload()},function(){showError("Error on startPhotoUpload")})}function showError(msg){cstLogger.error(msg),scope.uploadError=!0}$.cloudinary.config({cloud_name:cloudinaryCloudName}),scope.uploadStep="Input",scope.finalize=function(){scope.uploadStep="Uploading",phxApiClient.contentSites.finalizePhotoUpload(scope.contentSiteId,{uploadId:scope.public_id,item:{title:scope.title||"default photo title",defaultCaption:scope.caption,objectType:"contentPhoto"}}).then(function(result){return cstLogger.debug("upload finalized"),scope.$emit("onUploadFinalized",result.item),!0},function(){showError("Error on finalizePhotoUpload")})},scope.cancel=function(){scope.$emit("onUploadCancelled")},attrs.$observe("contentSiteId",function(data){scope.contentSiteId=data,initUploader()})}}}]}),define("text!phxCore/html/phxPinIt.html",[],function(){return'<span class="m-social--pinterest-pin-it"></span>'}),define("phxCore/directives/phxPinIt",["text!phxCore/html/phxPinIt.html"],function(template){return["$window","$interval","$filter","$document",function($window,$interval,$filter,$document){return{restrict:"E",scope:{pinUrl:"@",pinMedia:"@",pinDescription:"@"},template:template,replace:!0,link:function($scope,$element){function _updatePinUrl(){pinMedia&&($scope.pinterestUrl="//www.pinterest.com/pin/create/button/?url="+(angular.isDefined(pinUrl)?encodeURIComponent(pinUrl):"")+"&media="+(angular.isDefined(pinMedia)?encodeURIComponent(pinMedia):"")+"&description="+(angular.isDefined(pinDescription)?$filter("phxStripHtml")(pinDescription):$document.prop("title")))
}var pinUrl,pinMedia,pinDescription,pinWindow,windowOptions={status:"no",resizable:"yes",scrollbars:"yes",personalbar:"no",directories:"no",location:"no",toolbar:"no",menubar:"no",width:632,height:270,left:0,top:0},urlWatcher=$scope.$watch("pinUrl",function(url){url&&!pinUrl&&(urlWatcher(),pinUrl=url,_updatePinUrl())}),mediaWatcher=$scope.$watch("pinMedia",function(media){media&&!pinMedia&&(mediaWatcher(),pinMedia=media,_updatePinUrl())}),descriptionWatcher=$scope.$watch("pinDescription",function(description){description&&!pinDescription&&(descriptionWatcher(),pinDescription=description,_updatePinUrl())});$element.on("click",function(event){var options="";angular.forEach(windowOptions,function(value,key){options+=key+"="+value+","}),pinWindow=$window.open($scope.pinterestUrl,"pin"+(new Date).getTime(),options),event.stopPropagation()})}}}]}),define("text!phxCore/html/phxPrimaryImage.html",[],function(){return'<div class="m-layout-object" ng-attr-style="{{backgroundImage != null && backgroundImage != \'\' ? \'background-image:url(\'+backgroundImage+\');\':\'\'}}">\n    <a ng-href="{{url}}" phx-track-event="click" phx-track-id="Image" content-id="{{contentId}}" target="{{target}}">\n        <img ng-if="image" ng-src="{{image}}" alt="{{alt}}" itemprop="image" nopin="true" data-pin-no-hover="true" />\n        <phx-pin-it ng-if="$root.config.social.pinItImages" pin-url="{{pageUrl}}" pin-media="{{cloudinaryUrl}}" pin-description="{{contentCaption}}"></phx-pin-it>\n    </a>\n</div>\n'}),define("phxCore/directives/phxPrimaryImage",["text!phxCore/html/phxPrimaryImage.html"],function(template){return["phxViewMeta",function(phxViewMeta){return{restrict:"E",template:template,replace:!0,scope:{contentId:"@",alt:"@",url:"@",image:"@",backgroundImage:"@",target:"@"},link:function(scope){scope.cloudinaryUrl=scope.image,scope.alt&&(scope.contentCaption=scope.alt),phxViewMeta.waitForValidView(function(view){scope.pageUrl=view.canonicalUrl})}}}]}),define("text!phxCore/html/phxReadingList.html",[],function(){return'<div class="nocontent" phx-track-id="Reading List">\n  <article phx-breakout-flow phx-content-item="readingList[0]" phx-track-id="Item"  ng-if="readingList[0]" phx-skin-bgimg="readingListHeading" phx-display-mode="aside" phx-primary-image-profile="readingList" ng-class="nextArticle.displayTitle.length > 65 ? \'mm-text-only\' : \'\'"></article>\n  <article phx-breakout-flow ng-repeat="nextArticle in readingList" phx-content-item="nextArticle" phx-track-id="Item" ng-if="!$first" phx-display-mode="aside" phx-primary-image-profile="readingList" ng-class="nextArticle.displayTitle.length > 65 ? \'mm-text-only\' : \'\'"></article>\n</div>\n'}),define("phxCore/directives/phxReadingList",["text!phxCore/html/phxReadingList.html"],function(template){return["Config","phxCookies","flmContentPhotoFetcher","phxBreakout","$timeout","$rootScope","phxAugmentArticle","phxAugmentRecipe","phxApiClient","phxReadingListUtil","phxFeatures",function(Config,phxCookies,flmContentPhotoFetcher,phxBreakout,$timeout,$rootScope,phxAugmentArticle,phxAugmentRecipe,phxApiClient,phxReadingListUtil){return{restrict:"EA",controller:["$scope","$attrs","$element",function($scope,$attrs,$element){var unreadCount=0;$element.addClass("is-loading"),$element.addClass("mm-loadable");var populate=function(omit){var feedFunction,feedResults,readingListOpts=$rootScope.readingList?$rootScope.readingList:Config.readingList;readingListOpts.objectType=readingListOpts.objectType?readingListOpts.objectType:"ContentArticle","ContentArticle"===readingListOpts.objectType?(feedFunction=readingListOpts.popularFeed===!0?phxApiClient.anon.contentSites.getPopularContentArticles:phxApiClient.anon.contentSites.getPublishedArticles,feedResults=feedFunction(Config.siteId)):"ContentRecipe"===readingListOpts.objectType&&(feedFunction=phxApiClient.anon.contentSites.getPublishedContentCustomsByCustomType,feedResults=feedFunction(Config.siteId,readingListOpts.objectType)),feedResults.then(function(result){for(var postAugment,options={displayPromoTitle:!0,loadPrimaryImage2:!0,loadFreshSocial:!1},articles=result.entries,omitI=articles.length-1,i=0;i<articles.length;i++)omit&&omit===articles[i].id?omitI=i:articles[i].id&&phxReadingListUtil.isItemRead(articles[i].id)?angular.isArray(articles[i].tagClasses)?articles[i].tagClasses.push("is-read"):articles[i].tagClasses=["is-read"]:unreadCount++;articles.splice(omitI,1),articles=articles.filter(function(article){return null!==article.primaryImageId}),"ContentArticle"===readingListOpts.objectType?postAugment=phxAugmentArticle.augmentArray(articles,options):"ContentRecipe"===readingListOpts.objectType&&(postAugment=phxAugmentRecipe.augmentArray(articles,options)),postAugment.then(function(){$element.removeClass("is-loading"),$scope.readingList=articles,$scope.readingListCount=unreadCount,$scope.readingListHeading=readingListOpts.heading,$timeout(function(){phxBreakout.processBreakouts()},250)})})};if($attrs.omit)var unwatch=$scope.$watch($attrs.omit,function(omit){populate(omit),unwatch()});else populate(null)}],template:template,replace:!0}}]}),define("phxCore/directives/phxPubExchange",[],function(){return["phxPubExchangeUtil",function(phxPubExchangeUtil){return{restrict:"EA",scope:{config:"="},template:'<div id="pubexchange_widget2" class="m-pubex nocontent"></div>',replace:!0,link:function(scope,element){var config;scope.$watch("config",function(newVal){config=newVal,config&&phxPubExchangeUtil.injectScript(config)});var hasImages=function(){return phxPubExchangeUtil.hasImages(element)},unwatch=scope.$watch(hasImages,function(hasImages){hasImages&&(unwatch(),angular.forEach(element.find("img"),phxPubExchangeUtil.inspectImage))})}}}]}),define("text!phxCore/html/phxRelatedRichTerms.html",[],function(){return'<ul>\n    <li ng-repeat="term in terms" ng-hide="$index >= showing.num">\n        <a ng-href="{{term.relativeUrl}}" phx-html="term.promoTitle||term.displayName"></a>\n        <div ng-if="$index == showing.num - 1" ng-hide="showing.num >= terms.length">\n            <button ng-click="showing.num = terms.length">Show All Groups</button>\n        </div>\n    </li>\n</ul>\n'}),define("phxCore/directives/phxRelatedRichTerms",["text!phxCore/html/phxRelatedRichTerms.html"],function(template){return["flmFetcher",function(){return{restrict:"EA",template:template,scope:{item:"=",showInitially:"@"},link:function(scope,element,attr){var unwatch=scope.$watch("item",function(item){item&&item.richTerms&&(unwatch(),scope.terms=item.richTerms,scope.showing={num:attr.showInitially||5})})}}}]}),define("phxCore/directives/phxShareButton",[],function(){return["phxSocial",function(phxSocial){return{restrict:"E",scope:{medium:"@",contentItem:"="},link:function($scope,element){element.bind("click",function(){phxSocial.share($scope.contentItem,$scope.medium)})}}}]}),define("text!phxCore/html/phxSocialTools.html",[],function(){return'<section class="m-social" phx-track-id="Social Tools">\n    <ul>\n        <li ng-if="!hideAggregateCount" class="m-social--interaction-count"><span>{{contentItem.socialProof.aggregate|phxAbbreviateNumber}}</span></li>\n        <li ng-repeat="button in shareButtons" class="m-social--{{button.className}}">\n            <phx-share-button medium="{{button.medium}}" location="share-tools" content-item="contentItem" author="author">\n                <a phx-track-event="click" phx-track-id="{{\'Link \' + button.medium}}">\n                    <span>{{(enableSharingCounts && button.proofKey ? contentItem.socialProof[button.proofKey] : \'\')|phxAbbreviateNumber}}</span>\n                </a>\n            </phx-share-button>\n        </li>\n        <li class="m-social--comment" ng-show="showSocialToolsCommentButton"><a phx-scroll-to="comments" phx-track-event="click" phx-track-id="Link Comments"></a></li>\n        <li ng-if="showSocialToolsPrintButton" class="m-social--print"><a href="javascript:window.print()"></a></li>\n    </ul>\n</section>\n'}),define("phxCore/directives/phxSocialTools",["text!phxCore/html/phxSocialTools.html"],function(template){return["phxSocial",function(phxSocial){return{restrict:"E",scope:{author:"=",contentItem:"="},controller:function($scope,Config){$scope.shareButtons=[];var buttonSettings=phxSocial.shareButtonSettings();angular.forEach(Config.social.shareButtons,function(buttonKey){buttonSettings[buttonKey]&&$scope.shareButtons.push(buttonSettings[buttonKey])}),$scope.enableSharingCounts=Config.social.enableSharingCounts,$scope.showSocialToolsPrintButton=Config.social.showSocialToolsPrintButton,$scope.showSocialToolsCommentButton=Config.social.showSocialToolsCommentButton},link:function($scope,element,attr){$scope.hideAggregateCount=attr.hideAggregateCount},template:template,replace:!0}}]}),define("text!phxCore/html/phxTextCarousel.html",[],function(){return'<div class="text-carousel" ng-if="items">\n    <header class="text-carousel--meta" ng-if="items.length > 1">\n        <div class="text-carousel--counter">{{current.i + 1}} <span>of</span> {{items.length}}</div>\n        <button class="text-carousel--button mm-previous" ng-click="prev()">&laquo;</button>\n        <button class="text-carousel--button mm-next" ng-click="next()">&raquo;</button>\n    </header>\n\n    <div class="text-carousel--hed">{{"quotes"}}</div>\n\n    <div class="text-carousel--content">\n        <div ng-repeat="item in items" ng-show="current.i == $index" ng-bind-html="item" class="text-carousel--item"></div>\n    </div>\n\n    <div class="text-carousel--author" ng-show="footer">{{footer}}</div>\n</div>\n\n'}),define("phxCore/directives/phxTextCarousel",["text!phxCore/html/phxTextCarousel.html"],function(template){return[function(){return{restrict:"EA",template:template,scope:{source:"=",footer:"=",prepend:"@",append:"@"},link:function(scope,element,attr){var unwatch=scope.$watch("source",function(source){if(source&&(!angular.isArray(source)||source.length)){unwatch(),scope.current={i:0};var items=[];angular.forEach(source,function(item){(attr.prepend||attr.append)&&(item=attr.prepend+item+attr.append),items.push(item)}),scope.items=items,scope.next=function(){scope.current.i===scope.items.length-1?scope.current.i=0:scope.current.i++},scope.prev=function(){0===scope.current.i?scope.current.i=scope.items.length-1:scope.current.i--}}})}}}]}),define("phxCore/directives/phxVideoLink",[],function(){return[function(){return{restrict:"A",scope:{phxVideoLink:"="},link:function(scope,element){element.bind("click",function(evt){evt.preventDefault(),scope.$emit("phxVideo::switchVideo",scope.phxVideoLink)})}}}]}),define("phxCore/directives/phxViewMeta",[],function(){var socialSharingImageLargeExpr="view.socialSharingImage1200x630Url || site.baseUrl + '/site/images/apple-touch-icon-114x114-precomposed.png'",elementConfig=[{type:"title",expr:'(view.title && view.title != site.htmlTitle) && (view.title + " - " + site.htmlTitle) || site.htmlTitle'},{type:"link",rel:"canonical",expr:"view.canonicalUrl"},{type:"link",rel:"alternate",mimeType:"application/rss+xml",expr:"view.rssPath && (site.baseUrl + view.rssPath) || null"},{type:"meta",property:"author",expr:"view.authorName"},{type:"meta",name:"description",expr:"view.description"},{type:"meta",name:"keywords",expr:'view.keywords.join(", ")'},{type:"meta",name:"dcterms.rightsHolder",expr:"site.copyrightHolder"},{type:"meta",name:"dcterms.dateCopyrighted",expr:'$root.currentTime|date:"yyyy"'},{type:"meta",name:"twitter:card",expr:'"summary_large_image"'},{type:"meta",name:"twitter:site",expr:'site.twitterUsername && ("@" + site.twitterUsername) || null'},{type:"meta",name:"twitter:creator",expr:'view.authorTwitterUsername && ("@" + view.authorTwitterUsername) || null'},{type:"meta",name:"twitter:url",expr:"view.canonicalUrl"},{type:"meta",name:"twitter:image",expr:socialSharingImageLargeExpr},{type:"meta",name:"twitter:description",expr:"view.description"},{type:"meta",name:"twitter:domain",expr:"site.domain"},{type:"meta",property:"og:type",expr:"view.openGraphType"},{type:"meta",property:"og:url",expr:"view.canonicalUrl"},{type:"meta",property:"og:title",expr:"(view.title && view.title != site.htmlTitle) && (view.title) || site.htmlTitle"},{type:"meta",property:"og:description",expr:"view.description"},{type:"meta",property:"og:image",expr:socialSharingImageLargeExpr},{type:"meta",property:"og:site_name",expr:"site.name"},{type:"meta",property:"fb:page_id",expr:"site.facebookPageId"},{type:"meta",property:"fb:app_id",expr:"site.facebookAppId"},{type:"link",rel:"publisher",expr:"site.googlePlusPublisherUrl"},{type:"meta",name:"apple-mobile-web-app-title",expr:"site.name"},{type:"meta",name:"p:domain_verify",expr:"site.pinterestDomainVerify"},{type:"meta",name:"parsely-title",expr:'(view.title && view.title != site.htmlTitle) && (view.title + " - " + site.htmlTitle) || site.htmlTitle'},{type:"meta",name:"parsely-link",expr:"view.canonicalUrl"},{type:"meta",name:"parsely-type",expr:'view.openGraphType == "article" && "post" || null'},{type:"meta",name:"parsely-image-url",expr:"view.promoImage400x300Url"},{type:"meta",name:"parsely-post-id",expr:"view.contentItemId"},{type:"meta",name:"parsely-pub-date",expr:"view.publishDatetimeISO8601"},{type:"meta",name:"parsely-section",expr:"view.sectionKey"},{type:"meta",name:"parsely-author",expr:"view.authorName"},{type:"meta",name:"parsely-tags",expr:'view.keywords.join(",")'},{type:"meta",name:"tmt-title",expr:'(view.title && view.title != site.htmlTitle) && (view.title + " - " + site.htmlTitle) || site.htmlTitle'},{type:"meta",name:"tmt-description",expr:"view.description"},{type:"meta",name:"tmt-author",expr:"view.authorName"},{type:"meta",name:"tmt-img-medium-url",expr:"view.promoImage400x300Url"},{type:"meta",name:"robots",expr:"view.robots"},{type:"meta",name:"phx:content-node-id",expr:"view.contentNodeId"},{type:"meta",name:"phx:content-item-id",expr:"view.contentItemId"},{type:"meta",name:"phx:content-object-type",expr:"view.objectType"}];return["phxViewMeta","$parse",function(phxViewMeta,$parse){return{restrict:"A",replace:!1,scope:{},controller:function(){},link:function(directiveScope,element){var $scope=phxViewMeta.scope;angular.forEach(elementConfig,function(config){var elem,update;switch(config.type){case"meta":config.name?(elem=element.find('meta[name="'+config.name+'"]'),elem.length||(elem=angular.element("<meta>"),elem.attr("name",config.name))):(elem=element.find('meta[property="'+config.property+'"]'),elem.length||(elem=angular.element("<meta>"),elem.attr("property",config.property))),update=function(newUrl){elem.attr("content",newUrl)};break;case"link":elem=element.find('link[rel="'+config.rel+'"]'),elem.length||(elem=angular.element("<link>"),elem.attr("rel",config.rel)),config.mimeType&&elem.attr("type",config.mimeType),config.size&&elem.attr("size",config.size),update=function(newUrl){elem.attr("href",newUrl)};break;case"title":elem=element.find("title"),elem.length||(elem=angular.element("<title></title>")),update=function(newTitle){elem.text(newTitle)}}var inDocument=!1;$scope.$watch(config.expr,function(newValue){(""===newValue||void 0===newValue)&&(newValue=null),null===newValue?elem.remove():("object"==typeof newValue&&(newValue=JSON.stringify(newValue)),update(newValue),inDocument||element.append(elem))}),update($parse(config.expr)($scope))})}}}]}),define("phxCore/directives/phxWordCount",[],function(){return["$timeout",function($timeout){return{restrict:"AC",link:function(scope,element){$timeout(function(){var charCount=element.text().length,numWords=Math.round(charCount/7.4);element.addClass(numWords>=1&&5>numWords?"wordcount-sub-5":numWords>=5&&10>numWords?"wordcount-5-10":numWords>=10&&20>numWords?"wordcount-10-20":numWords>=20&&40>numWords?"wordcount-20-40":"wordcount-over-40")},0)}}}]}),define("phxCore/directives/phxSkinBgimg",[],function(){return["phxFeatures","$interpolate","$routeParams",function(phxFeatures,$interpolate,$routeParams){return{restrict:"A",template:"{{title}}",link:function(scope,element,attr){scope.$watch(attr.phxSkinBgimg,function(config){if(config){var imageUrl=config.imageUrl;config.imageUrl?(element.css({"background-image":"url("+imageUrl+")"}),attr.$addClass("mm-has-svg")):(element.css({"background-image":"none"}),attr.$removeClass("mm-has-svg"),scope.title=config.title?$interpolate(config.title)($routeParams):"")}})}}}]}),define("phxCore/directives/phxSkinInline",[],function(){return[function(){return{restrict:"A",scope:{phxSkinInline:"="},template:'<section ng-if="!phxSkinInline.imageUrl">{{phxSkinInline.title}}</section><ng-include ng-if="phxSkinInline.imageUrl" src="phxSkinInline.imageUrl"></ng-include>'}}]}),define("phxCore/directives/phxZoomFullscreen",[],function(){return["phxFullscreenUtil",function(phxFullscreenUtil){var safeCancelZoomFullscreen=function(domElement){phxFullscreenUtil.zoomFullscreenElement()===domElement&&phxFullscreenUtil.cancelZoomFullscreen()};return{restrict:"A",link:function(scope,element){var domElement=element[0];element.bind("click",function(){phxFullscreenUtil.isZoomFullscreenEnabled()?(safeCancelZoomFullscreen(domElement),element.removeClass("zoom-out-cursor"),element.addClass("zoom-in-cursor")):(phxFullscreenUtil.enableZoomFullscreen(domElement),element.removeClass("zoom-in-cursor"),element.addClass("zoom-out-cursor"))}),$(document).on("keyup",function(e){27===e.keyCode&&safeCancelZoomFullscreen(domElement)}),$(document).on("scroll",function(){safeCancelZoomFullscreen(domElement)})}}}]}),define("phxCore/directives/phxNativeFullscreen",[],function(){return["phxFullscreenUtil",function(phxFullscreenUtil){return{restrict:"A",link:function(scope,element){element.bind("click",function(){phxFullscreenUtil.toggleNativeWithFallback(element[0])})}}}]}),define("phxCore/directives/phxEllipsis",[],function(){return[function(){return{restrict:"A",scope:{ellipsisSymbol:"@",phxEllipsis:"@"},link:function(scope,element,attributes){function buildEllipsis(){var splitter=/(s?[0-9a-z,\.\-%?!']*)/i,bindArray=element.text().replace(/\s+$/,"").split(splitter),ellipsisSymbol="&hellip;",containerElement=element.parent().parent(),lastTwoWordsRe=/["“”,.\s-]*[\w'’]+["“”,.-]*\s*[\w'’]+\s*$/;if("undefined"!=typeof attributes.ellipsisSymbol&&(ellipsisSymbol=attributes.ellipsisSymbol),isOverflowed(containerElement))for(var bindArrayStartingLength=bindArray.length,trailingNonword=/[^\w]+$/,text="",i=0;bindArrayStartingLength>i;i++)if(bindArray[i]&&(text+=bindArray[i],!text.match(trailingNonword))){element.html(text.replace(trailingNonword,"")+ellipsisSymbol);var over=isOverflowed(containerElement)===!0;if(angular.isDefined(containerElement[0])&&over){element.html(0===i?"":text.replace(lastTwoWordsRe,"")+ellipsisSymbol);break}}}function isOverflowed(thisElement){return angular.isDefined(thisElement[0])&&thisElement[0].scrollHeight>thisElement[0].clientHeight}var watcher=scope.$watch("phxEllipsis",function(innerText){angular.isDefined(innerText)&&(buildEllipsis(),watcher())})}}}]}),define("phxCore/filters/phxAbbreviateNumber",[],function(){return function(){return function(input){var units=["","K","M","B"],current=parseInt(input,10);if(isNaN(current))return input;for(var val=current,i=0;i<units.length;i++){if(100>current){val=Math.round(10*current)/10+units[i];break}if(1e3>current){val=Math.round(current)+units[i];break}current/=1e3}return val}}}),define("phxCore/filters/phxBirthDeathYears",[],function(){return function(){return function(source){var b=source[0],d=source[1],bCirca=source[2],dCirca=source[3],bCe=source[4],dCe=source[5],ret="";if(bCirca=bCirca?"c. ":"",dCirca=dCirca?"c. ":"",bCe=void 0===bCe||null===bCe||dCe?"":" BCE",dCe=void 0===dCe||null===dCe||dCe?"":" BCE",b&&d)ret=bCirca+b.displayName+bCe+"&ndash;"+dCirca+d.displayName+dCe;else if(b&&b.displayName<1910)ret="b. "+bCirca+b.displayName+bCe;else{if(b)return bCirca+b.displayName+bCe+"&ndash;";d&&(ret="d. "+dCirca+d.displayName+dCe)}return ret}}}),define("phxCore/filters/phxDedupeRichTerms",[],function(){return function(){return function(source){if(source&&source.length){for(var ret=[],i=0;i<source.length;i++){for(var addMe=!0,j=0;j<source.length;j++)if(j!==i&&"Film Actor/Film Actress"!==source[j].displayName){if(source[j].displayName.indexOf(source[i].displayName)>-1){addMe=!1;break}if(source[i].displayName.indexOf("/"+source[j].displayName)>-1){addMe=!1;break}}addMe&&ret.push(source[i])}return ret}}}}),define("phxCore/filters/phxDefault",[],function(){return function(){return function(input,defaultValue){return void 0!==input?input:defaultValue}}}),define("phxCore/filters/phxImageUrl",[],function(){return["blvCloudinaryResolver","phxImageOptions","phxResponsiveSize",function(blvCloudinaryResolver,phxImageOptions,phxResponsiveSize){var CACHE_KEY="_urlsByProfile";return function(image,profile){var responsiveSize=phxResponsiveSize.getName();if(!image||!profile)return void 0;if(image.externalUrl)return image.externalUrl;if(image[CACHE_KEY]&&image[CACHE_KEY][responsiveSize].hasOwnProperty(profile))return image[CACHE_KEY][responsiveSize][profile];if(image.format){var url,options=phxImageOptions.getOptions(profile);return url=options?blvCloudinaryResolver.rawResolver(image,options):null,image[CACHE_KEY]||(image[CACHE_KEY]={A:{},B:{},C:{},D:{}}),image[CACHE_KEY][responsiveSize][profile]=url,url}}}]}),define("phxCore/filters/phxIsTrue",[],function(){return function(){return function(input){return input&&!0}}}),define("phxCore/filters/phxStripHtml",[],function(){return function(){return function(input){return void 0===input?null:String(input).replace(/<[^>]+>/gm,"")}}}),define("phxAnalytics/services/providers/phxAngularyticsBuzzfeedHandler",[],function(){return["Config","$timeout",function(Config,$timeout){var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.Buzzfeed)return service;var config=Config.analytics.providers.Buzzfeed;return angular.element("body").append('<div id="BF_WIDGET_1"></div>'),function(){var BF_WIDGET_JS=document.createElement("script");BF_WIDGET_JS.type="text/javascript";var BF_WIDGET_SRC="http://ct.buzzfeed.com/wd/UserWidget?u="+config+"&to=1&or=vb&wid=1&cb="+(new Date).getTime();$timeout(function(){document.getElementById("BF_WIDGET_1").appendChild(BF_WIDGET_JS),BF_WIDGET_JS.src=BF_WIDGET_SRC},1)}(),service}]}),define("phxAnalytics/services/providers/phxAngularyticsChartbeatHandler",[],function(){return["Config","$interval",function(Config,$interval){function loadChartbeat(){window._sf_endpt=(new Date).getTime();var e=document.createElement("script");e.setAttribute("language","javascript"),e.setAttribute("type","text/javascript"),e.setAttribute("src",("https:"==document.location.protocol?"https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/":"http://static.chartbeat.com/")+"js/chartbeat_pub.js"),document.body.appendChild(e)}var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.Chartbeat)return service;var config=Config.analytics.providers.Chartbeat,firstPageView=!0;return window._sf_async_config={},window._sf_async_config.uid=config.uid,window._sf_async_config.domain=config.domain,window._sf_async_config.useCanonical=!0,window._sf_async_config.sections="N/A",window._sf_async_config.authors="N/A",service.trackPageView=function(url){if(url&&!firstPageView)if("undefined"!=typeof pSUPERFLY)pSUPERFLY.virtualPage(url,document.title);else var interval=$interval(function(){"undefined"!=typeof pSUPERFLY&&(pSUPERFLY.virtualPage(url,document.title),angular.isDefined(interval)&&$interval.cancel(interval))},250);else firstPageView&&loadChartbeat();firstPageView=!1},service}]}),define("phxAnalytics/services/providers/phxAngularyticsComscoreHandler",[],function(){return["Config","$interval",function(Config,$interval){function loadComscore(){var s=document.createElement("script"),el=document.getElementsByTagName("script")[0];s.async=!0,s.src=("https:"==document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",el.parentNode.insertBefore(s,el)}var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.Comscore)return service;var config=Config.analytics.providers.Comscore,firstPageView=!0;return window._comscore=window.hasOwnProperty("_comscore")?window._comscore:[],window._comscore.push({c1:"2"}),window._comscore.push({c2:config}),service.trackPageView=function(){if(firstPageView)firstPageView&&loadComscore();else if("undefined"!=typeof COMSCORE)COMSCORE.beacon({c1:"2",c2:config});else var interval=$interval(function(){"undefined"!=typeof COMSCORE&&(COMSCORE.beacon({c1:"2",c2:config}),angular.isDefined(interval)&&$interval.cancel(interval))},250);firstPageView=!1},service}]}),define("phxAnalytics/services/providers/phxAngularyticsDisqusHandler",[],function(){return["Config",function(Config){var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.Disqus)return service;var config=Config.analytics.providers.Disqus,disqus_shortname=config;return function(){var s=document.createElement("script");s.async=!0,s.src="//disqus.com/forums/"+disqus_shortname+"/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(s)}(),service}]}),define("phxAnalytics/services/providers/phxAngularyticsGoogleAnalyticsHandler",[],function(){return["Config","$rootScope",function(Config,$rootScope){var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.GoogleAnalytics)return service;var config=Config.analytics.providers.GoogleAnalytics,featuresConfig={};Config.features2&&Config.features2.flags&&(featuresConfig=Config.features2.flags);var _cxApiOnload=function(){"undefined"!=typeof cxApi&&$rootScope.experimentTrackObject&&cxApi.setChosenVariation($rootScope.experimentTrackObject.variationIndex,$rootScope.experimentTrackObject.experimentId),service.trackEvent("cx-event","cx-api-loaded","loaded",1,!0)};for(var feature in featuresConfig)if(featuresConfig.hasOwnProperty(feature)&&featuresConfig[feature].experimentId){var cxScript=document.createElement("script");cxScript.src="//www.google-analytics.com/cx/api.js",cxScript.type="text/javascript",cxScript.async=!0,cxScript.onload=cxScript.onreadystatechange=_cxApiOnload,document.getElementsByTagName("head")[0].appendChild(cxScript);break}window.ga||!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","//www.google-analytics.com/analytics.js","ga");var createOpts={},createTempestOpts={},_tempestTracking=!1;return config.domain&&(createOpts.cookieDomain=config.domain),config.tempestDomain&&(createTempestOpts={name:"_tempestTracker",cookieDomain:config.tempestDomain},_tempestTracking=!0),"PROD"!==window.hexEnvironment&&(createOpts.cookieDomain="none",createTempestOpts.cookieDomain="none"),ga("create",config.trackingId,createOpts),_tempestTracking&&ga("create",config.tempestTrackingId,createTempestOpts),service.trackPageView=function(url){url&&(ga("set","page",url),ga("send","pageview",url),_tempestTracking&&(ga("_tempestTracker.set","page",url),ga("_tempestTracker.send","pageview",url)))},service.trackEvent=function(category,action,opt_label,opt_value,opt_noninteraction){ga("send","event",category,action,opt_label,opt_value,{nonInteraction:opt_noninteraction}),_tempestTracking&&ga("_tempestTracker.send","event",category,action,opt_label,opt_value,{nonInteraction:opt_noninteraction})},service}]}),define("phxAnalytics/services/providers/phxAngularyticsParselyHandler",[],function(){return["Config","$window","$document",function(Config,$window,$document){function addParselyScript(){var proto=$document[0].location.protocol,id="parsely-script",elem=$document.find("#"+id),src="http://static.parsely.com/p.js";elem.length||("https:"===proto&&(src="https://d1z2jf7jlzjs58.cloudfront.net/p.js"),elem=angular.element("<script async></script>"),elem.attr("id",id),elem.attr("src",src),rootDiv.append(elem))}var config,configDiv,rootDiv,service={trackPageView:function(){},trackEvent:function(){}};return Config.analytics&&Config.analytics.providers.Parsely?(config=Config.analytics.providers.Parsely,$window.hexEnvironment&&"PROD"===$window.hexEnvironment&&(configDiv=angular.element("<div></div>"),configDiv.attr("id","parsely-cfg"),configDiv.attr("data-parsely-site",config),rootDiv=angular.element("<div></div>"),rootDiv.attr("id","parsely-root"),rootDiv.css("display","none"),rootDiv.append(configDiv),angular.element("body").append(rootDiv),service.trackPageView=addParselyScript),service):service}]}),define("phxAnalytics/services/providers/phxAngularyticsQuantcastHandler",[],function(){return["Config",function(Config){var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.Quantcast)return service;var config=Config.analytics.providers.Quantcast;return window._qevents=window._qevents||[],function(){var elem=document.createElement("script");elem.src=("https:"==document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",elem.async=!0,elem.type="text/javascript";var scpt=document.getElementsByTagName("script")[0];scpt.parentNode.insertBefore(elem,scpt)}(),window._qevents.push([{qacct:config.qacctGlobal,labels:Config.siteKeyword},{qacct:config.qacctSite}]),service.trackPageView=function(){window._qevents.push({qacct:config.qacctGlobal,labels:Config.siteKeyword,event:"click"},{qacct:config.qacctSite,event:"click"})},service.trackEvent=function(){window._qevents.push({qacct:config.qacctGlobal,labels:Config.siteKeyword,event:"click"},{qacct:config.qacctSite,event:"click"})},service}]}),define("phxAnalytics/services/providers/phxAngularyticsSkimlinksHandler",[],function(){return["Config",function(Config){var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.Skimlinks)return service;var config=Config.analytics.providers.Skimlinks;return function(){var s=document.createElement("script"),el=document.getElementsByTagName("script")[0];s.async=!0,s.src="http://s.skimresources.com/js/"+config+".skimlinks.js",el.parentNode.insertBefore(s,el)}(),window.post_skimwords_hook=function(){},service.trackPageView=function(){"undefined"!=typeof skimlinks&&skimlinks()},service}]}),define("phxAnalytics/services/providers/phxAngularyticsTealiumHandler",[],function(){return["Config",function(Config){var service={trackPageView:function(){},trackEvent:function(){}};if(!Config.analytics||!Config.analytics.providers.Tealium)return service;var config=Config.analytics.providers.Tealium;return function(a,b,c,d){a="//tags.tiqcdn.com/utag/"+config+"/utag.js",b=document,c="script",d=b.createElement(c),d.src=a,d.type="text/java"+c,d.async=!0,a=b.getElementsByTagName(c)[0],a.parentNode.insertBefore(d,a)}(),service}]}),define("phxAnalytics/services/phxAnalyticsUtil",["moment"],function(moment){return["$rootScope","Config",function($rootScope,Config){function _getTrackableIndex(element,id){var index=0,indexFound=!1,numSiblings=0,indexString="",parent=angular.element(element.parent());return angular.forEach(parent.children(),function(childElement){var child=angular.element(childElement);child.attr(_phxTrackIdAttr)===id&&(child.attr(_phxIndexId)?indexFound=!0:numSiblings++,indexFound||index++)}),numSiblings>0&&(index++,indexString="("+index+")"),indexString}function _getTrackablePathArray(element){if(!element||1!==element.length||"body"===element[0].tagName.toLowerCase())return[];var trackableArray=_getTrackablePathArray(element.parent()),elementTrackId=element.attr(_phxTrackIdAttr);if(elementTrackId){element.attr(_phxIndexId,1);var elementTrackIndex=_getTrackableIndex(element,elementTrackId);element.removeAttr(_phxIndexId),trackableArray.push(elementTrackId+elementTrackIndex)
}return trackableArray}function _getTrackablePathObject(element,eventType){var pathArray=_getTrackablePathArray(element),pathObject={};return pathArray.length>2?(pathObject.action=pathArray.pop()+"-"+eventType,pathObject.label=pathArray.pop(),angular.forEach(pathArray,function(pathItem){var thisPath=pathItem;pathObject.category?pathObject.category+=">"+thisPath:pathObject.category=thisPath})):2===pathArray.length?(pathObject.action=pathArray.pop()+"-"+eventType,pathObject.category=pathArray.pop()):1===pathArray.length&&(pathObject.action=pathArray[0]+"-"+eventType,pathObject.category=pathArray[0]),pathObject}function _pageReady(){$rootScope.$broadcast("phxPageReady")}function _contentLoaded(){$rootScope.$broadcast("phxContentLoaded")}function _registerExperiment(expConfig){"undefined"!=typeof expConfig.trackingSlot&&"undefined"!=typeof expConfig.variation&&"undefined"!=typeof ga&&Config.analytics.providers.GoogleAnalytics.tempestDomain&&ga("_tempestTracker.set",expConfig.trackingSlot,expConfig.variation),"undefined"!=typeof expConfig.variationIndex&&"undefined"!=typeof expConfig.experimentId&&("undefined"!=typeof cxApi?cxApi.setChosenVariation(expConfig.variationIndex,expConfig.experimentId):$rootScope.experimentTrackObject={variationIndex:expConfig.variationIndex,experimentId:expConfig.experimentId})}function _initializeAnalyticsUsingContentItem(item){if("ContentBasicPage"===item.objectType)ga("set","dimension1","Basic Page");else if("ContentRichTerm"===item.objectType)ga("set","dimension1","Rich Term Page"),ga("set","dimension2",item.displayName);else if("ContentPerson"===item.objectType)ga("set","dimension1","Person Page");else if("ContentArticle"===item.objectType){var published,quarter;item.publicationTimestamp&&(published=moment(item.publicationTimestamp).format("X"),quarter=moment(item.publicationTimestamp).format("YYYY")+"Q"+(moment(item.publicationTimestamp).format("M")%4+1)),item.author&&ga("set","dimension3",item.author.displayName),item.section&&ga("set","dimension2",item.section.displayName),ga("set","dimension1","Article Page"),ga("set","dimension4",quarter)}else"ContentTag"===item.objectType?ga("set","dimension1","Tag Page"):"ContentSection"===item.objectType?(ga("set","dimension1","Section Page"),ga("set","dimension2",item.displayName)):"ContentUserProfile"===item.objectType&&(ga("set","dimension1","Author Page"),ga("set","dimension3",item.displayName))}function _initializeAnalyticsForHomepage(){ga("set","dimension1","Home Page")}var _phxIndexId="phxIndexIdentifier",_phxTrackIdAttr="phx-track-id";return{getTrackablePathObject:_getTrackablePathObject,registerExperiment:_registerExperiment,pageReady:_pageReady,contentLoaded:_contentLoaded,initializeAnalyticsUsingContentItem:_initializeAnalyticsUsingContentItem,initializeAnalyticsForHomepage:_initializeAnalyticsForHomepage}}]}),define("phxAnalytics/directives/phxTrackEvent",[],function(){return["Angularytics","phxAnalyticsUtil",function(Angularytics,phxAnalyticsUtil){return{restrict:"A",link:function(scope,element,attrs){var event=attrs.phxTrackEvent||"click";element.on(event,function(){var trackablePathObject=phxAnalyticsUtil.getTrackablePathObject(element,event);Angularytics.trackEvent(trackablePathObject.category,trackablePathObject.action,trackablePathObject.label)})}}}]}),define("phxAnalytics/module",["phxAnalytics/services/providers/phxAngularyticsBuzzfeedHandler","phxAnalytics/services/providers/phxAngularyticsChartbeatHandler","phxAnalytics/services/providers/phxAngularyticsComscoreHandler","phxAnalytics/services/providers/phxAngularyticsDisqusHandler","phxAnalytics/services/providers/phxAngularyticsGoogleAnalyticsHandler","phxAnalytics/services/providers/phxAngularyticsParselyHandler","phxAnalytics/services/providers/phxAngularyticsQuantcastHandler","phxAnalytics/services/providers/phxAngularyticsSkimlinksHandler","phxAnalytics/services/providers/phxAngularyticsTealiumHandler","phxAnalytics/services/phxAnalyticsUtil","phxAnalytics/directives/phxTrackEvent"],function(phxAngularyticsBuzzfeedHandler,phxAngularyticsChartbeatHandler,phxAngularyticsComscoreHandler,phxAngularyticsDisqusHandler,phxAngularyticsGoogleAnalyticsHandler,phxAngularyticsParselyHandler,phxAngularyticsQuantcastHandler,phxAngularyticsSkimlinksHandler,phxAngularyticsTealiumHandler,phxAnalyticsUtil,phxTrackEvent){return angular.module("angularytics").factory("AngularyticsBuzzfeedHandler",phxAngularyticsBuzzfeedHandler).factory("AngularyticsChartbeatHandler",phxAngularyticsChartbeatHandler).factory("AngularyticsComscoreHandler",phxAngularyticsComscoreHandler).factory("AngularyticsDisqusHandler",phxAngularyticsDisqusHandler).factory("AngularyticsGoogleAnalyticsHandler",phxAngularyticsGoogleAnalyticsHandler).factory("AngularyticsParselyHandler",phxAngularyticsParselyHandler).factory("AngularyticsQuantcastHandler",phxAngularyticsQuantcastHandler).factory("AngularyticsSkimlinksHandler",phxAngularyticsSkimlinksHandler).factory("AngularyticsTealiumHandler",phxAngularyticsTealiumHandler),angular.module("phxAnalytics",["angularytics"]).service("phxAnalyticsUtil",phxAnalyticsUtil).directive("phxTrackEvent",phxTrackEvent).config(["AngularyticsProvider","ConfigProvider","$injector",function(AngularyticsProvider,ConfigProvider,$injector){var Config=ConfigProvider.$get();if(Config.analytics&&Config.analytics.providers){var providers=[];for(var provider in Config.analytics.providers)"length"!==provider&&Config.analytics.providers.hasOwnProperty(provider)&&($injector.has("Angularytics"+provider+"Handler")?providers.push(provider):window.console&&window.console.warn&&window.console.warn("Unknown Angularytics provider:"+provider));AngularyticsProvider.setEventHandlers(providers),AngularyticsProvider.setPageChangeEvent("phxPageReady")}}]).run(["Angularytics","Config",function(Angularytics,Config){Config.analytics&&Angularytics.init()}]).run(["$rootScope",function($rootScope){$rootScope.$on("$locationChangeStart",function(){window._routeChangeStart=new Date}),$rootScope.$on("phxPageReady",function(){sendPerformanceMetric&&sendPerformanceMetric("UX","R0 - PCL",new Date-window._routeChangeStart)}),$rootScope.$on("flmAPIRequestResolved",function(event,data){sendPerformanceMetric&&(sendPerformanceMetric("API",data.endpoint+" Request processing time (ms)",data.stats.timeSpent),sendPerformanceMetric("API",data.endpoint+" Request run count",data.stats.count))})}])}),define("components/angular-md5/md5",[],function(){return function(s){function L(k,d){return k<<d|k>>>32-d}function K(G,k){var I,d,F,H,x;return F=2147483648&G,H=2147483648&k,I=1073741824&G,d=1073741824&k,x=(1073741823&G)+(1073741823&k),I&d?2147483648^x^F^H:I|d?1073741824&x?3221225472^x^F^H:1073741824^x^F^H:x^F^H}function r(d,F,k){return d&F|~d&k}function q(d,F,k){return d&k|F&~k}function p(d,F,k){return d^F^k}function n(d,F,k){return F^(d|~k)}function u(G,F,aa,Z,k,H,I){return G=K(G,K(K(r(F,aa,Z),k),I)),K(L(G,H),F)}function f(G,F,aa,Z,k,H,I){return G=K(G,K(K(q(F,aa,Z),k),I)),K(L(G,H),F)}function D(G,F,aa,Z,k,H,I){return G=K(G,K(K(p(F,aa,Z),k),I)),K(L(G,H),F)}function t(G,F,aa,Z,k,H,I){return G=K(G,K(K(n(F,aa,Z),k),I)),K(L(G,H),F)}function e(G){for(var Z,F=G.length,x=F+8,k=(x-x%64)/64,I=16*(k+1),aa=Array(I-1),d=0,H=0;F>H;)Z=(H-H%4)/4,d=H%4*8,aa[Z]=aa[Z]|G.charCodeAt(H)<<d,H++;return Z=(H-H%4)/4,d=H%4*8,aa[Z]=aa[Z]|128<<d,aa[I-2]=F<<3,aa[I-1]=F>>>29,aa}function B(x){var G,d,k="",F="";for(d=0;3>=d;d++)G=x>>>8*d&255,F="0"+G.toString(16),k+=F.substr(F.length-2,2);return k}function J(k){k=k.replace(/rn/g,"n");for(var d="",F=0;F<k.length;F++){var x=k.charCodeAt(F);128>x?d+=String.fromCharCode(x):x>127&&2048>x?(d+=String.fromCharCode(x>>6|192),d+=String.fromCharCode(63&x|128)):(d+=String.fromCharCode(x>>12|224),d+=String.fromCharCode(x>>6&63|128),d+=String.fromCharCode(63&x|128))}return d}var P,h,E,v,g,Y,X,W,V,C=Array(),S=7,Q=12,N=17,M=22,A=5,z=9,y=14,w=20,o=4,m=11,l=16,j=23,U=6,T=10,R=15,O=21;for(s=J(s),C=e(s),Y=1732584193,X=4023233417,W=2562383102,V=271733878,P=0;P<C.length;P+=16)h=Y,E=X,v=W,g=V,Y=u(Y,X,W,V,C[P+0],S,3614090360),V=u(V,Y,X,W,C[P+1],Q,3905402710),W=u(W,V,Y,X,C[P+2],N,606105819),X=u(X,W,V,Y,C[P+3],M,3250441966),Y=u(Y,X,W,V,C[P+4],S,4118548399),V=u(V,Y,X,W,C[P+5],Q,1200080426),W=u(W,V,Y,X,C[P+6],N,2821735955),X=u(X,W,V,Y,C[P+7],M,4249261313),Y=u(Y,X,W,V,C[P+8],S,1770035416),V=u(V,Y,X,W,C[P+9],Q,2336552879),W=u(W,V,Y,X,C[P+10],N,4294925233),X=u(X,W,V,Y,C[P+11],M,2304563134),Y=u(Y,X,W,V,C[P+12],S,1804603682),V=u(V,Y,X,W,C[P+13],Q,4254626195),W=u(W,V,Y,X,C[P+14],N,2792965006),X=u(X,W,V,Y,C[P+15],M,1236535329),Y=f(Y,X,W,V,C[P+1],A,4129170786),V=f(V,Y,X,W,C[P+6],z,3225465664),W=f(W,V,Y,X,C[P+11],y,643717713),X=f(X,W,V,Y,C[P+0],w,3921069994),Y=f(Y,X,W,V,C[P+5],A,3593408605),V=f(V,Y,X,W,C[P+10],z,38016083),W=f(W,V,Y,X,C[P+15],y,3634488961),X=f(X,W,V,Y,C[P+4],w,3889429448),Y=f(Y,X,W,V,C[P+9],A,568446438),V=f(V,Y,X,W,C[P+14],z,3275163606),W=f(W,V,Y,X,C[P+3],y,4107603335),X=f(X,W,V,Y,C[P+8],w,1163531501),Y=f(Y,X,W,V,C[P+13],A,2850285829),V=f(V,Y,X,W,C[P+2],z,4243563512),W=f(W,V,Y,X,C[P+7],y,1735328473),X=f(X,W,V,Y,C[P+12],w,2368359562),Y=D(Y,X,W,V,C[P+5],o,4294588738),V=D(V,Y,X,W,C[P+8],m,2272392833),W=D(W,V,Y,X,C[P+11],l,1839030562),X=D(X,W,V,Y,C[P+14],j,4259657740),Y=D(Y,X,W,V,C[P+1],o,2763975236),V=D(V,Y,X,W,C[P+4],m,1272893353),W=D(W,V,Y,X,C[P+7],l,4139469664),X=D(X,W,V,Y,C[P+10],j,3200236656),Y=D(Y,X,W,V,C[P+13],o,681279174),V=D(V,Y,X,W,C[P+0],m,3936430074),W=D(W,V,Y,X,C[P+3],l,3572445317),X=D(X,W,V,Y,C[P+6],j,76029189),Y=D(Y,X,W,V,C[P+9],o,3654602809),V=D(V,Y,X,W,C[P+12],m,3873151461),W=D(W,V,Y,X,C[P+15],l,530742520),X=D(X,W,V,Y,C[P+2],j,3299628645),Y=t(Y,X,W,V,C[P+0],U,4096336452),V=t(V,Y,X,W,C[P+7],T,1126891415),W=t(W,V,Y,X,C[P+14],R,2878612391),X=t(X,W,V,Y,C[P+5],O,4237533241),Y=t(Y,X,W,V,C[P+12],U,1700485571),V=t(V,Y,X,W,C[P+3],T,2399980690),W=t(W,V,Y,X,C[P+10],R,4293915773),X=t(X,W,V,Y,C[P+1],O,2240044497),Y=t(Y,X,W,V,C[P+8],U,1873313359),V=t(V,Y,X,W,C[P+15],T,4264355552),W=t(W,V,Y,X,C[P+6],R,2734768916),X=t(X,W,V,Y,C[P+13],O,1309151649),Y=t(Y,X,W,V,C[P+4],U,4149444226),V=t(V,Y,X,W,C[P+11],T,3174756917),W=t(W,V,Y,X,C[P+2],R,718787259),X=t(X,W,V,Y,C[P+9],O,3951481745),Y=K(Y,h),X=K(X,E),W=K(W,v),V=K(V,g);var i=B(Y)+B(X)+B(W)+B(V);return i.toLowerCase()}}),define("phxTml/services/phxElementUtil",["components/angular-md5/md5"],function(MD5){return["$window","phxUtil","phxFeatures","blvTmlUtil",function($window,phxUtil,phxFeatures,blvTmlUtil){function _addContentStyleToScope(scope,options){var extraClasses=options.extraClasses||"",layoutClass=blvTmlUtil.getTmlRenderLayout(options.attrs);scope.contentStyle=layoutClass+" "+extraClasses}function _getElementDimensions(element){switch(element=angular.element(element),_getElementType(element)){case"tml-image":return _getTmlImageDimensions(element);case"tml-external-provider":return _getTmlExternalProviderDimensions(element);default:throw new Error("Unknown element found.")}}function _getTmlImageDimensions(element){var img=element.find("img"),comStyle=$window.getComputedStyle(img[0]),maxHeight=comStyle.getPropertyValue("max-height"),attrHeight=parseInt(img.attr("height"),10),attrWidth=parseInt(img.attr("width"),10);maxHeight="px"===maxHeight.substr(-2,2)?parseInt(maxHeight,10):0/0;var computedHeight=isNaN(maxHeight)?attrHeight:Math.min(maxHeight,attrHeight),computedWidth=Math.floor(computedHeight/attrHeight*attrWidth),extraWidth=element.outerWidth(!0)-element.outerWidth(!1),extraHeight=element.outerHeight(!0)-element.outerHeight(!1);return{width:computedWidth+extraWidth,height:computedHeight+extraHeight}}function _getTmlExternalProviderDimensions(element){var contentElement,comStyle,parentContainer=element.parents(".m-collection"),isFullscreen=parentContainer.hasClass("fullscreen");contentElement=element.find(isFullscreen?".m-layout-object--frame":"img"),comStyle=$window.getComputedStyle(contentElement[0]);var maxHeight=comStyle.getPropertyValue("max-height"),attrHeight=parseInt(comStyle.getPropertyValue("height"),10),attrWidth=parseInt(comStyle.getPropertyValue("width"),10);maxHeight="px"===maxHeight.substr(-2,2)?parseInt(maxHeight,10):0/0;var computedHeight=isNaN(maxHeight)?attrHeight:Math.min(maxHeight,attrHeight),computedWidth=Math.floor(computedHeight/attrHeight*attrWidth),extraWidth=element.outerWidth(!0)-element.outerWidth(),extraHeight=element.outerHeight(!0)-element.outerHeight();return{width:computedWidth+extraWidth,height:computedHeight+extraHeight}}function _getElementType(element){if(element=angular.element(element),void 0!==element[0]){if(element[0].outerHTML.indexOf("tml-image")>0)return"tml-image";if(element[0].outerHTML.indexOf("tml-external-provider")>0)return"tml-external-provider"}return!1}function _isValidType(element){return _getElementType(element)!==!1}function _getElementUid(element){var str="";return element.hasOwnProperty("outerHtml")&&(str+=element.outerHtml),str+=1e5*Math.random(),MD5(str)}function _getTop(element){return $(element).offset().top-(window.innerHeight-$(element).outerHeight())/2}function _scrollToElement(element){element=angular.element(element)[0],phxUtil.isElementInView(element)||window.scrollTo(0,_getTop(element))}function _animateToElement(element){element=angular.element(element)[0],phxUtil.isElementInView(element)||angular.element("html, body").animate({scrollTop:_getTop(element)})}function _isHeadlineElement(element){return element.is(":header")||1===element.children().length&&element.children().eq(0).is("strong")}return{addContentStyleToScope:_addContentStyleToScope,getElementDimensions:_getElementDimensions,getElementType:_getElementType,isValidType:_isValidType,isHeadlineElement:_isHeadlineElement,getElementUid:_getElementUid,scrollToElement:_scrollToElement,animateToElement:_animateToElement}}]}),define("phxTml/services/phxTheplatformVideoService",[],function(){return["$q","$http","$filter","cstLogger",function($q,$http,$filter,cstLogger){function _createVideoObject(){return new VideoData}function _parseVideoFeed2Playlist(pIDs,data){var playList,orderedPlaylist,videoList,vLength,now=new Date,re=/([0-9]*)$/g,reURL=/^https?:\/\/link\.theplatform\.com\/s\/([^/?]+)\/([^/?]+)/g,urlParams="?assetTypes=medium_video_s3&mbr=true&metafile=true&policy=29966";if(data.isException)return!1;data.entries&&data.entries.length>0?videoList=data.entries:(videoList=[],videoList.push(data)),vLength=videoList.length,pIDs=pIDs.split(","),playList=[],orderedPlaylist=[];for(var i=0;vLength>i;i++)if(!isInvalidVideo(videoList[i],now)){var video=videoList[i],tpID=video.id.match(re)[0],releaseURL=video.media$content[0].plfile$url.match(reURL)[0],fileURL=releaseURL+urlParams,rating=video.media$ratings.length>0?video.media$ratings[0].rating:"N/A";if(playList[i]=_createVideoObject(),playList[i].videoID=video.id,playList[i].videoTpID=tpID,playList[i].primaryAssociation={id:video.BIO$primaryAssocId,shortFormType:video.BIO$shortFormType,mrssLengthType:video.AETN$mrssLengthType},playList[i].videoURLs={releaseURL:fileURL+"&switch=hds",html5ReleaseURL:fileURL+"&switch=hls"},playList[i].display={addedTimestamp:video.added,availableDate:video.media$availableDate,updatedTimestamp:video.updated,expirationDate:video.media$expirationDate,title:video.title,sdescs:video.description,ldescs:video.description,keywords:video.media$keywords,siteUrl:video.AETN$siteUrl.href,type:video.AETN$mrssLengthType,rating:$filter("uppercase")(rating),duration:_formatDuration(video.media$content[0].plfile$duration)},video.media$thumbnails&&video.media$thumbnails.length>0)for(var m=0;m<video.media$thumbnails.length;m++)"Video Still"===video.media$thumbnails[m].plfile$assetTypes[0]?playList[i].display.image={url:video.media$thumbnails[m].plfile$url,width:video.media$thumbnails[m].plfile$width,height:video.media$thumbnails[m].plfile$height}:playList[i].display.thumbnail=video.media$thumbnails[m].plfile$url||"site/images/bio-video-opt.jpg"}if(0===playList.length)orderedPlaylist=!1;else if(1===playList.length)orderedPlaylist=playList;else for(var id in pIDs){var pIndex=findById(pIDs[id],playList);pIndex>-1&&orderedPlaylist.push(playList[pIndex])}return orderedPlaylist}function _formatDuration(seconds){var date,timeOnly;return"undefined"!==seconds&&null!==seconds&&""!==seconds?(date=new Date(1970,0,1),date.setSeconds(seconds),timeOnly=date.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1"),0===timeOnly.indexOf("00:")&&(timeOnly=timeOnly.slice(3))):timeOnly="00:00:00",timeOnly}function _sortByPrimaryProfile(originalPlaylist,profileID){var newPlaylist=[],primaryBios=[],primaryClips=[],primaryEpisodes=[],secondaryClips=[],opLength=originalPlaylist.length;originalPlaylist.sort(function(a,b){return b.display.updatedTimestamp-a.display.updatedTimestamp});for(var i=0;opLength>i;i++)originalPlaylist[i].primaryAssociation.id===Number(profileID)?"Mini-bio"===originalPlaylist[i].primaryAssociation.shortFormType?primaryBios.push(originalPlaylist[i]):"Clip"===originalPlaylist[i].primaryAssociation.shortFormType?primaryClips.push(originalPlaylist[i]):primaryEpisodes.push(originalPlaylist[i]):secondaryClips.push(originalPlaylist[i]);return newPlaylist=newPlaylist.concat(primaryBios,primaryClips,secondaryClips,primaryEpisodes)}function isInvalidVideo(video,todayDate){var isNotAvailable=video.media$availableDate>todayDate,isExpired=video.media$expirationDate>0&&video.media$expirationDate<todayDate;return isNotAvailable||isExpired}function findById(pID,pArray){for(var pLength=pArray.length,pIndex=-1,i=0;pLength>i;i++)pArray[i].videoTpID===pID&&(pIndex=i);return pIndex}function _getVideoFeedByID(pIDs){var theplatformURL=_buildURL(pIDs),defer=$q.defer();return $http.jsonp(theplatformURL).success(function(data){data.isException&&cstLogger.error(data.title+": "+data.description);var result=_parseVideoFeed2Playlist(pIDs,data);defer.resolve(result)}).error(function(data,status){cstLogger.error("Error while retrieveing video data from url="+theplatformURL+" status="+status+" data="+data),defer.reject(null)}),defer.promise}function _buildURL(pID){var playerId=pID,requestURL=feedURL+feedId+"/"+feedName+"/"+playerId+"?callback=JSON_CALLBACK&"+feedFilter+"&form="+feedFormat;return requestURL}function _getAeConfig(){var aeAkamaiURL="http://servicesaetn-a.akamaihd.net",pdkBase=aeAkamaiURL+"/pdk5/pdk5.1.3/web/pdk",playerDivId="aeplayer_"+(new Date).getTime().toString(),omnitureAccount={PROD:"aebio",DEV:"devaebio",QA:"devaebio"},playerPlugins={freewheel:{URL:"http://adm.fwmrm.net/p/aetn_live/ThePlatformPDKPlugin.js",siteSectionId:"aetn.bio.people"},freewheelFlash:{siteSectionId:"aetn.bio.flash.people"},omniture:{host:"metrics.aetn.com",account:omnitureAccount[window.hexEnvironment],brandPrefix:"BIO",enableTrackHeartbeat:"false",jsSiteCatalystUrl:pdkBase+"/js/omniture.sitecatalyst.js"}};return{aeAkamaiURL:aeAkamaiURL,pdkBase:pdkBase,playerDivId:playerDivId,omnitureAccount:omnitureAccount,playerPlugins:playerPlugins}}var feedURL="http://theplatform.biography.com/f/",feedId="xc6n8B",feedName="all_videos_bio",feedFormat="json",feedFilter="byContent=byAssetTypes%3Dmedium_video_s3&thumbnailFilter=byAssetTypes%3DVideo%20Still%7CVideo%20Thumbnail",VideoData=function(){this.videoID=this.videoTpID="000000",this.videoURLs=this.display={},this.videoURLs={releaseURL:"null&switch=hds",html5ReleaseURL:"null&switch=hls"},this.display={addedTimestamp:new Date,title:"n/a",sdescs:"n/a",ldescs:"n/a",keywords:"n/a",thumbnail:"n/a",siteUrl:"n/a",type:"None",rating:"Not Available"},this.display.image={url:"site/images/bio-video-opt.jpg",width:"768px",height:"432px"}};return{getVideoFeedById:_getVideoFeedByID,createVideoObject:_createVideoObject,sortByPrimaryProfile:_sortByPrimaryProfile,getAeConfig:_getAeConfig}}]}),define("phxTml/services/phxMapService",[],function(){return["$q","$window","Config",function($q,$window,Config){function _apiPromise(){return deferred.promise}function _returnData(){return{0:{markers:[{lat:40.738509,lon:-74.005256,title:"Myers of Keswick",street:"634 Hudson St",city:"New York",state:"NY",zip:"10014",contact:{site:"myersofkeswick.com",url:"http://www.myersofkeswick.com/",phone:"(212) 691-4194"},directions:"https://www.google.com/maps/dir//Myers+of+Keswick,+634+Hudson+St,+New+York,+NY+10014/@40.738509,-74.005256,17z/data=!4m12!1m3!3m2!1s0x89c259bfe1bfc2d9:0x23556344cc38a19c!2sMyers+of+Keswick!4m7!1m0!1m5!1m1!1s0x89c259bfe1bfc2d9:0x23556344cc38a19c!2m2!1d-74.005256!2d40.738509"},{lat:40.731442,lon:-74.002975,title:"London Candy Co.",street:"267 Bleecker St",city:"New York",state:"NY",zip:"10014",contact:{site:"londoncandy.com",url:"http://www.londoncandy.com/",phone:"(212) 427-2129"},directions:"https://www.google.com/maps/dir//London+Candy+Co.,+267+Bleecker+St,+New+York,+NY+10014/@40.731442,-74.002975"},{lat:40.738286,lon:-74.001971,title:"Tea & Sympathy",street:"108 Greenwich Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"teaandsympathynewyork.com",url:"http://teaandsympathynewyork.com/",phone:"(212) 989-9735"},directions:"https://www.google.com/maps/dir//Tea+%26+Sympathy,+108+Greenwich+Ave,+New+York,+NY+10011/@40.738286,-74.001971"},{lat:40.746009,lon:-74.004962,title:"The High Line Hotel",street:"180 10th Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"thehighlinehotel.com",url:"http://www.thehighlinehotel.com/",phone:"(212) 929-3888"},directions:"https://www.google.com/maps/dir//The+High+Line+Hotel,+180+10th+Ave,+New+York,+NY+10011/@40.746009,-74.004962"}],style:{color:"#000",font_family:"Arial,Helvetica,sans-serif",font_size:"1.1em",background_color:"#fff"},parameters:{zoom:14,draggable:!0,mapTypeControl:!1,streetViewControl:!1}},1:{markers:[{lat:40.738509,lon:-74.005256,title:"Myers of Keswick",street:"634 Hudson St",city:"New York",state:"NY",zip:"10014",contact:{site:"myersofkeswick.com",url:"http://www.myersofkeswick.com/",phone:"(212) 691-4194"},directions:"https://www.google.com/maps/dir//Myers+of+Keswick,+634+Hudson+St,+New+York,+NY+10014/@40.738509,-74.005256"},{lat:40.731442,lon:-74.002975,title:"London Candy Co.",street:"267 Bleecker St",city:"New York",state:"NY",zip:"10014",contact:{site:"londoncandy.com",url:"http://www.londoncandy.com/",phone:"(212) 427-2129"},directions:"https://www.google.com/maps/dir//London+Candy+Co.,+267+Bleecker+St,+New+York,+NY+10014/@40.731442,-74.002975"},{lat:40.738286,lon:-74.001971,title:"Tea & Sympathy",street:"108 Greenwich Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"teaandsympathynewyork.com",url:"http://teaandsympathynewyork.com/",phone:"(212) 989-9735"},directions:"https://www.google.com/maps/dir//Tea+%26+Sympathy,+108+Greenwich+Ave,+New+York,+NY+10011/@40.738286,-74.001971"},{lat:40.746009,lon:-74.004962,title:"The High Line Hotel",street:"180 10th Ave",city:"New York",state:"NY",zip:"10011",contact:{site:"thehighlinehotel.com",url:"http://www.thehighlinehotel.com/",phone:"(212) 929-3888"},directions:"https://www.google.com/maps/dir//The+High+Line+Hotel,+180+10th+Ave,+New+York,+NY+10011/@40.746009,-74.004962"},{lat:40.763331,lon:-73.980296,title:"The London NYC hotel",street:"151 W 54th St",city:"New York",state:"NY",zip:"10105",contact:{site:"thelondonnyc.com",url:"http://www.thelondonnyc.com/",phone:"(212) 307-5000"},directions:"https://www.google.com/maps/dir//The+London+NYC,+151+W+54th+St,+New+York,+NY+10105/@40.763331,-73.980296"},{lat:40.7698564,lon:-73.9724724,title:"William Shakespeare Statue",street:"Central Park",city:"New York",state:"NY",zip:"10019",directions:"https://www.google.com/maps/dir//40.7698564,-73.9724724/@40.7695502,-73.972459,20z/data=!4m3!4m2!1m0!1m0"},{lat:40.690796,lon:-73.995794,title:"The Atlantic ChipShop",street:"129 Atlantic Ave",city:"Brooklyn",state:"NY",zip:"11201",contact:{site:"chipshopnyc.com",url:"http://www.chipshopnyc.com/",phone:"(718) 855-7775"},directions:"https://www.google.com/maps/dir//The+Atlantic+ChipShop,+129+Atlantic+Ave,+Brooklyn,+NY+11201/@40.690796,-73.995794"},{lat:40.77032,lon:-73.953593,title:"Jones Wood Foundry",street:"401 E 76th St",city:"New York",state:"NY",zip:"10021",contact:{site:"joneswoodfoundry.com",url:"http://www.joneswoodfoundry.com/",phone:"(212) 249-2700"},directions:"https://www.google.com/maps/dir//Jones+Wood+Foundry,+401+E+76th+St,+New+York,+NY+10021/@40.77032,-73.953593"}],style:{color:"#000",font_family:"Arial,Helvetica,sans-serif",font_size:"1.1em",background_color:"#fff"},parameters:{zoom:11,draggable:!0,mapTypeControl:!1,navigationControl:!1,scaleControl:!1,scrollwheel:!1,streetViewControl:!1}}}}var deferred=$q.defer();$window.googleMapsReady=function(deferred){return function(){deferred.resolve(!0),delete $window.googleMapsReady}}(deferred);var key=Config.embed&&Config.embed.services?Config.embed.services.mapServiceKey:null;return key?(function(){var e=document.createElement("script");e.setAttribute("language","javascript"),e.setAttribute("type","text/javascript"),e.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+key+"&sensor=false&callback=googleMapsReady"),document.body.appendChild(e)}(),{apiPromise:_apiPromise,data:_returnData}):{apiPromise:_apiPromise,data:function(){return{}}}}]}),define("phxTml/services/phxTmlUtil",[],function(){return[function(){function _getYouTubeUrl(id,srcUrl){var src="//www.youtube.com/embed/"+id,timecodeFormat=/\?t=(\d+m)?(\d+)s$/,matches=timecodeFormat.exec(srcUrl);if(matches){var minutes=matches[1]?matches[1].slice(0,-1):0,seconds=matches[2]||0,totalSeconds=60*Number(minutes)+Number(seconds);src+="?start="+totalSeconds}return src}return{getYouTubeUrl:_getYouTubeUrl}}]}),define("phxTml/directives/phxTmlAnchor",[],function(){return function(){return{restrict:"A",replace:!1,scope:{tmlAnchor:"@"},link:function(scope,element){element.find('a[name="'+scope.tmlAnchor+'"]').length||element.prepend('<a name="'+scope.tmlAnchor+'"></a>')}}}}),define("text!phxTml/html/phxTmlImage.html",[],function(){return'<div>\n    <figure class="tml-image {{contentStyle}}" itemscope itemtype="http://schema.org/ImageObject">\n        <img width="{{contentPhoto.width}}" height="{{contentPhoto.height}}" ng-src="{{cloudinaryUrl}}" alt="{{(contentCaption||contentPhoto.defaultCaption) | phxStripHtml }}" itemprop="image"/>\n        <figcaption itemprop="caption" phx-html="contentCaption"></figcaption>\n        <phx-pin-it ng-if="$root.config.social.pinItImages" pin-url="{{pageUrl}}" pin-media="{{cloudinaryUrl}}" pin-description="{{contentCaption}}"></phx-pin-it>\n        <span class="attribution" itemprop="author" ng-show="false">\n            <a ng-href="{{contentPhoto.attribution.sourcePageUrl}}">{{contentPhoto.attribution.sourceName}}</a>\n        </span>\n    </figure>\n\n    <!-- since the full bleed images break out of the article flow we need\n         a spacer div the push the content down below the image -->\n    <div ng-if="isFullBleed" class="l-container-spacer" ng-style="{height: getFullBleedHeight()}" ></div>\n</div>'}),define("phxTml/directives/phxTmlImage",["text!phxTml/html/phxTmlImage.html"],function(template){return function($rootScope,cstConfig,cstLogger,blvCloudinaryResolver,blvTmlUtil,flmContentPhotoFetcher,phxViewMeta,phxImageOptions,phxElementUtil,$window,$filter,phxUtil){function getCloudinaryOptions(element){var e=angular.element(element).get(0),options={};return angular.forEach(e.attributes,function(a){0===a.name.indexOf("cloudinary-")&&(options[a.name.substring("cloudinary-".length)]=a.value)}),options}return{restrict:"A",replace:!0,scope:{tmlImage:"@"},template:template,link:function(scope,iElement,iAttrs){var imageUrlFilter=$filter("phxImageUrl"),figure=iElement.find("figure"),getFullBleedHeight=function(){var height=figure.outerHeight();return height+"px"},updateFullBleedImage=phxUtil.throttle(function(){scope.isFullBleed&&(scope.cloudinaryUrl=imageUrlFilter(scope.contentPhoto,"inlineImage:l-full-bleed"))},250),_cloudinaryUrl=null;scope.loaded=!1,scope.contentPhotoId=iAttrs.tmlImage,scope.pathUrl=encodeURIComponent(document.URL),phxViewMeta.waitForValidView(function(view){scope.pageUrl=view.canonicalUrl}),phxElementUtil.addContentStyleToScope(scope,{attrs:iAttrs}),iAttrs.tmlRenderLayout&&"full-bleed"===iAttrs.tmlRenderLayout&&(scope.isFullBleed=!0,scope.getFullBleedHeight=getFullBleedHeight,iElement.addClass("l-container-full"),angular.element($window).bind("resize",updateFullBleedImage),iElement.on("$destroy",function(){angular.element($window).unbind("resize",updateFullBleedImage)})),iElement[0].loadImg=function(){scope.loaded=!0,scope.cloudinaryUrl=_cloudinaryUrl};var imageType=blvTmlUtil.getTmlRenderLayout(iAttrs),imageProfile="inlineImage:"+imageType,baseOptions=phxImageOptions.getOptions(imageProfile),cloudinaryOptions=angular.extend({},baseOptions,getCloudinaryOptions(iElement,iAttrs));scope.contentCaption=angular.isDefined(iAttrs.tmlImageCaption)?iAttrs.tmlImageCaption:"";var mockingjayConfig=cstConfig.getModuleConfig("phxMockingjay");if("DEV"===$window.hexEnvironment&&Object.getOwnPropertyNames(mockingjayConfig).length)_cloudinaryUrl=iAttrs.tmlImage,(scope.loaded||!iElement[0].defer&&!iAttrs.defer)&&iElement[0].loadImg();else{var imagePromise=blvCloudinaryResolver.getCloudinaryUrlById(scope.contentPhotoId,cloudinaryOptions).then(function(url){_cloudinaryUrl=url,(scope.loaded||!iElement[0].defer&&!iAttrs.defer)&&iElement[0].loadImg()});flmContentPhotoFetcher.getObjectPromise(scope.contentPhotoId).then(function(contentPhoto){scope.contentPhoto=contentPhoto},function(error){cstLogger.error(error)}),blvTmlUtil.trackTmlPromise(imagePromise)}var img=iElement.find("IMG").eq(0);img&&img.on("load",function(){$rootScope.$broadcast("phxTmlImage:imageLoaded",img,scope.contentPhotoId),updateFullBleedImage()})}}}}),define("text!phxTml/html/phxTmlPerson.html",[],function(){return'<div>\n	<article itemscope class="m-person" itemtype="http://schema.org/Person">\n		<meta content="en" itemprop="inLanguage" />\n\n		<header>\n		    <phx-primary-image url="{{person.relativeUrl}}" class="m-person--image" image="{{person.primaryImageUrl}}" alt="{{person.title}}"></phx-primary-image>\n\n			<div class="m-person--summary">\n				<h2 class="m-person--hed" itemprop="name" phx-word-count><a ng-href="{{person.relativeUrl}}" phx-track-event="click" phx-track-id="Title">{{person.title}}</a></h2>\n\n				<div class="m-person--abstract" itemprop="description" phx-ellipsis="{{person.teaser}}" ng-bind="person.teaser"></div>\n			</div>\n\n		</header>\n\n	</article>\n</div>\n'}),define("phxTml/directives/phxTmlPerson",["text!phxTml/html/phxTmlPerson.html"],function(template){return function(cstLogger,blvTmlUtil,flmContentPersonFetcher,phxAugmentPerson,$q,phxElementUtil){return{restrict:"A",replace:!0,scope:{tmlPerson:"@"},template:template,link:function(scope,iElement,iAttrs){scope.contentPersonId=iAttrs.tmlPerson,phxElementUtil.addContentStyleToScope(scope,{attrs:iAttrs});var deferredPerson=$q.defer();blvTmlUtil.trackTmlPromise(deferredPerson.promise),flmContentPersonFetcher.getObjectPromise(scope.contentPersonId).then(function(person){scope.person=person;var augmentPromises=phxAugmentPerson.augment(person,{compileTml:!1});$q.all(augmentPromises).then(function(){deferredPerson.resolve(!0)},function(err){deferredPerson.reject(err)})},function(err){deferredPerson.reject(err)})}}}}),define("text!phxTml/html/tmlProduct.html",[],function(){return'<div ng-show="product">\n    <article class="tml-product m-product {{contentStyle}}" itemscope itemtype="http://schema.org/Product">\n        <meta itemprop="image" content="{{ product.primaryImageUrl }}">\n        <meta itemprop="gtin14" content="{{ product.gtinCode }}">\n\n        <header>\n            <div class="m-product--image" itemprop="image">\n                <a ng-href="{{product.relativeUrl}}" content-id="{{product.id}}">\n                    <img alt="{{product.title}}" ng-src="{{product.primaryImageUrl}}">\n                </a>\n            </div>\n            <div class="m-product--summary">\n                <h1 class="m-product--hed" itemprop="brand" itemscope itemtype="http://schema.org/Brand"><a ng-href="{{product.relativeUrl}}">{{product.brandDisplayName}}</a></h1>\n                <div class="m-product--abstract" itemprop="description">\n                    <p class="m-product--title" itemprop="name">\n                        {{ product.title }}\n\n                        <span class="m-product--offers" itemprop="offers" itemscope itemtype="http://schema.org/Offer" itemtype="http://schema.org/Offer" ng-show="product.price">\n                            <meta itemprop="priceCurrency" content="{{ product.priceCurrency }}">\n                            <span itemprop="price">{{ product.price | currency:product.priceCurrency }}</span>\n                        </span>\n                    </p>\n                </div>\n            </div>\n            <div class="m-product--buttons">\n                <div class="button buynow">\n                    <a class="button" ng-href="{{product.relativeUrl}}">\n                        <span>More Info</span>\n                    </a>\n                </div>\n            </div>\n        </header>\n    </article>\n</div>\n'
}),define("phxTml/directives/phxTmlProduct",["text!phxTml/html/tmlProduct.html"],function(template){return function(blvCloudinaryResolver,blvTmlUtil,flmContentProductFetcher,flmContentTagFetcher,$sce,cstLogger,phxAugmentProduct,$q,phxElementUtil){return{restrict:"A",replace:!0,scope:{},template:template,link:function(scope,iElement,iAttrs){scope.contentProductId=iAttrs.tmlProduct,phxElementUtil.addContentStyleToScope(scope,{attrs:iAttrs});var cloudinaryOptionsSet={"mm-small":{crop:"fill",width:60,height:60},"mm-medium":{crop:"fill",width:120,height:120},"mm-large":{crop:"fill",width:240,height:240},"mm-xlarge":{crop:"fill",width:480,height:480},"":{crop:"fill",width:60,height:60},"l-wrap-left":{crop:"fill",width:75,height:75},"l-wrap-right":{crop:"fill",width:75,height:75},"l-inline":{crop:"fill",width:240,height:240},"l-breakout":{crop:"fill",width:480,height:480},"l-full-bleed":{crop:"fill",width:480,height:480}},layoutType=blvTmlUtil.getTmlRenderLayout(iAttrs),cloudinaryOptions=cloudinaryOptionsSet[layoutType],augmentOptions={cloudinaryOptions:cloudinaryOptions},deferredProduct=$q.defer();blvTmlUtil.trackTmlPromise(deferredProduct.promise),flmContentProductFetcher.getObjectPromise(scope.contentProductId).then(function(product){scope.product=product;var augmentPromises=phxAugmentProduct.augment(product,augmentOptions);$q.all(augmentPromises).then(function(){deferredProduct.resolve(!0)},function(err){deferredProduct.reject(err)})},function(error){cstLogger.error(error)})}}}}),define("phxTml/directives/phxTmlRenderLayout",[],function(){return function(blvTmlUtil){return{restrict:"A",scope:!1,link:function(scope,iElement,iAttrs){if(blvTmlUtil.isValidBlockElement(iElement)){var layoutClass=blvTmlUtil.getTmlRenderLayout(iAttrs);$(iElement).addClass(layoutClass)}}}}}),define("phxTml/directives/phxTmlCollection",[],function(){return["$window","$document",function(){return{restrict:"EA",scope:!0,link:function($scope,$element){$element.addClass("m-collection")}}}]}),define("text!phxTml/html/phxTmlCollectionGrid.html",[],function(){return'<div class="m-collection--grid l-feed--grid">\n</div>'}),define("phxTml/directives/phxTmlCollectionGrid/phxTmlCollectionGrid",["text!phxTml/html/phxTmlCollectionGrid.html"],function(template){return["$location",function($location){return{restrict:"A",transclude:!0,template:template,controller:function($scope,$element,$attrs,$transclude){var self=this,_items=[];$transclude(function(clones){var transcludedItems=clones.filter("div");angular.forEach(transcludedItems,function(contentItem){_items.push(contentItem)})}),self.items=_items},link:function($scope,$element,$attrs,ctrl){$scope.loadedItems=ctrl.items;var firstElement=angular.element($element.children()[0]);firstElement.append($scope.loadedItems),firstElement.find(".m-video--container").remove(),firstElement.on("click","div[tml-anchor]",function(){var path,tmlElement=angular.element(this).find("div[tml-external-provider]"),tmlElementPath=tmlElement.attr("tml-external-provider-theplatform-path");path="undefined"!=typeof tmlElementPath&&""!==tmlElementPath?tmlElementPath:$location.path()+"/videos/"+angular.element(this).attr("tml-anchor"),$location.path(path),$location.hash(null),$scope.$apply()})}}}]}),define("text!phxTml/html/phxTmlCollectionCarousel.html",[],function(){return'<div class="m-collection--carousel {{contentStyle}}" ng-swipe-left="nextElement()" ng-swipe-right="prevElement()" ng-class="{\'loading\': loading}">\n    <div tml-collection-carousel-meta-data></div>\n    <div tml-collection-carousel-sled phx-collection-items="loadedItems" phx-initial-index="{{ initial }}"></div>\n    <div tml-collection-carousel-prev></div>\n    <div tml-collection-carousel-next></div>\n    <div tml-collection-carousel-tools></div>\n</div>'}),define("phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarousel",["text!phxTml/html/phxTmlCollectionCarousel.html"],function(template){return["$timeout","$window","$document","$route","Respond","Angularytics","phxUtil","phxElementUtil","Config","phxRoute","phxFragmentUrl","phxAnalyticsUtil","$location","phxBreakout","$rootScope","phxImageOptions","cstLogger","phxViewMeta","phxFeatures","blvTmlUtil",function($timeout,$window,$document,$route,Respond,Angularytics,phxUtil,phxElementUtil,Config,phxRoute,phxFragmentUrl,phxAnalyticsUtil,$location,phxBreakout,$rootScope,phxImageOptions,cstLogger,phxViewMeta){return{restrict:"A",transclude:!0,template:template,scope:{tmlRenderLayout:"@"},controller:function($scope,$element){var self=this;$scope.activated=!1,this.enterFullscreen=function(target){if(!this.isFullscreen()){$element.addClass("fullscreen"),$scope.activated=!0,$(window).on("scroll.fullscreen",phxUtil.after(function(){self.exitFullscreen()},10));var breakpoint=Respond.getCurrentBreakpoint(),breakpoints=Respond.getBreakpoints();breakpoints.indexOf(breakpoint)<breakpoints.length-3&&$element.find(".m-collection--carousel").addClass("show-more-info",!0),this.setHeight(),this.setFragment($scope.fragment),$scope.$broadcast("phxCollection:enterFullscreen",{element:target})}},this.exitFullscreen=function(){this.isFullscreen()&&($element.removeClass("fullscreen"),phxBreakout.processBreakouts(),$(window).off("scroll.fullscreen"),this.setHeight(!0),$scope.$broadcast("phxCollection:exitFullscreen"))},this.isFullscreen=function(){return $element.hasClass("fullscreen")},this.nextElement=function(count){$scope.activated=!0,$scope.$broadcast("phxCollection:nextElement",count)},this.prevElement=function(count){$scope.activated=!0,$scope.$broadcast("phxCollection:prevElement",count)},this.setFragment=function(fragment){$scope.fragment=fragment,fragment&&$scope.activated&&phxFragmentUrl.setFragment(fragment,!1,!0)},this.setHeight=function(slide){if(slide=angular.isDefined(slide)?slide:!0,"full-bleed"===$scope.tmlRenderLayout||"breakout"===$scope.tmlRenderLayout||"inline"===$scope.tmlRenderLayout){var newHeight=$element.children().first().height();newHeight>0&&$element.css("height",newHeight+"px")}$scope.$broadcast("phxCollection:setHeight",slide)},this.getContainerLayout=function(){return $scope.tmlRenderLayout},$document.bind("keydown",function(event){(phxUtil.isElementInView($element[0])||self.isFullscreen())&&(37===event.which?self.prevElement():39===event.which?self.nextElement():27===event.which&&$element.hasClass("fullscreen")&&self.exitFullscreen())}),$scope.loading=!0,$scope.$on("phxCollection:queueReady",function(){$timeout(function(){$scope.$broadcast("phxCollection:setHeight",!0),$scope.loading=!1})})},compile:function(){return{pre:function($scope,$element,$attrs,ctrl,$transclude){function addDeferAttribute(element){if(element.hasAttribute("tml-image"))element.setAttribute("defer",!0),element.defer=!0;else if(element.children.length>0)for(var i in element.children)angular.isDefined(element.children[i].nodeName)&&"#text"!==element.children[i].nodeName&&addDeferAttribute(element.children[i])}function setDimensionAttributes(element){if(element.hasAttribute("tml-image")){var iOptions=phxImageOptions.getOptions("collectionFullscreenImage");element.setAttribute("cloudinary-crop",iOptions.crop),element.setAttribute("cloudinary-height",iOptions.height),element.setAttribute("cloudinary-width",iOptions.width)}else if(element.children.length>0)for(var i in element.children)angular.isDefined(element.children[i].nodeName)&&"#text"!==element.children[i].nodeName&&setDimensionAttributes(element.children[i])}$scope.loadedItems=[],$scope.foundAnchor=!1;var _items=[],_initialElement=0,anchor=!1;ctrl.setHeight(),$timeout(function(){anchor=$location.hash(),$transclude(function(clones){var i=0;$scope.delayImageLoad=!0,angular.forEach(clones,function(clone){"#text"!==clone.nodeName&&phxElementUtil.isValidType(clone)&&(anchor&&clone.getAttribute("tml-anchor")===anchor&&(_initialElement=i,$scope.foundAnchor=!0,$scope.fragment=anchor),-1!==clone.outerHTML.indexOf('tml-image="')&&(addDeferAttribute(clone),setDimensionAttributes(clone)),_items.push(clone),i++)}),_items.length||phxViewMeta.waitForValidView(function(view){cstLogger.error("A gallery on "+view.canonicalPath+" is empty.")}),$scope.loadedItems=_items,0!==_initialElement&&($scope.initial=_initialElement)})},10)},post:function($scope,$element,$attrs,ctrl){phxElementUtil.addContentStyleToScope($scope,{attrs:$attrs,defaultSize:"mm-large",defaultPosition:"mm-center",defaultLayout:"l-inline"}),$attrs.tmlRenderLayout&&"full-bleed"===$attrs.tmlRenderLayout&&$element.addClass("l-full-bleed-container"),$timeout(function(){$scope.foundAnchor&&phxElementUtil.scrollToElement($element.children().first())},1e3),$scope.$on("breakpoint",function(){ctrl.setHeight()}),$(window).bind("orientationchange",ctrl.setHeight),$scope.nextElement=ctrl.nextElement,$scope.prevElement=ctrl.prevElement}}}}}]}),define("phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselSled",[],function(){return["$compile","$rootScope","$window","$document","$swipe","Config","phxUtil","phxBreakout","phxElementUtil","phxViewMeta","Angularytics",function($compile,$rootScope,$window,$document,$swipe,Config,phxUtil,phxBreakout,phxElementUtil,phxViewMeta,Angularytics){return{restrict:"EA",template:'<div class="m-collection--carousel-sled"></div>',replace:!0,scope:{phxCollectionItems:"=",phxInitialIndex:"@"},require:["tmlCollectionCarouselSled","^tmlCollectionCarousel"],controller:function($scope,$element){function _watchElementLoading(element,index,position){var uid=phxElementUtil.getElementUid(element),srcElements=angular.element(element).find("[src],[ng-src],[tml-src]");angular.forEach(srcElements,function(e){var ae=angular.element(e),src=ae.attr("src")||ae.attr("ng-src")||ae.attr("tml-src");_loading.hasOwnProperty(uid)||(_loading[uid]=[]),_loading[uid].push(src)}),angular.forEach(srcElements,function(e){var ae=angular.element(e),src=ae.attr("src"),ngSrc=ae.attr("ng-src");src&&ae[0].complete===!0?_srcLoaded(uid,src,element,index,position):(src=src||ngSrc,ae.on("load",function(){_srcLoaded(uid,src,element,index,position)}))})}function _srcLoaded(uid,src,element,index,position){if(_loading.hasOwnProperty(uid)&&-1!==_loading[uid].indexOf(src)){var i=_loading[uid].indexOf(src);_loading[uid].splice(i,1),0===_loading[uid].length&&(delete _loading[uid],$scope.$emit("phxCollection:elementLoaded",element,index,position))}}var _loaded=[],_loading={},_queue=[],_elements=[],_firstLoadComplete=!1,_queueLength=Config.gallery.buffer.next+Config.gallery.buffer.prev+1;$element.addClass("no-transition"),this._loadElements=function(start){start=start||0,_queue=this._orderQueue(_elements,start),this._loadQueue()},this._orderQueue=function(elements,start){for(var sorted=[[_elements[start],0]],offset=0;sorted.length<_queueLength;){offset=offset>0?-offset:-offset+1;var i=this._wrapIndex(start+offset);sorted.push([_elements[i],offset])}return sorted},this._loadQueue=function(){function _loadElement(element){element[1]>0?self._appendElement(element[0],element[1]):self._prependElement(element[0],element[1])}var self=this;if(0===_queue.length)return void $element.removeClass("no-transition");if(_queue.length!==_queueLength)throw new Error("An unexpected number of elements are queued up.");$element.children().remove(),_loaded=[],$scope.$on("phxCollection:elementLoaded",function(){_queue.shift(),0!==_queue.length||_firstLoadComplete||($scope.$emit("phxCollection:queueReady"),_firstLoadComplete=!0,self.slideToCurrent(),$element.hasClass("no-transition")&&$element.removeClass("no-transition"))}),angular.forEach(_queue,function(e){_loadElement(e)})},this._removeElement=function(index){index>=0&&index<_loaded.length&&($element.children().eq(index).remove(),_loaded.splice(index,1))},this._prependElement=function(element,offset){this._addElement(element,0,offset)},this._appendElement=function(element,offset){var childrenLength=$element.children().length;this._addElement(element,childrenLength,offset)},this._loadElementImages=function(element){if(element.loadImg)element.loadImg();else if(element.children.length>0)for(var i=0;i<element.children.length;i++)angular.isDefined(element.children[i].nodeName)&&"#text"!==element.children[i].nodeName&&this._loadElementImages(element.children[i])},this._addElement=function(element,index,offset){var childrenLength=$element.children().length,eIndex=_elements.indexOf(element),e=angular.element(element).clone(!0,!0);e=angular.element($compile(e)($scope)),e[0].outerHTML.indexOf('tml-image="')&&this._loadElementImages(e[0]),0>=index?($element.prepend(e),index=0):index>=childrenLength?($element.append(e),index=childrenLength):$element.eq(index-1).after(e),_loaded.splice(index,0,element),_watchElementLoading(e,eIndex,offset)},this._wrapIndex=function(index){var wrapIndex,listLength=_elements.length||0;return wrapIndex=0>index?listLength+index%listLength:index%listLength,wrapIndex>=_elements.length&&(wrapIndex=0),wrapIndex},this.getNormalizedElementDimensions=function(element){var dimensions=phxElementUtil.getElementDimensions(element),containerWidth=$element.parent().width(),containerHeight=$element.height(),parentContainer=element.parents(".m-collection"),isFullscreen=parentContainer.hasClass("fullscreen");if("tml-external-provider"===phxElementUtil.getElementType(element)&&isFullscreen){var controlWidth=$element.parent().children(".m-collection--carousel-control")[0].clientWidth;dimensions.width=containerWidth-2*controlWidth,dimensions.height=9*dimensions.width/16}else dimensions.width>containerWidth&&(dimensions.height=Math.floor(containerWidth/dimensions.width*dimensions.height),dimensions.width=containerWidth),dimensions.height>containerHeight&&(dimensions.width=Math.floor(containerHeight/dimensions.height*dimensions.width),dimensions.height=containerHeight);return dimensions},this.normalizeElementDimensions=function(element){var contentElement,comStyle,maxHeight,dimensions=this.getNormalizedElementDimensions(element);switch(phxElementUtil.getElementType(element)){case"tml-image":contentElement=element.find("img"),comStyle=$window.getComputedStyle(contentElement[0]),maxHeight=parseInt(comStyle.getPropertyValue("max-height"),10),dimensions.height<maxHeight?contentElement.parent().css("paddingTop",Math.round(maxHeight/2-dimensions.height/2)+"px"):contentElement.parent().css("paddingTop",0),contentElement.css("width",dimensions.width+"px"),element.css("width",dimensions.width+"px"),contentElement.css("height",dimensions.height+"px");break;case"tml-external-provider":var parentContainer=element.parents(".m-collection"),isFullscreen=parentContainer.hasClass("fullscreen"),marginTop=0;isFullscreen?(contentElement=element.find(".m-video-object--frame"),maxHeight=element.height()):(contentElement=element.find("img"),comStyle=$window.getComputedStyle(contentElement[0]),maxHeight=parseInt(comStyle.getPropertyValue("max-height"),10)),marginTop=dimensions.height<maxHeight?Math.round(maxHeight/2-dimensions.height/2)+"px":0,contentElement.css("marginTop",marginTop),contentElement.css("width",dimensions.width+"px"),contentElement.css("height",dimensions.height+"px"),element.css("width",dimensions.width+"px");break;default:throw new Error("Unknown element type.")}return dimensions},this.getElements=function(){return _elements},this.setElements=function(elements,start){_elements=elements,this._loadElements(start)},this.shift=function(count){count=count||1;for(var i=0;count>i;i++){var lastElementIndex=_elements.indexOf(_loaded[_loaded.length-1]),newIndex=this._wrapIndex(lastElementIndex+1);this._removeElement(0),this._appendElement(_elements[newIndex],1)}},this.unshift=function(count){count=count||1;for(var i=0;count>i;i++){var firstElementIndex=_elements.indexOf(_loaded[0]),newIndex=this._wrapIndex(firstElementIndex-1);this._removeElement(_loaded.length-1),this._prependElement(_elements[newIndex],-1)}},this.resetPositions=function(slide){slide=slide||!1;for(var count=1,start=Config.gallery.buffer.prev,offset=0,childrenLength=$element.children().length;childrenLength>=count;){count++;var position=start+offset;if(!(0>position||position>=childrenLength)){var $child=$element.children().eq(position);this.normalizeElementDimensions($child),offset>0?this.positionAfter($child,offset):0>offset&&this.positionBefore($child,offset),offset=offset>0?-offset:-offset+1}}slide&&childrenLength&&this.slideToCurrent()},this.positionAfter=function(element,position){var last=element.prev(),left=0;left=0===position?$element.width()/2:last.position().left+last.outerWidth(!0),element.css("left",left+"px")},this.positionBefore=function(element,position){var next=element.next(),left=0;left=0===position?$element.width()/2:next.position().left-element.outerWidth(!0),element.css("left",left+"px")},this.slideToElement=function(element){if(element&&0!==element.length){var $active=angular.element(element),activeDimensions=this.getNormalizedElementDimensions($active),comStyle=$window.getComputedStyle($element[0]),sledOffset=parseInt(comStyle.getPropertyValue("margin-left"),10),activeSledOffset=$active.position().left+(sledOffset?0:activeDimensions.width/2),left=$element.parent().width()/2-activeSledOffset;$element.css("left",left+"px")}},this.slideToCurrent=function(){return this.slideToElement($element.children().eq(Config.gallery.buffer.prev))}},link:function($scope,$element,$attrs,controllers){function _setInactive(element){element.removeClass("active"),element.off("click"),element.on("click",function(event){event.stopPropagation();var elementIndex=$element.children().index(angular.element(element));elementIndex>Config.gallery.buffer.prev?CollectionCtrl.nextElement(elementIndex-Config.gallery.buffer.prev):elementIndex<Config.gallery.buffer.prev&&CollectionCtrl.prevElement(Math.abs(elementIndex-Config.gallery.buffer.prev))})}function _setActive(element){element.addClass("active"),element.off("click"),element.on("click",function(event){CollectionCtrl.enterFullscreen(event.target),event.stopPropagation()});var caption=element.find("figcaption");caption.length>0&&""===caption.text()&&caption.hide()}var SledCtrl=controllers[0],CollectionCtrl=controllers[1];$scope.$on("breakpoint",function(){SledCtrl.resetPositions(),SledCtrl.slideToCurrent()}),window.addEventListener("orientationchange",function(){SledCtrl.resetPositions(!0)}),$scope.$watch("phxCollectionItems",function(items){items&&items.length>0?SledCtrl.setElements(items,parseInt($scope.phxInitialIndex,10)):$scope.loading=!1}),$scope.$on("phxCollection:elementLoaded",function(event,element,index,position){var e=angular.element(element);_setInactive(e),e.find("figure").removeClass("m-layout-object");var caption=e.find("figcaption");if(caption){var count=angular.element('<span class="image-count">'+(index+1)+" of "+SledCtrl.getElements().length+"</span>");if(caption.text().length>0&&(count.addClass("has-caption"),caption.find("a").each(function(){phxUtil.isExternalLink(this.href)&&angular.element(this).attr("target","_blank").click(function(event){event.stopPropagation()})})),caption.prepend(count),"breakout"!==CollectionCtrl.getContainerLayout()&&"full-bleed"!==CollectionCtrl.getContainerLayout()){var containerInnerWidth=$element.parent().innerWidth();caption.css("width",containerInnerWidth)}}SledCtrl.normalizeElementDimensions(e),position>0?SledCtrl.positionAfter(e,position):(SledCtrl.positionBefore(e,position),0===position&&(_setActive(e),SledCtrl.slideToElement(e))),CollectionCtrl.setHeight(!1)}),$scope.$on("phxCollection:nextElement",function(event,count){_setInactive($element.children().eq(Config.gallery.buffer.prev)),SledCtrl.shift(count),SledCtrl.slideToCurrent(),_setActive($element.children().eq(Config.gallery.buffer.prev))}),$scope.$on("phxCollection:prevElement",function(event,count){_setInactive($element.children().eq(Config.gallery.buffer.prev)),SledCtrl.unshift(count),SledCtrl.slideToCurrent(),_setActive($element.children().eq(Config.gallery.buffer.prev))}),$scope.$on("phxCollection:setHeight",function(event,slide){SledCtrl.resetPositions(slide);var caption=$element.find("figcaption");if(caption&&"breakout"!==CollectionCtrl.getContainerLayout()&&"full-bleed"!==CollectionCtrl.getContainerLayout()){var containerInnerWidth=$element.parent().innerWidth();caption.css("width",containerInnerWidth)}});var transitionCompleteEvents=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"];$element.bind(transitionCompleteEvents.join(" "),function(e){if(e.target===$element[0]){var $e=$element.children().eq(Config.gallery.buffer.prev),a=$e.attr("tml-anchor");CollectionCtrl.setFragment(a),Angularytics.trackEvent("Article","gallery-slide"),$scope.$parent.$broadcast("phxCollection:activeElementSet",$e)}})}}}]}),define("phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselNext",[],function(){return["phxCategorizr",function(){return{restrict:"EA",template:'<div class="m-collection--carousel-control m-collection--carousel-next"></div>',replace:!0,scope:{},require:"^tmlCollectionCarousel",link:function($scope,$element,$attrs,collectionCtrl){$element.on("click",function(){collectionCtrl.nextElement()})}}}]}),define("phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselPrev",[],function(){return["phxCategorizr",function(){return{restrict:"EA",template:'<div class="m-collection--carousel-control m-collection--carousel-prev"></div>',replace:!0,scope:{},require:"^tmlCollectionCarousel",link:function($scope,$element,$attrs,collectionCtrl){$element.on("click",function(){collectionCtrl.prevElement()})}}}]}),define("phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselMetaData",[],function(){return["phxViewMeta",function(phxViewMeta){return{restrict:"EA",template:'<div class="m-collection--carousel-meta"></div>',replace:!0,require:"^tmlCollectionCarousel",link:function($scope,$element,$attrs,collectionCtrl){$scope.phxViewMetaView=phxViewMeta.scope.view;var unwatch=$scope.$watch("phxViewMetaView.title",function(newV){newV&&(unwatch(),$element.text(phxViewMeta.scope.view.title))});$element.bind("click",function(){collectionCtrl.exitFullscreen()})}}}]}),define("text!phxTml/html/phxTmlCollectionCarouselTools.html",[],function(){return'<div class="m-collection--carousel-tools">\n    <section class="m-social" phx-track-id="Social Tools">\n        <ul>\n            <li ng-repeat="button in socialButtons" class="m-social--{{button.className}}"><phx-share-button medium="{{button.medium}}" location="collection-carousel" content-item="contentItem" author="author"><a></a></phx-share-button></li>\n        </ul>\n    </section>\n    <span class="more-info" ng-click="moreInfo()"></span>\n</div>\n'}),define("phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselTools",["text!phxTml/html/phxTmlCollectionCarouselTools.html"],function(template){return["Config","phxViewMeta",function(Config,phxViewMeta){return{restrict:"EA",template:template,replace:!0,require:"^tmlCollectionCarousel",link:function($scope,$element,$attrs,collectionCtrl){$scope.phxViewMetaView=phxViewMeta.scope.view;var articleTitle,articleDescription,articlePath,unwatch=$scope.$watch("phxViewMetaView.title",function(newV){newV&&(unwatch(),$scope.author={displayName:phxViewMeta.scope.view.authorName},$scope.socialButtons=[],angular.forEach(Config.social.shareButtons,function(button){-1!==Config.gallery.social.indexOf(button.className)&&$scope.socialButtons.push(button)}),articleTitle=phxViewMeta.scope.view.title,articleDescription=phxViewMeta.scope.view.description,articlePath=phxViewMeta.scope.view.canonicalPath)});$scope.$on("phxCollection:activeElementSet",function(event,element){var e=angular.element(element),imgUrl=e.find("img").attr("src"),caption=e.find("figcaption").clone().children().remove().end().text(),anchor=e.attr("tml-anchor"),teaser=$.trim(caption)||articleDescription,relativeUrl=anchor?articlePath+"/"+anchor:articlePath;$scope.contentItem={title:articleTitle,teaser:teaser,primaryImageUrl:imgUrl,relativeUrl:relativeUrl}}),$scope.moreInfo=function(){$element.parent().toggleClass("show-more-info"),collectionCtrl.setHeight(!0)}}}}]}),define("phxTml/directives/phxTmlExternalProvider",[],function(){return["blvTmlUtil","phxEmbeds","phxElementUtil","$sanitize",function(blvTmlUtil,phxEmbeds,phxElementUtil){return{restrict:"A",priority:10,link:function(scope,iElement,iAttrs){phxElementUtil.addContentStyleToScope(scope,{attrs:iAttrs});var vendor=iAttrs.tmlExternalProvider;"iframe"===vendor&&(vendor="unknown-vendor"),scope.providerClass="m-embed_"+vendor,scope.figureEmbedClasses="m-embed "+scope.providerClass,iAttrs.$observe("tmlEmbedSrc",function(val){"string"==typeof val&&val.match(/^(?:https?:)?\/\/.+/)&&0===iElement.children().length&&iElement.html('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'">'+phxEmbeds.createCard(val)+"</figure>")})}}}]}),define("text!phxTml/html/phxTmlExternalProviderBlyve.html",[],function(){return'<div>\n    <figure class="{{figureEmbedClasses}} {{contentStyle}}">\n    <iframe class="m-embed--frame" style="line-height: 1.538em;" ng-src="{{source}}" frameborder="0" width="100%" height="800" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>\n    <div><a style="font-family: arial; display: block; color: #000000; font-weight: normal; font-size: 10px; text-decoration: underline;" title="Blyve liveblog liveblogging platform" href="http://www.blyve.com" target="_blank">Powered by Blyve</a></div>\n    </figure>\n</div>'}),define("phxTml/directives/phxTmlExternalProviderBlyve",["text!phxTml/html/phxTmlExternalProviderBlyve.html"],function(template){return["$sce",function($sce){return{restrict:"A",template:template,replace:!0,scope:!0,priority:100,link:function(scope,element,attrs){var id=attrs.tmlExternalId;scope.source=$sce.trustAsResourceUrl("http://blyve.com/embed/"+id)}}}]}),define("phxTml/directives/phxTmlExternalProviderEmbed",[],function(){return function(){return{restrict:"A",link:function(scope,iElement,iAttrs){iAttrs.tmlExternalId.match(/^https?:\/\//)&&(iAttrs.tmlEmbedSrc=iAttrs.tmlExternalId)}}}}),define("text!phxTml/html/phxTmlExternalProvider.html",[],function(){return'<div ng-bind-html="embed">\n</div>\n'}),define("phxTml/directives/phxTmlExternalProviderFacebook",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce","$timeout",function($sce,$timeout){function updateEmbed(scope,iElement){scope.embed=$sce.trustAsHtml('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'"><div class="fb-post" data-href="'+scope.src+'" data-width="'+scope.width+'"></div></figure>'),scope.fbEl=null,$timeout(function(){if(loaded)window.FB&&window.FB.XFBML&&(window.FB.XFBML.parse(iElement.get(0)),iElement.find("iframe").addClass("m-embed--frame"));else{var root=document.createElement("div");root.setAttribute("id","fb-root"),document.getElementsByTagName("body")[0].appendChild(root);var script=document.createElement("script");script.setAttribute("src","//connect.facebook.net/en_US/all.js#xfbml=1"),script.setAttribute("charset","utf-8"),script.setAttribute("async","true"),script.setAttribute("defer","defer"),script.setAttribute("id","facebook-jssdk"),document.getElementsByTagName("head")[0].appendChild(script),loaded=!0}})}var loaded=!1;return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^([A-Za-z0-9_.-]+):(\d+)$/)){scope.width=630,scope.src="https://www.facebook.com/"+iAttrs.tmlExternalId.replace(":","/posts/"),updateEmbed(scope,iElement);var getWidth=function(){return scope.fbEl&&0!==scope.fbEl.length||(scope.fbEl=iElement.find("figure")),Math.max(350,scope.fbEl.width())||630};scope.$watch(getWidth,function(newWidth){newWidth!==scope.width&&null!==newWidth&&(scope.width=newWidth,updateEmbed(scope,iElement))},!0)}}}}]}),define("phxTml/directives/phxTmlExternalProviderGithubgist",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce","$http","$timeout",function($sce,$http){function makeData(frameId,html,style){var origin=document.location.href;html=html.replace(/<a href=/gi,'<a target="_parent" href=');var doc='<!doctype html><html><head><link rel="stylesheet" type="text/css" href="'+style+'"></head><body>'+html+'<script>var d=document,db=d.body,de=d.documentElement;var height=Math.max(Math.max(db.scrollHeight,de.scrollHeight),Math.max(db.offsetHeight,de.offsetHeight),Math.max(db.clientHeight,de.clientHeight));var obj={message:"'+RESIZE_EVENT+'",id:"'+frameId+'",height:height};window.parent.postMessage(obj,"'+origin+'");</script></body></html>';return"data:text/html,"+encodeURIComponent(doc)}var RESIZE_EVENT="githubgist.resize";return window.addEventListener("message",function(event){if(event.data.message===RESIZE_EVENT){var g=document.getElementById(event.data.id);g&&angular.element(g).height(event.data.height)}},!1),{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^[\w-]+:[0-9a-f]+$/)){var jsonSrc="https://gist.github.com/"+iAttrs.tmlExternalId.replace(":","/")+".json?callback=JSON_CALLBACK";$http.jsonp(jsonSrc).success(function(data){var frameId="gist-"+iAttrs.tmlExternalId.replace(":","-");scope.embed=$sce.trustAsHtml('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'"><iframe class="m-embed--frame" id="'+frameId+'" src="'+makeData(frameId,data.div,data.stylesheet)+'" frameborder="0"></iframe></figure>')})}}}}]}),define("phxTml/directives/phxTmlExternalProviderGoogleplus",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce",function($sce){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^(\d+):(\w+)$/)){scope.embed=$sce.trustAsHtml('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'"><div class="g-post" data-href="https://plus.google.com/'+iAttrs.tmlExternalId.replace(":","/posts/")+'"></div></figure>');var go=function(){window.gapi.post.go(iElement[0]),iElement.find("iframe").addClass("m-embed--frame")};window.gapi&&window.gapi.post?go():$.getScript("//apis.google.com/js/plusone.js",go)}}}}]}),define("phxTml/directives/phxTmlExternalProviderIframe",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce","$window","$timeout",function($sce,$window,$timeout){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^(?:https?:)?\/\/.+$/)&&iAttrs.tmlEmbedWidth&&iAttrs.tmlEmbedHeight){var src=iAttrs.tmlExternalId;if(scope.embed=$sce.trustAsHtml('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'" style="width: '+iAttrs.tmlEmbedWidth+"px;height: "+iAttrs.tmlEmbedHeight+'px"><iframe class="m-embed--frame" src="'+src+'" height="'+iAttrs.tmlEmbedHeight+'" width="'+iAttrs.tmlEmbedWidth+'" scrolling="no" frameborder="0"/></figure>'),!iAttrs.tmlEmbedWidth.match(/^\d+$/)||!iAttrs.tmlEmbedHeight.match(/^\d+$/))return;var height=parseInt(iAttrs.tmlEmbedHeight,10);if(0===height)return;var fig,ratio=parseInt(iAttrs.tmlEmbedWidth,10)/height,onResize=function(){if((!fig||0===fig.length)&&(fig=iElement.find("figure, figure > iframe"),0===fig.length))return void $timeout(onResize,100);var newHeight=Math.ceil(angular.element(fig.get(0)).width()/ratio);height!==newHeight&&(height=newHeight,fig.height(height))};angular.element($window).on("resize",onResize),onResize(),iElement.on("$destroy",function(){angular.element($window).off("resize",onResize)})}}}}]}),define("phxTml/directives/phxTmlExternalProviderInstagram",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce",function($sce){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^[\w-]+$/)){var src="//instagram.com/p/"+iAttrs.tmlExternalId+"/embed/captioned/?v=2";scope.embed=$sce.trustAsHtml('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'"><iframe class="m-embed--frame m-embed--frame-instagram" width="612"src="'+src+'" frameborder="0" scrolling="no" allowtransparency="true"/></figure>')
}}}}]}),define("phxTml/directives/phxTmlExternalProviderKickstarter",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce",function($sce){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^[\w-]+:[\w-]+$/)){var src="//www.kickstarter.com/projects/"+iAttrs.tmlExternalId.replace(":","/")+"/widget/video.html";scope.embed=$sce.trustAsHtml('<figure class="m-video '+scope.contentStyle+' mm-landscape"><iframe width="480" height="360" class="m-video--frame" src="'+src+'" frameborder="0" scrolling="no" allowfullscreen webkitallowfullscreen mozallowfullscreen/></figure>')}}}}]}),define("text!phxTml/html/phxPolldaddyEmbed.html",[],function(){return'<div>\n    <figure class="{{figureEmbedClasses}} {{contentStyle}}">\n        <div id="PDI_container{{pollId}}" class="PDS_Poll"></div>\n        <script type="text/javascript" charset="utf-8" ng-src="{{scriptSrc}}" async="true"></script>\n    </figure>\n</div>\n'}),define("phxTml/directives/phxTmlExternalProviderPolldaddy",["text!phxTml/html/phxPolldaddyEmbed.html"],function(template){return["$sce",function($sce){return{restrict:"A",replace:!0,scope:!0,template:template,priority:100,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^\d+$/)){if(!document.getElementById("PD_superContainer")){var container=document.createElement("div");container.id="PD_superContainer",document.getElementsByTagName("body")[0].appendChild(container)}scope.pollId=iAttrs.tmlExternalId,scope.scriptSrc=$sce.trustAsResourceUrl("//static.polldaddy.com/p/"+scope.pollId+".js")}}}}]}),define("phxTml/directives/phxTmlExternalProviderRewardstyle",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce","$timeout","$window",function($sce,$timeout,$window){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){function initWidget(){var listener=scope.$on("phxPageReady",function(){$timeout($window.__stp.init,0,!1),listener()})}iAttrs.tmlExternalId&&iAttrs.tmlExternalId.match(/^\d+/)&&(scope.embed=$sce.trustAsHtml("<figure class="+scope.contentStyle+' mm-landscape"><div class="shopthepost-widget" data-widget-id="'+iAttrs.tmlExternalId+'"></div></figure>'),"object"==typeof $window.__stp?initWidget():$.getScript("//widgets.rewardstyle.com/js/shopthepost.js",initWidget))}}}]}),define("text!phxTml/html/phxTmlExternalProviderScribblelive.html",[],function(){return'<div>\n    <figure class="{{figureEmbedClasses}} {{contentStyle}}">\n        <iframe class="m-embed--frame"\n            ng-src="{{source}}" width="100%" height="500" frameborder="0"\n            allowfullscreen webkitallowfullscreen mozallowfullscreen>\n        </iframe>\n    </figure>\n</div>'}),define("phxTml/directives/phxTmlExternalProviderScribblelive",["text!phxTml/html/phxTmlExternalProviderScribblelive.html"],function(template){return["$sce",function($sce){return{restrict:"A",template:template,replace:!0,scope:!0,priority:100,link:function(scope,element,attrs){var id=attrs.tmlExternalId;scope.source=$sce.trustAsResourceUrl("http://embed.scribblelive.com/Embed/v7.aspx?Id="+id)}}}]}),define("phxTml/directives/phxTmlExternalProviderScribd",[],function(){return function(){return{restrict:"A",link:function(scope,iElement,iAttrs){iAttrs.tmlExternalId.match(/^\d+$/)&&(iAttrs.tmlEmbedSrc="http://www.scribd.com/doc/"+iAttrs.tmlExternalId)}}}}),define("phxTml/directives/phxTmlExternalProviderSlideshare",[],function(){return function(){return{restrict:"A",link:function(scope,iElement,iAttrs){iAttrs.tmlExternalId.match(/^[\w-]+:[\w-]+$/)&&(iAttrs.tmlEmbedSrc="http://www.slideshare.net/"+iAttrs.tmlExternalId.replace(":","/"))}}}}),define("phxTml/directives/phxTmlExternalProviderSoundcloud",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce","Config",function($sce,Config){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^[\w-]+:[\w-]+$/)){var config=Config.soundCloud||{},color=config.color||"ff5500",url="https://soundcloud.com/"+iAttrs.tmlExternalId.replace(":","/"),src="https://w.soundcloud.com/player/?url="+encodeURIComponent(url)+"&amp;color="+encodeURIComponent(color)+"&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false";scope.embed=$sce.trustAsHtml('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'"><iframe class="m-embed--frame" src="'+src+'" frameborder="0" scrolling="no" allowtransparency="true"/></figure>')}}}}]}),define("phxTml/directives/phxTmlExternalProviderSpotify",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce",function($sce){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^[A-Za-z0-9\/_:-]+$/)){var src="https://embed.spotify.com/?uri=spotify:"+iAttrs.tmlExternalId.replace(/\//g,":");scope.embed=$sce.trustAsHtml('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'"><iframe class="m-embed--frame" src="'+src+'" width="100%" height="78" frameborder="0" scrolling="no" allowtransparency="true"/></figure>')}}}}]}),define("phxTml/directives/phxTmlExternalProviderStorify",[],function(){return function(){return{restrict:"A",link:function(scope,iElement,iAttrs){iAttrs.tmlExternalId.match(/^[\w-]+:[\w-]+$/)&&(iAttrs.tmlEmbedSrc="http://storify.com/"+iAttrs.tmlExternalId.replace(":","/"))}}}}),define("phxTml/directives/phxTmlExternalProviderTed",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce",function($sce){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){var src="//embed.ted.com/talks/"+iAttrs.tmlExternalId+".html";scope.embed=$sce.trustAsHtml('<figure class="m-video '+scope.contentStyle+' mm-landscape"><iframe class="m-video--frame" src="'+src+'" frameborder="0" scrolling="no" allowfullscreen webkitallowfullscreen mozallowfullscreen/></figure>')}}}]}),define("text!phxTml/html/phxTmlExternalProviderThePlatform.html",[],function(){return'<div>\n    <figure class="m-video {{contentStyle}}"\n        itemscope itemtype="http://schema.org/VideoObject">\n        <meta itemprop="thumbnailUrl" content="{{thumbnailURL}}" />\n        <meta itemprop="contentURL" content="{{contentURL}}"/>\n        <meta itemprop="embedURL" content="{{embedURL}}" />\n        <meta itemprop="uploadDate" content="{{uploadDate}}" />\n\n        <img itemprop="image" class="m-video--still m-video--image" ng-src="{{videoStill}}" alt="{{title}}" height="{{vs_height}}" width="{{vs_width}}" />\n\n        <div class="m-video--thumbnail">\n            <img itemprop="thumbnailUrl" ng-src="{{thumbnailURL}}" alt="{{title}}"/>\n        </div>\n\n        <div class="m-video--container" ng-switch="isEmbed">\n            <iframe class="m-video--frame" ng-switch-when="false" id="{{playerDivId}}" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>\n            <embed class="m-video--frame" ng-switch-when="true" ng-src="{{source}}" />\n        </div>\n\n        <figcaption>\n            <span itemprop="name">{{title}}</span>\n            <span ng-show="rating" itemprop="contentRating" class="m-video--rating">({{rating}}; {{duration}})</span>\n            <span itemprop="description" class="m-video--description">{{contentCaption}}</span>\n        </figcaption>\n    </figure>\n</div>'}),define("phxTml/directives/phxTmlExternalProviderTheplatform",["text!phxTml/html/phxTmlExternalProviderThePlatform.html"],function(template){return["$window","$sce","$location","$rootScope","$timeout","$q","$compile","phxTheplatformVideoService","blvTmlUtil","cstLogger","phxElementUtil",function($window,$sce,$location,$rootScope,$timeout,$q,$compile,phxTheplatformVideoService,blvTmlUtil,cstLogger,phxElementUtil){return{restrict:"A",template:template,replace:!0,scope:!0,priority:100,controller:"phxTheplatformVideoCtrl",link:function(scope,element,attrs,ctrl){var ids=attrs.tmlExternalId.split(":"),siteId=ids[0],platformIDs=ids[1],featured=ids.length>2&&"featured"===ids[2]?!0:!1;phxElementUtil.addContentStyleToScope(scope,{attrs:attrs,extraClasses:"mm-landscape mm-hascaption"}),scope.isFeatured=featured,scope.siteId=siteId,scope.source=$sce.trustAsResourceUrl(ctrl.aeConfig.aeAkamaiURL+"/pservice/embed-player/?siteId="+scope.siteId+"&tPid="+platformIDs),scope.resetAdLocation=function(event,adPosition){var adbox=$(document).find("._fwph",event.currentScope.playerDivId);adbox.css(adPosition)},scope.getNewDimensions=function(){var figElement=element.find("figure");return{h:figElement.height(),w:figElement.width()}};var dimsSet=!1,setEmbedDimensions=function(){if(!dimsSet&&!jQuery.contains(document.documentElement,element[0]))return void $timeout(setEmbedDimensions,100);var container=element.find(".m-video--container"),embedElement=element.find("embed"),pWidth=container.width(),pHeight=container.height(),srcURL=scope.source+"&width="+pWidth+"&height="+pHeight;embedElement.width(pWidth),embedElement.height(pHeight),embedElement.replaceWith(embedElement.clone().attr("src",srcURL)),dimsSet=!0};element.on("$destroy",function(){unbindEnterHandler(),unbindExitHandler(),unbindNextHandler(),unbindPrevHandler(),angular.element($window).off("resize",setEmbedDimensions);var videoContext=element.find("iframe")[0];if(videoContext&&videoContext.contentWindow)try{videoContext.contentWindow.cleanup()}catch(error){cstLogger.debug("Unable to call cleanup on video iframe.")}});var unbindEnterHandler=scope.$on("phxCollection:enterFullscreen",function(event,data){var targetPID=angular.element(data.element).find("iframe").attr("id"),fullscreenAdboxPosition={position:"fixed","z-index":1e5,bottom:"0px",right:"0px",display:"inline-block"};scope.resetAdLocation(event,fullscreenAdboxPosition),ctrl.pauseAllPlayers();var videoContext=element.find("iframe")[0];ctrl.postMsgToPlayers(videoContext,"phxCollection:enterFullscreen:"+targetPID)}),unbindExitHandler=scope.$on("phxCollection:exitFullscreen",function(event){var originalAdboxPosition={position:"static","z-index":"auto",bottom:"auto",right:"auto",display:"inline"};scope.resetAdLocation(event,originalAdboxPosition),ctrl.pauseAllPlayers()}),unbindNextHandler=scope.$on("phxCollection:prevElement",function(){ctrl.pauseAllPlayers();var videoContext=element.find("iframe")[0];ctrl.postMsgToPlayers(videoContext,"phxCollection:prevElement:aeplayer")}),unbindPrevHandler=scope.$on("phxCollection:nextElement",function(){ctrl.pauseAllPlayers();var videoContext=element.find("iframe")[0];ctrl.postMsgToPlayers(videoContext,"phxCollection:nextElement:aeplayer")});scope.isFeatured?(ctrl.primaryPlayer=!1,"0"===attrs.tmlPlayerIndex?(ctrl.primaryPlayer=!0,ctrl.playerAutoPlay=!0,scope.$emit("blvTmlRegistration",function(registry){registry.overrideAdZone("contentAdjacent300x600",function(context,element){return $compile('<phx-freewheel-ad layout="box"></phx-freewheel-ad>')(scope,function(clone){element.append(clone)}),$q.when(context.createAd({}))})})):(ctrl.primaryPlayer=!1,ctrl.playerAutoPlay=!1)):(scope.isGalleryItem=element.parents().length>0,scope.isGalleryItem?scope.isEmbed=!1:(scope.isEmbed=!0,angular.element($window).on("resize",setEmbedDimensions),setEmbedDimensions()));var unwatch=scope.$watch(function(){return jQuery.contains(document.documentElement,element[0])},function(elementOnPage){elementOnPage&&(unwatch(),phxTheplatformVideoService.getVideoFeedById(platformIDs).then(function(pList){if(!pList)return element.remove(),!1;var profileID=ctrl.isProfilePage();ctrl.playList=profileID&&pList.length>1?phxTheplatformVideoService.sortByPrimaryProfile(pList,profileID):pList,scope.playList=ctrl.playList,ctrl.updateMetaData(ctrl.playList[0]),(scope.isFeatured||scope.isGalleryItem)&&(scope.isFeatured&&ctrl.primaryPlayer?(ctrl.playerAutoStart=!0,scope.$emit("phxTmlExternalProvider::initialized",scope.playerDivId)):ctrl.playerAutoStart=!1,element.find("iframe").bind("load",function(event){var pc=ctrl.updatePlayerContext(event.target.contentWindow);scope.isFeatured&&pc.startPlayer(),scope.vcontroller=pc.aetn.biography.videocontroller,$(this).contents().find("#aeplayer").bind("PDK:OnReleaseStart",function(){var pl=scope.vcontroller.getCurrentlyActivePlayer();pl&&ctrl.updateMetaData(pl.playlist[pl.playerIndex])})}).attr("src","videoIframe.html"))}))})}}}]}),define("phxTml/directives/phxTmlExternalProviderTwitter",[],function(){return function(phxBreakout){return{restrict:"A",priority:100,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^(\w+):(\d+)/)){iElement.html('<figure class="'+scope.figureEmbedClasses+" "+scope.contentStyle+'"><blockquote class="twitter-tweet"><a href="//twitter.com/'+iAttrs.tmlExternalId.replace(":","/status/")+'"></a></blockquote></figure>');var go=function(){window.twttr.widgets.load(iElement.get(0))};window.twttr?go():$.getScript("//platform.twitter.com/widgets.js",function(){window.twttr.events.bind("loaded",function(){phxBreakout.processBreakouts()}),go()})}}}}}),define("phxTml/directives/phxTmlExternalProviderYoutube",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return function($sce,phxTmlUtil){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){scope.source=phxTmlUtil.getYouTubeUrl(iAttrs.tmlExternalId,iAttrs.tmlEmbedSrc),scope.embed=$sce.trustAsHtml('<figure class="m-video '+scope.contentStyle+' mm-landscape"><iframe class="m-video--frame" src="'+scope.source+'" id="'+iAttrs.tmlExternalId+'" frameborder="0" scrolling="no" type="text/html" allowfullscreen webkitallowfullscreen mozallowfullscreen /></figure>');var vidEl,getVideoWidth=function(){return vidEl||(vidEl=iElement.find("figure")),vidEl.width()};scope.$watch(getVideoWidth,function(newWidth){vidEl.hasClass("mm-landscape")?vidEl.height(newWidth/16*10):vidEl.hasClass("mm-portrait")&&vidEl.height(newWidth/10*16)},!0)}}}}),define("phxTml/directives/phxTmlExternalProviderVimeo",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return function($sce){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){scope.source="//player.vimeo.com/video/"+iAttrs.tmlExternalId,scope.embed=$sce.trustAsHtml('<figure class="m-video '+scope.contentStyle+' mm-landscape"><iframe class="m-video--frame" src="//player.vimeo.com/video/'+iAttrs.tmlExternalId+'?title=0&byline=0&portrait=0" width="598" height="336" frameborder="0" scrolling="no" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}}}}),define("phxTml/directives/phxTmlExternalProviderVine",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return["$sce",function($sce){var loaded=!1;return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){if(iAttrs.tmlExternalId.match(/^\w+$/)){var src="//vine.co/v/"+iAttrs.tmlExternalId+"/embed/simple";scope.embed=$sce.trustAsHtml('<figure class="m-video mm-square '+scope.contentStyle+'"><iframe class="m-video--frame" src="'+src+'" height="600" width="600" frameborder="0" type="text/html" /></figure>'),loaded||$.getScript("//platform.vine.co/static/scripts/embed.js",function(){loaded=!0})}}}}]}),define("phxTml/directives/phxTmlExternalProviderMap",["text!phxTml/html/phxTmlExternalProvider.html"],function(template){return function($sce,phxMapService){return{restrict:"A",template:template,priority:100,replace:!0,scope:!0,link:function(scope,iElement,iAttrs){iElement.addClass("m-embed m-layout-object");var dataId=iAttrs.tmlExternalId.replace(/^\w+:/,""),mapData=phxMapService.data()[dataId];if(void 0!==mapData){scope.openInfoWindow=null;var i,o,avgLat=0,avgLon=0;for(i=mapData.markers.length;--i>=0;)o=mapData.markers[i],avgLat+=o.lat,avgLon+=o.lon;scope.$watch(function(){return jQuery.contains(document.documentElement,iElement[0])},function(elementOnPage){elementOnPage&&phxMapService.apiPromise().then(function(){var center=new google.maps.LatLng(avgLat/mapData.markers.length+.001,avgLon/mapData.markers.length),mapOptions=mapData.parameters;mapOptions.center=center,mapOptions.mapTypeId=google.maps.MapTypeId.ROADMAP;var map=new google.maps.Map(iElement[0],mapOptions),style="";if(mapData.hasOwnProperty("style")){style+=' style="';for(var p in mapData.style)style+=p.replace("_","-")+":"+mapData.style[p]+";";style+='"'}for(i=mapData.markers.length;--i>=0;){o=mapData.markers[i];var pos=new google.maps.LatLng(o.lat,o.lon),marker=new google.maps.Marker({map:map,position:pos}),contents='<div class="markerWrapper"'+style+'><div class="markerContent">'+o.title+"<br />"+o.street+"<br />"+o.city+", "+o.state+" "+o.zip,c=o.contact;void 0!==c&&(c.hasOwnProperty("site")&&c.hasOwnProperty("url")&&(contents+='<br /><a href="'+c.url+'" target="_blank">'+c.site+"</a>"),c.hasOwnProperty("phone")&&(contents+='<br /><a href="tel:1'+c.phone.replace(/\-/g,"")+'">'+c.phone+"</a>")),o.hasOwnProperty("directions")&&(contents+='<br /><a href="'+o.directions+'" target="_blank">get directions</a>'),contents+="</div></div>";var infoWindow=new google.maps.InfoWindow({content:contents,position:pos});infoWindow.marker=marker,scope.enableMarker(marker,infoWindow,center,map)}var styleAttr=iElement.attr("style")||"";iElement.attr("style",styleAttr+";width:700px;height:300px")})}),scope.enableMarker=function(marker,infoWindow,center,map){google.maps.event.addListener(marker,"click",function(){null!==scope.openInfoWindow&&(scope.openInfoWindow.close(),scope.openInfoWindow.marker.setVisible(!0)),scope.openInfoWindow=infoWindow,infoWindow.open(map),infoWindow.marker.setVisible(!1)}),google.maps.event.addListener(infoWindow,"closeclick",function(){infoWindow.marker.setVisible(!0),scope.openInfoWindow=null,map.panTo(center)})}}}}}}),define("phxTml/module",["phxTml/services/phxElementUtil","phxCore/controllers/phxTheplatformVideoCtrl","phxTml/services/phxTheplatformVideoService","phxTml/services/phxMapService","phxTml/services/phxTmlUtil","phxTml/directives/phxTmlAnchor","phxTml/directives/phxTmlImage","phxTml/directives/phxTmlPerson","phxTml/directives/phxTmlProduct","phxTml/directives/phxTmlRenderLayout","phxTml/directives/phxTmlCollection","phxTml/directives/phxTmlCollectionGrid/phxTmlCollectionGrid","phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarousel","phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselSled","phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselNext","phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselPrev","phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselMetaData","phxTml/directives/phxTmlCollectionCarousel/phxTmlCollectionCarouselTools","phxTml/directives/phxTmlExternalProvider","phxTml/directives/phxTmlExternalProviderBlyve","phxTml/directives/phxTmlExternalProviderEmbed","phxTml/directives/phxTmlExternalProviderFacebook","phxTml/directives/phxTmlExternalProviderGithubgist","phxTml/directives/phxTmlExternalProviderGoogleplus","phxTml/directives/phxTmlExternalProviderIframe","phxTml/directives/phxTmlExternalProviderInstagram","phxTml/directives/phxTmlExternalProviderKickstarter","phxTml/directives/phxTmlExternalProviderPolldaddy","phxTml/directives/phxTmlExternalProviderRewardstyle","phxTml/directives/phxTmlExternalProviderScribblelive","phxTml/directives/phxTmlExternalProviderScribd","phxTml/directives/phxTmlExternalProviderSlideshare","phxTml/directives/phxTmlExternalProviderSoundcloud","phxTml/directives/phxTmlExternalProviderSpotify","phxTml/directives/phxTmlExternalProviderStorify","phxTml/directives/phxTmlExternalProviderTed","phxTml/directives/phxTmlExternalProviderTheplatform","phxTml/directives/phxTmlExternalProviderTwitter","phxTml/directives/phxTmlExternalProviderYoutube","phxTml/directives/phxTmlExternalProviderVimeo","phxTml/directives/phxTmlExternalProviderVine","phxTml/directives/phxTmlExternalProviderMap"],function(phxElementUtil,phxTheplatformVideoCtrl,phxTheplatformVideoService,phxMapService,phxTmlUtil,phxTmlAnchor,phxTmlImage,phxTmlPerson,phxTmlProduct,phxTmlRenderLayout,phxTmlCollection,phxTmlCollectionGrid,phxTmlCollectionCarousel,phxTmlCollectionCarouselSled,phxTmlCollectionCarouselNext,phxTmlCollectionCarouselPrev,phxTmlCollectionCarouselMetaData,phxTmlCollectionCarouselTools,phxTmlExternalProvider,phxTmlExternalProviderBlyve,phxTmlExternalProviderEmbed,phxTmlExternalProviderFacebook,phxTmlExternalProviderGithubgist,phxTmlExternalProviderGoogleplus,phxTmlExternalProviderIframe,phxTmlExternalProviderInstagram,phxTmlExternalProviderKickstarter,phxTmlExternalProviderPolldaddy,phxTmlExternalProviderRewardstyle,phxTmlExternalProviderScribblelive,phxTmlExternalProviderScribd,phxTmlExternalProviderSlideshare,phxTmlExternalProviderSoundcloud,phxTmlExternalProviderSpotify,phxTmlExternalProviderStorify,phxTmlExternalProviderTed,phxTmlExternalProviderTheplatform,phxTmlExternalProviderTwitter,phxTmlExternalProviderYoutube,phxTmlExternalProviderVimeo,phxTmlExternalProviderVine,phxTmlExternalProviderMap){var tml=angular.module("phxTml",["belvedere"]);return tml.service("phxElementUtil",phxElementUtil),tml.service("phxTheplatformVideoService",phxTheplatformVideoService),tml.service("phxMapService",phxMapService),tml.service("phxTmlUtil",phxTmlUtil),tml.directive("tmlAnchor",phxTmlAnchor),tml.directive("tmlImage",phxTmlImage),tml.directive("tmlPerson",phxTmlPerson),tml.directive("tmlProduct",phxTmlProduct),tml.directive("tmlRenderLayout",phxTmlRenderLayout),tml.directive("tmlCollection",phxTmlCollection),tml.directive("tmlCollectionGrid",phxTmlCollectionGrid),tml.directive("tmlCollectionCarousel",phxTmlCollectionCarousel),tml.directive("tmlCollectionCarouselSled",phxTmlCollectionCarouselSled),tml.directive("tmlCollectionCarouselNext",phxTmlCollectionCarouselNext),tml.directive("tmlCollectionCarouselPrev",phxTmlCollectionCarouselPrev),tml.directive("tmlCollectionCarouselMetaData",phxTmlCollectionCarouselMetaData),tml.directive("tmlCollectionCarouselTools",phxTmlCollectionCarouselTools),tml.directive("tmlExternalProvider",phxTmlExternalProvider),tml.directive("tmlExternalProviderBlyve",phxTmlExternalProviderBlyve),tml.directive("tmlExternalProviderFacebook",phxTmlExternalProviderFacebook),tml.directive("tmlExternalProviderGithubgist",phxTmlExternalProviderGithubgist),tml.directive("tmlExternalProviderGoogleplus",phxTmlExternalProviderGoogleplus),tml.directive("tmlExternalProviderIframe",phxTmlExternalProviderIframe),tml.directive("tmlExternalProviderInstagram",phxTmlExternalProviderInstagram),tml.directive("tmlExternalProviderKickstarter",phxTmlExternalProviderKickstarter),tml.directive("tmlExternalProviderPolldaddy",phxTmlExternalProviderPolldaddy),tml.directive("tmlExternalProviderRewardstyle",phxTmlExternalProviderRewardstyle),tml.directive("tmlExternalProviderScribblelive",phxTmlExternalProviderScribblelive),tml.directive("tmlExternalProviderScribd",phxTmlExternalProviderScribd),tml.directive("tmlExternalProviderSlideshare",phxTmlExternalProviderSlideshare),tml.directive("tmlExternalProviderSoundcloud",phxTmlExternalProviderSoundcloud),tml.directive("tmlExternalProviderSpotify",phxTmlExternalProviderSpotify),tml.directive("tmlExternalProviderStorify",phxTmlExternalProviderStorify),tml.directive("tmlExternalProviderTed",phxTmlExternalProviderTed),tml.directive("tmlExternalProviderTheplatform",phxTmlExternalProviderTheplatform),tml.directive("tmlExternalProviderTwitter",phxTmlExternalProviderTwitter),tml.directive("tmlExternalProviderYoutube",phxTmlExternalProviderYoutube),tml.directive("tmlExternalProviderVimeo",phxTmlExternalProviderVimeo),tml.directive("tmlExternalProviderVine",phxTmlExternalProviderVine),tml.directive("tmlExternalProviderMap",phxTmlExternalProviderMap),tml.directive("tmlExternalProviderKaltura",phxTmlExternalProviderEmbed),tml}),define("phxComponents/services/phxComponentProvider",[],function(){return function(){var componentTypeFactories={};this.register=function(name,factory){return componentTypeFactories[name]=factory,this},this.$get=["$injector","$compile","$rootScope",function($injector,$compile,$rootScope){function Component(config,page,type,data){this.type=type,this.config=config,this.page=page,this.data=data,this.scope=$rootScope.$new(!0),this.isMaster=config.isMaster?!0:!1,this.scope.$component={data:data,config:config},this.scope.page=page,this.scope.$pageClasses=page.classes}function ComponentType(name,impl){this.name=name,this.impl=impl}var componentTypes={};return Component.prototype={createElement:function(){var linkFn=this.type.getTemplateLinkFn();return linkFn(this.scope,function(){})},destroy:function(){this.scope.$destroy()}},ComponentType.prototype={instantiate:function(config,page){var type=this;if(!page)throw new Error("Page must be provided when instantiating a component");return this.impl.loadData(config,page).then(function(data){return new Component(config,page,type,data)})},getTemplateLinkFn:function(){if(!this._templateLinkFn){var directiveName=this.impl.getDirectiveName();this._templateLinkFn=$compile("<"+directiveName+"></"+directiveName+">")}return this._templateLinkFn}},{getComponentType:function(name){if(!componentTypes[name]){if(!componentTypeFactories[name])throw new Error("No component type named "+name);var impl=$injector.invoke(componentTypeFactories[name]);componentTypes[name]=new ComponentType(name,impl)}return componentTypes[name]},getComponent:function(config,page){var type=this.getComponentType(config.type);return type.instantiate(config,page)}}}]}}),define("phxComponents/services/phxComponentUtil",[],function(){return["phxDataLoaderImpl","phxCategorizr",function(phxDataLoaderImpl,phxCategorizr){return{getCollection:function(options){return phxDataLoaderImpl.getCollection(options)},getItem:function(options){return phxDataLoaderImpl.getItem(options)},canEnable:function(enabledOn){var currentBreakpointEnabled=!1,currentDeviceTypeEnabled=!1,currentDeviceType=phxCategorizr.getDeviceType(),currentBreakpoint=phxCategorizr.getBreakpoint();if(enabledOn.device)for(var i in enabledOn.device)currentDeviceType===enabledOn.device[i]&&(currentDeviceTypeEnabled=!0);else currentDeviceTypeEnabled=!0;if(enabledOn.breakpoint)for(var i2 in enabledOn.breakpoint)currentBreakpoint===enabledOn.breakpoint[i2]&&(currentBreakpointEnabled=!0);else currentBreakpointEnabled=!0;return currentDeviceTypeEnabled&&currentBreakpointEnabled}}}]}),define("phxComponents/module",["phxComponents/services/phxComponentProvider","phxComponents/services/phxComponentUtil"],function(phxComponentProvider,phxComponentUtil){return angular.module("phxComponents",[]).provider("phxComponent",phxComponentProvider).service("phxComponentUtil",phxComponentUtil)}),define("phxComponentDetail/services/phxComponentDetail",[],function(){return["$routeParams","Config","$interpolate","$q","phxApiClient","phxComponentUtil","phxAugmentBasicPage","phxAugmentPerson","phxAugmentRichTerm","phxAugmentProduct","phxAugmentVideo","phxAugmentArticle","phxAugmentRecipe","phxSponsorships","phxBrandedContent",function($routeParams,Config,$interpolate,$q,phxApiClient,phxComponentUtil,phxAugmentBasicPage,phxAugmentPerson,phxAugmentRichTerm,phxAugmentProduct,phxAugmentVideo,phxAugmentArticle,phxAugmentRecipe,phxSponsorships,phxBrandedContent){return{augmentItem:function(item,componentConfig){var opts={compileTml:!0,loadPrimaryImage:!1,loadPrimaryImage2:!0,loadFeaturedImage:!0};return componentConfig.isMaster&&(opts.viewMeta=!0),"ContentBasicPage"===item.objectType?(angular.extend(opts,{useBodyForDefaultTeaser:!1}),phxAugmentBasicPage.augment(item,opts)):"ContentPerson"===item.objectType?phxAugmentPerson.augment(item,opts):"ContentRecipe"===item.objectType?(angular.extend(opts,{loadAssociatedRichTerms:!0,loadAuthor:!0,loadAuthorPhoto:!0,compileTml:!0,makeTagUrls:!0,useBodyForDefaultTeaser:!1}),phxAugmentRecipe.augment(item,opts)):"ContentRichTerm"===item.objectType?(angular.extend(opts,{displayPromoTitle:!0}),phxAugmentRichTerm.augment(item,opts)):"ContentProduct"===item.objectType?(angular.extend(opts,{loadBrand:!0,loadRetailers:!0,loadImages:!0,prepareQuotes:!0}),phxAugmentProduct.augment(item,opts)):"ContentVideo"===item.objectType?phxAugmentVideo.augment(item,opts):"ContentArticle"===item.objectType?(angular.extend(opts,{loadAssociatedRichTerms:!0,loadSection:!0,loadAuthor:!0,loadAuthorPhoto:!0,compileTml:!0,makeTagUrls:!0}),phxAugmentArticle.augment(item,opts)):$q.when(!0)},loadData:function(componentConfig){var myself=this;return phxComponentUtil.getItem(componentConfig.item).then(function(item){if(item){var promises={item:myself.augmentItem(item,componentConfig),sponsorship:phxSponsorships.getSponsorshipForContentItem(item),branding:phxBrandedContent.prepareContentItemBranding(item.branding)};return $q.all(promises).then(function(data){return data.item=item,item.mainTmlRegistry&&(data.overriddenAdZones=item.mainTmlRegistry.getOverriddenAdZones()),item.branding=data.branding,delete data.branding,item.sponsorship=data.sponsorship,data})}return void 0})},getDirectiveName:function(){return"phx-component-detail"}}}]}),define("text!phxComponentDetail/html/phxComponentDetail.html",[],function(){return'<section ng-class="[htmlClasses, item.objectType, \'m-component-detail\']" phx-on-height-change="reflowLayout()">\n\n	<article phx-content-item="item" phx-display-mode="full" ng-class="[htmlClasses, \'l-full-width\', \'l-story_full\']"></article>\n\n</section>\n'}),define("phxComponentDetail/module",["phxComponentDetail/services/phxComponentDetail","text!phxComponentDetail/html/phxComponentDetail.html"],function(phxComponentDetail,template){return angular.module("phxComponentDetail",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("detail",phxComponentDetail)}]).directive("phxComponentDetail",["Config","phxFragmentUrl","phxBreakout","$routeParams","$location","$rootScope",function(Config,phxFragmentUrl,phxBreakout,$routeParams,$location,$rootScope){return{restrict:"E",replace:!0,template:template,link:function(scope){scope.$pageClasses.push("mm-detail");var component=scope.$component,componentConfig=component.config,data=component.data;if(scope.htmlClasses=componentConfig.htmlClasses,scope.readingListOpts=componentConfig.readingList,scope.reflowLayout=function(){phxBreakout.processBreakouts()},componentConfig.ads===!0){scope.ads=!0;var adPosition="50%";angular.isDefined(Config.ad)&&angular.isDefined(Config.ad.positions)&&(adPosition=Config.ad.positions.detail),scope.adPosition=adPosition}data&&data.item&&(scope.item=data.item,scope.displayType=data.item.presentationTypeCode||data.item.objectType,data.item.presentationTypeCode&&(scope.$pageClasses.push("mm-"+data.item.presentationTypeCode),$rootScope.bodyClasses.push("mm-"+data.item.presentationTypeCode)),scope.readingListOpts&&($rootScope.readingList=scope.readingListOpts),phxFragmentUrl.scrollIfHashThenBind(scope),$rootScope.$broadcast("phxContentDetailLoaded"))}}}])}),define("phxComponentContentFeed/services/phxComponentContentFeed",[],function(){return["Config","$q","phxComponentUtil","phxCards","phxComponent","phxAugmentArticle","phxAugmentPerson","phxAugmentReference","phxAugmentRichTerm","phxAugmentProduct","phxAugmentBasicPage","phxAugmentVideo","phxAugmentEmbed","phxAugmentRecipe","$routeParams","$interpolate","phxSponsorships",function(Config,$q,phxComponentUtil,phxCards,phxComponent,phxAugmentArticle,phxAugmentPerson,phxAugmentReference,phxAugmentRichTerm,phxAugmentProduct,phxAugmentBasicPage,phxAugmentVideo,phxAugmentEmbed,phxAugmentRecipe,$routeParams,$interpolate,phxSponsorships){function wrapPromise(promise,insertion){return promise.then(function(data){return void 0===data&&(insertion.cardTypeCode="hidden"),data})}return{augmentCollection:function(streamer,itemIndex,componentConfig){if(!streamer.items[itemIndex])return $q.when(!0);
var optionsArticle,optionsRecipe,options={displayPromoTitle:!0,loadPrimaryImage:!1,loadPrimaryImage2:!0};optionsArticle=optionsRecipe=angular.extend({loadAuthor:!0,loadAuthorPhoto:!1},options);var optionsProduct=angular.extend({compileTml:!0},options),optionsBasicPage=angular.extend({loadAuthor:!0},options),optionsEmbed={loadAuthor:!1,loadAuthorPhoto:!1,displayPromoTitle:!1,loadPrimaryImage:!1,loadPrimaryImage2:!1,sectionKey:componentConfig.sectionsByContentType?componentConfig.sectionsByContentType.embed:""},itemsByType={};streamer.items.forEach(function(items){itemsByType[items.objectType]||(itemsByType[items.objectType]=[]),itemsByType[items.objectType].push(items)});var augmentPromises=[];return angular.forEach(itemsByType,function(items,index){"ContentArticle"===index?augmentPromises.push(phxAugmentArticle.augmentArray(items,optionsArticle)):"ContentPerson"===index?augmentPromises.push(phxAugmentPerson.augmentArray(items,options)):"ContentRichTerm"===index?augmentPromises.push(phxAugmentRichTerm.augmentArray(items,options)):"ContentReference"===index?augmentPromises.push(phxAugmentReference.augmentArray(items,options)):"ContentProduct"===index?augmentPromises.push(phxAugmentProduct.augmentArray(items,optionsProduct)):"ContentBasicPage"===index?augmentPromises.push(phxAugmentBasicPage.augmentArray(items,optionsBasicPage)):"ContentEmbed"===index?augmentPromises.push(phxAugmentEmbed.augmentArray(items,optionsEmbed)):"ContentVideo"===index?augmentPromises.push(phxAugmentVideo.augmentArray(items,options)):"ContentRecipe"===index&&augmentPromises.push(phxAugmentRecipe.augmentArray(items,optionsRecipe))}),$q.all(augmentPromises)},loadData:function(componentConfig,page){var myself=this,isSponsorshipLoading=!1,promises={},insertions=angular.copy(componentConfig.insertions);if(insertions)for(var index in insertions){var insertion=insertions[index];if(!insertion.hasOwnProperty("enabledOn")||phxComponentUtil.canEnable(insertion.enabledOn)){if(insertion.cardData&&insertion.cardData.componentType&&insertion.cardData.componentConfig){insertion.cardData.componentConfig.type=insertion.cardData.componentType;var componentPromise=phxComponent.getComponent(insertion.cardData.componentConfig,page),dataPromise=componentPromise.then(function(component){return component.data});insertion.cardData.componentDataPromise=wrapPromise(dataPromise,insertion),promises[insertion.id]=dataPromise}if(componentConfig.adSection&&"advertising"===insertion.cardContents&&!isSponsorshipLoading){var sectionKey=$interpolate(componentConfig.adSection)($routeParams);promises.sponsorship=phxSponsorships.getSponsorshipForSection(sectionKey),isSponsorshipLoading=!0}}}return promises.streamer=phxComponentUtil.getCollection(componentConfig.collection),$q.all(promises).then(function(data){if(data.sponsorship&&insertions)for(var i in insertions)"advertising"===insertions[i].cardContents&&"standard"===insertions[i].cardTypeCode&&insertions.splice(i,1);var deferred=$q.defer(),streamer=data.streamer,cards=new phxCards.cards(streamer,insertions,componentConfig.cardOverrides);return streamer.watchMoreItems(function(itemIndex){myself.augmentCollection(streamer,itemIndex,componentConfig).then(function(){deferred.resolve({cards:cards})},function(err){deferred.reject(err)})}),streamer.loadMoreItems(),deferred.promise})},getDirectiveName:function(){return"phx-component-content-feed"}}}]}),define("text!phxComponentContentFeed/html/phxComponentContentFeed.html",[],function(){return'<section ng-class="[htmlClasses, \'m-feed\']" phx-track-id="hub">\n    <section phx-block-replacement="page-top" ng-if="$root.features.variant(\'atf\') === \'top\'">\n        <phx-adaptive-ad-with-banner-fallback></phx-adaptive-ad-with-banner-fallback>\n    </section>\n\n    <!-- Wrapper to set feed width while leaving background color 100% width-->\n    <div ng-class="[\'l-feed_tile\']">\n\n    <div class="m-sponsor--section-sponsor">\n        <h2 class="l-feed--hed" phx-skin-bgimg="heading"></h2>\n    </div>\n\n    <div class="l-feed--grid infinity_scroll hub-articles">\n        <phx-card ng-repeat="card in cards.cards track by card.id" did="{{card.id}}" phx-track-id="Item" card="card"></phx-card>\n    </div>\n\n    <div class="m-feed--loader" ng-show="cards.streamer.hasMoreItems || loading" ng-click="cards.streamer.loadMoreItems()" phx-track-event="click" phx-track-id="load more">\n        <div ng-show="loading">Loading&hellip;</div>\n        <div id="feed-loader-prompt" ng-show="!loading && cards.streamer.hasMoreItems">See More</div>\n    </div>\n\n    </div>\n\n    </div>\n</section>\n'}),define("phxComponentContentFeed/module",["phxComponentContentFeed/services/phxComponentContentFeed","text!phxComponentContentFeed/html/phxComponentContentFeed.html"],function(phxComponentContentFeed,template){return angular.module("phxComponentContentFeed",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("contentFeed",phxComponentContentFeed)}]).directive("phxComponentContentFeed",["phxCards","Config","$interpolate","$routeParams","phxRoute","phxUtil","$location","phxViewMeta","cstLogger",function(phxCards,Config,$interpolate,$routeParams){function _adPosition(cards){var columns=phxCards.numColumns(),row=Config.ad&&Config.ad.positions&&Config.ad.positions.hub&&Config.ad.positions.hub[columns]||3;return cards.getCardIndexForRow(row)}return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,componentConfig=component.config,data=component.data;scope.htmlClasses=componentConfig.htmlClasses,scope.heading=componentConfig.heading,scope.insertions=componentConfig.insertions,componentConfig.ads===!0&&(scope.ads=!0,componentConfig.hasOwnProperty("adSection")&&(scope.adSection=$interpolate(componentConfig.adSection)($routeParams))),data&&data.cards&&(scope.cards=data.cards,scope.cards.streamer.watchLoading(function(loading){scope.loading=loading}),scope.loadData=data.loadData,scope.ads&&(scope.adPosition=_adPosition(scope.cards),scope.$on("breakpoint",function(){scope.adPosition=_adPosition(scope.cards)}),scope.cards.streamer.watchMoreItems(function(){scope.adPosition=_adPosition(scope.cards)})))}}}])}),define("phxComponentContentStrip/services/phxComponentContentStrip",[],function(){return["phxDataLoader",function(phxDataLoader){return{loadData:function(componentConfig){return phxDataLoader.getCollection(componentConfig.collection,"summary").then(function(streamer){return{streamer:streamer}})},getDirectiveName:function(){return"phx-component-content-strip"}}}]}),define("text!phxCards/html/phxCollectionCard.html",[],function(){return'<div class="m-compilation">\n    <h1 class="m-compilation--hed" phx-skin-bgimg="heading"></h1>\n    <article ng-repeat="item in streamer.items" phx-content-item="item" phx-track-id="Item" data-pin-no-hover="true" phx-primary-image-profile="contentStrip" phx-display-mode="strip"></article>\n</div>'}),define("phxComponentContentStrip/module",["phxComponentContentStrip/services/phxComponentContentStrip","text!phxCards/html/phxCollectionCard.html"],function(phxComponentContentStrip,template){return angular.module("phxComponentContentStrip",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("contentStrip",phxComponentContentStrip)}]).directive("phxComponentContentStrip",function(){return{restrict:"E",replace:!0,template:"<div ng-class=\"[htmlClasses, 'l-tile_strip']\">"+template+"</div>",link:function(scope){var component=scope.$component,componentConfig=component.config,data=component.data;scope.htmlClasses=componentConfig.htmlClasses,scope.heading=componentConfig.heading,data&&data.streamer&&(scope.streamer=data.streamer)}}})}),define("phxComponentError/services/phxComponentError",[],function(){return["$q",function($q){return{loadData:function(){return $q.when({})},getDirectiveName:function(){return"phx-component-error"}}}]}),define("text!phxComponentError/html/phxComponentError.html",[],function(){return'<div class="l-full-width m-fourohfour" phx-track-id="{{trackId}}">\n<!-- TODO: Use \'application error\' specific styling instead of 404 styling -->\n\n    <div class="m-fourohfour--content">\n        <h1 class="m-fourohfour--hed">{{header}}</h1>\n        <h2 class="m-fourohfour--subhed">{{subheader}}</h2>\n\n        <div class="m-fourohfour--cta" ng-switch="errorCode">\n            <p ng-switch-when="500">Sorry, something is amiss. Please <a href="" ng-click="reload()">reload the page</a> to try again. If this error persists, please email <a href="mailto:{{$root.config.siteEmail}}">{{$root.config.siteEmail}}</a>.</p>\n\n            <p ng-switch-when="503">It looks like you can\'t access some of the data needed to view this site. Often this is because the institution where this site is being accessed is blocking unrecognized domain names. If <a href =""ng-click="reload()">reloading the page</a> does not fix this error, please notify your IT department and contact <a href="mailto:{{$root.config.siteEmail}}">{{$root.config.siteEmail}}</a> if you have any further questions.</p>\n\n            <div ng-switch-when="404">\n                <p>Try our homepage at <a href="/" phx-track-event="click" phx-track-id="Home Link">{{$root.config.siteUrl}}</a></p>\n                <form class="content-search-form" phx-track-id="404 Page Search Form">\n                    <p>Or simply search:</p>\n                    <input placeholder="Search&hellip;" name="query" class="search-input" type="search" ng-model="query">\n\n                    <button ng-click="changeQuery(query)" phx-track-event="click" phx-track-id="Search Submit">Search&hellip;</button>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("phxComponentError/module",["phxComponentError/services/phxComponentError","text!phxComponentError/html/phxComponentError.html"],function(phxComponentError,template){return angular.module("phxComponentError",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("error",phxComponentError)}]).directive("phxComponentError",["Config","$rootScope","$location","$log","cstLogger","phxRoute","phxUtil","$route",function(Config,$rootScope,$location,$log,cstLogger,phxRoute,phxUtil,$route){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,componentConfig=component.config;switch(scope.errorCode=componentConfig.code,scope.reload=function(){$route.reload()},componentConfig.code){case 404:scope.trackId="Page Not Found",scope.header=Config.fourohfour.title,scope.subheader=Config.fourohfour.msg,cstLogger.error("Content Not Found: "+Config.siteUrl.replace(/\/$/,"")+($location.hasOwnProperty("url")?$location.url():$location.path())),scope.changeQuery=function(newQuery){var searchRoutePath=phxRoute.pathByKeyword("searchQuery"),path=phxUtil.makePath(searchRoutePath,{query:newQuery});$location.path(path)};break;case 500:scope.trackId="Application Error",scope.header="Yikes! An error";break;case 503:scope.trackId="Firewalled",scope.header="Zoinks! There's a problem"}}}}])}),define("phxComponentInclude/services/phxComponentInclude",[],function(){return["$routeParams","$interpolate","$q","$http",function($routeParams,$interpolate,$q,$http){return{loadData:function(componentConfig){var deferred=$q.defer(),partial=$interpolate(componentConfig.partial)($routeParams),title=$interpolate(componentConfig.title)($routeParams);return $http.get(partial).then(function(result){deferred.resolve({partial:partial,title:title,content:result.data})},function(err){deferred.reject(err)}),deferred.promise},getDirectiveName:function(){return"phx-component-include"}}}]}),define("phxComponentInclude/module",["phxComponentInclude/services/phxComponentInclude"],function(phxComponentInclude){return angular.module("phxComponentInclude",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("include",phxComponentInclude)}]).directive("phxComponentInclude",["Config","phxViewMeta","$compile",function(Config,phxViewMeta,$compile){return{restrict:"E",replace:!0,template:"<div/>",link:function(scope,element){var component=scope.$component,data=component.data;scope.htmlClasses=component.config.htmlClasses,data&&data.content&&(element.replaceWith($compile(data.content)(scope)),component.config.isMaster&&phxViewMeta.setView({title:data.title,description:"Page for "+data.title+" at "+Config.siteName}))}}}])}),define("phxComponentHero/services/phxComponentHero",[],function(){return["phxDataLoader",function(phxDataLoader){return{loadData:function(componentConfig){return phxDataLoader.getItem(componentConfig.item,"summary").then(function(item){return{item:item}})},getDirectiveName:function(){return"phx-component-hero"}}}]}),define("text!phxComponentHero/html/phxComponentHero.html",[],function(){return'<div ng-if="item" ng-class="[htmlClasses, \'l-tile_full\', \'mm-card_image\']">\n  <article phx-content-item="item" phx-track-id="Item"  phx-track-id="Hero" phx-primary-image-profile="tripleImageCard"></article>\n</div>'}),define("phxComponentHero/module",["phxComponentHero/services/phxComponentHero","text!phxComponentHero/html/phxComponentHero.html"],function(phxComponentHero,template){return angular.module("phxComponentHero",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("hero",phxComponentHero)}]).directive("phxComponentHero",function(){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,data=component.data;scope.htmlClasses=component.config.htmlClasses,data&&data.item&&(scope.item=data.item)}}})}),define("phxComponentSubHero/services/phxComponentSubHero",[],function(){return["phxDataLoader",function(phxDataLoader){return{loadData:function(componentConfig){return phxDataLoader.getCollection(componentConfig.collection,"summary").then(function(streamer){return{streamer:streamer}})},getDirectiveName:function(){return"phx-component-sub-hero"}}}]}),define("text!phxComponentSubHero/html/phxComponentSubHero.html",[],function(){return'<section ng-class="[htmlClasses, \'l-feed_subheroes\', \'l-feed--grid\']" phx-track-id="Sub Hero">\n    <div ng-repeat="item in streamer.items" class="l-tile_subhero mm-card_image">\n      <article  phx-content-item="item" phx-track-id="Item" phx-primary-image-profile="doubleSideBySideImageCard"></article>\n    </div>\n</section>'}),define("phxComponentSubHero/module",["phxComponentSubHero/services/phxComponentSubHero","text!phxComponentSubHero/html/phxComponentSubHero.html"],function(phxComponentSubHero,template){return angular.module("phxComponentSubHero",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("subhero",phxComponentSubHero)}]).directive("phxComponentSubHero",function(){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,data=component.data;scope.htmlClasses=component.config.htmlClasses,data&&data.streamer&&(scope.streamer=data.streamer)}}})}),define("phxComponentTagHeader/services/phxComponentTagHeader",[],function(){return["$routeParams","$interpolate","$q","phxUtil","phxRoute","Config","phxApiClient",function($routeParams,$interpolate,$q,phxUtil,phxRoute,Config,phxApiClient){return{loadData:function(componentConfig){var deferred=$q.defer(),tagKey=$interpolate(componentConfig.tag)($routeParams),tagHubRoutePath=phxRoute.pathByKeyword("tagHub");return phxApiClient.anon.contentTags.get([Config.siteId,"tags",tagKey].join(":")).then(function(tag){deferred.resolve({item:{objectType:"ContentTag",tag:tag,_viewMeta:{title:'Articles tagged "'+tag.displayName,description:"See all articles about "+tag.displayName+" written for "+Config.siteName,canonicalPath:phxUtil.makePath(tagHubRoutePath,{tag:tagKey}),robots:"noindex"}}})})["catch"](function(err){"Not found"===err?deferred.resolve(void 0):deferred.reject(err)}),deferred.promise},getDirectiveName:function(){return"phx-component-tag-header"}}}]}),define("text!phxComponentTagHeader/html/phxComponentTagHeader.html",[],function(){return'<section ng-class="[htmlClasses, \'m-hero_tag\', \'m-hero--content\', \'l-tile_full-thin\']" phx-track-id="Hero">\n    <h1 class="m-hero--hed" phx-html="title"></h1>\n</section>'}),define("phxComponentTagHeader/module",["phxComponentTagHeader/services/phxComponentTagHeader","text!phxComponentTagHeader/html/phxComponentTagHeader.html"],function(phxComponentTagHeader,template){return angular.module("phxComponentTagHeader",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("tagHeader",phxComponentTagHeader)}]).directive("phxComponentTagHeader",function(){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,data=component.data;scope.htmlClasses=component.config.htmlClasses,data&&data.item&&data.item.tag&&(scope.title="Articles tagged &ldquo;"+data.item.tag.displayName+"&rdquo;")}}})}),define("phxComponentToaster/services/phxComponentToaster",[],function(){return["Config","$q","phxAugmentArticle","phxApiClient","phxFeatures","phxComponentUtil",function(Config,$q,phxAugmentArticle,phxApiClient,phxFeatures,phxComponentUtil){return{loadData:function(componentConfig){var deferred=$q.defer(),makeToaster=function(omitItem){phxApiClient.anon.contentSites.getPublishedArticles(Config.siteId,{limit:componentConfig.numberOfItems+1}).then(function(result){var options={displayPromoTitle:!0};componentConfig.cloudinaryOptions&&(options.cloudinaryOptions=componentConfig.cloudinaryOptions);for(var articles=[],i=0;i<result.entries.length&&(omitItem&&omitItem.id===result.entries[i].id||(articles.push(result.entries[i]),articles.length!==componentConfig.numberOfItems));i++);phxAugmentArticle.augmentArray(articles,options),deferred.resolve({data:articles})})};return componentConfig.omitItem?phxComponentUtil.getItem(componentConfig.omitItem).then(makeToaster):makeToaster(void 0),deferred.promise},getDirectiveName:function(){return"phx-component-toaster"}}}]}),define("text!phxComponentToaster/html/phxComponentToaster.html",[],function(){return'<section ng-class="[htmlClasses]" class="nocontent m-toaster l-toaster" phx-track-id="Toaster" ng-show="showToaster">\n    <article ng-repeat="nextArticle in toasterList" phx-content-item="nextArticle" phx-track-id="Item" phx-display-mode="toaster"></article>\n    <div class="m-toaster--close" ng-click="closeToaster()" ></div>\n</section>'}),define("phxComponentToaster/module",["phxComponentToaster/services/phxComponentToaster","text!phxComponentToaster/html/phxComponentToaster.html"],function(phxComponentToaster,template){return angular.module("phxComponentToaster",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("toaster",phxComponentToaster)}]).directive("phxComponentToaster",["$timeout","phxFeatures",function(){return{restrict:"E",replace:!0,template:template,link:function(scope,element){var previousTriggerHeight=0,_getTriggerHeight=function(){return-3*$("article.l-full-width").height()/5},_adjustWayPoints=function(){var currentTriggerHeight=_getTriggerHeight();previousTriggerHeight!==currentTriggerHeight&&(previousTriggerHeight=currentTriggerHeight,_setWayPoints(currentTriggerHeight))},_setWayPoints=function(triggerHeight){$("article.l-full-width").waypoint(function(direction){_adjustWayPoints(),"down"===direction?element.addClass("is-visible"):"up"===direction&&element.removeClass("is-visible")},{offset:triggerHeight}),$("#comments").waypoint(function(direction){_adjustWayPoints(),"up"===direction?element.addClass("is-visible"):"down"===direction&&element.removeClass("is-visible")},{offset:"100%"})};scope.showToaster=!1,scope.closeToaster=function(){scope.showToaster=!1};var component=scope.$component,data=component.data;scope.showToaster=!0,scope.htmlClasses=component.config.htmlClasses,element.removeClass("is-loading"),data&&data.data&&(scope.toasterList=data.data),scope.$on("phxContentLoaded",_adjustWayPoints)}}}])}),define("phxComponentSectionHeader/services/phxComponentSectionHeader",[],function(){return["$routeParams","$interpolate","$q","phxSectionUtil","phxRoute","phxUtil","phxSponsorships",function($routeParams,$interpolate,$q,phxSectionUtil,phxRoute,phxUtil,phxSponsorships){var sectionHubRoutePath=phxRoute.pathByKeyword("sectionHub");return{loadData:function(componentConfig){var sectionKey=$interpolate(componentConfig.sectionKey)($routeParams),promises={item:phxSectionUtil.getSectionPromiseByKey(sectionKey),sponsorship:phxSponsorships.getSponsorshipForSection(sectionKey)};return $q.all(promises).then(function(data){var section=data.item;return section?(angular.extend(section,{objectType:"ContentSection",_viewMeta:{title:section.metaTitle||section.displayName,description:section.metaDescription||section.displayName,canonicalPath:phxUtil.makePath(sectionHubRoutePath,{section:section.sectionKey}),sectionKey:section.sectionKey}}),data):null})},getDirectiveName:function(){return"phx-component-section-header"}}}]}),define("text!phxComponentSectionHeader/html/phxComponentSectionHeader.html",[],function(){return'<div>\n    <section ng-class="[htmlClasses, \'m-hero_section\', \'section-\' + section.sectionKey]" phx-track-id="Hero" class="m-hero--content" ng-style="{\'background-image\': section.sectionImage ? \'url(\'+section.sectionImage+\')\' : \'\'}">\n        <h1 ng-class="\'m-hero--hed\' + (section.sectionImage ? \' mm-has-bg-img\' : \'\')" phx-skin-bgimg="section.hero.heading" ng-if="section.hero.heading"></h1>\n        <h1 class="m-hero--hed" ng-show="section.displayName" ng-if="!section.hero.heading"><a href="" phx-html="section.displayName"></a></h1>\n        <div class="m-hero--description" ng-show="section.sectionDescription" phx-html="section.sectionDescription"></div>\n    </section>\n    <section class="m-hero--sponsorship" ng-if="sponsorship">\n        <phx-branding-badge badge="sponsorship.sectionBrandingBadge"></phx-branding-badge>\n    </section>\n</div>'}),define("phxComponentSectionHeader/module",["phxComponentSectionHeader/services/phxComponentSectionHeader","text!phxComponentSectionHeader/html/phxComponentSectionHeader.html"],function(phxComponentSectionHeader,template){return angular.module("phxComponentSectionHeader",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("sectionHeader",phxComponentSectionHeader)}]).directive("phxComponentSectionHeader",function(){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,data=component.data;scope.htmlClasses=component.config.htmlClasses,data&&(scope.section=data.item||{},scope.sponsorship=data.sponsorship||{})}}})}),define("phxComponentAuthorHeader/services/phxComponentAuthorHeader",[],function(){return["$routeParams","$interpolate","$q","Config","phxApiClient","phxAugmentUserProfile",function($routeParams,$interpolate,$q,Config,phxApiClient,phxAugmentUserProfile){return{loadData:function(componentConfig,page){var deferred=$q.defer(),authorSlug=$interpolate(componentConfig.authorSlug)($routeParams);return authorSlug.indexOf("%20")>=0||authorSlug.indexOf(" ")>=0?(authorSlug=authorSlug.replace(/\%20|\s/,"-").toLowerCase(),$q.reject(page.makeRedirection("authorHub",{author:authorSlug}))):(phxApiClient.anon.contentSites.getContentUserProfilesBySlug(Config.siteId,authorSlug).then(function(result){if(0===result.entries.length)deferred.resolve(void 0);else{var author=result.entries[0];phxAugmentUserProfile.augment(author,{loadPhoto:!0,viewMeta:componentConfig.isMaster?!0:!1}).then(function(){angular.extend(author,{objectType:"ContentUserProfile"}),deferred.resolve({item:author})})}}),deferred.promise)},getDirectiveName:function(){return"phx-component-author-header"}}}]}),define("text!phxComponentAuthorHeader/html/phxComponentAuthorHeader.html",[],function(){return'<section ng-class="[htmlClasses, \'m-author_hub\']">\n    <h1 class="m-author--hed">{{author.displayName}}\n    </h1>\n    <div class="m-author--image" ng-if="author.photo"><img ng-cloak class="ng-cloak" ng-src="{{author.photo|phxImageUrl:\'userProfilePrimaryImage\'}}" alt="{{author.displayName}}" /></div>\n    <div class="m-author--description" ng-show="author.bio" phx-html="author.bio"></div>\n    <div class="m-author--meta">\n        <dl>\n            <dt>Avatar:</dt>\n                <dd ng-show="author.photo" class="m-author--image"><img ng-src="{{author.photo|phxImageUrl:\'userProfilePrimaryImage\'}}" alt="{{author.displayName}}" /></dd>\n            <dt>Author:</dt>\n                <dd ng-show="author.twitterUsername || author.gplusProfileUrl || author.facebookProfileUrl || author.linkedinProfileUrl || author.pinterestProfileUrl || author.instagramProfileUrl" class="m-author--name">Follow\n                this author\n                </dd>\n            <dt ng-if="author.twitterUsername">Twitter:</dt>\n                <dd ng-if="author.twitterUsername"><a ng-href="http://twitter.com/{{author.twitterUsername}}" class="m-follow_twitter" phx-track-event="click" phx-track-id="Twitter Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.gplusProfileUrl"></dt>\n                <dd ng-if="author.gplusProfileUrl"><a ng-href="{{author.gplusProfileUrl}}" class="m-follow_gplus" phx-track-event="click" phx-track-id="Google Plus Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.facebookProfileUrl">:</dt>\n                <dd ng-if="author.facebookProfileUrl"><a ng-href="{{author.facebookProfileUrl}}" class="m-follow_facebook" phx-track-event="click" phx-track-id="Facebook Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.linkedinProfileUrl"></dt>\n                <dd ng-if="author.linkedinProfileUrl"><a ng-href="{{author.linkedinProfileUrl}}" class="m-follow_linkedin" phx-track-event="click" phx-track-id="Linkedin Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.pinterestProfileUrl"></dt>\n                <dd ng-if="author.pinterestProfileUrl"><a ng-href="{{author.pinterestProfileUrl}}" class="m-follow_pinterest" phx-track-event="click" phx-track-id="Pinterest Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.instagramProfileUrl"></dt>\n                <dd ng-if="author.instagramProfileUrl"><a ng-href="{{author.instagramProfileUrl}}" class="m-follow_instagram" phx-track-event="click" phx-track-id="Instagram Follow" rel="me" target="blank"></a></dd>\n            <dt ng-if="author.website"></dt>\n                <dd ng-if="author.website"><a ng-href="{{author.website}}" class="m-follow_web" phx-track-event="click" phx-track-id="Website Follow" rel="me" target="blank"></a></dd>\n        </dl>\n    </div>\n</section>'}),define("phxComponentAuthorHeader/module",["phxComponentAuthorHeader/services/phxComponentAuthorHeader","text!phxComponentAuthorHeader/html/phxComponentAuthorHeader.html"],function(phxComponentAuthorHeader,template){return angular.module("phxComponentAuthorHeader",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("authorHeader",phxComponentAuthorHeader)}]).directive("phxComponentAuthorHeader",function(){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,data=component.data;scope.htmlClasses=component.config.htmlClasses,data&&data.item&&(scope.author=data.item)}}})}),define("phxComponentStaticHeader/services/phxComponentStaticHeader",[],function(){return["$q",function($q){return{loadData:function(){var deferred=$q.defer();return deferred.resolve(!0),deferred.promise},getDirectiveName:function(){return"phx-component-static-header"}}}]}),define("text!phxComponentStaticHeader/html/phxComponentStaticHeader.html",[],function(){return"<section ng-class=\"[htmlClasses, 'm-hero_' + heroType]\" phx-track-id=\"Hero\">\n    <div class=\"m-hero--content\" ng-style=\"{'background-image': bgImage ? 'url('+bgImage+')' : ''}\">\n        <h1 ng-class=\"'m-hero--hed' + (bgImage ? ' mm-has-bg-img' : '')\" phx-skin-bgimg=\"heading\"></h1>\n    </div>\n</section>\n"}),define("phxComponentStaticHeader/module",["phxComponentStaticHeader/services/phxComponentStaticHeader","text!phxComponentStaticHeader/html/phxComponentStaticHeader.html"],function(phxComponentStaticHeader,template){return angular.module("phxComponentStaticHeader",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("staticHeader",phxComponentStaticHeader)}]).directive("phxComponentStaticHeader",function(){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,componentConfig=component.config;scope.htmlClasses=componentConfig.htmlClasses,scope.heroType=componentConfig.heroType,scope.heading=componentConfig.heading,scope.bgImage=componentConfig.bgImage}}})}),define("phxComponentItemComments/services/phxComponentItemComments",[],function(){return["$q","phxComponentUtil","phxAugmentProduct","phxAugmentRecipe","phxAugmentArticle",function($q,phxComponentUtil,phxAugmentProduct,phxAugmentRecipe,phxAugmentArticle){return{augmentItem:function(item){var opts={loadAuthor:!0,setupDisqus:!0};return"ContentProduct"===item.objectType?phxAugmentProduct.augment(item,opts):"ContentArticle"===item.objectType?phxAugmentArticle.augment(item,opts):"ContentRecipe"===item.objectType?(angular.extend(opts,{useBodyForDefaultTeaser:!1}),phxAugmentRecipe.augment(item,opts)):$q.when(!0)},loadData:function(componentConfig){var deferred=$q.defer(),myself=this;return phxComponentUtil.getItem(componentConfig.item).then(function(item){item?myself.augmentItem(item,componentConfig).then(function(){deferred.resolve({item:item})}):deferred.resolve(void 0)}),deferred.promise},getDirectiveName:function(){return"phx-component-item-comments"}}}]}),define("text!phxComponentItemComments/html/phxComponentItemComments.html",[],function(){return'<section id="comments" ng-class="[htmlClasses, \'m-comments\']">\n    <div class="m-comments--content l-full-width" phx-disqus-thread disqus-title="{{item.disqusTitle}}" disqus-identifier="{{item.disqusIdentifier}}" disqus-url="{{\'http://\' + $root.config.siteProductionDomain + item.relativeUrl}}" disqus-shortname="{{$root.config.disqus.shortname}}"></div>\n</section>\n'}),define("phxComponentItemComments/module",["phxComponentItemComments/services/phxComponentItemComments","text!phxComponentItemComments/html/phxComponentItemComments.html"],function(phxComponentItemComments,template){return angular.module("phxComponentItemComments",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("itemComments",phxComponentItemComments)}]).directive("phxComponentItemComments",function(){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,data=component.data;scope.htmlClasses=component.config.htmlClasses,data&&data.item&&(scope.item=data.item)}}})}),define("phxComponentSearch/services/phxComponentSearch",[],function(){return["Config","$q","phxComponentUtil",function(Config,$q){return{loadData:function(){var deferred=$q.defer();return deferred.resolve(!0),deferred.promise},getDirectiveName:function(){return"phx-component-search"}}}]}),define("text!phxComponentSearch/html/phxComponentSearch.html",[],function(){return'<section ng-class="[htmlClasses, \'m-search-entry\']">\n    <h1 class="m-search-entry--hed" phx-skin-bgimg="heading"></h1>\n    <form ng-submit class="m-search-entry--fields ng-pristine ng-valid" phx-track-id="Search Form">\n        <input class="m-search-entry--input ng-pristine ng-valid" type="search" placeholder="{{placeHolder}}" ng-model="searchkeyword" ng-keypress="keywordSearchOnKeypress($event)">\n        <button class="m-search-entry--submit ng-binding" ng-click="keywordSearch()">{{buttonText}}</button>\n    </form>\n</section>'}),define("phxComponentSearch/module",["phxComponentSearch/services/phxComponentSearch","text!phxComponentSearch/html/phxComponentSearch.html"],function(phxComponentSearch,template){return angular.module("phxComponentSearch",[]).config(["phxComponentProvider",function(phxComponentProvider){phxComponentProvider.register("search",phxComponentSearch)
}]).directive("phxComponentSearch",["$location","$http","$routeParams","$interpolate","phxRoute","phxUtil",function($location,$http,$routeParams,$interpolate,phxRoute,phxUtil){return{restrict:"E",replace:!0,template:template,link:function(scope){var component=scope.$component,componentConfig=component.config;scope.heading=componentConfig.heading,scope.htmlClasses=componentConfig.htmlClasses,scope.buttonText=componentConfig.buttonText,scope.placeHolder=componentConfig.placeHolder,scope.searchkeyword=$interpolate(componentConfig.searchQuery)($routeParams),scope.routeKeyword=componentConfig.routeKeyword&&null!==componentConfig.routeKeyword?phxRoute.pathByKeyword(componentConfig.routeKeyword):"search",scope.keywordSearchOnKeypress=function(event){13===event.which&&scope.keywordSearch()},scope.keywordSearch=function(){return"undefined"!=typeof scope.searchkeyword&&""!==scope.searchkeyword?$location.url(phxUtil.makePath(scope.routeKeyword,{query:scope.searchkeyword})):void 0}}}}])}),define("phxRss/feedServiceBuilder",[],function(){return function(builderParams){var articleLoader=builderParams.articleLoader,feedMetaLoader=builderParams.feedMetaLoader;return["$injector","phxApiClient","Config","phxLightTmlProcessor","phxRoute","phxAugmentArticle","phxAugmentPerson","phxAugmentRecipe","$q","flmContentUserProfileFetcher","flmContentPhotoFetcher","blvCloudinaryResolver","phxUtil",function($injector,phxApiClient,Config,phxLightTmlProcessor,phxRoute,phxAugmentArticle,phxAugmentPerson,phxAugmentRecipe,$q,flmContentUserProfileFetcher,flmContentPhotoFetcher,blvCloudinaryResolver,phxUtil){var getFeed=function(params){var feed={};feed.feedLink=Config.siteUrl+phxUtil.makePath(params.path,params);var feedMetaPromise=$injector.invoke(feedMetaLoader,null,{feedParams:params,feed:feed}),sectionNamesPromise=phxApiClient.anon.contentSites.getSections(Config.siteId).then(function(result){for(var ret={},i=0;i<result.entries.length;i++)ret[result.entries[i].sectionKey]=result.entries[i].displayName;return ret}),rawArticlesPromise=$injector.invoke(articleLoader,null,{feedParams:params}),articlesPromise=rawArticlesPromise.then(function(result){var articles=[],profileIds=[],photoIds=[];if(params.excludeSponsoredContent)for(var j=0;j<result.entries.length;j++){var article=result.entries[j];article.opportunityLineItemId||articles.push(article)}else articles=result.entries;for(var i=0;i<articles.length;i++)profileIds.push(articles[i].authorProfileId),photoIds.push(articles[i].primaryImageId);var articleTmlRenderedPromise,userProfilesPromise=$q.all(flmContentUserProfileFetcher.getMultiObjectPromises(profileIds)),primaryImagesPromise=$q.all(flmContentPhotoFetcher.getMultiObjectPromises(photoIds));if(params.fullContent)articleTmlRenderedPromise=phxLightTmlProcessor.renderArticlesTmlToHtml(articles,params.showImages);else{var dummyDefer=$q.defer();dummyDefer.resolve({}),articleTmlRenderedPromise=dummyDefer.promise}return $q.all({userProfiles:userProfilesPromise,articleTmlRendered:articleTmlRenderedPromise,primaryImages:primaryImagesPromise}).then(function(data){for(var userProfiles=data.userProfiles,primaryImages=data.primaryImages,i=0;i<articles.length;i++){var article=articles[i];null!==article.authorProfileId&&(article.authorDisplayName=userProfiles[article.authorProfileId].displayName);var contentPhoto=primaryImages[article.primaryImageId];contentPhoto&&(article.primaryImageUrl=blvCloudinaryResolver.rawResolver(contentPhoto),article.format="jpeg"===article.primaryImageUrl.slice(-4)?"jpeg":article.primaryImageUrl.slice(-3))}return articles})});return $q.all({sectionNames:sectionNamesPromise,articles:articlesPromise,feedMeta:feedMetaPromise}).then(function(data){for(var articles=data.articles,sectionNames=data.sectionNames,i=0;i<articles.length;i++){var article=articles[i];"ContentPerson"===article.objectType?(article.relativeUrl=phxUtil.makePath(phxRoute.pathByKeyword(phxAugmentPerson.settings.relativeUrlBySlug.routeKeyword),{slug:article.slug}),article.sectionDisplayName="People"):"ContentRecipe"===article.objectType?(article.relativeUrl=phxUtil.makePath(phxRoute.pathByKeyword(phxAugmentRecipe.settings.relativeUrlBySlug.routeKeyword),{slug:article.slug}),article.sectionDisplayName="Recipes"):(article.relativeUrl=phxAugmentArticle.getRelativeUrl(article),article.sectionDisplayName=sectionNames[article.sectionKey])}return feed.articles=articles,feed})};return{getFeed:getFeed}}]}}),define("phxRss/services/phxAuthorHubRss",["phxRss/feedServiceBuilder"],function(feedServiceBuilder){return feedServiceBuilder({feedMetaLoader:["Config","feed","feedParams","phxApiClient","$q","phxUtil","phxRoute",function(Config,feed,feedParams,phxApiClient,$q,phxUtil,phxRoute){return phxApiClient.anon.contentSites.getContentUserProfilesBySlug(Config.siteId,feedParams.author).then(function(result){var author=result.entries[0];return author?(feed.title=Config.siteName+" - "+author.displayName,feed.link=Config.siteUrl+phxUtil.makePath(phxRoute.pathByKeyword("authorHub"),feedParams),!0):$q.reject("No such author")})}],articleLoader:["Config","phxApiClient","feedParams",function(Config,phxApiClient,feedParams){return phxApiClient.anon.contentSites.getPublishedArticlesByAuthorProfileSlug(Config.siteId,feedParams.author,{limit:feedParams.limit})}]})}),define("phxRss/services/phxCoverHubRss",["phxRss/feedServiceBuilder"],function(feedServiceBuilder){return feedServiceBuilder({feedMetaLoader:["Config","feed","feedParams","$q","phxUtil","phxRoute",function(Config,feed,feedParams,$q,phxUtil,phxRoute){var defer=$q.defer();return feed.type="cover",feed.title=Config.siteName,feed.link=Config.siteUrl+phxUtil.makePath(phxRoute.pathByKeyword("coverHub"),feedParams),defer.resolve(),defer.promise}],articleLoader:["Config","phxApiClient","feedParams",function(Config,phxApiClient,feedParams){return phxApiClient.anon.contentSites.getPublishedArticles(Config.siteId,{limit:feedParams.limit})}]})}),define("phxRss/services/phxContentCustomHubRss",["phxRss/feedServiceBuilder"],function(feedServiceBuilder){return feedServiceBuilder({feedMetaLoader:["Config","feed","feedParams","phxApiClient","$q","phxUtil","phxRoute",function(Config,feed,feedParams,phxApiClient,$q,phxUtil,phxRoute){return phxApiClient.anon.contentSites.getPublishedContentCustomsByCustomType(Config.siteId,feedParams.contentType).then(function(result){var customcontent=result.entries[0],contentDisplayName={ContentPerson:"People",ContentRecipe:"Recipes"};return customcontent?(feed.title=Config.siteName,contentDisplayName.hasOwnProperty(feedParams.contentType)&&(feed.title+=" - "+contentDisplayName[feedParams.contentType]),feed.link=Config.siteUrl+phxUtil.makePath(phxRoute.pathByKeyword(feedParams.routeKeyword),feedParams),!0):$q.reject("No such custom content type")})}],articleLoader:["Config","phxApiClient","feedParams",function(Config,phxApiClient,feedParams){return phxApiClient.anon.contentSites.getPublishedContentCustomsByCustomType(Config.siteId,feedParams.contentType,{limit:feedParams.limit})}]})}),define("phxRss/services/phxSectionHubRss",["phxRss/feedServiceBuilder"],function(feedServiceBuilder){return feedServiceBuilder({feedMetaLoader:["Config","feed","feedParams","phxSectionUtil","$q","phxUtil","phxRoute",function(Config,feed,feedParams,phxSectionUtil,$q,phxUtil,phxRoute){return phxSectionUtil.getSectionPromiseByKey(feedParams.section).then(function(section){return section?(feed.title=Config.siteName+" - "+section.displayName,feed.link=Config.siteUrl+phxUtil.makePath(phxRoute.pathByKeyword("sectionHub"),feedParams),!0):$q.reject("No such section")})}],articleLoader:["Config","phxApiClient","feedParams",function(Config,phxApiClient,feedParams){return phxApiClient.anon.contentSites.getPublishedArticlesBySection(Config.siteId,feedParams.section,{limit:feedParams.limit})}]})}),define("phxRss/services/phxTagHubRss",["phxRss/feedServiceBuilder"],function(feedServiceBuilder){return feedServiceBuilder({feedMetaLoader:["Config","feed","feedParams","phxApiClient","$q","phxUtil","phxRoute",function(Config,feed,feedParams,phxApiClient,$q,phxUtil,phxRoute){var metaPromise=$q.defer();return feed.title=Config.siteName+" - "+feedParams.tag.replace("-"," "),feed.link=Config.siteUrl+phxUtil.makePath(phxRoute.pathByKeyword("tagHub"),feedParams),metaPromise.resolve(feed),metaPromise}],articleLoader:["Config","phxApiClient","feedParams",function(Config,phxApiClient,feedParams){return phxApiClient.anon.contentSites.getPublishedArticlesByTag(Config.siteId,feedParams.tag,{limit:feedParams.limit})}]})}),define("phxRss/services/phxTermHubRss",["phxRss/feedServiceBuilder"],function(feedServiceBuilder){return feedServiceBuilder({feedMetaLoader:["Config","feed","feedParams","phxApiClient","$q","phxUtil","phxRoute",function(Config,feed,feedParams,phxApiClient,$q,phxUtil,phxRoute){var metaPromise=$q.defer();return feed.title=Config.siteName+" - "+feedParams.slug.replace("-"," "),feed.link=Config.siteUrl+phxUtil.makePath(phxRoute.pathByKeyword("termsDetail"),feedParams),metaPromise.resolve(feed),metaPromise}],articleLoader:["Config","phxApiClient","feedParams","$q",function(Config,phxApiClient,feedParams,$q){var defered=$q.defer();return phxApiClient.anon.contentSites.getPublishedContentCustomsByCustomTypeAndSlug(Config.siteId,"ContentRichTerm",feedParams.slug).then(function(itemResult){itemResult&&itemResult.entries&&itemResult.entries[0]?phxApiClient.anon.contentSites.getPublishedItemsByRichTermAndType(Config.siteId,itemResult.entries[0].id,"ContentArticle",{limit:feedParams.limit}).then(function(result){defered.resolve(result)}):defered.resolve({entries:[]})}),defered.promise}]})}),define("phxRss/services/phxHistoricalRss",["phxRss/feedServiceBuilder"],function(feedServiceBuilder){return feedServiceBuilder({feedMetaLoader:["Config","feed","feedParams","$q","phxUtil","phxRoute",function(Config,feed,feedParams,$q,phxUtil,phxRoute){var defer=$q.defer();return feed.type="cover",feed.title=Config.siteName,feed.link=Config.siteUrl+phxUtil.makePath(phxRoute.pathByKeyword("coverHub"),feedParams),defer.resolve(),defer.promise}],articleLoader:["Config","phxApiClient","feedParams",function(Config,phxApiClient,feedParams){return phxApiClient.anon.contentSites.getPublishedArticlesByStartDateAndEndDate(Config.siteId,feedParams.start,feedParams.end,{limit:feedParams.limit})}]})}),define("phxRss/module",["phxRss/services/phxAuthorHubRss","phxRss/services/phxCoverHubRss","phxRss/services/phxContentCustomHubRss","phxRss/services/phxSectionHubRss","phxRss/services/phxTagHubRss","phxRss/services/phxTermHubRss","phxRss/services/phxHistoricalRss"],function(phxAuthorHubRss,phxCoverHubRss,phxContentCustomHubRss,phxSectionHubRss,phxTagHubRss,phxTermHubRss,phxHistoricalRss){return angular.module("phxRss",[]).service("phxAuthorHubRss",phxAuthorHubRss).service("phxCoverHubRss",phxCoverHubRss).service("phxContentCustomHubRss",phxContentCustomHubRss).service("phxSectionHubRss",phxSectionHubRss).service("phxHistoricalRss",phxHistoricalRss).service("phxTagHubRss",phxTagHubRss).service("phxTermHubRss",phxTermHubRss)}),define("phxAds/directives/phxAdvertisingContainer",[],function(){return["phxCategorizr","phxAdvertising","phxBreakout","phxUtil","phxElementUtil","Respond","Config","$window","$document","$rootScope","$compile",function(phxCategorizr,phxAdvertising,phxBreakout,phxUtil,phxElementUtil,Respond,Config,$window,$document,$rootScope,$compile){function injectAdAfter(element){var scope=$rootScope.$new();adLinkFn(scope,function(adElement){element.after(adElement)}),phxBreakout.processBreakouts()}function setDetailInjectionPoints(container){for(var contentHeight=phxUtil.estimateContentHeight(container.children()),viewportHeight=Math.max($document[0].documentElement.clientHeight,$window.innerHeight||0),injectionOffset=0,multiplier=Config.ad.detailPageViewportSpacing[Respond.getCurrentBreakpoint()],additional=Config.ad.detailAddlPageViewportSpacing[Respond.getCurrentBreakpoint()],content=container.children(),position=0,injectionCount=0,i=0;i<content.length;i++){var child=angular.element(content[i]),height=0;phxElementUtil.isHeadlineElement(child)||(height=child[0].attributes.hasOwnProperty("tml-image")?phxUtil.estimateTmlImageHeight(child):child[0].attributes.hasOwnProperty("tml-external-provider")?250:child.outerHeight(!0),position+=height,position-injectionOffset>=viewportHeight*(injectionCount>0?additional:multiplier)&&(injectAdAfter(child),injectionOffset=position,injectionCount++))}return 0===injectionOffset&&contentHeight>0&&(injectAdAfter(angular.element(content[content.length-1])),injectionCount++),container}var templateHtml="<phx-adaptive-ad-with-fallback></phx-adaptive-ad-with-fallback>",adLinkFn=$compile(templateHtml);return{restrict:"EA",priority:999,link:function(scope,iElement){scope.$on("phxAdvertisementAdLoaded",function(){phxBreakout.processBreakouts()}),scope.$evalAsync(function(){phxCategorizr.isServer()||Config.ad.enabled!==!0||setDetailInjectionPoints(iElement)})}}}]}),define("phxAds/directives/phxAdvertisement",[],function(){return["phxAdvertising","phxBreakout","$interval","$window","$timeout",function(phxAdvertising,phxBreakout,$interval,$window,$timeout){function _isElementHidden(element){for(var e=element.get(0);e&&"HTML"!==e.nodeName&&"#document"!==e.nodeName&&"#document-fragment"!==e.nodeName;){var style=$window.getComputedStyle(e);if("#document-fragment"===e.nodeName||style&&"none"===style.getPropertyValue("display"))return!0;e=e.parentNode}return!1}function _loadAd(element,type,mode,page){if("adaptive"!==type||mode){if("contentAdjacent300x600"===type)var initialHeight=element.height(),i=$interval(function(){element.height()>initialHeight&&(phxBreakout.processBreakouts(),$interval.cancel(i))},100,100)}else mode="inline";return page.advertising.fillAdZone(element,{mode:mode,type:type})}return{restrict:"E",scope:{adRole:"@",adMode:"@"},require:"^phxPage",link:function(scope,iElement,iAttrs,phxPageCtrl){function afterAdLoaded(ad){ad?(scope.$emit("phxAdvertisementAdLoaded",ad),iElement.on("$destroy",function(){ad.destroy()})):scope.$emit("phxAdvertisementNoAdLoaded")}var page=phxPageCtrl.page,role=scope.adRole;if(iElement.addClass("m-layout-advertisement"),!role)throw new Error("phx-advertisement requires ad-role attribute");if(_isElementHidden(iElement)){var comment=angular.element(document.createComment("skipped loading hidden ad"));iElement.append(comment),scope.$emit("phxAdvertisementHidden")}else $timeout(function(){_loadAd(iElement,role,scope.adMode,page).then(afterAdLoaded)})}}}]}),define("text!phxAds/html/phxAdaptiveAdWithFallback-adaptive.html",[],function(){return'<phx-advertisement phx-breakout-dam test phx-breakdancr-padding="{{ breakdancrPadding || \'30\' }}" ad-role="{{ adRole || \'adaptive\'}}" ad-mode="{{adMode}}"></phx-advertisement>'}),define("text!phxAds/html/phxAdaptiveAdWithFallback-fallback.html",[],function(){return'<div phx-breakout-dam phx-breakout-dam-padding="20" class="l-backfill-container">\n    <p style="font-size: 12px; font-family: Arial, \'Helvetica Neue\', Helvetica, sans-serif; line-height: 20px; color: rgb(51, 51, 51); text-align: center; margin: 0px; display: block; background: none;">Advertisement — Continue reading below</p>\n    <div style="padding: 14px 0px 0px; margin-top: 0px; margin-left: auto; margin-right: auto; transition: height 0.7s ease-in-out; -webkit-transition: height 0.7s ease-in-out; left: 0px; width: 100%; height: 300px; border-top-width: 1px; border-top-style: solid; border-top-color: rgb(168, 168, 168); border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(168, 168, 168); display: block; background-color: rgb(255, 255, 255); background-size: cover; text-align: center; overflow: hidden;">\n        <div ng-if="adCount >= 1" style="padding-top: 10px; display: inline-block; padding-left: 10px; padding-right: 10px;"><phx-advertisement ad-role="iabBackfill1"></phx-advertisement></div>\n        <div ng-if="adCount >= 2" style="padding-top: 10px; display: inline-block; padding-left: 10px; padding-right: 10px;"><phx-advertisement ad-role="iabBackfill2"></phx-advertisement></div>\n    </div>\n    <p style="height: 50px; text-align: center; margin: 0px; display: block; background: none;"></p>\n</div>\n'}),define("phxAds/directives/phxAdaptiveAdWithFallback",["text!phxAds/html/phxAdaptiveAdWithFallback-adaptive.html","text!phxAds/html/phxAdaptiveAdWithFallback-fallback.html"],function(adaptiveTemplate,fallbackTemplate){return["phxAdvertising","phxBreakout","phxCategorizr","$compile",function(phxAdvertising,phxBreakout,phxCategorizr,$compile){var adaptiveLinkFn=$compile(adaptiveTemplate),fallbackLinkFn=$compile(fallbackTemplate);return{restrict:"E",scope:{},link:function(scope,iElement){var loadCount=0,unlistenAdaptive=scope.$on("phxAdvertisementNoAdLoaded",function(){unlistenAdaptive();var unlistenFallback=scope.$on("phxAdvertisementNoAdLoaded",function(){++loadCount===scope.adCount&&(unlistenFallback(),iElement.hide())}),breakpoint=phxCategorizr.getBreakpoint();switch(breakpoint){case"A":scope.adCount=1;break;case"B":scope.adCount=1;break;case"C":scope.adCount=2;break;default:scope.adCount=1}fallbackLinkFn(scope,function(clone){iElement.replaceWith(clone),iElement.remove(),iElement=clone})});adaptiveLinkFn(scope,function(clone){iElement.replaceWith(clone),iElement.remove(),iElement=clone})}}}]}),define("text!phxAds/html/phxAdaptiveAdWithFallback-fallback-banner.html",[],function(){return"<div class=\"l-backfill-container\">\n	<phx-advertisement ad-role='{{adRole}}'></phx-advertisement>\n</div>\n"}),define("phxAds/directives/phxAdaptiveAdWithBannerFallback",["text!phxAds/html/phxAdaptiveAdWithFallback-adaptive.html","text!phxAds/html/phxAdaptiveAdWithFallback-fallback-banner.html"],function(adaptiveTemplate,fallbackTemplateWithBanner){return["phxAdvertising","phxBreakout","phxCategorizr","$compile","$interval","phxUtil","$window","$rootScope","phxFeatures","$timeout",function(phxAdvertising,phxBreakout,phxCategorizr,$compile,$interval,phxUtil,$window,$rootScope,phxFeatures){var adaptiveLinkFn=$compile(adaptiveTemplate),fallbackBannerLinkFn=$compile(fallbackTemplateWithBanner);return{restrict:"E",scope:{},require:"^phxPage",link:function(scope,iElement,iAttr,phxPageCtrl){function prepClone(clone,role){clone.data("$phxPageController",phxPageCtrl),clone.addClass("m-layout-advertisement-atf"),clone.addClass("m-advertisement--"+role),clone.addClass("m-advertisement--"+phxFeatures.variant("atf").replace("_","-"))}function iabIsInViewSendEvent(clone,selectedAd){selectedAd.adZoneVisible();var isViewable=iabIsInView(clone,.33),adViewableInterval=$interval(function(){var res=iabIsInView(clone,.33);isViewable&&res&&(ga("send","event","Advertising","visible",null,!0,{nonInteraction:1}),$interval.cancel(adViewableInterval)),isViewable=res},1e3)}function iabIsInView(element,percent){element=angular.element(element);var win=angular.element($window),viewport={top:win.scrollTop(),left:win.scrollLeft()};viewport.right=viewport.left+win.width(),viewport.bottom=viewport.top+win.height();var height=element.outerHeight(),width=element.outerWidth(),rect=element.offset();rect.right=rect.left+width,rect.bottom=rect.top+height;var deltas={top:Math.max(Math.min(1,(rect.bottom-viewport.top)/height),0),bottom:Math.max(Math.min(1,(viewport.bottom-rect.top)/height),0),left:Math.max(Math.min(1,(rect.right-viewport.left)/width),0),right:Math.max(Math.min(1,(viewport.right-rect.left)/width),0)};return deltas.top*deltas.bottom*deltas.left*deltas.right>=percent}iElement.data("$phxPageController",phxPageCtrl);var unlistenAdaptiveHeight=scope.$on("phxAdvertisementAdLoaded",function(e,ad){iElement.on("transitionend webkitTransitionEnd oTransitionEnd",function(){iabIsInViewSendEvent(iElement,ad)}),iElement.css("height","400px")}),loadCount=0,unlistenAdaptive=scope.$on("phxAdvertisementNoAdLoaded",function(){unlistenAdaptive(),unlistenAdaptiveHeight();var baseAdRole,unlistenFallback=scope.$on("phxAdvertisementNoAdLoaded",function(){++loadCount===scope.adCount&&(unlistenFallback(),iElement.hide())}),breakpoint=phxCategorizr.getBreakpoint();switch(breakpoint){case"A":case"B":baseAdRole="iabBackfill";break;default:case"C":baseAdRole="iabBackfillBanner"}scope.adRole=baseAdRole+"-"+phxFeatures.variant("atf"),scope.$on("phxAdvertisementAdLoaded",function(){iElement.on("transitionend webkitTransitionEnd oTransitionEnd",function(){iabIsInViewSendEvent(iElement)}),iElement.css("height",iElement.children().eq(0).outerHeight(!0)+"px")}),fallbackBannerLinkFn(scope,function(clone){prepClone(clone,baseAdRole),iElement.replaceWith(clone),iElement.remove(),iElement=clone})});$rootScope.seenAdaptive?scope.$emit("phxAdvertisementNoAdLoaded"):adaptiveLinkFn(scope,function(clone){scope.adMode="fill",scope.adRole="adaptive-"+phxFeatures.variant("atf"),scope.breakdancrPadding="0",prepClone(clone,"adaptive"),iElement.replaceWith(clone),iElement.remove(),iElement=clone})}}}]}),define("text!phxAds/html/phxBrandingBadge.html",[],function(){return'<a ng-href="{{ badge.linkTargetUrl }}" ng-if="badge">\n    <img ng-src="{{ badge.imageUrl }}"\n         alt="{{ badge.alternativeText }}"\n         title="">\n</a>\n'}),define("phxAds/directives/phxBrandingBadge",["text!phxAds/html/phxBrandingBadge.html"],function(template){return function(){return{restrict:"E",scope:{badge:"="},template:template,replace:!0}}}),define("phxAds/services/phxAdvertising",[],function(){return["$q","$window","Config","$rootScope","phxBreakout","$injector","cstLogger","phxUtil",function($q,$window,Config,$rootScope,phxBreakout,$injector,cstLogger,phxUtil){function AdvertisingContext(page){function chooseImplementation(){if(page.viewMeta.keywords&&page.viewMeta.keywords.indexOf&&-1!==page.viewMeta.keywords.indexOf("M"))return new NullAdvertisingImpl;if(Config.ad.enabled!==!1&&angular.isDefined(Config.ad.adServer)&&Config.ad.server.hasOwnProperty(Config.ad.adServer)){var adManagerServiceName="phxAdManager"+Config.ad.adServer;if($injector.has(adManagerServiceName)){var adManagerService=$injector.get(adManagerServiceName);return new AdManagerAdvertisingImpl(context,adManagerService)}return cstLogger.error("Missing ad manager service "+adManagerServiceName),new NullAdvertisingImpl}return new NullAdvertisingImpl}this.page=page;var context=this,impl=chooseImplementation();if(page.sponsorship){var roles=Config.ad.sponsorship[page.sponsorship.sponsorshipType];impl=roles?new SponsoredAdvertisingImpl(context,roles,impl):new NullAdvertisingImpl}this._isNullImplementation=impl._isNullImplementation,this.fillAdZone=function(element,options){return impl.fillAdZone(element,options)},this.createAd=function(opts){return new Advertisement(context,opts)}}function Advertisement(context,opts){this.context=context,opts=opts||{},this.destroy=opts.onDestroy||function(){},this.adZoneVisible=opts.onAdZoneVisible||function(){}}function NullAdvertisingImpl(){this.fillAdZone=function(){return $q.when(null)},this._isNullImplementation=!0}function AdManagerAdvertisingImpl(context,service){this.fillAdZone=function(element,options){return service.injectAd(context,element,options)}}function SponsoredAdvertisingImpl(context,roles,fallback){this.fillAdZone=function(element,options){var type=options.type;return"adaptive"===type&&(type=options.mode||"inline"),roles.hasOwnProperty(type)&&roles[type]===!0?fallback.fillAdZone(element,options):$q.when(null)}}function postMessage(message,hosts){$window.postMessage&&$window.postMessage(message,hosts)}return $rootScope.$on("phxTmlImage:imageLoaded",phxUtil.throttle(function(){postMessage("sm_lyra_relayout","*"),phxBreakout.processBreakouts()},50)),$window.addEventListener("resize",phxUtil.throttle(function(){postMessage("sm_lyra_relayout","*"),phxBreakout.processBreakouts()},50)),$window.addEventListener("message",function(event){event.data&&"string"==typeof event.data&&0===event.data.indexOf("reflow-adzone")&&phxBreakout.processBreakouts()}),$rootScope.$on("$routeChangeStart",function(){for(var body=$window.document.body,currentElement=body,elementsToKill=[];currentElement.nextSibling;)currentElement=currentElement.nextSibling,elementsToKill.push(currentElement);elementsToKill=angular.element(elementsToKill),elementsToKill.css("display","none"),elementsToKill.remove()}),{createContextForPage:function(page){return new AdvertisingContext(page)}}}]}),define("phxAds/services/phxSponsorships",[],function(){return["$q","phxApiClient","Config",function($q,phxApiClient,Config){return{getSponsorshipForSection:function(sectionKey){var deferred=$q.defer(),key=Config.siteId+":"+sectionKey;return phxApiClient.anon.contentSections.getCurrentSponsorship(key).then(function(sponsorship){sponsorship.sponsorshipType="section",deferred.resolve(sponsorship)})["catch"](function(err){"Not found"===err?deferred.resolve(null):deferred.reject(err)}),deferred.promise},getSponsorshipForContentItem:function(item){return item.reporting?$q.when({reporting:item.reporting,sponsorshipType:"item"}):item.sectionKey?this.getSponsorshipForSection(item.sectionKey):$q.when(null)}}}]}),define("phxAds/services/phxBrandedContent",[],function(){return["$q","flmContentPhotoFetcher","blvCloudinaryResolver","Config",function($q,flmContentPhotoFetcher,blvCloudinaryResolver){var contentItemBrandingBadgeKeys=["topBadge","bottomBadge"];return{prepareContentBrandingBadge:function(badge){if(badge){var augmentedBadge={alternativeText:badge.alternativeText,imageId:badge.imageId,linkTargetUrl:badge.linkTargetUrl,image:null,imageUrl:null};return flmContentPhotoFetcher.getObjectPromise(badge.imageId).then(function(image){augmentedBadge.image=image;var cloudinaryOptions={width:500,height:100,crop:"fit",dpr:$.cloudinary.device_pixel_ratio()};return blvCloudinaryResolver.getCloudinaryUrl(image,cloudinaryOptions).then(function(url){return augmentedBadge.imageUrl=url,augmentedBadge})})}return $q.when(null)},prepareContentItemBranding:function(branding){if(branding){for(var promises={},ret={topBadge:null,bottomBadge:null,isEndorsedForSearch:branding.isEndorsedForSearch},i=0;i<contentItemBrandingBadgeKeys.length;i++){var key=contentItemBrandingBadgeKeys[i],originalBadge=branding[key];if(originalBadge){var newBadge={alternativeText:originalBadge.alternativeText,imageId:originalBadge.imageId,linkTargetUrl:originalBadge.linkTargetUrl,image:null,imageUrl:null};ret[key]=newBadge,promises[key]=this.prepareContentBrandingBadge(originalBadge)}}return $q.all(promises).then(function(results){return angular.forEach(results,function(v,k){ret[k]=results[k]}),ret})}return $q.when(null)}}}]}),define("phxAds/services/phxAdUtils",[],function(){return["phxBeaconClient","phxViewMeta",function(phxBeaconClient,phxViewMeta){function _addSessionLinkHandler(page,adLoadEvent){var adRid=adLoadEvent.originalEvent.rid,pageRid=page.events.rid,beaconClient=phxBeaconClient.makeBeaconClient();adRid&&page.events.addListener("page","loaded",function(pageLoadEvent){var featureSelections=[];angular.forEach(pageLoadEvent.featureSelections,function(selection){featureSelections.push(selection.join(":"))}),featureSelections.sort();var objectType;phxViewMeta.scope&&phxViewMeta.scope.view&&phxViewMeta.scope.view.objectType&&(objectType=phxViewMeta.scope.view.objectType),beaconClient.send("pagelink",adRid,{pagerid:pageRid,objectType:objectType,tmtfeatures:featureSelections.join(",")})})}return{addSessionLinkHandler:_addSessionLinkHandler}}]}),define("phxAds/services/providers/phxAdManagerPigeon",[],function(){return["$timeout","$location","Config","phxViewMeta","$window","$q","phxAdUtils",function($timeout,$location,Config,phxViewMeta,$window,$q,phxAdUtils){function _isDebug(){return-1!==$location.absUrl().indexOf("iwantads")||"PROD"!==$window.hexEnvironment&&"DEMO"!==$window.hexEnvironment&&"STAGE"!==$window.hexEnvironment}function _isSponsored(context){return context.page.sponsorship&&context.page.sponsorship.reporting&&context.page.sponsorship.reporting.opportunityLineItemId?!0:!1}function _getScriptUrl(baseScriptUrl,type,section,lineItemId,integrations){var integrationId=!1,urlParams={ord:Math.random()};return _isDebug()&&type&&integrations.hasOwnProperty(type)?(integrationId=integrations[type],urlParams.disabled="placement_whitelist"):type&&integrations.hasOwnProperty(type)&&(integrationId=integrations[type]),section&&(urlParams.section=section),lineItemId&&(urlParams.lineitemid=lineItemId),integrationId?baseScriptUrl+integrationId+".js?"+$.param(urlParams):!1}function _loadAdScript(element,url){var script=document.createElement("script");script.async=!0,script.src=url,element.html(""),element.get(0).appendChild(script)}function _initBackfill(element,integrations){window.addEventListener("iabBackfillReady",function(event){if(event.container===element.attr("id")){var backfillObj=event.iabBackfill;backfillObj.integrations=integrations.backfill||[],backfillObj.setup(),backfillObj.redraw()}})}return{injectAd:function(context,element,options){var type=options.type||null,defer=$q.defer();element.on("addelivery",function(evt){function onDestroyAd(){impression.unload()}function onAdZoneVisible(){var event=window.document.createEvent("Event");event.initEvent("scroll",!0,!0),impression.node.dispatchEvent(event)}var impression=evt.originalEvent.impression;defer.resolve(context.createAd({onDestroy:onDestroyAd,onAdZoneVisible:onAdZoneVisible})),evt.stopPropagation(),phxAdUtils.addSessionLinkHandler(context.page,evt)}),element.on("adpassback",function(evt){defer.resolve(context.createAd({})),evt.stopPropagation(),phxAdUtils.addSessionLinkHandler(context.page,evt)}),element.on("adhold",function(evt){_isSponsored(context)?defer.reject():defer.resolve(null),evt.stopPropagation(),phxAdUtils.addSessionLinkHandler(context.page,evt)}),"adaptive"===type&&(type=options.mode||"inline");var lineItemId,config=Config.ad||{},integrations=options.integrations?options.integrations:_isDebug()?config.integrations.debug:config.integrations.pigeon;_isSponsored(context)&&(lineItemId=context.page.sponsorship.reporting.opportunityLineItemId);var url=_getScriptUrl(config.server.Pigeon.scriptUrl,type,context.page.viewMeta.sectionKey,lineItemId,integrations);return _initBackfill(element,integrations),url?(this.loadAdScript(element,url),defer.promise):$q.when(null)},isDebug:_isDebug,getScriptUrl:_getScriptUrl,loadAdScript:_loadAdScript,initBackfill:_initBackfill}}]}),define("phxAds/services/providers/phxAdManagerTest",[],function(){return["Config","$q","$timeout",function(Config,$q,$timeout){function makePlaceholderElement(context,type,zoneConfig){var element=angular.element("<div></div>");element.css("width",zoneConfig.dimensions[0]),element.css("height",zoneConfig.dimensions[1]),element.css("box-sizing","border-box"),element.css("border","1px solid #aaaaaa"),element.css("background","#eeeeee"),element.css("color","#aaaaaa"),element.css("display","flex"),element.css("justify-content","center"),element.css("align-items","center"),zoneConfig.fixed&&(element.css("position","fixed"),element.css("top","auto"),element.css("left","50%"),element.css("margin-left",element.width()/-2),element.css("right","auto"),element.css("bottom","auto"),element.css(zoneConfig.fixed,"-1px"));var label=angular.element("<div></div>");return label.css("text-align","center"),label.css("vertical-align","center"),label.html(type),element.append(label),element}function logAdInsertion(type){logInsertionQueue.push(type),activeAdCount++,logInsertionTimeout||(logInsertionTimeout=$timeout(function(){logInsertionTimeout=void 0;var newAdCount=logInsertionQueue.length;console.log("Inserted",newAdCount,"new ads, so we now have",activeAdCount,"active",logInsertionQueue),logInsertionQueue=[]}))}function logAdRemoval(type){logRemovalQueue.push(type),activeAdCount--,logRemovalTimeout||(logRemovalTimeout=$timeout(function(){logRemovalTimeout=void 0;var oldAdCount=logRemovalQueue.length;console.log("Destroyed",oldAdCount,"ads, so we now have",activeAdCount,"active",logRemovalQueue),logRemovalQueue=[]}))}var logInsertionTimeout,logRemovalTimeout,config=Config.ad.server.Test,activeAdCount=0,logInsertionQueue=[],logRemovalQueue=[];
return{injectAd:function(context,element,options){function insertAd(){if(!zoneConfig.enabled)return null;var placeholderElement=makePlaceholderElement(context,type,zoneConfig);return logAdInsertion(type),element.append(placeholderElement),context.createAd({onDestroy:function(){logAdRemoval(type),element.html("")}})}var type=options.type||null;"adaptive"===type&&(type=options.mode||"inline");var zoneConfig=config[type];return zoneConfig?zoneConfig.wait?$timeout(function(){},zoneConfig.wait).then(insertAd):$q.when(insertAd()):(console.error("Tried to inject ad of unknown type",type),$q.when(null))}}}]}),define("phxAds/module",["phxAds/directives/phxAdvertisingContainer","phxAds/directives/phxAdvertisement","phxAds/directives/phxAdaptiveAdWithFallback","phxAds/directives/phxAdaptiveAdWithBannerFallback","phxAds/directives/phxBrandingBadge","phxAds/services/phxAdvertising","phxAds/services/phxSponsorships","phxAds/services/phxBrandedContent","phxAds/services/phxAdUtils","phxAds/services/providers/phxAdManagerPigeon","phxAds/services/providers/phxAdManagerTest"],function(phxAdvertisingContainer,phxAdvertisement,phxAdaptiveAdWithFallback,phxAdaptiveAdWithBannerFallback,phxBrandingBadge,phxAdvertising,phxSponsorships,phxBrandedContent,phxAdUtils,phxAdManagerPigeon,phxAdManagerTest){var module=angular.module("phxAds",[]).directive("phxAdvertisingContainer",phxAdvertisingContainer).directive("phxAdvertisement",phxAdvertisement).directive("phxAdaptiveAdWithFallback",phxAdaptiveAdWithFallback).directive("phxAdaptiveAdWithBannerFallback",phxAdaptiveAdWithBannerFallback).directive("phxBrandingBadge",phxBrandingBadge).service("phxAdUtils",phxAdUtils).factory("phxAdvertising",phxAdvertising).factory("phxSponsorships",phxSponsorships).factory("phxBrandedContent",phxBrandedContent).factory("phxAdManagerPigeon",phxAdManagerPigeon).factory("phxAdManagerTest",phxAdManagerTest).run(["phxAdvertising",function(){}]);return module}),define("phxCards/services/phxCards",[],function(){return["$rootScope","Respond","Config","phxFeatures","phxUtil","phxComponentUtil","phxResponsiveSize",function($rootScope,Respond,Config,phxFeatures,phxUtil,phxComponentUtil,phxResponsiveSize){function _numColumns(){return phxResponsiveSize.getNumber()}function _rand(str,max){for(var hash,char=0,i=0;i<str.length;i++)char=str.charCodeAt(i),hash=(hash<<5)-hash+char,hash&=hash;return Math.abs(hash)%max}function _fits(columns,columnsUsed,numColumns){return numColumns>=columnsUsed%numColumns+columns}function _columns(cardType,columnCount){return cardType&&cardType.columns?"full"===cardType.columns?columnCount:cardType.columns:1}function _preprocessItems(items,insertions,startIndex,cardOverrides){for(var ret=[],i=startIndex;i<items.length;i++){var card={cardContents:"content-item",cardData:items[i],cardTypeCode:items[i].cardTypeCode,id:items[i].id};ret.push(_preprocessItem(card,cardOverrides))}return ret}function _preprocessItem(item,cardOverrides){return item.cardTypeData=cardTypesByName[_getCardType(item,cardOverrides)],item.hasOwnProperty("id")&&"string"==typeof item.id&&-1!==item.id.indexOf("%d")?(item._id=item.id,item.id=item.id.replace(/\%d/g,_idCounter++)):item.hasOwnProperty("_id")&&-1!==item._id.indexOf("%d")?item.id=item._id.replace(/\%d/g,_idCounter++):item.hasOwnProperty("id")||(item.id=_idCounter++),item}function _getCardType(item,cardOverrides){if("content-item"!==item.cardContents)return"content-strip"===item.cardContents?item.cardTypeCode&&cardTypesByName.hasOwnProperty(item.cardTypeCode)?item.cardTypeCode:"break":item.cardTypeCode?item.cardTypeCode:"standard";if("ContentArticle"===item.cardData.objectType)return Config.cards.overrideCardType?Config.cards.overrideCardType:item.cardTypeCode&&cardTypesByName.hasOwnProperty(item.cardTypeCode)?item.cardTypeCode:"random"===defaultCardType?_getRandomCardType(item):defaultCardType;if("ContentRecipe"===item.cardData.objectType)return item.cardTypeCode&&cardTypesByName.hasOwnProperty(item.cardTypeCode)?item.cardTypeCode:cardTypesByName.hasOwnProperty("image")?"image":"standard";if("ContentRichTerm"===item.cardData.objectType&&cardTypesByName.hasOwnProperty("image"))return"image";if("ContentPerson"===item.cardData.objectType&&cardTypesByName.hasOwnProperty("image"))return"image";if("ContentBasicPage"===item.cardData.objectType&&!item.cardData.primaryImageId)return"text";if("ContentEmbed"!==item.cardData.objectType)return"standard";var defaultEmbedCardType="list-standard";if(void 0===cardOverrides)return defaultEmbedCardType;if(void 0===cardOverrides.arrangeByType)return void 0!==cardOverrides.allCardsType?cardOverrides.allCardsType:defaultEmbedCardType;switch(iterator++,cardOverrides.arrangeByType[iterator]){case"standard":return"standard";case"double":return"double";case"list-standard":return"list-standard";case void 0:return cardOverrides.arrangeByType.remaining?cardOverrides.arrangeByType.remaining:defaultEmbedCardType}}function _getRandomCardType(item){return angular.isDefined(item.cardData)&&angular.isDefined(item.cardData.id)?cardTypesWeighted[_rand(item.cardData.id,cardTypesWeighted.length)]:"standard"}Config.cards||(Config.cards={defaultCardType:"standard",types:{standard:{weight:1}}});var defaultCardType=Config.cards.defaultCardType,cardTypesByName={},cardTypesWeighted=[],_idCounter=1;for(var name in Config.cards.types){var type=Config.cards.types[name];if(type){type.name=name,cardTypesByName[name]=type;for(var j=0;j<type.weight;j++)cardTypesWeighted.push(name)}}var iterator=0,_cards=function(streamer,insertions,cardOverrides){this.cardOverrides=cardOverrides,this.streamer=streamer,this.insertions=insertions,this.cards=[],this._columnsFilled=0,this._row=0,this._rowAdColumn=[0],this._rowToFirstCardIndex={0:0},this._stragglers=[],this._alreadyPlaced={},this._init()};return _cards.prototype={_reset:function(){this.cards.length=0,this._columnsFilled=0,this._row=0,this._rowAdColumn=[0],this._rowToFirstCardIndex={0:0},this._stragglers=[],this._alreadyPlaced={}},_init:function(){var localThis=this;this.streamer.watchMoreItems(function(index){0===index&&localThis._reset(),localThis._addCards(_preprocessItems(localThis.streamer.items,localThis.insertions,index,localThis.cardOverrides))}),$rootScope.$on("breakpoint",function(){localThis._reset(),localThis._addCards(_preprocessItems(localThis.streamer.items,localThis.insertions,0,localThis.cardOverrides))})},_insertionPoint:function(row,column,itemIndex){var possible=[];if(this.insertions&&0!==this.insertions.length){for(var i=0;i<this.insertions.length;i++){var insertion=this.insertions[i];if((!insertion.hasOwnProperty("enabledOn")||phxComponentUtil.canEnable(insertion.enabledOn))&&("advertising"!==insertion.cardContents||"iab"!==insertion.cardData.role||phxUtil.hasFlash())&&insertion.hasOwnProperty("position")){var position=insertion.position;if(position.hasOwnProperty("breakpoints")){var currentBreakpoint=Respond.getCurrentBreakpoint();position.breakpoints.hasOwnProperty(currentBreakpoint)&&angular.extend(position,position.breakpoints[currentBreakpoint])}if(position.hasOwnProperty("index")&&position.index===itemIndex)possible.unshift(insertion);else if(position.hasOwnProperty("row")){var repeat=position.hasOwnProperty("repeat")&&position.repeat>0?position.repeat:!1,isRow=row===position.row||repeat!==!1&&row>=position.row&&(row-position.row)%repeat===0;isRow&&(position.hasOwnProperty("column")?"rand"===position.column&&column===this._rowAdColumn[row]?possible.push(insertion):angular.isNumber(position.column)&&column===position.column&&possible.push(insertion):possible.push(insertion))}else position.hasOwnProperty("column")&&"rand"===position.column&&column===row%_numColumns()&&possible.push(insertion)}}return possible.length>0?angular.copy(possible.shift()):!1}},_getFallbackType:function(cardTypeData){var requestedFallbackType=defaultCardType;return cardTypeData&&cardTypeData.fallBackType&&(requestedFallbackType=cardTypeData.fallBackType),cardTypesByName.hasOwnProperty(requestedFallbackType)&&1===cardTypesByName[requestedFallbackType].columns?requestedFallbackType:"standard"},_addCards:function(items){var MAX_LOOK_AHEAD=5,numColumns=_numColumns();this.cards=this.cards.concat(this._stragglers);for(var i=0;i<items.length;i++){var insertion=this._insertionPoint(this._row,this._columnsFilled%numColumns,i);if(insertion&&items.splice(i,0,_preprocessItem(insertion)),!this._alreadyPlaced[items[i].id]&&"hidden"!==items[i].cardTypeCode){if(_columns(items[i].cardTypeData,numColumns)>numColumns){var fallbackCardType=this._getFallbackType(items[i].cardTypeData);items[i].cardTypeData=cardTypesByName[fallbackCardType]}3===numColumns&&this._columnsFilled%numColumns===2&&i>0&&2===items[i-1].cardTypeData.columns&&2===items[i].cardTypeData.columns&&(items[i-1].cardTypeData=cardTypesByName.doubleSideBySide,this._columnsFilled-=.5,items[i].cardTypeData=cardTypesByName.doubleSideBySide);var added=this._addCard(items[i],numColumns);if(!added){for(var j=i+1;j<items.length&&i+MAX_LOOK_AHEAD>j&&!(added=this._addCard(items[j],numColumns));j++);if(!added){var fallbackType=this._getFallbackType(items[i].cardTypeData);items[i].cardTypeData=cardTypesByName[fallbackType]}i--}}}this._stragglers=this.streamer.hasMoreItems?this.cards.splice(this._rowToFirstCardIndex[this._row],100):[]},_addCard:function(card,numColumns){return this._alreadyPlaced[card.id]?!1:_fits(_columns(card.cardTypeData,numColumns),this._columnsFilled,numColumns)?(this.cards.push(card),this._columnsFilled+=_columns(card.cardTypeData,numColumns),this._alreadyPlaced[card.id]=!0,this._columnsFilled%numColumns===0&&(this._row++,this._rowAdColumn[this._row]=Math.floor(Math.random()*(numColumns-1e-4)),this._rowToFirstCardIndex[this._row]=this.cards.length),!0):!1},getCardIndexForRow:function(row){return this._rowToFirstCardIndex[row]||-1}},{cards:_cards,numColumns:_numColumns}}]}),define("phxCards/directives/phxCard",[],function(){return["$compile",function($compile){function getLinkFn(directiveName){return linkForDirective.hasOwnProperty(directiveName)||(linkForDirective[directiveName]=$compile("<"+directiveName+"/>")),linkForDirective[directiveName]}var linkForDirective={};return{restrict:"E",replace:!0,template:'<div ng-class="card.cardTypeData.classes"></div>',scope:{card:"="},controller:["$element",function($element){this.remove=function(){$element.hide()}}],link:function(scope,element){var directiveName="phx-"+scope.card.cardContents+"-card",linkFn=getLinkFn(directiveName);linkFn(scope,function(clone){element.append(clone)})}}}]}),define("text!phxCards/html/phxAdvertisingCard.html",[],function(){return'<article class="m-advertisement" role="complementary">\n	<div class="m-advertisement--indicator">Advertisement</div>\n	<div class="m-advertisement--container">\n	  <phx-advertisement ad-role="{{ adRole }}" ad-mode="{{ adMode }}"></phx-advertisement>\n	</div>\n</article>\n'}),define("phxCards/directives/phxAdvertisingCard",["text!phxCards/html/phxAdvertisingCard.html"],function(template){return["Config","phxApiClient","phxAdvertising","$window","$timeout",function(){return{restrict:"E",template:template,replace:!0,require:"^phxCard",controller:["$scope",function($scope){var config=$scope.card.cardData;$scope.delivered=!0,"adaptive"!==config.role||config.adMode||(config.adMode="inline"),$scope.adRole=config.role,$scope.adMode=config.adMode}],link:function($scope,$element,iAttr,phxCardCtrl){$scope.$on("phxAdvertisementNoAdLoaded",function(){phxCardCtrl.remove()})}}}]}),define("phxCards/directives/phxCollectionCard",["text!phxCards/html/phxCollectionCard.html"],function(phxCollectionCardTemplate){return[function(){return{restrict:"E",replace:!0,template:phxCollectionCardTemplate,link:function(scope){scope.card.cardData.componentDataPromise.then(function(data){scope.streamer=data.streamer,scope.heading=scope.card.cardData.componentConfig.heading})}}}]}),define("phxCards/module",["phxCards/services/phxCards","phxCards/directives/phxCard","phxCards/directives/phxAdvertisingCard","phxCards/directives/phxCollectionCard"],function(phxCards,phxCard,phxAdvertisingCard,phxCollectionCard){return angular.module("phxCards",[]).service("phxCards",phxCards).directive("phxCard",phxCard).directive("phxContentItemCard",function(){return{restrict:"E",replace:!0,template:'<article phx-content-item="card.cardData" phx-primary-image-profile="{{card.cardTypeData.imageProfile}}"/>'}}).directive("phxNewsletterCard",function(){return{restrict:"E",replace:!0,template:"<span><phx-newsletter-signup /></span>"}}).directive("phxAdvertisingCard",phxAdvertisingCard).directive("phxCollectionCard",phxCollectionCard).directive("phxContentStripCard",phxCollectionCard).directive("phxProgrammedContentItemCard",function(){return{restrict:"E",replace:!0,template:'<article phx-content-item="item" phx-primary-image-profile="{{card.cardTypeData.imageProfile}}"/>',link:function(scope){scope.card.cardData.componentDataPromise.then(function(data){data&&data.item&&(scope.item=data.item)})}}}).directive("phxHeadingCard",function(){return{restrict:"E",replace:!0,template:'<div class="m-compilation"><h1 class="m-compilation--hed" phx-skin-bgimg="card.cardData.heading"></h1></div>'}})}),define("phxData/services/phxDataLoader",[],function(){return["$q","phxDataLoaderImpl","phxAugmentAny",function($q,phxDataLoaderImpl,phxAugmentAny){var ContentCollection=function(streamer,postprocessor){this._streamer=streamer,this._postprocessor=postprocessor,this.items=streamer.items,this.hasMoreItems=!0,this.loading=!1;var self=this;streamer.watchMoreItems(function(itemIndex){if(self._loadingDeferred){var deferred=self._loadingDeferred;if(self._loadingDeferred=null,self.items=streamer.items,self._postprocessor)return self._postprocessor(self,itemIndex).then(function(){self._completeWatchMoreItems(deferred,itemIndex)});self._completeWatchMoreItems(deferred,itemIndex)}})};return ContentCollection.prototype={loadMoreItems:function(){if(this._loadingDeferred)return this._loadingDeferred.promise;var deferred=$q.defer();return this._loadingDeferred=deferred,this._streamer.loadMoreItems(),this.loading=!0,deferred.promise},_completeWatchMoreItems:function(deferred,itemIndex){this.loading=!1,this.hasMoreItems=this._streamer.hasMoreItems,deferred.resolve(itemIndex)}},{getCollection:function(options,augmentProfile){var augmentPostProcessor=function(collection,itemIndex){return phxAugmentAny.augmentStreamerArray(collection,itemIndex,augmentProfile)};return phxDataLoaderImpl.getCollection(options).then(function(streamer){var collection=new ContentCollection(streamer,augmentPostProcessor);return collection.loadMoreItems().then(function(){return collection})})},getItem:function(options,augmentProfile){return phxDataLoaderImpl.getItem(options).then(function(item){return phxAugmentAny.augment(item,augmentProfile)})}}}]}),define("filament/flmStreamer",[],function(){var notifyCallbacks=function(callbacks,thisArg,args){for(var i=0;i<callbacks.length;i++)callbacks[i].apply(thisArg,args)},getOperationInfo=function(op){var isStream=op.queryParams.hasOwnProperty("startToken"),isList=op.queryParams.hasOwnProperty("offset"),isActionStream=null!==op.paramType&&!isList&&!isStream&&op.paramType.properties&&op.returnType.properties&&op.paramType.properties.hasOwnProperty("startToken")&&op.returnType.properties.hasOwnProperty("moreResultsToken");return{isStream:isStream,isList:isList,isActionStream:isActionStream,hasQueryParams:Object.keys(op.queryParams).length>0}},reset=function(){this.items=[],this.hasMoreItems=!0,this.nextRequestTokenValue=null,this.currentOperation.queryParams.startToken?this.nextRequestTokenArg="startToken":this.currentOperation.queryParams.offset?(this.nextRequestTokenArg="offset",this.nextRequestTokenValue=1):this.nextRequestTokenArg=null,notifyCallbacks(this.resetCallbacks,this,[])},Streamer=function(config){this.operations=config.operations,this.currentOperation=this.operations[config.initialOperationKey],this.currentOperationKey=config.initialOperationKey,this.ac=config.initialAc,this.q=config.initialQ,this.filterBy=config.initialFilterBy,this.sort=config.initialSort,this.limit=config.initialLimit,this.relatedData={},this.loadingCallbacks=[],this.moreItemsCallbacks=[],this.resetCallbacks=[],this.currentOperationParameters="operationParameters"in config?config.operationParameters:[],reset.apply(this)};return Streamer.prototype={getOperationInfo:function(op){return getOperationInfo(op)},changeOperation:function(operationKey,paramList){var newOperation=this.operations[operationKey],newParams="undefined"==typeof paramList?[]:paramList;(newOperation!==this.currentOperation||newParams.toString()!==this.currentOperationParameters.toString())&&(this.currentOperation=newOperation,this.currentOperationKey=operationKey,this.currentOperationParameters=newParams,reset.apply(this))},setOperationParameters:function(paramList){this.currentOperationParameters=paramList,reset.apply(this)},changeLimit:function(limit){limit!==this.limit&&(this.limit=limit,reset.apply(this))},changeAc:function(ac){ac!==this.ac&&(this.ac=ac,reset.apply(this))},changeQ:function(q){q!==this.q&&(this.q=q,reset.apply(this))},changeFilterBy:function(filterBy){JSON.serialize(filterBy)!==JSON.serialize(this.filterBy)&&(this.filterBy=filterBy,reset.apply(this))},changeSort:function(sort){sort!==this.sort&&(this.sort=sort,reset.apply(this))},loadMoreItems:function(){if(this.hasMoreItems&&!this.currentRequest){var endpointInfo=getOperationInfo(this.currentOperation),options={};if(null!==this.nextRequestTokenValue&&(options[this.nextRequestTokenArg]=this.nextRequestTokenValue),null!==this.q&&void 0!==this.q&&(options.q=this.q),null!==this.filterBy&&void 0!==this.filterBy)for(var k in this.filterBy)this.filterBy.hasOwnProperty(k)&&(options["filterBy"+k.charAt(0).toUpperCase()+k.slice(1)]=this.filterBy[k]);null!==this.ac&&void 0!==this.ac&&(options.ac=this.ac),null!==this.sort&&void 0!==this.sort&&(options.sort=this.sort),null!==this.limit&&void 0!==this.limit&&(options.limit=this.limit);var operationParams=JSON.parse(JSON.stringify(this.currentOperationParameters));if(endpointInfo.isActionStream)for(var name in options)options.hasOwnProperty(name)&&(operationParams[operationParams.length-1][name]=options[name]);else endpointInfo.hasQueryParams&&operationParams.push(options);if(operationParams.length!==this.currentOperation.expectedParamCount){var errorMessage=this.currentOperation.nounName+"."+this.currentOperation.operationName+" expects "+this.currentOperation.expectedParamCount+" parameters but "+operationParams.length+" are configured";throw new Error(errorMessage)}var myself=this;notifyCallbacks(this.loadingCallbacks,this,[!0]),this.currentRequest=this.currentOperation.apply(null,operationParams),this.currentRequest.then(function(response){notifyCallbacks(myself.loadingCallbacks,myself,[!1]),myself.currentRequest=null;var newItems=response.entries;0===newItems.length&&(myself.hasMoreItems=!1),myself.relatedData&&angular.forEach(newItems,function(item){for(var name in myself.relatedData){var callback=myself.relatedData[name];item.related||(item.related={}),item.related[name]=callback(item)}});var newItemsIndex=myself.items.length;myself.items=myself.items.concat(newItems),myself.hasMoreItems&&("offset"===myself.nextRequestTokenArg?myself.nextRequestTokenValue+=newItems.length:response.moreResultsToken?(myself.nextRequestTokenArg="startToken",myself.nextRequestTokenValue=response.moreResultsToken):myself.hasMoreItems=!1),notifyCallbacks(myself.moreItemsCallbacks,myself,[newItemsIndex])},function(error){throw notifyCallbacks(myself.loadingCallbacks,myself,[!1]),myself.currentRequest=null,error})}},refresh:function(){reset.apply(this),this.loadMoreItems()},watchLoading:function(callback){this.loadingCallbacks.push(callback)},watchMoreItems:function(callback){this.moreItemsCallbacks.push(callback)},watchReset:function(callback){this.resetCallbacks.push(callback)},addRelatedData:function(name,callback){this.relatedData[name]=callback}},Streamer}),define("phxData/services/phxDataLoaderImpl",["filament/flmStreamer"],function(flmStreamer){var StaticStreamer=function(items){this.items=items,this.moreItemsCallbacks=[]};return StaticStreamer.prototype={loadMoreItems:function(){for(var i=0;i<this.moreItemsCallbacks.length;i++)this.moreItemsCallbacks[i].apply(this,[0]);this.moreItemsCallbacks=[]},watchMoreItems:function(callback){this.moreItemsCallbacks.push(callback)},watchLoading:function(){}},["$routeParams","$interpolate","Config","$q","phxApiClient","phxAugmentPerson","phxTheplatformVideoService","phxCategorizr","$rootScope","phxMultiStreamer","$location",function($routeParams,$interpolate,Config,$q,phxApiClient,phxAugmentPerson,phxTheplatformVideoService,phxCategorizr,$rootScope,phxMultiStreamer,$location){function applyBlockOverrides(contentItemWithBlock){var contentItem=contentItemWithBlock.contentItem,blockItem=contentItemWithBlock.blockItem;return"ContentArticle"===contentItem.objectType?(contentItem.label=blockItem.overrideLabel||contentItem.section,contentItem.primaryImageId=blockItem.overridePromoPhotoId||contentItem.primaryImageId,contentItem.promoTitle=blockItem.overridePromoTitle||contentItem.promoTitle,contentItem.isImageOnly=blockItem.isImageOnly):"ContentBasicPage"===contentItem.objectType?(contentItem.label=blockItem.overrideLabel||Config.siteName,contentItem.primaryImageId=blockItem.overridePromoPhotoId||contentItem.primaryImageId,contentItem.promoTitle=blockItem.overridePromoTitle||contentItem.promoTitle,contentItem.isImageOnly=blockItem.isImageOnly):"ContentProduct"===contentItem.objectType?(contentItem.label=blockItem.overrideLabel||contentItem.category,contentItem.productTitle=blockItem.overridePromoTitle||contentItem.productTitle,contentItem.primaryImageId=blockItem.overridePromoPhotoId||contentItem.primaryImageId,contentItem.promoTitle=blockItem.overridePromoTitle||contentItem.promoTitle,contentItem.isImageOnly=blockItem.isImageOnly):"ContentPerson"===contentItem.objectType?(contentItem.label=blockItem.overrideLabel||"Person",contentItem.primaryImageId=blockItem.overridePromoPhotoId||contentItem.primaryImageId,contentItem.promoTitle=blockItem.overridePromoTitle||contentItem.promoTitle,contentItem.isImageOnly=blockItem.isImageOnly):"ContentRecipe"===contentItem.objectType?(contentItem.label=blockItem.overrideLabel||"Recipe",contentItem.primaryImageId=blockItem.overridePromoPhotoId||contentItem.primaryImageId,contentItem.promoTitle=blockItem.overridePromoTitle||contentItem.promoTitle,contentItem.isImageOnly=blockItem.isImageOnly):"ContentReference"===contentItem.objectType?(contentItem.label=blockItem.overrideLabel||"Link",contentItem.primaryImageId=blockItem.overridePromoPhotoId||contentItem.primaryImageId,contentItem.promoTitle=blockItem.overridePromoTitle||contentItem.promoTitle,contentItem.isImageOnly=blockItem.isImageOnly):"ContentRichTerm"===contentItem.objectType&&(contentItem.label=blockItem.overrideLabel||contentItem.objectType,contentItem.primaryImageId=blockItem.overridePromoPhotoId||contentItem.primaryImageId,contentItem.promoTitle=blockItem.overridePromoTitle||contentItem.promoTitle,contentItem.isImageOnly=blockItem.isImageOnly),contentItem}return{getCollection:function(options){var authorSlug,params;if(options.multiplex){for(var streams=[],i=0,l=options.multiplex.length;l>i;i++)options.multiplex[i].initialLimit=options.initialLimit,streams.push(this.getCollection(options.multiplex[i]));return $q.when(new phxMultiStreamer(streams,options.initialLimit))}if(options.contentEmbeds&&options.contentEmbeds.byAuthorProfileSlugs&&options.contentEmbeds.byHashtags)return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getEmbedsByAuthorProfileSlugsAndHashtags},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,options.contentEmbeds.byAuthorProfileSlugs.join(","),options.contentEmbeds.byHashtags.join(",")]}));if(options.contentEmbeds&&options.contentEmbeds.byAuthorProfileSlugs)return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getEmbedsByAuthorProfileSlugs},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,options.contentEmbeds.byAuthorProfileSlugs.join(",")]}));if(options.contentItems&&options.contentItems.byBlocks&&!options.contentItems.byTime)return phxApiClient.anon.contentSites.getPublishedWithBlockItemsByBlocks(Config.siteId,options.contentItems.byBlocks.join(","),{limit:1}).then(function(result){var items=[];return angular.forEach(options.contentItems.byBlocks,function(token){result.entryMap[token]&&result.entryMap[token].length>0&&items.push(applyBlockOverrides(result.entryMap[token][0]))}),new StaticStreamer(items)});if(options.contentItems&&options.contentItems.byBlocks&&options.contentItems.byTime){var timeStr=$interpolate(options.contentItems.byTime)($routeParams),timeInt=parseInt(timeStr,10),timeApi=new Date(timeInt).toISOString();return phxApiClient.contentSites.getPublishedWithBlockItemsByBlocksAndTime(Config.siteId,options.contentItems.byBlocks.join(","),timeApi,{limit:1}).then(function(result){var items=[];return angular.forEach(options.contentItems.byBlocks,function(token){result.entryMap[token]&&result.entryMap[token].length>0&&items.push(applyBlockOverrides(result.entryMap[token][0]))}),new StaticStreamer(items)})}if(options.contentArticles&&options.contentArticles.byTag){var tag=$interpolate(options.contentArticles.byTag)($routeParams);return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedArticlesByTag},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,tag]}))}if(options.contentArticles&&options.contentArticles.bySection){var sectionKey=$interpolate(options.contentArticles.bySection)($routeParams);return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedArticlesBySection},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,sectionKey]}))}if(options.contentArticles&&options.contentArticles.byAuthor)return authorSlug=$interpolate(options.contentArticles.byAuthor)($routeParams),$q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedArticlesByAuthorProfileSlug},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,authorSlug]}));if(options.contentArticles&&options.contentArticles.byTrendingAlgo){var algo=options.contentArticles.byTrendingAlgo;return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getTrendingContentArticlesByAlgo},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,algo]}))}if(options.contentItems&&options.contentItems.byItem&&options.contentItems.byContentType)return this.getItem(options.contentItems.byItem).then(function(item){return item?new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedItemsByRichTermAndType},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,item.id,options.contentItems.byContentType]}):new StaticStreamer([])});if(options.contentItems&&options.contentItems.byQuery){var query=$interpolate(options.contentItems.byQuery)($routeParams);if(!query)return $q.when(new StaticStreamer([]));var filterBy=null;options.contentItems.byTypes&&(filterBy={types:options.contentItems.byTypes.sort().join(",")}),params=[Config.siteId];var op;return options.contentItems.byTemplate?(params.push(options.contentItems.byTemplate),op=phxApiClient.anon.contentSites.getPublishedItemsByQueryTemplate):op=phxApiClient.anon.contentSites.getPublishedItems,$q.when(new flmStreamer({operations:{op:op},initialOperationKey:"op",initialLimit:options.initialLimit,initialQ:query,initialFilterBy:filterBy,operationParameters:params}))}if(options.contentArticles&&options.contentArticles.byExcludedObjects)return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedArticlesByExcludedObjects},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,options.contentArticles.byExcludedObjects.sort().join(",")]}));if(options.contentArticles)return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedArticles},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId]}));if(!options.contentCustoms||!options.contentCustoms.byItem){if(options.contentCustoms&&options.contentCustoms.byAuthor)return authorSlug=$interpolate(options.contentCustoms.byAuthor)($routeParams),$q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedContentCustomsByAuthorProfileSlug},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId,authorSlug]}));if(options.contentCustoms&&options.contentCustoms.byContentType){var customContentOp;return params=[Config.siteId,options.contentCustoms.byContentType],options.contentCustoms.byAuthor?(authorSlug=$interpolate(options.contentCustoms.byAuthor)($routeParams),customContentOp=phxApiClient.anon.contentSites.getPublishedContentCustomsByCustomTypeAndAuthorProfileSlug,params.push(authorSlug)):customContentOp=phxApiClient.anon.contentSites.getPublishedContentCustomsByCustomType,$q.when(new flmStreamer({operations:{op:customContentOp},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:params}))}if(options.relatedContentItems&&options.relatedContentItems.byItem)return this.getItem(options.relatedContentItems.byItem).then(function(item){return item?new flmStreamer({operations:{op:phxApiClient.anon.contentCustoms.getPublishedRelatedContent},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[item.id]}):new StaticStreamer([])});if(options.relatedContentArticles&&options.relatedContentArticles.byItem)return this.getItem(options.relatedContentArticles.byItem).then(function(item){return item?new flmStreamer({operations:{op:phxApiClient.anon.contentArticles.getPublishedRelatedArticles},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[item.id]}):new StaticStreamer([])});if(options.popularContentArticles)return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPopularContentArticles},initialOperationKey:"op",operationParameters:[Config.siteId]}));if(options.contentProducts)return $q.when(new flmStreamer({operations:{op:phxApiClient.anon.contentSites.getPublishedProducts},initialOperationKey:"op",initialLimit:options.initialLimit,operationParameters:[Config.siteId]}));if(options.recentlyMentionedContentProducts)return phxApiClient.anon.contentSites.getRecentlyMentionedProducts(Config.siteId,{limit:options.initialLimit}).then(function(result){return new StaticStreamer(result.entries)});if(options.empty)return $q.when(new StaticStreamer([]));throw new Error("Invalid parameters to getCollection")}return"theplatform"===options.contentCustoms.externalProvider?this.getItem(options.contentCustoms.byItem).then(function(item){phxAugmentPerson.augment(item,{loadPrimaryImage:!1});var videos=[],ids=[],byId={},sortedVideos=[],sel='div[tml-external-provider="theplatform"]';return angular.forEach(angular.element(item.profileTml).find(sel),function(el){var elem=angular.element(el),anchor=angular.element(el.parentElement).attr("tml-anchor"),id=elem.attr("tml-external-id").split(":")[1];ids.push(id),byId[id]={objectType:"ContentVideo",id:id,relativeUrl:elem.attr("tml-external-provider-theplatform-path")||item.relativeUrl+"/videos/"+anchor},videos.push(byId[id])}),phxTheplatformVideoService.getVideoFeedById(ids.join(",")).then(function(pList){var sorted,matches=item.slug.match(/-(\d+)$/);return matches&&(sorted=phxTheplatformVideoService.sortByPrimaryProfile(pList,matches[1])),angular.forEach(sorted||pList,function(feedItem){var video=byId[feedItem.videoTpID];video.feedItem=feedItem,sortedVideos.push(video)}),new StaticStreamer(sortedVideos)
})}):void 0},getItem:function(options){if(options.useMasterItem){var deferred=$q.defer();return $rootScope.$on("phxPage::masterItemLoaded",function(evt,item){deferred.resolve(item)}),deferred.promise}if(options.byBlock&&!options.byTime)return this.getItemByBlock($interpolate(options.byBlock)($routeParams));if(options.byBlock&&options.byTime){var timeStr=$interpolate(options.byTime)($routeParams);return this.getItemByBlockAndTime(options.byBlock,timeStr)}if(!(options.byContentType&&options.bySlug&&options.byTmlAnchor)){if(options.byContentType&&options.bySlug)return this.getItemByContentTypeAndSlug(options.byContentType,options.bySlug);if(options.byContentType&&options.byId&&options.byVersion)return this.getItemByContentTypeIdAndVersion(options.byContentType,options.byId,options.byVersion);if(options.byId){var id=$interpolate(options.byId)($routeParams);return phxApiClient.contentItems.get(id)}throw new Error("Invalid parameters to getItem")}return"theplatform"===options.externalProvider?this.getItemByContentTypeAndSlug(options.byContentType,options.bySlug).then(function(item){phxAugmentPerson.augment(item,{loadPrimaryImage:!1});var anchor=$interpolate(options.byTmlAnchor)($routeParams),anchorEl=angular.element(item.profileTml).find('div[tml-anchor="'+anchor+'"]'),fallbackToPerson=function(){$location.path($location.path().replace(/\/videos\/.+$/,"")),$location.replace()};if(!anchorEl.length)return fallbackToPerson(),null;var externalEl=anchorEl.find('div[tml-external-provider="theplatform"]');if(!externalEl.length)return fallbackToPerson(),null;var id=externalEl.attr("tml-external-id");return{objectType:"ContentVideo",id:id.split(":")[1],source:item,relativeUrl:item.relativeUrl+"/videos/"+angular.element(externalEl[0].parentElement).attr("tml-anchor")}}):void 0},getItemByContentTypeIdAndVersion:function(contentType,id,version){return id=$interpolate(id)($routeParams),version=$interpolate(version)($routeParams),"ContentProduct"===contentType?phxApiClient.contentProducts.getVersion(id,version):phxApiClient.contentCustoms.getVersion(id,version)},getItemByContentTypeAndSlug:function(contentType,slug){slug=$interpolate(slug)($routeParams);var handleSlugLookup=function(result){return result.entries.length?result.entries[0]:void 0};return"ContentArticle"===contentType?phxApiClient.anon.contentSites.getPublishedArticlesBySlug(Config.siteId,slug).then(handleSlugLookup):"ContentProduct"===contentType?phxApiClient.anon.contentSites.getPublishedProductsBySlug(Config.siteId,slug).then(handleSlugLookup):phxApiClient.anon.contentSites.getPublishedContentCustomsByCustomTypeAndSlug(Config.siteId,contentType,slug).then(handleSlugLookup)},getItemByBlock:function(blockToken){return phxApiClient.anon.contentSites.getPublishedWithBlockItemsByBlocks(Config.siteId,blockToken,{limit:1}).then(function(result){var hero=[];return angular.forEach(result.entryMap,function(item,key){key===blockToken&&item.length>0&&hero.push(applyBlockOverrides(item[0]))}),hero.length?hero[0]:void 0})},getItemByBlockAndTime:function(blockToken,timeStr){var timeInt=parseInt(timeStr,10),timeApi=new Date(timeInt).toISOString();return phxApiClient.contentSites.getPublishedWithBlockItemsByBlocksAndTime(Config.siteId,blockToken,timeApi,{limit:1}).then(function(result){var hero=[];return angular.forEach(result.entryMap,function(item,key){key===blockToken&&item.length>0&&hero.push(applyBlockOverrides(item[0]))}),hero.length?hero[0]:void 0})}}}]}),define("phxData/services/phxAugmentAny",[],function(){return["phxAugmentArticle","phxAugmentBasicPage","phxAugmentPerson","phxAugmentProduct","phxAugmentRecipe","phxAugmentReference","phxAugmentRichTerm","phxAugmentUserProfile","phxAugmentVideo","$q","phxAugmentProfiles",function(phxAugmentArticle,phxAugmentBasicPage,phxAugmentPerson,phxAugmentProduct,phxAugmentRecipe,phxAugmentReference,phxAugmentRichTerm,phxAugmentUserProfile,phxAugmentVideo,$q,phxAugmentProfiles){var AUGMENT_SERVICES={ContentArticle:phxAugmentArticle,ContentBasicPage:phxAugmentBasicPage,ContentPerson:phxAugmentPerson,ContentProduct:phxAugmentProduct,ContentRecipe:phxAugmentRecipe,ContentReference:phxAugmentReference,ContentRichTerm:phxAugmentRichTerm,ContentUserProfile:phxAugmentUserProfile,ContentVideo:phxAugmentVideo};return{augment:function(item,augmentProfile){if(item&&item.objectType&&augmentProfile){var augmentService=AUGMENT_SERVICES[item.objectType],augmentOptions=phxAugmentProfiles[augmentProfile]?phxAugmentProfiles[augmentProfile][item.objectType]:null;if(augmentService&&augmentOptions)return augmentService.augment(item,augmentOptions).then(function(){return item})}return $q.when(item)},augmentArray:function(items,augmentProfile,startIndex){for(var itemsByType={},i=startIndex||0;i<items.length;i++){var item=items[i];itemsByType[item.objectType]||(itemsByType[item.objectType]=[]),itemsByType[item.objectType].push(item)}var augmentPromises=[];return angular.forEach(itemsByType,function(items,type){var augmentService=AUGMENT_SERVICES[type],augmentOptions=phxAugmentProfiles[augmentProfile]?phxAugmentProfiles[augmentProfile][type]:null;augmentService&&augmentOptions&&augmentPromises.push(augmentService.augmentArray(items,augmentOptions))}),$q.all(augmentPromises).then(function(){return items})},augmentStreamerArray:function(streamer,startIndex,augmentProfile){return this.augmentArray(streamer.items,augmentProfile,startIndex).then(function(){return streamer})}}}]}),define("phxData/services/phxAugmentProfiles",{summary:{ContentArticle:{displayPromoTitle:!0,loadAuthor:!0,loadAuthorPhoto:!1,loadSection:!0,loadPrimaryImage:!1,loadPrimaryImage2:!0},ContentRichTerm:{displayPromoTitle:!0,loadPrimaryImage:!1,loadPrimaryImage2:!0},ContentPerson:{displayPromoTitle:!0,loadAuthor:!0,loadAuthorPhoto:!1,loadSection:!0,loadPrimaryImage:!1,loadPrimaryImage2:!0},ContentProduct:{displayPromoTitle:!0,loadPrimaryImage:!1,loadPrimaryImage2:!0},ContentReference:{displayPromoTitle:!0,loadPrimaryImage:!1,loadPrimaryImage2:!0},ContentRecipe:{displayPromoTitle:!0,loadAuthor:!0,loadAuthorPhoto:!1,loadPrimaryImage:!0,loadPrimaryImage2:!0}},details:{}}),define("phxData/module",["phxData/services/phxDataLoader","phxData/services/phxDataLoaderImpl","phxData/services/phxAugmentAny","phxData/services/phxAugmentProfiles"],function(phxDataLoader,phxDataLoaderImpl,phxAugmentAny,phxAugmentProfiles){return angular.module("phxData",[]).service("phxDataLoader",phxDataLoader).service("phxDataLoaderImpl",phxDataLoaderImpl).service("phxAugmentAny",phxAugmentAny).constant("phxAugmentProfiles",phxAugmentProfiles)}),angular.module("base-config",[]).provider("BaseConfig",function(){var config={siteKeyword:window.phxEnv.siteKeyword,performance:.2,mediaBreakPoints:[0,300,675,1023],gallery:{buffer:{prev:3,next:3},social:[]},coverlines2:{enabledOn:{breakpoint:["B","C","D"]},blockTokens:["all_coverline1","all_coverline2","all_coverline3","all_coverline4","all_coverline5"]},cards:{defaultCardType:"random",types:{standard:{classes:["l-tile_single"],columns:1,weight:8,imageProfile:"standardCard"},image:{classes:["l-tile_single","mm-card_image"],columns:1,weight:4,imageProfile:"imageCard"},text:{classes:["l-tile_single","mm-card_text"],columns:1,weight:4,imageProfile:null},"double":{classes:["l-tile_double","mm-card_image"],columns:2,weight:2,imageProfile:"doubleImageCard"},doubleSideBySide:{classes:["l-tile_double","mm-card_image","mm-side_by_side"],columns:1.5,weight:0,imageProfile:"doubleSideBySideImageCard"},full:{classes:["l-tile_full","mm-card_image"],columns:"full",weight:0,imageProfile:"tripleImageCard"},adaptive:{classes:["l-tile_adaptive"],columns:"full"},breakSingle:{classes:["l-tile_single"],columns:1,weight:4,imageProfile:"imageCard"},"break":{classes:["l-tile_strip"],columns:"full",fallBackType:"breakSingle",weight:0},"list-standard":{classes:["l-tile_list"],columns:"full",weight:0,imageProfile:"standardCard"}}},social:{showSocialToolsCommentButton:!0,showSocialToolsPrintButton:!1,enableSharingCounts:!0,minForDisplay:50,shareButtons:[]},ad:{enabled:!0,adServer:"Test",server:{Pigeon:{scriptUrl:"//ads.saymedia.com/"},Test:{contentAdjacent300x600:{enabled:!0,dimensions:["300px","600px"],wait:3e3},iab:{enabled:!0,dimensions:["300px","250px"]},inline:{enabled:!0,dimensions:["100%","480px"],wait:2e3},fill:{enabled:!0,dimensions:["100%","100%"]},iabBackfill1:{enabled:!0,dimensions:["300px","250px"]},iabBackfill2:{enabled:!0,dimensions:["300px","250px"]},mobileFixedBottom:{enabled:!0,dimensions:["320px","50px"],fixed:"bottom"}}},integrations:{pigeon:{},debug:{contentAdjacent300x600:"ai015433557d10970c0168e6337e14970c",iab:"ai017c344dcc79970b01b2d9813155860c",inline:"ai015433557d10970c01a3fcda7d61970b",fill:"ai015433557d10970c01a511c85d56970c",iabBackfill1:"ai015433557d10970c01a3fcbc1099970b",iabBackfill2:"ai015433557d10970c01a3fcbc5a6a970b",iabBackfillBanner:"ai015433557d10970c01a3fcbc5a6a970b",mobileFixedBottom:"ai015433557d10970c019b01a8fda6970b","adaptive-top":"ai015433557d10970c01be6e04c0002a83","adaptive-above_headline":"ai015433557d10970c01be6e04c0002a83","adaptive-below_headline":"ai015433557d10970c01be6e04c0002a83","iabBackfillBanner-top":"ai015433557d10970c01c5c24e80002a83","iabBackfillBanner-above_headline":"ai015433557d10970c01c5c24e80002a83","iabBackfillBanner-below_headline":"ai015433557d10970c01c5c24e80002a83","iabBackfill-top":"ai015433557d10970c01c6bfa1a00099de","iabBackfill-above_headline":"ai015433557d10970c01c6bfa1a00099de","iabBackfill-below_headline":"ai015433557d10970c01c6bfa1a00099de",backfill:["ai015433557d10970c01a3fcbc1099970b","ai015433557d10970c01a3fcbc5a6a970b","ai015433557d10970c01a3fcbc5a9d970b","ai015433557d10970c01a73d7768be970d"]}},detailPageViewportSpacing:{300:3,675:1.8,1023:1.8,136e3:1.8},detailAddlPageViewportSpacing:{300:4,675:4,1023:4,136e3:4},sponsorship:{item:{inline:!0,contentAdjacent300x600:!0},section:{fill:!0,inline:!0,contentAdjacent300x600:!0}}},analytics:{providers:{GoogleAnalytics:{tempestTrackingId:"UA-1778701-17",tempestDomain:"alltempest.saymedia.com"},Comscore:"6036036",Quantcast:{qacctGlobal:"p-afR4Gk3hyFg-2"}}},brandedContent:{cardDisclosureCaption:"Sponsored Story"},features2:{flags:{"sticky-nav":{enabled:0,publicUrlOverride:!0,owner:"dlerman",startDate:"02-05-2015"},transitions:{enabled:0,publicUrlOverride:!0,owner:"dlerman",startDate:"02-05-2015"}}},embedly:{apiKey:"3c204f45f6d34b709cdc1985cbcc404c"}};this.$get=function(){return config}}),define("baseconfig",function(){}),angular.module("demo-config",[]).constant("BuildDemoConfig",function(demoConfig){function titleCase(s){return s.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase().replace(/-/g," ")})}function augmentSections(sections){var ret={};for(var key in sections)ret[key]=$.extend(!0,{displayName:titleCase(key),sectionKey:key,sectionImage:"site/images/section-default.jpg",metaDescription:key,tocClassName:key,hero:{heading:{title:titleCase(key),imageUrl:"/site/images/section-hub-header-overlay-default.svg"}}},sections[key]);return ret}var siteName=demoConfig.siteName||"",combinedConfig=$.extend(!0,{copyrightHolder:"SAY Media, Inc.",logo:{heading:{title:siteName,imageUrl:demoConfig.headingLogo||"/site/images/site-logo.svg"},nav:{title:siteName,imageUrl:demoConfig.navLogo||"/site/images/site-logo.svg"}},siteId:window.phxEnv.siteId,timezone:"US/Pacific",timezoneOffset:-8,siteName:siteName,siteSlogan:siteName,siteNameForCitation:siteName,siteHtmlTitle:siteName,siteMetaDescription:siteName,siteUrl:"http://phoenix-demo.saymedia.com",siteProductionDomain:"phoenix-demo.saymedia.com",googleSiteVerificationToken:"1234567890",typekitId:"hpn8lcc",routes:[{path:"/err/page-not-found",keyword:"404",bodyClasses:"l-404",viewMeta:{title:"Page not found"},components:[{type:"error",isMaster:!0,code:404}]},{path:"/err/application-error",keyword:"500",bodyClasses:"l-404",viewMeta:{title:"Application error"},components:[{type:"error",isMaster:!0,code:500}]},{path:"/err/firewall-error",keyword:"503",bodyClasses:"l-404",viewMeta:{title:"Site blocked"},components:[{type:"error",isMaster:!0,code:503}]},{path:"/legacy-page-url/special-page",keyword:"redirectionExampleWithParams",redirect:{routeKeyword:"tagHub",type:301,routeParams:{tag:"mytag"}}},{path:"/legacy-page-url/:slug",keyword:"redirectionExample",redirect:{routeKeyword:"contentBasicPageDetail",type:301}},{path:"/legacy-page-url/:slug/:images/:subSlug",keyword:"redirectionExample",redirect:{routeKeyword:"contentBasicPageDetail",type:301,hashParams:["images","subSlug"]}},{path:"/author/:author/summary.rss",keyword:"authorHubRss",rss:{fullContent:!1}},{path:"/author/:author/full.rss",keyword:"authorHubRssFull",rss:{fullContent:!0}},{path:"/author/:author",keyword:"authorHub",components:[{type:"authorHeader",authorSlug:"{{author}}",isMaster:!0},{type:"contentFeed",collection:{contentArticles:{byAuthor:"{{author}}"},initialLimit:24},ads:!0,heading:{title:"Stories By This Author",imageUrl:"/site/images/hub-stream-heading-author-articles.svg"}}]},{path:"/sitemaps/static.xml",keyword:"staticSitemap",sitemap:{defaultChangeFreq:"weekly"}},{path:"/sitemaps/sections.xml",keyword:"sectionSitemap",sitemap:{operation:"getSectionSitemapEntries",locKeyword:"sectionHub",defaultChangeFreq:"weekly"}},{path:"/sitemaps/user-profiles.xml",keyword:"userProfileSitemap",sitemap:{operation:"getContentUserProfileSitemapEntries",locKeyword:"authorHub",defaultChangeFreq:"weekly"}},{path:"/sitemaps/basic-pages.xml",keyword:"contentBasicPageSitemap",sitemap:{operation:"getWithoutImagesContentCustomSitemapEntriesByCustomType",customType:"ContentBasicPage",locKeyword:"contentBasicPageDetail",defaultChangeFreq:"weekly"}},{path:"/sitemaps/articles/:year.xml",keyword:"articleSitemap",sitemap:{operation:"getContentArticleSitemapEntriesByYear",locKeyword:"articleDetail",defaultChangeFreq:"weekly",startYear:2012}},{path:"/news-sitemap.xml",keyword:"newsSitemap",sitemap:{operation:"getPublishedArticles",locKeyword:"articleDetail",prevHoursToDisplay:48}},{path:"/page/:slug",keyword:"contentBasicPageDetail",components:[{type:"detail",isMaster:!0,item:{byContentType:"ContentBasicPage",bySlug:"{{slug}}"}}]},{path:"/summary.rss",keyword:"coverHubRss",rss:{fullContent:!1}},{path:"/full.rss",keyword:"coverHubRssFull",rss:{fullContent:!0}},{path:"/",keyword:"coverHub",includeInStaticSitemap:!0,components:[{type:"hero",item:{byBlock:"cover_hero"}},{type:"subhero",collection:{contentItems:{byBlocks:["cover_subhero1","cover_subhero2","cover_subhero3","cover_subhero4"]}}},{type:"contentFeed",isMaster:!0,collection:{contentArticles:{byExcludedBlocks:["cover_hero","cover_subhero1","cover_subhero2","cover_subhero3","cover_subhero4"]},initialLimit:24},heading:{title:"Recent Stories",imageUrl:"/site/images/hub-stream-heading-cover.svg"},ads:!0}]},{path:"/preview/home/:previewTime",keyword:"previewCoverHub",components:[{type:"hero",item:{byBlock:"cover_hero",byTime:"{{previewTime}}"}},{type:"subhero",collection:{contentItems:{byBlocks:["cover_subhero1","cover_subhero2","cover_subhero3","cover_subhero4"],byTime:"{{previewTime}}"}}},{type:"contentFeed",isMaster:!0,collection:{contentArticles:{},initialLimit:24},heading:{title:"Recent Stories",imageUrl:"/site/images/hub-stream-heading-cover.svg"}}]},{path:"/search/:query?",keyword:"searchQuery",viewMeta:{title:'{{query ? "Search for \\"" + query + "\\"" :  "Search"}}',description:"Search our articles at Lorem Ipsum"},components:[{type:"search",htmlClasses:"search-icon",routeKeyword:"searchQuery",placeHolder:"Search",searchQuery:"{{query}}"},{type:"contentFeed",isMaster:!0,collection:{contentItems:{byQuery:"{{query}}"}}}]},{path:"/tag/:tag",keyword:"tagHub",components:[{type:"tagHeader",isMaster:!0,tag:"{{tag}}"},{type:"contentFeed",collection:{contentArticles:{byTag:"{{tag}}"},initialLimit:24},ads:!0,heading:{title:"Fresh Stories",imageUrl:"/site/images/hub-stream-heading-cover.svg"}}]},{path:"/tag/:tag/feed",keyword:"tagHubRssFull",rss:{fullContent:!0}},{path:"/toc",keyword:"toc",redirect:{routeKeyword:"contentBasicPageDetail",type:301,routeParams:{slug:"topics"}}},{path:"/styleguide/:partial",keyword:"styleguide",components:[{type:"include",partial:"/site/styleguide/{{partial}}.html",title:"{{partial}}",isMaster:!0}]},{path:"/preview/page/:id/:version/:dummy",keyword:"preview:contentBasicPageDetail",components:[{type:"detail",isMaster:!0,item:{byContentType:"ContentBasicPage",byId:"{{id}}",byVersion:"{{version}}"}}]},{path:"/preview/article/:nodeId/:itemId/:dummy",keyword:"preview:articleDetail",components:[{type:"detail",isMaster:!0,ads:!0,item:{byId:"{{itemId}}"},injectable:!0},{type:"itemComments",item:{byId:"{{itemId}}"}},{type:"contentFeed",collection:{relatedContentArticles:{byItem:{byId:"{{itemId}}"}},initialLimit:24},heading:{title:"Related Stories",imageUrl:"/site/images/hub-stream-heading-cover.svg"}}]},{path:"/preview/article/:foreignId",keyword:"preview:foreignContentDetail",components:[{type:"detail",isMaster:!0,ads:!0,item:{byForeignId:"{{foreignId}}",objectType:"ContentArticle"},injectable:!0}]},{path:"/:section/summary.rss",keyword:"sectionHubRss",rss:{fullContent:!1}},{path:"/:section/full.rss",keyword:"sectionHubRssFull",rss:{fullContent:!0}},{path:"/:section/:slug",keyword:"articleDetail",components:[{type:"detail",isMaster:!0,ads:!0,item:{byContentType:"ContentArticle",bySlug:"{{slug}}"},injectable:!0},{type:"itemComments",item:{useMasterItem:!0}},{type:"contentFeed",collection:{relatedContentArticles:{byItem:{useMasterItem:!0}},initialLimit:24},heading:{title:"Related Stories",imageUrl:"/site/images/hub-stream-heading-cover.svg"}}]},{path:"/:section",keyword:"sectionHub",components:[{type:"sectionHeader",sectionKey:"{{section}}",isMaster:!0},{type:"contentFeed",collection:{contentArticles:{bySection:"{{section}}"},initialLimit:24},ads:!0,adSection:"{{section}}",heading:{title:"Fresh Stories",imageUrl:"/site/images/hub-stream-heading-cover.svg"}}]}],hasUserModule:!1,topNav:{},footer:{},readingList:{heading:{title:"You Might Also Like",imageUrl:"/site/images/sidebar-heading-reading-list.svg"}},siteEmail:"phoenix@saymedia.com",sayChannelLabel:"Say",analytics:{providers:{Disqus:"phoenixdev",GoogleAnalytics:{trackingId:"UA-1778701-13",domain:"none"},Quantcast:{qacctSite:"p-afR4Gk3hyFg-2"},Chartbeat:{uid:24210,domain:"phoenix-demo.saymedia.com"}}},social:{enableSharingCounts:!1,links:[{name:"facebook",url:"https://www.facebook.com/SAYMediaInc",rel:"me"},{name:"twitter",url:"http://twitter.com/saymedia",rel:"me"},{name:"pinterest",url:"http://pinterest.com/saymedia",rel:"me"},{name:"instagram",url:"http://instagram.com/saymedia",rel:"me"},{name:"linkedin",url:"http://www.linkedin.com/company/1249301",rel:"me"}],services:{siteTwitterUsername:"saymedia",facebookPageId:"430022177059875",facebookAppId:"2530096808",googlePlusPublisherUrl:"https://plus.google.com/100077480873460631267"}},disqus:{shortname:"phoenixdev"},newsletter:{title:"<span>Subscribe to our weekly newsletter.</span> <span>Out every Friday.</span>",mailchimpListId:"d25db4561b",message:"Thanks for signing up! Just one more step: please check your inbox to confirm your subscription.",bgImgUrl:"/site/images/newsletter-tile.jpg"},fourohfour:{title:"404 Error",msg:"We can't find the page you requested!"},minimumBrowserVersions:{MSIE:9},contentRecommendations:{provider:"pubexchange",containerId:"pubexchange_widget2",url:"http://cdn.pubexchange.com/modules/partner/not_impossible_now"}},demoConfig);return combinedConfig.sections=augmentSections(demoConfig.sections||{}),combinedConfig}),define("democonfig",function(){}),define("phxCore/module",["filament/module","cornerstone/module","belvedere/tmlModule","phxCore/services/phxApiClient","phxCore/services/Augment","phxCore/services/AugmentCustom","phxCore/services/phxAnimation","phxCore/services/phxAugmentArticle","phxCore/services/phxAugmentBasicPage","phxCore/services/phxAugmentEmbed","phxCore/services/phxAugmentPerson","phxCore/services/phxAugmentProduct","phxCore/services/phxAugmentRecipe","phxCore/services/phxAugmentReference","phxCore/services/phxAugmentRichTerm","phxCore/services/phxAugmentUserProfile","phxCore/services/phxAugmentVideo","phxCore/services/phxBeaconClient","phxCore/services/phxBlocks","phxCore/services/phxBreakouts","phxCore/services/phxCategorizr","phxCore/services/phxContentRecommendationsUtil","phxCore/services/phxCookies","phxCore/services/phxEmbeds","phxCore/services/phxEventBus","phxCore/services/phxEventDemux","phxCore/services/phxFeatures","phxCore/services/phxFragmentUrl","phxCore/services/phxImageOptions","phxCore/services/phxImageOptionsProfiles","phxCore/services/phxMultiStreamer","phxCore/services/phxNavManager","phxCore/services/phxPage","phxCore/services/phxPageReporting","phxCore/services/phxPixelClient","phxCore/services/phxPubExchangeUtil","phxCore/services/phxReadingListUtil","phxCore/services/phxResponsiveSize","phxCore/services/phxRoute","phxCore/services/phxSectionUtil","phxCore/services/phxSitemapBuilder","phxCore/services/phxSiteProgrammingUtil","phxCore/services/phxSocial","phxCore/services/phxSocialStatsFetcher","phxCore/services/phxUtil","phxCore/services/phxViewMeta","phxCore/services/phxFullscreenUtil","phxCore/services/phxLightTmlProcessor","phxCore/controllers/phxTheplatformVideoCtrl","phxCore/directives/phxScrollTo","phxCore/directives/phxAutoFocus","phxCore/directives/phxBlockInsertion","phxCore/directives/phxBlockReplacement","phxCore/directives/phxBody","phxCore/directives/phxBreakoutDam","phxCore/directives/phxBreakoutFlow","phxCore/directives/phxBreakoutBounds","phxCore/directives/phxBrowserConstraint","phxCore/directives/phxCategorizrClass","phxCore/directives/phxCategoryNav","phxCore/directives/phxCitationFormats","phxCore/directives/phxContentArticle","phxCore/directives/phxContentEmbed","phxCore/directives/phxContentBasicPage","phxCore/directives/phxContentItem","phxCore/directives/phxContentPerson","phxCore/directives/phxContentProduct","phxCore/directives/phxContentRecipe","phxCore/directives/phxContentRecommendations","phxCore/directives/phxContentReference","phxCore/directives/phxContentRichTerm","phxCore/directives/phxContentVideo","phxCore/directives/phxCoverlines","phxCore/directives/phxDisqusThread","phxCore/directives/phxFact","phxCore/directives/phxFragmentToc","phxCore/directives/phxFreewheelAd","phxCore/directives/phxHtml","phxCore/directives/phxInteractionCount","phxCore/directives/phxLiveDate","phxCore/directives/phxNav","phxCore/directives/phxNavList","phxCore/directives/phxNewsletterSignup","phxCore/directives/phxOffCanvasNav","phxCore/directives/phxOnHeightChange","phxCore/directives/phxPage","phxCore/directives/phxPages","phxCore/directives/phxPhotoUploader","phxCore/directives/phxPinIt","phxCore/directives/phxPrimaryImage","phxCore/directives/phxReadingList","phxCore/directives/phxPubExchange","phxCore/directives/phxRelatedRichTerms","phxCore/directives/phxShareButton","phxCore/directives/phxSocialTools","phxCore/directives/phxTextCarousel","phxCore/directives/phxVideoLink","phxCore/directives/phxViewMeta","phxCore/directives/phxWordCount","phxCore/directives/phxSkinBgimg","phxCore/directives/phxSkinInline","phxCore/directives/phxZoomFullscreen","phxCore/directives/phxNativeFullscreen","phxCore/directives/phxEllipsis","phxCore/filters/phxAbbreviateNumber","phxCore/filters/phxBirthDeathYears","phxCore/filters/phxDedupeRichTerms","phxCore/filters/phxDefault","phxCore/filters/phxImageUrl","phxCore/filters/phxIsTrue","phxCore/filters/phxStripHtml","phxAnalytics/module","phxTml/module","phxComponents/module","phxComponentDetail/module","phxComponentContentFeed/module","phxComponentContentStrip/module","phxComponentError/module","phxComponentInclude/module","phxComponentHero/module","phxComponentSubHero/module","phxComponentTagHeader/module","phxComponentToaster/module","phxComponentSectionHeader/module","phxComponentAuthorHeader/module","phxComponentStaticHeader/module","phxComponentItemComments/module","phxComponentSearch/module","phxRss/module","phxAds/module","phxCards/module","phxData/module","baseconfig","democonfig"],function(filament,cornerstone,belvedere,phxApiClient,Augment,AugmentCustom,phxAnimation,phxAugmentArticle,phxAugmentBasicPage,phxAugmentEmbed,phxAugmentPerson,phxAugmentProduct,phxAugmentRecipe,phxAugmentReference,phxAugmentRichTerm,phxAugmentUserProfile,phxAugmentVideo,phxBeaconClient,phxBlocks,phxBreakouts,phxCategorizr,phxContentRecommendationsUtil,phxCookies,phxEmbeds,phxEventBus,phxEventDemux,phxFeatures,phxFragmentUrl,phxImageOptions,phxImageOptionsProfiles,phxMultiStreamer,phxNavManager,phxPage,phxPageReporting,phxPixelClient,phxPubExchangeUtil,phxReadingListUtil,phxResponsiveSize,phxRoute,phxSectionUtil,phxSitemapBuilder,phxSiteProgrammingUtil,phxSocial,phxSocialStatsFetcher,phxUtil,phxViewMeta,phxFullscreenUtil,phxLightTmlProcessor,phxTheplatformVideoCtrl,phxScrollTo,phxAutoFocus,phxBlockInsertion,phxBlockReplacement,phxBody,phxBreakoutDam,phxBreakoutFlow,phxBreakoutBounds,phxBrowserConstraint,phxCategorizrClass,phxCategoryNav,phxCitationFormats,phxContentArticle,phxContentEmbed,phxContentBasicPage,phxContentItem,phxContentPerson,phxContentProduct,phxContentRecipe,phxContentRecommendations,phxContentReference,phxContentRichTerm,phxContentVideo,phxCoverlines,phxDisqusThread,phxFact,phxFragmentToc,phxFreewheelAd,phxHtml,phxInteractionCount,phxLiveDate,phxNav,phxNavList,phxNewsletterSignup,phxOffCanvasNav,phxOnHeightChange,phxPageDirective,phxPages,phxPhotoUploader,phxPinIt,phxPrimaryImage,phxReadingList,phxPubExchange,phxRelatedRichTerms,phxShareButton,phxSocialTools,phxTextCarousel,phxVideoLink,phxViewMetaDirective,phxWordCount,phxSkinBgimg,phxSkinInline,phxZoomFullscreen,phxNativeFullscreen,phxEllipsis,phxAbbreviateNumber,phxBirthDeathYears,phxDedupeRichTerms,phxDefault,phxImageUrl,phxIsTrue,phxStripHtml){var unsupportedBrowserPath="/unsupportedBrowser.html",phoenix=angular.module("phxCore",["site-config","phxAnalytics","filament","cornerstone","belvedere","infinite-scroll","respond","once","ngRoute","ngAnimate","ngSanitize","ngTouch","phxRss","phxTml","phxAds","phxCards","phxData","phxComponents","phxComponentDetail","phxComponentContentFeed","phxComponentContentStrip","phxComponentError","phxComponentInclude","phxComponentHero","phxComponentSubHero","phxComponentTagHeader","phxComponentToaster","phxComponentSectionHeader","phxComponentAuthorHeader","phxComponentStaticHeader","phxComponentItemComments","phxComponentSearch"]);return phoenix.controller("phxTheplatformVideoCtrl",phxTheplatformVideoCtrl).provider("phxCategorizr",phxCategorizr).provider("phxRoute",phxRoute).service("phxApiClient",phxApiClient).service("Augment",Augment).service("AugmentCustom",AugmentCustom).service("phxAnimation",phxAnimation).service("phxAugmentArticle",phxAugmentArticle).service("phxAugmentBasicPage",phxAugmentBasicPage).service("phxAugmentEmbed",phxAugmentEmbed).service("phxAugmentPerson",phxAugmentPerson).service("phxAugmentProduct",phxAugmentProduct).service("phxAugmentRecipe",phxAugmentRecipe).service("phxAugmentReference",phxAugmentReference).service("phxAugmentRichTerm",phxAugmentRichTerm).service("phxAugmentUserProfile",phxAugmentUserProfile).service("phxAugmentVideo",phxAugmentVideo).service("phxBeaconClient",phxBeaconClient).service("phxBlocks",phxBlocks).service("phxBreakout",phxBreakouts).service("phxContentRecommendationsUtil",phxContentRecommendationsUtil).service("phxCookies",phxCookies).service("phxEmbeds",phxEmbeds).service("phxEventBus",phxEventBus).service("phxEventDemux",phxEventDemux).service("phxFeatures",phxFeatures).service("phxFragmentUrl",phxFragmentUrl).service("phxImageOptions",phxImageOptions).value("phxImageOptionsProfiles",phxImageOptionsProfiles).service("phxMultiStreamer",phxMultiStreamer).service("phxNavManager",phxNavManager).service("phxPage",phxPage).service("phxPageReporting",phxPageReporting).service("phxPixelClient",phxPixelClient).service("phxPubExchangeUtil",phxPubExchangeUtil).service("phxReadingListUtil",phxReadingListUtil).service("phxResponsiveSize",phxResponsiveSize).service("phxSectionUtil",phxSectionUtil).service("phxSitemapBuilder",phxSitemapBuilder).service("phxSiteProgrammingUtil",phxSiteProgrammingUtil).service("phxSocial",phxSocial).service("phxSocialStatsFetcher",phxSocialStatsFetcher).service("phxUtil",phxUtil).service("phxFullscreenUtil",phxFullscreenUtil).service("phxLightTmlProcessor",phxLightTmlProcessor).factory("phxViewMeta",phxViewMeta).directive("phxScrollTo",phxScrollTo).directive("body",phxBody).directive("html",phxCategorizrClass).directive("phxAutoFocus",phxAutoFocus).directive("phxBlockInsertion",phxBlockInsertion).directive("phxBlockReplacement",phxBlockReplacement).directive("phxBreakoutDam",phxBreakoutDam).directive("phxBreakoutFlow",phxBreakoutFlow).directive("phxBreakoutBounds",phxBreakoutBounds).directive("phxBrowserConstraint",phxBrowserConstraint).directive("phxCategoryNav",phxCategoryNav).directive("phxCitationFormats",phxCitationFormats).directive("phxContentArticle",phxContentArticle).directive("phxContentEmbed",phxContentEmbed).directive("phxContentBasicPage",phxContentBasicPage).directive("phxContentVideo",phxContentVideo).directive("phxContentPerson",phxContentPerson).directive("phxContentRecipe",phxContentRecipe).directive("phxContentRecommendations",phxContentRecommendations).directive("phxContentReference",phxContentReference).directive("phxContentRichTerm",phxContentRichTerm).directive("phxContentItem",phxContentItem).directive("phxContentProduct",phxContentProduct).directive("phxCoverlines",phxCoverlines).directive("phxDisqusThread",phxDisqusThread).directive("phxFact",phxFact).directive("phxFragmentToc",phxFragmentToc).directive("phxFreewheelAd",phxFreewheelAd).directive("phxHtml",phxHtml).directive("phxInteractionCount",phxInteractionCount).directive("phxLiveDate",phxLiveDate).directive("phxNav",phxNav).directive("phxNavList",phxNavList).directive("phxNewsletterSignup",phxNewsletterSignup).directive("phxOffCanvasNav",phxOffCanvasNav).directive("phxOnHeightChange",phxOnHeightChange).directive("phxPage",phxPageDirective).directive("phxPages",phxPages).directive("phxPhotoUploader",phxPhotoUploader).directive("phxPinIt",phxPinIt).directive("phxPrimaryImage",phxPrimaryImage).directive("phxReadingList",phxReadingList).directive("phxPubExchange",phxPubExchange).directive("phxRelatedRichTerms",phxRelatedRichTerms).directive("phxShareButton",phxShareButton).directive("phxSocialTools",phxSocialTools).directive("phxTextCarousel",phxTextCarousel).directive("phxVideoLink",phxVideoLink).directive("phxViewMeta",phxViewMetaDirective).directive("phxWordCount",phxWordCount).directive("phxSkinBgimg",phxSkinBgimg).directive("phxSkinInline",phxSkinInline).directive("phxZoomFullscreen",phxZoomFullscreen).directive("phxNativeFullscreen",phxNativeFullscreen).directive("phxEllipsis",phxEllipsis).filter("phxAbbreviateNumber",phxAbbreviateNumber).filter("phxBirthDeathYears",phxBirthDeathYears).filter("phxDedupeRichTerms",phxDedupeRichTerms).filter("phxDefault",phxDefault).filter("phxImageUrl",phxImageUrl).filter("phxIsTrue",phxIsTrue).filter("phxStripHtml",phxStripHtml).value("isRegistered",!1).value("currentPrincipal",!1).value("currentUserProfile",null).run(["$rootScope","Config","phxViewMeta","phxSiteProgrammingUtil","$location","$document","phxFeatures","$window","phxUtil",function($rootScope,Config,phxViewMeta,phxSiteProgrammingUtil,$location,$document,phxFeatures,$window,phxUtil){$rootScope.config=Config,$rootScope.features=phxFeatures,$rootScope.location=$location,$rootScope.currentTime=(new Date).getTime(),$rootScope.$on("$routeChangeStart",function(ev,next){phxViewMeta.resetView(),phxSiteProgrammingUtil.setPreviewTime(next.pathParams.previewTime),ga("set","dimension1",null),ga("set","dimension2",null),ga("set","dimension3",null),ga("set","dimension4",null)});var div=document.createElement("div");div.style.webkitBackgroundClip="text";var text=div.style.cssText.indexOf("text");text>0&&$document.find("html").addClass("background-clip");
var setWindowSize=function(){$rootScope.windowHeight=$window.innerHeight,$rootScope.windowWidth=$window.innerWidth},resizeApply=phxUtil.throttle(function(){$rootScope.$apply()},500);angular.element($window).bind("resize",function(){setWindowSize(),resizeApply()}),setWindowSize()}]).run(["Respond","Config",function(Respond,Config){Config.mediaBreakPoints&&Respond.addBreakpoint(Config.mediaBreakPoints)}]).run(["phxFeatures","phxCategorizr",function(phxFeatures,phxCategorizr){phxCategorizr.isServer()||phxFeatures.registerExperiments()}]).run(["$location","$rootScope",function($location,$rootScope){$rootScope.$on("$locationChangeStart",function(){var path=$location.path();path!==unsupportedBrowserPath&&path.match(/\.(html|htm)$/)&&($location.path(path.substr(0,path.lastIndexOf("."))),$location.replace(),$rootScope.$broadcast("phxRedirection",null,$location.absUrl()))})}]).run(["Config","$rootScope","$interval",function(Config,$rootScope,$interval){if("DEV"===window.hexEnvironment){var period=6e4,count=0,totalCount=0;$interval(function(){totalCount+=count;var rate=1e3*count/period;count=0,console.log("[digest cycles] total count: "+totalCount+", past 10sec avg: "+rate+" digests/second")},period);var $originalDigest;void 0===$rootScope.__proto__?($originalDigest=$rootScope.$digest,$rootScope.$digest=function(){count++,$originalDigest.apply(this,arguments)}):($originalDigest=$rootScope.__proto__.$digest,$rootScope.__proto__.$digest=function(){count++,$originalDigest.apply(this,arguments)})}}]).config(["phxCategorizrProvider","ConfigProvider",function(phxCategorizrProvider,ConfigProvider){var Config=ConfigProvider.$get(),phxCategorizr=phxCategorizrProvider.$get();Config.minimumBrowserVersions&&Config.minimumBrowserVersions[phxCategorizr.getBrowser()]&&phxCategorizr.getBrowserVersion()<Config.minimumBrowserVersions[phxCategorizr.getBrowser()]&&(window.location=unsupportedBrowserPath)}]).config(["$locationProvider",function($locationProvider){$locationProvider.html5Mode(!0).hashPrefix("!")}]).config(["$parseProvider",function($parseProvider){$parseProvider.unwrapPromises(!0)}]).config(["$animateProvider",function($animateProvider){$animateProvider.classNameFilter(/text-carousel--item/)}]).config(["$compileProvider",function($compileProvider){$compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|twitter|tumblr|fb|gplus|pinterest|instagram|linkedin|youtube):/)}]).config(["$sceDelegateProvider",function($sceDelegateProvider){$sceDelegateProvider.resourceUrlWhitelist(["self","*://res.cloudinary.com/**"])}]),phoenix}),define("phxDevTools/services/phxDataExternalLoaderImpl",["filament/flmStreamer"],function(){var StaticStreamer=function(items){this.items=items,this.moreItemsCallbacks=[]};return StaticStreamer.prototype={loadMoreItems:function(){for(var i=0;i<this.moreItemsCallbacks.length;i++)this.moreItemsCallbacks[i].apply(this,[0]);this.moreItemsCallbacks=[]},watchMoreItems:function(callback){this.moreItemsCallbacks.push(callback)},watchLoading:function(){}},["$routeParams","$interpolate","Config","$q","phxApiClient","phxAugmentPerson","phxTheplatformVideoService","phxFeatures","phxCategorizr","$rootScope","phxMultiStreamer","$location","$templateCache","$http","$compile",function($routeParams,$interpolate,Config,$q,phxApiClient,phxAugmentPerson,phxTheplatformVideoService,phxFeatures,phxCategorizr,$rootScope){function makeJSONDataFeed(data,limit){function getTransform(result){return transformEntry(result)}feed=[],limit=limit||12;for(var n=0;limit>n;n++){var item=$.get("content-preview/full/"+data[n].path).then(getTransform);feed.push(item)}return $q.when(feed)}function transformEntry(content){var entry={id:"ci"+content.foreign_id,title:content.title,displayTitle:content.title,publicationTimestamp:content.publication_timestamp,promoTitle:content.promo_title,teaser:content.teaser,objectType:"ContentArticle",sectionKey:content.section.section_key,slug:content.slug,relativeUrl:"/"+content.section.section_key+"/"+content.slug,bodyTml:parseTml(content.body_tml)};if(null!==content.author_profile){var author={};author.displayName=content.author_profile.display_name,author.email=content.author_profile.email,author.id="cu0000"+content.author_profile.foreign_id,author.slug=content.author_profile.slug,author.relativeUrl="",author.contentSiteId=Config.siteId,author.objectType="ContentUserProfile",entry.author=author}if(null!==content.terms){entry.terms={entries:[]};for(var i=0;i<content.terms.length;i++)entry.terms.entries.push({displayName:content.terms[i].term,id:"ci000000"+i,objectType:"ContentRichTerm",primarySiteId:Config.siteId,slug:content.terms[i].slug,tagKey:content.terms[i].slug,title:content.terms[i].term,vocabularyId:Config.siteId+":"+content.terms[i].vocabulary})}return null!==content.primary_photo&&void 0!==content.primary_photo&&(entry.primaryPhotoUrl=content.primary_photo.url,entry.primaryImage={externalUrl:content.primary_photo.url,objectType:"ContentPhoto"}),entry}function parseTml(bodyTml){function parseImage(idx,elem){var $elem=angular.element(elem),imgURL=bodyTml.attachments[i].photo.url;$elem.attr("tml-image",imgURL)}for(var element=angular.element("<div>").append(angular.element(bodyTml.tml)),i=0;i<bodyTml.attachments.length;i++){var imageRef='div[tml-image="'+bodyTml.attachments[i].ref+'"]';element.find(imageRef).each(parseImage)}return element.contents()}function getItemFromFeed(slug,feed){for(var item,i=0;i<feed.length;i++)if(slug===feed[i].slug){item=feed[i];break}return item}function getFullDataList(){var defer=$q.defer();return $.get("/:phoenix-api/content-preview",function(data){defer.resolve(data)}),defer.promise}var feed=[],sectionKeysByDisplayName={};return angular.forEach(Config.sections,function(v,k){v.displayName?sectionKeysByDisplayName[v.displayName]=k:sectionKeysByDisplayName[k[0].toUpperCase()+k.slice(1)]=k}),{getCollection:function(options){var deferredFeed=$q.defer();return options.contentItems?$q.when(new StaticStreamer([])):(getFullDataList().then(function(data){$rootScope.previewContent=data;var feedPromises=makeJSONDataFeed($rootScope.previewContent,options.initialLimit);feedPromises.then(function(fp){$q.all(fp).then(function(fullFeed){deferredFeed.resolve(new StaticStreamer(fullFeed))})})}),deferredFeed.promise)},getItem:function(options){var defer=$q.defer(),self=this;return void 0===$rootScope.previewContent?getFullDataList().then(function(data){$rootScope.previewContent=data,defer.resolve($rootScope.previewContent)}):defer.resolve($rootScope.previewContent),defer.promise.then(function(data){if($rootScope.previewContent=data,options.useMasterItem)return self.getItemByContentTypeAndSlug("ContentArticle","{{slug}}");if(options.byBlock)return self.getItemByBlock(options.byBlock);if(options.byContentType&&options.bySlug)return self.getItemByContentTypeAndSlug(options.byContentType,options.bySlug);if(options.byForeignId){var deferredEntry=$q.defer(),foreignId=$interpolate(options.byForeignId)($routeParams)||options.byForeignId;return $.get("content-preview/full/"+foreignId,function(data){var content=transformEntry(data);deferredEntry.resolve(content)}),deferredEntry.promise}return self.getItemByBlock("random")})},getItemByContentTypeIdAndVersion:function(contentType,id,version){return id=$interpolate(id)($routeParams),void(version=$interpolate(version)($routeParams))},getItemByContentTypeAndSlug:function(contentType,slug){var defer=$q.defer();slug=$interpolate(slug)($routeParams);var feedPromises=makeJSONDataFeed($rootScope.previewContent,40);return feedPromises.then(function(fp){$q.all(fp).then(function(fullFeed){defer.resolve(getItemFromFeed(slug,fullFeed))})}),defer.promise},getItemByBlock:function(){var deferredItem=$q.defer(),index=Math.floor(Math.random()*$rootScope.previewContent.length),contentPath=$rootScope.previewContent[index].path;return $.get("content-preview/full/"+contentPath).then(function(result){var content=transformEntry(result);deferredItem.resolve(content)}),deferredItem.promise},getItemByBlockAndTime:function(blockToken){return this.getItemByBlock(blockToken)}}}]}),define("phxDevTools/services/phxAugmentExternalArticle",[],function(){return["$q","$filter","Config","phxUtil","phxRoute","Augment","flmContentSectionFetcher","flmContentUserProfileFetcher","flmContentPhotoFetcher","phxAugmentUserProfile","phxAugmentRichTerm","blvCloudinaryResolver","phxCards","phxApiClient","phxSocialStatsFetcher","phxSocial",function($q,$filter,Config,phxUtil,phxRoute,Augment,flmContentSectionFetcher,flmContentUserProfileFetcher,flmContentPhotoFetcher,phxAugmentUserProfile,phxAugmentRichTerm,blvCloudinaryResolver,phxCards,phxApiClient,phxSocialStatsFetcher,phxSocial){var df=$filter("date"),getRelativeUrl=function(article){return phxUtil.makePath(phxRoute.pathByKeyword("articleDetail"),{section:article.sectionKey,slug:article.slug,year:df(article.publicationTimestamp,"yyyy"),month:df(article.publicationTimestamp,"MM"),day:df(article.publicationTimestamp,"dd")})},getSectionRelativeUrl=function(article){return phxUtil.makePath(phxRoute.pathByKeyword("sectionHub"),{section:article.sectionKey})},extractTagClasses=function(tags){var tagClasses=[];return angular.forEach(tags,function(tag){tagClasses.push("tags-"+tag.tagKey)}),tagClasses},getTermNameList=function(tags){var tagNames=[];return angular.forEach(tags,function(tag){tagNames.push(tag.displayName)}),tagNames},augmentSettings={always:function(article,options){article.displayTitle=options.displayPromoTitle&&article.promoTitle?article.promoTitle:article.title,article.tagClasses=null!==article.terms?extractTagClasses(article.terms.entries):"",article.relativeUrl=getRelativeUrl(article),article.sectionRelativeUrl=getSectionRelativeUrl(article),article.associatedRichTerms=article.terms,article.publicationTimestampFormatted=df(article.publicationTimestamp,"medium"),article.publicationTimestampDatetime=df(article.publicationTimestamp,"yyyy-MM-ddTHH:mm")},viewMeta:function(article){var meta={contentItemId:article.id,title:article.title,description:article.metaDescription||article.teaser||"Read "+article.title,socialSharingImageId:article.primaryPhotoId,promoImageId:article.primaryPhotoId,openGraphType:"article",canonicalPath:article.relativeUrl,sectionKey:article.sectionKey,keywords:getTermNameList(article.terms.entries),publishDatetimeISO8601:df(article.publicationTimestamp,"yyyy-MM-ddTHH:mm:ss:Z"),contentNodeId:article.contentNodeId,objectType:article.objectType};return article.hasOwnProperty("associatedRichTerms")&&(meta.keywords=meta.keywords.concat(getTermNameList(article.associatedRichTerms.entries))),article.hasOwnProperty("author")&&(meta.authorName=article.author.displayName,meta.authorTwitterUsername=article.author.twitterUsername),meta},optional:{loadAssociatedRichTerms:{"default":!1,fetch:function(article){var deferred=$q.defer();return deferred.resolve(article.terms)},postResolveAugmentMany:phxAugmentRichTerm,postResolveAugmentOptions:function(){return{loadPrimaryImage:!1}},target:"associatedRichTerms"},loadSection:{"default":!1,fetcher:flmContentSectionFetcher,id:function(article){return article.sectionKey?Config.siteId+":"+article.sectionKey:null},target:"section"},loadAuthor:{"default":!1,fetch:function(article){var deferred=$q.defer();return deferred.resolve(article.author)},id:"authorProfileId",target:"author",postResolve:function(article,author,options){author&&options.setupDisqus&&(article.disqusTitle=article.displayTitle+" - by "+author.displayName,article.disqusIdentifier=article.disqusId)},postResolveAugment:phxAugmentUserProfile,postResolveAugmentOptions:function(){return{loadPhoto:!1,cloudinaryOptions:!1}}},loadPrimaryImage2:{"default":!1,target:"primaryImage",fetch:function(article){var deferred=$q.defer();return deferred.resolve(article.primaryPhotoUrl)},id:"primaryImageId"},makeTagUrls:{"default":!1,populate:function(article){angular.forEach(article.tags,function(tag){tag.relativeUrl=phxUtil.makePath(phxRoute.pathByKeyword("tagHub"),{tag:tag.tagKey})})}},setupDisqus:{"default":!1,populate:function(article){article.disqusTitle=article.displayTitle,article.disqusIdentifier=article.disqusId}},prepareSocialProof:{"default":!0,populate:function(article){article.socialStats&&(article.socialProof=phxSocial.buildSocialProof(article.socialStats))}}},settings:{loadAuthorPhoto:{"default":!1},cloudinaryOptions:{"default":{crop:"fill",gravity:"face",width:630,height:380}},compileTml:{"default":!1},authorCloudinaryOptions:{"default":{crop:"fill",height:60,width:60,gravity:"face"}}},compileTml:{loadBodyTml:{source:"bodyTml",target:"processedBodyTml"}}},augment=new Augment(augmentSettings);return augment.getRelativeUrl=getRelativeUrl,augment}]}),define("text!phxDevTools/html/phxMockingjay.html",[],function(){return'<div id=\'skin-hack\' class=\'skin-container\'>\n    <div class=\'skin-nav\'>\n        <ul class="skin-tabs">\n            <li class="skin-logo"></li>\n            <li class="skin-category"><a ng-click="tabToggle(\'skin-fonts-container\')">PREVIEWING EXTERNAL ARTICLES</a></li>\n            <li class="skin-actions"><button ng-click="prev()">PREV</button></li>\n            <li class="skin-options">\n                <select class="form-control" name="article_list_primary"\n                        ng-change="loadContent()"\n                        ng-model="previewArticle"\n                        ng-options="article.name for article in previewArticleList" >\n                    <option value="">-- Choose Content --</option>\n                </select>\n            </li>\n            <li class="skin-actions"><button ng-click="next()">NEXT</button></li>\n        </ul>\n    </div>\n</div>\n'}),define("phxDevTools/directives/phxMockingjay",["text!phxDevTools/html/phxMockingjay.html"],function(template){return["Config","cstConfig","$rootScope","$location","phxRoute","phxUtil","$timeout",function(Config,cstConfig,$rootScope,$location){return{restrict:"E",template:template,replace:!0,scope:{items:"="},controller:function($scope){$scope.previewArticle="",$scope.currentPath="",$scope.loadContent=function(){var contentPath="/preview/article/"+$scope.previewArticle.path;$location.url(contentPath)},$scope.prev=function(){var currentIndex=$scope.previewArticleList.indexOf($scope.previewArticle);0!==currentIndex&&(currentIndex--,$scope.previewArticle=$scope.previewArticleList[currentIndex],$scope.loadContent())},$scope.next=function(){var currentIndex=$scope.previewArticleList.indexOf($scope.previewArticle);currentIndex<$scope.previewArticleList.length-1&&(currentIndex++,$scope.previewArticle=$scope.previewArticleList[currentIndex],$scope.loadContent())}},link:function($scope,element){var mockingjayConfig=cstConfig.getModuleConfig("phxMockingjay");return Object.getOwnPropertyNames(mockingjayConfig).length?($scope.mockingjay=!0,$scope.$watch("items",function(){$scope.previewArticleList=$scope.items}),$rootScope.$on("$routeChangeSuccess",function(){var newPath=$location.path(),re=/([\d]+\.json$)/gi,foreignId=newPath.match(re);null!==foreignId&&($scope.currentPath=foreignId)}),void 0):void element.remove()}}}]}),define("phxDevTools/module",["phxDevTools/services/phxDataExternalLoaderImpl","phxDevTools/services/phxAugmentExternalArticle","phxDevTools/directives/phxMockingjay"],function(phxDataExternalLoaderImpl,phxAugmentExternalArticle,phxMockingjay){return angular.module("phxDevTools",[]).service("phxDataLoaderImpl",phxDataExternalLoaderImpl).service("phxAugmentArticle",phxAugmentExternalArticle).directive("phxMockingjay",phxMockingjay)}),define("domReady",[],function(){function runCallbacks(callbacks){var i;for(i=0;i<callbacks.length;i+=1)callbacks[i](doc)}function callReady(){var callbacks=readyCalls;isPageLoaded&&callbacks.length&&(readyCalls=[],runCallbacks(callbacks))}function pageLoaded(){isPageLoaded||(isPageLoaded=!0,scrollIntervalId&&clearInterval(scrollIntervalId),callReady())}function domReady(callback){return isPageLoaded?callback(doc):readyCalls.push(callback),domReady}var isTop,testDiv,scrollIntervalId,isBrowser="undefined"!=typeof window&&window.document,isPageLoaded=!isBrowser,doc=isBrowser?document:null,readyCalls=[];if(isBrowser){if(document.addEventListener)document.addEventListener("DOMContentLoaded",pageLoaded,!1),window.addEventListener("load",pageLoaded,!1);else if(window.attachEvent){window.attachEvent("onload",pageLoaded),testDiv=document.createElement("div");try{isTop=null===window.frameElement}catch(e){}testDiv.doScroll&&isTop&&window.external&&(scrollIntervalId=setInterval(function(){try{testDiv.doScroll(),pageLoaded()}catch(e){}},30))}"complete"===document.readyState&&pageLoaded()}return domReady.version="2.0.1",domReady.load=function(name,req,onLoad,config){config.isBuild?onLoad(null):domReady(onLoad)},domReady}),define("main",["phxCore/module","phxDevTools/module","domReady!"],function(){var dependencies=["phxCore"];"DEV"===window.hexEnvironment&&window.mockingjayEnabled&&dependencies.push("phxDevTools"),angular.bootstrap(document.documentElement,dependencies),sendPerformanceMetric("UX","J0 - NG0")});
//# sourceMappingURL=/scripts/app.min.js.map