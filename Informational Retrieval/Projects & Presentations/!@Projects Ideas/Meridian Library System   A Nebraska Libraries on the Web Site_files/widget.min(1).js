jQuery(document).ready(function(e){e("body").on("focus",".wu-autocomplete:not(.ui-autocomplete-input)",function(){var t=e(this);t.autocomplete({minLength:2,appendTo:WuWidget.is_admin?".setting-wrapper.autocomplete:visible":null,select:function(t,a){if(e(".wu-location-data").val(JSON.stringify(a.item.data)),1*WuWidget.is_admin)e(".setting-wrapper.autocomplete input").trigger("change").trigger("blur");else{switch(a.item.data.type){case"pws":var n=a.item.data.ll.replace(" ",","),i="cgi-bin/findweather/getForecast?query="+encodeURI(n);break;default:var n=a.item.data.l.replace("/q/","")||a.item.data.name,i="weather-forecast/"+encodeURI(n)}window.location="http://"+WuWidget.subdomain+".wunderground.com/"+i}return!0},focus:function(t,a){e("li",a.currentTarget).removeClass("ui-state-hover"),e("li",a.currentTarget).filter(function(t,n){return e(n).text()===a.item.label}).addClass("ui-state-hover")},source:function(t,a){e.ajax({url:WuWidget.ajaxurl,dataType:"json",data:{action:"wunderground_aq",query:t.term,_wpnonce:WuWidget._wpnonce},success:function(t){a(e.map(t.RESULTS,function(e){return"MISSING"===e.tz?!1:{label:e.name+(e.type?" ("+e.type+")":""),value:e.name,data:e}}))}})}})})});