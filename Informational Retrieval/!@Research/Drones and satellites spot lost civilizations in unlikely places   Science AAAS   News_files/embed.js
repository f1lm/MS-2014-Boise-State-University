!function(){function t(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function e(e,i){t(e,i)||(e.className+=" "+i)}function i(e,i){if(t(e,i)){var n=new RegExp("(\\s|^)"+i+"(\\s|$)");e.className=e.className.replace(n," ")}}function n(t,e,i){return Math.max(e,Math.min(i,t))}function o(t){var e=t.getBoundingClientRect();return{top:e.top,bottom:e.bottom,left:e.left,right:e.right,width:e.width||t.offsetWidth,height:e.height||t.offsetHeight}}function r(t,e){var i=t.top-e.top,n=t.left-e.left;return{top:i,bottom:i+t.height,left:n,right:n+t.width,width:t.width,height:t.height}}function a(t,e){var i=n(Math.abs(Math.min(0,t.top)),0,t.height),o=n(t.bottom-e.height,0,t.height),r=n(Math.abs(Math.min(0,t.left)),0,t.width),a=n(t.right-e.width,0,t.width),h=t.height-i-o,s=t.width-r-a,d=n(h/t.height,0,1),l=n(s/t.width,0,1);return d*l}function h(t){for(var e,i,n=t,h=o(t);n.parentNode&&(n=n.parentNode,n!==document.body);)if("scroll"===window.getComputedStyle(n).getPropertyValue("overflow")){e=n,i=o(e);break}var s=a(h,{scrollY:window.pageYOffset,scrollX:window.pageXOffset,width:window.innerWidth,height:window.innerHeight});if(!e)return s;h=r(h,i);var d=a(h,{scrollY:e.scrollTop,scrollX:e.scrollLeft,width:i.width,height:i.height});return s>0?d:0}function s(n){n=n||document.querySelectorAll(d?'iframe[src*="vine.co"]':"iframe");for(var o=0;o<n.length;o++)t(n[o],"pinged")&&(h(n[o])>0?t(n[o],"in-view")||(e(n[o],"in-view"),n[o].contentWindow.postMessage("mostlyInView","*"),n[o].contentWindow.postMessage("scrolledInToView","*")):t(n[o],"in-view")&&(i(n[o],"in-view"),n[o].contentWindow.postMessage("scrolledOutOfView","*")))}if(!window.VINE_EMBEDS){var d=/vine\.co/.test(window.location.host);window.VINE_EMBEDS=!0;var l=window.addEventListener?"addEventListener":"attachEvent",c=window[l];window.setInterval(s,100);var f="attachEvent"===l?"onmessage":"message";c(f,function(t){if(!d||/(vine\.co|localhost|(127|0)\.0\.0\.\d)/.test(t.origin)){var n,o,r=t.data.split("::");if(n=Array.prototype.slice.call(document.querySelectorAll("iframe"),0).filter(function(e){return e.contentWindow===t.source})[0])if("ping"===r[0]){if(e(n,"pinged"),i(n,"in-view"),s([n]),n.setAttribute("frameborder",0),!n.getAttribute("data-no-clamp")){var a=document.createElement("div");n.parentElement.insertBefore(a,n);var h=n.offsetWidth,l=a.offsetWidth,c=document.body.offsetWidth;(h>l||h>c)&&(n.setAttribute("width",Math.min(l,c)),n.setAttribute("height",Math.min(l,c)))}n.contentWindow.postMessage("pong","*")}else if("height"===r[0])n.style.removeProperty?n.style.removeProperty("height"):n.style.removeAttribute("height"),n.height=parseInt(r[2],10);else if("unmute"===r[0]){e(n,"unmuted");var f=document.querySelectorAll("iframe.loaded");for(o=0;o<f.length;o++)f[o]!==n&&(i(f[o],"unmuted"),f[o].contentWindow.postMessage("mute","*"))}else"loaded"===r[0]&&e(n,"loaded")}})}}();