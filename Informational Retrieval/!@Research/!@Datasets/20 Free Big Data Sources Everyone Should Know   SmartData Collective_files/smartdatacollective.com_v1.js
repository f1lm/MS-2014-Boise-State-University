(function () {

if (typeof window.PLISTA == 'undefined' || !window.PLISTA.path) {
	var PLISTA = {};
	PLISTA.path = 'http://farm.plista.com/';
	PLISTA.cdnpath = 'http://static.plista.com/';
	PLISTA.wwwpath = 'http://www.plista.com/';
	PLISTA.clickpath = 'http://click.plista.com/';
	PLISTA.debug = false;

	try {
	
if(!Object.hasOwnProperty('create')){Object.create=(function(){var F=function(){};return function(o,a){F.prototype=o;var c=new F();if(a){throw new TypeError('Object.create: augmenting object not implemented, please dont use the second parameter');}
return c;};}());}
if(!Object.getOwnPropertyNames){Object.getOwnPropertyNames=function(obj){var name,ret=[];if(!obj.hasOwnProperty){return ret;}
if((['function','object'].indexOf(typeof obj)===-1)||obj===null){throw new TypeError('internal Type of parameter must be Object');}
for(name in obj){if(obj.hasOwnProperty(name)){ret.push(name);}}
return ret;};}


(function(ap){if(!ap.forEach||/call\(bind,this\[i\],i\);/.test(ap.forEach)){ap.forEach=function(fn){if(typeof fn==="function"){var i,thisp=arguments[1],len=this.length;for(i=0;i<len;i+=1){if(i in this){fn.call(thisp,this[i],i,this);}}}};}
if(!ap.map){ap.map=function(fn){var i,len=this.length,res=[],thisp=arguments[1];if(typeof fn==="function"){for(i=0;i<len;i+=1){if(i in this){res[i]=fn.call(thisp,this[i],i,this);}}}
return res;};}
if(!ap.filter||/this\.each/.test(ap.filter.toString())){ap.filter=function(fn){var i,val,len=this.length,res=[],thisp=arguments[1];if(typeof fn==="function"){for(i=0;i<len;i+=1){if(i in this){val=this[i];if(fn.call(thisp,val,i,this)){res.push(val);}}}}
return res;};}
if(!ap.indexOf){ap.indexOf=function(f){var l=this.length,i=arguments[1]||0;i+=(i<0)?l:0;for(i=Math.max(i,0);i<l;i+=1){if(this[i]===f){return i;}}
return-1;};}
if(!ap.reduce||/return this\.length\s*>\s*1/.test(ap.reduce.toString())){ap.reduce=function(fn){var l=this.length||0,i=0,rv=arguments[1];if(arguments.length<2){do{if(i in this){rv=this[i++];break;}
if(++i>=l){throw new TypeError();}}while(true);}
if(l===0&&arguments.length===1){throw new TypeError();}
if(typeof fn==="function"){for(;i<l;i+=1){if(i in this){rv=fn.call(null,rv,this[i],i,this);}}}
return rv;};}
if(!ap.some){ap.some=function(fn){var i,len,thisp=arguments[1];if(!this){throw new TypeError();}
len=this.length||0;if(typeof fn==="function"){for(i=0;i<len;i+=1){if(i in this&&fn.call(thisp,this[i],i,this)){return true;}}}
return false;};}}(Array.prototype));if(!Array.isArray){Array.isArray=function(a){return!!(a&&(typeof a==='object')&&(a instanceof Array));};}


if(String.prototype.trim===undefined){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};}


PLISTA.util={DOM:{getElementsByClassName:function(searchClass){var classElements=[],i,j,node=this.tagName?this:document,els,pattern;if(node.getElementsByClassName){return node.getElementsByClassName(searchClass);}
els=node.getElementsByTagName('*');pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(i=0,j=0;i<els.length;i+=1){if(pattern.test(els[i].className)){classElements[j]=els[i];j+=1;}}
return classElements;},event:(function(){var listeners=[];listeners.removeBy=function(what){var i,listener,a,n=0,match;for(i=listeners.length-1;i>=0;i-=1){listener=listeners[i];match=true;for(a in what){if(what.hasOwnProperty(a)){match=match&&(what[a]===listener[a]);}}
if(match){PLISTA.util.DOM.removeEventListener(listener.element,listener.type,listener.fn);listeners.splice(i,1);n+=1;}}
return n;};listeners.add=function(e,type,fn,key){if(!e){throw new TypeError('e is no DOM element.');}
PLISTA.util.DOM.addEventListener(e,type,fn);listeners.push({element:e,type:type,key:key,fn:fn});};listeners.remove=function(e,type,fn){return listeners.removeBy({element:e,type:type,fn:fn});};return{add:listeners.add,addOnce:function(e,type,fn,key){var fn2;if(!e){throw new TypeError('e is no DOM element');}
fn2=function(){fn.apply(window,arguments);listeners.remove(e,type,fn2);};listeners.add(e,type,fn2,key);},remove:listeners.remove,removeAll:function(param){var n;if(typeof param==='string'){n=listeners.removeBy({key:param});}else if(param&&typeof param==='object'){n=listeners.removeBy({element:param});}else{throw new Error('invalid param: '+typeof param);}
return n;},getAll:function(){PLISTA.util.logger.getLogger('util.DOM.event').info('_someone_ called PLISTA.util.DOM.event.getAll() . careful, event listener registration may be compromised!');return listeners;}};}()),addEventListener:function(elem,type,listener){if(!elem||(!elem.tagName&&elem!==window&&elem!==document)){throw'Parameter needs to be DOM element';}
if((type==='DOMMouseScroll')&&(PLISTA.isIE||PLISTA.isOpera)){type='mousewheel';}
if(type==='tripleclick'){return PLISTA.util.DOM.addEventListener(elem,'click',PLISTA.util.DOM.onTripleClick(elem,listener));}
if(elem.addEventListener){elem.addEventListener(type,listener,false);}else if(window.attachEvent){if(type==='load'&&elem!==window){elem.onreadystatechange=(function(){function f(){if(!f.hasRun&&((elem.readyState==='complete')||(elem.readyState==='loaded'))){listener();f.hasRun=true;}}
f.hasRun=false;return f;}());}else{elem.attachEvent('on'+type,listener);}}else{throw'cannot attach event';}},removeEventListener:function(elem,type,listener){if(!elem||(!elem.tagName&&elem!==window&&elem!==document)){throw'Parameter needs to be DOM element';}
if((type==='DOMMouseScroll')&&(PLISTA.isIE||PLISTA.isOpera)){type='mousewheel';}
if(elem.removeEventListener){elem.removeEventListener(type,listener,false);}else if(window.detachEvent){if(type==='DOMMouseScroll'){type='mousewheel';}
if(type==='load'&&elem!==window){elem.onreadystatechange=null;}else{elem.detachEvent('on'+type,listener);}}else{throw'Cannot detach event';}},scrollTop:function(){return window.pageYOffset||document.body.scrollTop||(document.documentElement?document.documentElement.scrollTop:0);},setAttribute:function(elem,attr,value){if((PLISTA.isIE||PLISTA.isOpera)&&(attr==='style')){elem.style.cssText=value;}else if(PLISTA.isIE&&(attr==='class')){elem.className=value;}else{elem.setAttribute(attr,value);}},createElement:function(name,content){var newElem=document.createElement(name);if(!content){return newElem;}
if(name==='style'){newElem.type='text/css';if(PLISTA.isIE&&newElem.styleSheet){newElem.styleSheet.cssText=content;}else{newElem.textContent=content;}}else if(name==='script'){newElem.type='text/javascript';if(PLISTA.isIE){newElem.text=content;}else{newElem.innerHTML=content;}}else{newElem.innerHTML=content;}
return newElem;},onTripleClick:function(elm,fn,timeout){var timer=0,cnt=0,click=function(){cnt+=1;if(((new Date()).getTime()-timer)>timeout){timer=(new Date()).getTime();cnt=1;}
if(cnt===3){cnt=0;fn();}};if(typeof fn!=='function'){throw'detectTripleClick wants callback function!';}
timeout=timeout||800;PLISTA.util.DOM.addEventListener(elm,'click',click);return click;},getAbsolutePosition:function(e,sw){var
x=0,y=0,r=e.getBoundingClientRect?e.getBoundingClientRect():false,s=PLISTA.util.DOM.scrollOffset(),useHappyMode=r&&(sw||(PLISTA.options&&PLISTA.options.happyPositioning));if(useHappyMode){if(!PLISTA.absPosOffset){PLISTA.absPosOffset=((PLISTA.isIE6||PLISTA.isIE7)&&window.document.documentMode!==8)?2:0;if(PLISTA.isIE){if(PLISTA.isIE8&&(window.document.documentMode===7||PLISTA.isIEQuirksmode)){PLISTA.absPosOffset=2;}}}
x=parseInt(r.left-PLISTA.absPosOffset+s.x,10);y=parseInt(r.top-PLISTA.absPosOffset+s.y,10);}else{if(e.offsetParent!==undefined){while(e){x+=e.offsetLeft;y+=e.offsetTop;e=e.offsetParent;}}}
return{x:x,y:y};},getCSSProperty:function(e,name){var val,cName=name.replace(/(\-[a-z])/g,function(str,p1){return p1.toUpperCase().substr(1);});if(e.currentStyle){val=e.currentStyle[cName];}
if(window.getComputedStyle){val=window.getComputedStyle(e,null).getPropertyValue(name);}
if(val===''){val=e.style[cName];}
return val;},isHidden:function(e){var width=e.offsetWidth,height=e.offsetHeight;return(width===0&&height===0)||((PLISTA.isIE&&!PLISTA.isIE6&&!PLISTA.isIE7)&&(e.style.display||PLISTA.util.DOM.getCSSProperty(e,'display'))==="none");},getDimensions:function(e){var x=parseInt(e.width||e.clientWidth||e.offsetWidth,10),y=parseInt(e.height||e.clientHeight||e.offsetHeight,10);if(!x&&!y){x=parseInt(PLISTA.util.DOM.getCSSProperty(e,'width'),10);y=parseInt(PLISTA.util.DOM.getCSSProperty(e,'height'),10);}
return{x:x,y:y};},scrollOffset:function(){var iebody=PLISTA.isIEQuirksmode?document.body:document.documentElement;if(PLISTA.isIE){return{x:iebody.scrollLeft,y:iebody.scrollTop};}
return{x:window.pageXOffset,y:window.pageYOffset};},getDocumentHeight:function(){var b=document.body,d=document.documentElement;return Math.max(b.scrollHeight,b.offsetHeight,d.clientHeight,d.scrollHeight,d.offsetHeight);},getWindowDimensions:function(){var iebody=PLISTA.isIEQuirksmode?document.body:document.documentElement;if(PLISTA.isIE){return{x:iebody.clientWidth,y:iebody.clientHeight};}
return{x:window.innerWidth,y:window.innerHeight};}},newEvent:function(subject,type){var
listeners=[],subscribe=function(fn,scope,name,count){if(typeof fn!=='function'){throw'newEvent.subscribe: parameter no function';}
listeners.push({fn:fn,scope:scope,name:name,count:count||Infinity});};return{subscribe:subscribe,subscribeOnce:function(fn,scope,name){subscribe(fn,scope,name,1);},unsubscribe:function(fn){var r=false;listeners.forEach(function(val,key,obj){if(val.fn===fn){obj.splice(key,1);r=true;}});return r;},fire:function(data){var
i,length=listeners.length,l;for(i=0;i<length;i+=1){l=listeners[i];if(l.count){l.count-=1;try{l.fn.apply(l.scope||window,[subject,data,type]);}catch(e){e.subject=subject?subject.toString()+': ':'';e.explanation='exception while triggering callback '+(l.name||i)+' for '+type+' event';PLISTA.util.logger.getLogger('event.fire').error(e);if(PLISTA.debug){throw e;}}}}},getListeners:function(){return listeners;}};},logger:(function(){var messages=[],loggers={},toObj=function(v){var i,s,l=0,r={};if((PLISTA.isIE6||PLISTA.isIE7)&&v&&v.name==='TypeError'){return'TypeError';}
for(i in v){if(v.hasOwnProperty(i)){if('function unknown'.indexOf(typeof v[i])===-1){s=String(v[i]);l+=s.length;if(l>1000){break;}
r[i]=s;}}}
return r;},toStr=function(m){var result=m.logger+' '+m.level+' : ',s=m.message,j;if(typeof s==='object'&&s){for(j in s){if(s.hasOwnProperty(j)){result+=j+':'+s[j]+',';}}}else{result+=s;}
return result;},getLogFn=function(logger,level){return function(msg){var o={message:msg,level:level,logger:logger};if(typeof msg==='object'&&msg){try{o.message=toObj(msg);}catch(e){o.panic=e.toString();}}
messages.push(o);if((['ERROR','FATAL'].indexOf(level)!==-1)&&PLISTA.remotedata){PLISTA.remotedata.setMode('poll');PLISTA.remotedata('log',o);}
if(PLISTA.debug&&window.console&&typeof console.debug==='function'){console.log('PLISTA '+toStr(o));}};};messages.toString=function(){return this.map(function(m){return toStr(m);}).join('\n');};return{log:getLogFn('default','DEBUG'),getLogger:function(logger){if(!loggers[logger]){loggers[logger]={trace:getLogFn(logger,'TRACE'),debug:getLogFn(logger,'DEBUG'),info:getLogFn(logger,'INFO'),warn:getLogFn(logger,'WARN'),error:getLogFn(logger,'ERROR'),fatal:getLogFn(logger,'FATAL')};}
return loggers[logger];},getMessages:function(){return messages;}};}()),htmlEntities:(function(){var entity=[34,39,60,62];return function(s){var i;for(i=0;i<entity.length;i+=1){s=s.split(String.fromCharCode(entity[i])).join('&#'+entity[i]+';');}
return s;};}()),trim:function(s,numChar,p){numChar=parseInt(numChar,10);if(typeof s!=="string"){return"";}
s=PLISTA.util.text_clean(s.trim());numChar+=numChar-s.substr(0,numChar).replace(/\u00ad/g,'').length;if(numChar&&s.length>(numChar+(p?2:0))){s=s.slice(0,numChar);s=s.slice(0,Math.max(s.lastIndexOf("-")+1,s.lastIndexOf(" ")));if(p&&(s[s.length-1]!=='.')){s+='...';}}
return PLISTA.util.htmlEntities(s);},realStrLength:function(s){return PLISTA.util.text_clean(s).replace(/\u00ad/g,'').length;},text_clean:function(str){var ta=document.createElement("textarea"),s;ta.innerHTML='_'+str.replace(/(<([^>]+)>)/ig,"")+'_';s=ta.value;return s.substr(1,s.length-2);},loadCSS:function(content,media){var elm;if(/^https?:\/\/.*/.test(content)){elm=document.createElement("link");elm.href=content;elm.rel="stylesheet";elm.type="text/css";}else{elm=PLISTA.util.DOM.createElement('style',content);}
if(media){PLISTA.util.DOM.setAttribute(elm,'media',media);}
(document.getElementsByTagName('head')[0]||document.documentElement).appendChild(elm);},augment:function(obj){var n;for(n in obj){if(obj.hasOwnProperty(n)){this[n]=obj[n];}}
return this;},evalScript:function(s){if(s){try{eval(s);}catch(evalError){PLISTA.util.logger.getLogger('EVAL_SCRIPT').debug(evalError.toString());}}},evalScriptTags:function(containerId){var e=document.getElementById(containerId),c='',s;for(s=0;s<e.getElementsByTagName('script').length;s+=1){c+=e.getElementsByTagName('script')[s].innerHTML;}
eval(c);},JSON:{parse:function(json){if(typeof json!=='string'){return json;}
if((typeof JSON==='object')&&JSON&&JSON.parse){return JSON.parse(json);}
return eval('(function () { return '+json+'; })()');}},mousePosition:function(e,rel){if(!e){e=window.event;}
var body=(window.document.compatMode&&window.document.compatMode==="CSS1Compat")?window.document.documentElement:window.document.body;if(!rel||rel===undefined){return{y:e.pageY||(e.clientY+body.scrollTop-body.clientTop),x:e.pageX||(e.clientX+body.scrollLeft-body.clientLeft)};}
return{y:e.clientY||0,x:e.clientX||0};},descendantOf:function(container,descendant){while(descendant){if(descendant===container){return true;}
descendant=descendant.parentNode;}
return false;},imageComplete:function(img){return img&&(img.naturalWidth!==undefined?img.naturalWidth:img.complete);},absoluteUrl:function(url){if(!url){return'';}
if(url.indexOf('/')===0){url=document.location.protocol+'//'+document.location.hostname+url;}else if(!(/^[a-z]+:/.test(url))){PLISTA.util.logger.getLogger('util.absoluteUrl').warn('not an absolute URL: "'+url+'"');return'';}
return url;},stringSum:function(s){var sum=0,i,j=s.length;for(i=0;i<j;i+=1){sum+=s.charCodeAt(i);}
return sum;},benchmark:(function(){var timers={},marks={};return{start:function(key){timers[key]=(new Date()).getTime();marks[key]=0;},stop:function(key){marks[key]+=1;var t=(new Date()).getTime()-timers[key];PLISTA.util.logger.getLogger('util.benchmark').info('('+key+marks[key]+') : '+t);return t;}};}()),uniqid:function(prefix){var s='',v,i;for(i=0;i<13;i+=1){v=Math.floor(Math.random()*16);s+=String.fromCharCode(v<10?v+48:v+87);}
return(prefix||'')+s;},toArray:function(coll){var ary=[],i,len=coll.length;for(i=0;i<len;i+=1){ary.push(coll[i]);}
return ary;},getEnableSwitch:function(def){return function(val){if(typeof val==='boolean'){def=val;}
return def;};}};


var lib=PLISTA;try{document===document;}catch(error){document=window.document;}
PLISTA.context=PLISTA.context||{};PLISTA.isIE6=/MSIE (5\.5|6\.)/.test(navigator.userAgent);PLISTA.isIE7=/MSIE (7\.)/.test(navigator.userAgent);PLISTA.isIE8=/MSIE (8\.)/.test(navigator.userAgent);PLISTA.isIE=PLISTA.isIE6||PLISTA.isIE7||/MSIE (8\.)/.test(navigator.userAgent)||(window.document.documentMode<9);PLISTA.isIEQuirksmode=(PLISTA.isIE&&(document.compatMode==='BackCompat'));PLISTA.isOpera=/Opera/.test(navigator.userAgent);PLISTA.isSafari=/Safari/.test(navigator.userAgent);PLISTA.hideRedirectUrl=!('ontouchstart'in document.documentElement);PLISTA.useDocumentReady=false;try{PLISTA.isFrame=!!(window.frameElement)||void 0;}catch(error){}
PLISTA.info={clientrev:window.JSON&&JSON.stringify&&(JSON.stringify([])==='[]')&&(JSON.stringify({x:function(){return"y";}},function(k,v){return(typeof v==='function')?v():v;}).indexOf('y')!==-1)?15:14};PLISTA.items=[];(function(){var categories={};PLISTA.setCategories=function(widgetname,catgeories){categories[widgetname]=catgeories;};PLISTA.getCategories=function(widgetname){return categories[widgetname]||[];};}());PLISTA.items.clean=(function(){var
logger=PLISTA.util.logger.getLogger('items.clean'),cleaners={img:function(val){val=PLISTA.util.absoluteUrl(val);if(!(/https?\:\/\/[a-z0-9\-\.]+\.([a-z]+|[0-9]{1,3})(\:[0-9]{1,5})?\/.*/i.test(val))){logger.warn('invalid img url: '+val);return null;}
return val;},url:function(val){return val.indexOf('?fb_xd_')===-1?PLISTA.util.absoluteUrl(val):null;},imglong:function(val){return val;},objectid:function(val){if(!(/^[a-z\:\.,0-9_\-]+$/i.test(val))){logger.warn('invalid objectid: '+val);return null;}
return val.toString();},created_at:function(val){if(val>100000000000){val=Math.floor(val/1000);}
return val;}},self=function(rawData){if(!rawData){return{};}
var
newData={},name;for(name in rawData){if(rawData.hasOwnProperty(name)){if(['number','boolean'].indexOf(typeof rawData[name])!==-1){newData[name]=rawData[name];if(cleaners[name]){newData[name]=cleaners[name](newData[name]);}}else if(rawData[name]){newData[name]=rawData[name].toString();if(cleaners[name]){newData[name]=cleaners[name](newData[name]);}else{newData[name]=PLISTA.util.text_clean(PLISTA.util.trim(PLISTA.util.text_clean(newData[name]),250,true));}
if(newData[name]&&(newData[name].length>1024)){logger.warn('property "'+name+'" of item "'+(rawData.objectid||'')+'" is too long: '+rawData[name]);delete newData[name];}}}}
return newData;};cleaners.expires_at=cleaners.created_at;self.cleaners=cleaners;return self;}());PLISTA.getItemData_clean=PLISTA.items.clean;PLISTA.items.getByObjectId=function(objectid,domainid){var i,item;if(!domainid){domainid=PLISTA.domainid;}
for(i=0;i<PLISTA.items.length;i+=1){item=PLISTA.items[i];if((item.objectid==objectid)&&(!item.domainid||domainid==item.domainid)){return item;}}
return null;};PLISTA.lib={};PLISTA.options={sendItemDataAttributes:[]};PLISTA.onBeforeInit=PLISTA.util.newEvent(PLISTA,'beforeinit');PLISTA.onLoad=PLISTA.util.newEvent(PLISTA,'load');PLISTA.onClick=PLISTA.util.newEvent(PLISTA,'click');PLISTA.onSendItemData=PLISTA.util.newEvent(PLISTA,'senditemdata');PLISTA.createClickURL=function(args,doRedirect){var
name,request=[],i;doRedirect=doRedirect||false;for(name in args){if(args.hasOwnProperty(name)){switch(typeof args[name]){case'undefined':break;case'object':if(!args[name]){break;}
for(i in args[name]){if(args[name].hasOwnProperty(i)){request.push(encodeURIComponent(name+'['+i+']')+'='+encodeURIComponent(args[name][i]));}}
break;default:request.push(name+'='+encodeURIComponent(args[name]));}}}
request.push('clientrev='+PLISTA.info.clientrev);if(doRedirect){request.push('redirect=1');}
if(PLISTA.noTracking){request.push('nt=1');}
return PLISTA.clickpath+'redirect.php?'+request.join('&');};PLISTA.click=function(args,track){if(track===undefined){track=true;}
if(track===true){if(document.images){(new Image()).src=PLISTA.createClickURL(args,false);}}
PLISTA.onClick.fire(args);return true;};PLISTA.currentObjectid=function(){var i=PLISTA.items[0];if(i&&i.objectid){return i.objectid.toString();}
return null;};PLISTA.addItem=function(item,fn){PLISTA.remotedata('additem',{item:PLISTA.items.clean(item)},fn);PLISTA.onSendItemData.fire(item);};PLISTA.addCategory=function(item,cat){PLISTA.remotedata('assigncategory',{objectid:item.objectid,categoryname:cat});};PLISTA.sendItemData=(function(){var hasRun=false,logger=PLISTA.util.logger.getLogger('sendItemData');return function(){var isarticlerequest,attrs,k;if(hasRun){logger.debug('I did my work already. Aborting...');return;}
if(PLISTA.items.length===0){logger.info('Not on article page, it seems. Aborting...');return;}
PLISTA.items.clean(PLISTA.items[0]);if(!PLISTA.items[0].objectid){logger.warn('item 0 has no objectid. NOT sending data...');return;}
isarticlerequest={objectid:PLISTA.items[0].objectid};attrs=PLISTA.options.sendItemDataAttributes;for(k=0;k<attrs.length;k+=1){if(attrs[k]){isarticlerequest[attrs[k]]=PLISTA.items[0][attrs[k]];}}
PLISTA.remotedata('isarticle',isarticlerequest,function(data){var tmp;data=PLISTA.util.JSON.parse(data);if(data.action){if(data.action==='sendItemData'){setTimeout(function(){PLISTA.addItem(PLISTA.items[0]);},5000);}else if(data.action==='assigncategory'&&PLISTA.findCategory){tmp=PLISTA.findCategory(PLISTA.items[0]);if(tmp!==null){PLISTA.addCategory(PLISTA.items[0],tmp);}}}});hasRun=true;};}());PLISTA.loadWidgetData=PLISTA.sendItemData;(function(){var inited=false;PLISTA.init=function(){if(inited){throw'do not call PLISTA.init (or PLISTA.partner.init) twice in a row!';}
inited=true;PLISTA.onBeforeInit.fire();PLISTA.sendItemData();PLISTA.onLoad.fire();};PLISTA.reset=function(){inited=false;PLISTA.onReset.fire();PLISTA.items.splice(0,PLISTA.items.length);};PLISTA.onReset=PLISTA.util.newEvent(PLISTA,'reset');PLISTA.isInited=function(){return inited;};PLISTA.documentReady=function(complete){function onload(e){if(document.addEventListener||e.type==='load'||document.readyState==='complete'){detach();complete();}}
function detach(){if(document.addEventListener){document.removeEventListener('DOMContentLoaded',onload,false);window.removeEventListener('load',onload,false);}else{document.detachEvent('onreadystatechange',onload);window.detachEvent('onload',onload);}}
if(document.readyState==='complete'){complete();}else if(document.addEventListener){document.addEventListener('DOMContentLoaded',onload,false);window.addEventListener('load',onload,false);}else{document.attachEvent('onreadystatechange',onload);window.attachEvent('onload',onload);}};}());PLISTA.addRemoteScriptTag=function(url,id,complete){var done=false,tag=PLISTA.util.DOM.createElement('script');if(id){tag.id=id;}
tag.async=true;tag.type='text/javascript';tag.src=url;if(complete instanceof Function){tag.onload=tag.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==='loaded'||this.readyState==='complete')){done=true;tag.onload=tag.onreadystatechange=null;if(complete instanceof Function){complete(tag);}}};}
document.getElementsByTagName('head')[0].appendChild(tag);return tag;};PLISTA.loadModules=function(names,fn,force,cond){cond=cond||function(){return names.reduce(function(prev,val){return prev&&PLISTA[val];},true);};if(cond()&&!force){if(typeof fn==='function'){fn();}
return;}
PLISTA.addRemoteScriptTag(PLISTA.cdnpath+'jsmodule/'+names.join(',')+'?'+(new Date().getTime()));PLISTA.waitFor(cond,fn,function(){PLISTA.util.logger.getLogger('loadModules').warn('timeout loading modules '+names.join(','));},15000);};PLISTA.waitFor=function(condition,onSuccess,onTimeout,timeout){if(condition()){if(typeof onSuccess==='function'){onSuccess();}
return;}
timeout=timeout||15000;var time=(new Date()).getTime();(function wait(){if((new Date()).getTime()>time+timeout){PLISTA.util.logger.getLogger('loadModules').warn('timeout for condition '+condition);if(typeof onTimeout==='function'){onTimeout();}
return;}
if(condition()){if(typeof onSuccess==='function'){onSuccess();}}else{setTimeout(wait,50);}}());};


(function(){var status=0,k,t=20000,errorPath=PLISTA.path+'errorreport.php',fn=function(){if(status>=0&&status<2&&PLISTA.selfmonitoring.enable()){var url=errorPath+'?domainid='+PLISTA.domainid+'&msgkey=not_initialized&error=not yet initialized after '+t+'ms. status '+status;PLISTA.addRemoteScriptTag(url);PLISTA.util.logger.getLogger('errorreport').debug('called '+url);PLISTA.selfmonitoring.onErrorReport.fire();status=-1;}},reset=function(){status=0;PLISTA.selfmonitoring.setDelay(t);};PLISTA.onReset.subscribe(reset);PLISTA.onBeforeInit.subscribe(function(){status=1;});PLISTA.onLoad.subscribe(function(){status=2;});PLISTA.selfmonitoring={getStatus:function(){return status;},setDelay:function(delay){t=delay;if(k){clearTimeout(k);}
k=setTimeout(fn,t);},enable:PLISTA.util.getEnableSwitch(true)};PLISTA.selfmonitoring.onErrorReport=PLISTA.util.newEvent(PLISTA.selfmonitoring,'errorreport');reset();}());


PLISTA.geolocation=false;PLISTA.remotedata=PLISTA.remotedata||(function(){var httpRequests=[],callbacks=[],logger=PLISTA.util.logger.getLogger('remotedata'),intervalID=0,clientrev=PLISTA.info.clientrev;that=function(handler,request,onSetData,onAfterDataSet){if((typeof handler!=='string')||!handler){throw'invalid argument for remotedata.getData - first argument is required to be string!';}
request=handler+':'+(clientrev>12&&(clientrev%2)?JSON.stringify(request,function(k,v){return(typeof v==='function')?v():v;}):that.getSpecificationString(request));callbacks.push({handler:handler,request:encodeURIComponent(request),onSetData:onSetData,onAfterDataSet:onAfterDataSet});that.setMode(that.mode);};function checkWidgetdataTimeout(cbName){setTimeout(function(){if(typeof window[cbName]==='function'){PLISTA.addRemoteScriptTag(PLISTA.path+'errorreport.php?error=remotedata%20timeout&domainid='+PLISTA.domainid+'&msgkey=timeout_async_30s');}},30000);}
function sendRequests(){var i=0,query,data='',cb;if(!PLISTA.domainid&&!PLISTA.publickey){that.setMode('queue');throw'neither domainid nor publickey present. sth is very wrong!';}
while(i<callbacks.length){if(callbacks[i]!==undefined){cb='PLISTA'+httpRequests.length+'_'+PLISTA.util.uniqid();window[cb]=that.setData;query=PLISTA.path+'widgetdata.php'+'?clientrev='+clientrev+
(PLISTA.domainid?'&domainid='+PLISTA.domainid:'')+
(PLISTA.publickey?'&publickey='+PLISTA.publickey:'')+
(PLISTA.ns?'&ns='+PLISTA.ns:'')+
(PLISTA.sandbox&&PLISTA.sandbox.enable()?'&sbox=1':'')+'&cb='+cb+'&requestID='+httpRequests.length+
(PLISTA.geolocation?'&geo='+PLISTA.geolocation:'')+'&res='+(window.screen?screen.width+'x'+screen.height:'')+
(PLISTA.noTracking?'&nt=1':'');httpRequests.push([]);httpRequests[httpRequests.length-1].cb=cb;data='';while(i<callbacks.length){if(callbacks[i]===undefined){logger.debug('callbacks[i] undefined');i+=1;}else if(callbacks[i].request.length>2000){logger.error('data request too long, starting with: '+
callbacks[i].request.substr(0,50));i+=1;}else if((data+callbacks[i].request).length>2100){PLISTA.addRemoteScriptTag(query+data);checkWidgetdataTimeout(cb);break;}else{data+='&'+i.toString()+'='+callbacks[i].request;httpRequests[httpRequests.length-1][i]=callbacks[i];callbacks[i]=undefined;i+=1;}}}else{i+=1;}}
if(data.length>0){PLISTA.addRemoteScriptTag(query+data);checkWidgetdataTimeout(cb);}
if(intervalID){clearInterval(intervalID);intervalID=0;}}
that.mode='queue';that.setMode=function(mode){switch(mode){case'run':sendRequests();break;case'poll':intervalID=intervalID||setInterval(sendRequests,that.interval);break;case'queue':if(intervalID){clearInterval(intervalID);intervalID=0;}
break;default:throw'invalid argument "'+mode+'"';}
that.mode=mode;};that.interval=50;that.sendRequests=sendRequests;that.getData=function(request,onSetData,onAfterDataSet){logger.warn('deprecated usage of PLISTA.remotedata.getData!');return that(request.type,request,onSetData,onAfterDataSet);};that.setData=function(data,requestSubID,requestID){if(arguments.length===1){that.setTime(data);try{delete window[httpRequests[data].cb];}catch(e){window[httpRequests[data].cb]=undefined;}
return;}
httpRequests[requestID].time=httpRequests[requestID].time||(new Date()).getTime();var req=httpRequests[requestID][requestSubID];if(typeof req.onSetData==='function'){req.onSetData(data,httpRequests[requestID].time);req.onSetData=undefined;}};that.setTime=function(requestID){var req,i;for(i=0;i<httpRequests[requestID].length;i+=1){req=httpRequests[requestID][i];if(req&&(typeof req.onAfterDataSet==='function')){req.onAfterDataSet();req.onAfterDataSet=undefined;}}};that.getSpecificationString=(function(){var l,r,strVal=function(o){r+=1;if(r>10){return'NESTED TOO DEEP';}
if(typeof o==='function'){o=o();}
if(!o||(typeof o!=='object')){r-=1;switch(typeof o){case'boolean':return o?'true':'false';case'number':if(isNaN(o)||o===Infinity){return'null';}
return o;case'string':return'\u0002'+String(o).replace(/[\u0002\u0003\u001c-\u001f]/g,'')+'\u0003';default:return'null';}}
var n,s=[],tmp;for(n in o){if(o.hasOwnProperty(n)){if((o[n]!==undefined)&&(o[n]!==null)){tmp=strVal(o[n]);l+=n.length+tmp.length+1;if(l>2800){break;}
s.push(n+'\u001f'+tmp);}}}
r-=1;return'\u001c'+s.join('\u001e')+'\u001d';};return function(spec){r=0;l=0;return strVal(spec);};}());that.getDebugData=function(){if(PLISTA.debug){return{callbacks:callbacks,httpRequests:httpRequests};}
return null;};return that;}());PLISTA.onLoad.subscribe(function(){PLISTA.remotedata.setMode('poll');});


PLISTA.lib=PLISTA.lib||{};PLISTA.lib.dataobject=function(my){var data,udage=0,refreshing=false,logger=PLISTA.util.logger.getLogger('dataobject'),that;if(typeof my!=='object'||!my){throw{message:'parameter missing'};}
data=my.defaultData;if(typeof my.spec!=='object'||!my.spec){throw{message:'specification missing'};}
my.autoload=my.autoload||false;if(typeof my.spec.type!=='string'){throw'datasource must be string';}
my.filterGetData=my.filterGetData||function(data){return data;};that={getUpdateAge:function(){return udage;},refreshData:function(){refreshing=true;if(my.beforeRefresh){my.beforeRefresh();}
PLISTA.remotedata(my.spec.type,my.spec,function(newData,time){if(newData&&newData.success===false){logger.warn('remotedata call contains negative answer: '+newData.reason);return;}
that.setData(newData,time);udage=time;refreshing=false;},that.onChange.fire);},getData:function(maxage){maxage=maxage||86400*1000;if((new Date()).getTime()-maxage>udage){if(refreshing){logger.info('getData, already refreshing: '+this.toString());}else{logger.debug('getData, starting refresh: '+this.toString()+', udage: '+udage);that.refreshData();}}
return my.filterGetData(data);},setData:function(o,time){data=o;if(time!==undefined){udage=time;}},toString:function(){return"dataobject";},getDebug:function(){if(PLISTA.debug){return{data:data,udage:udage,refreshing:refreshing,my:my};}
return null;}};that.onChange=PLISTA.util.newEvent(that,'change');return that;};


var newImgId=(function(){var id=0;return function(){id+=1;return'plista_widget_imgresize_'+id;};}()),setCheckAndResize=function(id){var cnt=0,interval=function interval(){var img=document.getElementById(id);if(PLISTA.util.imageComplete(img)){PLISTA.render.resizeImage(img);}else if(cnt<50){cnt+=1;setTimeout(interval,50);}};interval();};PLISTA.render={parseStyle:function(style,data,styleElements,context){var getVal=function(attr,args){var val;try{if(typeof styleElements[attr]==='function'){val=styleElements[attr](data,args,context);}else if(styleElements[attr]===undefined){val=data[attr];}else{val=styleElements[attr].getContent(data,args,context);}
if([undefined,null].indexOf(val)===-1){val=val.toString();}else{val='';}}catch(e){e.attr=attr;PLISTA.util.logger.getLogger('render.parseStyle.'+attr).warn(e);val='';}
return val;},trimEach=function(val,i,obj){obj[i]=val.trim();},regmatch=/\[([a-z_0-9]+)(\(([a-z_0-9, ]*)\))?\]/i.exec(style),args,tmp,cnt=0;styleElements=styleElements||this.defaultStyleElements;context=context||{};while(regmatch!==null&&regmatch[0]&&regmatch[1]){cnt+=1;if(cnt>100){PLISTA.util.logger.getLogger('PLISTA.render.parseStyle').error('reached maximum replacement count of 100. '+'possible infinite loop, plz check ['+regmatch[1]+']. '+'if its an item, it is '+data.domainid+'//'+data.objectid);return'';}
if(regmatch[3]){args=regmatch[3].split(',');args.forEach(trimEach);}else{args=[];}
tmp=getVal(regmatch[1],args);if(!/MSIE/.test(navigator.userAgent)){tmp=tmp.replace(/\$/g,'$$$$');}
style=style.replace(regmatch[0],tmp);regmatch=/\[([a-z_0-9]+)(\(([A-Za-z_0-9, ]*)\))?\]/i.exec(style);}
return style;},defaultStyleElements:{oba:function(item,args){args[0]=args[0]||'999999';return'<span data-oba="0;'+args[0]+'"></span>';},advertise:function(item,args){args[0]=args[0]||'de';var lang={'de':'hier werben','en':'advertise here','es':'Anúnciese Aquí','fr':'annoncez ici','it':'advertise here','nl':'adverteer hier','pl':'Zareklamuj się tutaj','si':'oglaševati tukaj'},text=lang[args[0]]||'advertise here',m=args[0].match(/^en|es|de$/);m=m||'en';return'<a rel="nofollow" class="plista-advertise" target="_blank" href="'+PLISTA.wwwpath+m+'/advertiser/registrations/advertisehere/">'+
text+'</a>';},powered:function(item,args){args[0]=args[0]||'ffffff';args[1]=args[1]===''?'':args[1]||'powered by plista';args[2]=args[2]||'';args[3]=args[3]||'lightgray';var
text=args[1],url=PLISTA.wwwpath+args[2],pxr=window.devicePixelRatio>1?'_big':'',src=PLISTA.cdnpath+'image/logo_plista_'+args[3]+'_'+args[0]+'_alpha'+pxr+'.png';return'<a rel="nofollow" class="plista-powered" target="_blank" title="'+text+'" href="'+url+'">'+'<img style="height:15px;width:auto;" class="plista-flower" alt="Recommendations" src="'+src+'" />&nbsp;'+text+'</a>';},powered_hidden:function(item,args,ctx){return PLISTA.render.defaultStyleElements.powered_png(item,args,ctx,'visibility:hidden');},powered_png:function(item,args,ctx,style){args[0]=args[0]||'aaaaaa';args[1]=args[1]===''?'':args[1]||'powered by plista';args[2]=args[2]||'';style=style||'';var url=PLISTA.wwwpath+args[2],src=PLISTA.cdnpath+'image/logo_plista_big_'+args[0]+'.png';return'<a rel="nofollow" class="plista-powered" target="_blank" title="'+args[1]+'" href="'+url+'">'+'<img style="height:15px;width:auto;'+style+'" class="plista-flower" alt="Recommendations" src="'+src+'" />&nbsp;'+args[1]+'</a>';},adhint:(function(){var adhint=function(item,args,ctx){args[2]=args[2]||0;args[1]=args[1]||'999999';var
alt,img,type,hint,lang=args[0]||'de',isPcd=(item.campaignoptions&&item.campaignoptions.pcd)||item.adformat==='pcd',pxr=window.devicePixelRatio>1?2:'',onclick=(isPcd&&"style=\"cursor:pointer\" onclick=\""+adhint.pcdFn+"(); return false;\" ")||'',altMapAd={'de':['Anzeige','Sponsored'],'en':['Ad','Sponsored'],'es':['Publicidad','Patrocinado'],'fr':['Publicité','Sponsorisé'],'it':['Annuncio','Sponsorizzato'],'nl':['Advertentie','Gesponsorde'],'pl':['Promocja','Sponsorowane'],'si':['Oglas','Sponzorirane']};if(isPcd){type='3';alt=altMapAd[lang]?altMapAd[lang][1]:'Sponsored';}else{type=args[2]==='1'?'2':'1';alt=altMapAd[lang]?altMapAd[lang][0]:'Ad';}
img=PLISTA.cdnpath+'image/%shints%s/%s_%s.png'.replace('%s',isPcd?'pcd':'ad').replace('%s',pxr).replace('%s',args[1]).replace('%s',lang);return'<img data-oba="'+type+';'+args[1]+';'+(item.itemid||'')+'" class="plistaPetImg" style="height:9px;width:auto;" src="'+img+'" alt="'+alt+'" '+onclick+'/>';};adhint.pcdFn=PLISTA.util.uniqid('PLISTA_');window[adhint.pcdFn]=!PLISTA.isFrame?function(){PLISTA.remotedata('content',{key:'pcdhint'},function(data){var d=document.createElement('div');if(!data.success){PLISTA.util.logger.getLogger('render.adhint').error('pcdhint request failed!');return;}
PLISTA.util.logger.getLogger('render.adhint').debug('showing pcdhint...');d.innerHTML=data.html;PLISTA.util.loadCSS(data.css);document.body.appendChild(d);});}:function(){window.open(PLISTA.wwwpath+'infos/pcdhint','_newtab');};return adhint;}()),image:function(item,args){var
src=item.img,dim='',imgId=newImgId();args[0]=parseInt(args[0],10);args[1]=parseInt(args[1],10);if((args[0]||item.type==='pet')&&src&&item.objectid){src=PLISTA.render.imageUrl(item,args[0],args[1],args[2],args[3]);}
if(args[0]){dim+='width:'+args[0]+'px;';}
if(args[1]){dim+='height:'+args[1]+'px;';}
return src?'<img class="plista_widget_imgwrapper" align="left" id="'+imgId+'" src="'+src+'" title="[title]" alt="" style="'+dim+'" />':'';},batch:function(item,args,ctx){return item.adoptions.batch||'';},imgnoresize:(function(){return function(item,args,ctx){var src=item.img,dim='',imgId=newImgId();if(!src){return'';}
if(args[0]){dim+='width:'+args[0]+'px;';}
if(args[1]){dim+='height:'+args[1]+'px;';}
setCheckAndResize(imgId);return'<span style="display: block;'+dim+'overflow: hidden;" '+'class="plista_widget_imgwrapper">'+'<img id="'+imgId+'" src="'+src+'" title="[title]" alt=""/></span>';};}()),intextimgnoresize:(function(){return function(item,args){var src=item.img,dim='',imgId=newImgId();if(!src){return'';}
if(args[0]){dim+='width:'+args[0]+'px;';}
if(args[1]){dim+='height:'+args[1]+'px;';}
setCheckAndResize(imgId);return'<img class="plista_widget_imgwrapper" align="left" id="'+imgId+'" src="'+src+'" title="[title]" alt=""/>';};}()),title:function(item,args,ctx){var s=item.title;if(args[0]){s=PLISTA.util.trim(s,args[0],args[1]);}
return s;},text:function(item,args,ctx){var s=item.text,m=ctx.listwidget?ctx.listwidget.spec.metaPlaceholder:null,i,tmp;if(m&&m.text&&args[0]){for(i=0;i<m.text.length;i+=1){tmp=m.text[i];if((item.status&tmp.flags)===tmp.flags){return ctx.listwidget.spec.styleElements[tmp.styleElement].call(this,item,tmp.params,ctx);}}}
return PLISTA.render.simpletext(s,args,ctx);},number:function(item,args,ctx){return ctx.position;},linkurl:function(item,args,ctx){return item.originalUrl;},url:function(item,args,ctx){var ws=ctx.listwidget?ctx.listwidget.spec:null;if(item.domain_publickey){return item.originalUrl;}
if(PLISTA.hideRedirectUrl&&item.type==='default'){return item.originalUrl;}
if(item.url.match(PLISTA.clickpathRegExp)||!item.url.match(/^https?:\/\//)){return item.url;}
return PLISTA.createClickURL({domainid:PLISTA.domainid,objectid:item.objectid,position:ctx.position,widgetname:ws.widgetname,bucketid:item.bucketid,params:ws.list.getAlgoInfo(),friendid:PLISTA.currentObjectid(),clickdomainid:item.domainid,campaignid:item.campaignid,additionalParams:item.additionalParams},true);},created_at:{format:'d.m.Y',getContent:function(item){var t=parseInt(item.created_at,10),format=this.format;if(!t){throw'created_at: item.created_at is not set or evaluates to 0';}
if(format.indexOf('%')===-1){format=format.replace(/([a-z])/ig,'%$1');}
return PLISTA.render.strftime(format,t);}},augment:PLISTA.util.augment},simpletext:function(s,args,ctx){if(args[0]){s=PLISTA.util.trim(s,args[0],args[1]);}
return s;},strftime:function(f,t){function pad(val,len){if(typeof val!=='string'){val=val.toString();}
len=len||2;while(val.length<len){val='0'+val;}
return val;}
var date=new Date(t*1000);[['%%','%'],['%Y',pad(date.getFullYear())],['%y',pad(date.getFullYear()%100)],['%m',pad(date.getMonth()+1)],['%d',pad(date.getDate())],['%H',pad(date.getHours())],['%i',pad(date.getMinutes())],['%s',pad(date.getSeconds())]].forEach(function(i){f=f.replace(i[0],i[1]);});return f;},i18n:{rating_description:{1:'irrelevant',2:'langweilig',3:'so lala',4:'gut',5:'exzellent'}},imageUrl:function(item,width,height,bgColor,cropped){if(item.status&parseInt('1024',10)){return PLISTA.path+'image/example/'+(width||0)+'x'+(height||0)+'/'+item.img;}
var hash=PLISTA.util.stringSum(item.img||''),ext=item.img.match(/(\.[a-z]+)(\?|$)/),pxr=window.devicePixelRatio>1?2:1;ext=ext&&(['.gif','.png'].indexOf(ext[1])!==-1)?ext[1]:'.jpg';if(PLISTA.render.resizeURL){return item.img?PLISTA.render.resizeURL+'?image='+encodeURIComponent(item.img)+'&width='+width+'&height='+height+'&cropped='+(cropped?1:0)+'&color='+(bgColor||''):'';}else if(item.type==='default'){return PLISTA.cdnpath+'imageserver/'+(cropped?'c/':'')+
(item.domainid||PLISTA.domainid)+'/'+(bgColor?bgColor+'/':'')+item.objectid+'/'+(width*pxr||0)+'/'+(height*pxr||0)+'/'+hash+ext;}else{return PLISTA.cdnpath+'image/resized/'+(cropped?'c/':'')+
(item.domainid||PLISTA.domainid)+'/'+
(bgColor?bgColor+'/':'')+
item.objectid+'_'+(width*pxr||0)+'x'+(height*pxr||0)+'_'+hash+ext;}},resizeImage:function(img,usemargin){var pDim=PLISTA.util.DOM.getDimensions(img.parentNode),imgOrig=PLISTA.util.DOM.getDimensions(img),ratio={x:pDim.x/imgOrig.x,y:pDim.y/imgOrig.y},t;if(isNaN(pDim.x+pDim.y+imgOrig.x+imgOrig.y)){return false;}
if(ratio.x<1&&ratio.y<1){t=(ratio.x<ratio.y)?ratio.y:ratio.x;img.height=imgOrig.y*t;img.width=imgOrig.x*t;}
if(usemargin!==false){img.style.marginTop=((pDim.y-img.height)/2).toString()+'px';img.style.marginLeft=((pDim.x-img.width)/2).toString()+'px';}
return true;}};PLISTA.render.defaultStyleElements.imgresize=(function(){var defaultImage=PLISTA.render.defaultStyleElements.image;return function(item,args,ctx){var src=item.img,dim='';if(!src){return'';}
if(args[0]){dim+='width:'+args[0]+'px;';}
if(args[1]){dim+='height:'+args[1]+'px;';}
return'<span class="plista_widget_imgwrapper" style="display: block; overflow: hidden;'+dim+'">'+defaultImage(item,args,ctx)+'</span>';};}());PLISTA.render.defaultStyleElements.intextimgresize=(function(){var defaultImage=PLISTA.render.defaultStyleElements.image;return function(item,args,ctx){var src=item.img,dim='';if(!src){return'';}
if(args[0]){dim+='width:'+args[0]+'px;';}
if(args[1]){dim+='height:'+args[1]+'px;';}
return defaultImage(item,args,ctx);};}());


PLISTA.itemlists=(function(){var thatLists=[],basicItemList;basicItemList=function(my){var thatList,algoinfo,reloadcount=0,imageSize;my=my||{};my.spec=my.spec||{};my.spec.type=my.spec.type||'list';my.defaultData={items:[]};my.beforeRefresh=function(){my.spec.objectid=my.spec.objectid||PLISTA.currentObjectid();my.spec.adblock=PLISTA.adblockdetect?PLISTA.adblockdetect():false;my.spec.pm=window.postMessage!==void 0;my.spec.widgetview=void 0;if(PLISTA.getCategories(my.spec.widgetname).length){my.spec.c=PLISTA.getCategories(my.spec.widgetname);}};my.spec.count=(parseInt(my.spec.count,10))||0;my.required=my.required||[];my.filterGetData=my.filterGetData||function(data){algoinfo=data.algoinfo;imageSize=data.image_size;if(data.action&&(typeof data.action.reload==='number')&&(data.action.reload>=0)&&reloadcount===0){window.setTimeout(thatList.refreshData,data.action.reload);reloadcount+=1;}
return data.items||[];};thatList=PLISTA.lib.dataobject(my);thatList.setCount=function(count,force){count=parseInt(count,10);if(isNaN(count)){throw'itemlist.setCount expects a number';}
if((my.spec.count<count)||force){my.spec.count=count;thatList.refreshData();}};thatList.getAlgoInfo=function(){return algoinfo||'';};thatList.getImageSize=function(){return imageSize||[];};thatList.getSpecProperty=function(name){return my.spec[name];};thatList.setSpecProperty=function(name,value){my.spec[name]=value;};thatList.toString=function(){return'basicItemList';};thatList.onFirstData=PLISTA.util.newEvent(thatList,'firstdata');thatList.onChange.subscribe((function(){var hasRun=false;return function(){if(!hasRun&&thatList.getData().length>0){hasRun=true;thatList.onFirstData.fire();}};}()));PLISTA.itemlists.push(thatList);thatLists.onCreate.fire(thatList);return thatList;};thatLists.getByDataSource=function(datasource,count){return thatLists.getBySpec({datasource:datasource,count:count});};thatLists.getBySpec=function(spec,nostore){var i,prop,existingValue,match;spec.count=parseInt(spec.count,10);for(i=0;i<thatLists.length;i+=1){match=true;for(prop in spec){if(spec.hasOwnProperty(prop)&&(spec[prop]!==undefined)&&(spec[prop]!==null)){existingValue=thatLists[i].getSpecProperty(prop);if((prop!=='count')&&(existingValue!==spec[prop])){match=false;break;}}}
if(match){if(spec.count&&!isNaN(spec.count)){thatLists[i].setCount(spec.count);}
return thatLists[i];}}
return basicItemList({spec:spec,nostore:nostore});};PLISTA.onReset.subscribe(function(){thatLists.splice(0,thatLists.length);});thatLists.onCreate=PLISTA.util.newEvent(thatLists,'create');return thatLists;}());


PLISTA.browser={isIPad:navigator.userAgent&&navigator.userAgent.match(/(iPad)/i)!==null,isIPhone:navigator.userAgent&&navigator.userAgent.match(/(iPhone)|(iPod)/i)!==null,isAndroid:navigator.userAgent&&navigator.userAgent.match(/(Android)/i)!==null,isMobile:navigator.userAgent&&navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(Windows Phone)|(BlackBerry)|(PlayBook)|(Nokia)|(webOS)/i)!==null,isTouch:document.documentElement&&document.documentElement.hasOwnProperty?document.documentElement.hasOwnProperty('ontouchstart'):false,language:(function(){var lang;try{lang=navigator.userAgent.match(/android.*\W(\w\w)-(\w\w)\W/i);if(lang instanceof Array){lang=lang[1].toLowerCase();}else{lang=navigator.language||navigator.systemLanguage||navigator.userLanguage;lang=String(lang.substr(0,2)).toLowerCase();}}catch(e){lang=null;}
return lang||'en';}()),getAndroidVersion:function(){if(!PLISTA.browser.isAndroid){return 0;}
var major,version=navigator.userAgent.match(/Android (\d+(?:\.\d+){1,2});/);if(version){try{version=version[1].split('.');major=version[0];version.splice(0,1);version=version.join('');version=parseFloat(major+'.'+version);}catch(e){version=4;}}else{version=4;}
return version;},getURL:function(url,target){target=target||'_blank';if(navigator.userAgent&&(!navigator.userAgent.match(/Firefox/i)&&!navigator.userAgent.match(/MSIE/i))){var event,a=document.createElement('a');a.setAttribute('href',url);a.setAttribute('target',target);event=document.createEvent('HTMLEvents');event.initEvent('click',true,true);a.dispatchEvent(event);}else{window.open(url,target);}},cancelEvent:function(event){if(!event){event=window.event;}
if(event){event.cancelBubble=true;event.returnValue=false;if(event.stopPropagation){event.stopPropagation();}
if(event.preventDefault){event.preventDefault();}}}};


PLISTA.OBA={i18n:{'de':{ads:'Anzeigen',ad:'Anzeige',pcd:'Sponsored',info:'Datenschutzinfo'},'fr':{ads:'Publicité',ad:'Publicité',pcd:'Sponsorisé',info:'Choisir sa pub'},'nl':{ads:'Advertentie',ad:'Advertentie',pcd:'Gesponsorde',info:'Info'},'bg':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Вашият избор'},'cs':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Volby reklamy'},'da':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Annoncevalg'},'fi':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Mainokseni'},'el':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Οι διαφημίσεις μου'},'sl':{ads:'Oglasi',ad:'Oglas',pcd:'Sponzorirane',info:'AdChoices'},'it':{ads:'Annuncio',ad:'Annuncio',pcd:'Sponsorizzato',info:'Scegli tu!'},'no':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Annonsevalg'},'pl':{ads:'Promocje',ad:'Promocja',pcd:'Sponsorowane',info:'Informacja'},'ro':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Optiuni'},'sk':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Vaša voľba'},'es':{ads:'Publicidad',ad:'Publicidad',pcd:'Patrocinado',info:'Gestión anuncios'},'sv':{ads:'Ad',ad:'Ad',pcd:'Sponsored',info:'Annonsval'}},button:function obaButton(info,adhint,adcolor,id,pcd){adcolor=adcolor||'AAAAAA';adcolor=adcolor.substr(0,1)==='#'?adcolor.substr(1):adcolor;var height=13,imageHeight=window.devicePixelRatio>1||PLISTA.browser.isIPad?2:1,domainid=PLISTA.domainid,cdnpath=PLISTA.cdnpath,button=document.createElement('span');imageHeight=imageHeight*height;button.title=info;button.className='plista-oba';button.style.cssText='cursor: pointer;';button.label=document.createElement('span');button.label.className='plista-oba-label';button.label.innerHTML=adhint;button.label.style.cssText='position:relative; float:left; margin:0; padding:0 3px; color:#'+adcolor+'; text-transform:uppercase;font: 10px "Arial",sans-serif !important;z-index:1';button.image=new Image();button.image.src=cdnpath+'oba/icon.php?format=gif&color='+adcolor+'&height='+imageHeight;button.image.className='plista-oba-image';button.image.style.cssText='position:relative; float:left; margin:0; border:none !important; height:'+height+'px !important; width:auto !important;z-index:1';button.appendChild(button.label);button.appendChild(button.image);function mouseover(e,btn){btn=this;btn.label.innerHTML=info;btn.label.style.color=btn.hoverColor||'#058';btn.label.style.textTransform='none';PLISTA.browser.cancelEvent(e);if(PLISTA.browser.isTouch){btn.onclick=click;setTimeout(function(){mouseout(null,btn);},3000);}
return false;}
function mouseout(e,btn){btn=btn||this;btn.label.innerHTML=adhint;btn.label.style.color='#'+adcolor;btn.label.style.textTransform='uppercase';PLISTA.browser.cancelEvent(e);if(PLISTA.browser.isTouch){btn.onclick=mouseover;}
return false;}
function click(e){if(pcd){eval('(function() {'+pcd+'}())');}
var url=PLISTA.wwwpath+'optout/index/'+domainid;if(id){url+='/'+id;}
PLISTA.browser.cancelEvent(e);PLISTA.browser.getURL(url);return false;}
if(PLISTA.browser.isTouch){button.onmouseout=button.onmouseover=function(e){PLISTA.browser.cancelEvent(e);return false;};button.onclick=mouseover;}else{button.onmouseover=mouseover;button.onmouseout=mouseout;button.onclick=click;}
return button;},rgbToHex:function(color){var r,g,b,rgb,digits=color.match(/(.*?)rgb\((\d+), (\d+), (\d+)\)/);if(!digits||digits.length<5){return color;}
r=parseInt(digits[2],10);g=parseInt(digits[3],10);b=parseInt(digits[4],10);rgb=b|(g<<8)|(r<<16);return rgb.toString(16);},getButton:function(tag){var button,text,color;color=window.getComputedStyle?window.getComputedStyle(tag).color:tag.currentStyle?tag.currentStyle.color:'AAAAAA';text=PLISTA.OBA.i18n[PLISTA.browser.language];button=PLISTA.OBA.button(text?text.info:'AdChoices',String.fromCharCode(160),PLISTA.OBA.rgbToHex(color));button.hoverColor=color;button.className='plista-p-oba';button.style.cssText='cursor:pointer;position:relative;margin: 0';button.label.className='plista-p-oba-label';button.label.style.cssText='color:#777; text-transform:uppercase;padding:0 2px;font-weight:normal !important;font-size:10px !important;font-family:"Arial",sans-serif !important;';button.image.className='plista-p-oba-image';button.image.style.cssText='border:none !important; width:12px !important; height:13px !important; vertical-align:middle; width:auto !important;';tag.style.whiteSpace='nowrap';tag.style.overflow='hidden';tag.appendChild(button);},powered:function(list,data){var i,item,tags,img,isOBA,found,widget=list.getTarget();if(data&&data.items){for(i=0;i<data.items.length;i+=1){item=data.items[i];if(item.type!=='default'){isOBA=true;break;}}}
if(!isOBA){return;}
tags=widget.getElementsByTagName('img');for(i=0;i<tags.length;i+=1){if(tags[i].alt==='plista Blume'||tags[i].alt==='powered by plista'||tags[i].src.match(/(.*?)\/image\/logo_plista_(.*?)/)){PLISTA.OBA.getButton(tags[i].parentNode);found=true;break;}}
if(found){return;}
tags=widget.getElementsByTagName('a');for(i=0;i<tags.length;i+=1){if(tags[i].title==='powered by plista'){PLISTA.OBA.getButton(tags[i]);break;}}}};PLISTA.oba=(function(){var info,text;text=PLISTA.OBA.i18n[PLISTA.browser.language];info=text?text.info:'AdChoices';return function(list,data){setTimeout(function(){var
i,tag,attribute,type,button,widget=list.getTarget(),tags=widget.getElementsByTagName('*');for(i=0;i<tags.length;i+=1){tag=tags[i];attribute=tag.getAttribute('data-oba');if(attribute){attribute=attribute.split(';');type=Number(attribute[0]);if(type===0){button=PLISTA.OBA.button(info,String.fromCharCode(160),attribute[1]);}else if(type===1){button=PLISTA.OBA.button(info,text?text.ad:'Ad',attribute[1],attribute[2],null);}else if(type===2){button=PLISTA.OBA.button(info,text?text.ads:'Ad',attribute[1]);}else if(type===3){button=PLISTA.OBA.button(info,text?text.pcd:'Sponsored',attribute[1],attribute[2],tag.getAttribute('onclick'));}
if(button){tag.parentNode.insertBefore(button,tag);tag.parentNode.removeChild(tag);}
button=null;}}},50);};}());


(function(){lib.getRect=function(element){var r,rect=element.getBoundingClientRect();if(rect.width===void 0){r={};r.top=rect.top;r.bottom=rect.bottom;r.left=rect.left;r.right=rect.right;r.width=rect.right-rect.left;r.height=rect.bottom-rect.top;rect=r;}
return rect;};}());


(function(window){lib.isMouseLeave=function(event,element){if(!event){event=window.event;}
var r=event.relatedTarget||event.toElement;while(r&&r.nodeType===1){if(r===element){return false;}
r=r.parentNode;}
return true;};}(window));


(function(){var select=function(selector,maxCount){var
style=document.createStyleSheet(),all=document.all,l=all.length,i,resultSet=[];try{style.addRule(selector,"foo:bar");for(i=0;i<l;i+=1){if(all[i].currentStyle.foo==="bar"){resultSet.push(all[i]);if(resultSet.length>maxCount){break;}}}
style.removeRule(0);}catch(e){}
return resultSet;};if(document.querySelectorAll||document.querySelector){return;}
document.querySelectorAll=function(selector){return select(selector,Infinity);};document.querySelector=function(selector){return select(selector,1)[0]||null;};}());


(function(lib,document,window){var t=window.styleMedia||window.media||{};if(!t.matchMedium){if(window.matchMedia){t.matchMedium=function(m){return window.matchMedia(m||'all').matches;};}else{var c,n='_mm_'+Math.random().toString().substr(2),p=document.getElementsByTagName('script')[0],s=document.createElement('style');s.type='text/css';s.id=n;p.parentNode.insertBefore(s,p);c=window.getComputedStyle?window.getComputedStyle(s,null):s.currentStyle;t.matchMedium=function(m){var text='@media '+m+'{#'+n+'{width:1px!important}}';if(s.styleSheet){s.styleSheet.cssText=text;}else{s.textContent=text;}
return c.width==='1px';};}}
lib.matchMedium=function(m){return t.matchMedium(m||'all');};}(lib,document,window));


(function(lib){lib.name='PLISTA';lib.prefix='plista_widget_';lib.isTouch='ontouchstart'in document.documentElement;lib.event={CLICK:'click',MESSAGE:'message',MOUSEOVER:'mouseover',MOUSEOUT:'mouseout',ORIENTATION_CHANGE:'orientationchange',RESIZE:'resize',WIDGET_VIEW:'widgetview',RECOMMENDATION_SEEN:'recommendationseen'};lib.system='unknown';lib.hasVideo=function(){var video=document.createElement('video');return video&&video.canPlayType?true:void 0;};lib.hasFlash=function(){return PLISTA.options.flash;};lib.call=function(type,data){PLISTA.remotedata(type,data);};lib.loadCSS=function(src){PLISTA.util.loadCSS(src);};lib.addEventListener=function(type,listener,element){PLISTA.util.DOM.addEventListener(element,type,listener);};lib.removeEventListener=function(type,listener,element){PLISTA.util.DOM.removeEventListener(element,type,listener);};lib.bind=function(f,t){return Function.prototype.bind?f.bind(t):function(){f.apply(t,arguments);};};if(window.JSON&&JSON.stringify&&JSON.stringify([])==='[]'){lib.JSON=window.JSON;}else{var stringEscape=function(string){return String(string).replace(/"/g,'\\"');};var stringify=function(object){var o,isArray=Object.prototype.toString.call(object)==='[object Array]',result=isArray?'[':'{';for(var i in object){if(object.hasOwnProperty(i)){o=object[i];i=isArray?'':'"'+stringEscape(i)+'":';if(typeof o==='undefined'){result+='';}else if(typeof o==='string'){result+=i+'"'+stringEscape(o)+'",';}else if(typeof o==='number'||typeof o==='boolean'){result+=i+o+',';}else if(!o){result+=i+'null,';}else if(typeof o==='object'){result+=i+stringify(o)+',';}}}
result=result.length>1?result.substr(0,result.length-1):result;result+=isArray?']':'}';return result;};lib.JSON={stringify:stringify,parse:function(s){try{return eval('('+s+')');}catch(e){return null;}}};}
lib.log=function(){if(lib.debug&&window.console){try{console.log.apply(console,arguments);}catch(error){console.log(arguments);}}};var countedEngagements={};lib.countEngagement=function(type,item){var key=type+'-'+(item.widgetname||item.widgetid)+'-'+item.itemid;if(key in countedEngagements){lib.log('already counted - '+type+' - for '+(item.widgetname||item.widgetid)+'-'+item.itemid);return false;}
countedEngagements[key]=true;if(item.bv){item.additionalParams={bv:item.bv};}
PLISTA.engagements.countEngagement(item,{listwidget:{spec:{widgetname:item.widgetname||''}}},type,function(data){if(data&&data.tracking){(new Image()).src=data.tracking;}},true);return true;};lib.error=function(){PLISTA.util.getLogger('error').fatal(arguments);};lib.parseURL=function(){return'';};lib.cancelEvent=function(event){if(!event){event=window.event;}
event.returnValue=false;event.cancelBubble=true;if(event.preventDefault){event.preventDefault();}
if(event.stopPropagation){event.stopPropagation();}};lib.querySelector=function(){return document.querySelector.apply(document,arguments);};lib.querySelectorAll=function(){return document.querySelectorAll.apply(document,arguments);};lib.toDataAttributeString=function(data){var i,result='';for(i in data){if(data.hasOwnProperty(i)){result+=' data-'+i.replace(/_/g,'-')+'="'+lib.replaceHTMLChars(data[i])+'"';}}
return result;};lib.replaceHTMLChars=function(text){var map={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'};return String(text).replace(/[&<>"']/g,function(m){return map[m];});};}(PLISTA));


PLISTA.adblockdetect=function(){var a=document.createElement('a'),d=document.createElement('div'),result=false,style;try{d.className='plistaList';a.className='itemLinkPET';a.href='ht'+'tp://click.plista.com/pets/abp';a.style.display='block';a.innerHTML='&nbsp;';d.appendChild(a);document.body.appendChild(d);style=window.getComputedStyle(a,null);if(style.display==='none'){result=true;}else if(style.MozBinding&&style.MozBinding.match(/url\("about:(abp|sab)/)){result=true;}}catch(e){}
if(d.parentNode){d.parentNode.removeChild(d);}
return result;};


(function(lib,document,window){var y,t,p,TICK=250;function tick(){var i,r,d,x,b,db=document.body,de=document.documentElement,dh=Math.max(db.scrollHeight,db.offsetHeight,de.clientHeight,de.scrollHeight,de.offsetHeight),w=window.innerWidth||de.clientWidth||db.clientWidth,h=window.innerHeight||de.clientHeight||db.clientHeight;for(i=0;i<p.length;i+=1){d=p[i];r=lib.getRect(d.container);if(d.view.last){b=r.bottom<=h&&r.bottom>=0;}else{x=r.height*d.view.percent;b=r.bottom>=x&&r.top<=h-x;}
if(b&&r.right>=0&&r.left<=(w-100)&&dh>=(r.height+50)&&r.height>0&&r.width>0){t[i]=t[i]||0;t[i]+=TICK;if(t[i]>=d.view.time){lib.call(lib.event.WIDGET_VIEW,{eventtype:14,widgetname:d.name,bv:d.bv,items:d.items,campaigns:d.campaigns});t.splice(i,1);p.splice(i,1);}}else{t[i]=0;}}
if(!p.length){clearInterval(y);}}
if(!lib.adblockdetect()){lib.onLoad.subscribe(function(){t=[];p=[];if(lib.listwidgets){lib.listwidgets.onRefresh.subscribe(function(evt,d){var i,bv,campaignids=[],itemids=[],items=d.widget.spec.list.getData();if(!items.length){return;}
for(i=0;i<items.length;i+=1){if(items[i].status>0&&items[i].additionalParams){bv=items[i].additionalParams.bv;}
campaignids.push(items[i].campaignid?items[i].campaignid:0);itemids.push(items[i].itemid);}
p.push({name:d.widget.getName(),container:d.widget.getTarget(),campaigns:campaignids,items:itemids,view:d.widget.getViewSettings(),bv:bv});clearInterval(y);y=setInterval(tick,TICK);});}});}}(lib,document,window));


PLISTA.listwidgets=[];PLISTA.onReset.subscribe(function(){var lw=PLISTA.listwidgets.pop();while(lw){lw.destroy();lw=PLISTA.listwidgets.pop();}},null,'destroy_listwidgets');PLISTA.listwidgets.ieFixInlineImages=function(){var i,url='',imgs=this.getElementsByTagName('img');for(i=0;i<imgs.length;i+=1){if(!imgs[i].src||imgs[i].src.indexOf('data:')===0){url=imgs[i].url;if(url){imgs[i].src=url;}}}};PLISTA.listwidgets.onRefresh=PLISTA.util.newEvent(PLISTA.listwidgets,'refresh');PLISTA.showOBA=1;PLISTA.clickpathRegExp=new RegExp('^'+PLISTA.clickpath.replace(/^https?:/,'https?:'));PLISTA.listwidgets.widget=(function(){var construct=function(spec){var that,logger=PLISTA.util.logger.getLogger('listwidgets.widget'),eventkey=PLISTA.util.uniqid('listwidget_anchors');function addClassToHTML(html,className,elementFinder){return html.replace(elementFinder,function(a){var classTest=/class="([a-zA-Z0-9 _\-\[\],\(\)]*)"/,classPresent=classTest.test(a);if(classPresent){a=a.replace(classTest,'class="'+className+' $01"');}else{a=a.replace('<a ','<a class="'+className+'" ');}
return a;});}
function getIsAbove(e){var w=PLISTA.util.DOM.getWindowDimensions(),p=PLISTA.util.DOM.getAbsolutePosition(e);return p.x<w.x&&p.y<w.y;}
function manipulateLinks(item,innerhtml,tempCtx,callbacks){var
pos=tempCtx.position,className=tempCtx.linkClassName;if(item.title){callbacks.push(function(){Array.prototype.forEach.call(PLISTA.util.DOM.getElementsByClassName(className),function(e){e.setAttribute('title',item.title.replace(/\u00ad/g,''));});});}
callbacks.push(function(){Array.prototype.forEach.call(PLISTA.util.DOM.getElementsByClassName(className),function(e){if(item.adoptions&&item.adoptions.batch){e.setAttribute('data-batch',item.adoptions.batch);}
PLISTA.util.DOM.event.add(e,'mousedown',function(){var params,url=e.href;if(!url||item.domain_publickey){return;}
params={domainid:PLISTA.domainid,objectid:item.objectid,position:pos,widgetname:spec.widgetname,clickdomainid:item.domainid,campaignid:item.campaignid,friendid:spec.list.getSpecProperty('objectid'),tagid:spec.list.getSpecProperty('tagid'),params:(item.bucketid!==undefined?item.bucketid:spec.list.getAlgoInfo()),additionalParams:item.additionalParams};if(PLISTA.hideRedirectUrl&&item.type==='default'){e.href=item.url.match(PLISTA.clickpathRegExp)?item.url:PLISTA.createClickURL(params,true);}else{PLISTA.click(params,item.forceTracking||!url.match(PLISTA.clickpathRegExp));}},eventkey);});});innerhtml=addClassToHTML(innerhtml,className,/<a\s[^>]*[^>]*href=['"]\[url\]['"][^>]*[^>]*>/g);return innerhtml;}
function onChange(){that.refresh();}
if(typeof spec.target==='string'){spec.target=document.getElementById(spec.target);}
if(!spec.target){throw new Error('PLISTA.listwidgets.widget: no target element');}
if(!spec.itemStyle){logger.error('no item style defined - setting default, because we\'re nice');spec.itemStyle='<li><a href="[url]">[title]</a></li>';}
if(spec.getListOpts){spec.list=PLISTA.itemlists.getBySpec(spec.getListOpts());spec.count=spec.list.getSpecProperty('count');}else if((typeof spec.list==='string')||(spec.list===undefined)){logger.warn('deprecated warning - list parameter for widget should be list object instead of "'+spec.list+'"');spec.count=parseInt(spec.count,10)||0;spec.list=PLISTA.itemlists.getBySpec({datasource:'recommendations',count:spec.count,objectid:spec.objectid});}else{spec.count=parseInt(spec.count,10)||0;spec.list.setCount(spec.count);}
if(getIsAbove(spec.target)){spec.list.setSpecProperty('position','above');}
if(!spec.styleElements){spec.styleElements=PLISTA.render.defaultStyleElements;}
if(!spec.wrap){spec.wrap='[list]';}else{if((spec.wrap.indexOf('%%LISTTARGET%%')===-1)&&(spec.wrap.indexOf('[list]')===-1)){throw'invalid wrap (wrap, if it is set, must contain %%LISTTARGET%% or [list])';}
spec.wrap=construct.canonizeListTarget(spec.wrap);}
that={spec:spec,setCount:function(cnt){spec.list.setCount(cnt);spec.count=cnt;},init:function(){if(spec.css){PLISTA.util.loadCSS(spec.css);}
that.refresh();},refresh:function(){var i,html='',data=spec.list.getData(),style,ctx=spec.context||{},tempCtx,couponCalls=[],refreshCallbacks=[];PLISTA.util.DOM.event.removeAll(eventkey);ctx.listwidget=that;if(!data){logger.warn('itemlist contains no data! aborting refresh...');return false;}
if((typeof data==='object')&&data&&(typeof data.length==='number')){if(spec.shuffle){data=construct.arrayShuffle(data);}
for(i=0;i<data.length;i+=1){tempCtx=construct.copyObj(ctx);tempCtx.position=i+1;tempCtx.linkClassName=that.getTarget().id+'_link_'+PLISTA.util.uniqid();if((typeof spec.itemStyle==='object')&&spec.itemStyle){style=spec.itemStyle[data[i].type||'default']||'';}else if(!data[i].type){style=spec.itemStyle;}else{logger.warn('no matching style for item '+data[i].domainid+'/'+data[i].objectid);style='';}
style=manipulateLinks(data[i],style,tempCtx,refreshCallbacks);if(style&&data[i].ad_html){style+='<div style="display:none">'+data[i].ad_html+"</div>";data[i].ad_html=null;}
if(data[i].adoptions&&data[i].adoptions.script){PLISTA.util.evalScript(data[i].adoptions.script);}
html+=PLISTA.render.parseStyle(style,data[i].status&parseInt('256',10)?construct.copyObj(data[i]):construct.htmlSafeItemData(data[i]),spec.styleElements,tempCtx);if(data.status&parseInt('4096',10)){couponCalls.push({ctx:tempCtx,item:data[i]});}}}
html=html.replace(/title="([^"]+)"/g,function(val){return val.replace(/\u00ad/g,'');});if(html||PLISTA.options.showloading||spec.showempty){that.getTarget().innerHTML=PLISTA.render.parseStyle(spec.wrap,{list:html},spec.styleElements,{items:data});}
while(refreshCallbacks.length){refreshCallbacks.shift()();}
if(couponCalls.length){PLISTA.loadModules(['couponad'],function(){couponCalls.forEach(function(e){PLISTA.couponad.setCoupon(e.item,[],e.ctx);});});}
that.onRefresh.fire({items:data});PLISTA.listwidgets.onRefresh.fire({widget:that,items:data});return true;},destroy:function(){var i;spec.list.onChange.unsubscribe(onChange);that.getTarget().innerHTML='';i=PLISTA.listwidgets.indexOf(that);if(i===-1){logger.debug('list widget not in PLISTA.listwidgets o.O');return;}
PLISTA.listwidgets.splice(i,1);},toString:function(){return"list widget: "+that.getName();},getViewSettings:function(){var p=PLISTA.context,data=spec.widgetview||{};data.percent=(data.percent>=0?data.percent:p.WIDGET_VIEW_PERCENT>=0?p.WIDGET_VIEW_PERCENT:0)/100;data.time=data.time>=0?data.time:p.WIDGET_VIEW_TIME>=0?p.WIDGET_VIEW_TIME:3e3;data.last=data.last>=0?data.last:p.WIDGET_VIEW_LAST_PIXEL>=0?p.WIDGET_VIEW_LAST_PIXEL:0;return data;},getName:function(){return spec.widgetname;},setList:function(list){spec.list.onChange.unsubscribe(onChange);list.onChange.subscribe(onChange);spec.list=list;}};that.onRefresh=PLISTA.util.newEvent(that,'refresh');if(typeof spec.target==='function'){that.getTarget=spec.target;}else{that.getTarget=function(){return spec.target;};}
if(PLISTA.isIE6||PLISTA.isIE7){that.onRefresh.subscribe(PLISTA.listwidgets.ieFixInlineImages,that.getTarget(),'ieFixInlineImages');}
if(PLISTA.showOBA===2){that.onRefresh.subscribe(PLISTA.oba,that.getTarget(),'OBA');}else if(PLISTA.showOBA===1){that.onRefresh.subscribe(PLISTA.OBA.powered,that.getTarget(),'OBA');}
if(PLISTA.partner){that.onRefresh.subscribe(PLISTA.partner.addPlistaTracking,that);}
that.setList(spec.list);PLISTA.listwidgets.push(that);return that;};construct.arrayShuffle=function(a){var
tmp,rand,l=a.length,i;for(i=0;i<l;i+=1){rand=Math.floor(Math.random()*l);tmp=a[i];a[i]=a[rand];a[rand]=tmp;}
return a;};construct.htmlSafeItemData=function(item){var safe={},name;for(name in item){if(item.hasOwnProperty(name)){if(typeof item[name]==='string'&&name!=='html'){safe[name]=PLISTA.util.htmlEntities(item[name]);}else{safe[name]=item[name];}}}
return safe;};construct.canonizeListTarget=function(s){var idS='id="[list]"',tmp;s=s.replace('%%LISTTARGET%%','[list]');tmp=s.indexOf(idS);if(tmp!==-1){tmp=s.indexOf('>',tmp);s=s.substr(0,tmp+1)+'[list]'+s.substr(tmp+1);s=s.replace(idS,'');}
return s;};construct.copyObj=function(a){var n,b={};for(n in a){if(a.hasOwnProperty(n)){b[n]=a[n];}}
return b;};return construct;}());


PLISTA.countryCode='de';PLISTA.options.autoinit=false;PLISTA.options.showloading=false;PLISTA.onBeforeInit.subscribe(function(){var o,k=false,r=/plista\[([a-z]+)\]=([a-z0-9]+)/g,d={};try{o=r.exec(decodeURIComponent(PLISTA.test&&PLISTA.test.search?PLISTA.test.search:document.location.search));while(o){d[o[1]]=o[2];k=true;o=r.exec(decodeURIComponent(PLISTA.test&&PLISTA.test.search?PLISTA.test.search:document.location.search));}}catch(e){PLISTA.util.logger.getLogger('partner.options').warn(e);}
if(k){PLISTA.remotedata('options',d);}
PLISTA.partner.options=d;},null,'parse_partner_options');PLISTA.partner={options:null,widgets:[],placements:[],determineOverrideName:function(osettings){var n,key,rand=Math.random(),p=0,line,tmp;for(n in osettings){if(osettings.hasOwnProperty(n)){line=osettings[n];key=line[0].split(':');if(key[0]==='p'){p=parseFloat(key[1])+p;if(p>rand){return line[1];}
if(p>1){throw new Error('sum of all probabilities is larger than 1 o.O');}}
if(key[0]==='ua'){tmp=key[1].match(/^\/(.+)\/([igm])?/);if((new RegExp(tmp[1],tmp[2])).test(navigator.userAgent)){return line[1];}}}}
return'';},init:(function(){var hasRun=false,timer=0,logger=PLISTA.util.logger.getLogger('partner.init');PLISTA.onReset.subscribe(function(){hasRun=false;});return function(loc,init){if(hasRun){throw new Error('PLISTA.partner.init must not be called twice in a row. If you need to re-initialize plista, please call PLISTA.reset first.');}
hasRun=true;if(PLISTA.isInited()){logger.error('did not run PLISTA.partner.init because PLISTA.init was called before');}
if(timer){logger.warn('second partner.init-call before first was completed. cancelling first one...');clearTimeout(timer);}
function start(){var ws=[];try{PLISTA.partner.init.onBefore.fire();PLISTA.partner.placements.forEach(function(p){var w,target=false;if(loc&&loc[p.name]){target=loc[p.name];}else if(typeof p.target==='string'){target=document.getElementById(p.target);}
if(!target){return;}
w=PLISTA.partner.widgets[PLISTA.partner.determineOverrideName(p.override)||p.name]();w.target=target;ws.push(w);});if(init!==false){PLISTA.onLoad.subscribe(function(){PLISTA.partner.initWidgets(ws);});PLISTA.init();}else{PLISTA.partner.initWidgets(ws);}}catch(e){logger.error(e);}}
if(PLISTA.useDocumentReady){PLISTA.documentReady(function(){timer=setTimeout(start,PLISTA.options.partnerInitDelay||0);});}else{timer=setTimeout(start,PLISTA.options.partnerInitDelay||0);}};}()),addPlistaTracking:function(){var i,e=this.getTarget(),es=e.getElementsByTagName('a'),href;function changeAdvHereLink(e){return function(data){if(!(data&&data.success)){return;}
e.parentNode.replaceChild(PLISTA.util.DOM.createElement('div',data.markup).firstChild,e);};}
for(i=0;i<es.length;i+=1){href=es[i].href;if(href&&href.match(/^https?:\/\/www\.plista\.com\/($|[a-z]{2}$)/i)){es[i].href+='?utm_source=plista_widget&utm_medium='+PLISTA.countryCode+'_widget&utm_campaign=powered_by_plista';}else if(href&&href.match(/^https?:\/\/www\.plista\.com\/([0-9a-z_\-]+(\/|$))+/i)){es[i].href+='?utm_source=plista_widget&utm_medium='+PLISTA.countryCode+'_widget&utm_campaign=advertise_here';}else if(href.indexOf('dummy')!==-1){PLISTA.remotedata('advertiseherelink',{objectid:PLISTA.items[0]?PLISTA.items[0].objectid:null},changeAdvHereLink(es[i]));}}},initWidgets:function(widgets){if((typeof widgets!=='object')||(widgets===null)){return;}
function gotoFirstWidget(){setTimeout(function(){if(!PLISTA.listwidgets){return;}
var i;for(i=0;i<PLISTA.listwidgets.length;i++){if(PLISTA.listwidgets[i]&&PLISTA.listwidgets[i].getName()!=='slide'){document.location.hash='#'+PLISTA.listwidgets[i].getTarget().id;}}},500);}
widgets.forEach(function(spec){var widget;spec.target.className=(spec.target.className+' plista_widget_'+spec.widgetname).trim();if(spec.pages){widget=PLISTA.listwidgets.pagination(spec);}else{widget=PLISTA.listwidgets.widget(spec);}
if(document.location.hash==='#plista'){widget.onRefresh.subscribe(gotoFirstWidget,null,'gotoFirstWidget');}
widget.init();});}};PLISTA.partner.init.onBefore=PLISTA.util.newEvent(PLISTA.partner.init,'before');


PLISTA.options.flash=(function(){var detectFlash=function(m){var i,d,a_v=0;try{if(navigator.plugins&&typeof navigator.plugins["Shockwave Flash"]==="object"){d=navigator.plugins["Shockwave Flash"].description;a_v=parseInt(d.substr(16,(d.indexOf(".",16)-16)),10);}else if(typeof ActiveXObject==="function"){for(i=2;i<=m;i+=1){try{if(typeof(new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i))==="object"){a_v=i;}}catch(err){}}}}catch(error){}
return a_v;};return detectFlash(10)>=10;}());


PLISTA.options.video=(function(){var video;try{video=document.createElement('video');video=video&&video.canPlayType?true:false;}catch(e){video=false;}
return video;}());


PLISTA.engagements={AFTER_SOME_SECONDS_DELAY:6000,AFTER_SOME_SECONDS:parseInt('2',10),START:parseInt('1',10),CANCEL:parseInt('4',10),FINISH:parseInt('3',10),TRIGGER_START:parseInt('9',10),FALLBACK:parseInt('10',10),FLYAD_START:parseInt('11',10),FLYAD_ENGAGE:parseInt('12',10),FLYAD_FINISH:parseInt('13',10),countEngagement:function(item,ctx,eventtype,callback,ext){PLISTA.remotedata('countengagement',{itemid:item.itemid,objectid:PLISTA.currentObjectid(),campaignid:item.campaignid,eventtype:eventtype,additionalParams:item.additionalParams,widgetname:ctx&&ctx.listwidget?ctx.listwidget.spec.widgetname:null,prvw:item.prvw,ext:ext},callback);PLISTA.util.logger.getLogger('engagements').debug('engagement request (event '+eventtype+') for item '+item.itemid+' (campaign '+item.campaignid+')');}};


(function(){lib.getFlash=function(attributes,flashVars){var i,object,flashVar='',div=document.createElement('div');for(i in flashVars){if(flashVars.hasOwnProperty(i)){flashVar+='&amp;'+i+'='+encodeURIComponent(flashVars[i]);}}
div.style.display='none';div.innerHTML='<object '+'data="'+attributes.src+'" '+'type="application/x-shockwave-flash" >'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="false" />'+'<param name="scale" value="'+(attributes.scale||'noscale')+'" />'+'<param name="quality" value="'+(attributes.quality||'high')+'" />'+'<param name="wmode" value="'+(attributes.wmode||'opaque')+'" />'+'<param name="bgcolor" value="'+(attributes.bgcolor||'FFFFFF')+'" />'+'<param name="movie" value="'+attributes.src+'" />'+'<param name="flashVars" value="'+flashVar+'" />'+'</object>';object=div.getElementsByTagName('object')[0];return object;};}());


(function(window){var x,frame,active=[];function enterframe(){var now,t;for(x=0;x<active.length;x+=1){t=active[x];now=new Date()-t.startTime;if(now>=t.time){t.currentValue=t.value;t.currentTime=t.time;t.element.style[t.property]=t.value+t.unit;t.remove();t.progress();t.complete();}else{t.currentTime=now;t.currentValue=t.easing(now,t.time,t.startValue,t.difference);t.element.style[t.property]=t.currentValue+t.unit;t.progress();}}}
function Tween(element,property,value,time,complete,progress,easing){this.element=element;this.property=property;this.value=value;this.time=time>0?time:0;this.easing=Tween[String(easing).toLowerCase()]||Tween.linear;this.complete=complete||this.complete;this.progress=progress||this.progress;}
Tween.prototype.start=function(){var s=this.element.style[this.property]?this.element.style[this.property]:window.getComputedStyle?window.getComputedStyle(this.element)[this.property]:this.element.currentStyle[this.property],n=parseFloat(s)||0;this.unit=s?s.replace(/^(\+|-)?\d+(\.\d+)?/,''):'';this.element.style[this.property]=n+this.unit;this.difference=this.value-n;this.currentValue=this.startValue=n;this.currentTime=0;this.startTime=new Date().getTime();active.push(this);if(!frame){frame=setInterval(enterframe,16);}
enterframe();return this;};Tween.prototype.remove=function(){var i;for(i=0;i<active.length;i+=1){if(active[i]===this){active.splice(i,1);x=i-1;break;}}
if(active.length===0){clearInterval(frame);frame=null;}
this.time=this.time-this.currentTime;this.currentTime=0;return this;};Tween.prototype.stop=function(){this.complete();this.remove();return this;};Tween.prototype.progress=function(){};Tween.prototype.complete=function(){};Tween.linear=function(now,time,original,difference){return difference*now/time+original;};Tween.easeinquad=function(now,time,original,difference){return difference*(now/=time)*now+original;};Tween.easeoutquad=function(now,time,original,difference){return-difference*(now/=time)*(now-2)+original;};lib.Tween=Tween;}(window));


(function(lib,document){function Popup(id){id=id||'popup';this.main=document.createElement('div');this.bg=document.createElement('div');this.container=document.createElement('div');this.wrapper=document.createElement('div');this.title=document.createElement('div');this.close=document.createElement('div');this.content=document.createElement('div');this.powered=document.createElement('div');this.topAnimation=[30,16];this.main.setAttribute('data-id',id);this.bg.setAttribute('data-id',id+'-bg');this.container.setAttribute('data-id',id+'-container');this.wrapper.setAttribute('data-id',id+'-wrapper');this.title.setAttribute('data-id',id+'-title');this.close.setAttribute('data-id',id+'-close');this.content.setAttribute('data-id',id+'-content');this.powered.setAttribute('data-id',id+'-powered');this.oncomplete=null;this.wrapper.appendChild(this.title);this.wrapper.appendChild(this.close);this.wrapper.appendChild(this.content);this.wrapper.appendChild(this.powered);this.container.appendChild(this.wrapper);this.main.appendChild(this.bg);this.main.appendChild(this.container);this.powered.innerHTML='<a target="_blank" href="'+lib.wwwpath+'">powered by plista</a>';this.remove=lib.bind(this.remove,this);lib.addEventListener(lib.event.CLICK,this.remove,this.bg);lib.addEventListener(lib.event.CLICK,this.remove,this.close);}
Popup.prototype.init=function(complete){this.append();this.animate();if(complete){complete();}};Popup.prototype.setWidth=function(value){this.container.style.width=value+'px';};Popup.prototype.getWidth=function(){return lib.getRect(this.wrapper).width;};Popup.prototype.append=function(){if(!this.appended){this.target=this.target||document.body;this.target.appendChild(this.main);this.appended=true;}};Popup.prototype.remove=function(){if(this.onremove){this.onremove();}
if(this.appended){this.main.parentNode.removeChild(this.main);this.appended=false;}};Popup.prototype.animate=function(){var bg=this.bg;if(this.topAnimation){this.container.style.top=this.topAnimation[0]+'%';new lib.Tween(this.container,'top',this.topAnimation[1],500,null,null,'easeoutquad').start();}
new lib.Tween(bg,'opacity',0.8,500,null,function(){bg.style.filter='alpha(opacity='+(this.currentValue*100)+')';},'easeoutquad').start();};lib.Popup=Popup;}(lib,document));


(function(lib,document,window){var NAME='VIDEO';function Video(){}
Video.prototype.setURLParams=function(params){this.urlParams=params;};Video.prototype.init=function(container,widget,query){container.title='';this.id=container.id;this.container=container;this.widget=widget;this.loop=!lib.isTouch;this.tweenTime=lib.isTouch?0:250;this.expanded=false;this.clicked=0;this.aspectRatio=0.5666667;this.previewRect={width:96,height:54};this.hasOverlay=true;if(this.container.tagName.toLowerCase()==='a'){this.url=container.getAttribute('data-redirect')||container.href;this.urlParams=lib.parseURL(this.url).params;}else{lib.error(NAME,'container is not an anchor tag');}
this.wrapper=lib.querySelector(query+' [id^=flAdContainer]');this.textfield=lib.querySelector(query+' [id^=flAdData]');this.text=lib.querySelector(query+' .itemText');this.title=lib.querySelector(query+' .itemTitle');this.action=lib.querySelector(query+' [data-id=video-action]');this.button=lib.querySelector(query+' [data-id=video-button]');this.videoWrapper=lib.querySelector(query+' [data-id=video-wrapper]');this.closeButton=lib.querySelector(query+' [data-id=video-close]');this.overlay=lib.querySelector(query+' [data-id=video-overlay]');this.play=lib.querySelector(query+' [data-id=video-play]');this.preview=lib.querySelector(query+' [data-id=video-preview]');this.progress=lib.querySelector(query+' [data-id=video-progress]');this.track=lib.querySelector(query+' [data-id=video-track]');this.fallback=this.overlay.getElementsByTagName('img')[0];this.iframe=this.action.getElementsByTagName('iframe')[0];this.maxWidth=this.getMaxWidth();this.mode=this.play.getAttribute('data-mode')||'auto';this.engage=lib.isTouch?lib.event.CLICK:(this.play.getAttribute('data-engage')||'auto');this.container.id='';this.container.video=this;this.video=this.overlay;this.wrapper.style.position='relative';if(this.wrapper.getAttribute('data-button-src')){this.button.src=this.wrapper.getAttribute('data-button-src');}
if(this.wrapper.getAttribute('data-auto-close')){this.loop=false;this.autoClose=true;}
if(navigator.userAgent.indexOf('MSIE 7')>-1){this.overlay.innerHTML='';this.container.style.position='static';if(!this.iframe){this.action.style.height=0;}}
if(lib.system.match(/^Android( [1-3](\.\d+)?$)/)){this.play.setAttribute('data-flv',String(this.play.getAttribute('data-flv')).replace(/^https:\/\//,'http://'));this.play.setAttribute('data-mp4',String(this.play.getAttribute('data-mp4')).replace(/^https:\/\//,'http://'));this.play.setAttribute('data-webm',String(this.play.getAttribute('data-webm')).replace(/^https:\/\//,'http://'));}};Video.prototype.create=function(){if(this.mode==='frame'){this.button.style.display='none';this.action.parentNode.parentNode.appendChild(this.action);this.action.style.display='block';}
this.setupMode();this.bind();if(this.mode!=='frame'){this.addEventListeners();this.interval=setInterval(lib.bind(this.setupAspectRatio,this),100);}};Video.prototype.getMaxWidth=function(){var w=Number(this.wrapper.getAttribute('data-max-width'));if(!w&&lib.isTouch){w=Number(this.play.getAttribute('data-max-width'));}
return w||680;};Video.prototype.bind=function(){this.resize=lib.bind(this.resize,this);this.show=lib.bind(this.show,this);this.hide=lib.bind(this.hide,this);this.showComplete=lib.bind(this.showComplete,this);this.hideComplete=lib.bind(this.hideComplete,this);this.popupComplete=lib.bind(this.popupComplete,this);this.checkScroll=lib.bind(this.checkScroll,this);this.onanimate=lib.bind(this.onanimate,this);this.onseconds=lib.bind(this.onseconds,this);this.mouseout=lib.bind(this.mouseout,this);this.mouseover=lib.bind(this.mouseover,this);this.click=lib.bind(this.click,this);this.close=lib.bind(this.close,this);};Video.prototype.resize=function(){var s,t,r,w,d;if(!this.expanded){if(this.tween){return;}
d=this.play.style.display;this.play.style.display='block';this.previewRect=lib.getRect(this.preview);this.videoWrapper.style.width=this.overlay.style.width=this.video.style.width=this.previewRect.width+'px';this.overlay.style.height=this.video.style.height=this.previewRect.width*this.aspectRatio+'px';this.play.style.display=d;return;}
w=this.getWidth();this.videoWrapper.style.width=this.overlay.style.width=this.video.style.width=w+'px';this.overlay.style.height=this.video.style.height=this.getHeight(true)+'px';if(this.iframe){this.iframe.style.width=this.video.style.width;this.action.style.width=this.video.style.width;}
if(this.mode==='widget'){r=lib.getRect(this.widget.container);t=-(lib.getRect(this.popup.container).height-r.height)/2;s=lib.getRect(this.container).top-r.top;t=t<0?0:t>s?s:t;this.popup.container.style.top=t+'px';this.popup.setWidth(w);}};Video.prototype.addVisibleListeners=function(){var i,e,name='',type='',events=[['hidden','visibilitychange'],['webkitHidden','webkitvisibilitychange'],['msHidden','msvisibilitychange'],['mozHidden','mozvisibilitychange']];for(i=0;i<events.length;i+=1){e=events[i];if(document[e[0]]!==void 0){name=e[0];type=e[1];break;}}
if(type&&!lib.isTouch){lib.addEventListener(type,lib.bind(function(){if(document[name]){this.onhide();}else{this.onvisible();}},this),document);}
if(this.autopause){setInterval(lib.bind(function(){var wh=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,rect=lib.getRect(this.video),height=rect.height*0.5;if(height+rect.top>wh||rect.top<-height){if(this.visible){this.visible=false;this.onhide();}}else if(!this.visible){this.visible=true;this.onvisible();}},this),1000);}};Video.prototype.onhide=function(){if(!this.video.paused&&this.video.pause){this.playedTime+=(new Date().getTime()-this.startTime);clearTimeout(this.secondsTimeout);this.video.pause();}};Video.prototype.onvisible=function(){if(this.visible&&this.expanded&&this.video.paused&&this.video.pause){this.startTime=new Date().getTime();this.playing();this.video.play();}};Video.prototype.setupMode=function(){var v;if(this.popup){this.popup.remove();this.popup=null;v=true;}
if(this.isPopup()){this.tweenTime=0;if(this.mode==='widget'){this.popup=new lib.Popup('widget-overlay');this.popup.topAnimation=null;this.popup.target=this.widget.container;this.maxWidth=640;}else{this.popup=new lib.Popup();this.maxWidth=576;}
this.popup.setWidth(this.maxWidth);this.popup.onremove=this.hide;if(this.title){this.popup.title.innerHTML=this.title.innerText||this.title.textContent;}
this.action.parentNode.removeChild(this.action);this.videoWrapper.parentNode.removeChild(this.videoWrapper);var a=document.createElement('a');a.href=this.url;a.target='_blank';a.appendChild(this.videoWrapper);a.appendChild(this.action);this.popup.content.appendChild(a);}else if(v){this.tweenTime=250;this.action.parentNode.removeChild(this.action);this.videoWrapper.parentNode.removeChild(this.videoWrapper);this.wrapper.appendChild(this.videoWrapper);this.wrapper.appendChild(this.action);}};Video.prototype.isPopup=function(){return this.mode==='popup'||this.mode==='widget';};Video.prototype.getWidth=function(){var w,l,r,p;if(this.mode==='widget'){this.containerRect=lib.getRect(this.widget.container);w=this.containerRect.width;}else if(this.mode==='popup'){this.containerRect=lib.getRect(this.popup.content);w=this.containerRect.width;}else{this.containerRect=lib.getRect(this.container);l=lib.getRect(this.wrapper).left-lib.getRect(this.container).left;r=lib.getRect(this.container).right-lib.getRect(this.wrapper).right;p=l<r?l:r;w=this.containerRect.width-(p>0?p*2:0);}
return w>this.maxWidth?this.maxWidth:w;};Video.prototype.getHeight=function(){return this.getWidth()*this.aspectRatio;};Video.prototype.setupAspectRatio=function(){this.previewRect=lib.getRect(this.preview);return this.previewRect.height&&this.previewRect.width;};Video.prototype.addEventListeners=function(){if(this.engage===lib.event.CLICK){lib.addEventListener(lib.event.CLICK,this.close,this.closeButton);lib.addEventListener(lib.event.CLICK,this.click,this.container);}else{lib.addEventListener(lib.event.MOUSEOVER,this.mouseover,this.container);lib.addEventListener(lib.event.MOUSEOUT,this.mouseout,this.container);lib.addEventListener(lib.event.MOUSEOUT,lib.bind(this.widgetout,this),this.widget.container);}
lib.addEventListener(lib.event.RESIZE,this.resize,window);lib.addEventListener(lib.event.ORIENTATION_CHANGE,this.resize,window);};Video.prototype.createVideo=function(){this.isCreated=true;};Video.prototype.switchDisplayMode=function(){if(!lib.switchVideoDisplayMode){return;}
this.mode=lib.switchVideoDisplayMode.apply(this,[lib.getRect(this.container),lib.getRect(this.widget.container),{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}]);this.setupMode();};Video.prototype.addVideo=function(){this.switchDisplayMode();this.addVisibleListeners();this.play.style.display=this.isPopup()?'':'none';if(this.mode==='widget'){this.widget.container.style.position='relative';}
if(this.isPopup()){this.popup.onremove=this.hide;this.popup.init(this.popupComplete);}};Video.prototype.popupComplete=function(){this.videoWrapper.style.width=this.overlay.style.width=this.video.style.width=this.getWidth()+'px';this.overlay.style.height=this.video.style.height=this.getHeight()+'px';if(this.iframe){this.iframe.style.width=this.video.style.width;}};Video.prototype.click=function(e){if(new Date().getTime()>this.clicked+500){if(this.expanded){return true;}
this.show();this.onclick();}
this.clicked=new Date().getTime();lib.cancelEvent(e);return false;};Video.prototype.close=function(e){if(new Date().getTime()>this.clicked+500){this.hide();}
this.clicked=new Date().getTime();lib.cancelEvent(e);return false;};Video.prototype.mouseover=function(e){clearTimeout(this.mouseoverTimeout);e=e||window.event;if(Video.closed){return false;}
this.mouseoverTimeout=setTimeout(this.show,250);return false;};Video.prototype.widgetout=function(e){if(Video.closed&&lib.isMouseLeave(e,this.widget.container)){Video.closed=false;}};Video.prototype.mouseout=function(e){clearTimeout(this.mouseoverTimeout);if(!this.isPopup()&&lib.isMouseLeave(e,this.container)){this.hide();}
return false;};Video.prototype.mute=function(bool){this.isMuted=bool;};Video.prototype.show=function(force){if(!force&&(this.expanded||this.tween)){return;}
this.expanded=this.visible=true;this.video.style.display='block';this.video.style.width=this.previewRect.width+'px';this.video.style.height=this.previewRect.height+'px';if(!this.isPopup()){if(lib.isTouch&&!this.iframe){this.textMarginLeft(0);}else{this.textfield.style.display='none';}}
var width=this.getWidth();this.tween=new lib.Tween(this.video,'width',width,this.tweenTime);this.tween.progress=this.onanimate;this.tween.complete=this.showComplete;this.tween.start();};Video.prototype.onanimate=function(){this.overlay.style.height=this.video.style.height=Math.round(parseFloat(this.video.style.width)*this.aspectRatio)+'px';this.videoWrapper.style.width=this.overlay.style.width=this.video.style.width;};Video.prototype.showComplete=function(){this.closeButton.style.display=this.engage===lib.event.CLICK&&!this.isPopup()?'block':'none';this.container.setAttribute('data-expanded','1');this.wrapper.style.width=this.isPopup()?'':'auto';this.overlay.style.display=this.hasOverlay?'block':'none';if(this.iframe){this.iframe.style.width=this.video.style.width;this.action.style.width=this.video.style.width;this.action.style.display='block';}
this.tween=null;this.resize();this.checkScroll();};Video.prototype.hide=function(){if(!this.expanded||this.tween){return;}
Video.closed=this.mode==='widget';this.expanded=this.visible=false;this.action.style.display=this.closeButton.style.display=this.progress.style.display='';this.overlay.style.display=this.loop&&this.hasOverlay?'block':'';this.showOverlay(false);this.tween=new lib.Tween(this.video,'width',this.previewRect.width,this.tweenTime);this.tween.progress=this.onanimate;this.tween.complete=this.hideComplete;this.tween.start();};Video.prototype.hideComplete=function(){this.container.setAttribute('data-expanded','0');this.wrapper.style.width=this.textfield.style.display='';if(lib.isTouch){this.textMarginLeft('');}
this.tween=null;if(!this.loop){this.play.style.display='';}
if(this.mode==='widget'){this.widget.container.style.position='';this.widget.container.style.height='';}
this.engaged=false;};Video.prototype.textMarginLeft=function(n){if(this.textfield&&this.title&&this.text){this.textfield.style.marginLeft=this.title.style.marginLeft=this.text.style.marginLeft=n;}};Video.prototype.showOverlay=function(n){n=n?1:0;this.video.style.display=n?'none':'block';this.overlay.style.position=n?'relative':'absolute';this.overlay.style.opacity=n;this.overlay.style.filter='alpha(opacity='+(n*100)+')';};Video.prototype.checkScroll=function(){var h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=lib.getRect(this.container);if(r.bottom>h){window.scrollBy(0,19);setTimeout(this.checkScroll,31);}};Video.prototype.oncontextmenu=function(){return false;};Video.prototype.onclick=function(){lib.countEngagement(lib.engagements.TRIGGER_START,this.urlParams);};Video.prototype.onplay=function(){this.showOverlay(false);clearTimeout(this.secondsTimeout);this.startTime=this.startTime||new Date().getTime();this.playedTime=this.playedTime||0;this.playing();lib.countEngagement(lib.engagements.START,this.urlParams);};Video.prototype.playing=function(){this.secondsTimeout=setTimeout(this.onseconds,lib.engagements.AFTER_SOME_SECONDS_DELAY-this.playedTime);};Video.prototype.onend=function(){if(this.autoClose&&this.popup){this.popup.remove();}
if(this.visible){lib.countEngagement(lib.engagements.FINISH,this.urlParams);}
if(this.onended){this.onended();}};Video.prototype.onseconds=function(){if(this.visible){lib.countEngagement(lib.engagements.AFTER_SOME_SECONDS,this.urlParams);}};function IFrameVideo(){}
IFrameVideo.prototype=new Video();IFrameVideo.prototype.constructor=IFrameVideo;IFrameVideo.prototype.create=function(){this.hasOverlay=false;Video.prototype.create.call(this);this.setupOptions();this.setupOrigin();this.aspectRatio=this.options.xratio||0.5666667;this.action.removeChild(this.iframe);this.video=this.iframe;var onlyStrings=false;try{window.postMessage({toString:function(){onlyStrings=true;}},'*');}catch(e){}
this.onlyStrings=onlyStrings;lib.addEventListener(lib.event.MESSAGE,lib.bind(this.receiveMessage,this),window);};IFrameVideo.prototype.setupAspectRatio=function(){if(Video.prototype.setupAspectRatio.call(this)){clearInterval(this.interval);this.previewRect={width:this.previewRect.width,height:this.previewRect.width*this.aspectRatio};this.video.style.width=this.previewRect.width+'px';this.video.style.height=this.previewRect.height+'px';}};IFrameVideo.prototype.setupOptions=function(){for(var i=0,v,n,a=this.iframe.attributes,l=a.length,o={};i<l;i+=1){if(a[i].nodeName.match(/^data-/)){v=(a[i].value||a[i].nodeValue);n=Number(v);o[a[i].nodeName.replace(/^data-/,'')]=n===n?n:v;}}
this.options=o;this.options.url=this.url;this.options.item=this.urlParams;this.options.title=this.title?(this.title.innerText||this.title.textContent):'';this.options.text=this.text?(this.text.innerText||this.text.textContent):'';this.options.image=this.preview.src;this.options.referrer='';};IFrameVideo.prototype.setupOrigin=function(){this.origin=document.location.href.match(/^[a-z:]+\/\/[a-z0-9\-\.]*/);this.origin=this.origin&&this.origin[0];this.iframeOrigin=this.options.src.match(/^[a-z:]+\/\/[a-z0-9\-\.]*/i);this.iframeOrigin=this.iframeOrigin&&this.iframeOrigin[0];};IFrameVideo.prototype.getHeight=function(x){if(x&&this.options.xheight){return Video.prototype.getHeight.call(this)+this.options.xheight;}
return Video.prototype.getHeight.call(this);};IFrameVideo.prototype.load=function(){this.loaded=true;this.options.height=this.getHeight();Video.prototype.show.call(this);this.sendMessage('init',this.options);if(this.isPopup()){this.sendMessage('showComplete');}};IFrameVideo.prototype.show=function(){if(this.expanded||this.tween){return;}
if(this.iframe.parentNode){this.addVideo();this.progress.parentNode.insertBefore(this.video,this.progress);Video.prototype.show.call(this);this.sendMessage('show');}else{this.video.setAttribute('src',this.options.src+'#'+this.origin);this.addVideo();this.progress.parentNode.insertBefore(this.video,this.progress);}};IFrameVideo.prototype.showComplete=function(){this.iframe.style.height=this.getHeight(true)+'px';Video.prototype.showComplete.call(this);this.sendMessage('showComplete');};IFrameVideo.prototype.hide=function(){if(!this.expanded||this.tween){return;}
Video.prototype.hide.call(this);this.action.style.display='';this.sendMessage('hide');};IFrameVideo.prototype.hideComplete=function(){Video.prototype.hideComplete.call(this);if(!this.isPopup()){this.play.style.display='none';}
this.sendMessage('hideComplete');};IFrameVideo.prototype.receiveMessage=function(e){if(this.iframe.parentNode&&e.origin===this.iframeOrigin&&e.source===this.iframe.contentWindow){var data=e.data;lib.log(NAME,'receiveMessage',data);if(this[data]){this[data].call(this);}}};IFrameVideo.prototype.sendMessage=function(name,params){if(!this.iframe.contentWindow){lib.log(NAME,'sendMessage '+name+' iframe window is null');return;}
var data={name:name,params:params};lib.log(NAME,'sendMessage',data.name,data);if(this.onlyStrings){data=lib.JSON.stringify(data);}
if(this.origin===this.iframeOrigin&&this.iframe.contentWindow.receiveMessage){this.iframe.contentWindow.receiveMessage({data:data,origin:this.origin,source:this.iframe.contentWindow});}else{this.iframe.contentWindow.postMessage(data,this.iframeOrigin);}};function HTMLVideo(){}
HTMLVideo.prototype=new Video();HTMLVideo.prototype.constructor=HTMLVideo;HTMLVideo.prototype.create=function(){Video.prototype.create.call(this);this.video=document.createElement('video');this.video.controls=false;this.video.oncontextmenu=this.oncontextmenu;this.video.poster=this.fallback?this.fallback.src:'';this.video.setAttribute('data-id','video-player');this.onloadstart=lib.bind(this.onloadstart,this);this.video.addEventListener('loadstart',this.onloadstart);this.video.addEventListener('timeupdate',lib.bind(this.onprogress,this));this.video.addEventListener('pause',lib.bind(this.onpause,this));this.video.addEventListener('error',lib.bind(this.onerror,this));this.video.addEventListener('ended',lib.bind(this.onend,this));this.video.addEventListener('play',lib.bind(this.onplay,this));};HTMLVideo.prototype.addVideo=function(){Video.prototype.addVideo.call(this);this.progress.parentNode.insertBefore(this.video,this.progress);};HTMLVideo.prototype.setupAspectRatio=function(){if(!Video.prototype.setupAspectRatio.call(this)){return;}
var w,h;this.overlay.style.display='block';if(this.fallback&&this.fallback.src){w=this.fallback.naturalWidth!==void 0?this.fallback.naturalWidth:this.fallback.width;h=this.fallback.naturalHeight!==void 0?this.fallback.naturalHeight:this.fallback.height;if(w&&h){this.aspectRatio=h/w;clearInterval(this.interval);}}else{this.aspectRatio=this.previewRect.height/this.previewRect.width;clearInterval(this.interval);}
this.overlay.style.display='';};HTMLVideo.prototype.show=function(){if(this.expanded){return;}
if(!this.isCreated){this.visible=true;this.createVideo();this.video.src=this.play.getAttribute('data-mp4');this.video.load();this.addVideo();Video.prototype.show.call(this);}else{this.addVideo();Video.prototype.show.call(this);this.video.play();}
this.play.style.display=this.isPopup()?'':'none';this.video.muted=this.isMuted;};HTMLVideo.prototype.showComplete=function(){Video.prototype.showComplete.call(this);this.progress.style.display='block';};HTMLVideo.prototype.hide=function(){Video.prototype.hide.call(this);this.video.muted=true;};HTMLVideo.prototype.hideComplete=function(){Video.prototype.hideComplete.call(this);if(!this.loop){this.video.style.display='none';if(this.video.currentTime){this.video.currentTime=0;}
this.video.pause();}};HTMLVideo.prototype.mute=function(bool){Video.prototype.mute.call(this,bool);this.video.muted=bool;};HTMLVideo.prototype.onloadstart=function(){if(this.video.currentTime){this.video.currentTime=0;}
this.video.play();};HTMLVideo.prototype.onplay=function(){Video.prototype.onplay.call(this);};HTMLVideo.prototype.onpause=function(){if(this.visible&&lib.isTouch){this.showOverlay(true);}};HTMLVideo.prototype.onprogress=function(){this.track.style.width=(this.video.currentTime/this.video.duration)*100+'%';};HTMLVideo.prototype.onend=function(){if(this.loop){setTimeout(this.onloadstart,4000);}else{this.showOverlay(true);}
Video.prototype.onend.call(this);};HTMLVideo.prototype.onerror=function(){if(this.video.src===this.play.getAttribute('data-mp4')){this.video.src=this.play.getAttribute('data-webm');this.video.play();}};var FLASH_ATTRIBUTES={'src':lib.cdnpath+'videos/videoplr.swf',bgcolor:'000000'},FLASH_VARS={'object':lib.name+'.FlashVideo.'},FLASH_INSTANCES=[],FLASH_COUNT=0;lib.FlashVideo={metadata:function(id,ratio){FLASH_INSTANCES[id].onplay(ratio);},end:function(id){FLASH_INSTANCES[id].onend();},error:function(id,text){FLASH_INSTANCES[id].onerror(text);}};function FlashVideo(){}
FlashVideo.prototype=new Video();FlashVideo.prototype.constructor=FlashVideo;FlashVideo.prototype.createVideo=function(){Video.prototype.createVideo.call(this);FLASH_VARS.video=this.play.getAttribute('data-flv');FLASH_VARS.id=FLASH_COUNT;this.video=lib.getFlash(FLASH_ATTRIBUTES,FLASH_VARS);this.video.id=lib.name+'-flash'+FLASH_COUNT;this.video.setAttribute('data-id','video-player');this.video.oncontextmenu=this.oncontextmenu;this.video.style.display='block';this.video.style.width=this.previewRect.width+'px';this.video.style.height=this.previewRect.height+'px';FLASH_INSTANCES[FLASH_COUNT]=this;FLASH_COUNT+=1;HTMLVideo.prototype.addVideo.call(this);};FlashVideo.prototype.setupAspectRatio=function(){if(Video.prototype.setupAspectRatio.call(this)){clearInterval(this.interval);}};FlashVideo.prototype.show=function(){if(this.expanded){return;}
if(this.isCreated&&this.isPopup()){this.video.parentNode.removeChild(this.video);this.isCreated=false;}
if(!this.isCreated||!this.loop){this.createVideo();this.expanded=true;}else{Video.prototype.show.call(this);}};FlashVideo.prototype.showComplete=function(){Video.prototype.showComplete.call(this);if(this.video.showSeek){this.video.showSeek();this.mute(this.isMuted);}};FlashVideo.prototype.hide=function(){if(this.video.hideSeek){this.video.hideSeek();this.video.soundOff();}
Video.prototype.hide.call(this);};FlashVideo.prototype.hideComplete=function(){Video.prototype.hideComplete.call(this);if(!this.loop){this.video.parentNode.removeChild(this.video);}};FlashVideo.prototype.mute=function(bool){Video.prototype.mute.call(this,bool);if(bool&&this.video.soundOff){this.video.soundOff();}else if(this.video.soundOn){this.video.soundOn();}};FlashVideo.prototype.onplay=function(ratio){if(!this.expanded){return;}
this.aspectRatio=ratio;if(this.video.showSeek){this.video.showSeek();this.video.soundOn();}
Video.prototype.show.call(this,true);Video.prototype.onplay.call(this);};FlashVideo.prototype.onend=function(){if(!this.loop){this.video.hideSeek();this.video.soundOff();this.showOverlay(true);}
Video.prototype.onend.call(this);};FlashVideo.prototype.onerror=function(error){};lib.IFrameVideo=IFrameVideo;lib.HTMLVideo=HTMLVideo;lib.FlVideo=FlashVideo;}(lib,document,window));


(function(lib,document,window){var temp,autoStart=(navigator.userAgent.match(/android\s+[4-9]|ipad/i)&&!navigator.userAgent.match(/opera/i));function init(){lib.context.OUTSTREAM_THRESHOLD=lib.context.OUTSTREAM_THRESHOLD===void 0?1:(Number(lib.context.OUTSTREAM_THRESHOLD)||1);var i,slots=lib.querySelectorAll('[id^='+lib.prefix+'] [data-outstream]');for(i=0;i<slots.length;i+=1){listener(slots[i]);}}
function listener(slot){var interval=setInterval(function(){var list=lib.querySelector('#'+slot.video.widget.container.id+' .plistaList'),wh=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,rect=lib.getRect(list);temp=slot.video.video;if(rect.height*lib.context.OUTSTREAM_THRESHOLD+rect.top<=wh&&rect.bottom>=0){create(slot.video,list);clearInterval(interval);}},1000);}
function create(video,list){if(video.isOutStream){return;}
video.isOutStream=true;var height,mode=Number(video.container.getAttribute('data-outstream'))||0,soundButton=document.createElement('div');soundButton.setAttribute('data-id','video-sound');soundButton.innerHTML='<img src="'+lib.cdnpath+'images/vid_sound.png" />';soundButton.onclick=function(){mute(!video.isMuted);return false;};function mute(bool){soundButton.setAttribute('active',bool?0:1);video.mute(bool);}
function close(){video.showOverlay(false);height=lib.getRect(list).height;video.widget.container.style.height=height+'px';new lib.Tween(video.widget.container,'height',0,height*2.3,function(){video.widget.container.style.display='none';video.hide();video.widget.container.innerHTML='';},null,'easeinquad').start();return false;}
lib.removeEventListener(lib.event.CLICK,video.close,video.closeButton);lib.removeEventListener(lib.event.MOUSEOVER,video.mouseover,video.container);lib.removeEventListener(lib.event.MOUSEOUT,video.mouseout,video.container);video.loop=false;video.autopause=true;video.action.style.display='block';video.closeButton.innerHTML='<img src="'+lib.cdnpath+'images/vid_x.png" />';video.closeButton.onclick=close;video.wrapper.appendChild(soundButton);video.checkScroll=function(){};if(video.engage===lib.event.CLICK){mode=1;if(!lib.isTouch||autoStart){video.onended=close;video.show();}
mute(false);}else{mute(true);lib.removeEventListener(lib.event.CLICK,video.click,video.container);video.button.style.display='none';video.onended=close;video.show();}
if(mode>0){if(!lib.isTouch){soundButton.style.display='block';}
mute(mode===2);soundButton.onclick=function(){mute(!video.isMuted);return false;};}else{video.container.onmouseover=function(){mute(false);};video.container.onmouseout=function(){if(lib.isMouseLeave(video.container)){mute(true);}};}
height=lib.getRect(list).height;new lib.Tween(video.widget.container,'height',height,height*3,function(){this.element.style.height='auto';},null,'easeinquad').start();lib.call(lib.event.RECOMMENDATION_SEEN,{widgetname:video.urlParams.widgetname,itemid:video.urlParams.itemid,campaignid:video.urlParams.campaignid,prvw:video.urlParams.prvw,free:video.urlParams.free});}
function autoplay(){if(temp){temp.play();temp.pause();lib.removeEventListener('touchstart',autoplay,window);temp=null;}}
if(lib.isTouch&&autoStart){lib.addEventListener('touchstart',autoplay,window);}
if(lib.listwidgets){lib.listwidgets.onRefresh.subscribe(function(){setTimeout(function(){init();},100);});}}(lib,document,window));


(function(lib){function getIFrame(item){var a=item.adoptions,f,frame='';if(a.options&&a.options.template){a.options.src=lib.cdnpath+'upload/videos/'+a.options.template+'/index.html';frame='<iframe '+lib.toDataAttributeString(a.options)+' width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0" visible="true" allowfullscreen="true" allowtransparency="true" scrolling="no"></iframe>';}else if(a.frameurl){if(a.options&&a.options.audioURL){a.options.url=item.url;f=a.frameurl+'#'+lib.replaceHTMLChars(lib.JSON.stringify(a.options));}else{f=a.frameurl+'#'+encodeURIComponent(item.url+(item.url.indexOf('?')>-1?'&':'?')+'redirect=0');}
frame='<iframe width="100%" height="'+(a.frameheight||150)+'" frameborder="0" marginheight="0" marginwidth="0" visible="true" allowtransparency="true" scrolling="no" src="'+f+'"></iframe>';}
return frame;}
function getMarkup(data,image,width,fallback,frame){return''+'<span data-id="video-play"'+lib.toDataAttributeString(data)+' style="width:'+width+'px">'+'<img data-id="video-button" src="'+lib.cdnpath+'images/vid_play.png" />'+'<img data-id="video-preview" src="'+image+'" />'+'</span>'+'<span data-id="video-wrapper">'+'<span data-id="video-close" style="display:none"><img src="'+lib.cdnpath+'images/vid_close.png" /></span>'+'<span data-id="video-overlay">'+(fallback?'<img src="'+fallback+'" />':'')+'</span>'+'<span data-id="video-progress"><span data-id="video-track"></span></span>'+'</span>'+'<span data-id="video-action">'+frame+'</span>';}
function getData(item){var data={};data.flv=item.adoptions.flv||'';data.mp4=item.adoptions.mp4||'';data.webm=item.adoptions.webm||'';if(item.adoptions.options&&item.adoptions.options.template){data.frame_player=1;}
return data;}
function getFlVideoData(item,args){var data=getData(item);data.mode=item.adoptions.frame?'frame':args[6]?args[6]:'';data.engage=args[5]==='click'?'click':'';data.max_width=args[3]||576;return data;}
function getVideoData(item,args){var data=getData(item);data.mode=item.adoptions.frame?'frame':args[4]?args[4]:'';data.engage=args[3]==='click'?'click':'';data.max_width=680;if(item.adoptions.options&&item.adoptions.options.template){data.frame_player=1;}
return data;}
function getPreview(item,width,imageSize){if(item.img){return getFittingImage(item,width,imageSize);}else{return item.adoptions.gif||'';}}
function getFittingImage(item,width,imageSize){var i,c,d,b,a,aspectRatios=[0.5625,0.75,1];if(imageSize&&imageSize[0]&&imageSize[1]){d=0;b=Number.MAX_VALUE;a=Number(imageSize[1])/Number(imageSize[0]);for(i=0;i<aspectRatios.length;i++){c=Math.abs(a-aspectRatios[i]);if(c<=b){b=c;d=aspectRatios[i];}}
return lib.render.imageUrl(item,width,parseInt(width*d,10),null,true);}
return lib.render.imageUrl(item,width,0,null,true);}
function init(d,item,ctx){var video,widget=d.widget.getTarget(),query='#'+widget.id+' #flAnimTrigger'+ctx.position,element=lib.querySelector(query);if(lib.hasVideo()||lib.hasFlash()){if(lib.querySelector(query+' [data-frame-player=\"1\"]')){video=new lib.IFrameVideo();}else if(lib.hasVideo()){video=new lib.HTMLVideo();}else if(lib.hasFlash()){video=new lib.FlVideo();}
video.init(element,{container:widget},query);item.widgetname=d.widget.getName();video.setURLParams(item);video.create();}}
PLISTA.render.defaultStyleElements.video=function(item,args,ctx){PLISTA.listwidgets.onRefresh.subscribeOnce(function(e,d){setTimeout(function(){init(d,item,ctx);},50);});var width=args[0]||96,height=args[1]||64;return getMarkup(getVideoData(item,args),ctx.listwidget.getName().match(/^outstream/)?(item.adoptions.fallback||''):item.img?lib.render.imageUrl(item,width,height,null,Number(args[2])===1):(item.adoptions.gif||''),width,item.adoptions.fallback||'',getIFrame(item));};PLISTA.render.defaultStyleElements.flVideo=function(item,args,ctx){PLISTA.listwidgets.onRefresh.subscribeOnce(function(e,d){setTimeout(function(){init(d,item,ctx);},50);});var width=args[1]||96;return getMarkup(getFlVideoData(item,args),getPreview(item,width,ctx.listwidget.spec.list.getImageSize()),width,item.adoptions.fallback||'',getIFrame(item));};lib.loadCSS(lib.cdnpath+'async/css/video,popup,outstream.css');}(lib));


PLISTA.util.changer=(function(){var INTERVAL=50,intervalID=0,allChanges=[],that,work,ensureInterval,getChangeByElementAndProperty,newChange;getChangeByElementAndProperty=function(e,cssName){var i,c;for(i=0;i<allChanges.length;i+=1){c=allChanges[i];if(((c.e===e)&&(c.cssName===cssName))){return c;}}
return null;};newChange=function(e,cssName,targetValue,style,speed,update){var v=e.style[cssName]||'0',valueBits=targetValue.toString().match(/(\-?[0-9.]+)(.*)/),data={e:e,cssName:cssName,style:style,update:update};if(!valueBits){throw new Error('invalid targetValue '+targetValue);}
data.yTarget=parseFloat(valueBits[1]);data.unit=valueBits[2];data.yStart=parseFloat(v);data.xTarget=Math.ceil(speed/INTERVAL);data.xCur=0;allChanges.push(data);ensureInterval();return data;};work=function(){allChanges.forEach(function(c){c.xCur+=1;c.e.style[c.cssName]=that.functions[c.style](c.yStart,c.yTarget,c.xTarget,c.xCur)+c.unit;if(c.update){c.update(c);}});allChanges=allChanges.filter(function(c){return c.xCur<c.xTarget;});ensureInterval();};ensureInterval=function(){if(allChanges.length>=1&&!intervalID){intervalID=setInterval(work,INTERVAL);}else if(allChanges.length<1&&intervalID){clearInterval(intervalID);intervalID=0;}};that=function(e,cssName){return{change:function(targetValue,speed,style,update){var c=getChangeByElementAndProperty(e,cssName);if(c){allChanges.splice(allChanges.indexOf(c),1);}
c=newChange(e,cssName,targetValue,style||'linear',speed,update);return c;}};};that.functions={linear:function(yStart,yTarget,xTarget,xCur){return((yTarget-yStart)/xTarget)*xCur+yStart;},sin:function(yStart,yTarget,xTarget,xCur){var relative=((-1*Math.cos(Math.PI*xCur/xTarget))+1)/2;return yStart+(yTarget-yStart)*relative;}};return that;}());


PLISTA.util.cookie={domain:'',createCookie:function(name,value,days){var expires='',date=days;if(typeof days==='number'){date=new Date();date.setDate(date.getDate()+days);}
if(date){expires="; expires="+date.toGMTString();}
document.cookie=name+"="+value+expires+"; path=/"+(PLISTA.util.cookie.domain?';domain='+PLISTA.util.cookie.domain:'');},readCookie:function(name){var nameEQ=name+"=",i,c,ca;ca=document.cookie.split(';');for(i=0;i<ca.length;i+=1){c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;},eraseCookie:function(name){PLISTA.util.cookie.createCookie(name,"",-1);}};


PLISTA.util.scrolllistener=(function(){var
direction=(function(){var prev=-1;return function(cur){var result=cur>prev;prev=cur;return result;};}()),getRelScroll=function(){var
wHeight=PLISTA.util.DOM.getWindowDimensions().y,maxScrollPx=Math.max(0,PLISTA.util.DOM.getDocumentHeight()-wHeight),scrollPx=PLISTA.util.DOM.scrollTop();return maxScrollPx?scrollPx/maxScrollPx:1;},checkListener=function(threshold,scrollTop,relativeScroll){if(/^[0-9]+%$/.test(threshold)){return parseInt(threshold,10)/100<=relativeScroll;}
return parseInt(threshold,10)<scrollTop;},listeners=[],fire=function(force){var relativeScroll=getRelScroll(),scrollTop=PLISTA.util.DOM.scrollTop(),dir=direction(scrollTop);listeners.forEach(function(l){if(force||dir&&!l.passed){if(checkListener(l.threshold,scrollTop,relativeScroll)){l.passed=true;l.callback(dir);}}else if(!dir&&l.passed){if(!checkListener(l.threshold,scrollTop,relativeScroll)){l.passed=false;l.callback(dir);}}});};return{init:function(){PLISTA.util.DOM.event.add(window,'scroll',(function(){var timer=0;return function(){clearTimeout(timer);timer=setTimeout(fire,20);};}()),'scrolllistener');},fire:fire,add:function(threshold,callback){listeners.push({threshold:threshold,callback:callback,passed:checkListener(threshold,PLISTA.util.DOM.scrollTop(),getRelScroll())});},remove:function(threshold,callback){listeners=listeners.filter(function(l){return(l.threshold!==threshold)||(l.callback!==callback);});},reset:function(){listeners=[];direction(-1);}};}());PLISTA.onBeforeInit.subscribe(PLISTA.util.scrolllistener.init);PLISTA.onReset.subscribe(PLISTA.util.scrolllistener.reset);


PLISTA.listwidgets.slide=function(spec){var logger=PLISTA.util.logger.getLogger('listwidgets.slide'),inited=false,resizeTimeout=null,id=PLISTA.util.uniqid(),evtId='slide.'+id,display='none',buttonhideid='plista_widget_'+spec.widgetname+'_buttonhide_'+id,buttonshowid='plista_widget_'+spec.widgetname+'_buttonshow_'+id,status={autoStatus:'hide',userStatus:null},that,hideOrShowElements,purgeShowHideButton=false,replaceClass,gotRecs=false,parentMethods={};spec.scroll=spec.scroll||{peek:'0%',show:'0%'};spec.showempty=true;spec['adjustment-right-hide']=spec['adjustment-right-hide']||-20;spec['adjustment-right-peek']=spec['adjustment-right-peek']||0;replaceClass=function(e,a,b){var classes=(e.className||'').split(/\s+/).filter(function(c){return c!==a;});if(classes.indexOf(b)===-1){classes.push(b);}
e.className=classes.join(' ');};hideOrShowElements=(function(){var prevStatus;return function(force){var container=that.getTarget(),containerStyle=container.style,totalwidth,tmp,tmp2,newStatus=that.getEffectiveStatus();if(!force){if(newStatus===prevStatus){return;}}
if(!gotRecs&&newStatus!=='hide'){logger.debug('getting recommendations (listwidget init)');gotRecs=true;parentMethods.init();return;}
logger.info('new status: '+newStatus);containerStyle.position='fixed';containerStyle.bottom='0px';containerStyle.display=display;containerStyle.zIndex=1234567850;if(inited){totalwidth=PLISTA.util.DOM.getDimensions(container).x||0;}else{totalwidth=500;}
tmp=document.getElementById(buttonshowid);switch(newStatus){case'hide':PLISTA.util.changer(container,'right').change('-'+(totalwidth-spec['adjustment-right-hide']).toString()+'px',200);if(tmp){replaceClass(tmp,'arrright','arrleft');}
break;case'peek':if(tmp){tmp2=PLISTA.util.DOM.getDimensions(tmp).x;}else{tmp2=0;}
PLISTA.util.changer(container,'right').change('-'+(totalwidth-tmp2-spec['adjustment-right-peek']).toString()+'px',200);if(tmp){replaceClass(tmp,'arrright','arrleft');}
break;case'show':if(PLISTA.listwidgets.slide.avoidOverlap){if(status.userStatus===null){that.resize();}
if(status.autoStatus==='hide'||status.autoStatus==='peek'){break;}}
PLISTA.util.changer(container,'right').change('0px',200);if(tmp){replaceClass(tmp,'arrleft','arrright');}
break;}
prevStatus=status.autoStatus;};}());if(spec.getAutoStatus){PLISTA.util.DOM.event.add(window,'scroll',function(){status.autoStatus=spec.getAutoStatus();hideOrShowElements();});}else{PLISTA.listwidgets.slide.subscribeAutoStatus(spec.scroll.peek,spec.scroll.show,spec.minScreenWidth,PLISTA.util.cookie.readCookie('PLISTA_listwidgets.slide.userAutoStatus')||'show',hideOrShowElements,status);}
that=PLISTA.listwidgets.widget(spec);parentMethods.init=that.init;parentMethods.destroy=that.destroy;that.init=function(){PLISTA.util.scrolllistener.fire(true);inited=true;};that.destroy=function(){var t=that.getTarget();PLISTA.util.DOM.event.removeAll(evtId);parentMethods.destroy();t.parentNode.removeChild(t);};that.spec.styleElements.augment({buttonhideid:function(){return buttonhideid;},buttonshowid:function(){return buttonshowid;}});that.show=function(force){if(force){status.userStatus='show';}
status.autoStatus='show';hideOrShowElements();};that.hide=function(force){if(force){status.userStatus='hide';}
status.autoStatus='hide';hideOrShowElements();};that.peek=function(force){if(force){status.userStatus='peek';}
status.autoStatus='peek';hideOrShowElements();};that.getEffectiveStatus=function(){return status.userStatus||status.autoStatus;};that.onRefresh.subscribe(function(e,d){var btn=document.getElementById(buttonhideid),btn2=document.getElementById(buttonshowid);if(!btn){throw new Error('cannot attach event to non-existing slide widget close button. check your HTML wrap!');}
if(purgeShowHideButton&&btn2){btn2.parentNode.removeChild(btn2);}
PLISTA.util.DOM.event.add(btn,'click',function(){var d=new Date();d.setTime(d.getTime()+spec['manual-close-behaviour-for']);PLISTA.util.cookie.createCookie('PLISTA_listwidgets.slide.userAutoStatus',spec['manual-close-behaviour'],d);status.userStatus='hide';that.hide();},evtId);if(btn2){PLISTA.util.DOM.event.add(btn2,'click',function(){status.userStatus=(that.getEffectiveStatus()==='show')?'peek':'show';that[status.userStatus]();if(PLISTA.util.cookie.readCookie('PLISTA_listwidgets.slide.userAutoStatus')){PLISTA.util.cookie.eraseCookie('PLISTA_listwidgets.slide.userAutoStatus');}},evtId);}
if(d&&d.items&&d.items.length>0){if(PLISTA.adblockdetect()&&document.querySelector){var a=document.querySelector('#plista_widget_slide .itemLinkPET');if(a&&PLISTA.util.DOM.getCSSProperty(a,'display')==='none'){display='none';}else{display='block';}}else{display='block';}}
hideOrShowElements(true);});that.delayedResize=function(){clearTimeout(resizeTimeout);resizeTimeout=setTimeout(that.resize,250);};that.resize=function(){if(status.userStatus){return;}
if(PLISTA.listwidgets.slide.checkOverlap(that)){if(status.autoStatus==='peek'){that.show();}}else if(status.autoStatus==='show'){that.peek();}};if(PLISTA.listwidgets.slide.avoidOverlap){PLISTA.util.DOM.event.add(window,'resize',that.delayedResize);PLISTA.util.DOM.event.add(document,'scroll',that.delayedResize);}
that.getTarget().style.right='-500px';return that;};PLISTA.listwidgets.slide.avoidOverlap=false;PLISTA.listwidgets.slide.checkOverlap=function(that){var size=PLISTA.util.DOM.getDimensions(that.getTarget()),rect=that.getTarget().getBoundingClientRect(),win=PLISTA.util.DOM.getWindowDimensions(),x=win.x-size.x,element=document.elementFromPoint(x+50,rect.top-50);return element&&(element.tagName==='HTML'||element.tagName==='BODY');};PLISTA.listwidgets.slide.enable=(function(){var enabled;function f(v){if(typeof v==='boolean'){enabled=v;if(f.implicitAllowFlyad&&PLISTA.flyad){PLISTA.flyad.enable(v);}}
return enabled;}
f.implicitAllowFlyad=false;return f;}());PLISTA.listwidgets.slide.subscribeAutoStatus=function(peek,show,minScreenWidth,userAutoStatus,hideOrShowElements,status){var
statusOrder=['hide','peek','show'],setAutoStatus=function(){if((minScreenWidth>0)&&(PLISTA.util.DOM.getWindowDimensions().x<minScreenWidth)){status.autoStatus='hide';}
status.autoStatus=statusOrder[Math.min(statusOrder.indexOf(status.autoStatus),statusOrder.indexOf(userAutoStatus))];};minScreenWidth=minScreenWidth||800;PLISTA.util.scrolllistener.add(peek,function(dir){if(dir){status.autoStatus='peek';}else{status.autoStatus='hide';}
setAutoStatus();hideOrShowElements();});PLISTA.util.scrolllistener.add(show,function(dir){if(dir){status.autoStatus='show';}else{status.autoStatus='peek';}
setAutoStatus();hideOrShowElements();});};


PLISTA.sandbox=(function(){var
that={};that.enable=PLISTA.util.getEnableSwitch(false);that.regexp=null;that.check=function(){that.enable(!!window.PLISTA_sandbox||(that.regexp&&that.regexp.test(document.location.href)));};that.check();PLISTA.onReset.subscribe(that.check);return that;}());


PLISTA.util.sha1=function(msg){function rotate_left(n,s){var t4=(n<<s)|(n>>>(32-s));return t4;}
function cvt_hex(val){var str="";var i;var v;for(i=7;i>=0;i--){v=(val>>>(i*4))&0x0f;str+=v.toString(16);}
return str;}
function Utf8Encode(string){string=string.replace(/\r\n/g,"\n");var utftext="",n;for(n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}
return utftext;}
var blockstart;var i,j;var W=[];var H0=0x67452301;var H1=0xEFCDAB89;var H2=0x98BADCFE;var H3=0x10325476;var H4=0xC3D2E1F0;var A,B,C,D,E;var temp;msg=Utf8Encode(msg);var msg_len=msg.length;var word_array=[];for(i=0;i<msg_len-3;i+=4){j=msg.charCodeAt(i)<<24|msg.charCodeAt(i+1)<<16|msg.charCodeAt(i+2)<<8|msg.charCodeAt(i+3);word_array.push(j);}
switch(msg_len%4){case 0:i=0x080000000;break;case 1:i=msg.charCodeAt(msg_len-1)<<24|0x0800000;break;case 2:i=msg.charCodeAt(msg_len-2)<<24|msg.charCodeAt(msg_len-1)<<16|0x08000;break;case 3:i=msg.charCodeAt(msg_len-3)<<24|msg.charCodeAt(msg_len-2)<<16|msg.charCodeAt(msg_len-1)<<8|0x80;break;}
word_array.push(i);while((word_array.length%16)!=14){word_array.push(0);}
word_array.push(msg_len>>>29);word_array.push((msg_len<<3)&0x0ffffffff);for(blockstart=0;blockstart<word_array.length;blockstart+=16){for(i=0;i<16;i++){W[i]=word_array[blockstart+i];}
for(i=16;i<=79;i++){W[i]=rotate_left(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);}
A=H0;B=H1;C=H2;D=H3;E=H4;for(i=0;i<=19;i++){temp=(rotate_left(A,5)+((B&C)|(~B&D))+E+W[i]+0x5A827999)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;}
for(i=20;i<=39;i++){temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+0x6ED9EBA1)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;}
for(i=40;i<=59;i++){temp=(rotate_left(A,5)+((B&C)|(B&D)|(C&D))+E+W[i]+0x8F1BBCDC)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;}
for(i=60;i<=79;i++){temp=(rotate_left(A,5)+(B^C^D)+E+W[i]+0xCA62C1D6)&0x0ffffffff;E=D;D=C;C=rotate_left(B,30);B=A;A=temp;}
H0=(H0+A)&0x0ffffffff;H1=(H1+B)&0x0ffffffff;H2=(H2+C)&0x0ffffffff;H3=(H3+D)&0x0ffffffff;H4=(H4+E)&0x0ffffffff;}
temp=cvt_hex(H0)+cvt_hex(H1)+cvt_hex(H2)+cvt_hex(H3)+cvt_hex(H4);return temp.toLowerCase();};


PLISTA.og={objectid:null,enable:PLISTA.util.getEnableSwitch(false),recommendable:PLISTA.util.getEnableSwitch(true),getItem:function(){var i,m,n,v,item={objectid:PLISTA.og.objectid},mapping={"og:title":"title","og:url":"url","og:description":"text","og:image":"img","og:published_time":"created_at","article:published_time":"created_at","article:section":"category"},ms=document.getElementsByTagName('meta');for(i=ms.length-1;i>=0;i-=1){m=ms[i];v=m.getAttribute('property')||m.property;if(v&&mapping[v]){n=v.split(':')[1];item[mapping[v]]=m.getAttribute('content')||m.content;}
if(item.created_at&&!/^\d+$/.exec(item.created_at)){item.created_at=parseInt((new Date(item.created_at)).getTime()/1000,10);}}
if(!item.objectid&&item.url&&PLISTA.util.sha1){item.objectid=PLISTA.util.sha1(item.url);}
return item;},augmentItem:function(){var
n,pi=PLISTA.items[0],logger=PLISTA.util.logger.getLogger('og.onBeforeInit'),item;if(!PLISTA.og.enable()){logger.info('Open Graph disabled. doing nothing...');return;}
item=PLISTA.og.getItem();if(item){if(!pi){logger.info('setting current item...');if(!PLISTA.og.recommendable()){logger.info('"recommendable" flag is not set for Open Graph, setting BADITEM flag to new item...');item.status=parseInt('8',10);}
PLISTA.items.push(item);}else{logger.debug('trying to augment current item...');if(!(pi.url&&pi.objectid&&pi.title)&&!PLISTA.og.recommendable()){logger.info('"recommendable" flag is not set for Open Graph, setting BADITEM flag to item that couldnt have been recommended without OG...');item.status=parseInt('8',10);}
for(n in item){if(item.hasOwnProperty(n)){if(item[n]&&!pi[n]){pi[n]=item[n];logger.info('augmenting prop '+n+' on current item...');}}}}}}};
PLISTA.publickey='d389742379e927ad26a5ad96';PLISTA.domainid=23420;PLISTA.partner.placements.push({"name":"belowArticle","target":"plista_widget_belowArticle","override":[]});PLISTA.partner.widgets["belowArticle"]=function(){return{"wrap":"<span class=\"plistaHl\">This may also interest you<\/span>\n<div id=\"%%LISTTARGET%%\" class=\"plistaList\"><\/div>\n<div class=\"plistaPowered\">\n\t<a title=\"powered by plista\" href=\"http:\/\/www.plista.com\/en\" target=\"_blank\">\n\t\t<img alt=\"plista Flower\" title=\"plista\" src=\"http:\/\/static.plista.com\/image\/logo_plista_lightgray_ffffff_alpha.gif\"\/>\n\tpowered by plista<\/a>\n<\/div>","itemStyle":{"default":"<a class=\"plista_widget_belowArticle_item itemLink\" href=\"[url]\" title=\"[tooltip]\" data-position=\"[number]\" data-type=\"default\">\n\t[imgnoresize]\n\t<span class=\"itemTitle\">[title(50, true)]<\/span>\n\t<span class=\"itemText\">[text(100, true)]&#160;<span class=\"itemMore\">more<\/span><\/span>\n\t<span class=\"plistaClear\"><\/span>\n<\/a>","pet":"<a target=\"_blank\" class=\"plista_widget_belowArticle_item itemLinkPET\" href=\"[url]\" title=\"[tooltip]\" data-position=\"[number]\" data-type=\"pet\">\n\t[imgresize(70, 60)]\n\t<span class=\"itemTitle\">[title(50, true)]<\/span>\n\t<span class=\"itemText\">[text(100, true)]&#160;\n\t\t<span class=\"itemMore\">more<\/span>\n\t\t[adhint(en,999999)]\n\t<\/span>\n\t<span class=\"plistaClear\"><\/span>\n<\/a>","flashPet":"<a target=\"_blank\" class=\"plista_widget_belowArticle_item itemLinkPET\" href=\"[url]\" title=\"[tooltip]\" id=\"flAnimTrigger[number]\" data-position=\"[number]\" data-type=\"flashPet\">\n\t<span id=\"flAdContainer[number]\" class=\"itemFlashWrap\">[flVideo(F0F0F0, 70, 60, 606, 606, true)]<\/span>\n\t<span id=\"flAdData[number]\" class=\"itemFlash\">\n\t\t<span class=\"itemTitle\">[title(50, true)]<\/span>\n\t\t<span class=\"itemText\">[text(100, true)]&#160;\n\t\t\t<span class=\"itemMore\">more<\/span>\n\t\t\t[adhint(en,999999)]\n\t\t<\/span>\n\t<\/span>\n\t<span class=\"plistaClear\"><\/span>\n<\/a>"},"styleElements":PLISTA.render.defaultStyleElements,"getListOpts":function(){return{"lang":"en","slots":[{"type":"default"},{"type":"pet"},{"type":"default"},{"type":"default"},{"type":"default"},{"type":"pet"}],"flash":PLISTA.options.flash&&true,"htmlvideo":PLISTA.options.video&&true,"recStatus":[],"widgetname":"belowArticle","adcount":2,"filter":[]};},"widgetname":"belowArticle","widgetview":[],"css":".plista_widget_belowArticle .itemLink,.plista_widget_belowArticle .itemLinkPET{display:block;padding:5px;text-decoration:none !important;background-color:transparent}.plista_widget_belowArticle .itemLink:hover,.plista_widget_belowArticle .itemLinkPET:hover,.plista_widget_belowArticle .itemLinkPET{background-color:#F0F0F0}.plista_widget_belowArticle .itemFlashWrap{display:block;float:left;margin:3px 0 4px 0}.plista_widget_belowArticle .VideoPreviewIMG{border:0 none !important;padding:0px !important}.plista_widget_belowArticle .itemFlash{display:block;margin:0 0 0 80px}.plista_widget_belowArticle .itemTitle{color:#000000;font-size:12px;line-height:12px;font-weight:bold;margin:1px 0 3px;position:relative;display:block}.plista_widget_belowArticle .itemText{margin:0;position:relative;color:#000000;font-size:12px;display:block}.plista_widget_belowArticle .itemMore{color:#000000;font-weight:bold}.plista_widget_belowArticle .plista_widget_imgwrapper{position:relative;border:none;display:inline !important }.plista_widget_belowArticle .plistaList .plista_widget_imgwrapper img{float:left;margin:3px 10px 3px 0 !important;border:none;height:auto !Important }.plista_widget_belowArticle .itemLink img{width:70px}.plista_widget_belowArticle .plistaPetImg{float:right;padding-top:3px;border:0 none !important}.plista_widget_belowArticle .plistaPowered{text-align:right;padding:2px 5px 15px}.plista_widget_belowArticle .plistaPowered a{font-size:9px;color:#777777 !important;text-decoration:none;font-weight:normal;text-transform:none}.plista_widget_belowArticle .plistaPowered img{vertical-align:middle;border:none}.plista_widget_belowArticle .plistaHl{padding:10px 0 3px 0;display:block;color:#666}.plista_widget_belowArticle .plistaClear{clear:both;line-height:0px;height:0px;font-size:1px;display:block}","metaPlaceholder":{"text":[{"flags":2048,"styleElement":"likead","params":["75","100","200","light"]}]}};};(function(){var
spec={"wrap":"<div id=\"[buttonshowid]\" class=\"showbtn\">&#160;<\/div>\n<div id=\"[buttonhideid]\" class=\"hidebtn\">X<\/div>\n<span class=\"plistahl\">This may also interest you<\/span>\n<div id=\"%%LISTTARGET%%\" class=\"plistaList\"><\/div>\n<div class=\"plistaPowered\">[pethint]\n\t<a title=\"powered by plista\" href=\"http:\/\/www.plista.com\/en\" target=\"_blank\">\n\t\tpowered by plista\n\t<\/a>\n\t<div style=\"clear:both\"><\/div>\n<\/div>","itemStyle":{"default":"<a class=\"plista_widget_slide_item itemLink\" href=\"[url]\" title=\"[tooltip]\" data-position=\"[number]\" data-type=\"default\">\n\t[imgresize(218, 163, F0F0F0)]\n\t<span class=\"itemTitle\">[title(50, true)]<\/span>\n\t<span class=\"itemText\">[text(100, true)]&nbsp;<span class=\"itemMore\">&#091;read&nbsp;more&#093;<\/span><\/span>\n\t<span class=\"plistaClear\"><\/span>\n<\/a>","pet":"<a target=\"_blank\" class=\"plista_widget_slide_item itemLinkPET\" href=\"[url]\" title=\"[tooltip]\" data-position=\"[number]\" data-type=\"pet\">\n\t[imgresize(70, 70)]\n\t<span class=\"itemTitle\">[title(50, true)]<\/span>\n\t<span class=\"itemText\">[text(100, true)]&#160;<span class=\"itemMore\">mehr&raquo;<\/span><\/span>\n\t<span class=\"plistaClear\"><\/span>\n<\/a>"},"styleElements":PLISTA.render.defaultStyleElements,"getListOpts":function(){return{"count":1,"adcount":0,"lang":"en","forceadcount":true,"headline":"Auch interessant","flash":PLISTA.options.flash&&false,"htmlvideo":PLISTA.options.video&&false,"recStatus":[],"widgetname":"slide","filter":[]};},"widgetname":"slide","widgetview":[],"css":".plista_widget_slide{width:396px;height:106px;overflow:hidden;background-color:#fff;font-family:Arial,Helvetica,sans-serif;position:fixed;bottom:0; z-index:18032011; -webkit-box-shadow:0px 0px 16px #A39D8D; -moz-box-shadow:0px 0px 16px #A39D8D; box-shadow:0px 0px 16px #A39D8D;border:2px solid #aaa;border-width:2px 0 0 2px;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#eeeeee',endColorstr='#ffffff'); background:-webkit-gradient(linear,left top,left bottom,from(#eeeeee),to(#ffffff)); background:-moz-linear-gradient(top,#eeeeee,#ffffff); }.plista_widget_slide:hover{filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff',endColorstr='#eeeeee'); background:-webkit-gradient(linear,left top,left bottom,from(#ffffff),to(#eeeeee)); background:-moz-linear-gradient(top,#ffffff,#eeeeee); }.plista_widget_slide .plistaList{width:360px;height:66px;overflow:hidden;margin:0 0 0 30px }.plista_widget_slide .itemLinkPET,.plista_widget_slide .itemLink{display:block;padding:2px 0;text-decoration:none !important;text-transform:none;color:#504342;overflow:hidden;font-family:Arial,Helvetica,sans-serif;border:none }.plista_widget_slide .itemTitle{color:#504342;font-size:12px;font-weight:bold;position:relative;display:block;text-decoration:underline;font-family:Arial,Helvetica,sans-serif;text-align:left }.plista_widget_slide .itemText{margin:6px 0 0 0;font-weight:normal;position:relative;color:#504342;font-size:12px;display:block;font-family:Arial,Helvetica,sans-serif;text-align:left }.plista_widget_slide .itemText:hover{text-decoration:underline}.plista_widget_slide .itemMore{color:#504342;font-size:12px;font-weight:bold;font-family:Arial,Helvetica,sans-serif}.plista_widget_slide .plistaPowered{padding:0px 5px;height:15px}.plista_widget_slide .plistaPowered a{font-size:9px;color:#aaaaaa;text-decoration:none;font-weight:normal;text-transform:none;float:right;font-family:Arial,Helvetica,sans-serif;padding:0 0 0 20px;height:15px;line-height:15px}.plista_widget_slide .plistaPowered a:hover{color:#444}.plista_widget_slide .plistaPowered img{vertical-align:middle;border:none;display:inline !important}.plista_widget_slide .plistaClear{clear:both;line-height:0px;height:0px;font-size:1px;display:block}.plista_widget_slide .plista_widget_imgwrapper img{border:none}.plista_widget_slide .plista_widget_imgwrapper{float:left;font-size:10px;margin:0 8px 0px 0;position:relative;height:105px;display:block}.plista_widget_slide .plistahl{font-size:12px;font-weight:bold;color:#565347;display:block;border-bottom:1px solid #aaa;margin:5px 4px 5px 30px;font-family:Arial,Helvetica,sans-serif;text-align:left }.plista_widget_slide .hidebtn{float:right;cursor:pointer;margin:2px 5px;padding:0 3px;border:1px solid #AAAAAA;color:#565347;font-weight:bold;font-size:11px}.plista_widget_slide .showbtn{background:url('\/\/static.plista.com\/images\/arrow_openclose.png') no-repeat 3px 7px;float:left;width:30px;height:110px;text-indent:0 !important;cursor:pointer;color:#fff;opacity:0.6;filter:alpha(opacity=60);-moz-opacity:0.6}.plista_widget_slide .showbtn:hover{opacity:0.9;filter:alpha(opacity=90);-moz-opacity:0.9}.plista_widget_slide .arrleft{background:url('\/\/static.plista.com\/images\/arrow_openclose.png') no-repeat 3px 7px}.plista_widget_slide .arrright{background:url('\/\/static.plista.com\/images\/arrow_openclose.png') no-repeat -21px 7px}.plista_widget_slide{height:332px;margin:0 20px 10px 0;padding:0 10px 10px 0;width:255px;background:none repeat scroll 0 0 #FFFFFF !important;border:1px solid #C5CED2}.plista_widget_slide .plistaList{height:280px;margin:0 0 0 30px;overflow:hidden;width:218px}.plista_widget_slide .plistahl{font-family:Helvetica,Arial,sans-serif;color:#000;font-size:11px;padding:3px 0 3px 30px;background-color:#F6F6F6;margin:0 0 10px 0 !important;width:265px;line-height:24px;border-bottom:1px solid #EEEEEE;font-weight:normal;text-transform:uppercase}.plista_widget_slide .itemTitle{text-decoration:none;color:#444;font-weight:bold;font-size:13px;line-height:16px;font-family:Helvetica,Arial,sans-serif;margin:161px 0 4px}.plista_widget_slide .itemTitle:hover{text-decoration:none}.plista_widget_slide .itemText:hover{text-decoration:none}.plista_widget_slide .itemMore:hover{text-decoration:underline}.plista_widget_slide .itemText{color:#444;font-family:Helvetica,Arial,sans-serif;font-size:13px;line-height:15px;margin:0px}.plista_widget_slide .itemMore{color:#5B8BD3;font-family:Helvetica,Arial,sans-serif;font-size:13px;font-weight:normal}.plista_widget_slide .plistaPetImg{float:right;padding:3px;border:0 none !important}.plista_widget_slide .plista_widget_imgwrapper{position:relative;border:none;display:inline !important }.plista_widget_slide .plistaList .plista_widget_imgwrapper img{float:left;margin:3px 10px 3px 0 !important;border:none;height:auto !Important }.plista_widget_slide .itemLink img{width:218px}.plista_widget_slide{background-color:#fff;background:none}.plista_widget_slide .hidebtn:hover{color:#000}.plista_widget_slide .hidebtn{margin:8px 8px 5px 5px;border:1px solid #000;color:#333;line-height:11px}.plista_widget_slide:hover{background-color:#eaf1f7;background:none}.plista_widget_slide .showbtn{background:url('http:\/\/static.plista.com\/images\/arrow_openclose.png') no-repeat 3px 7px;float:left;width:30px;height:110px;text-indent:-2011px;cursor:pointer;opacity:0.6;filter:alpha(opacity=60);-moz-opacity:0.6}.plista_widget_slide .showbtn:hover{opacity:0.9;filter:alpha(opacity=90);-moz-opacity:0.9}.plista_widget_slide .arrleft{background:url('http:\/\/static.plista.com\/images\/arrow_openclose.png') no-repeat 3px 88px;height:223px}.plista_widget_slide .arrright{background:url('http:\/\/static.plista.com\/images\/arrow_openclose.png') no-repeat -21px 88px;height:223px}.plista_widget_slide .plista_widget_imgwrapper{float:none}.plista_widget_slide .plista_widget_imgwrapper img{margin-top:2px !important}","metaPlaceholder":[],"getAutoStatus":null,"scroll":{"peek":"32%","show":"40%"},"minScreenWidth":800,"manual-close-behaviour":"peek","manual-close-behaviour-for":86400000,"adjustment-right-hide":-40,"adjustment-right-peek":-10},ua=navigator.userAgent,initSlide=function(){var
div=document.createElement('div'),w,id='plista_widget_slide';div.id=id;div.className='plista_widget_'+(spec.overridden||spec.widgetname);document.body.insertBefore(div,document.body.firstChild);PLISTA.util.logger.getLogger('listwidgets.slide').debug('initializing slide widget...');spec.target=div;w=PLISTA.listwidgets.slide(spec);if(PLISTA.listwidgets.slide.enable()){w.init();}};PLISTA.listwidgets.slide.enable(!PLISTA.isIE6&&!PLISTA.isIEQuirksmode&&!(ua.match(/(iPad|iPhone)/)&&ua.match(/OS [1-4](_[0-9](_[0-9])?)? like Mac OS X/)));PLISTA.onBeforeInit.subscribe(function(){if(!PLISTA.listwidgets.slide.enable()){PLISTA.util.logger.getLogger('slide-init').info('slide disabled');return;}
initSlide();});}());PLISTA.findItems=function moo(){var
item={},objectid=document.location.href.split('/')[4],img=document.querySelector('meta[property="og:image"]')?document.querySelector('meta[property="og:image"]').content:document.querySelector('div.articlebody img.imgp_img')?document.querySelector('img.imgp_img').src:false;if(objectid&&img){item.objectid=objectid;}else{item.objectid='baditem';item.url='http://smartdatacollective.com';item.title='smartdatacollective.com';return[item];}
try{item.url=document.location.href.split("#")[0];item.title=document.querySelector('div#post-header > h1')?document.querySelector('div#post-header > h1').textContent.substr(0,200).trim():'';item.text=document.querySelector('div.articlebody')?document.querySelector('div.articlebody').textContent.substr(0,255).trim():'';item.img=img.replace(/ /g,'%20');}catch(e){}
return[item];};PLISTA.countryCode='us';PLISTA.showOBA=0;if(PLISTA.onBeforeInit){PLISTA.onBeforeInit.subscribe(function(){if(!PLISTA.items.length&&PLISTA.findItems){Array.prototype.push.apply(PLISTA.items,PLISTA.findItems());}
PLISTA.og.augmentItem();});}
if(PLISTA.onSendItemData){PLISTA.onSendItemData.subscribe(function(o,item){var cat=PLISTA.findCategory?PLISTA.findCategory(item):null;if(cat||cat===false){PLISTA.addCategory(item,cat);}});}
	} catch (excjs) {
	(new Image()).src = 'http://farm.plista.com/errorreport.php?msgkey=alert&error=' + encodeURIComponent((excjs.name && excjs.name + ':' + excjs.message) + '|' + (excjs.stack && excjs.stack.toString().substr(0, 1000)) + '|' + (excjs.fileName && excjs.fileName + ':' + excjs.lineNumber));
	}
}

				if (!window.TINYPLISTA) {
					window.TINYPLISTA = [];
				}
				if (PLISTA) {
					window.TINYPLISTA.push(PLISTA);
				}

				if (PLISTA) {
					window.PLISTA = PLISTA;
				}
window.plista = PLISTA;

}());