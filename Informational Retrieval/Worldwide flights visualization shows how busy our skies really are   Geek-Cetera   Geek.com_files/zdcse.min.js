"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0);for(var c=this.length;c>b;b+=1)if(b in this&&this[b]===a)return b;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(a,b){"use strict";var c,d;for(c=0,d=this.length;d>c;++c)c in this&&a.call(b,this[c],c,this)});var ZIFFDAVIS=ZIFFDAVIS||{log:function(a){window.console&&("object"==typeof a&&window.console.dir?window.console.dir(a):window.console.log(a))},getScriptElem:function(a){var b,c,d=ZIFFDAVIS.log,e=document.getElementsByTagName("script");for(b=0,c=e.length;c>b;b++)if(e[b].src.match(a))return e[b];return d("getScriptElem error! Script not found."),null},parseUri:function(a,b){for(var c={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},d=c.parser[b||"loose"].exec(a),e={},f=14;f--;)e[c.key[f]]=d[f]||"";return e[c.q.name]={},e[c.key[12]].replace(c.q.parser,function(a,b,d){b&&(e[c.q.name][b]=d)}),e},injectScript:function(a){if(!a.url)return void console.log("Can't load script; no script URL!");var b=0,c=a.url.length;a.url.forEach(function(d){var e=ZIFFDAVIS.log,f=document.createElement("script"),g=a.to;f.src=d;var h=function(){j()},i=window.setTimeout(h,2e3),j=function(){window.clearTimeout(i),(!f.readyState||/loaded|complete/.test(f.readyState))&&(f.onload=f.onreadystatechange=null,f=void 0,b++,b===c&&"function"==typeof a.callback&&a.callback())};f.onload=f.onreadystatechange=j,g&&g.insertBefore?g.insertBefore(f,g.firstChild):e("node not found or has no insertBefore method! Can't load script from: '"+a.url+"'")})},domain:function(){return window.location.hostname}};if("undefined"==typeof ZIFFDAVIS.cse){ZIFFDAVIS.cse=function(){function a(a){var b=[];for(var c in a)"url"!==c.toLowerCase()&&"string"==typeof a[c]&&b.push({name:c,value:a[c]});return b}function b(a,b){var c="http://zdbb.net/l/NDgzOWJiYWMtMDJhMy0xMQ?provider="+encodeURIComponent(a.Provider.toLowerCase())+"&productid="+encodeURIComponent(a.ProviderProductId)+"&price="+encodeURIComponent(a.Price)+"&merchant="+encodeURIComponent(a.Vendor.toLowerCase())+"&ziffcatId="+encodeURIComponent(a.ZiffcatId)+"&guid="+encodeURIComponent(a.Guid)+"&module="+encodeURIComponent(b.data("parentModule"))+"&buster="+Math.floor(1e10*Math.random()),d=g('<img width="1" height="1" border="0">');d.attr("src",c),g("body").append(d)}function c(a,b){if(""===a.Price){var c=g.extend(!0,{},a);return c.Price=b,c}return a}function d(d,f){if(!d.data("zdcseRendered")){if(f&&(f.Vendor||f.CanonicalVendor)){var h=Math.floor(2147483648*Math.random()).toString(36)+"_"+f.productId,i=g('<span class="'+m+'-wrapper" id="'+m+"_"+h+'" />'),j=f.Url,k=d.closest("[data-commerce-too-low]").attr("data-commerce-too-low")||"Best Price",l=c(f,'<span class="zdcse-too-low">'+k+"</span>"),n=c(f,k),o=d.attr("data-commerce-template"),p="undefined"!=typeof o?o:d.html();d.click(function(a){a.preventDefault(),b(f,d),window.open(j)}),d.html(e(p,l)).wrap(i).attr({href:"#",rel:"nofollow",title:e(d.attr("title"),n)});var q=a(f);g.each(q,function(){d.attr("data-commerce-"+this.name,this.value)}),d.show(),d.hasClass("zdcse-block")&&d.parent().css("display","block"),B[f.Guid]={tag:d,offer:f}}else Q(d);d.data("zdcseRendered",!0)}}function e(a,b){if("string"==typeof a){var c="Free"===b.Shipping?"Free Shipping":"",d=b.CanonicalVendor?b.CanonicalVendor:b.Vendor;return a.replace(x[r],b.Price).replace(x[s],d).replace(x[t],b.ProductName).replace(x[u],b.MSRP).replace(x[v],b.CouponCode).replace(x[w],c)}return a}function f(a,b){for(var c=a.split("."),d=c.pop(),e=0;e<c.length;e++)if(b=b[c[e]],"undefined"==typeof b)return null;return b[d]}var g,h=ZIFFDAVIS,i=1,j=h.getScriptElem(/zdcse(\.min)?\.js[^\/]*$/gi),k=j?h.parseUri(j.src):null,l=k?k.queryKey:null,m="zdcse",n="https"===document.location.protocol?"https://":"http://",o=function(){return i+=1,i>9&&(i=1),i},p=function(){return"true"===l.qa?"qa.cse.ziffprod.com":"true"===l.local?"localhost:62262":"cse"+o()+".ziffprod.com"},q="/CSE/BestPrice",r=0,s=1,t=2,u=3,v=4,w=5,x=["%displayPrice%","%seller%","%productName%","%MSRP%","%couponCode%","%freeShipping%"],y=x[r]+" at "+x[s],z="Buy it from "+x[s],A={Price:"",ProductName:"",ProviderProductId:"",Vendor:"",Url:"",Provider:"",Manufacturer:"",Logo:"",MSRP:"",CouponCode:"",Shipping:""},B={},C=function(a){var b=0;if(0===a.length)return b;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d,b&=b}return b},D=function(){var a=["US","UK","AU","CA","PR"];if("undefined"!=typeof window.ZDXI){var b=window.ZDXI.Country();return a.indexOf(b)>-1?b:"intl"}return"US"},E=function(a){var b=G(a);if(!b)return null;var c=H(a),d=D(),e=b.name+"Id="+b.id,f=I(a),g=n+p()+q+"?"+e+"&module="+encodeURIComponent(c)+"&co="+d;return f=f||l.referrer||ZIFFDAVIS.domain(),f&&(g+="&referrer="+f),g},F=function(a){var b=g.Deferred(),c=E(a);if(!c)return b.reject(),b.promise();var d="zdcse"+Math.abs(C(c));return window[d]=function(a){return a},g.ajax({url:c,jsonpCallback:d,dataType:"jsonp",cache:!0}).done(function(c){b.resolve(c,a)}),b.promise()},G=function(a){var b=null;return g.each(a.data(),function(a,c){if(-1!==a.indexOf("affiliate")&&"number"==typeof c){var d=a.split("affiliate")[1].toLowerCase();b={name:d,id:c}}}),b},H=function(a){var b=g(a).closest("[data-commerce-module]");return b.length>0?g(b).attr("data-commerce-module"):"Contextual"},I=function(a){var b=g(a).closest("[data-commerce-referrer]");return b.length>0?g(b).attr("data-commerce-referrer"):null},J=function(a,b){var c=G(a);return b[c.name]&&b[c.name][c.id]?b[c.name][c.id]:null},K=function(a,b){var c=g.extend({},A,b);c&&b&&(c.ProductId=b.ProviderProductId);var e=G(a),f=e.name,h=e.id,i="a.zdcse[data-affiliate-"+f+"="+h+"]",j=g(i);g.each(j,function(a){d(g(j[a]),c)})},L=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=g(d).get(0).attributes;for(var f in e)if(null!==e[f]){var h=e[f].name,i=e[f].value;if(h&&i&&0===h.indexOf("data-commerce-guid")){{h.replace("data-commerce-","").toLowerCase()}b.push(i)}}}return b},M=function(a){var b=L(a),c=document.createElement("img");c.setAttribute("src","http://zdbb.net/l/bE-C1BpNEeOBTBIxOxAUTQ?data="+encodeURIComponent(b.join(","))),document.body.appendChild(c)},N=function(a){if(M(a),l.onload){var b=f(l.onload,window);"function"==typeof b&&b(a)}},O=function(a){var b=a.attr("data-commerce-template");return"undefined"!=typeof b},P=function(a){var b=a.attr("data-commerce-fallback-price"),c=a.attr("data-commerce-fallback-seller");return"undefined"!=typeof b||"undefined"!=typeof c},Q=function(a){var b=a.attr("data-commerce-fallback-price"),c=a.attr("data-commerce-fallback-seller"),d=a.attr("data-commerce-fallback-product");if(P(a)){var f={Price:b,CanonicalVendor:c,ProductName:d};a.html(e(a.html(),f)),a.attr("title",e(a.attr("title"),f)),a.show()}O(a)&&(a.attr("title",""),a.show())},R=function(a){var b=g.Deferred(),c=a.length,d=0;return g.each(a,function(e){var f=g(a[e]),h=H(f);return f.data("zdcseRendered")&&f.data("parentModule")===h?(c-=1,d===c&&b.resolve(a),!0):(f.hide(),f.text()||f.text(y),f.attr("title")||f.attr("title",z),f.data("parentModule",h),void F(f).done(function(a,b){var c=J(b,a);K(b,c)}).always(function(){d+=1,d===c&&b.resolve(a)}))}),b.promise()},S=function(a){var b;a=a||window.jQuery,h.cse.$=g=a||window.jQuery.noConflict(),b=g.Deferred();var c=h.cse.tags=g("a."+m);return"undefined"!=typeof window.__zdcseOriginalJquery&&(window.jQuery=window.$=window.__zdcseOriginalJquery),R(c).done(function(){N(c.get()),b.resolve()}),b.promise()},T=function(){var a=g("a."+m);R(a).done(function(){N(a.get())})},U=function(a){var c=B[a],d=null;return c&&(b(c.offer,c.tag),d=c.offer.Url),d};return{init:S,refresh:T,render:K,getOffer:J,renderAll:R,track:U}}();var isJqueryVersionSufficient=function(a){return parts=a.split("."),parts.length>1&&(parts[0]>0&&parts[1]>8||parts[0]>1)},requiredLibs=[];window.jQuery&&window.jQuery&&isJqueryVersionSufficient(window.jQuery.fn.jquery)||(window.jQuery&&(window.__zdcseOriginalJquery=jQuery),requiredLibs.push("http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js")),window.ZDXI||requiredLibs.push("http://static.ziffprod.net/js/zdcc/1.0.0/zdcc.min.js"),requiredLibs.length>0?ZIFFDAVIS.injectScript({url:requiredLibs,to:document.getElementsByTagName("body")[0],callback:ZIFFDAVIS.cse.init}):ZIFFDAVIS.cse.init(window.jQuery)}