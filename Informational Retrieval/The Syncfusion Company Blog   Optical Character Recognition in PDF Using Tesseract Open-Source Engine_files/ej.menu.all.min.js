/*!
*  filename: ej.menu.all.min.js
*  version : 12.1
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i){"use strict";var f,r,e,u;t.consts={NamespaceJoin:"-"};t.textAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"};t.orientation={Horizontal:"horizontal",Vertical:"vertical"};Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n,t){return n[t]!==i});String.format=function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace(new RegExp("\\{"+n+"\\}","gm"),arguments[n+1]);return t.replace(/\{[0-9]\}/g,"")};t.defineClass=function(n,r,u,f){if(!n||!u)return i;for(var o=n.split("."),s=window,e=0;e<o.length-1;e++)t.isNullOrUndefined(s[o[e]])&&(s[o[e]]={}),s=s[o[e]];return(f||t.isNullOrUndefined(s[o[e]]))&&(r=typeof r=="function"?r:function(){},s[o[e]]=r,s[o[e]].prototype=u),s[o[e]]};t.util={getNameSpace:function(n){var i=n.toLowerCase().split(".");return i[0]==="ej"&&(i[0]="e"),i.join(t.consts.NamespaceJoin)},getObject:function(n,r){var u,e,f;if(!r)return i;for(u=r,e=n.split("."),f=0;f<e.length;f++){if(t.util.isNullOrUndefined(u))break;u=u[e[f]]}return u},createObject:function(n,i,r){for(var f=n.split("."),o=r||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t.isNullOrUndefined(i)?{}:i:t.isNullOrUndefined(e[f[u]])&&(e[f[u]]={}),e=e[f[u]];return o},isNullOrUndefined:function(n){return n===i||n===null},buildTag:function(t,r,u,f){var s=/^[a-z]*[0-9a-z]+/ig.exec(t)[0],e=/#([a-z]+[-_0-9a-z]+)/ig.exec(t),o;return e=e?e[e.length-1]:i,o=/\.([a-z]+[-_0-9a-z ]+)/ig.exec(t),o=o?o[o.length-1]:i,n(document.createElement(s)).attr(e?{id:e}:{}).addClass(o||"").css(u||{}).attr(f||{}).html(r||"")}};n.extend(t,t.util);t.widgetBase={droppables:{"default":[]},resizables:{"default":[]},destroy:function(){var u,r,f,i;if(!this._trigger("destroy")){for(this.model.persist&&this.persistState(),this._destroy(),u=this.element.data("ejWidgets")||[],i=0;i<u.length;i++)u[i]==this.pluginName&&u.splice(i,1);for(u.length||this.element.removeData("ejWidgets");this._events;){if(r=this._events.pop(),f=[],!r)break;for(i=0;i<r[1].length;i++)n.isPlainObject(r[1][i])||f.push(r[1][i]);n.fn.off.apply(r[0],f)}this._events=null;this.element.removeClass(t.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName);this.element=null;this.model=null}},_on:function(i){this._events||(this._events=[]);for(var r=[].splice.call(arguments,1,arguments.length-1),u={},f=r.length;u&&typeof u!="function";)u=r[--f];return r[f]=t.proxy(r[f],this),this._events.push([i,r,u,r[f]]),n.fn.on.apply(i,r),this},_off:function(t,i,r,u){var e=this._events,s,o,f,h;if(!e||!e.length)return this;for(typeof r=="function"&&(s=u,u=r,r=s),o=0;o<e.length;o++)if(f=e[o],h=f[0].length&&(!u||f[2]===u)&&f[1][0]===i&&(!r||f[1][1]===r)&&n.inArray(t[0],f[0])>-1,h){n.fn.off.apply(t,u?[i,r,f[3]]:[i,r]);e.splice(o,1);break}return this},_trigger:function(i,r){var f=this.model[i],e,u,o;return f&&(typeof f=="string"&&(f=t.util.getObject(f,window)),n.isFunction(f)&&(u=t.event(i,this.model,r),e=f.call(this,u),r&&n.extend(r,u),u.cancel||!t.isNullOrUndefined(e)))?e===!1||u.cancel:(o=Boolean(r),r=r||{},r.originalEventType=i,r.type=this.pluginName+i,u=n.Event(r.type,t.event(r.type,this.model,r)),this.element.trigger(u),o&&n.extend(r,u),u.cancel)},setModel:function(i,r){var u,e,o,f,s;if(!this._trigger("modelChange",{changes:i})){for(u in i){if(!r&&this.model[u]===i[u]){delete i[u];continue}if(this.dataTypes&&(e=this._isValidModelValue(u,this.dataTypes,i),e!==!0))throw"setModel - Invalid input for property :"+u+" - "+e;this.model.notifyOnEachPropertyChanges&&this.model[u]!==i[u]&&(o={oldValue:this.model[u],newValue:i[u]},i[u]=this._trigger(u+"Change",o)?this.model[u]:o.newValue)}if(!n.isEmptyObject(i)&&(this._setFirst?(f=i.dataSource,f&&delete i.dataSource,n.extend(!0,this.model,i),f&&(s=[],this.model.dataSource=n.extend(!0,s,f),i.dataSource=s),this._setModel&&this._setModel(i)):this._setModel&&this._setModel(i)===!1||n.extend(!0,this.model,i),"persist"in i))if(i.persist===!0){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler)}else n(window).off("unload",this._persistHandler)}},option:function(r,u,f){if(!r)return this.model;if(n.isPlainObject(r))return this.setModel(r);if(typeof r=="string"){r=r.replace(/^model\./,"");var e=t.getObject(r,this.model);if(u===i)return e;if(f&&u===t.extensions.modelGUID)return this._setModel(t.createObject(r,t.getObject(r,this.model),{}));if(f||t.getObject(r,this.model)!==u)return this.setModel(t.createObject(r,u,{}),f)}return i},_isValidModelValue:function(n,t,i){var u=t[n],r=i[n],f,e,o;if(!u)return!0;if(typeof u=="string"){if(u=="enum"&&(i[n]=r?r.toString().toLowerCase():r,u="string"),u==="array"){if(r instanceof Array)return!0}else if(u==="data"||typeof r===u)return!0;return"Expected type - "+u}if(r instanceof Array){for(e=0;e<r.length;e++)if(f=this._isValidModelValue(n,t,r[e]),f!==!0)return" ["+e+"] - "+f;return!0}for(o in r)if(f=this._isValidModelValue(o,u,r),f!==!0)return o+" : "+f;return!0},persistState:function(){var n=r({},this.model),i;if(this.ignoreOnPersist)for(i=0;i<this.ignoreOnPersist;i++)delete n[this.ignoreOnPersist[i]];this._persistState&&(n.customPersists={},this._persistState(n.customPersists));window.localStorage?window.localStorage.setItem(this.pluginName+this._id,JSON.stringify(n)):document.cookie&&t.cookie.set(this.pluginName+this._id,n)},restoreState:function(i){var r=null,u;window.localStorage?r=window.localStorage.getItem(this.pluginName+this._id):document.cookie&&(r=t.cookie.get(this.pluginName+this._id));r&&(u=JSON.parse(r),this._restoreState&&(this._restoreState(u.customPersists),delete u.customPersists),this.model=n.extend(!0,this.model,u));!i&&r&&this._setModel&&this._setModel(this.model)}};t.widget=function(i,o,s){var c,h,l;if(typeof i=="object"){s=o;for(c in i)h=i[c],h instanceof Array&&(s._rootCSS=h[1],h=h[0]),t.widget(c,h,s),i[c]instanceof Array&&(s._rootCSS="");return}l=s._rootCSS||t.getNameSpace(o);s=t.defineClass(o,function(u,h){var v,y,p,c,w,b,k,l,a;if(this.sfType=o,this.pluginName=i,this.instance=e,t.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},n.extend(this,t.widgetBase),this.dataTypes)for(v in h)if(y=this._isValidModelValue(v,this.dataTypes,h),y!==!0)throw"setModel - Invalid input for property :"+v+" - "+y;for(p=u.data("ejWidgets")||[],p.push(i),u.data("ejWidgets",p),c=0;t.widget.observables&&this.observables&&c<this.observables.length;c++)w=t.getObject(this.observables[c],h),w&&t.createObject(this.observables[c],t.widget.observables.register(w,this.observables[c],this,u),h);if(this.element=u.jquery?u:n(u),this.model=r(!0,{},s.prototype.defaults,h),this.model.keyConfigs=r(this.keyConfigs),this._id=u[0].id,this.element.attr("tabIndex")||this.element.attr("tabIndex",""),this.model.persist){this._persistHandler=t.proxy(this.persistState,this);n(window).on("unload",this._persistHandler);this.restoreState(!0)}if(this._init(),typeof this.model.keyConfigs=="object"&&!(this.model.keyConfigs instanceof Array)){b=!1;this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus);for(k in this.model.keyConfigs)if(k!=="focus"){b=!0;break}b&&this._keyPressed&&(l=u,a="keydown",this.keySettings&&(l=this.keySettings.getElement?this.keySettings.getElement()||l:l,a=this.keySettings.event||a),this._on(l,a,function(n){if(this.model.keyConfigs){var t=f.getActionFromCode(this.model.keyConfigs,n.which,n.ctrlKey,n.shiftKey,n.altKey),i={code:n.which,ctrl:n.ctrlKey,alt:n.altKey,shift:n.shiftKey};t&&this._keyPressed(t,n.target,i,n)===!1&&n.preventDefault()}}))}this._trigger("create")},s);n.fn[i]=function(r){for(var a,h=0;h<this.length;h++){var c=n(this[h]),f=c.data(i),v=f&&c.hasClass(l),e=null;if(!v){r&&typeof r!="object"?u(i+": methods/properties can be accessed only after plugin creation"):c.addClass(l+" e-js").data(i,new s(c,r));continue}if(r)if(n.isPlainObject(r))f.setModel(r);else if((r.indexOf("_")===0||t.isNullOrUndefined(e=t.getObject(r,f)))&&r.indexOf("model.")!==0)u(o+": function/property - "+r+" does not exist");else{if(!e||!n.isFunction(e)){if(arguments.length==1)return e;f.option(r,arguments[1]);continue}if(a=e.apply(f,[].splice.call(arguments,1,arguments.length-1)),!t.util.isNullOrUndefined(a))return a}}return this};t.widget.register(i,o,s.prototype)};n.extend(t.widget,function(){var n={},i=function(i,r,f){t.isNullOrUndefined(n[i])||u("ej.widget : The widget named "+i+" is trying to register twice.");n[i]={name:i,className:r,proto:f}};return{register:i,registeredWidgets:n}}());t.widget.destroyAll=function(n){var r,t,i;if(n&&n.length)for(r=0;r<n.length;r++)if(t=n.eq(r).data(),t.ejWidgets&&t.ejWidgets.length)for(i=t.ejWidgets.length-1;i>-1;i--)t[t.ejWidgets[i]]&&t[t.ejWidgets[i]].destroy&&t[t.ejWidgets[i]].destroy()};t.cookie={get:function(n){var t=RegExp(n+"=([^;]+)").exec(document.cookie);return t&&t.length>1?t[1]:i},set:function(n,t,i){typeof t=="object"&&(t=JSON.stringify(t));t=escape(t)+(i==null?"":"; expires="+i.toUTCString());document.cookie=n+"="+t}};f={getActionFromCode:function(n,t,i,r,u){var o,e;i=i||!1;r=r||!1;u=u||!1;for(o in n)if(o!=="focus"&&(e=f.getKeyObject(n[o]),t===e.code&&i==e.isCtrl&&r==e.isShift&&u==e.isAlt))return o;return null},getKeyObject:function(n){var i={isCtrl:!1,isShift:!1,isAlt:!1},t;for(n=n.split("+"),t=0;t<n.length;t++)n[t]==="ctrl"?i.isCtrl=!0:n[t]==="shift"?i.isShift=!0:n[t]==="alt"?i.isAlt=!0:i.code=parseInt(n[t],10);return i}};t.browserInfo=function(){var n={},t=[],i={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var r in i)if(i.hasOwnProperty(r)&&(t=navigator.userAgent.match(i[r]),t)){n.name=t[1].toLowerCase();n.version=t[2];!navigator.userAgent.match(/Trident\/7\./)||(n.name="msie");break}return n.isMSPointerEnabled=n.name=="msie"&&n.version>9&&window.navigator.msPointerEnabled,n};t.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"};t.event=function(t,i,r){return n.extend(r||{},{type:t,model:i,cancel:!1})};t.proxy=function(n,t,i){return!n||typeof n!="function"?null:"bind"in n?i?n.bind(t,i):n.bind(t):function(){var r=i?[i]:[];r.push.apply(r,arguments);n.apply(t,r)}};t.hasStyle=function(n){var r=document.documentElement.style,i,t;if(n in r)return!0;for(i=["ms","Moz","Webkit","O","Khtml"],n=n[0].toUpperCase()+n.slice(1),t=0;t<i.length;t++)if(i[t]+n in r)return!0;return!1};Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1};String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n};r=t.copyObject=function(n,u){var h=2,c,f,s,o,e;for(typeof n!="boolean"&&(h=1),s=[].slice.call(arguments,h),h===1&&(u=n,n=i),o=0;o<s.length;o++)for(e in s[o])(c=u[e],f=s[o][e],f!==i&&c!==f&&s[o]!==f&&u!==f)&&(f instanceof Array?u[e]=o===0&&n?f.slice():f:t.isPlainObject(f)?(u[e]=c||{},n?r(n,u[e],f):r(u[e],f)):u[e]=f);return u};e=function(){return this};t.isPlainObject=function(n){if(!n||typeof n!="object"||n.nodeType||jQuery.isWindow(n))return!1;try{if(n.constructor&&!n.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch(f){return!1}var r,u=t.support.isOwnLast;for(r in n)if(u)break;return r===i||n.hasOwnProperty(r)};t.util.valueFunction=function(n){return function(r){var u=t.getObject(n,this.model);if(r===i)return typeof u=="function"?u():u;typeof u=="function"?(this["ob.values"][n]=r,u.call(this,r)):t.createObject(n,r,this.model)}};t.util.getVal=function(n){return typeof n=="function"?n():n};t.support={isOwnLast:function(){var n=function(){this.a=1},t;n.prototype.b=1;for(t in new n)return t==="b"}(),outerHTML:function(){return document.createElement("div").outerHTML!==i}()};u=t.throwError=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}};t.extensions={};t.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion);window.ej=window.Syncfusion=window.Syncfusion||{},function(n,t,i,r){"use strict";var f,k,d,p,g,l,u;t.DataManager=function(i,f,e){if(!(this instanceof t.DataManager))return new t.DataManager(i,f,e);i||u("DataManger : a dataSource is required to create Manager");var o=[],s=this;return i instanceof Array?o={json:i,offline:!0}:typeof i=="object"?n.isPlainObject(i)?(i.table&&(i.json=this._getJsonFromElement(i.table,i.headerOption)),o={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,jsonp:i.jsonp,dataType:i.dataType,offline:i.offline!==r?i.offline:i.url?!1:!0,requiresFormat:i.requiresFormat}):(i.jquery||yt(i))&&(o={json:this._getJsonFromElement(i),offline:!0,table:i}):typeof i=="string"&&(o={url:i,offline:!1,dataType:"json"}),o.requiresFormat!==r||t.support.cors||(o.requiresFormat=l(o.crossDomain)?!0:o.crossDomain),o.dataType===r&&(o.dataType="json"),this.dataSource=o,this.defaultQuery=f,o.url&&o.offline&&!o.json?(this.isDataAvailable=!1,this.adaptor=e||new t.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(f||t.Query()).done(function(n){s.dataSource.offline=!0;s.isDataAvailable=!0;o.json=n.result;s.adaptor=new t.JsonAdaptor})):this.adaptor=o.offline?new t.JsonAdaptor:new t.ODataAdaptor,!o.jsonp&&this.adaptor instanceof t.ODataAdaptor&&(o.jsonp="callback"),this.adaptor=e||this.adaptor,this};t.DataManager.prototype={setDefaultQuery:function(n){this.defaultQuery=n},executeQuery:function(i,r,f,e){var s,o;return typeof i=="function"&&(e=f,f=r,r=i,i=null),i||(i=this.defaultQuery),i instanceof t.Query||u("DataManager - executeQuery() : A query is required to execute"),s=n.Deferred(),s.then(r,f,e),o={query:i},this.dataSource.offline?g(function(){var n=this.executeLocal(i);i._requiresCount?(o.result=n.result,o.count=n.count):o.result=n;o.getTableModel=tt(i._fromTable,o.result,this);o.getKnockoutModel=it(o.result);s.resolveWith(this,[o])},this):this._makeRequest(this.adaptor.processQuery(this,i),s,o,i),s.promise()},executeLocal:function(i){var e,r;if(this.defaultQuery||i instanceof t.Query||u("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||u("DataManager - executeLocal() : Json data is required to execute"),i=i||this.defaultQuery,e=this.adaptor.processQuery(this,i),i._subQuery){var o=i._subQuery._fromTable,s=i._subQuery._lookup,f=i._requiresCount?e.result:e;for(s&&s instanceof Array&&b(i._subQuery._fKey,o,f,s),r=0;r<f.length;r++)f[r][o]instanceof Array&&(f[r]=n.extend({},f[r]),f[r][o]=this.adaptor.processResponse(i._subQuery.using(t.DataManager(f[r][o].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(e,this,i)},_makeRequest:function(t,i,r,u){var e=!!u._subQuerySelector,c=s(function(n){r.error=n;i.rejectWith(this,[r])},this),l=s(function(n,t,f,o,s){e||(r.xhr=f,r.count=parseInt(t,10),r.result=n,r.request=o,r.getTableModel=tt(u._fromTable,n,this),r.getKnockoutModel=it(n),r.actual=s,i.resolveWith(this,[r]))},this),a=s(function(t,i){var f=n.Deferred(),s={parent:r},e,o;return u._subQuery._isChild=!0,e=this.adaptor.processQuery(this,u._subQuery,t?this.adaptor.processResponse(t):i),o=this._makeRequest(e,f,s,u._subQuery),f.then(function(n){t&&(b(u._subQuery._fKey,u._subQuery._fromTable,t,n),l(t))},c),o},this),v=w(function(n,t,i,r){n=h.parseJson(n);var f=this.adaptor.processResponse(n,this,u,i,r),o=0;if(u._requiresCount&&(o=f.count,f=f.result),!u._subQuery){l(f,o,i,r,n);return}e||a(f)},this),f=n.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,beforeSend:s(this._beforeSend,this),processData:!1,success:v,error:c},t),o;return f=n.ajax(f),e&&(o=u._subQuerySelector.call(this,{query:u._subQuery,parent:u}),o&&o.length?(f=n.when(f,a(null,o)),f.then(w(function(n,t,i){var r=this.adaptor.processResponse(n[0],this,u,n[2],i[0]),o=0,f;u._requiresCount&&(o=r.count,r=r.result);f=this.adaptor.processResponse(t[0],this,u._subQuery,t[2],i[1]);o=0;u._subQuery._requiresCount&&(o=f.count,f=f.result);b(u._subQuery._fKey,u._subQuery._fromTable,r,f);e=!1;l(r,o,n[2])},this),c)):e=!1),f},_beforeSend:function(n,t){var i,r,u,f;for(this.adaptor.beforeSend(this,n,t),i=this.dataSource.headers,u=0;i&&u<i.length;u++){r=[];for(f in i[u])r.push(f);n.setRequestHeader(i[r[0]],i[r[1]])}},saveChanges:function(t,i,r){var e={url:r,key:i||this.dataSource.key},f=this.adaptor.batchRequest(this,t,e),u;return this.dataSource.offline?f:(u=n.Deferred(),n.ajax(n.extend({beforeSend:s(this._beforeSend,this),success:w(function(n,i,r,f){u.resolveWith(this,this.adaptor.processResponse(n,this,null,r,f,t))},this),fail:function(n){u.rejectWith(this,n)}},f)),u)},insert:function(t,i){var u=this.adaptor.insert(this,t,i),r;return this.dataSource.offline?u:(r=n.Deferred(),n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",processData:!1,beforeSend:s(this._beforeSend,this),success:w(function(n,t,i,u){n=this.adaptor.processResponse(h.parseJson(n),this,null,i,u);r.resolveWith(this,[{record:n,dataManager:this}])},this),error:function(n){r.rejectWith(this,[{error:n,dataManager:this}])}},u)),r.promise())},remove:function(t,i,r){typeof i=="object"&&(i=i[t]);var u=this.adaptor.remove(this,t,i,r);return this.dataSource.offline?u:n.ajax(n.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:s(this._beforeSend,this),dataType:"json"},u))},update:function(t,i,r){var u=this.adaptor.update(this,t,i,r);return this.dataSource.offline?u:n.ajax(n.extend({contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:s(this._beforeSend,this)},u))},_getJsonFromElement:function(i){typeof i=="string"&&(i=n(n(i).html()));i=i.jquery?i[0]:i;var r=i.tagName.toLowerCase();return r!=="table"&&u("ej.DataManager : Unsupported htmlElement : "+r),t.parseTable(i)}};var b=function(n,t,i,r){var f,e={},o;for(r.result&&(r=r.result),r.GROUPGUID&&u("ej.DataManager: Do not have support Grouping in hierarchy"),f=0;f<r.length;f++)o=e[r[f][n]]||(e[r[f][n]]=[]),o.push(r[f]);for(f=0;f<i.length;f++)i[f][t]=e[i[f][n]]},c={accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},h={parseJson:function(n){var t=typeof n;return t==="string"?n=JSON.parse(n,h.jsonReviver):n instanceof Array?h.iterateAndReviveArray(n):t==="object"&&h.iterateAndReviveJson(n),n},iterateAndReviveArray:function(n){for(var t=0;t<n.length;t++)typeof n[t]=="object"?h.iterateAndReviveJson(n[t]):n[t]=h.parseJson(n[t])},iterateAndReviveJson:function(n){var t;for(var i in n)i.startsWith("__")||(t=n[i],typeof t=="object"?t instanceof Array?h.iterateAndReviveArray(t):h.iterateAndReviveJson(t):n[i]=h.jsonReviver(i,t))},jsonReviver:function(n,t){var u=t,r,i;if(typeof t=="string"){if(r=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(t),r)return new Date(parseInt(r[1]));/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(t)&&(t=new Date(t),t=="Invalid Date"&&(i=u.split(/[^0-9]/),t=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])))}return t},isJson:function(n){return typeof n[0]=="string"?n:t.parseJSON(n)}};t.isJSON=h.isJson;t.parseJSON=h.parseJson;t.Query=function(n){return(this instanceof t.Query)?(this.queries=[],this._key="",this._fKey="",typeof n=="string"?this._fromTable=n||"":n&&n instanceof Array&&(this._lookup=n),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new t.Query(n)};t.Query.prototype={key:function(n){return typeof n=="string"&&(this._key=n),this},using:function(n){return n instanceof t.DataManager?(this.dataManagar=n,this):u("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(n,i,r,f){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeQuery(this,i,r,f):u("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(n){return(n=n||this.dataManagar,n&&n instanceof t.DataManager)?n.executeLocal(this):u("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var n=new t.Query;return n.queries=this.queries.slice(0),n._key=this._key,n._isChild=this._isChild,n.dataManagar=this.dataManager,n._fromTable=this._fromTable,n._params=this._params.slice(0),n._expands=this._expands.slice(0),n._sortedColumns=this._sortedColumns.slice(0),n._groupedColumns=this._groupedColumns.slice(0),n._subQuerySelector=this._subQuerySelector,n._subQuery=this._subQuery,n._fKey=this._fKey,n._requiresCount=this._requiresCount,n},from:function(n){return typeof n=="string"&&(this._fromTable=n),this},addParams:function(n,i){return typeof i=="function"||t.isPlainObject(i)?typeof i=="function"&&this._params.push({key:n,fn:i}):this._params.push({key:n,value:i}),this},expand:function(n){return this._expands=typeof n=="string"?[].slice.call(arguments,0):n.slice(0),this},where:function(n,i,r,f){i=(i||t.FilterOperators.equal).toLowerCase();var e=null;return typeof n=="string"?e=new t.Predicate(n,i,r,f):n instanceof t.Predicate?e=n:u("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:e}),this},search:function(n,i,r,u){i&&typeof i!="boolean"?typeof i=="string"&&(i=[i]):(i=[],u=i);typeof r=="boolean"&&(u=r,r=null);r=r||t.FilterOperators.contains;r.length<3&&(r=t.data.operatorSymbols[r]);var f=t.data.fnOperators[r]||t.data.fnOperators.processSymbols(r);return this.queries.push({fn:"onSearch",e:{fieldNames:i,operator:r,searchKey:n,ignoreCase:u,comparer:f}}),this},sortBy:function(n,i,r){var o=t.sortOrder.Ascending,s,u,e,f;if(typeof n=="string"&&n.toLowerCase().endsWith(" desc")&&(n=n.replace(/ desc$/i,""),i=t.sortOrder.Descending),typeof i=="boolean"?i=i?t.sortOrder.Descending:t.sortOrder.Ascending:typeof i=="function"&&(o="custom"),i&&typeof i!="string"||(o=i?i.toLowerCase():t.sortOrder.Ascending,i=t.pvt.fnSort(i)),r)for(s=v(this.queries,"onSortBy"),e=0;e<s.length;e++)if(u=s[e].e.fieldName,typeof u=="string"){if(u===n)return}else if(u instanceof Array)for(f=0;f<u.length;f++)if(u[f]===n||n.toLowerCase()===u[f]+" desc")return;return this.queries.push({fn:"onSortBy",e:{fieldName:n,comparer:i,direction:o}}),this},sortByDesc:function(n){return this.sortBy(n,t.sortOrder.Descending)},group:function(n){return this.sortBy(n,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:n}}),this},page:function(n,t){return this.queries.push({fn:"onPage",e:{pageIndex:n,pageSize:t}}),this},range:function(n,t){return(typeof n!="number"||typeof t!="number")&&u("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:n,end:t}}),this},take:function(n){return typeof n!="number"&&u("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:n}}),this},skip:function(n){return typeof n!="number"&&u("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:n}}),this},select:function(n){return typeof n=="string"&&(n=[].slice.call(arguments,0)),n instanceof Array||u("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:n}}),this},hierarchy:function(n,i){return n&&n instanceof t.Query||u("Query() - hierarchy : query must be instance of ej.Query"),typeof i=="function"&&(this._subQuerySelector=i),this._subQuery=n,this},foreignKey:function(n){return typeof n=="string"&&(this._fKey=n),this},requiresCount:function(){return this._requiresCount=!0,this}};t.Adaptor=function(n){this.dataSource=n;this.pvt={}};t.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where"},extend:function(t){var i=function(t){this.dataSource=t;this.options&&(this.options=n.extend({},this.options));this.pvt={}},u,r;i.prototype=new this.type;i.prototype.type=i;u=i.prototype.base={};for(r in t)i.prototype[r]||(u[r]=i.prototype[r]);return n.extend(!0,i.prototype,t),i},processQuery:function(){},processResponse:function(n){return n},convertToQueryString:function(t){return n.param(t)},type:t.Adaptor};t.UrlAdaptor=(new t.Adaptor).extend({processQuery:function(n,t,i){var b=v(t.queries,"onSortBy"),g=v(t.queries,"onGroup"),nt=v(t.queries,"onWhere"),tt=v(t.queries,"onSearch"),a=ft(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),it=t._params,k=n.dataSource.url,r,p,w=null,c=this.options,h={sorted:[],grouped:[],filters:[],searches:[]},e,s,y,d;for(a.onPage?(r=a.onPage,p=f(r.pageIndex,t),w=f(r.pageSize,t),p=(p-1)*w):a.onRange&&(r=a.onRange,p=r.start,w=r.end-r.start),s=0;s<b.length;s++)r=f(b[s].e.fieldName,t),h.sorted.push(o(this,"onEachSort",{name:r,direction:b[s].e.direction},t));for(i&&(r=this.getFiltersFrom(i,t),r&&h.filters.push(o(this,"onEachWhere",r.toJSON(),t))),s=0;s<nt.length;s++){h.filters.push(o(this,"onEachWhere",nt[s].e.toJSON(),t));for(y in h.filters[s])l(h[y])&&delete h[y]}for(s=0;s<tt.length;s++)r=tt[s].e,h.searches.push(o(this,"onEachSearch",{fields:r.fieldNames,operator:r.operator,key:r.searchKey,ignoreCase:r.ignoreCase},t));for(s=0;s<g.length;s++)h.grouped.push(f(g[s].e.fieldName,t));for(e={},e[c.from]=t._fromTable,c.expand&&(e[c.expand]=t._expands),e[c.select]=a.onSelect?o(this,"onSelect",f(a.onSelect.fieldNames,t),t):"",e[c.count]=t._requiresCount?o(this,"onCount",t._requiresCount,t):"",e[c.search]=h.searches.length?o(this,"onSearch",h.searches,t):"",e[c.skip]=a.onSkip?o(this,"onSkip",f(a.onSkip.nos,t),t):"",e[c.take]=a.onTake?o(this,"onTake",f(a.onTake.nos,t),t):"",e[c.where]=h.filters.length||h.searches.length?o(this,"onWhere",h.filters,t):"",e[c.sortBy]=h.sorted.length?o(this,"onSortBy",h.sorted,t):"",e[c.group]=h.grouped.length?o(this,"onGroup",h.grouped,t):"",s=0;r=it[s];s++)e[r.key]&&u("ej.Query: Custom Param is conflicting other request arguments"),e[r.key]=r.value,r.fn&&(e[r.key]=r.fn.call(t,r.key,t,n));for(y in e)(l(e[y])||e[y]===""||e[y].length===0)&&delete e[y];return(c.skip in e&&c.take in e||w===null||(e[c.skip]=o(this,"onSkip",p,t),e[c.take]=o(this,"onTake",w,t)),d=this.pvt,this.pvt={},this.options.requestType==="json")?{data:JSON.stringify(e),url:k,ejPvtData:d,type:"POST",contentType:"application/json; charset=utf-8"}:(r=this.convertToQueryString(e,t,n),{type:"GET",url:r.length?k.replace(/\/*$/,"/"+r):k,ejPvtData:d})},convertToQueryString:function(t,i,r){return r.dataSource.url&&r.dataSource.url.indexOf("?")!==-1?n.param(t):"?"+n.param(t)},processResponse:function(n,i,r,u,f,e){var h=f.ejPvtData||{},l=JSON.parse(f.data),c,o,s;if(l&&l.action==="batch"&&n.added)return e.added=n.added,e;if(h.groups&&h.groups.length){for(c=h.groups,o={},n.count&&(o.count=n.count),n.result&&(n=n.result),s=0;s<c.length;s++)n=t.group(n,c[s]);return o.count?o.result=n:o=n,o}return n},onGroup:function(n){this.pvt.groups=n},batchRequest:function(n,t,i){return{type:"POST",url:n.dataSource.batchUrl||n.dataSource.crudUrl||n.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({changed:t.changed,added:t.added,deleted:t.deleted,action:"batch",table:i.url,key:i.key})}},beforeSend:function(){},insert:function(n,t,i){return{url:n.dataSource.insertUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:t,table:i,action:"insert"})}},remove:function(n,t,i,r){return{type:"POST",url:n.dataSource.removeUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({key:i,keyColumn:t,table:r,action:"remove"})}},update:function(n,t,i,r){return{type:"POST",url:n.dataSource.updateUrl||n.dataSource.crudUrl||n.dataSource.url,data:JSON.stringify({value:i,action:"update",keyColumn:t,key:i[t],table:r})}},getFiltersFrom:function(n,i){var r;n instanceof Array&&n.length||u("ej.SubQuery: Array of key values required");var f=i._fKey,e,o=f,s=[],h=typeof n[0]!="object";for(typeof n[0]!="object"&&(o=null),r=0;r<n.length;r++)e=h?n[r]:t.pvt.getObject(o,n[r]),s.push(new t.Predicate(f,"==",e));return t.Predicate.or(s)}});var v=function(n,t){return n.filter(function(n){return n.fn===t})||[]},ft=function(n,t){for(var r=n.filter(function(n){return t.indexOf(n.fn)!==-1}),u={},i=0;i<r.length;i++)u[r[i].fn]||(u[r[i].fn]=r[i].e);return u},o=function(n,t,i,r){if(n[t]){var u=n[t](i,r);l(u)||(i=u)}return i};t.ODataAdaptor=(new t.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(n,t){return n.isComplex?this.onComplexPredicate(n,t):this.onPredicate(n,t)},onPredicate:function(n,i,r){var o="",e=n.operator,u=n.value,s=typeof u,f=this._p(n.field),h;return(u instanceof Date&&(u="datetime'"+pt(u)+"'"),s==="string"&&(u="'"+u+"'",r&&(f="cast("+f+", 'Edm.String')"),n.ignoreCase&&(f="tolower("+f+")",u=u.toLowerCase())),e=t.data.odBiOperator[n.operator],e)?(o+=f,o+=e,o+u):(e=t.data.odUniOperator[n.operator],!e||s!=="string")?"":(e==="substringof"&&(h=u,u=f,f=h),o+=e+"(",o+=f+",",o+(u+")"))},onComplexPredicate:function(n,t){for(var r=[],i=0;i<n.predicates.length;i++)r.push("("+this.onEachWhere(n.predicates[i],t)+")");return r.join(" "+n.condition+" ")},onWhere:function(n){return this.pvt.searches&&n.push(this.onEachWhere(this.pvt.searches,null,!0)),n.join(" and ")},onEachSearch:function(n){var r,i;for(n.fields.length===0&&u("Query() - Search : oData search requires list of field names to search"),r=this.pvt.searches||[],i=0;i<n.fields.length;i++)r.push(new t.Predicate(n.fields[i],n.operator,n.key,n.ignoreCase));this.pvt.searches=r},onSearch:function(){return this.pvt.searches=t.Predicate.or(this.pvt.searches),""},onEachSort:function(n){var i=[],t;if(n.name instanceof Array)for(t=0;t<n.name.length;t++)i.push(this._p(n.name[t]));else i.push(this._p(n.name)+(n.direction==="descending"?" desc":""));return i.join(",")},onSortBy:function(n){return n.join(",")},onGroup:function(n){return this.pvt.groups=n,""},onSelect:function(n){for(var t=0;t<n.length;t++)n[t]=this._p(n[t]);return n.join(",")},onCount:function(n){return n===!0?"allpages":""},beforeSend:function(n,t,i){i.url.endsWith(this.options.batch)&&i.type.toLowerCase()==="post"&&(t.setRequestHeader("Accept",c.multipartAccept),t.setRequestHeader("DataServiceVersion","2.0"),t.overrideMimeType("text/plain; charset=x-user-defined"));n.dataSource.crossDomain||(t.setRequestHeader("DataServiceVersion","2.0"),t.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(i,r,u,f,e,o){var y=e&&e.ejPvtData,a,p,k,w,d,c,v,b,s;if(e&&e.url.endsWith(this.options.batch)&&e.type.toLowerCase()==="post"){if(a=f.getResponseHeader("Content-Type"),a=a.substring(a.indexOf("=batchresponse")+1),i=i.split(a),i.length<2)return;for(i=i[1],w=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(i),i.replace(w[0],""),d=w[1],i=i.split(d),s=i.length;s>-1;s--)/\bContent-ID:/i.test(i[s])&&/\bHTTP.+201/.test(i[s])&&(p=parseInt(/\bContent-ID: (\d+)/i.exec(i[s])[1]),o.added[p]&&(k=h.parseJson(/^\{.+\}/m.exec(i[s])[0]),n.extend(o.added[p],this.processResponse(k))));return o}if(c=f&&f.getResponseHeader("DataServiceVersion"),v=null,c=c&&parseInt(c,10)||2,u&&u._requiresCount&&((i.__count||i["odata.count"])&&(v=i.__count||i["odata.count"]),i.d&&(i=i.d),(i.__count||i["odata.count"])&&(v=i.__count||i["odata.count"])),c===3&&i.value&&(i=i.value),i.d&&(i=i.d),c<3&&i.results&&(i=i.results),y&&y.groups&&y.groups.length)for(b=y.groups,s=0;s<b.length;s++)i=t.group(i,b[s]);return l(v)?i:{result:i,count:v}},convertToQueryString:function(n,t,i){var r=[],u=n.table||"",f;delete n.table;i.dataSource.requiresFormat&&(n.$format="json");for(f in n)r.push(f+"="+n[f]);return(r=r.join("&"),i.dataSource.url&&i.dataSource.url.indexOf("?")!==-1&&!u)?r:r.length?u+"?"+r:u||""},insert:function(n,t,i){return{url:n.dataSource.url.replace(/\/*$/,i?"/"+i:""),data:JSON.stringify(t)}},remove:function(n,t,i,r){return{type:"DELETE",url:n.dataSource.url.replace(/\/*$/,r?"/"+r:"")+"("+i+")"}},update:function(n,t,i,r){return{type:"PUT",url:n.dataSource.url.replace(/\/*$/,r?"/"+r:"")+"("+i[t]+")",data:JSON.stringify(i),accept:this.options.accept}},batchRequest:function(n,i,r){var e=r.guid=t.getGuid(c.batchPre),o=n.dataSource.url.replace(/\/*$/,"/"+this.options.batch),f={url:r.url,key:r.key,cid:1,cSet:t.getGuid(c.changeSet)},u="--"+e+"\n";return u+="Content-Type: multipart/mixed; boundary="+f.cSet.replace("--","")+"\n",u+=this.generateInsertRequest(i.added,f),u+=this.generateUpdateRequest(i.changed,f),u+=this.generateDeleteRequest(i.deleted,f),u+=f.cSet+"--\n",u+="--"+e+"--",{type:"POST",url:o,contentType:"multipart/mixed; charset=UTF-8;boundary="+e,data:u}},generateDeleteRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=c.changeSetContent+"\n\n",i+="DELETE ",i+=t.url+"("+n[r][t.key]+") HTTP/1.1\n",i+="Accept: "+c.accept+"\n",i+=c.batchChangeSetContentType+"\n";return i+"\n"},generateInsertRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=c.changeSetContent+"\n\n",i+="POST ",i+=t.url+" HTTP/1.1\n",i+="Accept: "+c.accept+"\n",i+="Content-Id: "+r+"\n",i+=c.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n";return i},generateUpdateRequest:function(n,t){var i,r;if(!n)return"";for(i="",r=0;r<n.length;r++)i+="\n"+t.cSet+"\n",i+=c.changeSetContent+"\n\n",i+="PUT ",i+=t.url+"("+n[r][t.key]+") HTTP/1.1\n",i+="Accept: "+c.accept+"\n",i+=c.batchChangeSetContentType+"\n\n",i+=JSON.stringify(n[r])+"\n\n";return i},_p:function(n){return n.replace(/\./g,"/")}});t.JsonAdaptor=(new t.Adaptor).extend({processQuery:function(n,t){for(var i=n.dataSource.json.slice(0),o=i.length,s=!0,f,u,e=0;e<t.queries.length;e++)u=t.queries[e],f=this[u.fn].call(this,i,u.e,t),i=f!==r?f:i,(u.fn==="onPage"||u.fn==="onSkip"||u.fn==="onTake"||u.fn==="onRange")&&(s=!1),s&&(o=i.length);return t._requiresCount&&(i={result:i,count:o}),i},batchRequest:function(n,t,i){for(var r=0;r<t.added.length;r++)this.insert(n,t.added[r]);for(r=0;r<t.changed.length;r++)this.update(n,i.key,t.changed[r]);for(r=0;r<t.deleted.length;r++)this.remove(n,i.key,t.deleted[r]);return t},onWhere:function(n,t){return n?n.filter(function(n){return t.validate(n)}):n},onSearch:function(n,i){return!n||!n.length?n:(i.fieldNames.length===0&&t.pvt.getFieldList(n[0],i.fieldNames),n.filter(function(n){for(var r=0;r<i.fieldNames.length;r++)if(i.comparer.call(n,t.pvt.getObject(i.fieldNames[r],n),i.searchKey,i.ignoreCase))return!0;return!1}))},onSortBy:function(n,i,r){var o,u,e;if(!n)return n;if(u=f(i.fieldName,r),!u)return n.sort(i.comparer);if(u instanceof Array){for(u=u.slice(0),e=u.length-1;e>=0;e--)u[e]&&(o=i.comparer,u[e].endsWith(" desc")&&(o=t.pvt.fnSort(t.sortOrder.Descending),u[e]=u[e].replace(" desc","")),n=nt(n,u[e],o));return n}return nt(n,u,i.comparer)},onGroup:function(n,i,r){return n?t.group(n,f(i.fieldName,r)):n},onPage:function(n,t,i){var r=f(t.pageSize,i),u=(f(t.pageIndex,i)-1)*r,e=u+r;return n?n.slice(u,e):n},onRange:function(n,t){return n?n.slice(f(t.start),f(t.end)):n},onTake:function(n,t){return n?n.slice(0,f(t.nos)):n},onSkip:function(n,t){return n?n.slice(f(t.nos)):n},onSelect:function(n,i){return n?t.select(n,f(i.fieldNames)):n},insert:function(n,t){return n.dataSource.json.push(t)},remove:function(n,t,i){var u=n.dataSource.json,r;for(typeof i=="object"&&(i=i[t]),r=0;r<u.length;r++)if(u[r][t]===i)break;return r!==u.length?u.splice(r,1):null},update:function(t,i,r){for(var f=t.dataSource.json,e=r[i],u=0;u<f.length;u++)if(f[u][i]===e)break;return u<f.length?n.extend(f[u],r):null}});f=function(n,t){return typeof n=="function"?n.call(t||{}):n};t.TableModel=function(i,r,f,e){var c,o,l,h;if(!y(this,t.TableModel))return new t.TableModel(r);for(y(r,Array)||u("ej.TableModel - Json Array is required"),c=[],l=s(st,this),h=0;h<r.length;h++){o=new t.Model(r[h],this);o.state="unchanged";o.on("stateChange",l);e&&o.computes(e);c.push(o)}return this.name=i||"table1",this.rows=t.NotifierArray(c),this._deleted=[],this._events=n({}),this.dataManager=f,this._isDirty=!1,this};t.TableModel.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},setDataManager:function(n){this.dataManagar=n},saveChanges:function(){if(this.dataManager&&y(this.dataManager,t.DataManager)||u("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var n=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);n.done(s(function(n){for(var t=this.toArray(),i=0;i<t.length;i++)t.state==="added"&&t.set(this.key,n.added.filter(function(n){return n[this.key]===t.get(this.key)})[0][this.key]),t[i].markCommit();this._events.triggerHandler({type:"save",table:this})},this));n.fail(s(function(n){this.rejectChanges();this._events.triggerHandler({type:"reject",table:this,error:n})},this));this._isDirty=!1}},rejectChanges:function(){for(var t=this.toArray(),n=0;n<t.length;n++)t[n].revert(!0);this._isDirty=!1;this._events.triggerHandler({type:"reject",table:this})},insert:function(n){var i=new t.Model(n);i._isDirty=this._isDirty=!0;this.rows.push(i);this._events.triggerHandler({type:"insert",model:i,table:this})},update:function(n){var r;this.key||u("TableModel - update : Primary key should be assigned to TableModel.key");var i=n,t,f=this.key,e=i[f];t=this.rows.array.filter(function(n){return n.get(f)===e});t=t[0];for(r in i)t.set(r,i[r]);this._isDirty=!0;this._events.triggerHandler({type:"update",model:t,table:this})},remove:function(n){var t,i,e,f;for(this.key||u("TableModel - update : Primary key should be assigned to TableModel.key"),t=this.key,i=-1,n&&typeof n=="object"&&(n=n[t]!==r?n[t]:n.get(t)),f=0;f<this.rows.length();f++)if(this.rows.array[f].get(t)===n){i=f;break}i>-1&&(e=this.rows.removeAt(i),e.markDelete(),this._deleted.push({model:e,position:i}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:e,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var i={added:[],changed:[]},r=this.toArray(),n=0;n<r.length;n++)i[r[n].state]&&i[r[n].state].push(r[n].json);return i.deleted=t.select(this._deleted,["model"]),i},toArray:function(){return this.rows.toArray()},setDirty:function(n,t){this._isDirty!==!!n&&(this._isDirty=!!n,this._events.triggerHandler({type:"dirty",table:this,model:t}))},get:function(n){return this.rows.array[n]},length:function(){return this.rows.array.length},bindTo:function(t){var i=k,e=n(t.html()),f=this.toArray(),u,r;for(n.inArray(t.prop("tagName").toLowerCase(),["table","tbody"])&&(i=d),i.insertBefore(t),t.detach().empty(),r=0;r<f.length;r++)u=e.clone(),f[r].bindTo(u),t.append(u);t.insertAfter(i);i.remove()}};k=i?n(document.createElement("div")):{};d=i?n(document.createElement("tr")):{};t.Model=function(i,r,u){typeof r=="string"&&(u=r,r=null);this.$id=ut("m");this.json=i;this.table=r instanceof t.TableModel?r:null;this.name=u||this.table&&this.table.name;this.dataManager=r instanceof t.DataManager?r:r.dataManagar;this.actual={};this._events=n({});this.isDirty=!1;this.state="added";this._props=[];this._computeEls={};this._fields={};this._attrEls={};this._updates={};this.computed={}};t.Model.prototype={computes:function(t){n.extend(this.computed,t)},on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},set:function(n,t){var i=this.json,e=n,f,u;for(n=n.split("."),u=0;u<n.length-1;u++)n=n[0],i=i[n[0]];this.isDirty=!0;this.changeState("changed",{from:"set"});f=i[n];this.actual[n]!==r||n in this.actual||(this.actual[n]=t);i[n]=t;this._updateValues(n,t);this._events.triggerHandler({type:e,current:t,previous:f,model:this})},get:function(n){return t.pvt.getObject(n,this.json)},revert:function(n){for(var t in this.actual)this.json[t]=this.actual[t];this.isDirty=!1;n?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(i,r){return(i=i||this.dataManagar,r=r||i.dataSource.key,i||u("ej.Model - DataManager is required to commit the changes"),this.state==="added")?i.insert(this.json,this.name).done(t.proxy(function(t){n.extend(this.json,t.record)},this)):this.state==="changed"?i.update(r,this.json,this.name):this.state==="deleted"?i.remove(r,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1;this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(t,i){if(this.state!==t){if(this.state==="added")if(t==="deleted")t="unchanged";else return;var r=t;i=i||{};this.state=t;this._events.triggerHandler(n.extend({type:"stateChange",current:t,previous:r,model:this},i))}},properties:function(){if(this._props.length)return this._props;for(var n in this.json)this._props.push(n),this._updates[n]={read:[],input:[]};return this._props},bindTo:function(t){var h=this.properties(),e=n(t),r,i,o=e.find("[ej-observe], [ej-computed], [ej-prop]"),s=o.length,u,f;for(e.data("ejModel",this),u={fields:[],props:[],computes:[]},f=0;f<s;f++){if(r=o.eq(f),i=r.attr("ej-prop"),i&&this._processAttrib(i,r,u),i=r.attr("ej-observe"),i&&this._props.indexOf(i)!==-1){this._processField(r,i,u);continue}if(i=r.attr("ej-computed"),i){this._processComputed(i,r,u);continue}}e.data("ejModelBinding"+this.$id,u)},unbind:function(t){var l=this.properties(),u,r={props:this._attrEls,computes:this._computeEls},f=!1,i,c,e,s,h,o;t&&(r=n(t).removeData("ejModel").data("ejModelBinding"+this.$id)||r,f=!0);for(i in this.computed)u=r.computes[i],i=this.computed[i],u&&i.deps&&(this.off(i.deps.join(" "),u.handle),f&&delete this._computeEls[i]);f||(this._computeEls={});for(i in r.props)u=r.props[i],u&&(this.off(u.deps.join(" "),u.handle),delete r.props[i],f&&delete this._attrEls[i]);if(f||(this._attrEls={}),r.fields&&r.fields.length)for(c=r.fields.length,o=0;o<c;o++)e=r.fields[o],n(e).off("change",null,this._changeHandler),h=this.formElements.indexOf(e.tagName.toLowerCase())!==-1?"input":"read",s=this._updates[h].indexOf(e),s!==-1&&this._updates[h].splice(s,1)},_processComputed:function(n,t,i){if(n){var r,u=[],f=ot(n),e=this.formElements.indexOf(t[0].tagName.toLowerCase())!==-1?"val":"html";this.computed[n]&&this.computed[f]||(this.computed[f]={value:new Function("var e = this; return "+n),deps:this._generateDeps(n)},n=f);r=this.computed[n];r.get||(r.get=function(){r.value.call(this.json)});u=r.deps;r=r.value;this._updateDeps(u);this._updateElement(t,e,r);r={el:t,handle:s(this._computeHandle,this,{value:n,type:e})};this._computeEls[n]=r;i.computes[n]=r;this.on(u.join(" "),r.handle)}},_computeHandle:function(n){var t=this._computeEls[n.value];t&&this.computed[n.value]&&this._updateElement(t.el,n.type,this.computed[n.value].value)},_updateElement:function(t,i,r){t[i](r.call(n.extend({},this.json,this.computed)))},_updateDeps:function(n){for(var i=0;i<n.length;i++)!(n[i]in this.json)&&n[i]in this.computed&&t.merge(n,this.computed[n[i]].deps)},_generateDeps:function(n){for(var r=n.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),t,u=[],i=0;i<r.length;i++)r[i].startsWith("#ej.#")&&(t=r[i].replace("#ej.#","").split(" ")[0],t&&this._props.indexOf(t)!==-1&&u.push(t));return u},_processAttrib:function(n,t,i){var o,u={},r,f,e;for(n=n.replace(/^ +| +$/g,"").split(";"),r=0;r<n.length;r++)(n[r]=n[r].split(":"),n[r].length<2)||(e=n[r][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""),u[e]=n[r][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));n=u;f=[];for(e in n)f.push(n[e]);this._updateDeps(f);this._updateProps(t,n);u=ut("emak");o={el:t,handle:s(this._attrHandle,this,u),value:n,deps:f};t.prop("ejmodelattrkey",u);i.props[u]=o;this._attrEls[u]=o;this.on(f.join(" "),o.handle)},_attrHandle:function(n){var t=this._attrEls[n];t&&this._updateProps(t.el,t.value)},_updateProps:function(t,i){var u=this.json,r,e=this.computed;for(var f in i)r=i[f],r in u?r=u[r]:r in this.computed&&(r=this.computed[r],r&&(r=r.value.call(n.extend({},this.json,this.computed)))),l(r)||t.prop(f,r)},_updateValues:function(n,t){var i=this._updates[n];i&&(i.read||i.input)&&(this._ensureItems(i.read,"html",t),this._ensureItems(i.input,"val",t))},_ensureItems:function(t,i,r){if(t)for(var u=t.length-1;u>-1;u--){if(!t[u].offsetParent){t.splice(u,1);continue}n(t[u])[i](r)}},_changeHandler:function(t){t.data.self.set(t.data.prop,n(this).val())},_processField:function(n,t,i){var u={self:this,prop:t},r=this.get(t);if(i.fields.push(n[0]),this.formElements.indexOf(n[0].tagName.toLowerCase())===-1)return n.html(r),this._updates[t].read.push(n[0]);n.val(r).off("change",null,this._changeHandler).on("change",null,u,this._changeHandler);return this._updates[t].input.push(n[0])},formElements:["input","select","textarea"]};var et=/[^\w]+/g,ot=function(n){return n.replace(et,"_")},st=function(n){this.setDirty(!0,n.model)};if(t.Predicate=function(n,i,r,u){return(this instanceof t.Predicate)?(typeof n=="string"?(this.field=n,this.operator=i,this.value=r,this.ignoreCase=u,this.isComplex=!1,this._comparer=t.data.fnOperators.processOperator(this.operator)):(n instanceof t.Predicate&&r instanceof t.Predicate||r instanceof Array)&&(this.isComplex=!0,this.condition=i.toLowerCase(),this.predicates=[n],r instanceof Array?[].push.apply(this.predicates,r):this.predicates.push(r)),this):new t.Predicate(n,i,r,u)},t.Predicate.and=function(){return p._combinePredicates([].slice.call(arguments,0),"and")},t.Predicate.or=function(){return p._combinePredicates([].slice.call(arguments,0),"or")},p={_combinePredicates:function(n,i){if(!n.length)return r;if(n.length===1){if(!y(n[0],Array))return n[0];n=n[0]}return new t.Predicate(n[0],i,n.slice(1))},_combine:function(n,i,r,f,e,o){return i instanceof t.Predicate?t.Predicate[e](n,i):typeof i=="string"?t.Predicate[e](n,new t.Predicate(i,r,f,o)):u("Predicate - "+e+" : invalid arguments")}},t.Predicate.prototype={and:function(n,t,i,r){return p._combine(this,n,t,i,"and",r)},or:function(n,t,i,r){return p._combine(this,n,t,i,"or",r)},validate:function(n){var f=this.predicates,r,u,i;if(!this.isComplex)return this._comparer.call(this,t.pvt.getObject(this.field,n),this.value,this.ignoreCase);for(r=this.condition==="and",i=0;i<f.length;i++)if(u=f[i].validate(n),r){if(!u)return!1}else if(u)return!0;return r},toJSON:function(){var t,i,n;if(this.isComplex)for(t=[],i=this.predicates,n=0;n<i.length;n++)t.push(i[n].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,condition:this.condition,predicates:t}}},t.dataUtil={swap:function(n,t,i){if(t!=i){var r=n[t];n[t]=n[i];n[i]=r}},mergeSort:function(n,i,r){return r&&typeof r!="string"||(r=t.pvt.fnSort(r,!0)),typeof i=="function"&&(r=i,i=null),t.pvt.mergeSort(n,i,r)},max:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnDescending)},min:function(n,i,r){return typeof i=="function"&&(r=i,i=null),t.pvt.getItemFromComparer(n,i,r||t.pvt.fnAscending)},distinct:function(n,t,i){for(var f=[],r,e={},u=0;u<n.length;u++)r=a(n,t,u),r in e||(f.push(i?n[u]:r),e[r]=1);return f},sum:function(n,t){for(var f=0,i,u=0;u<n.length;u++)i=a(n,t,u),i!==r&&(f+=i);return f},avg:function(n,i){return t.sum(n,i)/n.length},select:function(n,i){for(var u=[],r=0;r<n.length;r++)u.push(t.pvt.extractFields(n[r],i));return u},group:function(n,i,r){var u,o,f,s,e;if(r=r||1,n.GROUPGUID==t.pvt.consts.GROUPGUID){for(u=0;u<n.length;u++)n[u].items=t.group(n[u].items,i,n.level+1),n[u].count=n[u].items.length;return n.childLevels+=1,n}for(o={},f=[],f.GROUPGUID=t.pvt.consts.GROUPGUID,f.level=r,f.childLevels=0,f.records=n,s=0;s<n.length;s++)e=a(n,i,s),o[e]||(o[e]={key:e,count:0,items:[],field:i},f.push(o[e])),o[e].count+=1,o[e].items.push(n[s]);return f},parseTable:function(i,r,u){var o=i.rows,s,a=[],v=[],f,h,c,l,e;if(!o.length)return[];u=u||0;switch((r||"").toLowerCase()){case t.headerOption.tHead:s=i.tHead.rows[u];break;case t.headerOption.row:default:s=i.rows[u]}for(h=s.cells,f=0;f<h.length;f++)a.push(n.trim(h[f].innerHTML));for(f=u+1;f<o.length;f++){for(c={},l=o[f].cells,e=0;e<l.length;e++)c[a[e]]=l[e].innerHTML;v.push(c)}return v}},t.headerOption={tHead:"thead",row:"row"},t.pvt={filterQueries:v,mergeSort:function(n,i,r){if(n.length<=1)return n;var e=parseInt(n.length/2,10),u=n.slice(0,e),f=n.slice(e);return u=t.pvt.mergeSort(u,i,r),f=t.pvt.mergeSort(f,i,r),t.pvt.merge(u,f,i,r)},getItemFromComparer:function(n,t,i){for(var f=a(n,t,0),u,e=n[0],r=1;r<n.length;r++)u=a(n,t,r),i(f,u)>0&&(f=u,e=n[r]);return e},quickSelect:function(n,i,r,u,f,e){if(r==u)return n[r];var o=t.pvt.partition(n,i,r,u,e),s=o-r+1;return s==f?n[o]:f<s?t.pvt.quickSelect(n,i,r,o-1,f,e):t.pvt.quickSelect(n,i,o+1,u,f-s,e)},extractFields:function(n,i){var u={},r;if(i.length==1)return t.pvt.getObject(i[0],n);for(r=0;r<i.length;r++)u[i[r].replace(".",t.pvt.consts.complexPropertyMerge)]=t.pvt.getObject(i[r],n);return u},partition:function(n,i,r,u,f){var e=parseInt((r+u)/2,10),s=a(n,i,e),o;for(t.swap(n,e,u),e=r,o=r;o<u;o++)f(a(n,i,o),s)&&(t.swap(n,o,e),e++);return t.swap(n,e,u),e},fnSort:function(n){return(n=n?n.toLowerCase():t.sortOrder.Ascending,n==t.sortOrder.Ascending)?t.pvt.fnAscending:t.pvt.fnDescending},fnGetComparer:function(n,i){return function(r,u){return i(t.pvt.getObject(n,r),t.pvt.getObject(n,u))}},fnAscending:function(n,t){return n&&n.localeCompare?n.localeCompare(t):n===r?t===r?0:1:t===r?-1:n-t},fnDescending:function(n,t){return n&&n.localeCompare?n.localeCompare(t)*-1:n===r?t===r?0:-1:t===r?1:t-n},merge:function(n,t,i,r){for(var u=[],f;n.length>0||t.length>0;)f=n.length>0&&t.length>0?r?r(a(n,i,0),a(t,i,0))<1?n:t:n[0][i]<n[0][i]?n:t:n.length>0?n:t,u.push(f.shift());return u},getObject:function(n,t){var i,f,u;if(!t)return r;if(!n)return t;if(n.indexOf(".")===-1)return t[n];for(i=t,f=n.split("."),u=0;u<f.length;u++){if(i==null)break;i=i[f[u]]}return i},createObject:function(n,t,i){for(var f=n.split("."),o=i||window,e=o,u=0;u<f.length;u++)u+1==f.length?e[f[u]]=t===r?{}:t:e[f[u]]==null&&(e[f[u]]={}),e=e[f[u]];return o},getFieldList:function(n,i,u){if(u===r&&(u=""),i===r||i===null)return t.pvt.getFieldList(n,[],u);for(var f in n)typeof n[f]!="object"||n[f]instanceof Array?i.push(u+f):t.pvt.getFieldList(n[f],i,u+f+".");return i}},t.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},t.data={},t.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},t.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},t.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof"},t.data.fnOperators={equal:function(n,t,i){return i?e(n)==e(t):n==t},notequal:function(n,i,r){return!t.data.fnOperators.equal(n,i,r)},lessthan:function(n,t,i){return i?e(n)<e(t):n<t},greaterthan:function(n,t,i){return i?e(n)>e(t):n>t},lessthanorequal:function(n,t,i){return i?e(n)<=e(t):n<=t},greaterthanorequal:function(n,t,i){return i?e(n)>=e(t):n>=t},contains:function(n,t,i){return i?!l(n)&&!l(t)&&e(n).indexOf(e(t))!=-1:!l(n)&&!l(t)&&n.toString().indexOf(t)!=-1},notnull:function(n){return n!==null},isnull:function(n){return n===null},startswith:function(n,t,i){return i?n&&t&&e(n).startsWith(e(t)):n&&t&&n.startsWith(t)},endswith:function(n,t,i){return i?n&&t&&e(n).endsWith(e(t)):n&&t&&n.endsWith(t)},processSymbols:function(n){var r=t.data.operatorSymbols[n],i;return r&&(i=t.data.fnOperators[r],i)?i:u("Query - Process Operator : Invalid operator")},processOperator:function(n){var i=t.data.fnOperators[n];return i?i:t.data.fnOperators.processSymbols(n)}},t.NotifierArray=function(i){return y(this,t.NotifierArray)?(this.array=i,this._events=n({}),this._isDirty=!1,this):new t.NotifierArray(i)},t.NotifierArray.prototype={on:function(n,t){this._events.on(n,t)},off:function(n,t){this._events.off(n,t)},push:function(n){var t;return t=y(n,Array)?[].push.apply(this.array,n):this.array.push(n),this._raise("add",{item:n,index:this.length()-1}),t},pop:function(){var n=this.array.pop();return this._raise("remove",{item:n,index:this.length()-1}),n},addAt:function(n,t){return this.array.splice(n,0,t),this._raise("add",{item:t,index:n}),t},removeAt:function(n){var t=this.array.splice(n,1)[0];return this._raise("remove",{item:t,index:n}),t},remove:function(n){var t=this.array.indexOf(n);return t>-1&&(this.array.splice(t,1),this._raise("remove",{item:n,index:t})),t},length:function(){return this.array.length},_raise:function(t,i){this._events.triggerHandler(n.extend({type:t},i));this._events.triggerHandler({type:"all",name:t,args:i})},toArray:function(){return this.array}},n.extend(t,t.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(n,t){for(var i=0,r=this.length;i<r;++i)n.call(t,this[i],i,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(n){var i=this.length,t;if(i===0)return-1;for(t=0;t<i;t++)if(t in this&&this[t]===n)return t;return-1},Array.prototype.filter=Array.prototype.filter||function(n){var i,u,t,r;if(typeof n!="function")throw new TypeError;for(i=[],u=arguments[1]||this,t=0;t<this.length;t++)r=this[t],n.call(u,r,t,this)&&i.push(r);return i},String.prototype.endsWith=String.prototype.endsWith||function(n){return this.slice(-n.length)===n},String.prototype.startsWith=String.prototype.startsWith||function(n){return this.slice(0,n.length)===n},t.support||(t.support={}),t.support.stableSort=function(){var n=[0,1,2,3,4].sort(function(){return 0});return n[0]===0&&n[1]===1&&n[2]===2&&n[3]===3&&n[4]===4}(),t.support.cors=n.support.cors,!n.support.cors&&window.XDomainRequest){var ht=/^https?:\/\//i,ct=/^get|post$/i,lt=new RegExp("^"+location.protocol,"i"),at=/\/xml/i;n.ajaxTransport("text html xml json",function(n,t){if(n.crossDomain&&n.async&&ct.test(n.type)&&ht.test(t.url)&&lt.test(t.url)){var i=null,u=(t.dataType||"").toLowerCase();return{send:function(f,e){i=new XDomainRequest;/^\d+$/.test(t.timeout)&&(i.timeout=t.timeout);i.ontimeout=function(){e(500,"timeout")};i.onload=function(){var o="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,t={code:200,message:"success"},f={text:i.responseText},n;try{if(u==="json")try{f.json=JSON.parse(i.responseText)}catch(h){t.code=500;t.message="parseerror"}else if(u==="xml"||u!=="text"&&at.test(i.contentType)){n=new ActiveXObject("Microsoft.XMLDOM");n.async=!1;try{n.loadXML(i.responseText)}catch(h){n=r}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){t.code=500;t.message="parseerror";throw"Invalid XML: "+i.responseText;}f.xml=n}}catch(s){throw s;}finally{e(t.code,t.message,f,o)}};i.onerror=function(){e(500,"error",{text:i.responseText})};i.open(n.type,n.url);i.send()},abort:function(){i&&i.abort()}}}})}n.support.cors=!0;t.sortOrder={Ascending:"ascending",Descending:"descending"};t.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"};g=function(n,t){t&&(n=s(n,t));(window.setImmediate||window.setTimeout)(n,0)};t.support.localizedSort=!1;var nt=function(n,i,r){return t.support.stableSort?!t.support.localizedSort&&typeof t.getObject(i,n[0]||{})=="string"&&(r===t.pvt.fnAscending||r===t.pvt.fnDescending)?vt(n,i,r===t.pvt.fnDescending):n.sort(t.pvt.fnGetComparer(i,r)):t.mergeSort(n,i,r)},vt=function(n,i,r){var u=Object.prototype.toString;Object.prototype.toString=i.indexOf(".")===-1?function(){return this[i]}:function(){return t.getObject(i,this)};n=n.sort();Object.prototype.toString=u;r&&n.reverse()},e=function(n){return n?n.toLowerCase?n.toLowerCase():n.toString():n===0||n===!1?n.toString():""},a=function(n,i,r){return i?t.pvt.getObject(i,n[r]):n[r]},yt=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&n.nodeType===1&&typeof n=="object"&&typeof n.nodeName=="string"},y=function(n,t){return n instanceof t},tt=function(n,i,r,u){return function(f){return typeof f=="object"&&(u=f,f=null),new t.TableModel(f||n,i,r,u)}},it=function(t){return function(i,r){var o,h,e,f,s;for(r=r||window.ko,r||u("Knockout is undefined"),h=[],s=0;s<t.length;s++){o={};for(e in t[s])e.startsWith("_")||(o[e]=r.observable(t[s][e]));for(e in i)f=i[e],n.isPlainObject(f)?(f.owner||(f.owner=o),f=r.computed(f)):f=r.computed(f,o),o[e]=f;h.push(o)}return r.observableArray(h)}},rt=0,ut=function(n){return rt+=1,n+rt};t.getGuid=function(n){var i="0123456789abcdef",t;return(n||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(n,r){return t=Math.random()*16|0,i[r===19?t&3|8:t]})};var w=function(n,t){return function(){var i=[].slice.call(arguments,0);return i.push(this),n.apply(t||this,i)}},s=function(n,t,i){return"bind"in n?i?n.bind(t,i):n.bind(t):function(){var r=i?[i]:[];r.push.apply(r,arguments);n.apply(t||this,r)}},pt=function(n){return n=JSON.parse(JSON.stringify({val:n})).val,n.slice(0)};t.merge=function(n,t){n&&t&&Array.prototype.push.apply(n,t)};l=function(n){return n===r||n===null};u=function(n){try{throw new Error(n);}catch(t){throw t.message+"\n"+t.stack;}}}(window.jQuery,window.Syncfusion,window.document),function(n,t,i){t.widget("ejMenu","ej.Menu",{element:null,model:null,validTags:["ul"],_setFirst:!1,_rootCss:"e-menu",defaults:{height:"",width:"",animation:"default",orientation:t.orientation.Horizontal,menuType:"NormalMenu",contextTargetId:null,cssClass:"",openOnClick:!1,subMenuDirection:"Right",centerAlign:!1,showTopLevelArrows:!0,showBottomLevelArrows:!0,enableSeparator:!0,enabled:!0,fields:{dataSource:null,query:null,tableName:null,id:null,parentId:null,text:null,spriteCssClass:null,linkAttribute:null,imageAttribute:null,htmlAttribute:null,imageUrl:null},rtl:!1,resTitle:"Menu",beforeContextOpen:null,contextOpen:null,contextClose:null,mouseOver:null,mouseOut:null,click:null,keyDown:null},dataTypes:{animation:"enum",cssClass:"string",resTitle:"string",openOnClick:"boolean",enabled:"boolean",centerAlign:"boolean",showArrow:"boolean",showTopLevelArrows:"boolean",showBottomLevelArrows:"boolean",enableSeparator:"boolean",rtl:"boolean"},_setModel:function(i){if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;for(var r in i)switch(r){case"menuType":this.model.menuType=i[r];this.element.removeClass("e-menu"+this.model.cssClass);this._renderControl();i[r]=="ContextMenu"&&this._contextMenuEvents();break;case"fields":this.element.empty().insertBefore(this.wrapper);this.wrapper.remove();n.extend(this.model.fields,i[r]);this._intializeData();break;case"orientation":this._setOrientation(i[r]);break;case"showTopLevelArrow":this._addArrow(i[r],this.model.showBottomLevelArrow);break;case"showBottomLevelArrow":this._addArrow(this.model.showTopLevelArrows,i[r]);break;case"enableSeparator":this._setSeparator(i[r]);break;case"height":this._setHeight(i[r]);break;case"width":this._setWidth(i[r]);break;case"cssClass":this._setSkin(i[r]);break;case"rtl":this._setRTL(i[r]);break;case"centerAlign":this._centerAlign(i[r]);break;case"enabled":this.model.enabled=i[r];this._controlStatus(i[r]);break;case"animation":this._setAnimation(i[r])}},_destroy:function(){this._cloneElement.insertBefore(this.element);this._cloneElement.removeClass("e-menu");this.element.remove()},_init:function(){this.element.css("visibility","hidden");this._cloneElement=this.element.clone();this._setValues();this._intializeData();this.element.css("visibility","visible")},_setValues:function(){this._mouseOver=!0;this._hoverOpen=!0;this._hoverClose=!0;this._isMenuOpen=!1;this._hideSpeed=100;this._showSpeed=100;this._isSubMenuOpen=!1;this._isContextMenuOpen=!1;this._disabledMenuItems=[];this._delayMenuHover=0;this._delaySubMenuHover=0;this._delaySubMenuShow=0;this._preventContextOpen=!0;this._setAnimation(this.model.animation)},_intializeData:function(){t.isNullOrUndefined(this.model.fields)||this.model.fields.dataSource==null?(this._renderMenu(),this._wireEvents()):(this._generateTemplate(this.model.fields.dataSource),this._renderMenu())},_renderMenu:function(){this._renderControl();this._addArrow(this.model.showTopLevelArrows,this.model.showBottomLevelArrows);this._intializeMenu()},_renderControl:function(){var r,u,i;for(this.wrapper=t.buildTag("div.e-menu-wrap"),this.model.menuType!=t.menuType.ContextMenu&&this.model.orientation!="vertical"&&(this.resWrap=t.buildTag("span.e-menu-res-wrap"),this.inResWrap=t.buildTag("span.e-in-wrap e-box e-menu-res-in-wrap"),this.label=t.buildTag("span.e-res-title",this.model.resTitle),this.check=t.buildTag("span.e-check-wrap e-icon"),this.checkBox=t.buildTag("input#responsive.e-res-icon","",{},{type:"checkbox"}),this.wrapper.append(this.resWrap),this.resWrap.append(this.inResWrap),this.inResWrap.append(this.label).append(this.check),this.check.append(this.checkBox)),this.model.menuType!=t.menuType.ContextMenu&&(this.wrapper.insertBefore(this.element),this.wrapper.append(this.element),this.checkBox!=null&&this.checkBox.ejCheckBox({size:"medium",change:this._oncheck})),this.element.addClass("e-menu e-widget").attr({role:"menu",tabindex:0}),this.model.rtl&&this._setRTL(this.model.rtl),this.model.menuType=="NormalMenu"?this.model.orientation=="horizontal"?this.element.addClass(this.model.cssClass+"e-horizontal"):this.element.addClass(this.model.cssClass+"e-vertical"):this._contextMenu_Template(),this.element.find('li:has("> ul")').find("> a,> span").addClass("aschild"),this.element.find(">li").addClass("e-list").attr({role:"menuitem"}),r=this.element.find(".e-list a.aschild"),u=this.element.find(".e-list span.aschild"),i=0;i<r.length;i++)n(r[i]).siblings().attr({"aria-hidden":!0}),n(r[i]).parent().attr({"aria-haspopup":!0,role:"menu"}),n(r[i]).siblings("ul").children("li").addClass("e-list").attr("role","menuitem");for(i=0;i<u.length;i++)n(u[i]).siblings().attr({"aria-hidden":!0}),n(u[i]).parent().attr({"aria-haspopup":!0,role:"menu"}),n(u[i]).siblings("ul").children("li").addClass("e-list").attr("role","menuitem");this.model.centerAlign&&this._centerAlign(this.model.centerAlign);this.model.enableSeparator&&this._setSeparator(!0);this._controlStatus(this.model.enabled)},_oncheck:function(n){var t=this.element.parents(".e-menu-wrap").children(".e-menu");n.isChecked?t.removeClass("e-res-hide").addClass("e-res-show"):t.removeClass("e-res-show").addClass("e-res-hide")},_generateTemplate:function(n){var i=this,r;n instanceof t.DataManager?(r=n.executeQuery(this._columnToSelect(this.model.fields)),r.done(function(n){i._generateItemTemplate(n.result);i._wireEvents()})):(this._generateItemTemplate(i.model.fields.dataSource),this._wireEvents())},_generateItemTemplate:function(n){for(var i,t=0;t<n.length;t++)n[t][this.model.fields.parentId]==null&&(i=this._menuTemplate(n[t],n,this.model.fields),this.element.append(i))},_menuTemplate:function(i,r,u){var f,s,c,y,l,a,p,e,h,o,v;if(f=n(document.createElement("li")),f.attr("class","e-list"),i[u.htmlAttribute]&&this._setAttributes(i[u.htmlAttribute],f),i[u.text]&&i[u.text]!=""&&(s=n(document.createElement("a")),i[u.imageUrl]&&i[u.imageUrl]!=""?(c=n(document.createElement("img")),c.attr("src",i[u.imageUrl]),i[u.imageAttribute]&&this._setAttributes(i[u.imageAttribute],c),s.append(c)):i[u.spriteCssClass]&&i[u.spriteCssClass]!=""&&(y=n(document.createElement("span")),y.addClass(i[u.spriteCssClass]),s.append(y)),s.append(i[u.text]),i[u.linkAttribute]?s.attr("href",i[u.linkAttribute]):s.attr("href","#"),f.append(s)),i[u.id]&&f.prop("id",i[u.id]),t.isNullOrUndefined(u.child)){if(!this._odataFlag&&(e=t.DataManager(u.dataSource).executeLocal(t.Query().where(u.parentId,t.FilterOperators.equal,i[u.id])),e&&e.length>0)){for(h=t.buildTag("ul"),o=0;o<e.length;o++)v=this._menuTemplate(e[o],u.dataSource,u),h.append(v);f.append(h)}}else if(this._odataFlag=!0,u.child.dataSource instanceof t.DataManager)l=this,a=t.Query(),a=this._columnToSelect(u.child),a.where(u.child.parentId,t.FilterOperators.equal,i[u.id]),p=u.child.dataSource.executeQuery(a),p.done(function(t){var i=t.result,e,r,o;if(i&&i.length>0){for(e=n(document.createElement("ul")),r=0;r<i.length;r++)o=l._menuTemplate(i[r],u.child.dataSource,u.child),e.append(o);f.append(e);n(f).children("a").addClass("aschild");n(f).parent().hasClass("e-menu")&&l.model.showTopLevelArrows?n(f).children("a.aschild").append(n("<span>").addClass("e-icon e-arrows")).addClass("e-arrow-space"):l.model.showBottomLevelArrows&&n(f).children("a.aschild").append(n("<span>").addClass("e-icon e-arrows")).addClass("e-arrow-space")}});else if(e=t.DataManager(u.child.dataSource).executeLocal(t.Query().where(u.child.parentId,t.FilterOperators.equal,i[u.id])),e&&e.length>0){for(h=n(document.createElement("ul")),o=0;o<e.length;o++)v=this._menuTemplate(e[o],u.child.dataSource,u.child),h.append(v);f.append(h)}return f},_setAttributes:function(n,t){for(var i in n)t.attr(i,n[i])},_addArrow:function(t,i){t?this.element.find('>li.e-list:has("> ul")').children("a,span").append(n("<span>").addClass("e-icon e-arrows")).addClass("e-arrow-space"):this.element.find('>li.e-list:has("> ul")').children("a,span").removeClass("e-arrow-space").children("span").remove();i?this.element.find(">li.e-list > ul li.e-list:has(>ul)").children("a,span").append(n("<span>").addClass("e-icon e-arrows")).addClass("e-arrow-space"):this.element.find(">li.e-list > ul li.e-list:has(>ul)").children("a,span").removeClass("e-arrow-space").children("span").remove()},_intializeMenu:function(){this.model.height!=0&&this._setHeight(this.model.height);this.model.width!=0&&this._setWidth(this.model.width);this.model.menuType=="ContextMenu"&&(this.model.openOnClick=!1);this.model.openOnClick&&(this._hoverOpen=!1,this._hoverClose=!1)},_setOrientation:function(n){n=="horizontal"?this.element.removeClass("e-vertical e-horizontal").addClass("e-horizontal"):this.element.removeClass("e-horizontal e-vertical").addClass("e-vertical")},_setHeight:function(n){this.element.height(n)},_setWidth:function(n){this.element.width(n)},_setRTL:function(n){n?(this.element.removeClass("rtl").addClass("rtl"),this.model.subMenuDirection="Left"):(this.element.removeClass("rtl"),this.model.subMenuDirection="Right")},_setAnimation:function(n){n==="none"?(this._showAnim="none",this._hideAnim="none"):(this._showAnim="slideDown",this._hideAnim="slideUp")},_controlStatus:function(n){n!=!0?this.disable():this.enable()},_centerAlign:function(n){this.model.orientation=="horizontal"&&n?this.element.css("text-align","center"):this.model.orientation=="horizontal"&&this.element.css("text-align","inherit")},_columnToSelect:function(n){var u=[],r=t.Query(),i;if(t.isNullOrUndefined(n.query)){for(i in n)i!=="tableName"&&i!=="child"&&i!=="dataSource"&&u.push(n[i]);u.length>0&&r.select(u);this.model.fields.dataSource.dataSource.url.match(n.tableName+"$")||t.isNullOrUndefined(n.tableName)||r.from(n.tableName)}else r=n.query;return r},_max_zindex:function(){var r=this.element.parents(),i,t;return i=n("body").children(),index=i.index(this.popup),i.splice(index,1),n(i).each(function(n,t){r.push(t)}),t=Math.max.apply(t,n.map(r,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),!t||t<1e4?t=1e4:t+=1,t},_recursiveFunction:function(t,i){var r=this,u=!1;n.each(t,function(n,t){return t.Text==i?(r.selectedItem=t,u=!0,!1):(t.ChildItems!=null&&r._recursiveFunction(t.ChildItems,i),u?!1:void 0)})},_contextMenu_Template:function(){this.model.orientation="vertical";this._hideAnimation(this.element,this._hideAnim);this.element.addClass(this.model.cssClass+"e-context");n("body").append(this.element);this.wrapper.insertBefore(this.element);this.wrapper.append(this.element)},_closeMenu:function(){this._hideAnimation(this.element.find('li.e-list:has("> ul")').find("> ul:visible"),this._hideAnim)},_onMenuIntent:function(n,t,i){t._delayMenuHover=window.setTimeout(function(){if(t._mouseOver==!0&&i){var r=t._showAnim,u=t._hideAnim,f=t._showSpeed,e=t._hideSpeed;t._show(n,r,u)}},this._showSpeed)},_onHide:function(n,t,i){t._delaySubMenuHover=window.setTimeout(function(){if(t._mouseOver==!1&&i){var n=t._id,r=t._hideAnim,u=t._hideSpeed;t._closeAll()}},t._hideSpeed)},_subMenuPos:function(t,r){var c=n(this.wrapper).parent().offset(),e=n(t).offset(),s=e.left-c.left,f=n("ul:first",t),u,o,h;if(e==null||e==i)return!1;u=f.outerWidth();o=document.documentElement.clientWidth+n(document).scrollLeft();this.model.menuType=="NormalMenu"?n(t.parentNode).is(this.element)?this.model.orientation=="horizontal"?f.css("top",n(t).outerHeight()+"px"):r=="Left"&&s>u&&f.css("left",-(u+4)+"px"):r=="Left"&&s>u&&f.css("left",-(u+4)+"px"):(o-=e.left+2*u+4,o<0?(h=u==null?"-206.5px":"-"+(u+5)+"px",f.css("left",h)):f.parent("li.e-list").parent("ul").width()&&r=="Right"?f.css("left",f.parent("li.e-list").parent("ul").width()+4+"px"):e.left>u&&f.css("left",-(u+4)+"px"))},_setSkin:function(n){this.model.menuType=="NormalMenu"?this.model.orientation=="horizontal"?(this.element.removeClass(this.model.cssClass+"e-horizontal"),this.element.addClass(n+" e-horizontal")):(this.element.removeClass(this.model.cssClass+"e-vertical"),this.element.addClass(n+" e-vertical")):(this.element.removeClass(this.model.cssClass+"e-context"),this.element.addClass(n+" e-context"))},_setSeparator:function(n){n?this.element.addClass("e-separator"):this.element.removeClass("e-separator")},_contextMenuEvents:function(){this._on(n(document.getElementById(this.model.contextTargetId)),"mouseup taphold",this._ContextMenuHandler);this._on(this.element,"contextmenu",this._onDefaultPreventer);this._on(n(document.getElementById(this.model.contextTargetId)),"contextmenu",this._onDefaultPreventer);this._on(n(document),"click",this._onContextClose)},_show:function(t,i,r){var f,u=n("> ul",t);u.attr({"aria-hidden":!1});this._hideAnimation(n(t).siblings().find(" > ul:visible"),r);n.inArray(this._disabledMenuItems,t)>-1||(u.css("display")!="none"?(f=this.model.openOnClick?n(u):u.children().find("> ul"),this._hideAnimation(f,r)):n("> ul",t).children().find("> ul").hide(),this._subMenuPos(t,this.model.subMenuDirection),u.css({"z-index":this._max_zindex()+1}),n("> ul",t).css("display")!="block"&&this._showAnimation(u,i))},_closeAll:function(){this._hideAnimation(this.element.find('li.e-list:has("> ul")').find("> ul:visible"),this._hideAnim);this._hideAnimation(this.element.find("> ul:visible"),this._hideAnim)},_showAnimation:function(n,t){switch(t){case"slideDown":n.slideDown(200,"easeOutQuad");break;case"none":n.css("display","block")}},_hideAnimation:function(t,i){switch(i){case"slideUp":n(t).attr({"aria-hidden":!0});t.slideUp(100,"easeOutQuad");break;case"none":t.css("display","none")}},_removeValue:function(i,r){var f=t.browserInfo(),e,o,u;for(e=f.version==="8.0"&&f.name==="msie"?i[0].outerText:i[0].textContent,o=n(r).length,u=0;u<=o;){if(r[u]===n.trim(e))return u;u++}},showContextMenu:function(n,t,r,u){return(this._closeMenu(),this._eventArgs=u,u!=i&&u.stopPropagation&&u.stopPropagation(),this._trigger("beforeContextOpen",{target:r}))?!1:(this._preventContextOpen&&(this.element.css({left:n,top:t}),this._showAnimation(this.element,this._showAnim),this._isContextMenuOpen=!0,this.model.contextOpen&&this._trigger("contextOpen",{target:r})),!1)},hideContextMenu:function(n){this._closeMenu();this._hideAnimation(this.element,this._hideAnim);this._isContextMenuOpen=!1;this.model.contextClose&&this._trigger("contextClose",{Events:n})},disableMenuItem:function(t){var i=n(this.element.find("li.e-list >a ,li.e-list >span")).filter(function(){return n.trim(n(this).text())===t});i.length>0&&!(n.inArray(t,this._disabledMenuItems)>-1)&&(i.parent().addClass("e-disable-item").attr({"aria-disabled":!0}),this._disabledMenuItems.push(n.trim(i.text())))},disableMenuItembyID:function(t){if(t&&t!=""){var r=this.element.find("#"+t)?this.element.find("#"+t)[0]:i;!r||n.inArray(r,this._disabledMenuItems)>-1||(n(r).addClass("e-disable-item").attr({"aria-disabled":!0}),this._disabledMenuItems.push(r))}},enableMenuItem:function(t){var i=n(this.element.find("li.e-list >a ,li.e-list >span")).filter(function(){return n.trim(n(this).text())===t}),r;i.length>0&&n.inArray(t,this._disabledMenuItems)>-1&&(i.parent().removeClass("e-disable-item").attr({"aria-disabled":!1}),r=this._removeValue(i,this._disabledMenuItems),this._disabledMenuItems.splice(r,1))},enableMenuItembyID:function(t){if(t&&t!=""){var i=this.element.find("#"+t)[0];i&&n.inArray(i,this._disabledMenuItems)>-1&&(n(i).removeClass("e-disable-item").attr({"aria-disabled":!1}),this._disabledMenuItems.pop(i))}},disable:function(){this.model.enabled=!1;var t=this.element.find(">li[class!=e-separator]"),i=this;n.each(t,function(t,r){n(r).addClass("e-disable-item").attr({"aria-disabled":!0});i._disabledMenuItems.push(r)})},enable:function(){this.model.enabled=!0;var t=this.element.find("li.e-disable-item");n.each(t,function(t,i){n(i).removeClass("e-disable-item").attr({"aria-disabled":!1})});this._disabledMenuItems.pop(this._disabledMenuItems)},ShowContextMenu:function(n,t,r,u){return(this._closeMenu(),this._eventArgs=u,u!=i&&u.stopPropagation&&u.stopPropagation(),this._trigger("beforeContextOpen",{target:r}))?!1:(this._preventContextOpen&&(this.element.css({left:n,top:t}),this._showAnimation(this.element,this._showAnim),this._isContextMenuOpen=!0,this.model.contextOpen&&this._trigger("contextOpen",{target:r})),!1)},HideContextMenu:function(n){this._closeMenu();this._hideAnimation(this.element,this._hideAnim);this._isContextMenuOpen=!1;this.model.contextClose&&this._trigger("contextClose",{Events:n})},DisableMenuItem:function(i){var u=t.browserInfo(),f,r=this.element.find("li.e-list >a ,li.e-list >span").filter(function(){return n.trim(n(this).text())===i});r.length>0&&!(n.inArray(i,this._disabledMenuItems)>-1)&&(r.parent().addClass("e-disable-item").attr({"aria-disabled":!0}),f=u.version==="8.0"&&u.name==="msie"?r[0].outerText:r[0].textContent,this._disabledMenuItems.push(n.trim(f)))},DisableMenuItembyID:function(t){if(t&&t!=""){var r=this.element.find("#"+t)?this.element.find("#"+t)[0]:i;!r||n.inArray(r,this._disabledMenuItems)>-1||(n(r).addClass("e-disable-item").attr({"aria-disabled":!0}),this._disabledMenuItems.push(r))}},EnableMenuItem:function(t){var i=this.element.find("li.e-list >a ,li.e-list >span").filter(function(){return n.trim(n(this).text())===t}),r;i&&n.inArray(t,this._disabledMenuItems)>-1&&(i.parent().removeClass("e-disable-item").attr({"aria-disabled":!1}),r=this._removeValue(i,this._disabledMenuItems),this._disabledMenuItems.splice(r,1))},EnableMenuItembyID:function(t){if(t&&t!=""){var i=this.element.find("#"+t)[0];i&&n.inArray(i,this._disabledMenuItems)>-1&&(n(i).removeClass("e-disable-item").attr({"aria-disabled":!1}),this._disabledMenuItems.pop(i))}},_wireEvents:function(){this._on(this.element.find("li.e-list"),"mouseout",this._mouseOutHandler);this._on(this.element.find("li.e-list"),"mouseover",this._mouseOverHandler);this._on(this.element.find("li.e-list"),"click",this._onClickHandler);this._on(this.element,"keydown",this._onKeyDownHandler);this._on(n(document),"keydown",this._onDocumentKeyDown);this._on(this.element,"focus",this._OnFocusHandler);this._on(this.element,"blur",this._OnFocusOutHandler);this.model.menuType=="ContextMenu"&&n("#"+this.model.contextTargetId)[0]!=null?this._contextMenuEvents():this.model.openOnClick&&this._on(n(document),"click",this._onDocumentClick)},_onDocumentKeyDown:function(){this._isFocused=!0},_mouseOverHandler:function(t){var i,r,u;if(this.element.find(".e-mhover").removeClass("e-mhover e-mfocused"),n(t.currentTarget).hasClass("e-disable-item"))t.preventDefault();else{if(t.stopPropagation&&t.stopPropagation(),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delaySubMenuHover),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delayMenuHover),this._mouseOver=!0,this._isMenuOpen=!0,this._isSubMenuOpen=n(t.currentTarget.parentNode.parentNode).is(this.element)?!1:!0,t.currentTarget.nodeName!="LI"||n(t.currentTarget).hasClass("e-separator"))if(t.currentTarget.parentNode){if(t.currentTarget.parentNode.nodeName!="LI"||n(t.currentTarget.parentNode).hasClass("e-separator"))return!1;i=t.currentTarget.parentNode}else return t.preventDefault(),!1;else i=t.currentTarget;this._onMenuIntent(i,this,this._hoverOpen);n.inArray(i,this._disabledMenuItems)>-1||(r=n(i).children("a,span").text(),u={menuId:this.element[0].id,menuText:r,element:i,event:t},this.model.mouseOver&&this._trigger("mouseOver",{Events:u}))}},_mouseOutHandler:function(t){var i,r,u;if(n(t.currentTarget).hasClass("e-disable-item"))t.preventDefault();else{if(t.stopPropagation&&t.stopPropagation(),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delaySubMenuHover),typeof this._delaySubMenuHover!="undefined"&&clearTimeout(this._delayMenuHover),this._mouseOver=!1,this._isMenuOpen=!1,t.currentTarget.nodeName!="LI"||n(t.currentTarget).hasClass("e-separator"))if(t.currentTarget.parentNode){if(t.currentTarget.parentNode.nodeName!="LI"||n(t.currentTarget.parentNode).hasClass("e-separator"))return!1;i=t.currentTarget.parentNode}else return t.preventDefault(),!1;else i=t.currentTarget;this._onHide(i,this,this._hoverClose);n.inArray(i,this._disabledMenuItems)>-1||(r=n(i).children("a,span").text(),u={menuId:this.element[0].id,menuText:r,element:i,event:t},this.model.mouseOut&&this._trigger("mouseOut",{Events:u}))}},_onClickHandler:function(t){var i,r,u,f;if(t.stopPropagation(),this._isFocused=!1,r=!1,t.target.nodeName!="LI"||n(t.target).hasClass("e-separator")||n(t.target).hasClass("e-disable-item"))if(!t.target.parentNode||t.target.parentNode.nodeName!="LI"||n(t.target.parentNode).hasClass("e-separator")||n(t.target.parentNode).hasClass("e-disable-item"))if(n(t.target).hasClass("e-arrows")&&!n(t.target.parentNode.parentNode).hasClass("e-disable-item"))i=t.target.parentNode.parentNode;else return t.preventDefault(),!1;else i=t.target.parentNode;else i=t.target;!this._hoverOpen&&n(i).find(">a,>span").hasClass("aschild")&&(t.preventDefault(),this._show(i,this._showAnim,this._hideAnim),this._hoverOpen=!1,r=!0);n.inArray(i,this._disabledMenuItems)>-1||(this.model.menuType=="ContextMenu"&&this._isContextMenuOpen&&(this._hideAnimation(this.element,this._hideAnim),this._isContextMenuOpen=!1,this.model.contextClose&&this._trigger("contextClose",{Events:t})),r||this.element.find('li.e-list:has("> ul")').find("> a,> span").hasClass("aschild")&&(this._closeMenu(),this.model.openOnClick&&(this._hoverOpen=!1)),u=n(i).children("a,span").text(),f={menuId:this.element[0].id,menuText:u,element:i,event:t,selectedItem:this.selectedItem},this.model.click&&this._trigger("click",{Events:f}),this.selectedItem=null)},_onKeyDownHandler:function(t){var u,i,r,f,e;if(t.preventDefault(),i=this.element.find(".e-mhover"),r=this.element.find(".e-mfocused"),t.keyCode==40&&(this.model.orientation!="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0&&(r.removeClass("e-mfocused"),i.next().hasClass("e-separator")?i.next().next().addClass("e-mfocused"):i.is(":last-child")&&i.siblings().first().addClass("e-mfocused")),this.model.orientation=="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0?(this._show(i[0],this._showAnim,this._hideAnim),i.removeClass("e-mhover").children("ul:first").find("li:first").addClass("e-mhover")):i.is(":last-child")?i.removeClass("e-mhover").siblings().first().addClass("e-mhover"):i.next().hasClass("e-separator")?i.removeClass("e-mhover").next().next().addClass("e-mhover"):i.removeClass("e-mhover").next().addClass("e-mhover")),t.keyCode==39&&(this.model.orientation=="horizontal"&&this.element.find(">li.e-list").hasClass("e-mhover")?i.is(":last-child")?(i.removeClass("e-mhover e-mfocused"),this.element.find("li.e-list").first().hasClass("e-separator")?this.element.find("li.e-list").first().next().addClass("e-mhover e-mfocused"):this.element.find("li.e-list").first().addClass("e-mhover e-mfocused")):i.next().hasClass("e-separator")?i.removeClass("e-mhover e-mfocused").next().next().addClass("e-mhover e-mfocused"):i.removeClass("e-mhover e-mfocused").next().addClass("e-mhover e-mfocused"):this.element.find("li.e-mhover").children("ul").length>0?(this._show(i[0],this._showAnim,this._hideAnim),i.removeClass("e-mhover").children("ul:first").find("li:first").addClass("e-mhover")):i.children("ul").length<=0&&(this.element.find(".e-mfocused >ul , .e-mfocused >ul li.e-list >ul").hide(),i.removeClass("e-mhover"),r.next().hasClass("e-separator")?r.removeClass("e-mfocused").next().next().addClass("e-mhover e-mfocused"):r.next().length<=0?r.removeClass("e-mfocused").siblings().first().addClass("e-mhover e-mfocused"):r.removeClass("e-mfocused").next().addClass("e-mhover e-mfocused"))),t.keyCode==38&&(this.model.orientation!="horizontal"&&this.element.find(">li.e-mhover").children("ul").length>0&&(i.children("ul").hide(),r.removeClass("e-mfocused"),i.prev().hasClass("e-separator")?i.prev().prev().addClass("e-mfocused"):i.is(":first-child")&&i.siblings().last().addClass("e-mfocused")),i.is(":first-child")?i.removeClass("e-mhover").siblings().last().addClass("e-mhover"):i.prev().hasClass("e-separator")?i.removeClass("e-mhover").prev().prev().addClass("e-mhover"):i.removeClass("e-mhover").prev().addClass("e-mhover")),t.keyCode==37&&(this.model.orientation=="horizontal"&&this.element.find(">li.e-list").hasClass("e-mhover")?i.is(":first-child")?(i.removeClass("e-mhover e-mfocused"),this.element.find(">li.e-list").last().hasClass("e-separator")?this.element.find(">li.e-list").last().prev().addClass("e-mhover e-mfocused"):this.element.find(">li.e-list").last().addClass("e-mhover e-mfocused")):i.prev().hasClass("e-separator")?i.removeClass("e-mhover e-mfocused").prev().prev().addClass("e-mhover e-mfocused"):i.removeClass("e-mhover e-mfocused").prev().addClass("e-mhover e-mfocused"):this.element.find("li.e-mhover")?(this._hideAnimation(i.parent(),this._hideAnim),i.parent().closest("li.e-list").addClass("e-mhover"),i.removeClass("e-mhover")):(this._hideAnimation(i,this._showAnim,this._hideAnim),i.removeClass("e-mhover").parent().addClass("e-mhover"))),t.keyCode==13&&(this.element.find(".e-mhover >a,.e-mhover >span ").focus(),this.element.find("li.e-list").removeClass("e-mhover e-mfocused"),this._closeAll()),t.keyCode==27&&this._closeAll(),t.target.nodeName=="DIV"&&n(t.target).children().is(this.element))u=n(t.target).children()[0];else if(t.target.nodeName!="LI"||n(t.target).hasClass("e-separator"))if(t.target.parentNode)t.target.parentNode.nodeName!="LI"||n(t.target.parentNode).hasClass("e-separator")||(u=t.target.parentNode);else return!1;else u=t.target;n.inArray(u,this._disabledMenuItems)>-1||(f=n(u).children("a,span").text(),e={menuId:this.element[0].id,menuText:f,element:u,event:t},this.model.keyDown&&this._trigger("keyDown",{Events:e}))},_OnFocusHandler:function(){this._isFocused?this.element.find(">li:first").addClass("e-mhover e-mfocused"):this._isFocused=!1},_OnFocusOutHandler:function(){this._isFocused||(this.element.find("li.e-list").removeClass("e-mhover e-mfocused"),this._closeAll())},_onDocumentClick:function(t){n(t.target).parents("ul.e-menu").is(this.element)||(this._hoverOpen=!1,this._closeMenu())},_ContextMenuHandler:function(t){var r=!1,u,i,f,e;if(t.type=="taphold"?r=!0:t.button?r=t.button==2:t.which&&(r=t.which==3),u=t.target,r){i=t;t.type=="taphold"&&(i=t.options.type=="touchstart"?t.options.touches[0]:t.options);var o=i.clientX+this.element.width()<n(window).width()?i.pageX:i.pageX-this.element.width(),s=i.clientY+this.element.height()<n(window).height()?i.pageY:i.pageY-this.element.height(),h=this._showSpeed;this.showContextMenu(o,s,u,t)}else this._isContextMenuOpen&&(f=this._hideAnim,e=this._hideSpeed,this.hideContextMenu(f,e,t))},_onDefaultPreventer:function(n){return n.preventDefault(),n.stopPropagation(),!1},_onContextClose:function(t){var e=this,i,r,u,f;if(this._isContextMenuOpen&&(i=!1,t.button?i=t.button==2:t.which&&(i=t.which==3),!i)){if(t.target.id==this.model.contextTargetId)return;r=this._hideAnim;u=this._hideSpeed;this.hideContextMenu(r,u,t);f=n(t.target).parents();n.each(f,function(n,t){t.id==e._ContextTargetId})}}});t.menuType={NormalMenu:"NormalMenu",ContextMenu:"ContextMenu"};t.direction={Left:"Left",Right:"Right"};t.animation={None:"none",Default:"default"}}(jQuery,Syncfusion),function(n,t,i){t.widget("ejCheckBox","ej.CheckBox",{_rootCSS:"e-checkbox",element:null,model:null,validTags:["input"],_setFirst:!1,defaults:{id:null,name:null,value:null,check:null,enabled:!0,indeterminate:!1,indeterminateState:!1,roundedCorner:!1,persist:!1,cssClass:"",text:"",rtl:!1,idPrefix:"ej",size:"",beforeChange:null,change:null},dataTypes:{id:"string",name:"string",check:"boolean",persist:"boolean",indeterminate:"boolean",size:"enum",enabled:"boolean",idPrefix:"string"},_init:function(){this._setValue();this._renderControl();this.model.enabled&&this._wireEvents();this._setEnabled(this.model.enabled)},_setModel:function(i){if(!this.model.enabled&&t.isNullOrUndefined(i.enabled))return!1;for(var r in i)switch(r){case"check":this.isChecked=i[r];this.isChecked?this._checked():this._unChecked();break;case"indeterminate":i[r]&&this._setIndeterminate(this.model.indeterminateState);break;case"indeterminateState":this.model.indeterminate&&this._setIndeterminate(i[r]);break;case"cssClass":this._changeSkin(i[r]);break;case"rtl":i[r]?n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"):n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass("e-rtl");break;case"text":this._setText(i[r]);break;case"id":this._setIdAttr(i[r]);break;case"name":this.chkbx.attr("name",i[r]);break;case"value":this.chkbx.attr("value",i[r]);break;case"size":this._setSize(i[r]);break;case"roundedCorner":this._setRoundedCorner(i[r]);break;case"enabled":this._setEnabled(i[r])}},_destroy:function(){this.chkbx.removeClass("e-checkbox e-input");this.chkbx.insertBefore(this.element);this.element.remove();this.element=this.chkbx},_changeSkin:function(t){this.model.cssClass!=t&&(this.element.removeClass(this.model.cssClass).addClass(t),n("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this.model.id==null&&(this.model.id=this.element.attr("id"));this.model.id||(this.model.id=this.element.attr("name"));t.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name"));t.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value"));this.isChecked=this.element.attr("checked")=="checked"?!0:!1;this.isChecked=this.model.check==null?this.isChecked:this.model.check},_setSize:function(n){n==t.checkboxSize.medium?this.innerdiv.removeClass("e-chkbox-small").addClass("e-chkbox-medium"):this.innerdiv.removeClass("e-chkbox-medium").addClass("e-chkbox-small")},_setRoundedCorner:function(n){n?this.span.addClass("e-corner-all"):this.span.removeClass("e-corner-all")},_setEnabled:function(n){n?this.enable():this.disable()},_renderControl:function(){this.maindiv=t.buildTag("span.e-chkbox-wrap e-widget "+this.model.cssClass+"#"+this.model.idPrefix+this.model.id,"",{},{role:"checkbox",tabindex:0});this.innerdiv=n("<div><\/div>");this._setSize(this.model.size);this.span=n("<span><\/span>");this.spanImg=n('<span class="e-chk-image"><\/span>').attr("role","presentation");this.element.addClass("e-input");this.element.attr("id",this.model.id);this._setRoundedCorner(this.model.roundedCorner);this.isChecked?(this.spanImg.addClass("e-chk-activeicon"),this.span.addClass("e-chk-act"),this.maindiv.attr({"aria-checked":!0})):(this.span.addClass("e-chk-inact"),this.maindiv.attr({"aria-checked":!1}));this.span.append(this.spanImg);this.innerdiv.append(this.span);this.maindiv.insertBefore(this.element);this.maindiv.append(this.element);this.maindiv.append(this.innerdiv);this._setTextWrapper(this.model.text);this.chkbx=this.element;this.element=this.maindiv;this.model.indeterminate==!0&&this.model.indeterminateState==!0&&this._setIndeterminate(this.model.indeterminateState)},_setIndeterminate:function(n){n?(this.spanImg.removeClass("e-chk-activeicon").addClass("e-chk-indetericon"),this.span.removeClass("e-chk-act").removeClass("e-chk-inact").addClass("e-chk-indeter"),this.maindiv.attr({"aria-checked":"mixed"}),this.element.find("input").prop("indeterminate",!0)):(this.element.find(".e-chk-indeter").removeClass("e-chk-indeter"),this.element.find(".e-chk-image").removeClass("e-chk-indetericon"),this.element.find("input").removeAttr("indeterminate"),this.element.find("input").prop("indeterminate",!1),this.model.check?this._checked():this._unChecked())},_setTextWrapper:function(i){i!=""&&(this.txtSpan=t.buildTag("div.e-text",i),this.maindiv.append(this.txtSpan),this.model.rtl&&n("#"+this.model.idPrefix+this.model.id+"_wrapper").addClass("e-rtl"))},_setText:function(n){this.model.text==""&&n!=""?this._setTextWrapper(n):this.txtSpan.html(n)},_setIdAttr:function(t){n("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper");this.chkbx.attr("id",t)},_wireEvents:function(){this._on(this.element,"click",this._checkedHandler);this._on(this.element,"focus",this._focusIn);this._on(this.element,"focusout",this._focusOut)},_unWireEvents:function(){this._off(this.element,"click");this._off(this.element,"focus");this._off(this.element,"focusout")},_focusIn:function(){n(this.element).addClass("e-focus");n(this.element).bind("keypress",n.proxy(this._checkUnCheck,this))},_focusOut:function(){n(this.element).removeClass("e-focus");n(this.element).unbind("keypress",n.proxy(this._checkUnCheck,this))},_checkUnCheck:function(n){n.keyCode==32&&(n.preventDefault(),this._checkedHandler())},_checkedHandler:function(){var n={isChecked:this.isChecked};return!0==this._trigger("beforeChange",n)?!1:(this.element.find("span:first").hasClass("e-chk-inact")?(this._checked(),this.isChecked=this.model.check=!0,this.model.indeterminate&&(this.model.indeterminateState=!0)):this.element.find("span:first").hasClass("e-chk-act")?this.model.indeterminate==!0&&this.model.indeterminateState==!0?(this._setIndeterminate(!0),this.isChecked=this.model.check=!0):(this._unChecked(),this.isChecked=this.model.check=!1):this.element.find("span:first").hasClass("e-chk-indeter")&&(this.isChecked=this.model.check=!1,this._setIndeterminate(!1),this.model.indeterminateState=!1),n={isChecked:this.isChecked},this._trigger("change",n),!0)},_checked:function(){this.element.find("span:first").removeClass("e-chk-inact").addClass("e-chk-act");this.element.find(".e-chk-image").addClass("e-chk-activeicon");this.maindiv.attr({"aria-checked":!0});this.element.find("input[type=checkbox]").prop("checked",!0)},_unChecked:function(){this.element.find("span:first").removeClass("e-chk-act").addClass("e-chk-inact");this.maindiv.attr({"aria-checked":!1});this.element.find(".e-chk-image").removeClass("e-chk-activeicon").removeClass("e-chk-indetericon");this.element.find("input[type=checkbox]").removeAttr("checked")},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable").attr("aria-disabled",!0),this._unWireEvents(),this.model.enabled=!1)},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable").attr("aria-disabled",!1),this._wireEvents(),this.model.enabled=!0)},isChecked:function(){if(this.isChecked!=null&&this.isChecked!=i)return this.isChecked}});t.checkboxSize={small:"small",medium:"medium"}}(jQuery,Syncfusion)