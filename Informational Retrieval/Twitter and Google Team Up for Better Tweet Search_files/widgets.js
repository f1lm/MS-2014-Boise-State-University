var AWESM=AWESM||{};if(typeof(AWESM._exists)==='undefined'){AWESM._exists=true;AWESM.d=document;AWESM.scriptVersion='2.0.1';AWESM.parentAwesm=false;AWESM.callRefClick=false;AWESM.postClickRegistration=[];AWESM.sessionId=false;AWESM.initComplete=false;AWESM.postInitCalls=[];AWESM.fbAppIdDefault='129391740409903';AWESM.applicationDomain="tnw.to";AWESM.async='1';if(!AWESM.shares)AWESM.shares={};if(!AWESM.api_key)AWESM.api_key='7d36a61047c24dff3f219161a1f08829e359916852cb620bc0efd1adf9418029';AWESM.APICookie=':';AWESM.serverTimestamp=1423269217594;if(typeof(AWESM.addressbar)==='undefined'){AWESM.addressbar='';}
AWESM.hashIdentifier=AWESM.hashIdentifier||'awesm=';if(typeof(AWESM.canonicalizeUrls)=='undefined'){AWESM.canonicalizeUrls=true;}}
AWESM.init=function(){this.manageSession();this.syncTimestamps();this.detectParents();this.setAddressbar();this.findButtons();this.findFrames();this.registerClick();this.registerPageview();this.setConvertAndGo();this.runPostInit();};AWESM.reset=function(){this.parentAwesm=false;this.sessionId=false;this.initComplete=false;delete this.timestampOffset;delete this.aweflakeOffset;delete this.aweflakeLastCreated;delete this.fbsdk;delete this.overrideRef;delete this.aweflakeCounter;};AWESM.log=function(){if(!window.console){return;}
window.console.log.apply(console,arguments);}
AWESM.callback=function(callbackUrl,params){var args=this.encodeAwesmQueryParams(params);var url=callbackUrl+'?'+args.join('&');if(this.initComplete){this.makeScriptNode(url);}else{this.postInitCalls.push({'method':'makeScriptNode','param1':url});}};AWESM.makeScriptNode=function(url){var script=this.d.createElement('script');script.setAttribute('src',url);this.d.getElementsByTagName('body')[0].appendChild(script);};AWESM.runPostInit=function(){this.initComplete=true;for(var i=0;i<this.postInitCalls.length;i++){var call=this.postInitCalls[i];try{this[call['method']](call['param1'],call['param2']);}catch(e){window[call['method']](call['param1'],call['param2']);}}
if(typeof(this.onAvailable)!=='undefined'){this.onAvailable(this.sessionId);}else if(typeof(this.onavailable)!=='undefined'){this.onavailable(this.sessionId);}};AWESM.getSession=function(){return this.sessionId;};AWESM.mergeParams=function(params,overrides){var localParams={};if(typeof(params)==='object'){for(var key in params){localParams[key]=params[key];}}
if(typeof(overrides)!=='undefined'){for(var k in overrides){localParams[k]=overrides[k];}}
return localParams;};AWESM.encodeAwesmQueryParams=function(params){var apiParams=[];for(var p in params){if(params.hasOwnProperty(p)){if(this.typeOf(params[p])=='array'){for(var i=0;i<params[p].length;i++){apiParams.push(p+'[]='+encodeURIComponent(params[p][i]));}}else{apiParams.push(p+'='+encodeURIComponent(params[p]));}}}
return apiParams;};AWESM.fillParams=function(params,defaults){if(!params)params={};for(var k in defaults){if(!params.hasOwnProperty(k)){params[k]=defaults[k];}}
return params;};AWESM.addEvent=function(obj,evType,fn,useCapture){if(obj.addEventListener){obj.addEventListener(evType,fn,useCapture);return true;}else if(obj.attachEvent){obj['on'+evType]=fn;return true;}else{}};AWESM.typeOf=function(value){var s=typeof value;if(s==='object'){if(value){if(value instanceof Array){s='array';}}else{s='null';}}
return s;};AWESM.canonicalizeUrl=function(url){if(!this.canonicalizeUrls)return url;var parser=AWESM.parseUri(url);var strippedQuery='';if(parser.query&&parser.query.length>0){var keyPairs=[];for(var key in parser.queryKey){if(key=='awesm')continue;if(key=='fb_ref')continue;var keyPair=key;if(parser.queryKey[key])keyPair+='='+parser.queryKey[key];keyPairs.push(keyPair);}
if(keyPairs.length>0){strippedQuery='?'+keyPairs.join('&');}}
var strippedHash='';if(parser.anchor&&parser.anchor.charAt(0)!=="~"){var anchorParts=parser.anchor.split('&');var anchorOutput=[];for(var i in anchorParts){if(anchorParts[i].indexOf(this.hashIdentifier)>=0)continue;anchorOutput.push(anchorParts[i]);}
if(anchorOutput.length>0){strippedHash='#'+anchorOutput.join('&');}}
var output=parser.protocol+'://';if(parser.userInfo){output+=parser.userInfo+'@';}
if(parser.port){parser.port=":"+parser.port;}
var parts=parser.path.split("%");for(var i=0;i<parts.length;i++)parts[i]=encodeURI(parts[i]);output+=parser.host+parser.port+parts.join("%");return output+strippedQuery+strippedHash;};AWESM.parseUri=function(str){var o=this.parseUriOptions,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2;});return uri;};AWESM.blockPopups=function(){return /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);};AWESM.parseUriOptions={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};AWESM.detectParents=function(){var i;if(this.getAPISession()['parent']!='false'){this.parentAwesm=this.getAPISession()['parent'];}
if(typeof AWESMEXTRA!='undefined'){if(typeof AWESMEXTRA['awesm']!='undefined'){this.parentAwesm=AWESMEXTRA['awesm'];}
if(typeof AWESMEXTRA['fb_ref']!='undefined'){AWESM.fragmentSession(AWESM.decodeFbRef(AWESMEXTRA['fb_ref']));}
return;}
if(typeof this.d.location.search!='undefined'){var urlParams=this.d.location.search.substr(1).split('&');for(i=0,l=urlParams.length;i<l;i++){var keyPair=urlParams[i].split('=');if(keyPair[0]=='fb_ref'&&keyPair[1]&&keyPair[1].indexOf('awesmp')===0){AWESM.fragmentSession(this.decodeFbRef(keyPair[1]));}}}
if(typeof this.d.location.hash!='undefined'){if(this.appendToHash){var fragmentParams=this.d.location.hash.substr(1).split('&');for(i=0,l=fragmentParams.length;i<l;i++){if(fragmentParams[i].indexOf(this.hashIdentifier)===0){var hashValue=fragmentParams[i].substr(this.hashIdentifier.length);AWESM.fragmentSession(this.applicationDomain+"_"+hashValue);}}}else if(this.d.location.hash.substr(0,2)==="#~"){AWESM.fragmentSession(this.applicationDomain+"_"+this.d.location.hash.substr(1).split("?")[0]);}}
AWESM.setSession(this.sessionId,this.parentAwesm);};AWESM.createRef=function(params){var defaults={response_body:false,key:'7d36a61047c24dff3f219161a1f08829e359916852cb620bc0efd1adf9418029',url:this.d.location.href,domain:this.applicationDomain};var localParams=this.mergeParams(defaults,params);localParams.path=this.createAweflake();var awesmUrl=localParams.domain+"_"+localParams.path;if(this.parentAwesm&&(this.parentAwesm!=="false")){localParams.parent=this.parentAwesm;}
this.callback('//shares.api.awe.sm/v1/potential_shares.json',localParams);return awesmUrl;};AWESM.createButtonMount=function(shareId,buttonId,tag){var buttonMount=false;if(typeof tag!='undefined'){buttonMount=this.d.createElement('div');tag.parentNode.replaceChild(buttonMount,tag);}
else if(typeof buttonId!='undefined'){if(typeof buttonId=='object'){buttonMount=buttonId;}else{buttonMount=this.d.getElementById(buttonId);if(!buttonMount){throw("ERROR: no element found with ID "+buttonId+" . Button will not render.");}}
buttonMount.innerHTML='';}
if(!buttonMount||typeof buttonMount=='undefined'){if(this.async){throw("ERROR: When called asynchronously, you must provide an awesm_buttonid. Button will not render.");}else{this.d.write('<div id="ab_'+shareId+'"></div>');buttonMount=this.d.getElementById('ab_'+shareId);}}
return buttonMount;};AWESM.setAddressbar=function(){if(!AWESM.addressbar)return;var localDefaults={'tool':'or2jwR','channel':'copy-paste','url':this.canonicalizeUrl(this.d.location.href)};var params=this.mergeParams(localDefaults,this.shares);var ref=AWESM.overrideRef||this.createRef(params),shareId=ref.split("_")[1];var newhash=this.buildHash(this.parseUri(this.d.location.href),shareId);AWESM.createCookie("_awesmlastaddress",ref,5,true);if(typeof this.updateLocation==="function"){this.updateLocation(newhash);}else{this.d.location.hash=newhash;}};AWESM.buildHash=function(parser,shareId){var newhash;if(this.appendToHash){var prehash=this.canonicalizeUrl("#"+parser.anchor).substr(3)||"#";newhash=prehash+
((prehash.length>1)?"&":"")+
this.hashIdentifier+
shareId;}else{newhash="#"+shareId;}
return newhash;};AWESM.findButtons=function(){var likeBtns=this.d.getElementsByTagName('awesm:fblike');var sendBtns=this.d.getElementsByTagName('awesm:fbsend');var shareBtns=this.d.getElementsByTagName('awesm:fbshare');var tweetBtns=this.d.getElementsByTagName('awesm:tweet');var count=likeBtns.length;for(var i=0;i<count;i++){this.fblike(this.extractParamsFromTag(likeBtns[0]),likeBtns[0]);}
count=tweetBtns.length;for(i=0;i<count;i++){this.tweet(this.extractParamsFromTag(tweetBtns[0]),tweetBtns[0]);}
count=sendBtns.length;for(i=0;i<count;i++){this.fbsend(this.extractParamsFromTag(sendBtns[0]),sendBtns[0]);}
count=shareBtns.length;for(i=0;i<count;i++){this.fbshare(this.extractParamsFromTag(shareBtns[0]),shareBtns[0]);}};AWESM.extractParamsFromTag=function(tag){var params={};for(var i=0;i<tag.attributes.length;i++){var key=tag.attributes.item(i).nodeName;var val=tag.attributes.item(i).nodeValue;if(key.indexOf(':')>0){key=key.replace(':','_');}
params[key]=val;}
return params;};AWESM.registerClick=function(){if(typeof AWESMEXTRA!='undefined'){if(typeof AWESMEXTRA['capture_data']!='undefined'){if(!AWESMEXTRA['capture_data']){return;}}}
if(this.callRefClick){this.callback('//ywidgets.awe.sm/v3/asyncshare/click',{'ref':this.callRefClick,'key':AWESM.api_key,'callback':'AWESM.postRefClick'});}};AWESM.alwaysPostClick=function(o){if(o['awesm_url']){this.parentAwesm=o['awesm_url'];}
this.setSession.apply(this,o.cookie.split(":"));for(var i=0;i<this.postClickRegistration.length;i++){var call=this.postClickRegistration[i];this[call['method']](call['param1'],call['param2']);}};if(AWESM.clickRegistered){AWESM.postRefClick=function(o){this.alwaysPostClick(o);this.clickRegistered(o);};}else{AWESM.postRefClick=AWESM.alwaysPostClick;}
AWESM.fbSDKinit=function(initObj,buttonMount,locale,inline){if(typeof FB=='undefined'){if(!this.d.getElementById('fb-root')){var fbroot=this.d.createElement('div');fbroot.id='fb-root';this.d.getElementsByTagName('body')[0].appendChild(fbroot);}
if(!this.fbsdk){this.fbsdk=this.d.createElement('script');this.fbsdk.async=true;this.fbsdk.src=this.d.location.protocol+'//connect.facebook.net/'+locale+'/all.js';this.d.getElementById('fb-root').appendChild(this.fbsdk);}
window.fbAsyncInit=function(){FB.init(initObj);if(AWESM.fbEvents){AWESM.fbEvents();}};}
else{if(inline){FB.XFBML.parse(buttonMount);}else{if(typeof(FB)==="object"&&FB._apiKey===null){}else{FB.XFBML.parse(buttonMount);}}
if(AWESM.fbEvents){AWESM.fbEvents();}}};AWESM.fbCommonConfig=function(params,tag){var inline=false;if(typeof params['awesm_inline']!='undefined'){inline=true;}
var fbAppId=this.fbAppIdDefault;if(typeof params['app_id']!='undefined'){fbAppId=params['app_id'];}
var fbInitObj={appId:fbAppId,status:true,cookie:true,xfbml:true};if(typeof params['fb_init']!='undefined'){fbInitObj=params['fb_init'];}
var locale='en_US';if(typeof params['locale']!='undefined'){if(params['locale'].length==5){locale=params['locale'];}}
var buttonId=params.awesm_buttonid;var buttonSpecificParams=this.fbExtractButtonParams(params);var shareId=this.createRef(buttonSpecificParams);var buttonMount=this.createButtonMount(shareId,buttonId,tag);return{'params':params,'inline':inline,'initObj':fbInitObj,'locale':locale,'shareId':shareId,'buttonMount':buttonMount};};AWESM.fbExtractButtonParams=function(buttonParams){var params={};for(var fullKey in buttonParams){if(fullKey.indexOf('awesm')===0){var key=fullKey.substr(6);params[key]=buttonParams[fullKey];}}
params['url']=buttonParams['href'];return params;};AWESM.encodeFbRef=function(shareId){return"awesmp:"+shareId.split("_")[1].replace("~","_");};AWESM.decodeFbRef=function(ref){return this.applicationDomain+"_"+decodeURIComponent(ref).substring(7).replace("_","~");};AWESM.fblikeConfig=function(params,tag){if(!params)params={};var channel='facebook-like';var defaults={'standard':{'like':{'show-faces':{'true':'GZMxY4','false':'BZeMAs'}},'recommend':{'show-faces':{'true':'OpG0dJ','false':'VZC34W'}},'min-width':'225','default-width':'450','height':{'show-faces':{'true':'80','false':'35'}}},'button_count':{'like':'tCsvyd','recommend':'bOqQsC','min-width':'90','default-width':'90','height':'20'},'box_count':{'like':'wtFKnQ','recommend':'H8xYfU','min-width':'55','default-width':'55','height':'65'}};var prefixedDefaults={};if(typeof(this.shares)!=='undefined'&&typeof(this.shares)=='object'){for(var k in this.shares){prefixedDefaults['awesm_'+k]=this.shares[k];}}
var finalParams=this.mergeParams(prefixedDefaults,params);if(!finalParams['href']){if(finalParams['awesm_url']){finalParams['href']=finalParams['awesm_url'];}else{finalParams['href']=this.d.location.href;}}
delete finalParams['awesm_url'];finalParams.href=this.canonicalizeUrl(finalParams.href);if(typeof finalParams['awesm_channel']=='undefined')finalParams.awesm_channel=channel;var layout,action,faces;(typeof finalParams['layout']=='undefined')?layout='standard':layout=finalParams.layout;(typeof finalParams['action']=='undefined')?action='like':action=finalParams.action;(typeof finalParams['show_faces']=='undefined')?faces='true':faces=finalParams.show_faces;if(typeof finalParams['awesm_tool']=='undefined'){if(layout=='standard'){finalParams.awesm_tool=defaults[layout][action]['show-faces'][faces];}else{finalParams.awesm_tool=defaults[layout][action];}}
if(typeof finalParams['width']=='undefined'){finalParams['width']=defaults[layout]['default-width'];}else{if(finalParams['width']<defaults[layout]['min-width']){finalParams['width']=defaults[layout]['min-width'];}}
if(layout=='standard'){finalParams['height']=defaults[layout]['height']['show-faces'][faces];}else{finalParams['height']=defaults[layout]['height'];}
return this.fbCommonConfig(finalParams,tag);};AWESM.fblike=function(params,tag){var config=this.fblikeConfig(params,tag);params=config['params'];var shareId=config['shareId'];var buttonMount=config['buttonMount'];var initObj=config['initObj'];var locale=config['locale'];var inline=config['inline'];var btn=this.d.createElement('div');btn.setAttribute('class','fb-like');btn.className='fb-like';for(var i in params){var hyphenated=i.replace('_','-');btn.setAttribute('data-'+hyphenated,params[i]);}
btn.setAttribute('data-ref',AWESM.encodeFbRef(shareId));buttonMount.appendChild(btn);this.fbSDKinit(initObj,buttonMount,locale,inline);};AWESM.fblikeFrame=function(params,tag){var config=this.fblikeConfig(params,tag);params=config['params'];var shareId=config['shareId'];var buttonMount=config['buttonMount'];var btn=this.d.createElement('iframe');var src='//www.facebook.com/plugins/like.php?';for(var i in params){src+=i+'='+encodeURIComponent(params[i])+'&';}
src+='ref='+AWESM.encodeFbRef(shareId);btn.setAttribute('src',src);btn.setAttribute('scrolling',"no");btn.setAttribute('frameborder',"0");btn.setAttribute('style',"border:none; overflow:hidden; width:"+params['width']+"px; height:"+params['height']+"px;");btn.setAttribute('allowTransparency',"true");btn.setAttribute('width',params['width']);btn.setAttribute('height',params['height']);buttonMount.appendChild(btn);};AWESM.fbsend=function(params,tag){if(!params)params={};var channel='facebook-send';var tool='936ArX';params['awesm_channel']=channel;params['awesm_tool']=tool;var finalParams=this.mergeParams(this.shares,params);if(typeof finalParams['href']=='undefined'){if(finalParams['url']){finalParams['href']=finalParams['url'];}else{finalParams['href']=this.d.location.href;}}
delete finalParams['url'];finalParams.href=this.canonicalizeUrl(finalParams.href);var allConfig=this.fbCommonConfig(finalParams,tag);finalParams=allConfig['params'];var shareId=allConfig['shareId'];var buttonMount=allConfig['buttonMount'];var initObj=allConfig['initObj'];var locale=allConfig['locale'];var inline=allConfig['inline'];var btn=this.d.createElement('div');btn.setAttribute('class','fb-send');btn.className='fb-send';for(var i in finalParams){var hyphenated=i.replace('_','-');btn.setAttribute('data-'+hyphenated,finalParams[i]);}
btn.setAttribute('data-ref',AWESM.encodeFbRef(shareId));buttonMount.appendChild(btn);this.fbSDKinit(initObj,buttonMount,locale,inline);};AWESM.fbshare=function(params,tag){var channel='facebook-post';params['awesm_channel']=channel;params['awesm_key']='7d36a61047c24dff3f219161a1f08829e359916852cb620bc0efd1adf9418029';params['awesm_parent']=this.parentAwesm;var prefixedDefaults={};if(typeof(this.shares)!=='undefined'&&typeof(this.shares)=='object'){for(var k in this.shares){prefixedDefaults['awesm_'+k]=this.shares[k];}}
var finalParams=this.mergeParams(prefixedDefaults,params);if(typeof finalParams['href']=='undefined'){if(finalParams['url']){finalParams['href']=finalParams['url'];}else{finalParams['href']=this.d.location.href;}}
delete finalParams['url'];finalParams.href=this.canonicalizeUrl(finalParams.href);var paramPairs=[];for(var p in finalParams){paramPairs.push(p+'='+encodeURIComponent(finalParams[p]));}
var paramString=paramPairs.join('&');var width,height;switch(params['size']){case'small':width=80;height=18;break;case'large':default:width=53;height=69;}
var buttonId=finalParams.awesm_buttonid;var buttonMount=this.createButtonMount('afsb_'+Math.random(),buttonId,tag);buttonMount.innerHTML='<iframe src="//ywidgets.awe.sm/v3/fbshare_button?'+paramString+'" width="'+width+'" height="'+height+'" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" class="facebook-share-button"></iframe>';};AWESM.fblikeFrameCalls=[];AWESM.registerFblikeFrame=function(params,tag){this.fblikeFrameCalls.push({'params':params,'tag':tag});};AWESM.findFrames=function(){for(var i=0;i<this.fblikeFrameCalls.length;i++){this.fblikeFrame(this.fblikeFrameCalls[i]['params'],this.fblikeFrameCalls[i]['tag']);}};AWESM.tweet=function(params,tag){if(!params)params={};var sizes={en:{vertical:[55,62],horizontal:[110,20],none:[55,20]},it:{vertical:[55,62],horizontal:[110,20],none:[55,20]},es:{vertical:[64,62],horizontal:[110,20],none:[64,20]},ja:{vertical:[80,62],horizontal:[130,20],none:[80,20]},de:{vertical:[67,62],horizontal:[110,20],none:[67,20]},fr:{vertical:[65,62],horizontal:[110,20],none:[65,20]}};if(typeof params['data-lang']=='undefined'){params['data-lang']='en';}
if(typeof params['data-count']=='undefined'){params['data-count']='horizontal';}
var width=sizes[params['data-lang']][params['data-count']][0];var height=sizes[params['data-lang']][params['data-count']][1];params['awesm_key']='7d36a61047c24dff3f219161a1f08829e359916852cb620bc0efd1adf9418029';params['awesm_parent']=this.parentAwesm;var prefixedDefaults={};if(typeof(this.shares)!=='undefined'&&typeof(this.shares)=='object'){for(var k in this.shares){prefixedDefaults['awesm_'+k]=this.shares[k];}}
var finalParams=this.mergeParams(prefixedDefaults,params);if(typeof finalParams['data-url']=='undefined'){if(finalParams['awesm_url']){finalParams['data-url']=finalParams['awesm_url'];}else{finalParams['data-url']=this.d.location.href;}}
finalParams['data-url']=this.canonicalizeUrl(finalParams['data-url']);var paramPairs=[];for(var p in finalParams){var key=p;if(p.indexOf('data-')===0)key=p.substr(5);paramPairs.push(key+'='+encodeURIComponent(finalParams[p]));}
var paramString=paramPairs.join('&');var buttonId=finalParams.awesm_buttonid;var buttonMount=this.createButtonMount('atb_'+Math.random(),buttonId,tag);buttonMount.innerHTML='<iframe src="//ywidgets.awe.sm/v3/tweet_button?'+paramString+'" width="'+width+'" height="'+height+'" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" class="twitter-share-button twitter-count-'+this.count+'"></iframe>';};AWESM.manageSession=function(){var localSession=this.getSession();var remoteSessionId=this.getAPISession()['sessionId'];if(localSession){this.setSession(remoteSessionId,localSession['parent']);}else{this.setSession(remoteSessionId,'false');}};AWESM.getSession=function(){var awesmSession=this.readCookie('_awesmsession');return this.getAnySession(awesmSession);};AWESM.getAPISession=function(){return this.getAnySession(this.APICookie);};AWESM.getAnySession=function(sessionString){if(sessionString){var cookieData=sessionString.split(':');var sessionData={'sessionId':cookieData[0],'parent':cookieData[1]};return sessionData;}else{return false;}};AWESM.fragmentSession=function(parent){if(this.readCookie("_awesmlastaddress")===parent){AWESM.overrideRef=parent;return;}
this.parentAwesm=parent;this.callRefClick=parent;}
AWESM.setSession=function(sessionId,parentAwesm){this.createCookie('_awesmsession',sessionId+':'+parentAwesm+':',30);this.sessionId=sessionId;};AWESM.createCookie=function(name,value,days,nopath){var expires;if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}
else expires="";document.cookie=name+"="+value+expires+(nopath?"":"; path=/");};AWESM.readCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}
return null;};AWESM.registerPageview=function(){if(typeof AWESMEXTRA!='undefined'){if(typeof AWESMEXTRA['capture_data']!='undefined'){if(!AWESMEXTRA['capture_data']){return;}}}
var params={'key':'7d36a61047c24dff3f219161a1f08829e359916852cb620bc0efd1adf9418029','session_id':this.sessionId,'awesm_url':this.parentAwesm,'conversion_type':'pageview','conversion_href':this.canonicalizeUrl(this.d.location.href),'read_headers':'true','callback':'AWESM.pageviewRegistered','referrer':this.d.referrer};if(this.parentAwesm){this.callback('//yapi.awe.sm/v2/conversions/new',params);}};if(typeof AWESM.pageviewRegistered!=='function'){AWESM.pageviewRegistered=function(o){};}
AWESM.convert=function(goal,value,conversion_id,conversion_user_id){if(typeof(value)=='undefined')value=0;if(typeof(conversion_id)=='undefined')conversion_id=null;if(typeof(conversion_user_id)=='undefined')conversion_user_id=null;if(this.initComplete){if(this.parentAwesm&&this.parentAwesm!="false"){var params={'key':'7d36a61047c24dff3f219161a1f08829e359916852cb620bc0efd1adf9418029','session_id':this.sessionId,'awesm_url':this.parentAwesm,'conversion_type':goal,'conversion_value':value,'conversion_href':this.d.location.href,'account_conversionid':conversion_id,'account_userid':conversion_user_id,'read_headers':'true','callback':'AWESM.conversionRegistered','referrer':this.d.referrer};this.callback('//yapi.awe.sm/v2/conversions/new',params);}else{}}else{AWESM.postInitCalls.push({'method':'convert','param1':goal,'param2':value});}};AWESM.conversionRegistered=function(o){};AWESM.setConvertAndGo=function(){AWESM.addEvent(document.body,'click',AWESM.convertAndGo);};AWESM.convertAndGo=function(e){var target;if(!e){e=window.event;}
if(e.target){target=e.target;}else if(e.srcElement){target=e.srcElement;}
if(target.nodeType==3){target=target.parentNode;}
var widgetsDomain='ywidgets.awe.sm';var key='7d36a61047c24dff3f219161a1f08829e359916852cb620bc0efd1adf9418029';if(target.tagName.toLowerCase()=='a'){var cType=target.getAttribute('data-conversion-type');if(cType&&cType.match(/^goal_([1-9]|10)$/)){var href=target.getAttribute('href');if(target.getAttribute('href').indexOf(widgetsDomain)<0){if(e.preventDefault)e.preventDefault();e.returnValue=false;var qs=new Array('key='+key,'url='+href);for(var i=0;i<target.attributes.length;i++){var attr_name=target.attributes[i].name;var attr_value=target.attributes[i].value;if(typeof(attr_name)!='undefined'&&attr_name.substring(0,5)=='data-'){if(attr_name=='data-conversion-id'){attr_name='data-account-conversionid';}else if(attr_name=='data-user-id'){attr_name='data-account-userid';}
qs.push(attr_name.substring(5).replace(/-/g,'_')+'='+encodeURIComponent(attr_value));}}
var protocol='http://';if(href.substring(0,5)=='https'){protocol='https://';}
var link=protocol+widgetsDomain+'/conversions?'+qs.join('&');this.d.location=link;return false;}}}};(function(){function buildUrlFromParser(parser){var output=parser.protocol+'://';if(parser.userInfo){output+=parser.userInfo+'@';}
output+=parser.host;if(parser.port){output+=":"+parser.port;}
output+=parser.path;if(parser.query){output+="?"+parser.query;}
if(parser.anchor){output+="#"+parser.anchor;}
return output;}
AWESM.escapeForShare=function(text){return text;};AWESM.shareTo=function(rawParams){rawParams=rawParams||{};var defaults={key:AWESM.api_key,tool:"tWR7KQ",parent:AWESM.parentAwesm,url:this.canonicalizeUrl(this.d.location.href)};var windowParams={windowSpecs:'width=500,height=500',windowName:'awesm_share_window',windowTimeout:false,windowPopup:!AWESM.blockPopups(),destination:null,fragment:false};var shareParams=AWESM.mergeParams(defaults,AWESM.mergeParams(AWESM.shares,rawParams));for(var k in windowParams){if(shareParams.hasOwnProperty(k)){windowParams[k]=shareParams[k];delete shareParams[k];}}
var urlToOpen;if(windowParams.fragment){var shareId=this.createRef(shareParams).split("_")[1];var parser=this.parseUri(shareParams.url);parser.anchor=this.buildHash(parser,shareId).slice(1);urlToOpen=windowParams.destination.replace("AWESM_URL",encodeURIComponent(buildUrlFromParser(parser)));}else{var apiCall="//api.awe.sm/url/share?v=3&errors=false&destination="+encodeURIComponent(windowParams.destination);urlToOpen=apiCall+'&'+this.encodeAwesmQueryParams(shareParams).join('&');}
var shareWindow;if(windowParams.windowPopup===false){this.d.location.href=urlToOpen;}else{shareWindow=window.open(urlToOpen,windowParams.windowName,windowParams.windowSpecs);if(windowParams.windowTimeout!==false){window.setTimeout(function(){shareWindow.close();},windowParams.windowTimeout);}}
return shareWindow;};AWESM.share={};AWESM.share.twitter=function(params){if(typeof params=='undefined')params={};var defaults={channel:'twitter',windowSpecs:'width=550,height=258,resizable=0,scrollbars=0'};params=AWESM.fillParams(params,defaults);var destination="https://twitter.com/intent/tweet?url=AWESM_URL&text=";destination+=encodeURIComponent(AWESM.escapeForShare(params['text']));delete params['text'];var destinationParams=['via','hashtags','related'];for(var i=0;i<destinationParams.length;i++){var p=destinationParams[i];if(params[p]){destination+='&'+p+'='+encodeURIComponent(params[p]);delete params[p];}}
params['destination']=destination;return AWESM.shareTo(params);};AWESM.share.facebook_share=function(params){if(typeof params=='undefined')params={};var defaults={channel:'facebook-share',windowSpecs:'width=600,height=350,resizable=0,scrollbars=0'};params=AWESM.fillParams(params,defaults);var destination="https://www.facebook.com/sharer.php?u=AWESM_URL&t="+encodeURIComponent(params['title']);params['destination']=destination;delete params['title'];return AWESM.shareTo(params);};AWESM.share.facebook_post=function(params){if(typeof params=='undefined')params={};var defaults={channel:'facebook-post',windowSpecs:'width=640,height=370,resizable=0,scrollbars=0',app_id:AWESM.fbAppIdDefault};params=AWESM.fillParams(params,defaults);if(!params['app_id']){AWESM.log('ERROR: Facebook requires an app_id to post to the feed dialog');}
if(!params['redirect_uri']){AWESM.log('ERROR: Facebook requires a redirect_uri; it must be a domain controlled by the app_id');}
var destination="https://www.facebook.com/dialog/feed?link=AWESM_URL&app_id="+params['app_id']+'&redirect_uri='+encodeURIComponent(params['redirect_uri'])+"&display=popup";delete params['app_id'];delete params['redirect_uri'];var destinationParams=['picture','name','caption','description'];for(var i=0;i<destinationParams.length;i++){var p=destinationParams[i];if(params[p]){destination+='&'+p+'='+encodeURIComponent(params[p]);delete params[p];}}
params['destination']=destination;return AWESM.shareTo(params);};AWESM.share.pinterest=function(params){if(typeof params=='undefined')params={};var defaults={channel:'pinterest',windowSpecs:'width=665,height=350,resizable=0,scrollbars=0'};params=AWESM.fillParams(params,defaults);if(!params['image']){AWESM.log("ERROR: pinterest requires a pin specify an image URL (must start with http://)");}
var destination="http://pinterest.com/pin/create/button/?url=AWESM_URL&media="+
encodeURIComponent(params['image']);delete params['image'];if(params['description']){destination+='&description='+encodeURIComponent(params['description']);delete params['description'];}
params['destination']=destination;return AWESM.shareTo(params);};AWESM.share.email=function(params){if(typeof params=='undefined')params={};var defaults={channel:'email',windowPopup:false};params=AWESM.fillParams(params,defaults);if(!params['subject']){AWESM.log("WARNING: You should set a subject for your email");}
if(!params['body']){AWESM.log("WARNING: Your should set a body for your email");}
var destination="mailto:?subject="+
encodeURIComponent(params['subject'])+"&body="+encodeURIComponent(params['body'])+"%20AWESM_URL";delete params['subject'];delete params['body'];params['destination']=destination;return AWESM.shareTo(params);};AWESM.share.tumblr=function(params){if(typeof params=='undefined')params={};var type=params['type'];delete params['type'];var destinationParams;var destination;switch(type){case'link':destination="http://www.tumblr.com/share/link?url=AWESM_URL";destinationParams=['name','description'];break;case'photo':destination="http://www.tumblr.com/share/photo?clickthru=AWESM_URL";destinationParams=['source','caption'];break;case'quote':destination="http://www.tumblr.com/share/quote?source=%20(%3Ca%20href%3D%22AWESM_URL%22%3Evia%3C%2Fa%3E)";destinationParams=['quote'];break;case'video':destination="http://www.tumblr.com/share/video?embed=embed_code&caption=caption";AWESM.log("ERROR: video type not yet supported");return;default:AWESM.log("ERROR: you must specify the type of tumblr post: link or photo");return;}
var defaults={channel:'tumblr-'+type,windowSpecs:'width=450,height=480,resizable=0,scrollbars=0'};params=AWESM.fillParams(params,defaults);for(var i=0;i<destinationParams.length;i++){var p=destinationParams[i];if(params[p]){destination+='&'+p+'='+encodeURIComponent(params[p]);delete params[p];}}
params['destination']=destination;return AWESM.shareTo(params);};AWESM.share.tumblr_link=function(params){if(!params)params={};params['type']='link';return AWESM.share.tumblr(params);};AWESM.share.tumblr_photo=function(params){if(!params)params={};params['type']='photo';return AWESM.share.tumblr(params);};AWESM.share.tumblr_quote=function(params){if(!params)params={};params['type']='quote';return AWESM.share.tumblr(params);};AWESM.share.googleplus=function(params){if(typeof params=='undefined')params={};var defaults={channel:'googleplus',windowSpecs:'height=600,width=600,menubar=no,toolbar=no,resizable=yes,scrollbars=yes'};params=AWESM.fillParams(params,defaults);var destination="https://plus.google.com/share?url=AWESM_URL";params['destination']=destination;return AWESM.shareTo(params);};AWESM.share.linkedin=function(params){if(typeof params=='undefined')params={};var defaults={channel:'linkedin-share',windowSpecs:'width=600,height=390,resizable=0,scrollbars=0'};params=AWESM.fillParams(params,defaults);var destination="https://www.linkedin.com/cws/share?url=AWESM_URL";params['destination']=destination;return AWESM.shareTo(params);};AWESM.share.reddit=function(params){if(typeof params=='undefined')params={};var defaults={windowName:'awesm_share_window',windowSpecs:'width=840,height=464,resizable=0,scrollbars=0',windowTimeout:false,windowPopup:!AWESM.blockPopups()};var url=encodeURIComponent(params['destination']||AWESM.canonicalizeUrl(AWESM.d.location.href));var apiCall="http://www.reddit.com/submit?url="+url+"&title="+encodeURIComponent(params['title']||'');params=AWESM.fillParams(params,defaults);if(defaults.windowPopup===false){AWESM.d.location.href=apiCall;}else{var shareWindow=window.open(apiCall,defaults.windowName,defaults.windowSpecs);if(defaults.windowTimeout!==false){window.setTimeout(function(){shareWindow.close();},defaults.windowTimeout);}}};})();AWESM.createAweflake=function(){var base=62;var charsOfRandomness=6;var now=this.adjustedTimestamp(new Date().getTime());if(this.aweflakeLastCreated!==now){this.aweflakeOffset=Math.floor(Math.random()*base);this.aweflakeCounter=0;this.aweflakeLastCreated=now;}else{this.aweflakeCounter++;}
var randFragment=Math.floor(Math.random()*Math.pow(base,charsOfRandomness));return"~"+
this.intToBase62(now,0,7)+
this.intToBase62(randFragment,0,charsOfRandomness)+
this.intToBase62(this.aweflakeCounter,this.aweflakeOffset,1);};AWESM.intToBase62=function(num,offset,minLength){var charset="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var base=charset.length;var output="";offset=(offset%base)||0;do{output=charset.charAt((num+offset)%base)+output;num=Math.floor(num/base);}while(num>0||output.length<minLength);return output;};AWESM.syncTimestamps=function(){var diff=new Date().getTime()-this.serverTimestamp;var msPerHour=1000*60*60;this.timestampOffset=Math.floor(diff/msPerHour)*msPerHour;return this.timestampOffset;};AWESM.adjustedTimestamp=function(timestamp){var response=timestamp-(this.timestampOffset||this.syncTimestamps());if(response<this.serverTimestamp){}
return response;};if(AWESM.async){AWESM.init();}else{AWESM.addEvent(window,'load',function(){AWESM.init();});}