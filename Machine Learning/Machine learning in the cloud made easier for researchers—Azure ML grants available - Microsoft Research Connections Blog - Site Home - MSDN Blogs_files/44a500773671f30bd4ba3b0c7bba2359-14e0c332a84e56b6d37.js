function Core_GroupNavigation_ShowNav(n,t,i){if(Core_GroupNavigation_HidePopup(n),i&&n.parameter.currentGroupId!=t){n.parameter.showTimer&&clearTimeout(n.parameter.showTimer),n.parameter.currentMenuElement&&$($(n.parameter.currentMenuElement).parent().get(0)).removeClass("active");var r=$("#"+n.parameter.popupWrapperID);n.parameter.currentGroupId=t,n.parameter.currentMenuElement=i,n.parameter.showTimer=setTimeout(function(){Core_GroupNavigation_GetChildGroups(n)},499)}Core_GroupNavigation_CurrentGroupNavigation||setTimeout(function(){Core_GroupNavigation_CurrentGroupNavigation=n},19)}function Core_GroupNavigation_MoreShowNav(n,t,i){t==!0?Core_GroupNavigation_ShowNav(n,-1,i):Core_GroupNavigation_ShowNav(n,-2,i)}function Core_GroupNavigation_HideNav(n,t,i){i&&n.parameter.currentGroupId==t&&(n.parameter.hideTimer&&clearTimeout(n.parameter.hideTimer),n.parameter.hideTimer=setTimeout(function(){Core_GroupNavigation_HidePopup(n)},249))}function Core_GroupNavigation_MoreMouseOutPopup(n,t,i){t==!0?Core_GroupNavigation_HideNav(n,-1,i):Core_GroupNavigation_HideNav(n,-2,i)}function Core_GroupNavigation_RenderGroups(){}function Core_GroupNavigation_GetChildGroups(context){var popupPanel=eval(context.parameter.popupMenuId),wrapper=$("#"+context.parameter.popupWrapperID),parentElement,groupId,content,message,moreContent;($(".multiple-column-list",wrapper).hide(),$(".internal-link.view-all-groups",wrapper).hide(),parentElement=$(context.parameter.currentMenuElement).parent().get(0),parentElement)&&($(parentElement).addClass("active"),groupId=context.parameter.currentGroupId,groupId>0||groupId<-2?(content=Core_GroupNavigation_LoadFromCache(context,groupId),content?(popupPanel.SetPanelContent(content),popupPanel.ShowAtElement(parentElement)):(content=context.parameter.loadingHtml,popupPanel.SetPanelContent(content),popupPanel.ShowAtElement(parentElement),message='{"parentGroupId":"'+groupId+'"}',$.ajax({type:"POST",url:Core_GroupNavigation_AjaxEndpoint+"/GetChildren",contentType:"application/json; charset=utf-8",data:message,dataType:"json",beforeSend:function(n){TelligentUtility.WriteAuthorizationHeader(n)},success:function(msg){var objs=msg.d,content="",hasChildGroups,popupPanel;objs.Groups.length>0&&(hasChildGroups=!1,$.each(objs.Groups,function(){if(this.Groups.length>0){hasChildGroups=!0;return}}),content+=hasChildGroups==!0?Core_GroupNavigation_RenderGroupsWithChildren(context,objs):Core_GroupNavigation_RenderGroups(context,objs)),content=context.parameter.groupNavigationContentWrapperHtmlBlock.replace(/{GroupNavigationContent}/g,content),popupPanel=eval(context.parameter.popupMenuId),popupPanel.Hide(),popupPanel.SetPanelContent(content),popupPanel.ShowAtElement(parentElement),Core_GroupNavigation_AddToCache(context,groupId,content)},error:function(XMLHttpRequest,textStatus,errorThrown){var popupPanel=eval(context.parameter.popupMenuId);popupPanel.SetPanelContent(context.parameter.errorHtml)}}))):(moreContent="",groupId==-1?moreContent=$("#"+context.parameter.popupParentMoreId).html():groupId==-2&&(moreContent=$("#"+context.parameter.popupChildMoreId).html()),popupPanel=eval(context.parameter.popupMenuId),popupPanel.Hide(),popupPanel.SetPanelContent(moreContent),popupPanel.ShowAtElement(parentElement)))}function Core_GroupNavigation_RenderGroupsWithChildren(n,t){var i="",o="",r=0,s=0,e=t.Groups,f=0,u=n.parameter.groupNavigationListHtmlBlock,c,h;return r=1,$.each(e,function(){if(!(r>3)&&(!(this.Groups.length+2+s>21)||(o+=n.parameter.columnWrapperHtmlBlock.replace(/{ColumnId}/g,r).replace(/{T1GroupsData}/g,i),i="",r++,s=0,!(r>3)))){s+=this.Groups.length+2;var t="",e=this.Groups.length,u=0;this.Groups.length>0?($.each(this.Groups,function(){u++;var i="";u==1?i=" first":u==e&&(i=" last"),t+=n.parameter.t2GroupHtmlBlock.replace(/{ItemClass}/g,i).replace(/{Item}/g,n.parameter.linkHtmlBlock.replace(/{Name}/g,this.Name).replace(/{Url}/g,this.Url)),t=this.IsAndMoreLink?t.replace(/{MoreClass}/g,"internal-link view-more"):t.replace(/{MoreClass}/g,"internal-link view-group")}),i+=n.parameter.t1GroupHtmlBlock.replace(/{NameClass}/g," with-children").replace(/{Name}/g,n.parameter.linkHtmlBlock.replace(/{Name}/g,this.Name).replace(/{Url}/g,this.Url).replace(/{MoreClass}/g,"internal-link view-group"))):i+=n.parameter.t1GroupHtmlBlock.replace(/{NameClass}/g,"").replace(/{Name}/g,n.parameter.linkHtmlBlock.replace(/{Name}/g,this.Name).replace(/{Url}/g,this.Url).replace(/{MoreClass}/g,"internal-link view-group")),i=i.replace(/{Groups}/g,t),f++}}),t.IsMore==!0&&(f==e.length?i+=n.parameter.t1GroupHtmlBlock.replace(/{Groups}/g,"").replace(/{Name}/g,n.parameter.linkHtmlBlock.replace(/{Name}/g,t.ViewAll.Text).replace(/{Url}/g,t.ViewAll.Url).replace(/{MoreClass}/g,"internal-link view-group")).replace(/{NameClass}/g," no-children last"):(c=t.MoreTotal+(e.length-f),h=n.parameter.viewMoreText.replace(/{MoreText}/g,c),i+=n.parameter.t1GroupHtmlBlock.replace(/{Groups}/g,"").replace(/{Name}/g,n.parameter.linkHtmlBlock.replace(/{Name}/g,h).replace(/{Url}/g,t.ViewAll.Url).replace(/{MoreClass}/g,"internal-link view-group")).replace(/{NameClass}/g," no-children last"))),i!=""&&(o+=n.parameter.columnWrapperHtmlBlock.replace(/{ColumnId}/g,r).replace(/{T1GroupsData}/g,i)),u=u.replace(/{Columns}/g,o),u=u.replace(/{ColumnsCount}/g,r>3?3:r)}function Core_GroupNavigation_RenderGroups(n,t){for(var f="",h="",u=0,c=0,s=t.Groups,o=n.parameter.groupNavigationListHtmlBlock,i,u=1,e=0,r=0;r<s.length;r++)e++,i=n.parameter.t1GroupHtmlBlock.replace(/{Groups}/g,"").replace(/{Name}/g,n.parameter.linkHtmlBlock.replace(/{Name}/g,s[r].Name).replace(/{Url}/g,s[r].Url).replace(/{MoreClass}/g,"internal-link view-group")),i=e<10&&(r<s.length-1||t.IsMore==!0)?i.replace(/{NameClass}/g," no-children"):i.replace(/{NameClass}/g," no-children last"),f+=i,e>=10&&(h+=n.parameter.columnWrapperHtmlBlock.replace(/{ColumnId}/g,u).replace(/{T1GroupsData}/g,f),f="",u++,e=0);return t.IsMore==!0&&(f+=n.parameter.t1GroupHtmlBlock.replace(/{Groups}/g,"").replace(/{Name}/g,n.parameter.linkHtmlBlock.replace(/{Name}/g,t.ViewAll.Text).replace(/{Url}/g,t.ViewAll.Url).replace(/{MoreClass}/g,"internal-link view-group")).replace(/{NameClass}/g," no-children last")),f!=""&&(h+=n.parameter.columnWrapperHtmlBlock.replace(/{ColumnId}/g,u).replace(/{T1GroupsData}/g,f)),o=o.replace(/{Columns}/g,h),o=o.replace(/{ColumnsCount}/g,u>3?3:u)}function Core_GroupNavigation_LoadFromCache(n,t){return n.parameter.cache&&n.parameter.cache[t]?n.parameter.cache[t]:null}function Core_GroupNavigation_AddToCache(n,t,i){n.parameter.cache||(n.parameter.cache={}),n.parameter.cache[t]=i}function Core_GroupNavigation_MouseOverPopup(n){n.parameter.hideTimer&&clearTimeout(n.parameter.hideTimer)}function Core_GroupNavigation_MouseOutPopup(n){n.parameter.hideTimer&&clearTimeout(n.parameter.hideTimer),n.parameter.hideTimer=setTimeout(function(){Core_GroupNavigation_HidePopup(n)},150)}function Core_GroupNavigation_HidePopup(context){context.parameter.hideTimer&&clearTimeout(context.parameter.hideTimer),eval(context.parameter.popupMenuId).Hide(),$($(context.parameter.currentMenuElement).parent().get(0)).removeClass("active"),context.parameter.currentGroupId=0,context.parameter.currentMenuElement=null}function Core_GroupNavigation_SetMenuItems(n,t,i){var s,e,r,o,u,f;$("#"+i).html(""),s=$(".navigation-item.entry",$(n)).length,e=0,$(".navigation-item.entry",$(n)).css("display","none"),r=$(n).width()-$("#MoreLink",$(n)).outerWidth(),t?r=r-60:(o=$(n+" .leading-child"),o&&(r=r-o.outerWidth(!0)),r=r-100),u=0,f=!1,$(n+" .entry").each(function(){var t,n;e++,t=$(this).outerWidth(!0),u+t<r&&f==!1?($(this).show(),u=u+t):(f=!0,n=$(this).clone(),e==s&&n.addClass("last"),$(".internal-link",n).removeAttr("onmouseover").removeAttr("onmouseout"),$("#"+i).append(n.show()))}),f?$("#MoreLink",$(n)).show():$("#MoreLink",$(n)).hide()}var Core_GroupNavigation_CurrentGroupNavigation=null