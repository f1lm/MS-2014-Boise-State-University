(function(n,t){var s={val:function(n){return this.val(n)},disabled:function(t){return typeof t!="undefined"&&this.filter("input").each(function(){var i=n(this);!t&&u(i)?e(i):t&&!u(i)&&f(i)}),this.is("input:disabled")}},i=null,r=null,h=function(t){return t=n.extend({},n.fn.glowColorSelector.defaults,t||{}),r===null&&(i=n.telligent.glow.utility,r=c(t)),this.each(function(){var t=n(this);t.css({backgroundColor:t&&t.val()?i.convertRgbColorToHtmlColor(i.convertHtmlColorToRgbColor(t.val())):"",textAlign:"center",color:i.getContrastingHtmlColorForRgbColor(i.convertHtmlColorToRgbColor(t&&t.val()?i.convertRgbColorToHtmlColor(i.convertHtmlColorToRgbColor(t.val())):""))}),u(t)?f(t):e(t)})},c=function(r){var u={blendImageUrl:r.blendImageUrl,hueBlendImageUrl:r.hueBlendImageUrl,moveStartX:null,moveStartY:null,elementMoveStartX:null,elementMoveStartY:null},e,f;return r=n("<div><\/div>").css({width:"290px",padding:"2px",paddingLeft:"6px",borderStyle:"solid",borderWidth:"1px",borderColor:"#000000",backgroundColor:"#eeeeee"}),u.popupPanel=n("<div><\/div>").glowPopUpPanel({cssClass:"",position:"updown",zIndex:1e3,hideOnDocumentClick:!1}).glowPopUpPanel("empty").glowPopUpPanel("append",r),u.selectBoxBackground=n("<div><\/div>").css({width:"256px",height:"256px",borderWidth:"1px",borderStyle:"solid",borderColor:"#000000",padding:"0px",cssFloat:"left"}).appendTo(r),u.selectBox=n("<div><\/div>").css({width:"256px",height:"256px",cssFloat:"left",padding:"0px",cursor:"pointer"}).bind("mousedown.glowColorSelector",function(n){return u.clickValueSaturationHandler(n),!1}).appendTo(u.selectBoxBackground),i.isIE()?u.selectBox.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true,src='"+u.blendImageUrl+"')"}):u.selectBox.css({backgroundImage:"url('"+u.blendImageUrl+"')",backgroundRepeat:"no-repeat",backgroundPosition:"top left"}),u.selectBoxCursor=n("<div><\/div>").css({position:"absolute",borderWidth:"3px",borderStyle:"solid",borderColor:"#666666",height:"7px",width:"7px",zIndex:1e3,left:"0px",top:"0px",marginLeft:"2px",marginTop:"-1px",cursor:"pointer",filter:"none"}).bind("mousedown.glowColorSelector",function(n){u.cursorMouseDownHandler(n)}).appendTo(u.selectBoxBackground),n("<div><\/div>").css({position:"absolute",borderWidth:"3px",borderStyle:"solid",borderColor:"#ffffff",height:"1px",width:"1px",overflow:"hidden"}).appendTo(u.selectBoxCursor),u.hueSelectBox=n("<div><\/div>").css({width:"20px",height:"256px",lineHeight:"256px",boderStyle:"solid",borderWidth:"1px",borderColor:"#666666",marginLeft:"5px",cssFloat:"left",cursor:"default",backgroundImage:"url('"+u.hueBlendImageUrl+"')"}).appendTo(r),e=n("<div><\/div>").css({position:"relative",width:"20px",height:"256px"}).appendTo(u.hueSelectBox),u.hueSelectCursor=n("<div><\/div>").css({position:"absolute",borderStyle:"solid",borderWidth:"3px",borderColor:"#666666",height:"5px",width:"22px",marginLeft:"-4px",marginTop:"-5px",left:"0px",top:"0px",cursor:"pointer"}).bind("mousedown.glowColorSelector",function(n){u.hueCursorMouseDownHandler(n)}).appendTo(e),n("<div><\/div>").css({position:"absolute",borderWidth:"2px",borderStyle:"solid",borderColor:"#ffffff",height:"1px",width:"18px",overflow:"hidden"}).appendTo(u.hueSelectCursor),u.selectedColor=n('<input type="text" />').val("#ffffff").css({clear:"both",width:"279px",textAlign:"center",fontFamily:"Courier New, Courier",fontWeight:"bold",padding:"0px",margin:"4px",marginLeft:"auto",marginRight:"auto"}).bind("keyup.glowColorSelector",function(){return u.parseEnteredColor(),!0}).bind("change.glowColorSelector",function(){return u.updateTemporaryValue(!0),!0}).appendTo(r),u.selectButton=n('<input type="button" />').val("OK").css({width:"92px",padding:"0px",margin:"0px"}).bind("click.glowColorSelector",function(){return u.selectTemporaryColor(),!1}).appendTo(r),u.clearButton=n('<input type="button" />').val("Clear").css({width:"92px",padding:"0px",margin:"0px",marginLeft:"4px"}).bind("click.glowColorSelector",function(){return u.selectNoColor(),!1}).appendTo(r),u.cancelButton=n('<input type="button" />').val("Cancel").css({width:"92px",padding:"0px",margin:"0px",marginLeft:"4px"}).bind("click.glowColorSelector",function(){try{u.currentInput.focus()}catch(n){}return u.popupPanel.glowPopUpPanel("hide"),!1}).appendTo(r),f={cursorMouseDownHandler:function(t){u.moveStartX=t.pageX,u.moveStartY=t.pageY,u.elementMoveStartX=parseInt(u.selectBoxCursor.css("left"),10),u.elementMoveStartY=parseInt(u.selectBoxCursor.css("top"),10),n(document).bind("mouseup.glowColorSelector",function(n){return f.endMoveTracking(n),!1}).bind("mousemove.glowColorSelector",function(n){return f.cursorMouseMoveHandler(n),!1})},cursorMouseMoveHandler:function(n){var t=n.pageX-u.moveStartX;n=u.elementMoveStartY+(n.pageY-u.moveStartY),n<0&&(n=0),n>255&&(n=255),t=u.elementMoveStartX+t,t<0&&(t=0),t>255&&(t=255),u.selectBoxCursor.css({left:t+"px",top:n+"px"}),f.updateTemporaryValue()},hueCursorMouseDownHandler:function(t){u.moveStartX=t.pageX,u.moveStartY=t.pageY,u.elementMoveStartX=parseInt(u.hueSelectCursor.css("left"),10),u.elementMoveStartY=parseInt(u.hueSelectCursor.css("top"),10),n(document).bind("mouseup.glowColorSelector",function(n){return f.endMoveTracking(n),!1}).bind("mousemove.glowColorSelector",function(n){return f.hueCursorMouseMoveHandler(n),!1})},hueCursorMouseMoveHandler:function(n){n=u.elementMoveStartY+((typeof n.pageY!="undefined"?n.pageY:n.screenY)-u.moveStartY),n<0&&(n=0),n>255&&(n=255),u.hueSelectCursor.css({top:n+"px"}),f.updateTemporaryValue()},endMoveTracking:function(){n(document).unbind("mouseup.glowColorSelector").unbind("mousemove.glowColorSelector")},clickValueSaturationHandler:function(n){i.getWindowInfo();var t=i.getElementInfo(u.selectBox);u.selectBoxCursor.css({left:n.pageX-t.Left+"px",top:n.pageY-t.Top+"px"}),f.updateTemporaryValue(),f.cursorMouseDownHandler(n)},updateTemporaryValue:function(n){var r=parseInt(u.selectBoxCursor.css("left"),10),e=(255-parseInt(u.selectBoxCursor.css("top"),10))/255,f=(255-parseInt(u.hueSelectCursor.css("top"),10))*(360/255),t=i.convertHsvColorToRgbColor([f,1,255]);u.selectBoxBackground.css({backgroundColor:i.convertRgbColorToHtmlColor(t)}),t=i.convertHsvColorToRgbColor([f,e,r]),r=i.convertRgbColorToHtmlColor(t),u.selectedColor.css({backgroundColor:r}),n||u.selectedColor.val(r),u.selectedColor.css({color:i.getContrastingHtmlColorForRgbColor(t)})},parseEnteredColor:function(){var n=i.convertRgbColorToHsvColor(i.convertHtmlColorToRgbColor(u.selectedColor.val()));u.selectBoxCursor.css({left:n[2]+"px",top:n[1]*-255+255+"px"}),u.hueSelectCursor.css({top:n[0]/-(360/255)+255+"px"}),f.updateTemporaryValue(!0)},showColorSelector:function(n){u.popupPanel.glowPopUpPanel("hide"),u.currentInput=n,u.popupPanel.glowPopUpPanel("show",u.currentInput),n=i.convertRgbColorToHsvColor(i.convertHtmlColorToRgbColor(u.currentInput.val())),u.selectBoxCursor.css({left:n[2]+"px",top:n[1]*-255+255+"px"}),u.hueSelectCursor.css({top:n[0]/-(360/255)+255+"px"}),u.selectedColor.val(u.currentInput.val()),f.updateTemporaryValue(!0),t.setTimeout(f.focusColorSelector,99)},focusColorSelector:function(){if(u.popupPanel.glowPopUpPanel("isOpening"))t.setTimeout(f.focusColorSelector,99);else try{u.selectedColor.focus().select()}catch(n){}},selectTemporaryColor:function(){if(u.currentInput!==null){o(u.currentInput,u.selectedColor.val(),!0);try{u.currentInput.focus()}catch(n){}u.popupPanel.glowPopUpPanel("hide")}},selectNoColor:function(){if(u.currentInput!==null){o(u.currentInput,"",!0);try{u.currentInput.focus()}catch(n){}u.popupPanel.glowPopUpPanel("hide")}}},n.extend(u,f),u},o=function(n,t,r){if(n){t=t?i.convertRgbColorToHtmlColor(i.convertHtmlColorToRgbColor(t)):"";var u=n.val()!=t;n.val(t).css({backgroundColor:n.val(),color:i.getContrastingHtmlColorForRgbColor(i.convertHtmlColorToRgbColor(n.val()))}),u&&r&&n.trigger("change")}},f=function(n){n.unbind("click.glowColorSelector").unbind("keydown.glowColorSelector").css({cursor:"default"}).attr("disabled","disabled")},e=function(n){n.bind("click.glowColorSelector",function(){return n.blur(),r.showColorSelector(n),!1}).bind("keydown.glowColorSelector",function(t){return t.keyCode!=9&&t.keyCode!=16?(n.blur(),r.showColorSelector(n),!1):!0}).css({cursor:"pointer"}).removeAttr("disabled")},u=function(n){return n.is("input:disabled")};n.fn.glowColorSelector=function(t){if(t in s)return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowColorSelector");else return h.apply(this,arguments)},n.extend(n.fn.glowColorSelector,{defaults:{blendImageUrl:"hue_blend.png",hueBlendImageUrl:"sv_blend.png"}})})(jQuery,window),function(n,t){var r={val:function(t){var i,f,r,h,s;if(t===undefined){if(i=n(this).data(u),i===null)return null;if(f=i.internal.patternedTextBox.glowPatternedTextBox("getPatternValues"),i.settings.yearIndex>=0){if(r=parseInt(f[i.settings.yearIndex],10),isNaN(r))return null}else r=(new Date).getFullYear();if(i.settings.dayIndex>=0){if(s=parseInt(f[i.settings.dayIndex],10),isNaN(s))return null}else s=(new Date).getDate();if(i.settings.monthIndex>=0){if(h=o(i,f[i.settings.monthIndex])-1,isNaN(h))return null}else h=(new Date).getMonth();if(t=new Date(r,h,s),i.settings.hourIndex>=0){if(r=parseInt(f[i.settings.hourIndex],10),isNaN(r))return null;i.settings.amPmIndex>=0?t.setHours(e(i,r,f[i.settings.amPmIndex])):t.setHours(e(i,r,-1))}if(i.settings.minuteIndex>=0){if(i=parseInt(f[i.settings.minuteIndex],10),isNaN(i))return null;t.setMinutes(i)}return t}return this.each(function(){var i=n(this).data(u),f=i.internal.patternedTextBox.glowPatternedTextBox("getPatternValues"),e,r,o;i.settings.yearIndex>=0&&(f[i.settings.yearIndex]=t.getFullYear()),i.settings.monthIndex>=0&&(e=i.settings.monthIndex,r=t.getMonth()+1,o=i.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",i.settings.monthIndex,r-1),r=o?o:parseInt(r,10),f[e]=r),i.settings.dayIndex>=0&&(f[i.settings.dayIndex]=t.getDate()),i.settings.hourIndex>=0&&(e=i.settings.hourIndex,r=t.getHours(),f[e]=i.settings.amPmIndex>-1&&r>12?r-12:r),i.settings.minuteIndex>=0&&(f[i.settings.minuteIndex]=t.getMinutes()),i.settings.amPmIndex>=0&&(e=i.settings.amPmIndex,r=t.getHours(),r=i.settings.amPmIndex>-1?r>=12?i.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",i.settings.amPmIndex,1):i.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOption",i.settings.amPmIndex,0):"",f[e]=r),i.internal.patternedTextBox.glowPatternedTextBox("setPatternValues",f)})},disabled:function(t){if(t===undefined){var e=this.data(u);return e?e.internal.patternedTextBox.glowPatternedTextBox("disabled"):!1}return this.each(function(){var e=n(this).data(u);e.internal.patternedTextBox.glowPatternedTextBox("disabled",t),e.internal.popupButton&&(t?e.internal.popupButton.attr("disabled","disabled").unbind("click"+i):e.internal.popupButton.removeAttr("disabled").unbind("click"+i).bind("click"+i,function(){var n=r.val.apply(e.internal.state);n||(n=new Date),e.internal.currentDate=n,e.internal.currentMonth=n.getMonth()+1,e.internal.currentYear=n.getFullYear(),f(e),e.internal.popupPanel.glowPopUpPanel("show",e.internal.popupButton)}))})}},u="_glowDateTimeSelector",i=".glowDateTimeSelector",h=function(i){return this.each(function(){var r={settings:n.extend({},n.fn.glowDateTimeSelector.defaults,i||{}),internal:{state:n(this),initialized:!1,patternedTextBox:null,popupButton:null,popupPanel:null,currentDate:new Date,currentYear:(new Date).getFullYear(),currentMonth:(new Date).getMonth()+1}};n(this).data(u,r),t.setTimeout(function(){c(r)},9)})},c=function(t){t.internal.patternedTextBox=t.internal.state.glowPatternedTextBox({pattern:t.settings.pattern,allowBlanks:t.settings.allowBlankValue,blankCharacter:"_",onValidation:function(n,i,r,u){var s,f,e;return!t.internal.initialized||t.settings.monthIndex<0||t.settings.dayIndex<0||(n=o(t,i[t.settings.monthIndex]),s=parseInt(i[t.settings.dayIndex],10),f=-1,t.internal.yearIndex>=0&&(f=parseInt(i[t.settings.yearIndex],10)),isNaN(n)||isNaN(s)||(e=i[t.settings.dayIndex],n==2?!isNaN(f)&&f>-1&&(f%4==0&&f%100!=0||f%400==0)?s>29&&(e=u==t.settings.dayIndex&&r=="next"?"01":"29"):s>28&&(e=u==t.settings.dayIndex&&r=="next"?"01":"28"):(n==4||n==6||n==9||n==11)&&s>30&&(e=u==t.settings.dayIndex&&r=="next"?"01":"30"),i[t.settings.dayIndex]=e)),i}}).bind("glowPatternedTextBoxChange"+i,function(){t.internal.state.trigger("glowDateTimeSelectorChange")}),t.settings.showPopup&&t.internal.state&&(t.internal.popupButton=t.settings.calendarButtonImageUrl?n('<img style="border: 1px solid #ccc; padding: 2px; align: top; margin-left: 2px; background-color: #eee;" />').css({borderTopColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-top-color","borderTopColor","#999"),borderLeftColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-left-color","borderLeftColor","#999"),borderRightColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-right-color","borderRightColor","#999"),borderBottomColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-bottom-color","borderBottomColor","#999"),backgroundColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"background-color","backgroundColor","#fff")}).attr("src",t.settings.calendarButtonImageUrl).insertAfter(t.internal.state):n('<input type="button" />').val(t.settings.calendarButtonText).addClass(t.settings.calendarButtonCssClass).insertAfter(t.internal.state),t.internal.popupPanel=n("<div><\/div>").insertAfter(t.internal.popupButton).glowPopUpPanel({cssClass:"",position:"updown",zIndex:1e3,hideOnDocumentClick:!0})),r.disabled.apply(t.internal.state,[t.internal.patternedTextBox.glowPatternedTextBox("disabled")]),t.internal.initialized=!0},o=function(n,t){if(t===undefined)return parseInt("NaN",10);if(isNaN(parseInt(t,10))){var i=n.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOptionIndex",n.settings.monthIndex,t);return i!==undefined?i+1:parseInt("NaN",10)}return parseInt(t,10)},e=function(n,t,i){return(t=parseInt(t,10),isNaN(t))?t:(i!==undefined&&n.settings.amPmIndex>-1&&(n=n.internal.patternedTextBox.glowPatternedTextBox("getPatternValueOptionIndex",n.settings.amPmIndex,i),n===0?t==12&&(t=0):n===1&&t!=12&&(t+=12)),t)},f=function(t){var v,h,u,e,r,o,l,c,a;if(t.internal.popupPanel){if(t.internal.popupPanel.glowPopUpPanel("empty"),v=n("<div><\/div>").css({borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-top-color","borderTopColor","#999"),borderLeftColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-left-color","borderLeftColor","#999"),borderRightColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-right-color","borderRightColor","#999"),borderBottomColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-bottom-color","borderBottomColor","#999"),fontFamily:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"font-family","fontFamily","Arial, Helvetica"),backgroundColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"background-color","backgroundColor","#fff"),padding:"2px",fontSize:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"font-size","fontSize","9pt"),color:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000")}),h=n("<table><\/table>").attr("cellPadding",0).attr("cellSpacing",0).css({borderWidth:"0px"}).appendTo(v),h=n("<tbody><\/tbody>").appendTo(h),u=n("<tr><\/tr>"),e=n("<td><\/td>").css({textAlign:"center",padding:"2px",cursor:"pointer"}).bind("click"+i,function(n){return t.settings.dayIndex>-1?(t.internal.currentMonth--,t.internal.currentMonth<1&&(t.internal.currentMonth=12,t.internal.currentYear>0&&t.internal.currentYear--)):t.internal.currentYear--,f(t),n.stopPropagation(),!1}).appendTo(u),n("<div><\/div>").addClass(t.settings.previousButtonCssClass).html("&lt;").appendTo(e),e=n("<td><\/td>").css({textAlign:"center",padding:"2px",fontWeight:"bold",fontSize:"90%"}).appendTo(u),t.settings.dayIndex>-1?e.attr("colSpan",5).html(t.settings.monthNames[t.internal.currentMonth-1]+" "+t.internal.currentYear):e.html(t.internal.currentYear),e=n("<td><\/td>").css({textAlign:"center",padding:"2px",cursor:"pointer"}).bind("click"+i,function(n){return t.settings.dayIndex>-1?(t.internal.currentMonth++,t.internal.currentMonth>12&&(t.internal.currentMonth=1,t.internal.currentYear<9999&&t.internal.currentYear++)):t.internal.currentYear++,f(t),n.stopPropagation(),!1}).appendTo(u),n("<div><\/div>").addClass(t.settings.nextButtonCssClass).html("&gt;").appendTo(e),h.append(u),t.settings.dayIndex>-1){for(u=n("<tr><\/tr>"),r=0;r<t.settings.dayNames.length;r++)e=n("<td><\/td>").html(t.settings.dayNames[r]).css({textAlign:"center",padding:"2px",fontWeight:"bold",borderBottomWidth:"1px",borderBottomStyle:"solid",fontSize:"90%",width:"14%",borderBottomColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"border-bottom-color","borderBottomColor","#999")}).appendTo(u);for(h.append(u),r=new Date(t.internal.currentYear,t.internal.currentMonth-1,1),u=n("<tr><\/tr>"),o=0,l=5;o<r.getDay();)e=n("<td><\/td>").html("&nbsp;").css({fontSize:"90%",padding:"2px",textAlign:"center",width:"14%"}).appendTo(u),o++;for(c=31,t.internal.currentMonth==2?c=!isNaN(t.internal.currentYear)&&t.internal.currentYear>-1&&(t.internal.currentYear%4==0&&t.internal.currentYear%100!=0||t.internal.currentYear%400==0)?29:28:(t.internal.currentMonth==4||t.internal.currentMonth==6||t.internal.currentMonth==9||t.internal.currentMonth==11)&&(c=30),a=-1,t.internal.currentMonth==t.internal.currentDate.getMonth()+1&&t.internal.currentYear==t.internal.currentDate.getFullYear()&&(a=t.internal.currentDate.getDate()),r=1;r<=c;r++)o++,e=n("<td><\/td>").html(r).css({textAlign:"center",padding:"2px",fontSize:"90%",cursor:"pointer",width:"14%"}).bind("click"+i,n.telligent.glow.utility.makeBoundFunction(s,null,[t,r])).bind("mouseover"+i,function(i){n(i.target).css({color:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"background-color","backgroundColor","#fff"),backgroundColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000")})}).bind("mouseout"+i,function(i){n(i.target).css({color:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),backgroundColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"background-color","backgroundColor","#fff")})}),r==a&&e.css({padding:"1px",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),borderLeftColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),borderRightColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),borderBottomColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000")}),u.append(e),o==7&&(o=0,h.append(u),u=n("<tr><\/tr>"),l--);for(;o<7;)e=n("<td><\/td>").html("&nbsp;").css({fontSize:"90%",padding:"2px",textAlign:"center",width:"14%"}).appendTo(u),o++;for(h.append(u);l>0;){for(l--,u=n("<tr><\/tr>"),r=0;r<7;r++)e=n("<td><\/td>").html("&nbsp;").css({fontSize:"90%",padding:"2px",textAlign:"center",width:"14%"}).appendTo(u);h.append(u)}}else for(o=-1,t.internal.currentYear==t.internal.currentDate.getFullYear()&&(o=t.internal.currentDate.getMonth()),r=0;r<12;r++)r%3==0&&(u=n("<tr><\/tr>"),h.append(u)),e=n("<td><\/td>").html(t.settings.monthNames[r]).css({textAlign:"center",padding:"2px",fontSize:"90%",cursor:"pointer",width:"14%"}).bind("click"+i,n.telligent.glow.utility.makeBoundFunction(s,null,[t,r])).bind("mouseover"+i,function(i){n(i.target).css({color:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"background-color","backgroundColor","#fff"),backgroundColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000")})}).bind("mouseout"+i,function(i){n(i.target).css({color:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),backgroundColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"background-color","backgroundColor","#fff")})}),r==o&&e.css({padding:"1px",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderTopStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderTopColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),borderLeftColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),borderRightColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000"),borderBottomColor:n.telligent.glow.utility.getCurrentStyleValue(t.internal.state,"color","color","#000")}),u.append(e);t.internal.popupPanel.glowPopUpPanel("append",v)}},s=function(n,t){var i,u;n&&(i=r.val.apply(n.internal.state),i===null&&(i=new Date),i=n.settings.dayIndex>-1?new Date(n.internal.currentYear,n.internal.currentMonth-1,t,i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()):new Date(n.internal.currentYear,t,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),u=r.val.apply(n.internal.state),u&&u.getTime()==i.getTime()||(r.val.apply(n.internal.state,[i]),n.internal.state.trigger("glowDateTimeSelectorChange")),n.internal.popupPanel.glowPopUpPanel("hide"))};n.fn.glowDateTimeSelector=function(t){if(t in r)return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowDateTimeSelector");else return h.apply(this,arguments)},n.extend(n.fn.glowDateTimeSelector,{defaults:{pattern:"",yearIndex:-1,monthIndex:-1,dayIndex:-1,hourIndex:-1,minuteIndex:-1,amPmIndex:-1,showPopup:!0,allowBlankvalue:!0,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],calendarButtonCssClass:"",previousButtonCssClass:"",nextButtonCssClass:"",calendarButtonText:"Select...",calendarButtonImageUrl:null}})}(jQuery,window),function(n){var t=function(n){var t=n.data("_delayedEnterLeaveContextKey");return(t===null||typeof t=="undefined")&&(t={enterTimeout:null,leaveTimeout:null},n.data("_delayedEnterLeaveContextKey",t)),t};n.extend(n.event.special,{glowDelayedMouseEnter:{add:function(i){var r=i.data||500;n(i.selector).live("mouseenter",function(){var u=n(this),i=t(u);i.enterTimeout=setTimeout(function(){u.trigger("glowDelayedMouseEnter"),clearTimeout(i.enterTimeout)},r)}).live("mouseleave",function(){var i=t(n(this));clearTimeout(i.enterTimeout)})}},glowDelayedMouseLeave:{add:function(i){var r=i.data||500;n(i.selector).live("mouseleave",function(){var u=n(this),i=t(u);i.leaveTimeout=setTimeout(function(){u.trigger("glowDelayedMouseLeave"),clearTimeout(i.leaveTimeout)},r)}).live("mouseenter",function(){var i=t(n(this));clearTimeout(i.leaveTimeout)})}}})}(jQuery),function(n){var t={val:function(i){if(i===undefined){var r=this.data("dropDownList");return r&&r.internal.state&&r.internal.initialized&&r.internal.state.selectedIndex>=0&&r.internal.state.selectedIndex<r.internal.state.options.length?r.internal.state.options[r.internal.state.selectedIndex].value:""}return this.each(function(){var r=n(this).data("dropDownList"),u;if(r.internal.state&&r.internal.initialized){for(u=0;u<r.internal.state.options.length;u++)if(r.internal.state.options[u].value==i){t.selectedIndex.apply(n(r.internal.state),[u]);return}t.selectedIndex.apply(n(r.internal.state),[0])}})},selectedIndex:function(t,i){if(t===undefined){var r=this.data("dropDownList");return r&&r.internal.state&&r.internal.initialized?r.internal.state.selectedIndex:-1}return this.each(function(){var r=n(this).data("dropDownList"),u;r.internal.state&&r.internal.initialized&&t>=0&&t<r.internal.items.length&&t<r.internal.state.options.length&&(u=r.internal.state.selectedIndex!=t,r.internal.state.selectedIndex=t,r.internal.selectedItem.innerHTML=r.settings.showHtmlWhenSelected?r.internal.items[t].html:r.internal.state.options[t].innerHTML,u&&i&&r.internal.state.onchange&&r.internal.state.onchange())})},getText:function(){var n=this.data("dropDownList");return n&&n.internal.state&&n.internal.initialized&&n.internal.state.selectedIndex>=0&&n.internal.state.selectedIndex<n.internal.items.length?n.internal.items[n.internal.state.selectedIndex].html:""},disabled:function(t){if(t===undefined){var i=this.data("dropDownList");if(i)return i.internal.state.readonly}else return this.each(function(){var i=n(this).data("dropDownList");t?(i.internal.button.style.cursor="default",i.internal.button.onclick=null,i.internal.button.style.backgroundImage="none",i.internal.button.style.backgroundColor=i.internal.backgroundColor,i.internal.selectedItem.style.borderColor=i.internal.backgroundColor,i.internal.state.readonly=!0):(i.internal.button.style.cursor="pointer",i.internal.button.onclick=function(){e(i)},i.settings.buttonImageUrl&&(i.internal.button.style.backgroundImage="url('"+i.settings.buttonImageUrl+"')"),i.internal.button.style.backgroundColor="#cccccc",i.internal.selectedItem.style.borderColor="#999999",i.internal.state.readonly=!1)})},refresh:function(){return this.each(function(){var i=n(this).data("dropDownList"),e,f,u,r;if(i.internal.initialized){for(e=t.val.apply(n(i.internal.state),[]);i.internal.state.childNodes.length>0;)i.internal.state.removeChild(i.internal.state.childNodes[0]);for(;i.internal.itemsContainer.childNodes.length>0;)i.internal.itemsContainer.removeChild(i.internal.itemsContainer.childNodes[0]);for(f=-1,u=0;u<i.internal.items.length;u++)r=document.createElement("div"),r.onmouseover=n.telligent.glow.utility.makeBoundFunction(s,null,[i,u]),r.onclick=n.telligent.glow.utility.makeBoundFunction(t.selectedIndex,n(i.internal.state),[u,!0]),r.style.padding="2px",r.style.cursor="pointer",r.style.borderStyle="dotted",r.style.borderWidth="1px",r.style.borderColor=i.internal.backgroundColor,r.innerHTML=i.internal.items[u].html,i.internal.itemsContainer.appendChild(r),r=document.createElement("option"),r.value=i.internal.items[u].value,r.innerHTML=i.internal.items[u].text,i.internal.state.appendChild(r),i.internal.items[u].value==e&&(f=u);f>=0?(i.internal.state.selectedIndex=f,i.internal.selectedItem.innerHTML=i.settings.showHtmlWhenSelected?i.internal.items[f].html:i.internal.state.options[f].innerHTML):(i.internal.selectedItem.innerHTML="&nbsp;",t.selectedIndex.apply(n(i.internal.state),[0])),i.internal.highlightedItemIndex=-1}})},add:function(i){if(!i)return this;t.remove.apply(this,[i]);var r=!0;return this.each(function(){r?r=!1:i=i._clone();var t=n(this).data("dropDownList");t.internal.items[t.internal.items.length]=i})},remove:function(t){return t?this.each(function(){for(var r=n(this).data("dropDownList"),u=[],f=!1,i=0;i<r.internal.items.length;i++)r.internal.items[i].value==t.value?f=!0:u[u.length]=r.internal.items[i];f&&(r.internal.items=u)}):this},clear:function(){return this.each(function(){n(this).data("dropDownList").internal.items=[]})},insert:function(i,r){if(!i)return this;t.remove.apply(n(context.internal.state),[i]);var u=!0;return this.each(function(){u?u=!1:i=i._clone();for(var e=n(this).data("dropDownList"),t=[],o=!1,f=0;f<e.internal.items.length;f++)f==r&&(o=!0,t[t.length]=i),t[t.length]=e.internal.items[f];o||(t[t.length]=i),e.internal.items=t})},getByIndex:function(n){var t=this.data("dropDownList");return t&&n>=0&&n<t.internal.items.length?t.internal.items[n]:null},count:function(){var n=this.data("dropDownList");if(n)return n.internal.items.length},createItem:function(n){return new i(n)}},o=function(t){return this.each(function(){var i={settings:n.extend({},n.fn.glowDropDownList.defaults,t||{}),internal:{state:this,highlightedItemIndex:-1,button:null,items:null,popupPanel:null,selectedItem:null,backgroundColor:null,itemsContainer:null,initialized:!1}};n(this).data("dropDownList",i),f(i)})},f=function(r){if(r.internal.state.offsetHeight){r.internal.state.disabled&&(r.internal.state.disabled=!1,r.internal.state.readonly=!0),r.internal.button=document.createElement("span"),r.internal.button.style.borderStyle="outset",r.internal.button.style.borderWidth="1px",r.internal.button.style.borderColor="#999999";try{r.internal.button.style.display="inline-table"}catch(h){}try{r.internal.button.style.display="-moz-inline-box"}catch(c){}try{r.internal.button.style.display="inline-block"}catch(l){}r.internal.button.style.paddingRight="16px",r.internal.button.style.backgroundRepeat="no-repeat",r.internal.button.style.backgroundPosition="right center",r.internal.button.style.marginLeft=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"margin-left","marginLeft","1px;"),r.internal.button.style.marginTop=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"margin-top","marginTop","1px;"),r.internal.button.style.marginRight=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"margin-right","marginRight","1px;"),r.internal.button.style.marginBottom=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"margin-bottom","marginBottom","1px;"),r.internal.state.parentNode.insertBefore(r.internal.button,r.internal.state),r.internal.backgroundColor=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"background-color","backgroundColor","#ffffff"),r.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!=""&&(r.internal.backgroundColor="#ffffff"),r.internal.selectedItem=document.createElement("span"),r.internal.selectedItem.style.backgroundColor=r.internal.backgroundColor,r.internal.selectedItem.style.fontFamily=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"font-family","fontFamily","Arial, Helvetica"),r.internal.selectedItem.style.fontSize=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"font-size","fontSize","100%"),r.internal.selectedItem.style.lineHeight=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"line-height","lineHeight","100%"),r.internal.selectedItem.style.color=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"color","color","#000000"),r.internal.selectedItem.style.borderStyle="outset",r.internal.selectedItem.style.borderWidth="0px",r.internal.selectedItem.style.borderRightWidth="1px",r.internal.selectedItem.style.padding="2px";try{r.internal.selectedItem.style.display="inline-table"}catch(e){}try{r.internal.selectedItem.style.display="-moz-inline-box"}catch(o){}try{r.internal.selectedItem.style.display="inline-block"}catch(s){}r.internal.selectedItem.style.width=r.settings.selectedItemWidth<=23?r.internal.state.offsetWidth-23+"px":r.settings.selectedItemWidth-23+"px",r.internal.selectedItem.style.height=r.settings.selectedItemHeight<=4?r.internal.state.offsetHeight-4+"px":r.settings.selectedItemHeight-4+"px",r.internal.selectedItem.style.overflow="hidden",r.internal.button.appendChild(r.internal.selectedItem);var u=document.createElement("div");for(r.internal.state.parentNode.insertBefore(u,r.internal.state),r.internal.popupPanel=n(u).glowPopUpPanel({cssClass:"",position:"updown",zIndex:1e3,hideOnDocumentClick:!0}),r.internal.popupPanel.glowPopUpPanel("empty"),r.internal.itemsContainer=document.createElement("div"),r.internal.itemsContainer.style.borderStyle="outset",r.internal.itemsContainer.style.borderWidth="1px",r.internal.itemsContainer.style.borderColor="#999999",r.internal.itemsContainer.style.height=r.settings.itemsHeight<=4?n.telligent.glow.utility.getWindowInfo().Height/4+24+"px":r.settings.itemsHeight-4+"px",r.internal.itemsContainer.style.width=r.settings.itemsWidth<=4?r.internal.state.offsetWidth-4+"px":r.settings.itemsWidth-4+"px",r.internal.itemsContainer.style.overflow="auto",r.internal.itemsContainer.style.overflowX="hidden",r.internal.itemsContainer.style.padding="1px",r.internal.itemsContainer.style.backgroundColor=r.internal.backgroundColor,r.internal.itemsContainer.style.fontFamily=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"font-family","fontFamily","Arial, Helvetica"),r.internal.itemsContainer.style.fontSize=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"font-size","fontSize","100%"),r.internal.itemsContainer.style.lineHeight=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"line-height","lineHeight","100%"),r.internal.itemsContainer.style.color=n.telligent.glow.utility.getCurrentStyleValue(r.internal.state,"color","color","#000000"),r.internal.popupPanel.glowPopUpPanel("append",r.internal.itemsContainer),r.internal.items=[],u=0;u<r.internal.state.options.length;u++)r.internal.items[r.internal.items.length]=u<r.settings.itemsHtml.length?new i({value:r.internal.state.options[u].value,text:r.internal.state.options[u].text,html:r.settings.itemsHtml[u]}):new i({value:r.internal.state.options[u].value,text:r.internal.state.options[u].text,html:r.internal.state.options[u].text});t.disabled.apply(n(r.internal.state),[r.internal.state.readonly==!0]),r.internal.state.style.display="none",r.internal.initialized=!0,t.refresh.apply(n(r.internal.state),[])}else window.setTimeout(function(){f(r)},249)},e=function(t){t.internal.popupPanel.glowPopUpPanel("isShown")?t.internal.popupPanel.glowPopUpPanel("hide"):n.telligent.glow.utility.isSafari()?(t.internal.popupPanel.glowPopUpPanel("show",t.internal.button),t.internal.state.selectedIndex>=0&&r(t,t.internal.state.selectedIndex)):(t.internal.itemsContainer.style.overflow="hidden",t.internal.popupPanel.glowPopUpPanel("show",t.internal.button),window.setTimeout(function(){u(t)},49))},u=function(n){if(n.internal.popupPanel.glowPopUpPanel("isOpening"))window.setTimeout(function(){u()},49);else{try{n.internal.itemsContainer.style.overflow="auto",n.internal.itemsContainer.style.overflowX="hidden"}catch(t){}n.internal.state.selectedIndex>=0&&r(n,n.internal.state.selectedIndex)}},s=function(n,t){r(n,t)},r=function(n,t){var i=n.internal.itemsContainer.childNodes[t];i.style.backgroundColor="#cccccc",i.style.borderColor="#666666",i.offsetTop+i.offsetHeight>n.internal.itemsContainer.scrollTop+n.internal.itemsContainer.offsetHeight?n.internal.itemsContainer.scrollTop=i.offsetTop+i.offsetHeight-n.internal.itemsContainer.offsetHeight:i.offsetTop<n.internal.itemsContainer.scrollTop&&(n.internal.itemsContainer.scrollTop=i.offsetTop),n.internal.highlightedItemIndex>=0&&n.internal.highlightedItemIndex!=t&&(i=n.internal.itemsContainer.childNodes[n.internal.highlightedItemIndex],i.style.backgroundColor=n.internal.backgroundColor,i.style.borderColor=n.internal.backgroundColor),n.internal.highlightedItemIndex=t},i;n.fn.glowDropDownList=function(i){if(i in t)return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.fn.glowDropDownList");else return o.apply(this,arguments)},n.extend(n.fn.glowDropDownList,{defaults:{selectedItemWidth:200,selectedItemHeight:32,itemsWidth:200,itemsHeight:300,itemsHtml:[],showHtmlWhenSelected:!0,buttonImageUrl:"button.gif"}}),i=function(t){var i={value:"",text:"",html:t.text};t&&n.extend(i,t),this.text=i.text,this.value=i.value,this.html=i.html},i.prototype._clone=function(){return new i({value:this.value,text:this.text,html:this.html})}}(jQuery),function(n,t){var u={val:function(){var t=n(this).data(e);return t!==null&&typeof t.file!="undefined"&&t.file!==null?{name:t.file.name}:null}},e="_glowUpload",r={begun:"glowUploadBegun",complete:"glowUploadComplete",error:"glowUploadError"},s=function(t){return this.each(function(){var u=n(this),i=n.extend({},n.fn.glowUpload.defaults,t||{},{pluploader:null,file:null,fileOffset:0,fileState:"",isUploading:!1,currentUploadPercent:0,fileContainer:null});n.extend(i,{container:u,initialized:!1}),n(this).data(e,i),i.container.find('input[type="file"]').bind("change",function(){i.container.trigger(r.begun).trigger(r.complete)}).hide(),n("<div><\/div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:i.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#eee",textAlign:"center",padding:".25em"}).append(n('<input type="Button" value="Loading..." />').attr("disabled","disabled").css({borderColor:"Transparent",backgroundColor:"Transparent"})).appendTo(i.container),h(i)})},h=function(n){for(var i,u=["1234567890","0987654321","0192837465","5647382910"],t=[],r=0;r<2500;r++)t[t.length]=u[Math.floor(Math.random()*u.length)];i=+new Date,jQuery.ajax({type:"POST",url:n.uploadUrl,data:{test:t.join("")},success:function(){var t=+new Date;f(n,9e9/(t-i))},error:function(){f(n,1e6)}})},f=function(u,f){/Mozilla[^\(]*\(.*? rv:([0-9]+)\.([0-9]+)\.([0-9]+)/.test(navigator.userAgent)&&(parseInt(RegExp.$1,10)<1||parseInt(RegExp.$2,10)<9||parseInt(RegExp.$3,10)<2)&&(u.runtimes=u.runtimes.replace(/,?flash/i,"")),u.file={name:"",id:"preuploaded",fileState:"uploaded"};var e="15mb";f<15e6&&(e=Math.floor(f),e<1e6&&(e=1e6),e=Math.floor(f/1e6)+"mb"),e={runtimes:u.runtimes,max_file_size:u.maxFileSize,container:u.container.attr("id"),url:u.uploadUrl,flash_swf_url:u.swfUrl,silverlight_xap_url:u.silverlightUrl,chunk_size:e,multi_selection:!1,drop_element:u.container.attr("id")},u.fileFilter!==null&&(e.filters=u.fileFilter),u.pluploader=new plupload.Uploader(e),u.pluploader.bind("Init",function(){u.container.children(":not(.plupload)").remove();var f=n("<div><\/div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:u.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#fff"}).appendTo(u.container),r=n("<table><\/table>").attr("border",0).attr("cellSpacing",0).attr("cellPadding",0).css({width:"100%"}),t=n("<tbody><\/tbody>").appendTo(r);t=n("<tr><\/tr>").appendTo(t),u.fileContainer=n("<td><\/td>").appendTo(t).css({width:"100%"}),t=n("<td><\/td>").css({backgroundColor:"#eee",borderLeftWidth:"1px",borderLeftStyle:"solid",borderLeftColor:"#999",padding:".25em"}).attr("vAlign","top").appendTo(t),n('<input type="Button" value="Browse..." id="'+u.container.attr("id")+'_browseButton" />').appendTo(t),f.append(r),i(u),u.pluploader.settings.browse_button=u.container.attr("id")+"_browseButton",u.initialized=!0}),u.pluploader.bind("FilesAdded",function(n,t){u.addedFiles=t}),u.pluploader.bind("QueueChanged",function(){o(u)}),u.pluploader.bind("UploadProgress",function(n,t){if(!(!t||!u.file||t.id!=u.file.id))if(t.status==plupload.UPLOADING){if(!u.isUploading){var f=!u.isUploading;u.isUploading=!0,u.currentUploadPercent=0,i(u),f&&u.container.trigger(r.begun)}u.currentUploadPercent=t.percent,i(u)}else t.status==plupload.FAILED&&(u.isUploading=!1,u.fileState="error",i(u),u.container.triggerr("glowUploadError"))}),u.pluploader.bind("FileUploaded",function(n,t){u.fileState="uploaded",i(u),u.container.trigger(r.complete,{name:t.name})}),u.pluploader.bind("Error",function(t,f){if(!u.initialized){var e=u.notSupportedMessage;e||(e=[],u.runtimes.indexOf("html5")>-1&&e.push("An HTML5 capable browser"),u.runtimes.indexOf("silverlight")>-1&&e.push('<a href="http://microsoft.com/getsilverlight/" target="_blank">Silverlight<\/a>'),u.runtimes.indexOf("flash")>-1&&e.push('<a href="http://get.adobe.com/flashplayer/" target="_blank">Flash<\/a>'),e.length==0?e="Uploading is not supported.":(e.length>1&&(e[e.length-1]="or "+e[e.length-1]),e=e.join(", ")+" is required to upload.")),u.container.children().hide(),n("<div><\/div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:u.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#eee",textAlign:"center",padding:".25em",color:"#000"}).html(e).appendTo(u.container)}f.file&&(u.isUploading=!1,u.fileState="error",i(u),u.container.trigger(r.error))}),t.setTimeout(function(){u.pluploader.init()},9)},i=function(n){var t="";n.file&&(t=n.fileState==="uploaded"?n.uploadedFormat.replace("{0}",n.file.name):n.fileState==="error"?n.errorFormat.replace("{0}",n.file.name):n.isUploading?n.uploadingFormat.replace("{0}",n.file.name).replace("{1}",n.currentUploadPercent):n.toUploadFormat.replace("{0}",n.file.name)),n.fileContainer.html(t)},o=function(n){var u,f,r,e;if(n.addedFiles){for(u=[],f=0;f<n.pluploader.files.length;f++)for(r=0;r<n.addedFiles.length;r++)if(n.pluploader.files[f].id==n.addedFiles[r].id){u[u.length]=n.addedFiles[r];break}n.addedFiles=null,u.length!==0&&(n.file&&(n.isUploading&&n.pluploader.stop(),e=n.file.id,t.setTimeout(function(){if(n.pluploader&&e!="preuploaded")try{n.pluploader.removeFile(n.pluploader.getFile(e))}catch(t){}},99)),n.file=u[0],n.fileState="",i(n),n.file&&n.pluploader.start())}};n.fn.glowUpload=function(t){if(t in u)return u[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowUpload");else return s.apply(this,arguments)},n.extend(n.fn.glowUpload,{defaults:{fileFilter:null,maxFileSize:"2048mb",width:"350px",uploadUrl:"/",swfUrl:"plupload.flash.swf",silverlightUrl:"",uploadedFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; color: #3a3; margin-left: .25em;">Uploaded<\/div>{0}<\/div>',uploadingFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; margin-top: .25em; margin-left: .25em; border: solid 1px #999; background-color: #eee; width: 50px; height: .5em;"><div style="background-color: #7e7; width: {1}%; height: .5em;"><\/div><\/div>{0}<\/div>',toUploadFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; padding: .25em;">{0}<\/div>',errorFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; padding: .25em;"><div style="float: right; color: #f00; margin-left: .25em;">Error<\/div>{0}<\/div>',runtimes:"html5,flash"}})}(jQuery,window),function(n){var t={disabled:function(t){if(t===undefined){var r=this.data("lookUpTextBox");if(r)return r.internal.state.readonly}else return this.each(function(){var r=n(this).data("lookUpTextBox");t?(r.internal.cursor.style.visibility="hidden",r.internal.container.style.cursor="default",r.internal.container.onclick=null,r.internal.state.readonly=!0,r.internal.emptyHtmlContainer.style.visibility="hidden"):(r.internal.cursor.style.visibility="visible",r.internal.container.style.cursor="text",r.internal.container.onclick=function(n){s(r,n)},r.internal.state.readonly=!1,r.internal.emptyHtmlContainer.style.visibility="visible"),i(r)})},updateSuggestions:function(t){return this.each(function(){var r=n(this).data("lookUpTextBox"),i;if(r.internal.lookUps=[],t)for(i=0;i<t.length;i++)r.internal.lookUps[i]=t[i];r.internal.lookUpsIndex=-1,v(r)})},removeByIndex:function(t){return this.each(function(){var r=n(this).data("lookUpTextBox"),e,f;if(t>=0&&t<r.internal.selectedLookUps.length){for(e=[],f=0;f<r.internal.selectedLookUps.length;f++)f!=t&&(e[e.length]=r.internal.selectedLookUps[f]);r.internal.selectedLookUps=e,i(r),u(r)}})},removeByValue:function(t){return this.each(function(){for(var r=n(this).data("lookUpTextBox"),e=[],o=!1,f=0;f<r.internal.selectedLookUps.length;f++)r.internal.selectedLookUps[f].Value!=t?e[e.length]=r.internal.selectedLookUps[f]:o=!0;o&&(r.internal.selectedLookUps=e,i(r),u(r))})},add:function(t){return this.each(function(){if(t!=null&&t.SelectedHtml){var r=n(this).data("lookUpTextBox");r.internal.selectedLookUps[r.internal.selectedLookUps.length]=t,i(r),u(r)}})},getByIndex:function(n){var t=this.data("lookUpTextBox");return t&&n>=0&&n<t.internal.selectedLookUps.length?t.internal.selectedLookUps[n]:null},count:function(){var n=this.data("lookUpTextBox");return n?n.internal.selectedLookUps.length:0},getCurrentSearchText:function(){var n=this.data("lookUpTextBox");return n?n.internal.lastCursorValue:""},createLookUp:function(n,t,i,r){var u={};return u.Value=n,u.SelectedHtml=t,u.SuggestedHtml=i,u.Selectable=r,u}},k=function(t){return this.each(function(){var i={settings:n.extend({},n.fn.glowLookUpTextBox.defaults,t||{}),internal:{state:this,cursorContainer:null,cursor:null,cursorText:null,lookUpsContainer:null,lookUpsIndex:null,lookUpsIndex:-1,popupPanel:null,lookUps:[],lastCursorValue:"",selectedLookUps:[],mouseIsOverPopup:!1,emptyHtmlContainer:null,cursorHasFocus:!1,cursorChangeHandler:null,height:18,backgroundColor:"#ffffff",lineHeight:"100%",initialized:!1}};n(this).data("lookUpTextBox",i),l(i)})},l=function(i){var u,f;if(i.internal.state.offsetHeight){if(i.internal.state.disabled&&(i.internal.state.disabled=!1,i.internal.state.readonly=!0),i.internal.backgroundColor=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"background-color","backgroundColor","#ffffff"),i.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!=""&&(i.internal.backgroundColor="#ffffff"),i.internal.height=i.internal.state.offsetHeight-(parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"padding-top","paddingTop","0px"),10)+parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"padding-bottom","paddingBottom","0px"),10)+parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"border-top-width","borderTopWidth","0px"),10)+parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"border-bottom-width","borderBottomWidth","0px"),10)),i.internal.height<=0&&(i.internal.height=18),i.internal.lineHeight=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"line-height","lineHeight","100%"),i.internal.container=document.createElement("div"),i.internal.container.style.width=i.internal.state.offsetWidth-(parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"padding-left","paddingLeft","0px"),10)+parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"padding-right","paddingRight","0px"),10)+parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"border-left-width","borderLeftWidth","0px"),10)+parseInt(n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"border-right-width","borderRightWidth","0px"),10))+"px",i.internal.container.style.backgroundColor=i.internal.backgroundColor,i.internal.container.style.color=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"color","color","#000000"),i.internal.container.style.borderStyle="solid",i.internal.container.style.borderWidth="1px",i.internal.container.style.borderColor="#999999",i.internal.container.style.padding="2px",i.internal.container.style.display="block",i.internal.container.style.overflow="hidden",i.internal.state.parentNode.insertBefore(i.internal.container,i.internal.state),i.internal.cursorContainer=document.createElement("div"),i.internal.cursorContainer.style.cssFloat="left",i.internal.cursorContainer.style.styleFloat="left",i.internal.cursorContainer.style.backgroundColor=i.internal.backgroundColor,i.internal.cursorContainer.style.borderWidth="0px",i.internal.cursorContainer.style.padding="1px 5px 5px 5px",i.internal.cursorContainer.style.overflow="hidden",i.internal.cursorContainer.style.width="auto",i.internal.cursorContainer.style.minWidth="20px",i.internal.cursorContainer.style.position="relative",i.internal.cursorContainer.style.height=i.internal.height+"px",i.internal.cursorContainer.style.lineHeight=i.internal.lineHeight,i.internal.emptyHtmlContainer=document.createElement("div"),i.internal.emptyHtmlContainer.style.position="absolute",i.internal.emptyHtmlContainer.style.top="3px",i.internal.emptyHtmlContainer.style.left="3px",i.internal.emptyHtmlContainer.innerHTML=i.settings.emptyHtml,i.internal.cursorContainer.appendChild(i.internal.emptyHtmlContainer),i.internal.cursor=document.createElement("input"),i.internal.cursor.type="text",i.internal.cursor.style.backgroundColor=i.internal.backgroundColor,i.internal.cursor.style.fontFamily=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-family","fontFamily","Arial, Helvetica"),i.internal.cursor.style.fontSize=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-size","fontSize","100%"),i.internal.cursor.style.lineHeight=i.internal.lineHeight,i.internal.cursor.style.color=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"color","color","#000000"),i.internal.cursor.style.borderWidth="0px",i.internal.cursor.style.padding="0px",i.internal.cursor.style.height=i.internal.height+"px",i.internal.cursor.style.width="100%",i.internal.cursor.onkeydown=function(n){return y(i,n)},i.internal.cursor.onkeyup=function(n){return r(i,n)},i.internal.cursor.onchange=function(n){return r(i,n)},i.internal.cursor.onpaste=function(n){return r(i,n)},i.internal.cursor.onblur=function(n){return w(i,n)},i.internal.cursor.onclick=function(n){return s(i,n)},i.internal.cursor.onfocus=function(n){return d(i,n)},i.internal.cursor.tabIndex=i.internal.state.tabIndex,i.internal.cursorContainer.appendChild(i.internal.cursor),i.internal.container.appendChild(i.internal.cursorContainer),u=document.createElement("div"),u.style.clear="both",i.internal.container.appendChild(u),u=document.createElement("div"),i.internal.container.appendChild(u),i.internal.popupPanel=n(u),i.internal.popupPanel.glowPopUpPanel({cssClass:"",position:"updown",zIndex:1e3,hideOnDocumentClick:!0}).bind({glowPopUpPanelHidden:function(){i.internal.mouseIsOverPopup=!1},glowPopUpPanelMouseOver:function(){i.internal.mouseIsOverPopup=!0},glowPopUpPanelMouseOut:function(){i.internal.mouseIsOverPopup=!1}}),i.internal.popupPanel.glowPopUpPanel("empty"),i.internal.lookUpsContainer=document.createElement("div"),i.internal.lookUpsContainer.style.borderStyle="outset",i.internal.lookUpsContainer.style.borderWidth="1px",i.internal.lookUpsContainer.style.borderColor="#999999",i.internal.lookUpsContainer.style.height=n.telligent.glow.utility.getWindowInfo().Height/4+24+"px",i.internal.lookUpsContainer.style.width=i.internal.state.offsetWidth-4+"px",i.internal.lookUpsContainer.style.overflow="auto",i.internal.lookUpsContainer.style.overflowX="hidden",i.internal.lookUpsContainer.style.padding="1px",i.internal.lookUpsContainer.style.backgroundColor=i.internal.backgroundColor,i.internal.lookUpsContainer.style.fontFamily=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-family","fontFamily","Arial, Helvetica"),i.internal.lookUpsContainer.style.fontSize=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-size","fontSize","100%"),i.internal.lookUpsContainer.style.lineHeight=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"line-height","lineHeight","100%"),i.internal.lookUpsContainer.style.color=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"color","color","#000000"),i.internal.popupPanel.glowPopUpPanel("append",i.internal.lookUpsContainer),i.internal.state.style.display="none",u=i.internal.state.value.split(i.settings.delimiter),u.length==i.settings.selectedLookUpsHtml.length)for(i.internal.selectedLookUps=[],f=0;f<u.length;f++)i.internal.selectedLookUps[i.internal.selectedLookUps.length]=t.createLookUp(u[f],i.settings.selectedLookUpsHtml[f],i.settings.selectedLookUpsHtml[f],!0);i.internal.initialized=!0,v(i),t.disabled.apply(n(i.internal.state),[i.internal.state.readonly===!0])}else window.setTimeout(function(){l(i)},249)},b=function(n){n.internal.lookUpsContainer.style.overflow="hidden",n.internal.lookUpsContainer.style.height="200px",n.internal.popupPanel.glowPopUpPanel("show",n.internal.container,n.internal.popupPanel.glowPopUpPanel("isShown")),window.setTimeout(function(){a(n)},49)},e=function(n){n.internal.popupPanel&&n.internal.popupPanel.glowPopUpPanel("isShown")&&n.internal.popupPanel.glowPopUpPanel("hide")},a=function(n){if(n.internal.popupPanel.glowPopUpPanel("isOpening"))window.setTimeout(function(){a(n)},49);else{try{n.internal.lookUpsContainer.style.overflow="auto",n.internal.lookUpsContainer.style.overflowX="hidden"}catch(t){}n.internal.state.selectedIndex>=0&&_highlightItem(n,n.internal.state.selectedIndex)}},v=function(t){var u,r,i;if(t&&t.internal.initialized){for(;t.internal.lookUpsContainer.childNodes.length>0;)t.internal.lookUpsContainer.removeChild(t.internal.lookUpsContainer.childNodes[0]);if(t.internal.lookUps.length>0){for(u=t.internal.lookUpsIndex,r=0;r<t.internal.lookUps.length;r++)i=document.createElement("div"),i.onmouseover=n.telligent.glow.utility.makeBoundFunction(f,null,[t,r]),i.onclick=n.telligent.glow.utility.makeBoundFunction(p,null,[t,r]),i.style.padding="2px",i.style.cursor="pointer",i.style.borderStyle="dotted",i.style.borderWidth="1px",i.style.borderColor=t.internal.backgroundColor,i.innerHTML=t.internal.lookUps[r].SuggestedHtml,t.internal.lookUpsContainer.appendChild(i);(u<0||u>=t.internal.lookUps.length)&&(u=0),f(t,u),b(t)}else e(t)}},i=function(i){for(var e,f,u,r;i.internal.container.childNodes.length>3;)i.internal.container.removeChild(i.internal.container.childNodes[0]);for(e=0;e<i.internal.selectedLookUps.length;e++)f=document.createElement("div"),f.style.padding="2px",i.settings.maxValues!=1&&(f.style.cssFloat="left",f.style.styleFloat="left"),u=document.createElement("div"),u.style.borderStyle="solid",u.style.borderColor="#bbbbbb",u.style.backgroundColor="#eeeeee",u.style.borderWidth="1px",u.style.padding="2px",u.style.paddingRight="6px",t.disabled.apply(n(i.internal.state))&&(u.style.paddingLeft="6px"),u.style.height=i.internal.height+"px",u.style.lineHeight=i.internal.lineHeight,u.style.whiteSpace="nowrap",u.style.cursor="default",u.style.fontFamily=i.internal.cursor.style.fontFamily,u.style.fontSize=i.internal.cursor.style.fontSize,t.disabled.apply(n(i.internal.state))||(i.settings.deleteImageUrl?(r=document.createElement("img"),r.src=i.settings.deleteImageUrl,r.align="top",r.style.padding="4px",r.style.paddingRight="6px",r.style.cursor="pointer",r.onclick=n.telligent.glow.utility.makeBoundFunction(h,null,[i,e]),u.appendChild(r)):(r=document.createElement("a"),r.href="#",r.onclick=n.telligent.glow.utility.makeBoundFunction(h,null,[i,e]),r.style.textDecoration="none",r.style.color="#f00",r.style.fontWeight="bold",r.style.fontSize="80%",r.style.lineHeight=i.internal.lineHeight,r.style.marginLeft="4px",r.style.marginRight="6px",r.innerHTML="X",u.appendChild(r))),r=document.createElement("span"),r.innerHTML=i.internal.selectedLookUps[e].SelectedHtml,r.style.cursor="default",u.appendChild(r),f.appendChild(u),i.internal.container.insertBefore(f,i.internal.cursorContainer);i.settings.maxValues>0&&i.settings.maxValues==i.internal.selectedLookUps.length?(i.internal.container.childNodes[i.internal.container.childNodes.length-2].style.display="none",i.internal.container.childNodes[i.internal.container.childNodes.length-3].style.display="none"):(i.internal.container.childNodes[i.internal.container.childNodes.length-2].style.display="inline",i.internal.container.childNodes[i.internal.container.childNodes.length-3].style.display="inline")},h=function(i,r){return t.removeByIndex.apply(n(i.internal.state),[r]),n(i.internal.state).trigger("glowLookUpTextBoxChange"),!1},o=function(r,f){if(r.internal.lookUps[f]&&r.internal.lookUps[f].Selectable){if(!r.settings.allowDuplicates)for(var o=0;o<r.internal.selectedLookUps.length;o++)if(r.internal.selectedLookUps[o].Value==r.internal.lookUps[f].Value)return;r.internal.selectedLookUps[r.internal.selectedLookUps.length]=t.createLookUp(r.internal.lookUps[f].Value,r.internal.lookUps[f].SelectedHtml),r.internal.cursor.value="",e(r),i(r),u(r);try{r.internal.cursor.focus()}catch(s){}n(r.internal.state).trigger("glowLookUpTextBoxChange")}},f=function(n,t){if(n.internal.lookUps[t]&&n.internal.lookUps[t].Selectable){var i=n.internal.lookUpsContainer.childNodes[t];i.style.backgroundColor="#cccccc",i.style.borderColor="#666666",i.offsetTop+i.offsetHeight>n.internal.lookUpsContainer.scrollTop+n.internal.lookUpsContainer.offsetHeight?n.internal.lookUpsContainer.scrollTop=i.offsetTop+i.offsetHeight-n.internal.lookUpsContainer.offsetHeight:i.offsetTop<n.internal.lookUpsContainer.scrollTop&&(n.internal.lookUpsContainer.scrollTop=i.offsetTop),n.internal.lookUpsIndex>=0&&n.internal.lookUpsIndex!=t&&(i=n.internal.lookUpsContainer.childNodes[n.internal.lookUpsIndex],i.style.backgroundColor=n.internal.backgroundColor,i.style.borderColor=n.internal.backgroundColor),n.internal.lookUpsIndex=t}},p=function(n,t){return o(n,t),!1},c=function(n){n.internal.lastCursorValue!=n.internal.cursor.value&&n.internal.cursor.value.length>0?r(n):n.internal.cursorChangeHandler=window.setTimeout(function(){c(n)},149)},r=function(t,i){if(i||(i=window.event),t.internal.lastCursorValue!=t.internal.cursor.value){if(t.internal.cursorChangeHandler&&window.clearTimeout(t.internal.cursorChangeHandler),t.settings.maxValues>0&&t.internal.selectedLookUps.length>=t.settings.maxValues)return window.setTimeout(function(){t.internal.cursor.value=""},19),!1;t.internal.lastCursorValue=t.internal.cursor.value,t.internal.lastCursorValue!=""?t.settings.onGetLookUps&&t.settings.onGetLookUps(n(t.internal.state),t.internal.lastCursorValue):e(t)}return!0},d=function(n){n.internal.emptyHtmlContainer.style.display="none",n.internal.cursorHasFocus=!0,n.internal.cursorChangeHandler=window.setTimeout(function(){c(n)},149)},w=function(n){n.internal.cursorChangeHandler&&clearTimeout(n.internal.cursorChangeHandler),n.internal.cursorHasFocus=!1,window.setTimeout(function(){n.internal.cursor.value="",n.internal.lastCursorValue="",n.internal.mouseIsOverPopup||e(n),n.internal.selectedLookUps.length!=0||n.internal.cursorHasFocus||(n.internal.emptyHtmlContainer.style.display="block")},99)},y=function(i,r){if(r||(r=window.event),r.keyCode==8)return i.internal.selectedLookUps.length>0&&n.telligent.glow.utility.getCurrentCursorIndex(i.internal.cursor)==0&&(t.removeByIndex.apply(n(i.internal.state),[i.internal.selectedLookUps.length-1]),n(i.internal.state).trigger("glowLookUpTextBoxChange")),!0;if(r.keyCode==38||r.keyCode==40||r.keyCode==13)return r.keyCode==38?i.internal.popupPanel.glowPopUpPanel("isShown")&&i.internal.lookUpsIndex>0&&f(i,i.internal.lookUpsIndex-1):r.keyCode==40?i.internal.popupPanel.glowPopUpPanel("isShown")&&i.internal.lookUpsIndex<i.internal.lookUps.length-1&&f(i,i.internal.lookUpsIndex+1):r.keyCode==13&&(i.internal.popupPanel.glowPopUpPanel("isShown")&&i.internal.lookUpsIndex>=0?o(i,i.internal.lookUpsIndex):(i.internal.cursor.value="",i.internal.lastCursorValue="")),r.cancelBubble=!0,r.preventDefault&&r.preventDefault(),r.stopProgagation&&r.stopPropagation(),!1;if(r.keyCode==9)i.internal.popupPanel.glowPopUpPanel("isShown")&&i.internal.lookUpsIndex>=0?o(i,i.internal.lookUpsIndex):(i.internal.cursor.value="",i.internal.lastCursorValue="");else if(i.settings.maxValues>0&&i.internal.selectedLookUps.length>=i.settings.maxValues)return r.cancelBubble=!0,r.preventDefault&&r.preventDefault(),r.stopProgagation&&r.stopPropagation(),!1;return!0},s=function(n){n.internal.emptyHtmlContainer.style.display="none";try{n.internal.cursor.focus()}catch(t){}return!1},u=function(n){for(var i=[],t=0;t<n.internal.selectedLookUps.length;t++)i[i.length]=n.internal.selectedLookUps[t].Value;n.internal.state.value=i.join(n.settings.delimiter)};n.fn.glowLookUpTextBox=function(i){if(i in t)return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.fn.glowLookUpTextBox");else return k.apply(this,arguments)},n.extend(n.fn.glowLookUptextBox,{defaults:{delimiter:",",allowDuplicates:!1,maxValues:0,onGetLookUps:null,emptyHtml:"",selectedLookUpsHtml:[],deleteImageUrl:""}})}(jQuery),function(n,t){var f=function(u,f){var s={},o,h;if(s=u&&n.isPlainObject(u)?n.extend({},n.glowModal.defaults,u||{}):n.extend({},n.glowModal.defaults,f||{},{url:u}),s.openerWindow||(s.openerWindow=t),o=r(s.openerWindow),o)o.$.glowModal(s);else{for(o=null,h=0;h<i.length;h++)if(!i[h].shown()){o=i[h];break}o||(i[i.length]=new e("telligent_modal_"+i.length),o=i[i.length-1]),o.open(s)}};n.extend(f,{defaults:{width:300,height:300,onClose:null,x:null,y:null,ignoreCloseAndAnimation:null,isManuallyresized:null,loadingHtmlUrl:"",windowCssClasses:[],windowTitleCssClasses:[],windowCloseCssClasses:[],windowContentCssClasses:[],windowMaskCssClasses:[],windowFooterCssClasses:[],windowResizeCssClasses:[],zIndex:1e3,enableAnimation:!1,enableAutoResizing:!0,openInParentModal:!0,url:null,html:null,title:null},close:function(n,i){i||(i=t);var f=r(i);f?f.$.glowModal.close(n,i):(f=u(i))&&f.close(n)},moveTo:function(n,i,f){f||(f=t);var e=r(f);e?e.$.glowModal.moveTo(n,i,f):(f=u(f))&&f.moveTo(n,i)},resize:function(n,i,f,e){e||(e=t);var o=r(e);o?o.$.glowModal.resize(n,i,f,e):(e=u(e))&&e.resize(n,i,f)},refresh:function(u){u||(u=t);var f=r(u);f?f.$.glowModal.refresh(u):n.each(i,function(n,t){t.refresh()})},opener:function(n,u){u||(u=t);var f=r(u);return f?f.$.glowModal.getWindowopener(n,u):(f=o(i,function(t){return t.shown()&&t._modalIframe.contentWindow==n}),f!==null?f._openerWindow:null)},visible:function(n){n||(n=t);var i=r(n);return i?i.$.glowModal.shown(n):(n=u(n))?n.shown():!1}}),n.extend({glowModal:f});var i=[],o=function(t,i){var r=n.grep(t,i);return r!==null&&r.length>0?r[0]:null},r=function(){if(f.defaults.openInParentModal)try{if(t.parent&&t.parent!=t&&parent.$&&parent.$.glowModal)return t.parent}catch(n){}return null},u=function(n){return o(i,function(t){return t.shown()&&t._openerWindow==n})},e=function(n){this._id=n,this._initialized=this._isShown=!1,this._animationHandle=this._modalContent=this._modalFooter=this._modalResize=this._modalIframe=this._modalMask=this._modalAnimationMask=this._modalClose=this._modalTitle=this._modal=null,this._isOpening=!1,this._lastWindowInfo=this._lastModalInfo=this._checkForScrollresizeHandle=null,this._isDragging=!1,this._resizeModalInfo=this._moveModalInfo=null,this._isResizing=!1};n.extend(e.prototype,{_animate:function(i,r,u,f){var o,e;this._animationHandle&&t.clearTimeout(this._animationHandle),this._isOpening&&(o=parseInt(this._modal.style.top,10),u<0&&o<i||u>0&&o>i||Math.abs(u)<1?(this._modal.style.top=i+"px",this._modalAnimationMask.style.overflow="visible",this._animationHandle=null,this._isResizing||this._isDragging||!this._settings.url||(this._modalIframe.style.visibility="visible"),this._isOpening=!1,this._lastWindowInfo=n.telligent.glow.utility.getWindowInfo(),e=this,this._checkForScrollresizeHandle=t.setTimeout(function(){e._checkForScrollresize()},249)):(this._modal.style.top=r+"px",r+=u,u>0&&r>i?r=i:u<0&&r<i&&(r=i),u*=f,e=this,this._animationHandle=t.setTimeout(function(){e._animate(i,r,u,f)},19)))},_startDrag:function(i){this._initialized||this._initialize(),i||(i=t.event),this._moveModalInfo={},this._moveModalInfo.StartMouseX=i.pageX?i.pageX:i.screenX,this._moveModalInfo.StartMouseY=i.pageY?i.pageY:i.screenY,this._moveModalInfo.StartModalX=this._lastModalInfo.X,this._moveModalInfo.StartModalY=this._lastModalInfo.Y,this._moveModalInfo.Button=i.button;var r=this;n(document).bind("mouseup.glowModal",function(n){return r._endDrag(n),!1}).bind("mousemove.glowModal",function(n){return r._drag(n),!1}),this._isDragging=!0,this._modalIframe&&(this._modalIframe.style.visibility="hidden")},_endDrag:function(){this._initialized||this._initialize(),n(document).unbind("mouseup.glowModal").unbind("mousemove.glowModal"),this._settings.url&&(this._modalIframe.style.visibility="visible"),this._isDragging=!1,this._moveModalInfo=null},_drag:function(n){this._initialized||this._initialize(),n||(n=t.event),n.button!=this._moveModalInfo.Button?this._endDrag(n):this.moveTo(this._moveModalInfo.StartModalX+((typeof n.pageX!="undefined"?n.pageX:n.screenX)-this._moveModalInfo.StartMouseX),this._moveModalInfo.StartModalY+((typeof n.pageY!="undefined"?n.pageY:n.screenY)-this._moveModalInfo.StartMouseY))},_startresize:function(i){this._initialized||this._initialize(),i||(i=t.event),this._resizeModalInfo={},this._resizeModalInfo.StartMouseX=i.pageX?i.pageX:i.screenX,this._resizeModalInfo.StartMouseY=i.pageY?i.pageY:i.screenY,this._resizeModalInfo.StartModalWidth=this._lastModalInfo.Width,this._resizeModalInfo.StartModalHeight=this._lastModalInfo.Height,this._resizeModalInfo.Button=i.button;var r=this;n(document).bind("mouseup.glowModal",function(n){return r._endresize(n),!1}).bind("mousemove.glowModal",function(n){return r._resize(n),!1}),this._modalIframe&&(this._modalIframe.style.visibility="hidden"),this._isResizing=!0},_endresize:function(){this._initialized||this._initialize(),this._isResizing=!1,this._resizeModalInfo=null,n(document).unbind("mouseup.glowModal").unbind("mousemove.glowModal"),this._settings.url&&(this._modalIframe.style.visibility="visible")},_resize:function(n){this._initialized||this._initialize(),n||(n=t.event),n.button!=this._resizeModalInfo.Button?this._endresize(n):this.resize(this._resizeModalInfo.StartModalWidth+((typeof n.pageX!="undefined"?n.pageX:n.screenX)-this._resizeModalInfo.StartMouseX),this._resizeModalInfo.StartModalHeight+((typeof n.pageY!="undefined"?n.pageY:n.screenY)-this._resizeModalInfo.StartMouseY),!0)},_checkForScrollresize:function(){var i,o,e,f,s;if(this._checkForScrollresizeHandle&&t.clearTimeout(this._checkForScrollresizeHandle),this._isShown&&!this._isOpening&&this._lastWindowInfo){if(this._settings.title)n(this._modalTitle.childNodes[1]).html(this._settings.title);else if(this._settings.url)try{document.all?this._modalTitle.childNodes[1].innerText=this._modalIframe.contentWindow.document.title:this._modalTitle.childNodes[1].textContent=this._modalIframe.contentWindow.document.title}catch(y){}if(i=n.telligent.glow.utility.getWindowInfo(),i.ScrollX!=this._lastWindowInfo.ScrollX||i.ScrollY!=this._lastWindowInfo.ScrollY||i.Width!=this._lastWindowInfo.Width||i.Height!=this._lastWindowInfo.Height)this.resize(this._lastModalInfo.Width,this._lastModalInfo.Height,!1);else{if(this._settings.enableAutoResizing&&!this._isDragging&&!this._isResizing)try{if(this._settings.url&&(o=this._modalIframe.contentWindow.document,!o.readyState||o.readyState=="complete")){var c=n.telligent.glow.utility.getWindowInfo(this._modalIframe.contentWindow),r=c.ContentHeight,u=c.ContentWidth,l=n.telligent.glow.utility.getStyleOffset(this._modalContent),a=this._modal.offsetHeight-this._modalContent.offsetHeight-l.Height,h=this._modal.offsetWidth-this._modalContent.offsetWidth-l.Width;if(r>i.Height-a&&(r=i.Height-a),u>i.Width-h&&(u=i.Width-h),e=r!=this._lastModalInfo.Height&&(r>this._lastModalInfo.Height||this._lastModalInfo.Height-r>64&&r>32)&&(!this._lastModalInfo.IsManuallyresized||r>this._lastModalInfo.Height),f=u!=this._lastModalInfo.Width&&(u>this._lastModalInfo.Width||this._lastModalInfo.Width-u>64&&u>32)&&(!this._lastModalInfo.IsManuallyresized||u>this._lastModalInfo.Width),e||f){this.resize(f?u:this._lastModalInfo.Width,e?r:this._lastModalInfo.Height,!1);return}}}catch(v){}s=this,this._checkForScrollresizeHandle=t.setTimeout(function(){s._checkForScrollresize()},249)}}},_initialize:function(){var i,t,u,r;if(this._modalMask=document.createElement("div"),this._modalMask.style.height="0",this._modalMask.style.position="absolute",this._modalMask.style.visibility="hidden",this._modalMask.style.overflow="hidden",i=this._modalMask,this._settings.windowMaskCssClasses.length>0)for(i.className=this._settings.windowMaskCssClasses[0],t=1;t<this._settings.windowMaskCssClasses.length;t++)i.appendChild(document.createElement("div")),i=i.childNodes[0],i.className=this._settings.windowMaskCssClasses[t],i.style.width="auto",i.style.height="auto";if(document.body.appendChild(this._modalMask),this._modalAnimationMask=document.createElement("div"),this._modalAnimationMask.style.position="absolute",this._modalAnimationMask.style.visibility="hidden",this._modalAnimationMask.style.overflow="hidden",this._modalAnimationMask.style.height="0",this._modal=document.createElement("div"),this._modal.style.width="auto",this._modal.style.height="auto",this._modal.style.position="absolute",this._modal.style.visibility="hidden",i=this._modal,this._settings.windowCssClasses.length>0)for(i.className=this._settings.windowCssClasses[0],t=1;t<this._settings.windowCssClasses.length;t++)i.appendChild(document.createElement("div")),i=i.childNodes[0],i.className=this._settings.windowCssClasses[t],i.style.width="auto",i.style.height="auto";if(this._modalTitle=document.createElement("div"),i.appendChild(this._modalTitle),this._settings.windowTitleCssClasses.length>0)for(this._modalTitle.className=this._settings.windowTitleCssClasses[0],t=1;t<this._settings.windowTitleCssClasses.length;t++)this._modalTitle.appendChild(document.createElement("div")),this._modalTitle=this._modalTitle.childNodes[0],this._modalTitle.className=this._settings.windowTitleCssClasses[t];if(u=this,n(this._modalTitle).bind("mousedown.glowModal",function(n){return u._startDrag(n),!1}),this._modalClose=document.createElement("div"),this._modalTitle.appendChild(this._modalClose),r=this._modalClose,this._settings.windowCloseCssClasses.length>0)for(r.className=this._settings.windowCloseCssClasses[0],t=1;t<this._settings.windowCloseCssClasses.length;t++)r.appendChild(document.createElement("div")),r=r.childNodes[0],r.className=this._settings.windowCloseCssClasses[t];if(u=this,n(this._modalClose).bind("click.glowModal",function(){return u.close(),!1}),this._modalTitle.appendChild(document.createElement("span")),t=document.createElement("div"),t.style.clear="both",this._modalTitle.appendChild(t),this._modalContent=document.createElement("div"),i.appendChild(this._modalContent),this._settings.windowContentCssClasses.length>0)for(this._modalContent.className=this._settings.windowContentCssClasses[0],t=1;t<this._settings.windowContentCssClasses.length;t++)this._modalContent.appendChild(document.createElement("div")),this._modalContent=this._modalContent.childNodes[0],this._modalContent.className=this._settings.windowContentCssClasses[t];if(this._settings.url?(this._modalIframe=document.createElement("iframe"),this._modalIframe.src=this._settings.loadingHtmlUrl,this._modalIframe.width="100%",this._modalIframe.border="0",this._modalIframe.frameBorder="0",this._modalIframe.style.borderLeftWidth="0px",this._modalIframe.style.borderRightWidth="0px",this._modalIframe.style.borderTopWidth="0px",this._modalIframe.style.borderBottomWidth="0px",this._modalIframe.id=this._id+"_iframe",this._modalContent.appendChild(this._modalIframe)):this._settings.html&&n(this._modalContent).html(this._settings.html),this._modalFooter=document.createElement("div"),i.appendChild(this._modalFooter),i=this._modalFooter,this._settings.windowFooterCssClasses.length>0)for(i.className=this._settings.windowFooterCssClasses[0],t=1;t<this._settings.windowFooterCssClasses.length;t++)i.appendChild(document.createElement("div")),i=i.childNodes[0],i.className=this._settings.windowFooterCssClasses[t];if(this._modalResize=document.createElement("div"),i.appendChild(this._modalResize),t=document.createElement("div"),t.style.clear="both",i.appendChild(t),i=this._modalResize,this._settings.windowResizeCssClasses.length>0)for(i.className=this._settings.windowResizeCssClasses[0],t=1;t<this._settings.windowResizeCssClasses.length;t++)i.appendChild(document.createElement("div")),i=i.childNodes[0],i.className=this._settings.windowResizeCssClasses[t];u=this,n(this._modalResize).bind("mousedown.glowModal",function(n){return u._startresize(n),!1}),this._modalAnimationMask.appendChild(this._modal),document.body.appendChild(this._modalAnimationMask),this._initialized=!0},shown:function(){return this._isShown},resize:function(n,t,i){this._isShown&&!this._isOpening&&this._lastModalInfo&&this.open({url:this._settings.url,html:this._settings.html,title:this._settings.title,width:n,height:t,onClose:this._lastModalInfo.onClose,x:this._lastModalInfo.X,y:this._lastModalInfo.Y,ignorecloseAndAnimation:!0,isManuallyresized:i?!0:this._lastModalInfo.IsManuallyresized})},moveTo:function(n,t){this._isShown&&!this._isOpening&&this._lastModalInfo&&this.open({url:this._settings.url,html:this._settings.html,title:this._settings.title,width:this._lastModalInfo.Width,height:this._lastModalInfo.Height,onClose:this._lastModalInfo.onClose,x:n,y:t,ignorecloseAndAnimation:!0,isManuallyresized:this._lastModalInfo.IsManuallyresized})},open:function(i){var r;this._settings=n.extend({},n.glowModal.defaults,i),i=this._settings.onClose;var f=this._settings.x,e=this._settings.y,o=this._settings.ignorecloseAndAnimation,s=this._settings.isManuallyresized,u=this._settings.openerWindow;if(u&&(this._openerWindow=u),!o&&this._isShown&&this.close(),this._initialized||this._initialize(),this._settings.title)n(this._modalTitle.childNodes[1]).html(this._settings.title);else if(this._settings.url){try{document.all?this._modalTitle.childNodes[1].innerText=this._modalIframe.contentWindow.document.title:this._modalTitle.childNodes[1].textContent=this._modalIframe.contentWindow.document.title}catch(c){}!o&&this._settings.url&&(this._modalIframe.src=this._settings.url);try{this._settings.url&&(this._modalIframe.contentWindow.opener=t)}catch(h){}}this._lastWindowInfo=n.telligent.glow.utility.getWindowInfo(),o||(this._modalAnimationMask.style.position="absolute",this._modalAnimationMask.style.zIndex=this._settings.zIndex,this._modalAnimationMask.style.visibility="hidden",this._modalAnimationMask.style.height="auto",this._modalAnimationMask.style.overflow="hidden",this._modal.style.position="absolute",this._modal.style.visibility="hidden",this._modal.style.left="0px",this._modal.style.top="0px",this._modalMask.style.position="absolute",this._modalMask.style.visibility="visible",this._modalMask.style.zIndex=this._settings.zIndex,this._modalMask.style.height="auto"),r=n.telligent.glow.utility.getStyleOffset(this._modalContent),u=this._modal.offsetWidth-this._modalContent.offsetWidth-r.Width,r=this._modal.offsetHeight-this._modalContent.offsetHeight-r.Height,this._settings.width+u>this._lastWindowInfo.Width&&(this._settings.width=this._lastWindowInfo.Width-u),this._modalAnimationMask.style.width=this._settings.width+"px",this._modalContent.style.width=this._settings.width+"px",this._settings.height+r>this._lastWindowInfo.Height&&(this._settings.height=this._lastWindowInfo.Height-r),this._settings.width<this._modalResize.offsetWidth*2&&(this._settings.width=this._modalResize.offsetWidth*2),this._settings.width<this._modalClose.offsetWidth*2&&(this._settings.width=this._modalClose.offsetWidth*2),this._settings.height<this._modalTitle.offsetHeight+this._modalFooter.offsetHeight&&(this._settings.height=this._modalTitle.offsetHeight+this._modalFooter.offsetHeight-r),this._settings.url&&(this._modalIframe.style.height=this._settings.height+"px",this._modalIframe.style.width=this._settings.width+"px"),this._modalContent.style.height=this._settings.height+"px",this._modalContent.style.width=this._settings.width+"px",this._modalAnimationMask.style.width=this._modal.offsetWidth+"px",this._modalAnimationMask.style.height=this._modal.offsetHeight+"px",this._modalMask.style.left="0px",this._modalMask.style.top="0px",this._modalMask.style.width=this._lastWindowInfo.ContentWidth+"px",this._modalMask.style.height=this._lastWindowInfo.ContentHeight+"px",this._lastWindowInfo=n.telligent.glow.utility.getWindowInfo(),u=this._modal.offsetWidth,r=this._modal.offsetHeight,(typeof f=="undefined"||isNaN(parseInt(f,10)))&&(f=(this._lastWindowInfo.Width-u)/2+this._lastWindowInfo.ScrollX),f+u>this._lastWindowInfo.Width+this._lastWindowInfo.ScrollX&&(f=this._lastWindowInfo.Width+this._lastWindowInfo.ScrollX-u),f<this._lastWindowInfo.ScrollX&&(f=this._lastWindowInfo.ScrollX),(typeof e=="undefined"||isNaN(parseInt(e,10)))&&(e=(this._lastWindowInfo.Height-r)/2+this._lastWindowInfo.ScrollY),e+r>this._lastWindowInfo.Height+this._lastWindowInfo.ScrollY&&(e=this._lastWindowInfo.Height+this._lastWindowInfo.ScrollY-r),e<this._lastWindowInfo.ScrollY&&(e=this._lastWindowInfo.ScrollY),this._modalAnimationMask.style.left=f+"px",this._modalAnimationMask.style.top=e+"px",this._modalAnimationMask.style.overflow="hidden",o||(this._modal.style.visibility="visible",this._modalAnimationMask.style.visibility="visible",n.telligent.glow.utility.hideSelectBoxes(this._modalAnimationMask,!0)),this._isOpening=!0,!this.EnableAnimation||o?this._animate(0,0,0,0):(this._settings.url&&(this._modalIframe.style.visibility="hidden"),this._animate(0,-r,r/3,.67)),this._lastModalInfo={Url:this._settings.url?this._modalIframe.src:null,onClose:i,X:f,Y:e,Width:parseInt(this._settings.width,10),Height:parseInt(this._settings.height,10),IsManuallyresized:s},this._isShown=!0},close:function(i){if(this._isShown){this._initialized||this._initialize(),this._modal.style.position="absolute",this._modal.style.visibility="hidden",this._modal.style.height="0",this._modalAnimationMask.style.position="absolute",this._modalAnimationMask.style.visibility="hidden",this._modalAnimationMask.style.height="0",this._modalMask.style.position="absolute",this._modalMask.style.visibility="hidden",this._settings.url&&(this._modalIframe.src=this._settings.loadingHtmlUrl);var r=this._lastModalInfo.onClose;this._isShown=!1,this._globalInfo=this._lastModalInfo=null,n.telligent.glow.utility.showSelectBoxes(this._modalAnimationMask),r&&t.setTimeout(function(){r(i)},9),this.dispose()}},refresh:function(){this._animationHandle&&t.clearTimeout(this._animationHandle),this.dispose(),this._isShown&&this._lastModalInfo&&this.resize(this._lastModalInfo.Width,this._lastModalInfo.Height,!1)},dispose:function(){this._initialized&&(this._animationHandle&&t.clearTimeout(this._animationHandle),this._isOpening=this._isShown=!1,document&&document.body&&(document.body.removeChild(this._modalAnimationMask),document.body.removeChild(this._modalMask),n(this._modalClose).unbind("click.glowModal"),n(this._modalTitle).unbind("mousedown.glowModal"),n(this._modalResize).unbind("mousedown.glowModal"),this._modalContent=this._modalFooter=this._modalResize=this._modalIframe=this._modalMask=this._modalAnimationMask=this._modalClose=this._modalTitle=this._modal=null),this._initialized=!1)}})}(jQuery,window),function(n,t){var s={val:function(){var t=n(this).data(o).files;return t!==null?n.map(t,function(n){return{name:n.name}}):[]}},o="_glowMultiUpload",r={begun:"glowMultiUploadBegun",complete:"glowMultiUploadComplete",error:"glowMultiUploadError"},l=function(t){return this.each(function(){var r=n(this),i=n.extend({},n.fn.glowMultiUpload.defaults,t||{},{pluploader:null,files:[],fileOffset:0,uploadedFiles:{},erroredFiles:{},cancelledFiles:{},isUploading:!1,currentUploadPercent:0,fileContainer:null,currentUploadId:0,listContainer:null,uploadButton:null});n.extend(i,{container:r,initialized:!1}),n(this).data(o,i),c(i)})},c=function(n){for(var i,f=["1234567890","0987654321","0192837465","5647382910"],t=[],r=0;r<2500;r++)t[t.length]=f[Math.floor(Math.random()*f.length)];i=+new Date,jQuery.ajax({type:"POST",url:n.uploadUrl,data:{test:t.join("")},success:function(){var t=+new Date;u(n,n.fileList,9e9/(t-i))},error:function(){u(n,n.fileList,1e6)}})},u=function(u,f,e){var o,s;for(/Mozilla[^\(]*\(.*? rv:([0-9]+)\.([0-9]+)\.([0-9]+)/.test(navigator.userAgent)&&(parseInt(RegExp.$1,10)<1||parseInt(RegExp.$2,10)<9||parseInt(RegExp.$3,10)<2)&&(u.runtimes=u.runtimes.replace(/,?flash/i,"")),o=0;o<f.length;o++)s={name:f[o],id:"preuploaded_"+o,status:plupload.DONE,percent:100,size:"unknown",loaded:"unknown"},u.files[u.files.length]=s,u.uploadedFiles[s.id]=!0;u.fileOffset=u.files.length,f="15mb",e<15e6&&(f=Math.floor(e),f<1e6&&(f=1e6),f=Math.floor(e/1e6)+"mb"),e={runtimes:u.runtimes,max_file_size:u.maxFileSize,container:u.container.attr("id"),url:u.uploadUrl,flash_swf_url:u.swfUrl,silverlight_xap_url:u.silverlightUrl,chunk_size:f},u.fileFilter!==null&&(e.filters=u.fileFilter),u.pluploader=new plupload.Uploader(e),u.pluploader.bind("Init",function(){h(u)}),u.pluploader.bind("StateChanged",function(){u.pluploader.state==plupload.STOPPED?u.upload&&(u.upload.disabled=!1):u.pluploader.state==plupload.STARTED&&u.upload&&(u.upload.disabled=!0)}),u.pluploader.bind("FilesAdded",function(n,t){u.addedFiles=t}),u.pluploader.bind("QueueChanged",function(){a(u)}),u.pluploader.bind("UploadProgress",function(n,t){if(t.status==plupload.UPLOADING){if(!u.isUploading||u.currentUploadId!=t.id){var f=!u.isUploading;u.isUploading=!0,u.currentUploadId=t.id,u.currentUploadPercent=0,i(u),f&&u.container.trigger(r.begun)}u.currentUploadPercent=t.percent,i(u)}else t.status==plupload.FAILED&&(u.isUploading=!1,u.erroredFiles[t.id]=!0,u.currentUploadId=null,i(u),u.container.trigger(r.error))}),u.pluploader.bind("FileUploaded",function(n,t){n:{u.uploadedFiles[t.id]=!0,i(u);for(var r=0;r<u.files.length;r++)if(!u.uploadedFiles[u.files[r].id]&&!u.cancelledFiles[u.files[r].id]&&!u.erroredFiles[u.files[r].id])break n;u.isUploading=!1,u.currentUploadId=null,i(u),u.uploadButton&&u.uploadButton.attr("disabled","disabled")}}),u.pluploader.bind("Error",function(t,f){if(!u.initialized){var e=u.notSupportedMessage;e||(e=[],u.runtimes.indexOf("html5")>-1&&e.push("An HTML5 capable browser"),u.runtimes.indexOf("silverlight")>-1&&e.push('<a href="http://microsoft.com/getsilverlight/" target="_blank">Silverlight<\/a>'),u.runtimes.indexOf("flash")>-1&&e.push('<a href="http://get.adobe.com/flashplayer/" target="_blank">Flash<\/a>'),e.length==0?e="Uploading is not supported.":(e.length>1&&(e[e.length-1]="or "+e[e.length-1]),e=e.join(", ")+" is required to upload.")),u.container.children().hide(),n("<div><\/div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:u.width,overflow:"auto",overflowX:"hidden",backgroundColor:"#eee",textAlign:"center",padding:".25em",color:"#000"}).html(e).appendTo(u.container)}f.file&&(u.isUploading=!1,u.erroredFiles[f.file.id]=!0,u.currentUploadId=null,i(u),u.container.trigger(r.error))}),u.pluploader.bind("UploadComplete",function(n,t){v(u,t)}),t.setTimeout(function(){u.pluploader.init()},9),u.container.find('input[type="file"]').hide()},a=function(n){var s,o,u,c,h;if(t.clearTimeout(n.autoUploadHandle),n.addedFiles){for(s=[],o=0;o<n.pluploader.files.length;o++)for(u=0;u<n.addedFiles.length;u++)if(n.pluploader.files[o].id==n.addedFiles[u].id){s[s.length]=n.addedFiles[u];break}for(n.addedFiles=null,u=0;u<s.length;u++)for(o=0;o<n.files.length;o++)if(n.files[o].name==s[u].name&&(e(n,n.files[o].id),n.files[o].status==plupload.QUEUED)){for(c=[],h=0;h<n.files.length;h++)n.files[h].id!=n.files[o].id&&(c[c.length]=n.files[h]);n.files=c}if(n.maxFileCount>0&&n.files.length+s.length>n.maxFileCount){for(u=0;u<s.length;u++)e(n,s[u].id);n.container.trigger(r.error)}else{for(u=0;u<s.length;u++)n.files[n.files.length]=s[u];i(n),n.uploadButton&&n.uploadButton.removeAttr("disabled"),s.length>0&&n.autoUpload&&(n.autoUploadHandle=t.setTimeout(function(){f(n)},499))}}},i=function(n){var u,r;if(t.clearTimeout(n.fileListRefreshHandle),u=+new Date,n.lastFileListRefresh>0&&u-n.lastFileListRefresh<1e3)n.fileListRefreshHandle=t.setTimeout(function(){i(n)},1001-(u-n.lastFileListRefresh));else{for(n.lastFileListRefresh=u,u=[],r=0;r<n.files.length;r++)u[u.length]=n.uploadedFiles[n.files[r].id]?n.uploadedFormat.replace("{0}",n.files[r].name):n.erroredFiles[n.files[r].id]?n.errorFormat.replace("{0}",n.files[r].name):n.cancelledFiles[n.files[r].id]?n.cancelledFormat.replace("{0}",n.files[r].name):n.currentUploadId==n.files[r].id?n.uploadingFormat.replace("{0}",n.files[r].name).replace("{1}",n.currentUploadPercent):n.toUploadFormat.replace("{0}",n.files[r].name).replace("{1}",n.variableName).replace("{2}",n.files[r].id),r===0&&(u[u.length-1]=u[u.length-1].replace(n.firstItemRemove,""));n.listContainer.html(u.join(""))}},v=function(t,i){i=n.map(i||[],function(n){return{file:n.name}}),t.container.trigger(r.complete,i)},h=function(t){var r,u;t.container.children(":not(.plupload)").remove(),t.listContainer=n("<div><\/div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",borderBottomWidth:"0px",width:t.width,overflow:"auto",overflowX:"hidden",padding:".35em",backgroundColor:"#fff"}),t.height&&t.height!="100%"?t.listContainer.css({height:t.height}):t.listContainer.css({minHeight:"50px"}),t.container.append(t.listContainer),r=n("<div><\/div>").css({fontSize:"11px",borderWidth:"1px",borderStyle:"solid",borderColor:"#999",width:t.width,padding:".35em",backgroundColor:"#eee",textAlign:"left"}),t.autoUpload===!1&&(t.uploadButton=n('<input type="button" />').val("Upload").css({cssFloat:"right"}).bind("click",function(){return f(t),!1}).attr("disabled","disabled").appendTo(r)),u=n('<input type="button" />').val("Browse...").css({cssFloat:"left"}).attr("id",t.variableName+"_browseButton").appendTo(r),n("<div><\/div>").css({clear:"both",height:"0px",overflow:"hidden"}).appendTo(r),t.container.append(r),i(t),t.pluploader.settings.browse_button=u.attr("id"),t.pluploader.settings.drop_element=t.container.attr("id"),t.initialized=!0},f=function(n){n.pluploader&&t.setTimeout(function(){n.pluploader.start()},99)},e=function(n){if(n.pluploader)try{var t=n.pluploader.getFile(file_id);t&&n.pluploader.removeFile(t)}catch(r){}n.cancelledFiles[file_id]=!0,i(n)};n.fn.glowMultiUpload=function(t){if(t in s)return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowMultiUpload");else return l.apply(this,arguments)},n.extend(n.fn.glowMultiUpload,{defaults:{fileFilter:null,maxFileSize:"2048mb",width:"350px",height:"200px",uploadUrl:"/",autoUpload:!0,maxFileCount:5,fileList:[],swfUrl:"plupload.flash.swf",silverlightUrl:"",uploadedFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #3a3; margin-left: .25em;">Uploaded<\/div>{0}<\/div>',uploadingFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; margin-top: .25em; margin-left: .25em; border: solid 1px #999; background-color: #eee; width: 50px; height: .5em;"><div style="background-color: #7e7; width: {1}%; height: .5em;"><\/div><\/div>{0}<\/div>',toUploadFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; margin-left: .25em; font-style: normal;"><a href="#" style="color: #f00;" onclick="window.{1}.CancelFile(\'{2}\'); return false;">Cancel<\/a><\/div>{0}<\/div>',errorFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #000; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #f00; margin-left: .25em;">Error<\/div>{0}<\/div>',cancelledFormat:'<div style="overflow: hidden; text-overflow: ellipsis; color: #666; font-style: italic; border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;"><div style="float: right; color: #666; font-style: italic; margin-left: .25em;">Cancelled<\/div>{0}<\/div>',firstItemRemove:"border-top: solid 1px #eee; padding-top: .25em; margin-top: .25em;",runtimes:"html5,flash"}})}(jQuery,window),function(n){var t={refreshPagePosition:function(){return this.each(function(){var t=n(this).data("orderedList");t.internal.pagePosition=n.telligent.glow.utility.getElementInfo(t.internal.itemsContainer)})},getIndexByPosition:function(i,r){var u=this.data("orderedList"),e,f;if(u&&(u.internal.pagePosition==null&&t.refreshPagePosition.apply(n(u.internal.state)),i>u.internal.pagePosition.Left&&i<u.internal.pagePosition.Left+u.internal.pagePosition.Width&&r>u.internal.pagePosition.Top&&r<u.internal.pagePosition.Top+u.internal.pagePosition.Height)){for(e=r-u.internal.pagePosition.Top+u.internal.itemsContainer.scrollTop,f=0;f<u.internal.itemsContainer.childNodes.length;f++)if(u.internal.itemsContainer.childNodes[f].offsetHeight<e)e-=u.internal.itemsContainer.childNodes[f].offsetHeight;else break;return f}return-1},highlight:function(t){return this.each(function(){var i=n(this).data("orderedList"),r;if(t){for(r=0;r<i.internal.itemsContainer.childNodes.length;r++)i.internal.itemsContainer.childNodes[r].style.backgroundColor="#cccccc";i.internal.itemsContainer.style.backgroundColor="#cccccc",i.internal.itemsContainer.style.borderColor="#666666"}else{for(r=0;r<i.internal.itemsContainer.childNodes.length;r++)i.internal.selectedIndex!=r&&(i.internal.itemsContainer.childNodes[r].style.backgroundColor=i.internal.backgroundColor,i.internal.itemsContainer.childNodes[r].style.borderColor=i.internal.backgroundColor);i.internal.itemsContainer.style.backgroundColor=i.internal.backgroundColor,i.internal.itemsContainer.style.borderColor="#999999"}})},addDraggedItem:function(r,u,f){if(r){var o=!0;return this.each(function(){o?o=!1:r=r._clone();var h=n(this).data("orderedList");f||(f=window.event),t.insert.apply(n(h.internal.state),[r,u]),t.refresh.apply(n(h.internal.state),[]),n(h.internal.state).trigger(i.itemAdded,r),e(h,u),s(h,u),v(h,f),a(h)})}},selectedIndex:function(){var n=this.data("orderedList");if(n)return n.internal.selectedIndex},moveUp:function(){return this.each(function(){var r=n(this).data("orderedList"),e,u,f;r.internal.selectedIndex>0&&(e=r.internal.selectedIndex,u=r.internal.selectedIndex-1,o(r,r.internal.selectedIndex,u),t.select.apply(n(r.internal.state),[u,!0]),f=r.internal.items[u],n(r.internal.state).trigger(i.itemMoved,[f,e,u]))})},moveDown:function(){return this.each(function(){var r=n(this).data("orderedList"),e,u,f;r.internal.selectedIndex>=0&&r.internal.selectedIndex<r.internal.itemsContainer.childNodes.length-1&&(e=r.internal.selectedIndex,u=r.internal.selectedIndex+1,o(r,r.internal.selectedIndex,u),t.select.apply(n(r.internal.state),[u,!0]),f=r.internal.items[u],n(r.internal.state).trigger(i.itemMoved,[f,e,u]))})},resize:function(t,i){return t<=4&&(t=4),i<=4&&(i=4),this.each(function(){var r=n(this).data("orderedList");r.internal.itemsContainer.style.width=t-4+"px",r.internal.itemsContainer.style.height=i-4+"px"})},disabled:function(i){if(i===undefined){var r=this.data("orderedList");if(r)return r.internal.state.readonly}else return this.each(function(){var r=n(this).data("orderedList");r.internal.state.readonly=i,t.refresh.apply(n(r.internal.state),[])})},refresh:function(){return this.each(function(){var r=n(this).data("orderedList"),u,i;if(r.internal.initialized){for(;r.internal.itemsContainer.childNodes.length>0;)r.internal.itemsContainer.removeChild(r.internal.itemsContainer.childNodes[0]);for(u=0;u<r.internal.items.length;u++){i=document.createElement("div"),r.internal.state.readonly?i.style.cursor="default":(i.onmouseover=n.telligent.glow.utility.makeBoundFunction(e,null,[r,u]),i.onmouseout=n.telligent.glow.utility.makeBoundFunction(f,null,[r,u]),i.onclick=n.telligent.glow.utility.makeBoundFunction(t.select,n(r.internal.state),[u]),i.onmousedown=function(n){v(r,n)},i.style.cursor="pointer"),i.onselectstart=function(){return!1};try{i.style.MozUserSelect="none"}catch(h){}try{i.style.userSelect="none"}catch(s){}try{i.style.WebkitUserSelect="ignore"}catch(o){}i.style.padding="2px",i.style.borderStyle="dotted",i.style.borderWidth="1px",i.style.display="block",i.style.borderColor=r.internal.backgroundColor,i.innerHTML=r.internal.items[u].html,r.internal.itemsContainer.appendChild(i)}r.internal.selectedIndex=-1}})},select:function(t,r){return this.each(function(){var u=n(this).data("orderedList");if(u.internal.initialized&&t>-1)if(u.internal.selectedIndex!=t||r){u.internal.selectedIndex>-1&&(u.internal.itemsContainer.childNodes[u.internal.selectedIndex].style.backgroundColor=u.internal.backgroundColor,u.internal.itemsContainer.childNodes[u.internal.selectedIndex].style.borderColor=u.internal.backgroundColor),u.internal.selectedIndex=t,u.internal.itemsContainer.childNodes[t].style.backgroundColor="#cccccc",u.internal.itemsContainer.childNodes[t].style.borderColor="#666666",s(u,t);try{u.internal.moveItemLastIndex!=null&&f(u,u.internal.moveItemLastIndex)}catch(e){}n(u.internal.state).trigger(i.itemSelected,[u.internal.items[u.internal.selectedIndex]])}else u.internal.itemsContainer.childNodes[u.internal.selectedIndex].style.backgroundColor=u.internal.backgroundColor,u.internal.itemsContainer.childNodes[u.internal.selectedIndex].style.borderColor=u.internal.backgroundColor,u.internal.selectedIndex=-1})},add:function(r){if(!r)return this;t.remove.apply(this,[r]);var u=!0;return this.each(function(){var f,t;u?u=!1:r=r._clone(),f=n(this).data("orderedList"),f.internal.items[f.internal.items.length]=r,t=document.createElement("option"),t.name=r.text,t.value=r.value,f.internal.state.appendChild(t),n(f.internal.state).trigger(i.itemAdded,t)})},remove:function(t){return t?this.each(function(){for(var u=n(this).data("orderedList"),f=[],e=!1,r=0;r<u.internal.items.length;r++)u.internal.items[r].value==t.value?e=!0:f[f.length]=u.internal.items[r];for(r=0;r<u.internal.state.options.length;r++)if(u.internal.state.options[r].value==t.value){u.internal.state.removeChild(u.internal.state.options[r]);break}n(u.internal.state).trigger(i.itemRemoved,t),e&&(u.internal.items=f)}):this},clear:function(){return this.each(function(){var t=n(this).data("orderedList");t.internal.items=[],n(t.internal.state).empty()})},insert:function(i,r){return i?(t.remove.apply(this,[i]),this.each(function(){var t=n(this).data("orderedList"),e=document.createElement("option");e.name=i.text,e.value=i.value;for(var u=[],o=!1,f=0;f<t.internal.items.length;f++)f==r&&(o=!0,u[u.length]=i,f==t.internal.items.length-1?t.internal.state.appendChild(e):t.internal.state.insertBefore(e,t.internal.state.options[f])),u[u.length]=t.internal.items[f];o||(u[u.length]=i,t.internal.state.appendChild(e)),t.internal.items=u})):this},getByIndex:function(n){var t=this.data("orderedList");return t&&n>=0&&n<t.internal.items.length?t.internal.items[n]:null},count:function(){var n=this.data("orderedList");return n?n.internal.items.length:0},createItem:function(n){return new r(n)}},i={itemSelected:"glowOrderedListItemSelected",itemRemoved:"glowOrderedListItemRemoved",itemMoved:"glowOrderedListItemMoved",itemAdded:"glowOrderedListItemAdded"},p=function(t){return this.each(function(){var i={settings:n.extend({},n.fn.glowOrderedList.defaults,t||{}),internal:{state:this,selectedIndex:-1,pagePosition:null,draggingInitalized:!1,moveStartY:null,moveItemHeights:null,moveItemStartIndex:null,moveItemLastIndex:null,moveScrollStartY:null,moveItemFloat:null,moveItemIsFloating:!1,items:null,backgroundColor:null,itemsContainer:null,initialized:!1,itemsContainer:null,draggableOrderedLists:[]}};n(this).data("orderedList",i),h(i)})},y=function(t){t.internal.draggableOrderedLists=[],!t.settings.draggableOrderedLists||t.settings.draggableOrderedLists.length<=0||t.settings.draggableOrderedLists.each(function(){try{n(this).glowOrderedList("disabled")===!1&&(t.internal.draggableOrderedLists[t.internal.draggableOrderedLists.length]=n(this))}catch(i){}})},a=function(i){t.refreshPagePosition.apply(n(i.internal.state)),y(i);for(var r=0;r<i.internal.draggableOrderedLists.length;r++)i.internal.draggableOrderedLists[r].glowOrderedList("highlight",!0),i.internal.draggableOrderedLists[r].glowOrderedList("refreshPagePosition");if(i.internal.draggableOrderedLists.length>0)for(i.internal.itemsContainer.style.cursor="move",r=0;r<i.internal.itemsContainer.childNodes.length;r++)i.internal.itemsContainer.childNodes[r].style.cursor="move";else for(i.internal.itemsContainer.style.cursor="n-resize",r=0;r<i.internal.itemsContainer.childNodes.length;r++)i.internal.itemsContainer.childNodes[r].style.cursor="n-resize";i.internal.draggingInitalized=!0},l=function(i,r,u,f){i.internal.pagePosition==null&&t.refreshPagePosition.apply(n(i.internal.state));var s=i.internal.pagePosition.Left,h=i.internal.pagePosition.Left+i.internal.pagePosition.Width,e=i.internal.pagePosition.Top,o=i.internal.pagePosition.Top+i.internal.pagePosition.Height;return f&&(s-=24,h+=24,e-=32,o+=32,i.internal.moveItemLastIndex>=0&&(i.internal.moveItemLastIndex>0&&(e-=i.internal.itemsContainer.childNodes[i.internal.moveItemLastIndex-1].offsetHeight),i.internal.moveItemLastIndex<i.internal.itemsContainer.childNodes.length-1&&(o+=i.internal.itemsContainer.childNodes[i.internal.moveItemLastIndex+1].offsetHeight))),r>s&&r<h&&u>e&&u<o},o=function(i,r,u){var s,o;if(!(r<0||u<0||u==r)){if(r<i.internal.items.length&&u<i.internal.items.length){if(s=i.internal.items[r],r<u)for(o=r;o<u;o++)i.internal.items[o]=i.internal.items[o+1];else for(o=r;o>u;o--)i.internal.items[o]=i.internal.items[o-1];i.internal.items[u]=s}if(i.internal.initialized&&r<i.internal.itemsContainer.childNodes.length&&u<i.internal.itemsContainer.childNodes.length)if(u==i.internal.itemsContainer.childNodes.length-1?i.internal.itemsContainer.appendChild(i.internal.itemsContainer.childNodes[r]):r>u?i.internal.itemsContainer.insertBefore(i.internal.itemsContainer.childNodes[r],i.internal.itemsContainer.childNodes[u]):r<u&&i.internal.itemsContainer.insertBefore(i.internal.itemsContainer.childNodes[r],i.internal.itemsContainer.childNodes[u+1]),r<u)for(o=r;o<=u;o++)i.internal.itemsContainer.childNodes[o].onmouseover=n.telligent.glow.utility.makeBoundFunction(e,null,[i,o]),i.internal.itemsContainer.childNodes[o].onmouseout=n.telligent.glow.utility.makeBoundFunction(f,null,[i,o]),i.internal.itemsContainer.childNodes[o].onclick=n.telligent.glow.utility.makeBoundFunction(t.select,n(i.internal.state),[o]);else for(o=r;o>=u;o--)i.internal.itemsContainer.childNodes[o].onmouseover=n.telligent.glow.utility.makeBoundFunction(e,null,[i,o]),i.internal.itemsContainer.childNodes[o].onmouseout=n.telligent.glow.utility.makeBoundFunction(f,null,[i,o]),i.internal.itemsContainer.childNodes[o].onclick=n.telligent.glow.utility.makeBoundFunction(t.select,n(i.internal.state),[o])}},u=function(n){return n.internal.moveStartY!=null&&n.internal.moveItemLastIndex!=null},v=function(r,f){if(f||(f=window.event),r.internal.moveItemLastIndex>=0&&r.internal.moveItemLastIndex<r.internal.itemsContainer.childNodes.length){if(typeof f.pageY!="undefined")r.internal.moveStartY=f.pageY;else{var e=n.telligent.glow.utility.getWindowInfo();r.internal.moveStartY=f.clientY+e.ScrollY}for(r.internal.moveScrollStartY=r.internal.itemsContainer.scrollTop,r.internal.moveItemStartIndex=r.internal.moveItemLastIndex,r.internal.moveItemHeights=[],e=0;e<r.internal.itemsContainer.childNodes.length;e++)r.internal.moveItemHeights[r.internal.moveItemHeights.length]=r.internal.itemsContainer.childNodes[e].offsetHeight;r.internal.draggingInitalized=!1,n(document).bind("mouseup.orderedList",function(n){return c(r,n),!1}),n(document).bind("mousemove.orderedList",function(f){var e,h,s,v,y;if(f=f,f||(f=window.event),e=0,h=0,typeof f.pageY!="undefined"?(e=f.pageY,h=f.pageX):(h=n.telligent.glow.utility.getWindowInfo(),e=f.clientY+h.ScrollY,h=f.clientX+h.ScrollX),u(r)){if(r.internal.draggingInitalized||a(r),r.internal.draggableOrderedLists.length>0&&!r.internal.moveItemIsFloating&&!l(r,h,e,!0)){for(s=r.internal.moveItemLastIndex,r.internal.moveItemFloat||(r.internal.moveItemFloat=document.createElement("div"),r.internal.moveItemFloat.style.position="absolute",r.internal.moveItemFloat.style.opacity=".75",n.telligent.glow.utility.isIE()&&(r.internal.moveItemFloat.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=75)"),r.internal.moveItemFloat.style.backgroundColor="#cccccc",r.internal.moveItemFloat.style.borderColor="#666666",r.internal.moveItemFloat.style.fontFamily=r.internal.itemsContainer.style.fontFamily,r.internal.moveItemFloat.style.fontSize=r.internal.itemsContainer.style.fontSize,r.internal.moveItemFloat.style.lineHeight=r.internal.itemsContainer.style.lineHeight,r.internal.moveItemFloat.style.color=r.internal.itemsContainer.style.color,r.internal.moveItemFloat.style.padding="2px",r.internal.moveItemFloat.style.cursor="move",r.internal.moveItemFloat.style.borderStyle="dotted",r.internal.moveItemFloat.style.borderWidth="1px",document.body.appendChild(r.internal.moveItemFloat));r.internal.moveItemFloat.childNodes.length>0;)r.internal.moveItemFloat.removeChild(r.internal.moveItemFloat.childNodes[r.internal.moveItemFloat.childNodes.length-1]);r.internal.moveItemFloat.style.width=r.internal.itemsContainer.childNodes[s].offsetWidth+"px",r.internal.moveItemFloat.style.height=r.internal.itemsContainer.childNodes[s].offsetHeight+"px",r.internal.moveItemFloat.innerHTML=r.internal.itemsContainer.childNodes[s].innerHTML,r.internal.moveItemIsFloating=!0,r.internal.moveItemFloat.style.display="block"}if(r.internal.moveItemIsFloating)if(r.internal.moveItemFloat.style.left=h-r.internal.moveItemFloat.offsetWidth/2+"px",r.internal.moveItemFloat.style.top=e-r.internal.moveItemFloat.offsetHeight/2+"px",l(r,h,e,!0))r.internal.moveItemFloat.style.display="none",r.internal.moveItemIsFloating=!1;else for(v=0;v<r.internal.draggableOrderedLists.length;v++)(s=r.internal.draggableOrderedLists[v].glowOrderedList("getIndexByPosition",h,e))>=0&&(y=r.internal.items[r.internal.moveItemLastIndex],c(r,f,!0),t.remove.apply(n(r.internal.state),[y]),t.refresh.apply(n(r.internal.state),[]),n(r.internal.state).trigger(i.itemRemoved,y),r.internal.draggableOrderedLists[v].glowOrderedList("addDraggedItem",y,s,f),r.internal.moveItemFloat.style.display="none",r.internal.moveItemIsFloating=!1);if(u(r)&&!r.internal.moveItemIsFloating){if(e=e-r.internal.moveStartY,e+=r.internal.itemsContainer.scrollTop-r.internal.moveScrollStartY,f=r.internal.moveItemStartIndex,e>0)for(e=e;f+1<r.internal.moveItemHeights.length&&e>r.internal.moveItemHeights[f+1];)f++,e-=r.internal.moveItemHeights[f];else for(e=-e;f-1>=0&&e>r.internal.moveItemHeights[f-1];)f--,e-=r.internal.moveItemHeights[f];s=f,s!=r.internal.moveItemLastIndex&&s!=null&&(o(r,r.internal.moveItemLastIndex,s),r.internal.moveItemLastIndex=s,t.select.apply(n(r.internal.state),[s,!0]))}}return!1})}},c=function(r,u,f){for(u=0;u<r.internal.itemsContainer.childNodes.length;u++)r.internal.itemsContainer.childNodes[u].style.cursor="pointer";if(!f&&r.internal.moveItemStartIndex!=null&&r.internal.moveItemLastIndex!=null&&r.internal.moveItemStartIndex!=r.internal.moveItemLastIndex){f=r.internal.items[r.internal.moveItemLastIndex],u=r.internal.moveItemStartIndex;var e=r.internal.moveItemLastIndex;n(r.internal.state).trigger(i.itemMoved,[f,u,e])}for(r.internal.itemsContainer.style.cursor="auto",r.internal.moveStartY=null,r.internal.moveItemLastIndex=null,r.internal.moveItemHeights=null,r.internal.moveItemStartIndex=null,n(document).unbind(".orderedList"),r.internal.moveItemIsFloating&&(r.internal.moveItemIsFloating=!1,r.internal.moveItemFloat.style.display="none"),u=0;u<r.internal.draggableOrderedLists.length;u++)r.internal.draggableOrderedLists[u].glowOrderedList("highlight",!1);t.highlight.apply(n(r.internal.state),[!1])},s=function(n,t){var i=n.internal.itemsContainer.childNodes[t];i.offsetTop+i.offsetHeight>n.internal.itemsContainer.scrollTop+n.internal.itemsContainer.offsetHeight?n.internal.itemsContainer.scrollTop=i.offsetTop+i.offsetHeight-n.internal.itemsContainer.offsetHeight:i.offsetTop<n.internal.itemsContainer.scrollTop&&(n.internal.itemsContainer.scrollTop=i.offsetTop)},h=function(i){if(i.internal.state.offsetHeight){i.internal.state.disabled&&(i.internal.state.disabled=!1,i.internal.state.readonly=!0),i.internal.backgroundColor=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"background-color","backgroundColor","#ffffff"),i.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!=""&&(i.internal.backgroundColor="#ffffff"),i.internal.itemsContainer=document.createElement("div"),i.internal.itemsContainer.style.backgroundColor=i.internal.backgroundColor,i.internal.itemsContainer.style.fontFamily=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-family","fontFamily","Arial, Helvetica"),i.internal.itemsContainer.style.fontSize=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-size","fontSize","100%"),i.internal.itemsContainer.style.lineHeight=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"line-height","lineHeight","100%"),i.internal.itemsContainer.style.color=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"color","color","#000000"),i.internal.itemsContainer.style.borderStyle="outset",i.internal.itemsContainer.style.borderWidth="1px",i.internal.itemsContainer.style.borderColor="#999999",i.internal.itemsContainer.style.padding="2px",i.internal.itemsContainer.style.overflow="auto",i.internal.itemsContainer.style.overflowX="hidden",i.internal.itemsContainer.style.position="relative",i.internal.itemsContainer.style.width=i.settings.width<=4?i.internal.state.offsetWidth-4+"px":i.settings.width-4+"px",i.internal.itemsContainer.style.height=i.settings.height<=4?i.internal.state.height-4+"px":i.settings.height-4+"px",i.internal.state.parentNode.insertBefore(i.internal.itemsContainer,i.internal.state),i.internal.items=[];for(var u=0;u<i.internal.state.options.length;u++)i.internal.items[i.internal.items.length]=u<i.settings.itemsHtml.length?new r({value:i.internal.state.options[u].value,text:i.internal.state.options[u].name,html:i.settings.itemsHtml[u]}):new r({value:i.internal.state.options[u].value,text:i.internal.state.options[u].name,html:i.internal.state.options[u].name});i.internal.state.style.display="none",i.internal.initialized=!0,t.disabled.apply(n(i.internal.state),[i.internal.state.readonly==!0])}else window.setTimeout(function(){h(i)},249)},e=function(n,t){u(n)||(n.internal.selectedIndex!=t&&(n.internal.itemsContainer.childNodes[t].style.backgroundColor="#cccccc",n.internal.itemsContainer.childNodes[t].style.borderColor="#666666"),n.internal.moveItemLastIndex=t)},f=function(n,t){u(n)||(n.internal.selectedIndex!=t&&(n.internal.itemsContainer.childNodes[t].style.backgroundColor=n.internal.backgroundColor,n.internal.itemsContainer.childNodes[t].style.borderColor=n.internal.backgroundColor),n.internal.moveItemLastIndex=null)},r;n.fn.glowOrderedList=function(i){if(i in t)return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.fn.glowOrderedList");else return p.apply(this,arguments)},n.extend({defaults:{width:200,height:300,itemsHtml:[],draggableOrderedLists:null}}),r=function(t){var i={value:"",text:"",html:t.text};t&&n.extend(i,t),this.text=i.text,this.value=i.value,this.html=i.html},r.prototype._clone=function(){return new r({value:this.value,text:this.text,html:this.html})}}(jQuery),function(n){var s=function(i){return this.each(function(){var r={settings:n.extend({},n.fn.glowPatternedTextBox.defaults,i||{}),internal:{state:n(this),patterns:[],initialized:!1,matchRE:null,delayedValue:null,cursorSetTimeout:null}},e;if(n(this).data("_glowPatternedTextBox",r),e=r.settings.pattern,r.internal.state){for(var c=r.internal.state.val(),h=RegExp("<([^<>]{1,}?)>","ig"),s,f=0,o="^";s=h.exec(e);)s.index>f&&(r.internal.patterns[r.internal.patterns.length]=new u(e.substr(f,s.index-f),r.settings.blankCharacter,r.settings.allowBlanks,!0),o+="("+r.internal.patterns[r.internal.patterns.length-1].getRegExpPattern()+")"),r.internal.patterns[r.internal.patterns.length]=new u(s[1],r.settings.blankCharacter,r.settings.allowBlanks,!1),o+="("+r.internal.patterns[r.internal.patterns.length-1].getRegExpPattern()+")",f=h.lastIndex;f<e.length&&(r.internal.patterns[r.internal.patterns.length]=new u(e.substr(f,e.length-f),r.settings.blankCharacter,r.settings.allowBlanks,!0),o+="("+r.internal.patterns[r.internal.patterns.length-1].getRegExpPattern()+")"),o+="$",r.internal.state.is("input:disabled")?t.disabled.apply(r.internal.state,[!0]):t.disabled.apply(r.internal.state,[!1]),r.internal.matchRE=RegExp(o,"i"),r.internal.initialized=!0,t.val.apply(r.internal.state,[c])}})},r=function(n){n.internal.state.trigger("glowPatternedTextBoxChange")},e=function(n,t){for(var r=0,i=0;i<n.internal.patterns.length;i++)if(!n.internal.patterns[i].isStatic()){if(r==t)return n.internal.patterns[i];r++}},i=function(n,t){var i;if(n.internal.initialized){var u="",f=n.internal.matchRE.exec(n.internal.state.val()),r={};if(f)for(i=1;i<f.length&&i-1<n.internal.patterns.length;i++)if(u+=f[i],(t<u.length||t==u.length&&(f[i].length<n.internal.patterns[i-1]._maxLength||i==n.internal.patterns.length))&&!n.internal.patterns[i-1].isStatic())if(r.currentPattern){r.nextPattern=n.internal.patterns[i-1],r.nextPatternStartIndex=u.length-f[i].length,r.nextPatternEndIndex=u.length;break}else r.currentPattern=n.internal.patterns[i-1],r.currentPatternStartIndex=u.length-f[i].length,r.currentPatternEndIndex=u.length;else n.internal.patterns[i-1].isStatic()||(r.previousPattern=n.internal.patterns[i-1],r.previousPatternStartIndex=u.length-f[i].length,r.previousPatternEndIndex=u.length);return r}},f=function(n,i,r){var u,e,f;if(n.settings.onValidation){for(u=[],e=-1,r||(r="set"),f=0;f<n.internal.patterns.length;f++)n.internal.patterns[f].isStatic()||(u[u.length]=n.internal.patterns[f].getValue(),i==n.internal.patterns[f]&&(e=u.length-1));(u=n.settings.onValidation(n.internal.state,u,r,e))&&t.setPatternValues.apply(n.internal.state,[u])}},o=function(u,e){var s,o;if(!u.internal.initialized)return!1;if(e.keyCode==38||e.keyCode==40||e.keyCode==37||e.keyCode==39||e.keyCode==9||e.keyCode==8){if(s=n.telligent.glow.utility.getCurrentCursorIndex(u.internal.state),(e.keyCode==37||e.keyCode==8)&&s>0&&s--,e.keyCode==39&&s<u.internal.state.val().length&&s++,o=i(u,s),o.currentPattern)if(e.keyCode==38)o.currentPattern.next(),f(u,o.currentPattern,"next"),t.refresh.apply(u.internal.state,[]),o=i(u,s),o.currentPattern&&n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.currentPatternStartIndex,o.currentPatternEndIndex,!0),r(u);else if(e.keyCode==40)o.currentPattern.previous(),f(u,o.currentPattern,"previous"),t.refresh.apply(u.internal.state,[]),o=i(u,s),o.currentPattern&&n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.currentPatternStartIndex,o.currentPatternEndIndex,!0),r(u);else if(e.keyCode==9)if(e.shiftKey)if(o.previousPattern)n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.previousPatternStartIndex,o.previousPatternEndIndex,!0,u.internal.state.val());else return!0;else if(o.nextPattern)n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.nextPatternStartIndex,o.nextPatternEndIndex,!0,u.internal.state.val());else return!0;else e.keyCode==37||e.keyCode==8?s<o.currentPatternStartIndex&&o.previousPattern?n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.previousPatternEndIndex-1,o.previousPatternEndIndex,!0,u.internal.state.val()):s>o.currentPatternStartIndex&&s<=o.currentPatternEndIndex?n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,s,o.currentPatternEndIndex,!0,u.internal.state.val()):n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.currentPatternStartIndex,o.currentPatternEndIndex,!0,u.internal.state.val()):e.keyCode==39?s>o.currentPatternEndIndex&&o.nextPattern?n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.nextPatternStartIndex,o.nextPatternEndIndex,!0,u.internal.state.val()):s>o.currentPatternStartIndex&&s<=o.currentPatternEndIndex?n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,s,o.currentPatternEndIndex,!0,u.internal.state.val()):n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,o.currentPatternStartIndex,o.currentPatternEndIndex,!0,u.internal.state.val()):n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,s,s,!0,u.internal.state.val());else n.telligent.glow.utility.setCurrentCursorSelection(u.internal.state,s,s,!0,u.internal.state.val());return e.stopPropagation(),!1}return!0},t={getPatternValues:function(){var t=this.data("_glowPatternedTextBox"),i,n;if(t){for(i=[],n=0;n<t.internal.patterns.length;n++)t.internal.patterns[n].isStatic()||(i[i.length]=t.internal.patterns[n].getValue());return i}return null},getPatternValueOptionIndex:function(n,t){var i=this.data("_glowPatternedTextBox"),r;if(i!==null&&(i=e(i,n),i!==null&&i._patternType=="option"))for(t=t.toLowerCase(),r=0;r<i._options.length;r++)if(i._options[r].toLowerCase()==t)return r},getPatternValueOption:function(n,t){var i=this.data("_glowPatternedTextBox");if(i!==null&&(i=e(i,n),i!==null&&i._patternType=="option"&&t>=0&&t<i._options.length))return i._options[t]},setPatternValues:function(i){return this.each(function(){for(var f,u=n(this).data("_glowPatternedTextBox"),e=0,r=0;r<u.internal.patterns.length&&e<i.length;r++)if(!u.internal.patterns[r].isStatic()){if(u.internal.patterns[r]._patternType=="range"){for(f=String(i[e]);f.length<u.internal.patterns[r]._minLength;)f="0"+f;u.internal.patterns[r].parseValue(f)}else u.internal.patterns[r].parseValue(i[e]);e++}t.refresh.apply(n(this),[])})},refresh:function(){return this.each(function(){var i=n(this).data("_glowPatternedTextBox"),r,t;if(i.internal.initialized){for(r="",t=0;t<i.internal.patterns.length;t++)r+=i.internal.patterns[t].getValue();i.internal.state.val(r)}})},val:function(i){var r,u;if(i===undefined){if(r=this.data("_glowPatternedTextBox"),r&&r.internal.initialized){for(i="",u=0;u<r.internal.patterns.length;u++)if(r.internal.patterns[u].isStatic()||r.internal.patterns[u].hasValue())i+=r.internal.patterns[u].getValue();else return null;return i}return null}return this.each(function(){var u=n(this).data("_glowPatternedTextBox"),e,r;if(u.internal.initialized){if(e=u.internal.matchRE.exec(i),e){for(r=1;r<e.length&&r-1<u.internal.patterns.length;r++)u.internal.patterns[r-1].parseValue(e[r]);f(u)}t.refresh.apply(n(this),[])}})},disabled:function(u){if(u===undefined){var f=this.data("_glowPatternedTextBox");return f?f.internal.state.is("input:disabled"):!1}return this.each(function(){var f=n(this).data("_glowPatternedTextBox");u?f.internal.state.unbind("keypress.glowPatternedTextBox").unbind("keyup.glowPatternedTextBox").unbind("focus.glowPatternedTextBox").unbind("keydown.glowPatternedTextBox").unbind("change.glowPatternedTextBox").attr("disabled","disabled"):(f.internal.state.unbind("keypress.glowPatternedTextBox").unbind("keyup.glowPatternedTextBox").unbind("focus.glowPatternedTextBox").unbind("keydown.glowPatternedTextBox").unbind("change.glowPatternedTextBox"),n.telligent.glow.utility.isOpera()&&f.internal.state.bind("keypress.glowPatternedTextBox",function(n){f.internal.initialized||n.stopPropagation()}),f.internal.state.bind("keyup.glowPatternedTextBox",function(u){if(f.internal.initialized){if(u.keyCode!=38&&u.keyCode!=40&&u.keyCode!=37&&u.keyCode!=39&&u.keyCode!=9&&u.keyCode!=8){u=n.telligent.glow.utility.getCurrentCursorIndex(f.internal.state),t.val.apply(f.internal.state,[f.internal.state.val()]);var e=i(f,u);e.currentPattern?u>e.currentPatternStartIndex&&u<=e.currentPatternEndIndex?n.telligent.glow.utility.setCurrentCursorSelection(f.internal.state,u,e.currentPatternEndIndex,!0):n.telligent.glow.utility.setCurrentCursorSelection(f.internal.state,e.currentPatternStartIndex,e.currentPatternEndIndex,!0):n.telligent.glow.utility.setCurrentCursorSelection(f.internal.state,u,u,!0),r(f)}}else u.stopPropagation()}).bind("focus.glowPatternedTextBox",function(t){t=t.shiftKey?i(f,f.internal.state.val().length):i(f,0),t.currentPattern&&n.telligent.glow.utility.setCurrentCursorSelection(f.internal.state,t.currentPatternStartIndex,t.currentPatternEndIndex,!1)}).bind("keydown.glowPatternedTextBox",function(n){o(f,n)}).bind("change.glowPatternedTextBox",function(){f.internal.initialized&&(t.val.apply(f.internal.state,[f.internal.state.val()]),r(f))}).removeAttr("disabled"))})}},u=function(n,t,i,r){if(this._maxLength=this._minLength=0,this._options=[],this._rangeEnd=this._rangeStart=0,this._currentValue=this._patternType="",this._placeholder=t,this._allowBlanks=i,r)this._patternType="static",this._minLength=this._maxLength=n.length,this._currentValue=n;else if(n.match(/^[0-9]{1,}\-[0-9]{1,}$/)){if(n=n.split("-"),this._rangeStart=parseInt(n[0],10),this._rangeEnd=parseInt(n[1],10),this._patternType="range",this._minLength=String(n[0]).length,this._maxLength=String(n[1]).length,!this._allowBlanks)for(this._currentValue=String(this._rangeStart);this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else{for(this._options=n.split(","),this._patternType="option",this._minLength=String(this._options[0]).length,this._maxLength=String(this._options[0]).length,n=0;n<this._options.length;n++)t=String(this._options[n]).length,t>this._maxLength&&(this._maxLength=t),t<this._minLength&&(this._minLength=t);this._allowBlanks||(this._currentValue=this._options[0])}};n.extend(u.prototype,{isStatic:function(){return this._patternType=="static"},next:function(){if(this._patternType!="static")if(this._patternType=="range"){if(this._currentValue==="")this._currentValue=String(this._rangeStart);else{var n=parseInt(this._currentValue,10);this._currentValue=n<this._rangeEnd?String(n+1):String(this._rangeStart)}for(;this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else if(this._patternType=="option")if(this._currentValue=="")this._currentValue=this._options[0];else for(n=0;n<this._options.length;n++)if(this._options[n]==this._currentValue){this._currentValue=n<this._options.length-1?String(this._options[n+1]):String(this._options[0]);break}},previous:function(){if(this._patternType!="static")if(this._patternType=="range"){if(this._currentValue==="")this._currentValue=String(this._rangeEnd);else{var n=parseInt(this._currentValue,10);this._currentValue=n>this._rangeStart?String(n-1):String(this._rangeEnd)}for(;this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue}else if(this._patternType=="option")if(this._currentValue==="")this._currentValue=this._options[this._options.length-1];else for(n=0;n<this._options.length;n++)if(this._options[n]==this._currentValue){this._currentValue=n>0?String(this._options[n-1]):String(this._options[this._options.length-1]);break}},parseValue:function(t){var r,u,i;if(this._patternType!="static"){if(t=String(t).replace(RegExp(n.telligent.glow.utility.escapeForRegExp(this._placeholder),"g"),""),this._allowBlanks&&t===""&&isNaN(parseInt(t,10)))return this._currentValue="";if(this._patternType=="range"){if(t.length>this._maxLength)t=t.substr(0,this._maxLength);else for(;t.length<this._minLength;)t+="0";if(t=parseInt(t,10),isNaN(t)&&(t=0),r=!1,t>=this._rangeStart&&t<=this._rangeEnd&&(u=t,r=!0),!r&&t<this._rangeStart&&t>0)for(i=t;i<this._rangeStart&&String(i).length<=this._maxLength&&!r;)i*=10,i>=this._rangeStart&&i<=this._rangeEnd&&(u=i,r=!0);if(!r&&t>this._rangeEnd&&this._rangeEnd!==0)for(i=t;i>this._rangeEnd&&i>=this._rangeStart&&!r;)i=Math.round(i/10),i>=this._rangeStart&&i<=this._rangeEnd&&(u=i,r=!0);for(r||(u=t<this._rangeStart?this._rangeStart:this._rangeEnd),this._currentValue=String(u);this._currentValue.length<this._minLength;)this._currentValue="0"+this._currentValue;return this._currentValue}if(this._patternType=="option"){for(t=t.toLowerCase();t.length>0;){for(r=0;r<this._options.length;r++)if(this._options[r].substr(0,t.length).toLowerCase()==t)return this._currentValue=String(this._options[r]);t.length>0&&(t=t.substr(0,t.length-1))}return this._currentValue}}},getValue:function(){if(this._patternType=="static")return this._currentValue;if(this._currentValue===""&&isNaN(parseInt(this._currentValue,10))){for(var n="";n.length<this._minLength;)n+=this._placeholder;return n}return this._currentValue},hasValue:function(){return!(this._currentValue===""&&isNaN(parseInt(this._currentValue,10)))},getRegExpPattern:function(){return this._patternType=="range"?"[0-9"+n.telligent.glow.utility.escapeForRegExp(this._placeholder)+"]{0,"+(this._maxLength+1)+"}":this._patternType=="option"?".{0,"+(this._maxLength+1)+"}":n.telligent.glow.utility.escapeForRegExp(this._currentValue)}}),n.fn.glowPatternedTextBox=function(i){if(i in t)return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.fn.glowPatternedTextBox");else return s.apply(this,arguments)},n.extend(n.fn.glowPatternedTextBox,{defaults:{pattern:"",allowBlanks:!0,blankCharacter:"_",onValidation:null}})}(jQuery),function(n){var e={opened:"glowPopUpMenuOpened",closed:"glowPopUpMenuClosed",itemOver:"glowPopUpMenuItemOver"},h=function(t){return this.each(function(){var i={settings:n.extend({},n.fn.glowPopUpMenu.defaults,t||{}),internal:{state:this,menuItems:[],menuLevels:[],initialized:!1,currentLevel:-1,isOpen:!1,cancelClick:!1,openingElement:null,closeTimeout:null}};n(this).data("popUpMenu",i),l(i,i.settings.menuItems,null)})},l=function(i,r){if(this._menuItems=[],!(!r||r.length==0))for(var u=0;u<r.length;u++)i.internal.menuItems[u]=new t({id:r[u][0],text:r[u][1],url:r[u][2],target:r[u][3],onClick:r[u][4],iconUrl:r[u][5]}),i.internal.menuItems[u]._popupMenu=n(this),r[u][6]&&r[u][6].length>0&&i.internal.menuItems[u]._parseMenuItems(r[u][6])},v=function(t){n(document).bind("click.popUpMenu",function(){!t.internal.isOpen||t.internal.menuLevels[t.internal.currentLevel]._popupPanel.glowPopUpPanel("isOpening")||t.internal.cancelClick?t.internal.cancelClick=!1:i.close.apply(n(t.internal.state),[0])})},o=function(t){t.settings.closeOnMouseOut&&(window.clearTimeout(t.internal.closeTimeout),t.internal.closeTimeout=window.setTimeout(function(){i.close.apply(n(t.internal.state))},249))},r=function(n){n.settings.closeOnMouseOut&&window.clearTimeout(n.internal.closeTimeout)},a=function(t,r){return t.internal.cancelClick=!0,(r.onClick||r.url)&&i.close.apply(n(t.internal.state)),r.onClick&&r.onClick(r),r.url&&(r.target?window.open(r.url,r.target):window.location=r.url),!1},s=function(t,s,h,c){if(!(t.internal.menuLevels.length<=h||t.internal.currentLevel==h&&t.internal.menuLevels[h]._currentMenuItem==s&&!c))if(t.internal.menuLevels[h]._currentMenuItem!=s){if(c||i.close.apply(n(t.internal.state),[h+1]),t.internal.menuLevels[h]._currentMenuItem&&t.internal.menuLevels[h]._currentMenuItem!=s&&(t.internal.menuLevels[h]._currentMenuItem._element.className=t.settings.itemCssClass),h>0&&t.internal.menuLevels[h-1]._currentMenuItem&&(t.internal.menuLevels[h-1]._currentMenuItem._element.className=t.settings.itemExpandedCssClass),s._element.className=t.settings.itemSelectedCssClass,t.internal.menuLevels[h]._currentMenuItem=s,s._menuItems!=null&&s._menuItems.length>0){if(t.internal.menuLevels.length==h+1){var l=document.createElement("div");t.internal.state.appendChild(l),n(l).glowPopUpPanel({cssClass:t.settings.groupCssClass,position:"leftright",zIndex:t.settings.zIndex,hideOnDocumentClick:!1}).bind({glowPopUpPanelHidden:n.telligent.glow.utility.makeBoundFunction(i.close,n(t.internal.state),[h+1]),glowPopUpPanelMouseOver:function(){r(t)},glowPopUpPanelMouseOut:function(){o(t)}}),t.internal.menuLevels[h+1]=new f(h+1,s,n(l),this)}else t.internal.menuLevels[h+1].MenuItem=s;u(t,t.internal.menuLevels[h+1],s._menuItems),t.internal.menuLevels[h+1]._popupPanel.glowPopUpPanel("show",s._element,c),t.internal.currentLevel=h+1}n(t.internal.state).trigger(e.itemOver)}else c||i.close.apply(n(t.internal.state),[h+2]),t.internal.menuLevels[h+1]&&t.internal.menuLevels[h+1]._currentMenuItem&&(t.internal.menuLevels[h+1]._currentMenuItem._element.className=t.settings.itemCssClass,t.internal.menuLevels[h+1]._currentMenuItem=null),t.internal.menuLevels[h]._currentMenuItem._element.className=t.settings.itemSelectedCssClass},c=function(t){t.internal.menuLevels=[];var e=document.createElement("div");n(e).glowPopUpPanel({cssClass:t.settings.groupCssClass,position:t.settings.position,zIndex:t.settings.zIndex,hideOnDocumentClick:!1}).bind({glowPopUpPanelHidden:function(){i.close.apply(n(t.internal.state),[0])},glowPopUpPanelMouseOver:function(){r(t)},glowPopUpPanelMouseOut:function(){o(t)}}),t.internal.menuLevels[0]=new f(0,null,n(e),this),u(t,t.internal.menuLevels[0],t.internal.menuItems),t.internal.initialized=!0},u=function(t,i,r){var e,u,l,v,c,h,f,o;if(i&&i._popupPanel&&(e=i._popupPanel.glowPopUpPanel("children"),e[0]&&e[0].childNodes[0]))for(e=e[0].childNodes[0],u=0;u<e.childNodes.length;u++)e.childNodes[u].childNodes[0]&&e.childNodes[u].childNodes[0]._menuItem&&(e.childNodes[u].childNodes[0]._menuItem._element=null,e.childNodes[u].childNodes[0]._menuItem=null,e.childNodes[u].childNodes[0].onmouseover=null,e.childNodes[u].childNodes[0].onclick=null);if(i._popupPanel.glowPopUpPanel("empty"),i._currentMenuItem=null,!(!r||r.length==0)){for(e=document.createElement("table"),e.cellPadding="0",e.cellSpacing="0",e.appendChild(document.createElement("tbody")),l=!1,v=!1,u=0;u<r.length;u++)if(r[u].iconUrl&&(l=!0),t.settings.expandImageUrl&&r[u]._menuItems&&r[u]._menuItems.length>0&&(v=!0),l&&v)break;for(u=0;u<r.length;u++)c=document.createElement("tr"),e.childNodes[0].appendChild(c),h=document.createElement("td"),h.className=t.settings.itemCssClass,h.id=r[u].id,h._menuItem=r[u],c.appendChild(h),f=document.createElement("table"),f.cellPadding="0",f.cellSpacing="0",f.style.width="100%",f.appendChild(document.createElement("tbody")),h.appendChild(f),c=document.createElement("tr"),f.childNodes[0].appendChild(c),l&&(f=document.createElement("td"),r[u].iconUrl?(o=document.createElement("img"),o.src=r[u].iconUrl,o.style.paddingRight="4px",t.settings.iconHeight&&(o.height=t.settings.iconHeight),t.settings.iconWidth&&(o.width=t.settings.iconWidth),f.appendChild(o)):(f.appendChild(document.createElement("div")),f.childNodes[0].style.paddingRight="4px",t.settings.iconHeight&&(f.childNodes[0].style.height=t.settings.iconHeight+"px"),t.settings.iconWidth&&(f.childNodes[0].style.width=t.settings.iconWidth+"px")),c.appendChild(f)),f=document.createElement("td"),f.style.whiteSpace="nowrap",f.width="100%",f.innerHTML=r[u].text,c.appendChild(f),v&&(f=document.createElement("td"),t.settings.expandImageUrl&&r[u]._menuItems&&r[u]._menuItems.length>0?(o=document.createElement("img"),o.src=t.settings.expandImageUrl,o.style.paddingLeft="4px",t.settings.expandImageHeight&&(o.height=t.settings.expandImageHeight),t.settings.expandImageWidth&&(o.width=t.settings.expandImageWidth),f.appendChild(o)):(f.appendChild(document.createElement("div")),f.childNodes[0].style.paddingRight="4px",t.settings.expandImageHeight&&(f.childNodes[0].style.height=t.settings.expandImageHeight+"px"),t.settings.expandImageWidth&&(f.childNodes[0].style.width=t.settings.expandImageWidth+"px")),c.appendChild(f)),h.onclick=n.telligent.glow.utility.makeBoundFunction(a,null,[t,r[u],i._level]),h.onmouseover=n.telligent.glow.utility.makeBoundFunction(s,null,[t,r[u],i._level]),r[u]._element=h;i._popupPanel.glowPopUpPanel("append",e)}},i={isOpen:function(){var n=this.data("popUpMenu");return n?n.internal.isOpen:!1},open:function(t,i,u,f){var l,a,y,h,s;return typeof t=="object"?(s=t,t=n.telligent.glow.utility.getElementInfo(t),l=t.Left,a=t.Top,y=t.Width,h=t.Height):(s=null,l=t,a=i,y=u,h=f),this.each(function(){var t=n(this).data("popUpMenu");t.internal.initialized||c(t),t.internal.isOpen||window.setTimeout(function(){v(t)},49),t.internal.menuLevels[0]._popupPanel.glowPopUpPanel("show",l,a,y,h),t.internal.currentLevel=0,t.internal.isOpen=!0,(t.internal.openingElement=s)&&(n(s).bind("mouseover.popUpMenu",function(){r(t)}),n(s).bind("mouseout.popUpMenu",function(){o(t)})),n(t.internal.state).trigger(e.opened)})},close:function(t){return t||(t=0),this.each(function(){var i=n(this).data("popUpMenu"),r;for(t==0&&i.internal.openingElement&&(n(i.internal.openingElement).unbind(".popUpMenu"),i.internal.openingElement=null),r=i.internal.menuLevels.length-1;r>=t;r--)i.internal.menuLevels[r]&&(i.internal.menuLevels[r]._currentMenuItem&&(i.internal.menuLevels[r]._currentMenuItem._element.className=i.settings.itemCssClass,i.internal.menuLevels[r]._currentMenuItem=null),i.internal.menuLevels[r]._popupPanel.glowPopUpPanel("hide"));i.internal.currentLevel=t-1,i.internal.currentLevel<=-1&&(i.internal.isOpen&&n(document).unbind(".popUpMenu"),i.internal.isOpen=!1,n(i.internal.state).trigger(e.closed))})},refresh:function(){return this.each(function(){var f=n(this).data("popUpMenu"),o,t,e,r,h;if(f.internal.initialized){for(o=[],t=0;t<=f.internal.currentLevel;t++)o[t]=f.internal.menuLevels[t]._currentMenuItem;if(u(f,f.internal.menuLevels[0],f.internal.menuItems),o.length>0)for(r=f.internal.menuItems,t=0;t<o.length;t++){for(h=!1,e=0;r&&e<r.length;e++)if(o[t]==r[e]){s(f,r[e],t,!0),r=r[e]._menuItems,h=!0;break}if(!h){r&&r.length>0?i.close.apply(n(this),[t+1]):i.close.apply(n(this),[t]);break}}}})},add:function(t){if(t){i.remove.apply(this,[t]);var r=!0;return this.each(function(){var u=n(this).data("popUpMenu"),i;r?(i=t,r=!1):i=t._clone(),i._popupMenu=n(this),i._parentMenuItem=null,u.internal.menuItems[u.internal.menuItems.length]=i})}return this},remove:function(t){return t?this.each(function(){for(var r=n(this).data("popUpMenu"),u=[],f=!1,i=0;i<r.internal.menuItems.length;i++)r.internal.menuItems[i].id==t.id?f=!0:u[u.length]=r.internal.menuItems[i];f&&(r.internal.menuItems=u)}):this},insert:function(n,t){return popUpMenuItem?(i.remove.apply(this,[popUpMenuItem]),this.each(function(){for(var n=[],r=!1,i=0;i<context.internal.menuItems.length;i++)i==t&&(r=!0,popUpMenuItem._popupMenu=this,popUpMenuItem._parentMenuItem=null,n[n.length]=popUpMenuItem),n[n.length]=context.internal.menuItems[i];r||(n[n.length]=popUpMenuItem),context.internal.menuItems=n})):this},clear:function(){return this.each(function(){n(this).data("popUpMenu").internal.menuItems=[]})},getById:function(t){var r=n(this).data("popUpMenu"),i,u;if(r)for(i=0;i<r.internal.menuItems.length;i++){if(r.internal.menuItems[i].ID==t)return r.internal.menuItems[i];if(u=r.internal.menuItems[i].getById(t),u)return u}return null},getByText:function(t){var u=n(this).data("popUpMenu"),r,i,e,f;if(u){for(r=[],i=0;i<u.internal.menuItems.length;i++)for(u.internal.menuItems[i].Text==t&&(r[r.length]=u.internal.menuItems[i]),e=u.internal.menuItems[i].getByText(t),f=0;f<e.length;f++)r[r.length]=e[f];return r}return[]},getByIndex:function(t){var i=n(this).data("popUpMenu");return i?t>=0&&t<i.internal.menuItems.length?i.internal.menuItems[t]:null:null},getCurrent:function(){var t=n(this).data("popUpMenu");if(t&&t.internal.currentLevel>-1){if(t.internal.menuLevels[t.internal.currentLevel]._currentMenuItem)return t.internal.menuLevels[t.internal.currentLevel]._currentMenuItem;if(t.internal.currentLevel>0)return t.internal.menuLevels[t.internal.currentLevel-1]._currentMenuItem}return null},getCurrentByLevel:function(t){var i=n(this).data("popUpMenu");return i&&t>0&&i.internal.currentLevel>=t?i.internal.menuLevels[t]._currentMenuItem:null},count:function(){var t=n(this).data("popUpMenu");return t?t.internal.menuItems.length:0},createMenuItem:function(n){return new t(n)}},t,f;n.fn.glowPopUpMenu=function(t){if(t in i)return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowPopUpMenu");else return h.apply(this,arguments)},n.extend(n.fn.glowPopUpMenu,{defaults:{groupCssClass:"",itemCssClass:"",itemSelectedCssClass:"",itemExpandedCssClass:"",expandImageUrl:"",expandImageWidth:0,iconWidth:0,iconHeight:0,position:"updown",zIndex:100,menuItems:null,closeOnMouseOut:!0}}),t=function(t){var i={id:+new Date,text:"",url:"",target:"",onClick:null,iconUrl:""};t&&n.extend(i,t),this.id=i.id,this.text=i.text,this.url=i.url,this.target=i.target,this.onClick=i.onClick,this.iconUrl=i.iconUrl,this._menuItems=[],this._parentMenuItem=this._popupMenu=this._element=null},t.prototype._clone=function(){return new t({id:this.id,text:this.text,url:this.url,target:this.target,onClick:this.onClick,iconUrl:this.iconUrl})},t.prototype.add=function(n){this.remove(n),n&&(n._popupMenu=this._popupMenu,n._parentMenuItem=this,this._menuItems[this._menuItems.length]=n)},t.prototype.remove=function(n){for(var i=[],r=!1,t=0;t<this._menuItems.length;t++)this._menuItems[t].id==n.id?r=!0:i[i.length]=this._menuItems[t];r&&(this._menuItems=i)},t.prototype.clear=function(){this._menuItems=[]},t.prototype.insert=function(n,t){this.remove(n);for(var i=[],u=!1,r=0;r<this._menuItems.length;r++)r==t&&(u=!0,n._popupMenu=this._popupMenu,n._parentMenuItem=this,i[i.length]=n),i[i.length]=this._menuItems[r];u||(i[i.length]=n),this._menuItems=i},t.prototype.getById=function(n){for(var i,t=0;t<this._menuItems.length;t++){if(this._menuItems[t].ID==n)return this._menuItems[t];if(i=this._menuItems[t].getById(n),i)return i}return null},t.prototype.getByText=function(n){for(var u,r,i=[],t=0;t<this._menuItems.length;t++)for(this._menuItems[t].Text==n&&(i[i.length]=this._menuItems[t]),u=this._menuItems[t].getByText(n),r=0;r<u.length;r++)i[i.length]=u[r];return i},t.prototype.getByIndex=function(n){return n>=0&&n<this._menuItems.length?this._menuItems[n]:null},t.prototype.getPopUpMenu=function(){return this._popupMenu},t.prototype.getParent=function(){return this._parentMenuItem},t.prototype.count=function(){return this._menuItems.length},t.prototype._parseMenuItems=function(n){if(this._menuItems=[],!(!n||n.length==0))for(var i=0;i<n.length;i++)this._menuItems[i]=new t({id:n[i][0],text:n[i][1],url:n[i][2],target:n[i][3],onClick:n[i][4],iconUrl:n[i][5]}),this._menuItems[i]._popupMenu=this,n[i][6]&&n[i][6].length>0&&this._menuItems[i]._parseMenuItems(n[i][6])},f=function(n,t,i,r){this._level=n,this._parentMenuItem=t,this._popupPanel=i,this._popupMenu=r,this._currentMenuItem=null}}(jQuery),function(n,t){var r={shown:"glowPopUpPanelShown",hidden:"glowPopUpPanelHidden",mouseOver:"glowPopUpPanelMouseOver",mouseOut:"glowPopUpPanelMouseOut"},s=function(t){return this.each(function(){var i={settings:n.extend({},n.fn.glowPopUpPanel.defaults,t||{}),internal:{state:n(this),isShown:!1,initialized:!1,lastPosition:null,panel:null,panelMask:null,animationHandle:null,isOpening:!1,checkForScrollResizeHandle:null,lastWindowInfo:null}};n(this).data("_glowPopUpPanel",i),i.internal.panel=n("<div><\/div>").css({position:"absolute",display:"none",left:"0px",top:"0px"}).addClass(i.settings.CssClass).append(i.internal.state.children()),i.internal.panelMask=n("<div><\/div>").css({position:"absolute",display:"none"}).append(i.internal.panel),i.internal.state.css({displaly:"none"})})},o=function(t){n(document).bind("click.glowPopUpPanel",function(){t.internal.isShown&&!t.internal.isOpening&&i.hide.apply(t.internal.state)})},e=function(r){if(r.internal.checkForScrollResizeHandle&&t.clearTimeout(r.internal.checkForScrollResizeHandle),r.internal.isShown&&!r.internal.isOpening&&r.internal.lastWindowInfo){var u=n.telligent.glow.utility.getWindowInfo();u.Width!=r.internal.lastWindowInfo.Width||u.Height!=r.internal.lastWindowInfo.Height?i.hide.apply(r.internal.state):r.internal.checkForScrollResizeHandle=t.setTimeout(function(){e(r)},999)}},f=function(t){document.forms.length==1?n("form:first").append(t.internal.panelMask):n("body").append(t.internal.panelMask),t.internal.panel.bind("mouseover.glowPopUpPanel",function(){t.internal.state.trigger(r.mouseOver)}).bind("mouseout.glowPopUpPanel",function(){t.internal.state.trigger(r.mouseOut)}),t.internal.initialized=!0},u=function(i,r,f,o,s,h){i.internal.animationHandle&&t.clearTimeout(i.internal.animationHandle),currValue=parseInt(i.internal.panel.css(r),10),s<0&&currValue<f||s>0&&currValue>f||Math.abs(s)<1?(i.internal.panel.css("propertyName",f+"px").css({position:"static",overflow:"visible"}),i.internal.animationHandle=null,i.internal.isOpening=!1,i.internal.lastWindowInfo=n.telligent.glow.utility.getWindowInfo(),i.internal.checkForScrollResizeHandle=t.setTimeout(function(){e(i)},999)):(i.internal.panel.css(r,o+"px"),o+=s,s>0&&o>f?o=f:s<0&&o<f&&(o=f),s*=h,i.internal.animationHandle=t.setTimeout(function(){u(i,r,f,o,s,h)},19))},i={isShown:function(){var n=this.data("_glowPopUpPanel");return n&&n.internal.isShown},isOpening:function(){var n=this.data("_glowPopUpPanel");return n&&n.internal.isOpening},show:function(e,s,h,c,l){var a,v,y,p,w,b=!1;return typeof e=="object"?(c=e,e instanceof jQuery&&(c=e.get(0)),e=n.telligent.glow.utility.getElementInfo(c),a=e.Left,v=e.Top,y=e.Width,p=e.Height,w=s,b=h):(a=e,v=s,y=h,p=c,w=l),this.each(function(){var e=n(this).data("_glowPopUpPanel"),rt,it,s,c;e.internal.initialized||f(e),!e.internal.isShown&&e.settings.hideOnDocumentClick&&t.setTimeout(function(){o(e)},49),!w&&e.internal.isShown?i.hide.apply(e.internal.state):n.telligent.glow.utility.showSelectBoxes(e.internal.panelMask),rt=a,it=v,e.internal.panelMask.css({position:"absolute",zIndex:e.settings.zIndex,display:"block",visibility:"hidden",overflow:"visible"}),e.internal.panel.css({position:"absolute",display:"block",visibility:"hidden",left:"0px",top:"0px"}).addClass(e.settings.cssClass),s=e.internal.panel.outerWidth(),c=e.internal.panel.outerHeight(),b||e.internal.panelMask.css({width:s+"px",height:c+"px"}),e.internal.lastWindowInfo=n.telligent.glow.utility.getWindowInfo();var l,h,k=e.settings.position.indexOf("left"),d=e.settings.position.indexOf("right"),g=e.settings.position.indexOf("up"),nt=e.settings.position.indexOf("down"),tt=e.settings.position.indexOf("center");k===0||d===0||tt===0?(!(k>-1&&d==-1)&&(d>-1&&k==-1||e.internal.lastWindowInfo.Width+e.internal.lastWindowInfo.ScrollX-(a+y)>a-e.internal.lastWindowInfo.ScrollX||a-e.internal.lastWindowInfo.ScrollX<s)?(e.internal.panelMask.css({left:a+y+"px"}),l="left",h=0,s=-s):tt>-1?(e.internal.panelMask.css({left:a-s/2+"px"}),l="left",h=0,s=s/2):(e.internal.panelMask.css({left:a-s+"px"}),l="left",h=0,s=s),!(g>-1&&nt==-1)&&(nt>-1&&g==-1||e.internal.lastWindowInfo.Height+e.internal.lastWindowInfo.ScrollY-v>v+p-e.internal.lastWindowInfo.ScrollY||v+p-e.internal.lastWindowInfo.ScrollY<c)?e.internal.panelMask.css({top:v+"px"}):e.internal.panelMask.css({top:v+p-c+"px"})):(tt>-1?e.internal.panelMask.css({left:a+(y-s)/2+"px"}):!(k>-1&&d==-1)&&(d>-1&&k==-1||e.internal.lastWindowInfo.Width+e.internal.lastWindowInfo.ScrollX-a>a+y-e.internal.lastWindowInfo.ScrollX||a+y-e.internal.lastWindowInfo.ScrollX<s)?e.internal.panelMask.css({left:a+"px"}):e.internal.panelMask.css({left:a+y-s+"px"}),!(g>-1&&nt==-1)&&(nt>-1&&g==-1||e.internal.lastWindowInfo.Height+e.internal.lastWindowInfo.ScrollY-(v+p)>v-e.internal.lastWindowInfo.ScrollY||v-e.internal.lastWindowInfo.ScrollY<c)?(e.internal.panelMask.css({top:v+p+"px"}),l="top",h=0,s=-c):(e.internal.panelMask.css({top:v-c+"px"}),l="top",h=0,s=c)),e.internal.panel.css({visibility:"visible"}),e.internal.panelMask.css({visibility:"visible",overflow:"hidden"}),n.telligent.glow.utility.hideSelectBoxes(e.internal.panelMask),this._isOpening=!0,w?e.internal.animationHandle=t.setTimeout(function(){u(e,l,h,h,0,0)},9):u(e,l,h,s,s>h?-((s-h)/3):(h-s)/3,.67),e.internal.isShown||(e.internal.isShown=!0,e.internal.lastPosition={X:rt,Y:it,Width:y,Height:p},n(e.internal.state).trigger(r.shown))})},hide:function(){return this.each(function(){var t=n(this).data("_glowPopUpPanel");t.internal.isShown&&(t.internal.initialized||f(t),t.internal.panel.css({position:"absolute",display:"none"}),t.internal.panelMask.css({position:"absolute",display:"none"}),t.internal.isShown=!1,t.internal.lastPosition=null,n.telligent.glow.utility.showSelectBoxes(t.internal.panelMask),t.settings.hideOnDocumentClick&&n(document).unbind(".glowPopUpPanel"),t.internal.state.trigger(r.hidden))})},empty:function(){return this.each(function(){n(this).data("_glowPopUpPanel").internal.panel.empty()}).glowPopUpPanel("refresh")},html:function(t){return this.each(function(){n(this).data("_glowPopUpPanel").internal.panel.html(t)}).glowPopUpPanel("refresh")},append:function(t){t=n(t);var i=!0;return this.each(function(){var r=n(this).data("_glowPopUpPanel");i?(n(r.internal.panel).append(t),i=!1):n(r.internal.panel).append(t.clone())}).glowPopUpPanel("refresh")},remove:function(t){return n(t).remove().glowPopUpPanel("refresh")},children:function(){var t=this.data("_glowPopUpPanel");return t?t.internal.panel.children():n()},refresh:function(){return this.each(function(){var r=n(this).data("_glowPopUpPanel");r.internal.animationHandle&&t.clearTimeout(r.internal.animationHandle),r.internal.isShown&&r.internal.lastPosition&&i.show.apply(r.internal.state,[r.internal.lastPosition.X,r.internal.lastPosition.Y,r.internal.lastPosition.Width,r.internal.lastPosition.Height,!0])})}};n.fn.glowPopUpPanel=function(t){if(t in i)return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowPopUpPanel");else return s.apply(this,arguments)},n.extend(n.fn.glowPopUpPanel,{defaults:{cssClass:"",position:"updown",zIndex:100,hideOnDocumentClick:!0}})}(jQuery,window),function(n){var r={refresh:function(){return this.each(function(){var t=n(this).data("tabbedPanes"),r,i,e;for(t.internal.isRendered=!1,r=t.internal.selectedTab,t.internal.selectedTab=null,t.settings.enableResizing?(t.internal.state.style.width="100%",t.internal.state.style.height="100%",t.internal.state.style.overflow="auto"):(t.internal.state.style.width="auto",t.internal.state.style.height="auto",t.internal.state.style.overflow="visible"),t.internal.paneContainer.className=t.settings.cssClass,t.internal.tabSet.glowTabSet("clear"),i=0;i<t.internal.tabs.length;i++)t.internal.tabs[i]._tabsetTab||(e=t.internal.tabSet.glowTabSet("createTab",{id:t.internal.tabs[i].id,text:t.internal.tabs[i].text,cssClass:t.internal.tabs[i].cssClass,onClick:n.telligent.glow.utility.makeBoundFunction(f,null,[t,t.internal.tabs[i]])}),t.internal.tabs[i]._tabsetTab=e,e._tabbedPanesTab=t.internal.tabs[i]),t.internal.tabs[i]._tabPane||(e=document.createElement("div"),t.internal.paneContainer.appendChild(e),t.internal.tabs[i]._tabPane=e),t.internal.tabs[i].disabled||(t.internal.tabSet.glowTabSet("add",t.internal.tabs[i]._tabsetTab),r&&t.internal.tabs[i].id==r.id&&(r=t.internal.selectedTab=t.internal.tabs[i]));for(t.internal.selectedTab==null&&t.internal.tabSet.glowTabSet("count")>0&&(r=t.internal.selectedTab=t.internal.tabSet.glowTabSet("getByIndex",0)._tabbedPanesTab,t.internal.tabSet._selectedTab=t.internal.tabSet.glowTabSet("getByIndex",0)),t.internal.tabSet.glowTabSet("refresh"),i=0;i<t.internal.tabs.length;i++)t.internal.tabs[i].disabled?u(t,t.internal.tabs[i]._tabPane,!1):t.internal.tabs[i].id==r.id?(r=t.internal.selectedTab=t.internal.tabs[i],t.internal.tabSet.glowTabSet("selected",t.internal.tabs[i]._tabsetTab),u(t,t.internal.tabs[i]._tabPane,!0)):u(t,t.internal.tabs[i]._tabPane,!1);t.internal.isRendered=!0})},add:function(t){r.remove.apply(this,[t,!0]);var i=!0;return this.each(function(){var r,u;i?i=!1:t=t._clone(),r=n(this).data("tabbedPanes"),t._tabbedPanes=this,t._tabPane||(u=document.createElement("div"),r.internal.paneContainer.appendChild(u),t._tabPane=u),r.internal.tabs[r.internal.tabs.length]=t})},remove:function(t,i){return this.each(function(){for(var r=n(this).data("tabbedPanes"),f=[],e=!1,u=0;u<r.internal.tabs.length;u++)r.internal.tabs[u].id==t.id?(r.internal.tabs[u]._tabPane&&(r.internal.paneContainer.removeChild(r.internal.tabs[u]._tabPane),i===!1&&(r.internal.tabs[u]._tabPane=null)),e=!0):f[f.length]=r.internal.tabs[u];e&&(r.internal.tabs=f)})},clear:function(){return this.each(function(){for(var t=n(this).data("tabbedPanes"),i=0;i<t.internal.tabs.length;i++)t.internal.tabs[i]._tabPane&&(t.internal.paneContainer.removeChild(t.internal.tabs[i]._tabPane),t.internal.tabs[i]._tabPane=null);t.internal.tabs=[]})},insert:function(t,i){r.remove(this,[t,!0]);var u=!0;return this.each(function(){var s;u?u=!1:t=t._clone();for(var o=n(this).data("tabbedPanes"),e=[],h=!1,f=0;f<o.internal.tabs.length;f++)f==i&&(h=!0,t._tabbedPanes=this,t._tabPane||(s=document.createElement("div"),o.internal.paneContainer.insertBefore(s,o.internal.paneContainer.childNodes[f+1]),t._tabPane=s),e[e.length]=t),e[e.length]=o.internal.tabs[f];h?o.internal.tabs=e:r.add.apply(n(this),t)})},getById:function(n){var i=this.data("tabbedPanes"),t;if(i)for(t=0;t<i.internal.tabs.length;t++)if(i.internal.tabs[t].id==n)return i.internal.tabs[t];return null},getByText:function(t){var r=[],i=this.data("tabbedPanes");return i&&n.each(i.internal.tabs,function(n,i){i.text===t&&r.push(i)}),r},getByIndex:function(n){var t=this.data("tabbedPanes");return t&&n>=0&&n<t.internal.tabs.length?t.internal.tabs[n]:null},count:function(){var n=this.data("tabbedPanes");return n?n.internal.tabs.length:0},selected:function(t){if(t===undefined){var i=this.data("tabbedPanes");return i?i.internal.selectedTab:null}return t?this.each(function(){var u=n(this).data("tabbedPanes"),i=r.getById.apply(n(this),[t.id]);i&&u.internal.tabSet.glowTabSet("selected",i._tabsetTab)}):this},createTab:function(n){return new t(n)}},o=function(t){return this.each(function(){var i={settings:n.extend({},n.fn.glowTabbedPanes.defaults,t||{}),internal:{state:this,tabSet:null,tabs:[],isRendered:!1,selectedTab:null,paneContainer:null,previousContainerOffsetWidth:-1}},u;for(i.internal.paneContainer=document.createElement("div");this.childNodes.length>0;)i.internal.paneContainer.appendChild(this.childNodes[0]);u=document.createElement("div"),this.appendChild(u),this.appendChild(i.internal.paneContainer),i.internal.tabSet=n(u).glowTabSet({cssClass:i.settings.tabSetCssClass,tabCssClasses:i.settings.tabCssClasses,tabSelectedCssClasses:i.settings.tabSelectedCssClasses,tabHoverCssClasses:i.settings.tabHoverCassClasses,enableResizing:i.settings.enableResizing,tabs:[]}).bind("glowTabSetResize",function(){n(i.internal.state).trigger("glowTabbedPanesResize")}),n(this).data("tabbedPanes",i),e(i,i.settings.tabs,null),i.internal.tabs.length>0&&r.refresh.apply(n(this))})},f=function(t,i){if(i.onClick&&(hadHandler=!0,i.onClick(n(t.internal.state),i)==!1))return!1;i!=t.internal.selectedTab&&(i._tabPane&&u(t,i._tabPane,!0),t.internal.selectedTab&&t.internal.selectedTab._tabPane&&u(t,t.internal.selectedTab._tabPane,!1),t.internal.selectedTab=i)},u=function(n,t,i){i?(t.style.visibility="visible",t.style.position="static",t.style.left="0px",n.settings.enableResizing?(t.style.width="100%",t.style.height="100%",t.style.overflow="auto"):(t.style.width="auto",t.style.height="auto",t.style.overflow="visible")):(t.style.width=t.offsetWidth+"px",t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",t.style.position="absolute",t.style.left=t.offsetWidth*-4+"px",t.style.top=t.offsetHeight*-4+"px",t.style.visibility="hidden")},e=function(n,r,u){var f,e;if(n.internal.tabs=[],n.internal.tabSet.glowTabSet("clear"),!(!r||r.length==0))for(f=-1,i=0;i<r.length;i++){for(n.internal.tabs[i]=new t({id:r[i][0],text:r[i][1],onClick:r[i][2],disabled:r[i][3],cssClass:r[i][4]}),f++;f<n.internal.paneContainer.childNodes.length&&n.internal.paneContainer.childNodes[f].nodeType!=1;)f++;f<n.internal.paneContainer.childNodes.length?n.internal.tabs[i]._tabPane=n.internal.paneContainer.childNodes[f]:(e=document.createElement("div"),n.internal.paneContainer.appendChild(e),tab._tabPane=e),n.internal.tabs[i]._tabbedPanes=this,n.internal.tabs[i].id==u&&(n.internal.selectedTab=n.internal.tabs[i])}},t;n.fn.glowTabbedPanes=function(t){if(t in r)return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowTabbedPanes");else return o.apply(this,arguments)},n.extend(n.fn.glowTabbedPanes,{defaults:{cssClass:"",tabSetCssClass:"",tabCssClasses:[],tabSelectedCssClasses:[],tabHoverCssClasses:[],enableResizing:!0,tabs:[]}}),t=function(t){var i={id:+new Date,text:"",onClick:null,cssClass:null,disabled:!1};t&&n.extend(i,t),this.id=i.id,this.text=i.text,this.onClick=i.onClick,this.disabled=i.disabled,this.cssClass=i.cssClass,this._tabbedPanes=this._tabsetTab=this._tabPane=null},t.prototype.empty=function(){n(this._tabPane).empty()},t.prototype.html=function(t){this.empty(),n(this._tabPane).html(t)},t.prototype.append=function(n){context.internal.tabPane.appendChild(n)},t.prototype.remove=function(n){context.internal.tabPane.removeChild(n)},t.prototype.children=function(){return context.internal.tabPane.childNodes}}(jQuery),function(n){var i={refresh:function(){return this.each(function(){var i=n(this).data("tabSet"),a,v,h,o,p;for(i.internal.isRendered=!1,s(i),hiddenContainer=document.createElement("div"),hiddenContainer.style.visibility="hidden",hiddenContainer.style.position="absolute",i.internal.state.appendChild(hiddenContainer);hiddenContainer.childNodes.length>0;)hiddenContainer.removeChild(hiddenContainer.childNodes[0]);a=document.createElement("table"),a.cellPadding="0",a.border="0",a.cellSpacing="0",a.appendChild(document.createElement("tbody")),a.childNodes[0].appendChild(document.createElement("tr")),hiddenContainer.appendChild(a),v=1,typeof i.settings.tabHoverCssClasses=="object"&&i.settings.tabHoverCssClasses.length>v&&(v=i.settings.tabHoverCssClasses.length),typeof i.settings.tabSelectedCssClasses=="object"&&i.settings.tabSelectedCssClasses.length>v&&(v=i.settings.tabSelectedCssClasses.length),typeof i.settings.tabCssClasses=="object"&&i.settings.tabCssClasses.length>v&&(v=i.settings.tabCssClasses.length);for(var y=0,w=0,r=0;r<i.internal.tabs.length;r++){for(h=document.createElement("td"),o=document.createElement("a"),o.href="#",o.style.display="block",o.style.color="#000000",o.style.textDecoration="none",h.appendChild(o),p=o,o=0;o<v;o++)p.appendChild(document.createElement("div")),p=p.childNodes[0];p.innerHTML=i.internal.tabs[r].text,i.internal.tabs[r].cssClass&&n(h).addClass(i.internal.tabs[r].cssClass),a.childNodes[0].childNodes[0].appendChild(h),h._tab=i.internal.tabs[r],i.internal.tabs[r]._element=h,t(i,h.childNodes[0],i.settings.tabHoverCssClasses),h._tab._maxWidth=h.offsetWidth,t(i,h.childNodes[0],i.settings.tabSelectedCssClasses),h._tab._maxWidth<h.offsetWidth&&(h._tab._maxWidth=h.offsetWidth),t(i,h.childNodes[0],i.settings.tabCssClasses),h._tab._maxWidth<h.offsetWidth&&(h._tab._maxWidth=h.offsetWidth),y+=h._tab._maxWidth,h._tab._maxWidth>w&&(w=h._tab._maxWidth)}for(v=Math.ceil(i.internal.tabs.length/Math.ceil((y*3/i.internal.state.offsetWidth+w*i.internal.tabs.length/i.internal.state.offsetWidth)/4)),v<1&&(v=1);i.internal.state.childNodes.length>0;)i.internal.state.removeChild(i.internal.state.childNodes[0]);for(i.internal.state.className=i.settings.cssClass,y=document.createElement("div"),i.settings.enableResizing&&(y.style.width="100%",y.style.overflow="hidden"),i.internal.state.appendChild(y),i.internal.tabRows=[],w=i.internal.selectedTab,i.internal.selectedTabRow=null,i.internal.selectedTab=null,o=-1,r=0;r<i.internal.tabs.length;r++)(o==-1||i.settings.enableResizing&&(i.internal.tabRows[o]._tabs.length==v||i.internal.tabRows[o]._element.offsetWidth+i.internal.tabs[r]._maxWidth>y.offsetWidth&&i.internal.tabRows[o]._tabs.length>0))&&(a=document.createElement("table"),a.cellPadding="0",a.border="0",a.cellSpacing="0",a.appendChild(document.createElement("tbody")),a.childNodes[0].appendChild(document.createElement("tr")),y.appendChild(a),o++,i.internal.tabRows[o]=new e(a)),i.internal.tabRows[o]._element.childNodes[0].childNodes[0].appendChild(i.internal.tabs[r]._element),i.internal.tabRows[o]._tabs[i.internal.tabRows[o]._tabs.length]=i.internal.tabs[r],i.internal.tabs[r]._tabRow=i.internal.tabRows[o],i.internal.tabs[r]._element.childNodes[0].onclick=n.telligent.glow.utility.makeBoundFunction(u,null,[i,i.internal.tabs[r],o]),i.internal.tabs[r]._element.childNodes[0].onmouseover=n.telligent.glow.utility.makeBoundFunction(l,null,[i,i.internal.tabs[r],o]),i.internal.tabs[r]._element.childNodes[0].onmouseout=n.telligent.glow.utility.makeBoundFunction(c,null,[i,i.internal.tabs[r],o]),i.internal.tabs[r]==w&&(i.internal.selectedTab=i.internal.tabs[r],i.internal.selectedTabRow=i.internal.tabRows[o],t(i,i.internal.tabs[r]._element.childNodes[0],i.settings.tabSelectedCssClasses));if(i.internal.tabRows.length>1){for(r=0;r<i.internal.tabRows.length;r++)i.internal.tabRows[r]._element.style.width="100%";i.internal.selectedTabRow&&(y.removeChild(i.internal.selectedTabRow._element),y.appendChild(i.internal.selectedTabRow._element))}i.internal.isRendered=!0,i.internal.tabs.length>0&&(i.internal.resizeCheckHandle&&window.clearTimeout(i.internal.resizeCheckHandle),i.internal.resizeCheckHandle=window.setTimeout(function(){f(i)},49))})},add:function(t){i.remove.apply(this,[t]);var r=!0;return this.each(function(){r?r=!1:t=t._clone();var i=n(this).data("tabSet");t&&(t._tabSet=this,i.internal.tabs[i.internal.tabs.length]=t)})},remove:function(t){return this.each(function(){for(var r=n(this).data("tabSet"),u=[],f=!1,i=0;i<r.internal.tabs.length;i++)r.internal.tabs[i].id==t.id?f=!0:u[u.length]=r.internal.tabs[i];f&&(r.internal.tabs=u)})},clear:function(){return this.each(function(){n(this).data("tabSet").internal.tabs=[]})},insert:function(n,t){i.remove.apply(this,[n]);var r=!0;return this.each(function(){r?r=!1:n=n._clone();for(var i=[],f=!1,u=0;u<context.internal.tabs.length;u++)u==t&&(f=!0,n._tabSet=this,i[i.length]=n),i[i.length]=context.internal.tabs[u];f||(i[i.length]=n),context.internal.tabs=i})},getById:function(n){var i=this.data("tabSet"),t;if(i)for(t=0;t<i.internal.tabs.length;t++)if(i.internal.tabs[t].id==n)return i.internal.tabs[t];return null},getByText:function(t){var i=[];return this.each(function(){for(var u=n(this).data("tabSet"),r=0;r<u.internal.tabs.length;r++)u.internal.tabs[r].text==t&&(i[i.length]=u.internal.tabs[r])}),i},getByIndex:function(n){var t=this.data("tabSet");return t&&n>=0&&n<t.internal.tabs.length?t.internal.tabs[n]:null},count:function(){var n=this.data("tabSet");return n?n.internal.tabs.length:0},selected:function(t){if(t===undefined){var r=this.data("tabSet");return r?r.internal.selectedTab:null}return t?this.each(function(){var f=n(this).data("tabSet"),r=i.getById.apply(n(this),[t.id]);r&&u(f,r)}):this},createTab:function(n){return new r(n)}},o=function(t){return this.each(function(){var r={settings:n.extend({},n.fn.glowTabSet.defaults,t||{}),internal:{state:this,selectedTab:null,selectedTabRow:null,tabs:[],tabRows:[],resizeCheckHandle:null,isRendered:!1,previousContainerOffsetWidth:-1}};n(this).data("tabSet",r),h(r,r.settings.tabs,null),r.internal.tabs.length>0&&i.refresh.apply(n(this))})},h=function(n,t,i){if(typeof i=="undefined"&&n.internal.selectedTab&&(i=n.internal.selectedTab.id),n.internal.tabs=[],!(!t||t.length==0))for(var u=0;u<t.length;u++)n.internal.tabs[u]=new r({id:t[u][0],text:t[u][1],url:t[u][2],onClick:t[u][3],cssClass:t[u][4]}),n.internal.tabs[u]._tabSet=this,n.internal.tabs[u].id==i&&(n.internal.selectedTab=n.internal.tabs[u])},s=function(n){for(var r,t,i=0;i<n.internal.tabRows.length;i++)if(n.internal.tabRows[i]&&n.internal.tabRows[i]._element){if(n.internal.tabRows[i]._element.childNodes[0]&&n.internal.tabRows[i]._element.childNodes[0].childNodes[0])for(r=n.internal.tabRows[i]._element.childNodes[0].childNodes[0],t=0;t<r.childNodes.length;t++)r.childNodes[t]&&r.childNodes[t]._tab&&(r.childNodes[t]._tab._element=null,r.childNodes[t]._tab=null,r.childNodes[t].onclick=null,r.childNodes[t].onmouseover=null,r.childNodes[t].onmouseout=null);n.internal.tabRows[i]._element=null}},t=function(n,t,i){if(typeof i=="object")for(n=0;t&&n<i.length;)t.className=i[n],n++,t=t.childNodes[0];else t&&(t.className=i)},l=function(n,i){return i!=n.internal.selectedTab&&t(n,i._element.childNodes[0],n.settings.tabHoverCssClasses),!1},c=function(n,i){return i!=n.internal.selectedTab&&t(n,i._element.childNodes[0],n.settings.tabCssClasses),!1},u=function(i,r){var u,f;if(r.onClick&&(hadHandler=!0,r.onClick(n(i.internal.state),r)==!1))return!1;if(r!=i.internal.selectedTab)if(i.internal.selectedTab&&t(i,i.internal.selectedTab._element.childNodes[0],i.settings.tabCssClasses),i.internal.selectedTab=r,t(i,r._element.childNodes[0],i.settings.tabSelectedCssClasses),i.internal.tabRows.length>1){for(i.internal.selectedTabRow=null,u=0;u<i.internal.tabRows.length;u++){for(f=0;f<i.internal.tabRows[u]._tabs.length;f++)if(i.internal.tabRows[u]._tabs[f]==i.internal.selectedTab){i.internal.selectedTabRow=i.internal.tabRows[u];break}if(i.internal.selectedTabRow)break}i.internal.selectedTabRow&&(i.internal.state.childNodes[0].removeChild(i.internal.selectedTabRow._element),i.internal.state.childNodes[0].appendChild(i.internal.selectedTabRow._element))}else i.internal.selectedTabRow=i.internal.tabRows[0];if(r.url)try{window.location=r.url}catch(e){}return!1},f=function(t){t.internal.resizeCheckHandle&&window.clearTimeout(t.internal.resizeCheckHandle),t.settings.enableResizing&&t.internal.isRendered&&t.internal.state.offsetWidth!=t.internal.previousContainerOffsetWidth&&(i.refresh.apply(n(t.internal.state)),t.internal.previousContainerOffsetWidth=t.internal.state.offsetWidth,n(t.internal.state).trigger("glowTabSetResize")),t.internal.resizeCheckHandle=window.setTimeout(function(){f(t)},999)},r,e;n.fn.glowTabSet=function(t){if(t in i)return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fn.glowTabSet");else return o.apply(this,arguments)},n.extend(n.fn.glowTabSet,{defaults:{cssClass:"",tabCssClasses:[],tabSelectedCssClasses:[],tabHoverCssClasses:[],enableResizing:!0,tabs:[]}}),r=function(t){var i={id:+new Date,text:"",url:"",cssClass:null,onClick:null};t&&n.extend(i,t),this.id=i.id,this.text=i.text,this.url=i.url,this.onClick=i.onClick,this.cssClass=i.cssClass,this._maxWidth=0,this._tabSetRow=this._tabSet=this._element=null},r.prototype._clone=function(){return new r({id:this.id,text:this.text,url:this.url,onClick:this.onClick})},e=function(n){this._element=n,this._tabs=[],this._tabSet=null}}(jQuery),function(n){var r=[],i=[],u=function(n,t){for(var i=null,f=-1,u=0;u<r.length&&i===null;u++)r[u]?r[u].SelectElement==t&&(i=r[u]):f=u;for(i===null&&(i={},i.SelectElement=t,i.ElementsHidingSelectsIndeces=[],i.OriginalVisibility=t.style.visibility,i.SelectElement.style.visibility="hidden",f==-1?(r[r.length]=i,i.Index=r.length-1):(r[f]=i,i.Index=f)),f=!1,u=0;u<i.ElementsHidingSelectsIndeces.length&&!f;u++)i.ElementsHidingSelectsIndeces[u]==n.Index&&(f=!0);f||(n.HiddenSelectsIndeces[n.HiddenSelectsIndeces.length]=i.Index,i.ElementsHidingSelectsIndeces[i.ElementsHidingSelectsIndeces.length]=n.Index)},f=function(n){for(var t=null,u=-1,r=0;r<i.length&&t===null;r++)i[r]?i[r].Element==n&&(t=i[r]):u=r;return t===null&&(t={},t.Element=n,t.HiddenSelectsIndeces=[],u==-1?(i[i.length]=t,t.Index=i.length-1):(i[u]=t,t.Index=u)),t},t={convertHsvColorToRgbColor:function(n){var i=n[0],e=n[1],f,u,r,t,s,o;return(n=n[2],e===0)?[n,n,n]:(t=i==360?0:i,t/=60,i=Math.floor(t),s=t-i,t=n*(1-e),o=n*(1-e*s),e=n*(1-e*(1-s)),i===0&&(f=n,u=e,r=t),i===1&&(f=o,u=n,r=t),i===2&&(f=t,u=n,r=e),i===3&&(f=t,u=o,r=n),i===4&&(f=e,u=t,r=n),i===5&&(f=n,u=t,r=o),f=Math.round(f),u=Math.round(u),r=Math.round(r),[f,u,r])},convertRgbColorToHsvColor:function(n){var r=n[0],f=n[1],i,e,t,u;return n=n[2],t=Math.max(Math.max(r,f),n),u=t-Math.min(Math.min(r,f),n),e=t===0?0:u/t,e===0?i=0:r==t?i=60*(f-n)/u:f==t?i=120+60*(n-r)/u:n==t&&(i=240+60*(r-f)/u),i<0&&(i+=360),[i,e,t]},convertDecimalToHexadecimal:function(n,t){for(var i="",r;n>0;)r=n%16,i="0123456789abcdef".substr(r,1)+i,n-=r,n/=16;if(t)for(;i.length<t;)i="0"+i;return i},convertHtmlColorToRgbColor:function(n){return n=n.replace(/[^0-9a-f]/ig,""),n.length==3?[parseInt(n.substr(0,1)+n.substr(0,1),16),parseInt(n.substr(1,1)+n.substr(1,1),16),parseInt(n.substr(2,1)+n.substr(2,1),16)]:n.length==6?[parseInt(n.substr(0,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(4,2),16)]:[255,255,255]},convertRgbColorToHtmlColor:function(n){return"#"+t.convertDecimalToHexadecimal(n[0],2)+t.convertDecimalToHexadecimal(n[1],2)+t.convertDecimalToHexadecimal(n[2],2)},getContrastingHtmlColorForRgbColor:function(n){return n[0]*2+n[1]*5+n[2]>1024?"#000000":"#ffffff"},getElementInfo:function(n){var i,u,f;if(n instanceof jQuery&&(n=n.get(0)),i={},n.getBoundingClientRect)n=n.getBoundingClientRect(),u=0,f=0,typeof window.pageXOffset=="number"?(u=window.pageXOffset,f=window.pageYOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(u=document.body.scrollLeft,f=document.body.scrollTop):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(u=document.documentElement.scrollLeft,f=document.documentElement.scrollTop),i.Left=n.left+u,i.Top=n.top+f,i.Right=n.right+u,i.Bottom=n.bottom+f,t.isIE()&&i.Left>=2&&!t.isIE8()&&(i.Left-=2,i.Top-=2,i.Right-=2,i.Bottom-=2),i.Width=n.right-n.left,i.Height=n.bottom-n.top;else{f=u=0;for(var r=n,o=!1,e=!1,s=t.isIE();r;)o||(u+=r.offsetLeft),e||(f+=r.offsetTop),s&&r.offsetParent&&r.offsetParent.style.position=="relative"&&(r.offsetParent.style.width||(o=!0,(r.offsetParent.style.top||r.offsetParent.style.bottom)&&(f+=r.offsetHeight,e=!0))),r=r.offsetParent;i.Left=u,i.Top=f,i.Right=u+n.offsetWidth,i.Bottom=u+n.offsetHeight,i.Width=n.offsetWidth,i.Height=n.offsetHeight}return i},getWindowInfo:function(n){n||(n=window);var o=0,e=0,u=0,f=0,r=0,i=0;return typeof n.pageXOffset=="number"?(o=n.pageXOffset,e=n.pageYOffset):n.document.body&&(n.document.body.scrollLeft||n.document.body.scrollTop)?(o=n.document.body.scrollLeft,e=n.document.body.scrollTop):n.document.documentElement&&(n.document.documentElement.scrollLeft||n.document.documentElement.scrollTop)&&(o=n.document.documentElement.scrollLeft,e=n.document.documentElement.scrollTop),typeof n.innerWidth=="number"?(u=n.innerWidth,f=n.innerHeight):n.document.documentElement&&(n.document.documentElement.clientWidth||n.document.documentElement.clientHeight)?(u=n.document.documentElement.clientWidth,f=n.document.documentElement.clientHeight):n.document.body&&(n.document.body.clientWidth||n.document.body.clientHeight)&&(u=n.document.body.clientWidth,f=n.document.body.clientHeight),n.document.body&&(n.document.body.scrollHeight||n.document.body.offsetHeight)&&(n.document.body.scrollHeight||n.document.body.scrollWidth?(r=n.document.body.scrollWidth,i=n.document.body.scrollHeight):(r=n.document.body.offsetWidth,i=n.document.body.offsetHeight)),n.document.documentElement&&(n.document.documentElement.scrollHeight||n.document.documentElement.offsetHeight)&&(n.document.documentElement.scrollHeight||n.document.documentElement.scrollWidth?(n.document.documentElement.scrollWidth>r&&(r=n.document.documentElement.scrollWidth),n.document.documentElement.scrollHeight>i&&(i=n.document.documentElement.scrollHeight)):(n.document.documentElement.offsetWidth>r&&(r=n.document.documentElement.offsetWidth),n.document.documentElement.offsetHeight>i&&(i=n.document.documentElement.offsetHeight))),r==0&&i==0&&(r=u,i=f),t.isSafari()?f>i&&(i=f):f>i&&(f=i),t.isSafari()?u>r&&(r=u):u>r&&(u=r),n={},n.ScrollX=o,n.ScrollY=e,n.Width=u,n.Height=f,n.ContentWidth=r,n.ContentHeight=i,n},getCurrentStyleValue:function(n,i,r,u){n instanceof jQuery&&(n=n.get(0));var f="";try{document.defaultView&&document.defaultView.getComputedStyle?f=document.defaultView.getComputedStyle(n,"").getPropertyValue(i):n.currentStyle&&(f=n.currentStyle[r])}catch(e){}return(f=="inherit"||f=="transparent")&&n.parentNode!==null?t.getCurrentStyleValue(n.parentNode,i,r,u):f!==""&&f!==undefined&&f!="rgba(0, 0, 0, 0)"?f:u},getStyleOffset:function(n){n instanceof jQuery&&(n=n.get(0));var i={};return i.Height=t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"border-top-width","borderTopWidth","0"),10),0)+t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"border-bottom-width","borderBottomWidth","0"),10),0)+t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"padding-top","paddingTop","0"),10),0)+t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"padding-bottom","paddingBottom","0"),10),0),i.Width=t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"border-left-width","borderLeftWidth","0"),10),0)+t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"border-right-width","borderRightWidth","0"),10),0)+t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"padding-left","paddingLeft","0"),10),0)+t.isNanDefault(parseInt(t.getCurrentStyleValue(n,"padding-right","paddingRight","0"),10),0),i},isNanDefault:function(n,t){return isNaN(n)?t:n},escapeForRegExp:function(n){return n.replace(/([\\\(\^\$\*\+\?\{\}\.\)\|\-])/g,"\\$1")},getSelectedHtmlInElement:function(n,i,r,u){var s=!0,o=null,f,e;return window.getSelection?(f=window.getSelection(),f&&f.rangeCount>0&&f.toString().length>0&&(s=!1,f=f.getRangeAt(0),e=document.createRange(),e.selectNode(n),e.compareBoundaryPoints(Range.START_TO_START,f)<=0&&e.compareBoundaryPoints(Range.END_TO_END,f)>=0?(u=document.createElement("div"),u.appendChild(f.cloneContents()),o=u.innerHTML):u&&alert(u))):document.selection&&(f=document.selection.createRange())&&f.text&&(s=!1,e=f.parentElement(),e!==null&&t.elementContainsElement(n,e)?o=f.htmlText:u&&alert(u)),o===null&&(s&&i||r)&&(o=n.innerHTML),o},elementContainsElement:function(n,i){if(n instanceof jQuery&&(n=n.get(0)),i instanceof jQuery&&(i=i.get(0)),!n||!i)return!1;if(n==i)return!0;if(n&&n.childNodes)for(var r=0;r<n.childNodes.length;r++)if(n.childNodes[r]==i||t.elementContainsElement(n.childNodes[r],i))return!0;return!1},getCurrentCursorIndex:function(n){var t,r,i;return n instanceof jQuery&&(n=n.get(0)),t=0,n.selectionStart||n.selectionStart=="0"?t=n.selectionStart:document.selection&&(r=n.value,t=document.selection.createRange(),i=String.fromCharCode(1),t.text=i,t=n.value.indexOf(i),n.value=r),t},isSafari:function(){return navigator.userAgent.indexOf("Safari")!=-1},isOpera:function(){return window.opera!==null},isIE:function(){return navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1},isIE8:function(){return t.isIE()?parseInt(/MSIE ([0-9]*)\./.exec(navigator.userAgent)[1],9)>=8:!1},setCurrentCursorSelection:function(i,r,u,f,e){if(i instanceof jQuery&&(i=i.get(0)),t.isSafari()||t.isOpera()){if(f){(f=n(i).data("telligentUtility"))&&f.CursorTimeout&&window.clearTimeout(f.CursorTimeout),f={},f.InputElement=i,f.StartIndex=r,f.EndIndex=u,f.PersistedValue=e,n(i).data("telligentUtility",f),f.CursorTimeout=window.setTimeout(function(){var u=i,r=n(u).data("telligentUtility");r&&(t.setCurrentCursorSelection(r.InputElement,r.StartIndex,r.EndIndex,!1,r.PersistedValue),n(u).data("telligentUtility",null))},9);return}i.focus(),e&&(i.value=e)}try{if(document.selection){var o=i.createTextRange();o.move("character",r),o.moveEnd("character",u-r),o.select()}else i.setSelectionRange?(i.setSelectionRange(r,u),i.focus()):(i.selectionStart||i.selectionStart=="0")&&(i.selectionStart=r,i.selectionEnd=u)}catch(s){}},hideElementsInWindow:function(n,i,r){var c,h;n instanceof jQuery&&(n=n.get(0));for(var l=null,s=t.getElementInfo(n),e=i.document.getElementsByTagName("iframe"),o=0;o<e.length;o++)if(!t.elementContainsElement(n,e[o]))try{t.hideElementsInWindow(n,e[o].contentWindow,r)}catch(a){i=t.getElementInfo(e[o]),(r||i.Top<s.Bottom&&s.Top<i.Bottom&&i.Left<s.Right&&s.Left<i.Right)&&(l===null&&(l=f(n)),u(l,e[o]),e[o].style.visibility="hidden")}for(e=["object","embed","applet"],t.isIE()&&(e[e.length]="select"),o=0;o<e.length;o++)for(c=document.getElementsByTagName(e[o]),h=0;h<c.length;h++)t.elementContainsElement(n,c[h])||(i=t.getElementInfo(c[h]),(r||i.Top<s.Bottom&&s.Top<i.Bottom&&i.Left<s.Right&&s.Left<i.Right)&&(l===null&&(l=f(n)),u(l,c[h]),c[h].style.visibility="hidden"))},hideSelectBoxes:function(n,i){n instanceof jQuery&&(n=n.get(0)),t.hideElementsInWindow(n,window.window,i)},showSelectBoxes:function(n){var u,t,e,f;for(n instanceof jQuery&&(n=n.get(0)),u=null,t=0;t<i.length&&u===null;t++)i[t]&&i[t].Element==n&&(u=i[t]);if(u!==null){for(t=0;t<u.HiddenSelectsIndeces.length;t++)if(n=r[u.HiddenSelectsIndeces[t]])if(n.ElementsHidingSelectsIndeces.length==1){try{n.SelectElement.style.visibility=="hidden"&&(n.SelectElement.style.visibility=n.OriginalVisibility)}catch(o){}r[n.Index]=null}else{for(e=[],f=0;f<n.ElementsHidingSelectsIndeces.length;f++)n.ElementsHidingSelectsIndeces[f]!=u.Index&&(e[e.length]=n.ElementsHidingSelectsIndeces[t]);n.ElementsHidingSelectsIndeces=e}i[u.Index]=null}},makeBoundFunction:function(n,t,i){return function(){return n.apply(t,i)}}};typeof n.telligent=="undefined"&&(n.telligent={}),typeof n.telligent.glow=="undefined"&&(n.telligent.glow={}),typeof n.telligent.glow.utility=="undefined"&&(n.telligent.glow.utility=t)}(jQuery),function(n){n.fn.glowTransition=function(t,i){var r=n(t).hide(),u=n.extend({},n.fn.glowTransition.defaults,i||{});return this.each(function(){var i=n(this),s={width:i.outerWidth(),height:i.outerHeight(),left:i.css("left"),top:i.css("top"),position:"relative",overflow:"hidden"},t={rawWidth:r.width(),rawHeight:r.height(),width:r.outerWidth(),height:r.outerHeight()};i.wrap(n("<div><\/div>").css(s)).css({position:"absolute"});var h=i.parent(),f={position:"absolute"},e={},o={};u.resize&&(n.extend(f,{width:s.width,height:s.height}),n.extend(e,{width:t.width,height:t.height}),n.extend(o,{width:t.rawWidth,height:t.rawHeight}));switch(u.type){case"slideLeft":f.left="+"+t.width+"px",e.left="-="+t.width,o.left=0;break;case"slideRight":f.left="-"+t.width+"px",e.left="+="+t.width,o.left=0;break;case"slideUp":f.top="+"+t.height+"px",e.top="-="+t.height,o.top=0;break;case"slideDown":f.top="-"+t.height+"px",e.top="+="+t.height,o.top=0;break;case"fade":f.opacity=0,e.opacity=0,o.opacity=1}r.prependTo(h).css(f).show(),i.stop().animate(e,u.duration),r.stop().animate(o,u.duration+1,function(){r.css({position:"static",top:"0px",left:"0px"}).unwrap(),i.remove(),u.complete()}),h.stop().animate({width:t.width,height:t.height},u.duration)})},n.fn.glowTransition.defaults={complete:function(){},duration:200,resize:!0,type:"fade"}}(jQuery),function(n){var r={nodeSelected:"glowTreeNodeSelected",contextMenu:"glowTreeContextMenu",nodeRemoved:"glowTreeNodeRemoved",nodeMoved:"glowTreeNodeMoved",nodeAdded:"glowTreeNodeAdded"},p=function(t){return this.each(function(){var i={settings:n.extend({},n.fn.glowTree.defaults,t||{}),internal:{state:this,wrapper:null,container:null,selectedNode:null,nodes:[],backgroundColor:null,movingNode:null,movingNodeStartParent:null,draggingInitialized:!1,pagePosition:null,movingNodeIsFloating:!1,movingNodeFloat:null,nodeHeightsCache:null,movingNodeStartIndex:null,movingNodeLastIndex:null,moveStartY:null,moveScrollStartY:null,draggableTrees:[],initialized:!1}};n(this).data("tree",i),v(i)})},o=function(n,t){for(var i=0;i<n.internal.nodes.length;i++)n.internal.nodes[i]._setCursor(t);n.internal.wrapper.style.cursor=t},s=function(n,t,i,r){n.internal.pagePosition==null&&u(n);var o=n.internal.pagePosition.Left,e=n.internal.pagePosition.Left+n.internal.pagePosition.Width,f=n.internal.pagePosition.Top;return n=n.internal.pagePosition.Top+n.internal.pagePosition.Height,r&&(o-=10,e+=10,f-=10,n+=10),t>o&&t<e&&i>f&&i<n},e=function(n,t){return t.expanded()&&t.count()>0?t._element.offsetHeight-t._element.childNodes[2].offsetHeight:t._element.offsetHeight},a=function(n,t,i){for(var u,o,f,r=0;r<t.length;r++)t[r]._element&&(t[r]===i?(u={},u.parentNode=t[r]._parent,u.height=t[r]._element.offsetHeight,u.index=r,n.internal.nodeHeightsCache[n.internal.nodeHeightsCache.length]=u,n.internal.movingNodeStartIndex=n.internal.nodeHeightsCache.length-1,n.internal.movingNodeLastIndex=n.internal.nodeHeightsCache.length-1):(u={},u.parentNode=t[r]._parent,u.height=e(n,t[r]),u.index=r,u.isBeforeNode=t[r]._parent==i._parent,n.internal.nodeHeightsCache[n.internal.nodeHeightsCache.length]=u,o=u.height*.25,t[r].expanded()&&(t[r]._nodes.length>0?a(n,t[r]._nodes,i):t[r].canHaveChildren()&&(u.height-=o,f={},f.parentNode=t[r],f.height=o,f.index=0,n.internal.nodeHeightsCache[n.internal.nodeHeightsCache.length]=f)),f=null,t[r]._parent==i._parent&&(f={},f.parentNode=t[r]._parent,f.height=u.height,f.index=r,f.isAfterNode=!0,n.internal.nodeHeightsCache[n.internal.nodeHeightsCache.length]=f),r==t.length-1&&(u.height-=o,f&&(f.height=u.height),u={},u.parentNode=t[r]._parent,u.height=o,u.index=r+1,n.internal.nodeHeightsCache[n.internal.nodeHeightsCache.length]=u)))},v=function(i){if(i.internal.state.offsetHeight){if(i.internal.state.disabled&&(i.internal.state.disabled=!1,i.internal.state.readonly=!0),i.internal.backgroundColor=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"background-color","backgroundColor","#ffffff"),i.internal.backgroundColor.replace(/\#[0-9a-f]*/gi,"")!=""&&(i.internal.backgroundColor="#ffffff"),i.internal.wrapper=document.createElement("div"),i.internal.wrapper.style.backgroundColor=i.internal.backgroundColor,i.internal.wrapper.style.fontFamily=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-family","fontFamily","Arial, Helvetica"),i.internal.wrapper.style.fontSize=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"font-size","fontSize","100%"),i.internal.wrapper.style.lineHeight=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"line-height","lineHeight","100%"),i.internal.wrapper.style.color=n.telligent.glow.utility.getCurrentStyleValue(i.internal.state,"color","color","#000000"),i.internal.wrapper.style.borderStyle="outset",i.internal.wrapper.style.borderWidth="1px",i.internal.wrapper.style.borderColor="#999999",i.internal.wrapper.style.padding="2px",i.internal.wrapper.style.overflow="auto",i.internal.wrapper.style.width=i.internal.state.offsetWidth-4+"px",i.internal.wrapper.style.height=i.internal.state.offsetHeight-4+"px",i.internal.wrapper.style.cursor="default",i.internal.wrapper.style.position="relative",i.internal.container=document.createElement("ul"),i.internal.container.style.listStyleType="none",i.internal.container.style.margin="0",i.internal.container.style.whiteSpace="nowrap",i.internal.container.style.padding="0",i.internal.wrapper.appendChild(i.internal.container),i.internal.state.parentNode.insertBefore(i.internal.wrapper,i.internal.state),c(i,null,i.internal.state.options,0,i.settings.nodeHtml,0),i.internal.state.style.display="none",i.internal.initialized=!0,t.disabled.apply(n(i.internal.state),[i.internal.state.readonly===!0]),i.internal.state.selectedIndex>=0){var r=t.getByValue.apply(n(i.internal.state),[i.internal.state.options[i.internal.state.selectedIndex].value]);r&&t.selected.apply(n(i.internal.state),[r])}}else window.setTimeout(function(){v(i)},249)},c=function(n,t,r,u,f,e){for(var o,h,a,l,s=u;s<r.length;s++)if(l=r[s].text,(a=l.match(/^(\-*) /))?(h=a[1].length/2,l=l.substr(a[1].length)):h=0,h==e)h=r[s].value,(o=f.shift())||(o=l),o=new i({html:o,value:h}),t?t.add(o):(o._parent=null,o._treeContext=n,n.internal.nodes[n.internal.nodes.length]=o);else if(h>e&&o)s+=c(n,o,r,s,f,e+1);else return s-u-1;return r.length-u-1},f=function(n,t,i){var f,r,u;for(i?(r=t._element,i=r.offsetTop,f=e(n,t),t=r.offsetLeft):(r=t._element.childNodes[1],i=r.offsetTop,f=e(n,t),t=r.offsetLeft-t._element.childNodes[0].offsetWidth),i-=6,t-=6,u=r.offsetParent;u&&u!=n.internal.wrapper;)i+=u.offsetTop,t+=u.offsetLeft,u=u.offsetParent;u=n.internal.wrapper.offsetWidth-24,t+r.offsetWidth>n.internal.wrapper.scrollLeft+u&&r.offsetWidth<u?n.internal.wrapper.scrollLeft=t:(t<n.internal.wrapper.scrollLeft||t+r.offsetWidth>n.internal.wrapper.scrollLeft+u)&&(n.internal.wrapper.scrollLeft=t),r=n.internal.wrapper.offsetHeight-24,i+f>n.internal.wrapper.scrollTop+r&&f<r?n.internal.wrapper.scrollTop=i+f-r:(i<n.internal.wrapper.scrollTop||i+f>n.internal.wrapper.scrollTop+r)&&(n.internal.wrapper.scrollTop=i)},w=function(t){t.internal.draggableTrees=[],t.settings.draggableTrees&&t.settings.draggableTrees.each(function(){try{n(this).glowTree("disabled")===!1&&(t.internal.draggableTrees[t.internal.draggableTrees.length]=n(this))}catch(i){}})},y=function(n){u(n),w(n);for(var t=0;t<n.internal.draggableTrees.length;t++)n.internal.draggableTrees[t].glowTree("highlight",!0);n.internal.draggableTrees.length>0?o(n,"move"):o(n,"n-resize"),n.internal.draggingInitalized=!0},u=function(t){t.internal.pagePosition=n.telligent.glow.utility.getElementInfo(t.internal.wrapper)},h=function(i,u,f){if(u||(u=window.event),i.internal.movingNode==null){if(i.internal.movingNode=f,i.internal.movingNodeStartParent=f.getParent(),i.internal.draggingInitalized=!1,typeof u.pageY!="undefined")i.internal.moveStartY=u.pageY;else{var e=n.telligent.glow.utility.getWindowInfo();i.internal.moveStartY=u.clientY+e.ScrollY}i.internal.moveScrollStartY=i.internal.wrapper.scrollTop,i.internal.nodeHeightsCache=[],i.internal.wrapper.style.overflow="hidden",a(i,i.internal.nodes,f),n(document).bind("mouseup.glowTree",function(n){return l(i,n),!1}).bind("mousemove.glowTree",function(u){var e,c,o,f,h,a,v;if(u=u,u||(u=window.event),e=0,c=0,typeof u.pageY!="undefined"?(e=u.pageY,c=u.pageX):(c=n.telligent.glow.utility.getWindowInfo(),e=u.clientY+c.ScrollY,c=u.clientX+c.ScrollX),i.internal.movingNode!=null){if(i.internal.draggingInitalized||y(i),o=e-i.internal.moveStartY,o+=i.internal.wrapper.scrollTop-i.internal.moveScrollStartY,f=i.internal.movingNodeStartIndex,h=o,o={},o.parentNode=null,o.index=-1,o.nodeHeightsCacheIndex=f,i.internal.nodeHeightsCache&&f>=0&&f<i.internal.nodeHeightsCache.length){for(f=f,a=h>0,v=!1;!v;)h>0?f<i.internal.nodeHeightsCache.length-1&&(h>i.internal.nodeHeightsCache[f+1].height||i.internal.nodeHeightsCache[f+1].isBeforeNode)?(f++,i.internal.nodeHeightsCache[f].isBeforeNode||(h-=i.internal.nodeHeightsCache[f].height)):v=!0:h<0?f>0&&(-h>i.internal.nodeHeightsCache[f-1].height||i.internal.nodeHeightsCache[f-1].isAfterNode)?(f--,i.internal.nodeHeightsCache[f].isAfterNode||(h+=i.internal.nodeHeightsCache[f].height)):v=!0:v=!0;if(a)for(;i.internal.nodeHeightsCache[f].isBeforeNode&&f>0;)f--;else for(;i.internal.nodeHeightsCache[f].isAfterNode&&f<i.internal.nodeHeightsCache.length-1;)f++;o.parentNode=i.internal.nodeHeightsCache[f].parentNode,o.index=i.internal.nodeHeightsCache[f].index,o.nodeHeightsCacheIndex=f}if(i.internal.draggableTrees.length>0&&!i.internal.movingNodeIsFloating&&!s(i,c,e,!0)){for(h=i.internal.movingNode,i.internal.movingNodeFloat||(i.internal.movingNodeFloat=document.createElement("div"),i.internal.movingNodeFloat.style.position="absolute",i.internal.movingNodeFloat.style.opacity=".75",n.telligent.glow.utility.isIE()&&(i.internal.movingNodeFloat.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=75)"),i.internal.movingNodeFloat.style.backgroundColor="#cccccc",i.internal.movingNodeFloat.style.borderColor="#666666",i.internal.movingNodeFloat.style.fontFamily=i.internal.wrapper.style.fontFamily,i.internal.movingNodeFloat.style.fontSize=i.internal.wrapper.style.fontSize,i.internal.movingNodeFloat.style.lineHeight=i.internal.wrapper.style.lineHeight,i.internal.movingNodeFloat.style.color=i.internal.wrapper.style.color,i.internal.movingNodeFloat.style.padding="2px",i.internal.movingNodeFloat.style.cursor="move",i.internal.movingNodeFloat.style.borderStyle="dotted",i.internal.movingNodeFloat.style.borderWidth="1px",document.body.appendChild(i.internal.movingNodeFloat));i.internal.movingNodeFloat.childNodes.length>0;)i.internal.movingNodeFloat.removeChild(i.internal.movingNodeFloat.childNodes[i.internal.movingNodeFloat.childNodes.length-1]);i.internal.movingNodeFloat.style.width=h._element.offsetWidth+"px",i.internal.movingNodeFloat.style.height=h._element.offsetHeight+"px",i.internal.movingNodeFloat.innerHTML=h._element.innerHTML,i.internal.movingNodeIsFloating=!0,i.internal.movingNodeFloat.style.display="block"}if(i.internal.movingNodeIsFloating)if(i.internal.movingNodeFloat.style.left=c-i.internal.movingNodeFloat.offsetWidth/2+"px",i.internal.movingNodeFloat.style.top=e-i.internal.movingNodeFloat.offsetHeight/2+"px",s(i,c,e,!0))i.internal.movingNodeFloat.style.display="none",i.internal.movingNodeIsFloating=!1;else for(h=null,f=0;f<i.internal.draggableTrees.length;f++)(h=i.internal.draggableTrees[f].glowTree("getParentAndIndex",c,e)).index!=-1&&(a=i.internal.movingNode,l(i,u,!0),t.remove.apply(n(i.internal.state),[a]),t.refresh.apply(n(i.internal.state),[]),n(i.internal.state).trigger(r.nodeRemoved,[a]),i.internal.draggableTrees[f].glowTree("addDraggedNode",a,h.parentNode,h.index,u),i.internal.movingNodeFloat.style.display="none",i.internal.movingNodeIsFloating=!1);if(i.internal.movingNode!=null&&!i.internal.movingNodeIsFloating&&o.nodeHeightsCacheIndex!=i.internal.movingNodeLastIndex){i.internal.movingNodeLastIndex=o.nodeHeightsCacheIndex,e=i.internal.movingNode._parent,o.parentNode?o.parentNode.insert(i.internal.movingNode,o.index):t.insert.apply(n(i.internal.state),[i.internal.movingNode,o.index]);n:{for(c=o.parentNode,u=[],e=e;e;)u[u.length]=e,e=e._parent;for(e=c;e;){for(c=u.length-1;c>=0;c--)if(u[c]==e){u=e;break n}e=e._parent}u=null}u?u.refresh():t.refresh.apply(n(i.internal.state),[]),t.selected.apply(n(i.internal.state),[i.internal.movingNode])}}return!1})}},l=function(i,u,f){for(o(i,"default"),!f&&i.internal.movingNode&&i.internal.movingNodeStartIndex!=i.internal.movingNodeLastIndex&&n(i.internal.state).trigger(r.nodeMoved,[i.internal.movingNode,i.internal.movingNodeStartParent]),i.internal.wrapper.style.cursor="auto",i.internal.wrapper.style.overflow="auto",n(document).unbind(".glowTree"),i.internal.movingNode=null,i.internal.nodeHeightsCache=[],i.internal.movingNodeIsFloating&&(i.internal.movingNodeIsFloating=!1,i.internal.movingNodeFloat.style.display="none"),u=0;u<i.internal.draggableTrees.length;u++)i.internal.draggableTrees[u].glowTree("highlight",!1);t.highlight.apply(n(i.internal.state),[!1])},t={getParentAndIndex:function(t,i){var r=n(this).data("tree"),f,e;if(!r)return null;if(r.internal.pagePosition==null&&u(r),f={},f.parentNode=null,f.index=-1,t>r.internal.pagePosition.Left&&t<r.internal.pagePosition.Left+r.internal.pagePosition.Width&&i>r.internal.pagePosition.Top-10&&i<r.internal.pagePosition.Top+r.internal.pagePosition.Height+10)for(i-=r.internal.pagePosition.Top,i-=r.internal.container.offsetTop,i+=r.internal.wrapper.scrollTop,e=f.index=0;e<r.internal.nodes.length;e++)if(r.internal.nodes[e]._element)if(i<r.internal.nodes[e]._element.offsetHeight){(r=r.internal.nodes[e]._getParentAndIndex(i))&&(r.moveNext?f.index++:f=r);break}else i-=r.internal.nodes[e]._element.offsetHeight,f.index++;return f},highlight:function(t){return this.each(function(){var i=n(this).data("tree"),r;if(t){for(r=0;r<i.internal.nodes.length;r++)i.internal.nodes[r]._highlight();i.internal.wrapper.style.backgroundColor="#cccccc",i.internal.wrapper.style.borderColor="#666666",u(i)}else{for(r=0;r<i.internal.nodes.length;r++)i.internal.nodes[r]._unhighlight();i.internal.wrapper.style.backgroundColor=i.internal.backgroundColor,i.internal.wrapper.style.borderColor="#999999"}})},addDraggedNode:function(i,u,f,e){var o=this.data("tree");return o&&(e||(e=window.event),u?(u.insert(i,f),u.refresh()):(t.insert.apply(n(o.internal.state),[i,f]),t.refresh.apply(n(o.internal.state),[])),n(o.internal.state).trigger(r.nodeAdded,[i]),t.selected.apply(n(o.internal.state),[i]),h(o,e,i),y(o)),this},selected:function(i){if(i===undefined){var u=this.data("tree");if(u)return u.internal.selectedNode}else return this.each(function(){var u=n(this).data("tree"),e=t.getByValue.apply(n(this),[i.value]),o;e&&(o=u.internal.selectedNode,u.internal.selectedNode&&u.internal.selectedNode._element&&(u.internal.selectedNode._element.childNodes[1].style.backgroundColor=u.internal.backgroundColor),e._element?(e._element.childNodes[1].style.backgroundColor="#ccc",u.internal.selectedNode=e,f(u,e),o!=e&&n(u.internal.state).trigger(r.nodeSelected,[u.internal.selectedNode])):u.internal.selectedNode=null)})},resize:function(t,i){return t<=4&&(t=4),i<=4&&(i=4),this.each(function(){var r=n(this).data("tree");r.internal.wrapper.style.width=t-4+"px",r.internal.wrapper.style.height=i-4+"px"})},disabled:function(i){if(i===undefined){var r=this.data("tree");if(r)return r.internal.state.readonly}else return this.each(function(){var r=n(this).data("tree");r.internal.state.readonly=i,t.refresh.apply(n(r.internal.state),[])})},refresh:function(){return this.each(function(){var i=n(this).data("tree"),r;if(i.internal.initialized){for(;i.internal.container.childNodes.length>0;)i.internal.container.removeChild(i.internal.container.childNodes[0]);for(r=0;r<i.internal.nodes.length;r++)i.internal.nodes[r]._dispose(!0),i.internal.nodes[r].refresh();i.internal.selectedNode&&t.selected.apply(n(i.internal.state),[i.internal.selectedNode])}})},add:function(i){if(!i)return this;t.remove.apply(this,[i]);var r=!0;return this.each(function(){r?r=!1:i=i._clone();var t=n(this).data("tree");i._parent=null,i._treeContext=t,t.internal.nodes[t.internal.nodes.length]=i})},remove:function(i){if(i)return this.each(function(){var u=n(this).data("tree"),r=t.getByValue.apply(n(u.internal.state),[i.value]);if(r)if(r.getParent()==null){for(var e=[],o=!1,f=0;f<u.internal.nodes.length;f++)u.internal.nodes[f]==r?o=!0:e[e.length]=u.internal.nodes[f];o&&(r._dispose(),u.internal.nodes=e)}else r.getParent()._remove(r)})},insert:function(i,r){if(!i)return this;t.remove.apply(this,[i]);var u=!0;return this.each(function(){var t,f;for(u?u=!1:i=i._clone(),t=n(this).data("tree"),(r<0||r>=t.internal.nodes.length)&&(r=t.internal.nodes.length),f=t.internal.nodes.length;f>r;f--)t.internal.nodes[f]=t.internal.nodes[f-1];i._parent=null,i._treeContext=t,t.internal.nodes[r]=i})},getByValue:function(n){var i=this.data("tree"),r,t;if(i)for(t=0;t<i.internal.nodes.length;t++){if(i.internal.nodes[t].value==n)return i.internal.nodes[t];if((r=i.internal.nodes[t].getByValue(n))!=null)return r}return null},getIndex:function(n){var i=this.data("tree"),t;if(i){for(t=0;t<i.internal.nodes.length;t++)if(i.internal.nodes[t]==n)return t;return-1}},getByIndex:function(n){var t=this.data("tree");if(t&&n<t.internal.nodes.length&&n>=0)return t.internal.nodes[n]},count:function(){var n=this.data("tree");if(n)return n.internal.nodes.length},createTreeNode:function(n){return new i(n)}},i;n.fn.glowTree=function(i){if(i in t)return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.fn.glowTree");else return p.apply(this,arguments)},n.extend(n.fn.glowTree,{defaults:{enableDragDrop:!1,getSubNodes:null,canHaveChildren:null,nodeHtml:[],draggableTrees:"",expandedImageUrl:"",collapsedImageUrl:"",blankImageUrl:""}}),i=function(t){var i={value:+new Date,html:""};t&&n.extend(i,t),this.html=i.html,this.value=i.value,this._parent=null,this._canHaveChildren=!0,this._isLoaded=this._isExpanded=!1,this._element=this._treeContext=null,this._nodes=[]},i.prototype._clone=function(){for(var t=new i({value:this.value,html:this.html}),n=0;n<this._nodes.length;n++)t.add(this._nodes[n]._clone());return t},i.prototype.add=function(n){n._parent=this,n._treeContext=this._treeContext,this._nodes[this._nodes.length]=n},i.prototype._dispose=function(n){if(this._element=null,!n)for(n=0;n<this._nodes.length;n++)this._nodes[n]._dispose()},i.prototype.refresh=function(){var i,u,o=!1,e,f;if(this._element||(o=!0),o){this._dispose(),i=document.createElement("li"),i.style.margin="0",i.style.padding="0",i.onselectstart=function(){return!1};try{i.style.MozUserSelect="none"}catch(l){}try{i.style.userSelect="none"}catch(c){}try{i.style.WebkitUserSelect="ignore"}catch(s){}}else i=this._element;for(;i.childNodes.length>0;)i.removeChild(i.childNodes[0]);if(i.appendChild(document.createElement("img")),i.appendChild(document.createElement("span")),i.childNodes[1].innerHTML=this.html,t.disabled.apply(n(this._treeContext.internal.state))||(i.childNodes[1].onclick=n.telligent.glow.utility.makeBoundFunction(t.selected,n(this._treeContext.internal.state),[this]),e=this,this._treeContext.settings.enableDragDrop&&(i.childNodes[1].onmousedown=function(n){h(e._treeContext,n,e)}),i.childNodes[1].oncontextmenu=function(){n(e._treeContext.internal.state).trigger(r.contextMenu,[void 0,e])}),this._element=i,this._treeContext.internal.selectedNode==this&&(this._element.childNodes[1].style.backgroundColor="#ccc"),this._nodes.length>0){if(this._isLoaded=!0,i.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:this._treeContext.settings.collapsedImageUrl,t.disabled.apply(n(this._treeContext.internal.state))?i.childNodes[0].style.cursor="default":(i.childNodes[0].style.cursor="pointer",f=this,i.childNodes[0].onclick=function(){f.expanded(!f._isExpanded,!0)}),this._isExpanded)for(u=document.createElement("ul"),u.style.listStyleType="none",u.style.margin="0",u.style.padding="0",u.style.paddingLeft="16px",i.appendChild(u),u=0;u<this._nodes.length;u++)this._nodes[u]._dispose(!0),this._nodes[u]._parent=this,this._nodes[u]._treeContext=this._treeContext,this._nodes[u].refresh()}else this._isLoaded||this._isExpanded||!this._treeContext.settings.getSubNodes?(i.childNodes[0].src=this._treeContext.settings.blankImageUrl,i.childNodes[0].style.cursor="default"):(i.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:this._treeContext.settings.collapsedImageUrl,t.disabled.apply(n(this._treeContext.internal.state))?i.childNodes[0].style.cursor="default":(i.childNodes[0].style.cursor="pointer",f=this,i.childNodes[0].onclick=function(){f.expanded(!f._isExpanded,!0)}));o&&(this._parent?this._parent._element.childNodes[2].appendChild(i):this._treeContext.internal.container.appendChild(i))},i.prototype._getParentAndIndex=function(n){var t,i;if(n>this._element.childNodes[1].offsetHeight/2&&(this._nodes.length==0||!this._isExpanded))return t={},t.moveNext=!0,t;if(n-=this._element.childNodes[1].offsetHeight,n<0||this._nodes.length==0||!this._isExpanded)return null;for(t={},t.parentNode=this,t.index=0,t.moveNext=!1,i=0;i<this._nodes.length;i++)if(this._nodes[i]._element)if(n<this._nodes[i]._element.offsetHeight){(n=this._nodes[i]._getParentAndIndex(n))&&(n.moveNext?t.index++:t=n);break}else n-=this._nodes[i]._element.offsetHeight,t.index++;return t},i.prototype._highlight=function(){if(this._element&&(this._element.style.backgroundColor="#cccccc",this._isExpanded))for(var n=0;n<this._nodes.length;n++)this._nodes[n]._highlight()},i.prototype._unhighlight=function(){if(this._element&&(this._element.style.backgroundColor=this._treeContext.internal.backgroundColor,this._isExpanded))for(var n=0;n<this._nodes.length;n++)this._nodes[n]._unhighlight()},i.prototype._setCursor=function(n){if(this._element&&(this._element.style.cursor=n,this._isExpanded))for(var t=0;t<this._nodes.length;t++)this._nodes[t]._setCursor(n)},i.prototype.expanded=function(t,i){if(t===undefined)return this._isExpanded;this._isExpanded=t?!0:!1,this._treeContext&&(this._element&&this._element.childNodes.length==3?(this._element.childNodes[2].style.display=this._isExpanded?"block":"none",this._element.childNodes[0].src=this._isExpanded?this._treeContext.settings.expandedImageUrl:this._treeContext.settings.collapsedImageUrl):(this._isExpanded&&!this._isLoaded&&this._treeContext.settings.getSubNodes&&(this._treeContext.settings.getSubNodes(n(this._treeContext.internal.state),this),this._isLoaded=!0),this.refresh()),i&&(this._isExpanded?f(this._treeContext,this,!0):f(this._treeContext,this,!1)))},i.prototype.add=function(i){t.remove.apply(n(this._treeContext.internal.state),[i]),i._parent=this,i._treeContext=this._treeContext,this._nodes[this._nodes.length]=i},i.prototype._remove=function(n){for(var i=[],r=!1,t=0;t<this._nodes.length;t++)this._nodes[t].value==n.value?r=!0:i[i.length]=this._nodes[t];r&&(n._dispose(),this._nodes=i)},i.prototype.canHaveChildren=function(t){if(t===undefined)return this._treeContext&&this._treeContext.settings.canHaveChildren?this._treeContext.settings.canHaveChildrenFunction(n(this._treeContext.internal.state),this):this._canHaveChildren;this._canHaveChildren=t===!0},i.prototype.insert=function(i,r){if(r>=0){t.remove.apply(n(this._treeContext.internal.state),[i]),r>this._nodes.length&&(r=this._nodes.length);for(var u=this._nodes.length;u>r;u--)this._nodes[u]=this._nodes[u-1];this._nodes[r]=i,i._parent=this,i._treeContext=this._treeContext}},i.prototype.getByValue=function(n){for(var i,t=0;t<this._nodes.length;t++){if(this._nodes[t].value==n)return this._nodes[t];if((i=this._nodes[t].getByValue(n))!=null)return i}return null},i.prototype.getIndex=function(n){for(var t=0;t<this._nodes.length;t++)if(this._nodes[t].value==n.value)return t;return-1},i.prototype.getByIndex=function(n){return n<this._nodes.length&&n>=0?this._nodes[n]:null},i.prototype.count=function(){return this._nodes.length},i.prototype.getParent=function(){return this._parent},i.prototype.getTree=function(){return n(this._treeContext.internal.state)},i.prototype.isLoaded=function(){return this._isLoaded}}(jQuery),function(n){n.extend(n.fn,{validate:function(t){if(this.length){var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(t=this.find("input, button"),t.filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&t.filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function r(){if(i.settings.submitHandler){if(i.submitButton)var t=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var r={},i=this;return n.each(t.split(/\s/),function(n,t){r[t]=i.attr(t),i.removeAttr(t)}),r},rules:function(t,i){var r=this[0],e;if(t){var f=n.data(r.form,"validator").settings,o=f.rules,u=n.validator.staticRules(r);switch(t){case"add":n.extend(u,n.validator.normalizeRule(i)),o[r.name]=u,i.messages&&(f.messages[r.name]=n.extend(f.messages[r.name],i.messages));break;case"remove":return i?(e={},n.each(i.split(/\s/),function(n,t){e[t]=u[t],delete u[t]}),e):(delete o[r.name],u)}}return r=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),r.required&&(f=r.required,delete r.required,r=n.extend({required:f},r)),r}}),n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length==1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(RegExp("\\{"+n+"\\}","g"),i)}),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n){(n.name in this.submitted||n==this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var r,t;this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset(),r=this.groups={},n.each(this.settings.groups,function(t,i){n.each(i.split(/\s/),function(n,i){r[i]=t})}),t=this.settings.rules,n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)}),n(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i),this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){this.lastElement=t=this.validationTargetFor(this.clean(t)),this.prepareElement(t),this.currentElements=n(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t),this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name==t.name}).length==1&&t},elements:function(){var i=this,t={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in t||!i.objectLength(n(this).rules()))?!1:t[this.name]=!0})},clean:function(t){return n(t)[0]},errors:function(){return n(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([]),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset(),this.toHide=this.errorsFor(n)},check:function(t){var f,e,u,i,r;t=this.validationTargetFor(this.clean(t)),f=n(t).rules(),e=!1;for(u in f){i={method:u,parameters:f[u]};try{if(r=n.validator.methods[u].call(this,t.value.replace(/\r/g,""),t,i.parameters),r=="dependency-mismatch")e=!0;else{if(e=!1,r=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!r)return this.formatAndAdd(t,i),!1}}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+i.method+"' method",o);throw o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n]},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t.method),r=/\$?\{(\d+)\}/g;typeof i=="function"?i=i.call(this,t.parameters,n):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters)),this.errorList.push({message:i,element:n}),this.errorMap[n.name]=i,this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,t=this.validElements();t[n];n++)this.settings.unhighlight.call(this,t[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t))),!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")==i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){var i=this.currentForm;return n(document.getElementsByName(t)).map(function(n,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){return!n.validator.methods.required.call(this,n.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],i&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest==0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={};return(t=n(t).attr("class"))&&n.each(t.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var r={},i,u;t=n(t);for(i in n.validator.methods)(u=i==="required"&&typeof n.fn.prop=="function"?t.prop(i):t.attr(i))?r[i]=u:t[0].getAttribute("type")===i&&(r[i]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var r={},i=n.data(t.form,"validator");return i.settings.rules&&(r=n.validator.normalizeRule(i.settings.rules[t.name])||{}),r},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)delete t[r];else if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!=undefined?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":return(t=n(i).val())&&t.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return n.trim(t).length>0}},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var o,e;u.settings.messages[i.name].remote=f.originalMessage,o=r===!0,o?(e=u.formSubmitted,u.prepareElement(i),u.formSubmitted=e,u.successList.push(i),u.showErrors()):(e={},r=r||u.defaultMessage(i,"remote"),e[i.name]=f.message=n.isFunction(r)?r(t):r,u.showErrors(e)),f.valid=o,u.stopRequest(i,o)}},r)),"pending")},minlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)<=r},rangelength:function(t,i,r){return t=this.getLength(n.trim(t),i),this.optional(i)||t>=r[0]&&t<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 -]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)i=n.charAt(r),i=parseInt(i,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},accept:function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){return r=n(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t==r.val()}}}),n.format=n.validator.format}(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){i=n.port,n.mode=="abort"&&(t[i]&&t[i].abort(),t[i]=r)}):(i=n.ajax,n.ajax=function(r){var u=("port"in r?r:n.ajaxSettings).port;return("mode"in r?r:n.ajaxSettings).mode=="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=n.event.fix(t),arguments[0].type=i,n.event.handle.apply(this,arguments)}}}),n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery)