;(function($,window,document,undefined){var pluginName="river",defaults={showSpinner:true,spinnerId:'river_spinner',spinnerImg:'/static/images/ah/loading.gif'};function River(element,options){this.element=element;this.options=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init();}
River.prototype.init=function(){var selector=this.options.target,myRiver=this,spinner='<div class="spinner-frame sep" style="text-align: center"><img src="'
+this.options.spinnerImg
+'"/></div>';$(window).on('scroll.river',function(){var $target=myRiver.getTarget();if($target.length>0){if($target.is(':visible')&&myRiver.isInView($target)){$target.trigger('click');}}});$(this.element).on('click.river',selector,function(){$(this).hide();});if(myRiver.options.showSpinner){$(this.element).after(spinner);}};River.prototype.getTarget=function(){var selector=this.options.target,$target=$(this.element).find(selector+':visible').first();return $target;};River.prototype.isInView=function(el){var docViewTop=$(window).scrollTop();var docViewBottom=docViewTop+$(window).height();var elemTop=$(el).offset().top;var elemBottom=elemTop+$(el).height();return((elemBottom<=docViewBottom)&&(elemTop>=docViewTop));};$.fn[pluginName]=function(options){return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new River(this,options));}});};$(document).ready(function(){$("[data-river]").each(function(i,el){var options=$(el).data('river');$(el).river(options);});});})(window.jQuery,window,document);