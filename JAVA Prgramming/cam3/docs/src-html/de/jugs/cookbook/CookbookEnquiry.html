<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <title>Source code of the sample server application Cookbook</title>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Christoph Mueller">
   <meta name="GENERATOR" content="Mozilla/4.5 [de] (WinNT; I) [Netscape]">
   <meta http-equiv="KEYWORDS" content="Source code, Server application, sample, Java, Linux, MySQL">
   <meta name="Audience" content="IT, Software engineers, Programmer">
   <meta name="Content-Language" content="en-US">
   <meta http-equiv="AUTHOR" content="Christoph Mueller">
   <meta name="COPYRIGHT" content="Christoph Mueller">
   <meta http-equiv="Reply-to" content="CMueller@de.must.de">
   <meta name="PUBLISHER" content="Christoph Mueller">
   <meta name="PUBLISHER-EMAIL" content="CMueller@de.must.de">
   <meta name="CREATION" content="Wdn, 13 Jun 2001">
   <meta name="REVISON" content="Wdn, 15 Aug 2001">
   <meta name="ROBOTS" content="INDEX, FOLLOW">
   <meta name="REVISIT-AFTER" content="28 days">
   <meta name="Description" content="Create reliable database applications easyly - swing and browser by identical concept">
   <meta name="KeyWords" content="Source code, Server application, sample, Java, Linux, MySQL">
</head>
<body background="indtextb.jpg">

<pre>
<h1>CookbookEnquiry</h1>
//elementary!

/*
 * Public Domain Sample Code 
 */

package de.jugs.cookbook;

import de.must.markup.*;

/**
 * @author Christoph Mueller
 */
public final class CookbookEnquiry extends Enquiry {

  private HalfDataComboBox typ;
  private MustTextField titel;
  private MustTextField zutaten;
  private MustTextField quelle;

  public CookbookEnquiry() {
    this(null);
  }

  public CookbookEnquiry(SessionData sessionData) {
    super(sessionData);
    setTitle(sessionData.getResourceString("TEXT_COOKBOOK_ENQUIRY"));
    setHelpContext("Operate", "Search");

    typ = createComboBox(sessionData.getResourceString("TEXT_RECIPE_TYPES") , new DoType(sessionData), "TypBez", "position, TypBez");
    titel = createTextField(sessionData.getResourceString( "TEXT_RECIPE_DESCRIPTION"), 40); setToolTipText(sessionData.getResourceString("TEXT_TITLE_OR_FRAGMENT_OF_IT"));
    zutaten = createTextField(sessionData.getResourceString("TEXT_INGREDIENTS"), 40); setToolTipText(sessionData.getResourceString("TEXT_ENTER_A_SEARCHED_INGREDIENT"));
    quelle = createTextField(sessionData.getResourceString("TEXT_SOURCE"), 40); setToolTipText(sessionData.getResourceString("TEXT_THE_SOURCE_OF_THE_RECIPE"));
  }

  public Class<? extends Invokable> getDataListClass() {
    return CookbookList.class;
  }

  protected String getWhereCondition() {
    String whereCondition = "";
    if (typ.isSpecialChoice()) {
      if (!whereCondition.equals("")) whereCondition += " and ";
      whereCondition += " Typ = " + typ.getSelectedIdentifier().getIntIdentifier();
    }
    if (!titel.getText().equals("")) {
      if (!whereCondition.equals("")) whereCondition += " and ";
      whereCondition += "RezeptBez like '%" + titel.getText() + "%'";
    }
    if (!zutaten.getText().equals("")) {
      if (!whereCondition.equals("")) whereCondition += " and ";
      whereCondition += "Zutaten like '%" + zutaten.getText() + "%'";
    }
    if (!quelle.getText().equals("")) {
      if (!whereCondition.equals("")) whereCondition += " and ";
      whereCondition += "Quelle like '%" + quelle.getText() + "%'";
    }
    return whereCondition;
  }

}

</pre>

<hr WIDTH="100%">
<center> Source is part of the <a href="http://www.must.de/Jacompe.htm" TARGET="_top">Open Source Project Cameleon OSP</a></center>

</body>
</html>
