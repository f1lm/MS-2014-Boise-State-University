;YAHOO = window.YAHOO || {};YAHOO.VideoPlatform = YAHOO.VideoPlatform || {};YAHOO.VideoPlatform.Captions={LANG_NAME:{"id":"Bahasa Indonesia","ms":"Bahasa Melayu","cs":"čeština","da":"dansk","de":"Deutsch","et":"eesti","en":"English","es":"español","fil":"Filipino","fr":"français","hr":"hrvatski","it":"italiano","lv":"latviešu","lt":"lietuvių","hu":"magyar","nl":"Nederlands","nb":"norsk bokmål","pl":"polski","pt":"português","ro":"română","sk":"slovenčina","sl":"slovenščina","fi":"suomi","sv":"svenska","vi":"Tiếng Việt","tr":"Türkçe","el":"Ελληνικά","bg":"български","ru":"русский","sr-cyrl":"Српски","uk":"українська","he":"עברית","ar":"العربية","mr":"मराठी","hi":"हिन्दी","bn":"বাংলা","gu":"ગુજરાતી","ta":"தமிழ்","te":"తెలుగు","kn":"ಕನ್ನಡ","ml":"മലയാളം","th":"ไทย","ur":"اردو زبان","ko":"한국어","zh-hans":"简体中文","zh-hant":"繁體中文"},CAPTIONS_LANGUAGE_NOT_AVAILABLE:{"ar":"التعليقات غير متوفرة باللغة العربية","bg":"Налични са надписи на български","bn":"বাংলায় ক্যাপশন অনুপলব্ধ","cs":"České titulky nejsou k dispozici.","da":"Danske undertekster er ikke tilgængelige","de":"Deutsche Untertitel nicht verfügbar","el":"Δεν υπάρχουν διαθέσιμες ελληνικές λεζάντες","en":"English captions unavailable","es":"Subtítulos en español no disponibles","et":"Eestikeelsed tiitrid ei ole saadaval","fi":"Suomenkielistä tekstitystä ei saatavilla","fil":"Hindi available ang mga Pilipino na pamagat","fr":"Légendes en français non disponibles","gu":"ગુજરાતી કેપ્શન્સ ઉપલબ્ધ છે","he":"כתוביות בעברית אינן זמינות","hi":"हिंदी कैप्शन अनुपलब्ध हैं","hr":"Hrvatski titlovi nisu dostupni","hu":"Nincs elérhető magyar nyelvű felirat","id":"Judul dalam bahasa Indonesia tidak tersedia","it":"Sottotitoli in italiano non disponibili","kn":"ಕನ್ನಡ ಶೀರ್ಷಿಕೆಗಳು ಲಭ್ಯವಿಲ್ಲ","ko":"한국어 자막을 사용할 수 없습니다","lt":"Lietuviškų antraščių nėra","lv":"Titri latviešu valodā nav pieejami","ml":"മലയാളം ക്യാപ്ഷനുകൾ ലഭ്യമല്ല","mr":"मराठी कॅप्शंस उपलब्ध नाहीत","ms":"Kapsyen Bahasa Melayu tidak tersedia","nb":"Norsk teksting utilgjengelig","nl":"Nederlandse bijschriften niet beschikbaar","pl":"Polskie opisy nie są dostępne","pt":"Legendas em português indisponíveis","ro":"Subtitrările în limba română nu sunt disponibile","ru":"Субтитры на русском языке недоступны","sk":"Slovenské titulky nie sú k dispozícii","sl":"Napisi v slovenščini niso na voljo","sr-cyrl":"Натписи на српском су недоступни","sv":"Svensk textning är inte tillgänglig","ta":"தமிழ் தலைப்புகள் கிடைக்கவில்லை","te":"తెలుగు శీర్షికలు అందుబాటులో లేవు","th":"ไม่มีคำบรรยายใต้ภาพภาษาไทยสำหรับใช้งาน","tr":"Türkçe altyazılar kullanılamaz","uk":"Українські субтитри недоступні","ur":"اردو کی سرخیاں غیر دستیاب ہیں","vi":"Không có sẵn phụ đề bằng tiếng Việt","zh-hans":"未提供中文字幕","zh-hant":"不提供繁體中文字幕"},CAPTIONS_NOT_AVAILABLE:{"ar":"لا تتوفر تسميات توضيحية","bg":"Няма налични надписи","bn":"কোনো ক্যাপশন উপলব্ধ নেই","cs":"Žádné popisky k dispozici","da":"Ingen tilgængelige billedtekster","de":"Keine Untertitel verfügbar","el":"Δεν υπάρχουν διαθέσιμες λεζάντες","en":"No captions available","es":"No hay subtítulos","et":"Tiitreid pole saadaval","fi":"Kuvatekstejä ei saatavilla","fil":"Walang magagamit na mga caption","fr":"Aucune légende disponible","gu":"કોઈ કેપ્શન્સ ઉપલબ્ધ નથી","he":"אין כתוביות זמינות","hi":"कोई कैप्शन उपलब्ध नहीं","hr":"Nema dostupnih titlova","hu":"Nincs elérhető felirat","id":"Tidak ada judul yang tersedia","it":"Nessun sottotitolo disponibile","kn":"ಯಾವುದೇ ಶೀರ್ಷಿಕೆಗಳು ಲಭ್ಯವಿಲ್ಲ","ko":"캡션이 제공되지 않음","lt":"Jokių antraščių nėra","lv":"Titri nav pieejami","ml":"ക്യാപ്ഷനുകൾ ലഭ്യമല്ല","mr":"कोणताही मथला उपलब्ध नाही","ms":"Kapsyen tidak tersedia","nb":"Ingen teksting tilgjengelig","nl":"Geen bijschriften beschikbaar","pl":"Brak dostępnych opisów","pt":"Não há legendas disponíveis","ro":"Nicio subtitrare disponibilă","ru":"Нет доступных субтитров","sk":"Titulky nie sú k dispozícii","sl":"Podnapisi niso na voljo","sr-cyrl":"Нема доступних натписа","sv":"Ingen text tillgänglig","ta":"தலைப்புகள் இல்லை","te":"ఎలాంటి క్యాప్షన్లు లభ్యం లేవు","th":"ไม่มีคำอธิบาย","tr":"Kullanılabilir altyazı yok","uk":"Субтитри недоступні","ur":"کوئی ذیلی سرخی دستیاب نہیں ہے","vi":"Không có sẵn chú thích","zh-hans":"没有可用的字幕","zh-hant":"不提供字幕"},CAPTIONS_PREVIEW_TEXT_LC:{"ar":"تبدو التسميات التوضيحية هكذا","bg":"надписите се показват по този начин","bn":"ক্যাপশন এই রকমভাবে প্রদর্শিত হবে","cs":"popisky se zobrazují takto","da":"billedtekster ser sådan ud","de":"Untertitel erscheinen so","el":"οι λεζάντες έχουν την εξής μορφή","en":"captions appear like this","es":"los subtítulos aparecen de la siguiente manera","et":"tiitrite välimus","fi":"kuvatekstit näkyvät näin","fil":"ganito ang itsura ng mga caption","fr":"exemple d’affichage des légendes","gu":"કેપ્શન્સ આના જેવા દેખાય છે","he":"כתוביות יופיעו כך","hi":"कैप्शन इस प्रकार दिखाई देंगे","hr":"titlovi izgledaju ovako","hu":"feliratok így jelennek meg","id":"tampilan judul seperti ini","it":"anteprima sottotitoli","kn":"ಶೀರ್ಷಿಕೆಗಳು ಈ ರೀತಿ ಕಂಡುಬರುತ್ತದೆ","ko":"캡션은 다음과 같이 나타납니다.","lt":"antraštės rodomos taip","lv":"titri ir redzami šādi","ml":"ക്യാപ്ഷനുകൾ ഇതുപോലെ ദൃശ്യമാകുന്നു","mr":"कॅप्शंस असे दिसतात","ms":"kapsyen dipaparkan seperti ini","nb":"tekster vises slik","nl":"bijschriften worden als volgt weergegeven","pl":"opisy są wyświetlane następująco","pt":"legendas aparecem como esta","ro":"subtitrările arată aşa","ru":"субтитры отображаются так","sk":"titulky sa zobrazujú takto","sl":"podnapisi so prikazani tako","sr-cyrl":"натписи се појављују овако","sv":"texten visas så här","ta":"தலைப்புகள் இது போலத் தோன்றும்","te":"క్యాప్షన్లు ఇలా కనిపిస్తాయి","th":"จะปรากฏคำอธืบายเช่นนี้","tr":"altyazılar şu şekilde görünür:","uk":"зразок субтитрів","ur":"ذیلی سرخی اس طرح ظاہر ہوتی ہے","vi":"chú thích xuất hiện như thế này","zh-hans":"字幕显示如下","zh-hant":"字幕將顯示如下"}};YUI.add("yepswf",function(a){var j=a.SWF||{},l=j.prototype||{},o=j._instances||{},e=j.eventHandler||{},n=a.Event,p=a.Escape,h=a.SWFDetect,i=a.Lang,g=a.UA,k=a.Node,f="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",d="application/x-shockwave-flash",c="10.0.22",b="SWF.eventHandler",m={align:"",allowFullScreen:"",allowNetworking:"",allowScriptAccess:"",base:"",bgcolor:"",menu:"",name:"",quality:"",salign:"",scale:"",tabindex:"",wmode:""};
a.YEPSWF=function(q,H,C,y){var r={};if(!a.SWF||typeof a.SWF.prototype!=="object"){a.augment(this,a.EventTarget);r.type="yuiIntegrationError";this.publish("yuiIntegrationError",{fireOnce:true});this.fire("yuiIntegrationError",r);return;}this._id=a.guid("yuiswf");var E=this._id;var u=k.one(q);var C=C||{};var s=C.version||c;var v=(s+"").split(".");var B=h.isFlashVersionAtLeast(parseInt(v[0]),parseInt(v[1]),parseInt(v[2]));var A="<object ";var F,z;var G="yId="+a.id+"&YUISwfId="+E+"&YUIBridgeCallback="+b+"&allowedDomain="+document.location.hostname;a.YEPSWF._instances[E]=this;if(!u||!H){return;}if(B){A+='id="'+E+'" ';if(g.ie&&g.ie<11){A+='classid="'+f+'" ';}else{A+='type="'+d+'" data="'+p.html(H)+'" ';}F="100%";z="100%";A+='width="'+F+'" height="'+z+'">';if(g.ie&&g.ie<11){A+='<param name="movie" value="'+p.html(H)+'"/>';}for(var t in C.fixedAttributes){if(m.hasOwnProperty(t)){A+='<param name="'+(p.html(t)).toLowerCase()+'" value="'+p.html(C.fixedAttributes[t])+'"/>';}}for(var D in C.flashVars){var x=C.flashVars[D];if(i.isString(x)){G+="&"+p.html(D)+"="+p.html(encodeURIComponent(x));}}if(G){A+='<param name="flashVars" value="'+G+'"/>';}A+="</object>";u.set("innerHTML",A);this._swf=k.one("#"+E);}else{if(h.getFlashVersion()!=="undefined.undefined.undefined"||y===true){var r={};r.type="wrongflashversion";this.publish("wrongflashversion",{fireOnce:true});this.fire("wrongflashversion",r);}}};a.YEPSWF.prototype=l;a.YEPSWF._instances=o;a.YEPSWF.eventHandler=e;},"",{requires:["swf","escape","node"]});YUI.add("PlayerData",function(a){a.namespace("VideoAds");PlayerData=function(){this._nicobarHost=null;this.setMASHost("http://static.vap.yahoo.net/");this._nicobarQueryHost=null;this.setMASQueryHost("http://query.vap.yahoo.net/nicobarMan/ads/");this._nicobarAcct=null;this._nicobarRulesetId=null;this._clipId=null;this._clipDuration=null;this._clipTitle=null;this._playlistId=null;this._playlistTitle=null;this._playerId=null;this._playerTitle=null;this._clipCats=[];this._isLive=true;this._customParams={};this._queryRules=null;this._processAdData=function(){var d=this._adData;if(d){var g=d.adRules;try{if(g){if(typeof g.ManModel==="undefined"||g.ManModel===null){}else{var f=convertJSONToXML("ManModel",g.ManModel);this.setQueryRules(f);}}}catch(h){}var b=d.ad_targeting;var c="";try{if(b&&(typeof b==="string")&&(b.indexOf("<adData")>-1)){c="<adTargeting>"+b+"</adTargeting>";this.addCustomParameter("ad-extra:adTargeting",c);}else{c=b;this.addCustomParameter("ad-extra:adTargeting",c);}}catch(h){}try{var i=d.category;if(i){this.addCustomParameter("ad-extra:adTargetingCategory",i);}}catch(h){}}};};PlayerData.PLAYER_READY_EVENT="ready";PlayerData.CATEGORY_CHANGE_EVENT="categoryChange";PlayerData.CLIP_CHANGE_EVENT="clipChange";PlayerData.AD_BREAK_EVENT="adBreak";PlayerData.prototype.setMASHost=function(b){this._nicobarHost=b;};PlayerData.prototype.getMASHost=function(){return this._nicobarHost;};PlayerData.prototype.setMASQueryHost=function(b){this._nicobarQueryHost=b;};PlayerData.prototype.getMASQueryHost=function(){return this._nicobarQueryHost;};PlayerData.prototype.setMASAcctId=function(b){this._nicobarAcct=b;};PlayerData.prototype.getMASAcctId=function(){return this._nicobarAcct;};PlayerData.prototype.setMASRulesetId=function(b){this._nicobarRulesetId=b;};PlayerData.prototype.getMASRulesetId=function(){return this._nicobarRulesetId;};PlayerData.prototype.setClipId=function(b){this._clipId=b;};PlayerData.prototype.getClipId=function(){return this._clipId;};PlayerData.prototype.setClipDuration=function(b){this._clipDuration=b;};PlayerData.prototype.getClipDuration=function(){return this._clipDuration;};PlayerData.prototype.setClipTitle=function(b){this._clipTitle=b;};PlayerData.prototype.getClipTitle=function(){return this._clipTitle;};PlayerData.prototype.setPlaylistId=function(b){this._playlistId=b;};PlayerData.prototype.getPlaylistId=function(){return this._playlistId;};PlayerData.prototype.setPlaylistTitle=function(b){this._playlistTitle=b;};PlayerData.prototype.getPlaylistTitle=function(){return this._playlistTitle;};PlayerData.prototype.setPlayerId=function(b){this._playerId=b;};PlayerData.prototype.getPlayerId=function(){return this._playerId;};PlayerData.prototype.setPlayerTitle=function(b){this._playerTitle=b;};PlayerData.prototype.getPlayerTitle=function(){return this._playerTitle;};PlayerData.prototype.setClipCategories=function(b){this._clipCats=b;};PlayerData.prototype.getClipCategories=function(){return this._clipCats;};PlayerData.prototype.setIsLive=function(b){this._isLive=b;};PlayerData.prototype.getIsLive=function(){return this._isLive;};PlayerData.prototype.addCustomParameter=function(b,c){this._customParams[b]=c;};PlayerData.prototype.getCustomParameters=function(){return this._customParams;};PlayerData.prototype.getCustomParameter=function(b){return this._customParams[b];};PlayerData.prototype.toString=function(){return"MASHost = "+this.getMASHost()+", MASQueryHost = "+this.getMASQueryHost();};PlayerData.prototype.setQueryRules=function(b){this._queryRules=b;};PlayerData.prototype.getQueryRules=function(){return this._queryRules;};PlayerData.prototype.setAdData=function(b){this._adData=b;this._processAdData();};PlayerData.prototype.getAdData=function(){return this._adData;};jsonToXML=function(g,c){var e="";var f="";var b="";var j=null;for(j in c){var h=c[j];if(j==="content"){b=b+"<![CDATA["+h+"]]>";continue;}if(h instanceof Array){for(var d=0;d<h.length;d++){var k=h[d];b+=jsonToXML(j,k);}}else{if(h instanceof Object){b+=jsonToXML(j,h);}else{f=f+" "+j+"="+'"'+h+'"';}}}e="<"+g+f+">"+b+"</"+g+">";return e;};convertJSONToXML=function(e,d){var b="<?xml version='1.0' encoding='UTF-8'?>";var c=b+jsonToXML(e,d);return c;};a.VideoAds.PlayerData=PlayerData;},"1.0.0",{});YUI.add("VideoAdPlugin",function(b){b.namespace("VideoAds");var a=function(c){Version="7.0.0.bde0d56";this.configObj=c;var v=b.com.yahoo.ads.common.Constants;this._playerContext=null;this.adPosition=0;this.vidPosition=0;this.playerTimeout=3;
this.isCurrAdLinear=false;this.adReadyQueue=[];this.rendererType=v.FLASH;this.adExp=false;this.adExpInterrupted=false;var E=null,q=null,z=null,o=null,A=null,k=null,p=null,u=null,m=null,s=null,B=null,y={},d=[],D=null,n=false,t=false,j=null,e=null,r=false,w=false,f=1,C={x:0,y:0,width:"320px",height:"240px",bitrate:400,volume:0.7},g="",h;this.handleSubscriptions=function(){var G=this.configObj.on;var F=this.configObj.context;try{for(var H in G){this.on(H,G[H],F);}}catch(I){}};this.RenderManager=function(){if(typeof E==="undefined"||E===null){if(this.configObj.rendererType==v.HTML){E=new b.com.yahoo.ads.renderer.RenderManager(this.EventBus());}else{if(this.configObj.rendererType==v.FLASH){E=new b.com.yahoo.ads.flash.FlashRenderManager(this.EventBus());}else{var F={};F.message=v.UNKNOWN_RENDERER_EVENT;this.notifyPluginError(F);}}}return E;};this.StreamAdManager=function(){if((typeof A==="undefined"||A===null)&&this.configObj.streamAd){A=new b.com.yahoo.ads.StreamAdManager(this,this.configObj);}return A;};this.RuleCache=function(){if(typeof k==="undefined"||k===null){k=new b.com.yahoo.ads.cache.RuleCache();b.ruleCache=k;}return k;};this.CacheManager=function(){if(typeof z==="undefined"||z===null){z=new b.com.yahoo.ads.cache.CacheManager(this.EventBus(),this.rendererType);z.on(v.AD_ASSET_PREFTECH,this.onAdAssetPrefetch,this);z.on(v.AD_CACHE_REFRESH,this.onAdCacheRefresh,this);this.adsStatus=new b.com.yahoo.ads.common.AdsStatus(z);b.cacheManager=z;}return z;};this.ViewabilityManager=function(){if(!o){o=new b.com.yahoo.ads.utils.ViewabilityManager(undefined);}return o;};this.MonitorBeaconer=function(){if(typeof B==="undefined"||B===null){B=new b.com.yahoo.ads.plugin.MonitorBeaconer(this.EventBus());B.on(MonitoringBeaconEvent.EVENT_NAME,this.onProfilerMetricEvent,this);b.monitorBeaconer=B;}return B;};this.AllocationManager=function(){if(typeof q==="undefined"||q===null){var F=(this.playerTimeout-v.AD_FB_RENDER_TIME);q=new b.com.yahoo.ads.communicator.AllocationManager(this.EventBus(),this.CacheManager(),F);q.on(this.AllocationManager().getManagedConfigLoadedEvent(),this.onManagedConfigUpdated,this);q.on(q.getComponentLoadedEvent(),this.componentInitComplete,this);q.on(q.getLoadErrorEvent(),this.onInitError,this);q.on(q.getPropertyIdReadyEvent(),this.propertyIdReady,this);q.on(q.getFallbackCommunicatorLoadedEvent(),this.handleFallback,this);b.allocManager=q;}return q;};this.AdEngine=function(){if(typeof u==="undefined"||u===null){u=new b.com.yahoo.ads.engine.AdEngine();u.init();u.addTimer(this.VideoTimeline());u.on(u.getAdEngineReadyEvent(),this.onAdEngineReady,this);u.on(u.getAdEngineAdEvent(),this.onEngineAction,this);u.on(u.getAdEngineErrorEvent(),this.onEngineError,this);b.adEngine=u;}return u;};this.ParseJSON=function(){if(typeof p==="undefined"||p===null){p=new b.com.yahoo.ads.man.ParseJSON();p.init();b.parseJSON=p;}return p;};this.EventBus=function(){if(typeof m==="undefined"||m===null){if(this.StreamAdManager()){m=this.StreamAdManager();}else{m=new b.com.yahoo.ads.plugin.EventBusSwitch();}m.setSink(this);b.eventBus=m;}return m;};this.VideoTimeline=function(){if(typeof s==="undefined"||s===null){s=new b.com.yahoo.ads.plugin.YEPVideoTimeline();s.on("complete",this.onContentVideoComplete,this);b.videoTimeline=s;}return s;};this.onConfigUpdate=function(F){this.AllocationManager().updateAllocation(F.getAllocation());this.AllocationManager().updateContext(this._playerContext);this.AdEngine().updateRules(F.getRules());};this.updateVolume=function(F){f=F;if(!this.RenderManager()){return;}this.RenderManager().setVolume(f);};this.pauseAdPlayback=function(){if(!this.RenderManager()){return;}this.RenderManager().pauseAd();};this.resumeAdPlayback=function(){if(!this.RenderManager()){return;}this.RenderManager().resumeAd();};this.updateClientInfo=function(F){if(typeof F!==v.UNDEFINED&&F!==null){C=F;}this.updateVolume(C.volume);this.resize(C.x,C.y,this.ConvertCssPxToInt(C.width),this.ConvertCssPxToInt(C.height),C.bitrate);};this.resize=function(G,J,I,F,H){if(!this.RenderManager()){return;}this.RenderManager().resizeAd(G,J,I,F,H);};this.onClipChange=function(H){var N,K,L,M;this.vidPosition=0;g="";var J=this.CacheManager().getRule(H.getClipId());if(J&&J.playerData){this._playerContext=J.playerData;if(J.parsedRules.getRules()){this.onConfigUpdate(J.parsedRules);}else{this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT,{type:v.AD_OPP_RULES_MISSING}));this.notifyPlayer(v.EVENT_NOAD);return;}}else{K=H.getCustomParameter(v.AD_PARAM.LICENSEID);if(K!==v.VEVO_LMSID){this.CacheManager().updateCache([H]);}this._playerContext=H;if(!this._playerContext.getAdData()){var I={};I.message=v.NO_ADDATA_EVENT;this.notifyPluginError(I);return;}N=H.getAdData().adRules;if(N&&N.hasOwnProperty("result")){this.ParseJSON().parseItems(N.result);}if(this.ParseJSON().getRules()){this.onConfigUpdate(this.ParseJSON());}else{this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT,{type:v.AD_OPP_RULES_MISSING}));this.notifyPlayer(v.EVENT_NOAD);return;}}if(typeof this.cookie==="undefined"||this.cookie===null){this.cookie=new b.com.yahoo.ads.common.Cookie("yvap",this._playerContext.getMASAcctId());}var G={};G.clipId=this._playerContext.getClipId();this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_CLIPCHANGE,G));if(this.cookie&&this.cookie.cookieEnabled()){K=H.getCustomParameter(v.AD_PARAM.LICENSEID);this.cookie.setCookieParam(v.COOKIE_CLIP_COUNT,parseInt(this.cookie.getCookieParam(v.COOKIE_CLIP_COUNT),10)+1);this.cookie.setCookieParam(v.COOKIE_REC_CLIP_COUNT,parseInt(this.cookie.getCookieParam(v.COOKIE_REC_CLIP_COUNT),10)+1);L=H.getAdData().content_provider_data&&H.getAdData().content_provider_data.rules&&H.getAdData().content_provider_data.rules.freeUserPeriodInSeconds?parseInt(H.getAdData().content_provider_data.rules.freeUserPeriodInSeconds,10):v.NFL_FREE_TIME;M=H.getAdData().content_provider_data&&H.getAdData().content_provider_data.rules&&H.getAdData().content_provider_data.rules.onloaderPeriodInSeconds?parseInt(H.getAdData().content_provider_data.rules.onloaderPeriodInSeconds,10):v.NFL_SESSION_TIME;
this.AdEngine().setClipData(this.cookie,this._playerContext.getClipDuration(),K,L,M);}var F={};F.type="adEvent";F.action={};F.action.type=v.NOTIFICATION_CLIP_CHANGE;F.action.obj={};F.action.obj.assetId=this._playerContext.getClipId();this.AdEngine().onAdEvent(F);};this.processEngineReadyQueue=function(){if(D){while(D.length>0){var H=D.shift();var G=H.method;var F=H.args;if(F&&F.length>0){G.apply(this,F);}else{G.call();}}}};this.onAdEngineReady=function(G,F){this.AdEngine().setActiveGroupId((this._playerContext.MASRulesetId=="-1")?"none":this._playerContext.MASRulesetId);this.AdEngine().runEngine();this.processEngineReadyQueue();this.componentInitComplete();};this.onEngineAction=function(F){if(this.AllocationManager().ready()||F.getEventId()=="no-op"){this.processEngineAction(F);}else{this.queueEngineAction(F);}};this.onEngineError=function(G,F){this.notifyPluginError(G);};this.componentInitComplete=function(){if(this.isComponentInitComplete()){this.notifyPluginReady();this.processEngineActionQueue();}};this.onInitError=function(G,F){this.notifyPluginError(G);};this.propertyIdReady=function(){this._playerContext.addCustomParameter(v.AD_PARAM.PROPERTYID,this.AllocationManager().getPropertyId());};this.engineAdEvent=function(F){this.AdEngine().onAdEvent(F);};this.queueEngineAction=function(F){d.push(F);};this.processEngineActionQueue=function(){while(d.length!==0){this.processEngineAction(d.shift());}};this.processEngineAction=function(H){var F=H.getEventId();var I=H.getAction(),G=I.getType();if(I&&I.mType==v.TRIGGER_PLAYLIST_GATEWAY){j=I;return;}I.retryCount=0;this.fireAdOpportunity(H);switch(F){case"InsertAd":if(n){return;}this.cancelAllAds();if(I.nflCase===v.NFL_PREROLL){this.cookie.setCookieParam(v.COOKIE_REC_VIDEO_LENGTH_NFL,0);}else{if(I.nflCase===v.NFL_ONLOAD){this.cookie.setCookieParam(v.COOKIE_REC_VIDEO_LENGTH_NFL,0);this.cookie.setCookieParam(v.COOKIE_SESSION_NFL,0);}}if(G===v.TRIGGER_CLIP_PREROLL||G===v.TRIGGER_CLIP_GATEWAY){g=v.AD_POSITION_PREROLL;}else{if(G===v.TRIGGER_CLIP_POSTROLL){g=v.AD_POSITION_POSTROLL;}}this.playVideoAd(I);break;case"no-op":if(r){this.triggerPreroll();}else{this.renderNoOp();}break;case"ShowOverlay":g=v.AD_POSITION_OVERLAY;if(n){n=false;}if(this.rendererType!==null&&this.rendererType===v.FLASH){this.playVideoAd(I);}break;case"HideOverlay":this.dismissOverlay(I);break;default:break;}};this.cancelAllAds=function(){if(!this.RenderManager()){return;}this.RenderManager().cancelAds();};this.renderNoOp=function(){if(!this.RenderManager()){return;}if(w){this.notifyVideoAdEnd();}else{this.notifyPlayer(v.EVENT_NOAD);}};this.playVideoAd=function(G){var F=this.AllocationManager().pickCommunicator(G);if(!F){this.renderNoOp();return;}G.initialCommunicatorId=F.getNetworkId();F.detach(MonitoringBeaconEvent.EVENT_NAME,this.MonitorBeaconer().handleAction,this.MonitorBeaconer());F.on(MonitoringBeaconEvent.EVENT_NAME,this.MonitorBeaconer().handleAction,this.MonitorBeaconer());F.getAd(G);this.adsStatus.addAll(this.adsStatus.getStatusMonitoringData(this.MonitorBeaconer().getMonitoringDataArr()));};this.handleFallback=function(H){var F=H.communicator;var G=H.adSpec;F.getAd(G);};this.isComponentInitComplete=function(){return this.AllocationManager().ready()&&this.AdEngine().ready();};this.triggerBumper=function(){r=true;if(j){this.playVideoAd(j);return;}var F={};F.type="adEvent";F.action={};F.action.type=v.TRIGGER_CLIP_GATEWAY;F.action.obj={};this.AdEngine().onAdEvent(F);};this.triggerPreroll=function(){var F={};F.type="adEvent";F.action={};F.action.type=v.TRIGGER_CLIP_PREROLL;F.action.obj={};r=false;this.AdEngine().onAdEvent(F);};this.triggerPostroll=function(){if(n){n=false;}var F={};F.type="adEvent";F.action={};F.action.type="postroll";F.action.obj=null;this.AdEngine().onAdEvent(F);};this.cloneClientInfo=function(G){var F={};F.x=G.x;F.y=G.y;F.width=this.ConvertCssPxToInt(G.width);F.height=this.ConvertCssPxToInt(G.height);F.bitrate=G.bitrate;return F;};this.ConvertCssPxToInt=function(I){var F="0123456789.";var G=0;for(var H=0;H<I.length;H++){if(F.indexOf(I.charAt(H))==-1){if(H>0){return parseInt(I.substring(0,H),10);}}}return parseInt(G,10);};this.beginVideoExperience=function(){if(n){n=false;}if(this.isComponentInitComplete()){this.triggerBumper();}};this.registerAdSlot=function(J,I,H,G){if(G){e=J;}var F={};F.slot=I;F.width=I.style.width;F.height=I.style.height;F.id=J;if(!H){H=document.getElementsByTagName("video")[0];}F.videoSlot=H;y[J]=F;};this.updateTimeline=function(F){this.VideoTimeline().setTotalDuration(F.duration);this.VideoTimeline().setPlayheadPosition(F.position);};this.notifyPlayer=function(F,G){if(F===v.EVENT_NOAD){this.adExp=false;}this.fire(F,G);};this.notifyPluginReady=function(){if(!t){t=true;this.notifyPlayer(v.EVENT_PLUGIN_READY);}};this.notifyVideoAdStart=function(F){w=r;if(!F){F={};}if(h&&h.getAdId&&g!==""){F.adType=g;F.adId=h.getAdId();}this.notifyPlayer(v.EVENT_VIDEO_AD_START,F);this.adPosition=0;this.isCurrAdLinear=F.linear;if(F.blocked){if(this.isCurrAdLinear&&this.cookie&&this.cookie.cookieEnabled()){this.cookie.setCookieParam(v.COOKIE_AD_COUNT,parseInt(this.cookie.getCookieParam(v.COOKIE_AD_COUNT),10)+1);this.cookie.setCookieParam(v.COOKIE_REC_VIDEO_LENGTH,0);this.cookie.setCookieParam(v.COOKIE_REC_CLIP_COUNT,0);}}this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADSTART,null));this.CacheManager().refreshCache();};this.notifyAdPlayback=function(F){var G={playerVolume:typeof f==="number"?f>0?v.PLAYER_SOUND_ON:v.PLAYER_SOUND_OFF:v.UNKNOWN,playerWidth:this.ConvertCssPxToInt(C.width)||v.UNKNOWN,playerHeight:this.ConvertCssPxToInt(C.height)||v.UNKNOWN,playerLocation:v.UNKNOWN,playerInBanner:v.UNKNOWN,playerAutoPlay:v.UNKNOWN};if(v.VIEWABILITY_ON){this.ViewabilityManager().start(h,G);}if(h&&h.getAdId&&g!==""){F.adType=g;F.adId=h.getAdId();}this.notifyPlayer(v.EVENT_AD_START_MEDIA_PLAYBACK,F);};this.notifyAdMediaFirstByte=function(G){var F=G.mediaUrl||"";this.notifyPlayer(v.EVENT_AD_MEDIA_FIRST_BYTE,G);this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADDELIVERED,{"mediaUrl":F}));
};this.notifyVideoAdEnd=function(){this.ViewabilityManager().stop();this.adsStatus.addAll(this.adsStatus.getStatusMonitoringData(this.MonitorBeaconer().getMonitoringDataArr()));var F;if(r){if(j){j=null;this.triggerBumper();}else{this.triggerPreroll();}}else{if(this.adExpInterrupted){this.notifyPlayer(v.EVENT_VIDEO_AD_INTERRUPTED);this.adExpInterrupted=false;}else{this.adExp=false;this.notifyPlayer(v.EVENT_VIDEO_AD_END,F);}}};this.notifyNoAd=function(F){if(n||typeof F==="undefined"||F===null){return;}F.retryCount+=1;if(this.AllocationManager().isFallback(F)&&this.AllocationManager().pickFallbackCommunicator(F)){}else{if(F.getType()===v.TRIGGER_CLIP_POSTROLL||F.getType()===v.TRIGGER_CLIP_PREROLL||F.getType()===v.TRIGGER_CLIP_GATEWAY||F.getType()===v.TRIGGER_PLAYLIST_GATEWAY||F.getSubType()===v.TRIGGER_CLIP_GATEWAY||F.getSubType()===v.TRIGGER_CLIP_PREROLL||F.getSubType()===v.TRIGGER_CLIP_POSTROLL){if(r){if(j){j=null;this.triggerBumper();}else{this.triggerPreroll();}}else{if(w){this.notifyVideoAdEnd();}else{this.notifyPlayer(v.EVENT_NOAD);this.adsStatus.add(MonitoringBeaconEvent.EVENT_NOAD,true);}}}}};this.notifyNullAd=function(F){this.notifyPlayer(v.EVENT_NOAD);};this.notifyOverlayStart=function(){this.notifyPlayer(v.EVENT_OVERLAY_START);};this.notifyOverlayEnd=function(){this.notifyPlayer(v.EVENT_OVERLAY_END);};this.notifyAdProgress=function(H){if(this.isCurrAdLinear){var G=parseInt(H.position,10);var F=G-this.adPosition;this.adPosition=G;if(this.cookie&&this.cookie.cookieEnabled()){this.cookie.setCookieParam(v.COOKIE_AD_LENGTH,parseInt(this.cookie.getCookieParam(v.COOKIE_AD_LENGTH),10)+F);}}this.notifyPlayer(v.EVENT_AD_PROGRESS,H);};this.notifyAdPaused=function(){this.ViewabilityManager().pause();this.notifyPlayer(v.EVENT_AD_PAUSED);};this.notifyAdPlaying=function(){this.ViewabilityManager().resume();this.notifyPlayer(v.EVENT_AD_PLAYING);};this.notifyPluginError=function(F){this.notifyPlayer(v.EVENT_PLUGIN_ERROR,F);this.adsStatus.add(v.EVENT_PLUGIN_ERROR+": "+F.type,F.message);};this.notifyAdStartError=function(F){this.notifyPlayer(v.EVENT_NOAD);this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_AD_START_ERROR,F));};this.notifyAdDeliveryError=function(F){this.notifyPlayer(v.EVENT_NOAD);this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_AD_DELIVERY_ERROR,F));};this.notifyMetricsEvent=function(G){var F=G.data;if(typeof F!=="undefined"&&F!==null){if(typeof F.eventId!=="undefined"&&F.eventId!==null&&F.eventId.toLowerCase().indexOf("vpaid")>-1){this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(F.eventId,null));}}};this.notifyAdMetricsEvent=function(G){var F=this.AllocationManager().pickCommunicator();F.onAdEvent(G);};this.notifyAdReady=function(F){if(n||!this.RenderManager()){return;}if(!this.RenderManager().getRenderer()){this.adReadyQueue.push(F);}else{this.onClientInfoChanged(C);h=F;this.RenderManager().renderAd(F,this.cloneClientInfo(C),f);}};this.fireAdOpportunity=function(H){var J={};J.rulesetId=u.getActiveGroupId();J.playContext=this._playerContext.getPlaylistId();var I=H.getAction();var G=I.getType();if(G==v.TRIGGER_CLIP_GATEWAY){J.oppPosition="BMPR";}else{if(G==v.TRIGGER_CLIP_PREROLL||G==v.TRIGGER_CLIP_POSTROLL){J.oppPosition="VID";}else{J.oppPosition="";}}var F=H.getEventId();if(F=="InsertAd"){J.taken=true;J.type=I.getSubType();J.networkName=this.AllocationManager().pickCommunicator(I).getNetworkName();}else{if(F=="no-op"){J.taken=false;J.type=G;}}J.action=I;J.eventId=F;this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY,J));};this.setAdExperience=function(){r=false;w=false;if(!this.adExp){this.adExp=true;this.adExpInterrupted=false;}else{this.adExpInterrupted=true;}};this.timeout=function(){this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_PLAYER_TIMEOUT));this.AllocationManager().notifyTimeout();n=true;this.cancelAllAds();this.adExp=false;this.notifyPlayer(v.EVENT_PLUGIN_TIMEOUT);};this.onMonitoringAction=function(F){this.MonitorBeaconer().handleAction(F);};this.onProfilerMetricEvent=function(F){var G=F.getBeaconData();this.fire(MonitoringBeaconEvent.EVENT_METRIC,G);};this.onAdAssetPrefetch=function(F){this.RenderManager().addVPAIDAdToCache(F,this.cloneClientInfo(C),f);};this.onAdCacheRefresh=function(F){this.RenderManager().removeVPAIDAdFromCache(F);};this.setPlayerData=function(F){this.filterVEVO(F);this.CacheManager().updateCache(F);};this.filterVEVO=function(I){var F=0,H,G;while(F<I.length){H=I[F];G=H.getCustomParameter(v.AD_PARAM.LICENSEID);if(G===v.VEVO_LMSID){I.splice(F,1);}else{F++;}}};if(this.configObj.on){this.handleSubscriptions();}if(this.configObj.rendererType){this.rendererType=this.configObj.rendererType;}if(this.configObj.timeout){this.playerTimeout=this.configObj.timeout;}if(this.configObj.playerData){this.updatePlayerData(this.configObj.playerData);}if(this.configObj.clientInfo){this.updateClientInfo(this.configObj.clientInfo);}if(this.configObj.playerContainer){var x={};x.playerContainer=this.configObj.playerContainer;this.updateRenderer(x);}if(!this.StreamAdManager()){var i=0;var l=this.configObj.playerData;if(typeof l!=="undefined"&&l!==null){if(l instanceof Array){if(l.length>0){i=l[0].getMASAcctId();}}else{i=l.getMASAcctId();}}this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_PLUGIN_INIT,{account_id:i,version:Version}));}this.notifyPluginReady();};b.augment(a,b.EventTarget);a.prototype._postRollSwitch=true;a.prototype.beginAdExperience=function(d){this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT,{type:_CONSTANTS.AD_OPP_INIT}));this.MonitorBeaconer().resetCurrentClipAdInfo();this.setAdExperience();this.cancelAllAds();this.adsStatus.reset();if(typeof d!=="undefined"&&d!==null&&d instanceof b.VideoAds.PlayerData){this.onClipChange(d);this.beginVideoExperience();}else{var c={};c.message=_CONSTANTS.INVALID_PLAYER_DATA;
this.notifyPluginError(c);}};a.prototype.detachAll=function(){var d=this.configObj.on;var c=this.configObj.context;try{for(var f in d){this.detach(f,d[f],c);}}catch(g){}};a.prototype.onContentVideoComplete=function(){this.setAdExperience();var c={};c.clipId=this._playerContext.getClipId();if(!b.com.yahoo.ads.utils.Utils.isIPhoneSupported()&&this._postRollSwitch){this.notifyPlayer(_CONSTANTS.EVENT_NOAD);return;}this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_CLIPCHANGE,c));this.triggerPostroll();};a.prototype.onContentVideoPaused=function(){};a.prototype.onContentVideoPlaying=function(){};a.prototype.onContentVideoProgress=function(d){this.updateTimeline(d);if(this.cookie&&this.cookie.cookieEnabled()){var c=parseFloat(d.position);if(c>0){var f=c-this.vidPosition;this.vidPosition=c;var e=this._playerContext.getCustomParameter(_CONSTANTS.AD_PARAM.LICENSEID);if(e===Constants.NFL_LMSID){this.cookie.setCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH_NFL,parseFloat(this.cookie.getCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH_NFL))+f);if(parseInt(this.cookie.getCookieParam(_CONSTANTS.COOKIE_SESSION_NFL))===0){this.cookie.setCookieParam(_CONSTANTS.COOKIE_SESSION_NFL,new Date().getTime()/1000);}}else{this.cookie.setCookieParam(_CONSTANTS.COOKIE_VIDEO_LENGTH,parseFloat(this.cookie.getCookieParam(_CONSTANTS.COOKIE_VIDEO_LENGTH))+f);this.cookie.setCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH,parseFloat(this.cookie.getCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH))+f);}}}};a.prototype.onVolumeChange=function(c){this.updateVolume(c);};a.prototype.onClientInfoChanged=function(c){this.updateClientInfo(c);};a.prototype.updatePlayerData=function(d){if(d instanceof Array){this.setPlayerData(d);}else{var c=[];c.push(d);this.setPlayerData(c);}};a.prototype.fireStandaloneAdOpportunity=function(){if(this.StreamAdManager()){this.StreamAdManager().beginAd();}};a.prototype.updateRenderer=function(d){if(d.playerContainer){if(!this.RenderManager()){return;}if(!this.RenderManager().getRenderer()){this.RenderManager().setRenderer(d.playerContainer);var c=this.adReadyQueue.pop();if(c){this.notifyAdReady(c);}}else{this.RenderManager().setRenderer(d.playerContainer);}}if(d.adContainer){}};a.prototype.pauseAd=function(){this.pauseAdPlayback();};a.prototype.resumeAd=function(){this.resumeAdPlayback();};a.prototype.destroy=function(){var c={};this.fire(_CONSTANTS.EVENT_PLUGIN_DESTROY,c);};a.prototype.timeout=function(){this.timeout();};b.VideoAds.VideoAdPlugin=a;},"1.0.0",{requires:["Timer","AllocationManager","ScopeLogger","EventBusSwitch","Constants","AbstractCommunicator","Loader","NetworkModule","RuleGroup","ParseJSON","AllocationManager","AdRenderer","NullRenderer","RenderManager","ActionRule","AdEngine","Cookie","ActionEventResolver","TriggerEventBasis","TimerEventBasis","RuleRuntime","EngineActionEvent","AdEvents","AdCache","BeaconEventData","AdPluginMetricsEvent","YahooParser","MonitorBeaconer","AdRequest","Ad","CacheManager","AdComponentSettings","VASTParser","FlashRenderManager","node","swf","event","event-custom","RuleCache","YEPVideoTimeline","SessionTimer","PlayerData","AdsStatus","ViewabilityManager","StreamAdManager"]});YUI.add("AdCache",function(e){e.namespace("com.yahoo.ads.cache");var b=e.com.yahoo.ads.common.Constants,d=e.com.yahoo.ads.communicator.Ad,a=e.com.yahoo.ads.utils.HTMLStorageUtil,c=function(){var h=this.constructor,l="adCache"+Math.floor(Math.random()*100)+(new Date().getTime()),z={},r=0,g={},t=[],s=this,n=a!==null,i=n?a:null,u=function(D,C){return D[C]||[];},p=function(C){return new Date().getTime()-C.timestamp>=b.AD_CACHE_EXPTIME;},k=function(C){return C.cacheIdentifier===l;},B=function(){var G,C,H,F="",D,E;for(E in z){if(z.hasOwnProperty(E)){G=z[E];if(G.length<=0){continue;}if(!F){F=E;}else{C=z[F];if(C.length){H=C[0];if(G[0].timeStamp<H.timeStamp){F=E;}}}}}if(!F){return;}D=z[F][0];if(D){C.splice(0,1);r--;}},q=function(C){if(C.getType()===d.TYPE.VPAID){C.setVpaidId(parseInt(Math.random()*100000000,10).toString());s.fire(b.AD_ASSET_PREFTECH,C);}},m=function(C){var D=C.key,E=u(z,D);if(E.length===0){z[D]=E;}if(r>=b.AD_CACHE_LIMIT){B();}E.push(C);r++;},o=function(C){var E,F=u(z,C.key),G=F.length,D;for(E=0;E<G;E++){D=F[E];if(D===C){F.splice(E,1);r--;return;}}},j=function(G){var D=[],F,E,C;for(F=0;F<G.length;F++){E=G[F];if(p(E)){if(k(E)){C=E.adJson||E.ad.getJson();t.push({"id":E.clipId,"ad":C});r--;}}else{D.push(E);}}return D;},y=function(E){var D,C;for(D=0;D<E.length;D++){C=E[D];C.adJson=C.adJson||C.ad.getJson();delete C.isL1;delete C.ad;}},A=function(E){var D,C,F;for(D=0;D<E.length;D++){C=E[D];F=new d();F.getAdFromJson(C.adJson);C.ad=F;C.isL1=!k(C);}},x=function(C,D){return C.timestamp-D.timestamp;},v=function(G){var E=window.localStorage,D,I,H=0,K,C=[],J,F;for(I in E){if(E.hasOwnProperty(I)){D=i.getItem(I,true)||{};if(D.adEntries&&D.timeStamp){J={};J.timeStamp=D.timeStamp;J.key=I;K=D.adEntries;J.size=K.length;C.push(J);}}}C.sort(x);for(F=0;F<C.length;F++){J=C[F];i.removeItem(J.key);H=H+J.size;if(H>=G){break;}}},f=n?function(D){var F,I,J,H=0,C=0,E=0,G;for(F in D){if(D.hasOwnProperty(F)){G=i.getItem(F,true)||{};J=G.adEntries||[];I=D[F];y(I);H=I.length||0;J=j(J);C=J.length||0;E=C+H-b.AD_CACHE_BUCKET_LIMIT;if(E>0){J.splice(0,E);}I=J.concat(I);I.sort(x);if(I.length>0){G.adEntries=I;G.timeStamp=new Date().getTime();i.setItem(F,G,true);delete D[F];}else{i.removeItem(F);}}}}:function(){},w=n?function(E){var H,C=null,D,F,G;F=i.getItem(E,true)||{};H=F.adEntries||[];A(H);for(D=0;D<H.length;D++){G=H[D];if(!p(G)){H.splice(D,1);if(k(G)){r--;}C=G;break;}}if(H.length>0){F.adEntries=H;F.timeStamp=new Date().getTime();i.setItem(E,F,true);}else{i.removeItem(E);}return C;}:function(){return null;};this.getAd=function(J){var F,N,M,H=u(z,J),C=H.length,K=null,E,L,I,D,G,O;for(F=0;F<C;F++){N=H[F];if(!p(N)){M=N.ad;L=M.getPrefetch();if(!K){K=N;}if(L===b.AD_PREFETCH_COMPLETE&&M.getType()!==d.TYPE.NOAD){I=N;I.ad.setCacheStatus(d.CACHE_STATUS_CACHED_SPACEID);break;}else{if(L===b.AD_PREFETCH_INPROGRESS){if(!D){D=N;
}}else{if(L===b.AD_PREFETCH_TIMEOUT){if(!G){G=N;}}}}}}if(!I){I=w(J);if(I&&!k(I)){if(I.ad.getCacheStatus()!==d.CACHE_STATUS_TOUCHDOWN_HIT){I.ad.setCacheStatus(d.CACHE_STATUS_CACHED_SPACEID);}I.ad.setLocalStorage(true);}}O=I||D||K||G;if(!O){return null;}if(O.ad.getPrefetch()===b.AD_PREFETCH_INPROGRESS){O.ad.setCacheStatus(d.CACHE_STATUS_CACHED_INCOMPLETE);}else{o(O);g=O;}return O.ad;};this.addAd=function(D,F,G,H,E){var C;if(this.isAdPresent(D,H)){return;}F.setAsCached(true);C={"timestamp":new Date().getTime(),"ad":F,"clipId":G,"tId":H,"lmsId":E,"key":D,"bookingId":F.getBookingId(),"cacheIdentifier":l};m(C);q(F);};this.updateAd=function(E,G,I){var D,C,F=z[E],H;if(!F){return;}H=F.length;for(D=0;D<H;D++){C=F[D];if(C.tId===I){C.ad=G;q(G);break;}}};this.getExpiredAds=function(){var K,O,J=[],M,F,C,L,G,N,E,D={},H;for(M in z){if(z.hasOwnProperty(M)){K=z[M];C=K.length;L=[];for(F=0;F<C;F++){O=K[F];G=O.ad;N=G.getPrefetch();if(p(O)){E=O.adJson||O.ad.getJson();t.push({"id":O.clipId,"ad":E});r--;}else{if(n&&N===b.AD_PREFETCH_COMPLETE&&G.getType()!==d.TYPE.NOAD){H=D[M]||[];H.push(O);D[M]=H;}else{L.push(O);}}}z[M]=L;}}try{f(D);}catch(I){v(10);for(var M in D){L=z[M]||[];H=D[M]||[];A(H);L=L.concat(H);L.sort(x);z[M]=L;}}J=t;t=[];return J;};this.isAdPresent=function(D,G){var F,E=z[D],C;if(!E){return false;}for(C=0;C<E.length;C++){F=E[C];if(F&&F.tId===G){return true;}}return false;};this.getSpaceIdMap=function(){var G={},D,H,C,F,E;for(D in z){if(z.hasOwnProperty(D)){G[D]=z[D];}}if(n){C=window.localStorage;for(D in C){if(C.hasOwnProperty(D)&&z[D]){E=i.getItem(D,true)||{};H=E.adEntries||[];A(H);F=G[D]||[];G[D]=F.concat(H);}}}return G;};this.getLastAdEntry=function(){return g;};};e.augment(c,e.EventTarget);e.com.yahoo.ads.cache.AdCache=c;},"1.0.0",{requires:["node","Ad","Constants","HTMLStorageUtil"]});YUI.add("CacheManager",function(b){b.namespace("com.yahoo.ads.cache");var a=function(h,f){var e=b.com.yahoo.ads.common.Constants,d=b.com.yahoo.ads.communicator.AbstractCommunicator,c=new b.com.yahoo.ads.cache.AdCache(),l=this,j=new b.com.yahoo.ads.cache.RuleCache(),k=window.YMedia&&window.YMedia.playerManager?window.YMedia.playerManager.getPlaylistObject():null,g=function(n){var m="";if(n){if(n&&n.network){switch(n.network.toLowerCase()){case d.NAME.MME:if(n.spaceId&&n.pos&&n.lmsId){m=n.network+"_"+n.spaceId+"_"+n.pos+"_"+n.lmsId;}break;case d.NAME.DFP:case d.NAME.FWV:case d.NAME.CBS:default:m="";break;}}}return m;},i=function(u,F,m){var G,r,q,p,t,C,y,A,n,x,E,v,D,o=null,z=null,B,s,w;if(!u){return;}r=u.key;if(r&&!r.clipId){r.clipId=F.getClipId();}G=g(r);if(!G){return;}y=r.network;if(c.isAdPresent(G,r.tId)){return;}q=new b.com.yahoo.ads.communicator.Prefetcher(l,e.AD_PREFETCH_TIME);p=m.getAllocation();t=p.getNetworkModules();C=p.getSettings();for(B in t){if(t.hasOwnProperty(B)){o=t[B];if(o.getName().indexOf(y)===0){v=true;D=o;break;}}}if(v&&D){z=new b.com.yahoo.ads.man.AdComponentSettings();z.init(C,D.getId(),null);q.setNetworkModule(D);q.setNetworkSettings(z);}q.init(F);q.key=G;q.tId=r.tId;q.lmsId=r.lmsId;q.clipId=r.clipId;q.revShare=r.revShare;q.on(e.AD_PREFETCH_EVENT,function(I){try{s=I.adObject;w=s.getCommunicator();A=w.key;n=w.clipId;x=w.tId;E=w.lmsId;if(I.update){c.updateAd(A,s,x);}else{c.addAd(A,s,n,x,E);}}catch(H){}},l);q.prefetchAd(u.adXML);};this.updateAdCache=function(m){c.addAd(m.keyVal,m.adObject,m.clipVal,m.tVal,m.lmsVal);};this.onAdAssetPrefetch=function(m){this.fire(e.AD_ASSET_PREFTECH,m);};this.getRendererType=function(){return f;};this.getAd=function(m){return c.getAd(m);};this.getRule=function(m){return j.getRule(m);};this.getSpaceIdMap=function(){return c.getSpaceIdMap();};this.getBookingIdMap=function(){return c.getBookingIdMap();};this.getLastAdEntry=function(){return c.getLastAdEntry();};this.getRuleMap=function(){return j.getRules();};this.update=function(s){var q,v,t,w,m,r,n,p,o,u;for(p=0;p<s.length;p++){q=s[p];v=q.getAdData();if(v&&v.adRules){w=v.adRules.result;m=q.getClipId();r=j.getRule(m);if(r){n=r.parsedRules;}else{n=new b.com.yahoo.ads.man.ParseJSON();n.parseItems(w);if(!(n.getRules()&&n.getAllocation())){continue;}j.addRule(m,{"playerData":q,"parsedRules":n});}t=w.adList;if(!t){return;}for(o=0;o<t.length;o++){i(t[o],q,n);}}}};c.on(e.AD_ASSET_PREFTECH,this.onAdAssetPrefetch,this);this.updateCache=function(m){if(typeof m==="undefined"||m===null){return;}this.update(m);this.refreshCache();};this.refreshCache=function(){var p,n,q,m=this,o=c.getExpiredAds();if(!o.length){return;}this.fire(e.AD_CACHE_REFRESH,o);if(k){k.fetchMetaData(o,{success:function(s){n=[];q=null;for(var r=0;r<s.length;r++){try{p=s[r];q=new b.VideoAds.PlayerData();q.setClipId(p.get("id"));q.setClipDuration(p.get("duration"));q.setMASAcctId("");q.setPlaylistId("");q.setAdData(p.get("adData"));q.addCustomParameter(e.AD_PARAM.SPACEID,p.get("metrics").pspid);q.addCustomParameter(e.AD_PARAM.LICENSEID,p.get("licenseId"));q.setIsLive(p.get("isLive"));n.push(q);}catch(t){}}m.update(n);},failure:function(){}});}};};b.augment(a,b.EventTarget);b.com.yahoo.ads.cache.CacheManager=a;},"1.0.0",{requires:["node","Constants","ScopeLogger","AdCache","RuleCache","AdComponentSettings","ParseJSON","Prefetcher","RedirectResolver"]});YUI.add("RuleCache",function(a){a.namespace("com.yahoo.ads.cache");a.com.yahoo.ads.cache.RuleCache=function(){var b={};this.addRule=function(d,c){b[d]=c;};this.getRule=function(c){return b[c];};this.getRules=function(){return b;};};},"1.0.0",{});YUI.add("AdCacheStatistics",function(b){b.namespace("com.yahoo.ads.common");function a(){var d=0,e=0,f=0,c=0;return{addVast:function(){d+=1;},addNonVast:function(){e+=1;},addRedirect:function(){f+=1;},addVpaid:function(){c+=1;},toString:function(){var g=d+e+f;return"Total Ads: "+g+", VAST Ads: "+d+" NonVAST Ads: "+e+" Redirects: "+f+" VPAID ads: "+c;}};}b.com.yahoo.ads.common.AdCacheStatistics=a;},"1.0.0",{});YUI.add("AdsStatus",function(b){b.namespace("com.yahoo.ads.common");function a(o){var k=b.com.yahoo.ads.plugin.YWACode;a.THREE_PAS="3PAS";a.HOSTED="hosted";a[k.AD_RESPONSE_CODE]={"title":"Ad Call Response Code","description-1":"Got No-Ad","description-2":"Got an Ad","description-102":"Communicator Ad call timeout","description-103":"Communicator Load error","description-104":"Ad call error","description-105":"Plugin timeout","description-107":"VMAP parsing error","description-108":"General Ad XML parsing error","description-121":"SSL Unsupported error","description-122":"AD targeting missing error","description-123":"Ad response processing generic error","description-124":"Ad response null (Ad Blocker)"};
a[k.AD_RESPONSE_TYPE]={"title":"Ad Response Type ","description-1":"Non-VAST Ad response","description-2":"VAST Ad response","description-3":"No-AD","description-4":"VPAID Ad response","description-106":"Generic error"};a[k.AD_TEMPORAL_PLACEMENT]={"title":"Ad Position","description-clipGateway":"Bumper Ad","description-preroll":"Preroll Ad","description-postroll":"Postroll Ad","description-overlay":"Overlay Ad","description":"Other type of Ad (non - PreRoll / PostRoll / BMPR / Overlay)"};a[k.AD_CALL_LATENCY]={"title":"Ad Call Latency","description":"Ad Call Latency (adl)"};a[k.AD_START_LATENCY]={"title":"Ad Start Latency","description":"Ad Start Latency (asl)"};a[k.AD_FALLBACK]={"title":"Fallback Ad","description-1":"This is a fallback ad","description-2":"This is not a fallback ad"};a[k.AD_OPP_TAKEN]={"title":"Ad Opportunity Taken","description-1":"Taken","description-2":"Not Taken"};a[k.AD_CACHE_HIT]={"title":"Ad Cache Hit","description-1":"Not cached","description-2":"SpaceID - hit","description-3":"BookingID - hit","description-4":"Prefetch in progress"};a[k.AD_BOOKING_ID]={"title":"Booking ID of this Ad","description":""};a[k.AD_MEDIASTORE]={"title":"Mediastore","description-M":"This Ad stream is served from MobStor","description-A":"This AD stream is served from Atlas","description":"Not from MobStor or Atlas"};a[k.AD_CREATIVE_ID]={"title":"Creative ID of this Ad","description":""};a[k.VPAID_SWF_LOAD_CONNECTION_LATENCY]={"title":"VPAID Connection Latency","description":"VPAID Connection Latency (vsc) "};a[k.VPAID_SWF_LOAD_LATENCY]={"title":"VPAID SWF Load latecy","description":"VPAID SWF Load latecy (vsl)"};a[k.VPAID_TOTAL_LATENCY]={"title":"VPAID Total Latency","description":"VPAID Total Latency (avl)"};a[k.VPAID_OVERALL]={"title":"VPAID Overall Latency","description":"VPAID Overall Latency: adl + avl"};a[k.VAST_OVERALL]={"title":"VAST Overall Latency","description":"VAST Overall Latency: adl + aml"};a[k.AD_MEDIA_LATENCY]={"title":"Ad Media Latency","description":"Ad Media Latency (aml)"};a[k.AD_NETWORK_NAME]={"title":"Ad Network Name","description":"Ad Network that was used to fetch the ad."};a[k.YVAP_TIMEOUT_AT_ADSTART]={"title":"Ad Start timeout","description":"No Ad Start timeout.","description-1":"Ad did not start because of a Ad start timeout."};a[k.YVAP_TIMEOUT_AT_ADCALL]={"title":"Ad Call timeout","description":"No Ad call timeout.","description-1":"Ad did not start because of a Ad call timeout."};a.THREE_PAS_DOMAIN={"title":"Three PAS Domain","description":"Not 3PAS"};a[k.AD_START_ERROR]={"title":"Ad Start Error","description":"Ad was returned, but there was an Ad start error","description-109":"Ad was returned, but Ad start error: FLASH_SECURITY_ERROR","description-110":"Ad was returned, but Ad start error: FLASH_IO_ERROR","description-111":"Ad was returned, but Ad start error: FLASH_ASYNC_ERROR","description-112":"Ad was returned, but Ad start error: FLASH_GENERIC ERROR","description-113":"Ad was returned, but Ad start error: FLASH_VPAID_ERROR","description-120":"Ad was returned, but Ad start error: INCOMPATIBLE MEDIA"};a.reason={"success":"Ad showed up fine.","no_ad":"Reason for ad not showing up: NO AD returned.","timeout":"Reason for ad not showing up: Timeout","other":"Reason for ad not showing up: ","ad_start_error":"Ad was returned, but there was an ad start error."};a.AD="AD";var j=b.com.yahoo.ads.common.Constants,p=b.com.yahoo.ads.common.HtmlTable,I=b.com.yahoo.ads.communicator.Ad,u=b.com.yahoo.ads.plugin.MonitoringBeaconEvent,q=b.com.yahoo.ads.plugin.MonitorBeaconer,x=j.NONBREAKING_SPACE,t="#",h="key",g="bookingId",B="toTableRows",H="yes",s="title",r="description",G="success",i="no_ad",c="timeout",E="other",y="ad_start_error",F="Summary",w="So far no Ad Opportunities have been taken for this clip.",e={},D=[],d={};function A(L,M,Q,O){var P,N,J,K;N=O.ad;if(!N){return"";}P="<tr>";J=N.getType&&N.getType()||"";K=N.redirectUrlList&&N.redirectUrlList[0]||"";if(L!==null){P+="<td>"+L+"</td>";}return P+"<td>"+[M||x,Q||x,O.tId||x,N.getAdId&&N.getAdId()||x,O.clipId||x,f(O.timestamp),(J===I.TYPE.NOAD?I.TYPE.NOAD:a.AD),(K?a.THREE_PAS:a.HOSTED),(K?v(K):x),(J===I.TYPE.VPAID?H:x),(O.isL1?H:x)].join("</td><td>")+"</td></tr>";}function m(J){var L=a.reason,M=L[G];if(J[k.AD_RESPONSE_CODE]===1){M=L[i];}else{if(J[k.AD_RESPONSE_CODE]===2&&(J[k.YVAP_TIMEOUT_AT_ADSTART]===1||J[k.YVAP_TIMEOUT_AT_ADCALL]===1)){M=L[c];}else{if(J[k.AD_RESPONSE_CODE]!==2&&J[k.AD_RESPONSE_CODE]!==1){var K=a[k.AD_RESPONSE_CODE];M=L[E]+K[r+"-"+J[k.AD_RESPONSE_CODE]];}}}return M;}function f(J){return new Date(J).toString();}function v(L){var K,M,J;K=L.match(/^(?:http[s]?:\/\/)?([^:\/\s]+)/i);K=K&&K[1]||"";M=K.match(/([^\.]+\.[^\.]+)$/);J=M&&M[1]||j.NOT_AVAILABLE;return J;}function z(J,K){if(!J){return;}if(J.getRedirectURL()!==""){K.addRedirect();}if(J.getType()===I.TYPE.VPAID){K.addVpaid();}if(J.isVast()===true){K.addVast();}else{K.addNonVast();}}function n(K){var J;if(Object.keys){return Object.keys(K).length;}J=0;b.each(K,function(){J+=1;});return J;}function C(M,J){var L={},K=j.NOT_AVAILABLE,N=K;if(b.Lang.isValue(M)&&b.Lang.isValue(J)&&J>0){N=M/J;}L["Viewed clip count (from cookie)"]=b.Lang.isValue(M)?M:K;L["Viewed ad count (from cookie)"]=b.Lang.isValue(J)?J:K;L["clips per ad"]=N;return L;}function l(){var N=0,M=0,J={},L=o.getSpaceIdMap(),O=o.getRuleMap(),K={};b.each(L,function(P,Q){if(Q!==B){N+=P.length;M+=1;b.each(P,function(U){var S=false,R=Q.split("_")[0],T=J[R];if(!b.Lang.isObject(T)){T=new b.com.yahoo.ads.common.AdCacheStatistics();S=true;}z(U.ad,T);if(S){J[R]=T;}});}});K["Total Cached Ads"]=N;K["Total Cached Keys"]=M;K["Total Cached Clips"]=n(O)-1;b.each(J,function(Q,P){K["AdsCache Network: "+P]=Q.toString();});return K;}return{getStatusMonitoringData:function(P){var J=[],M,S,Q;for(M=0;M<P.length;M++){var K=P[M],L={},R=K[k.AD_OPP_TAKEN]===q.YVAP_AD_OPPORTUNITY_TAKEN,O=K[k.REDIRECT_HOP],N=R&&b.Lang.isValue(O)&&O>0;for(S in K){if(a.hasOwnProperty(S)&&K[S]){Q=a[S];L[Q[s]]={"code":K[S]||x,"description":Q[r+"-"+K[S]]||Q[r]};
}}L[a.THREE_PAS_DOMAIN[s]]={"code":N?v(K[k.AD_REDIRECT]):"-","description":N?"":a.THREE_PAS_DOMAIN[r]};L[F]={"code":"","description":m(K)};J.push(L);}return J;},toTable:function(){var T=o.getSpaceIdMap(),Q=o.getBookingIdMap(),S=o.getRuleMap(),J=o.getLastAdEntry(),R,M,L,P,U,O,K,N=["txnId","adId","clipId","timestamp","Ad/NoAd","3PAS/hosted","3PAS Domain","VPAID","isL1"];T.toTableRows=function(){var X="",W=0,V=this;b.each(V,function(Y,Z){if(Z!==B){b.each(Y,function(aa){X+=A(W,Z,aa.bookingId,aa);W+=1;});}});return X;};Q.toTableRows=function(){var X="",W=0,V=this;b.each(V,function(Y,Z){if(Z!==B){b.each(Y,function(aa){X+=A(W,Z,aa.key,aa);W+=1;});}});return X;};S.toTableRows=function(){var X="",W=0,V=this;b.each(V,function(Z,Y){if(Y!==B){X+="<tr><td>"+W+"</td><td>"+Y+"</td></tr>";W+=1;}});return X;};J.toTableRows=function(){var V=this;return A(null,V.key,V.bookingId,V);};D.toTableRows=function(){var V="";if(D.length){b.each(this,function(X,W){V+='<tr><td colspan="3"><strong>Ad '+(W+1)+'</strong></td><td style="display:none;"></td><td style="display:none;"></td></tr>';b.each(X,function(Z,Y){V+="<tr><td>"+Y+"</td><td>"+Z.code+"</td><td>"+Z.description+"</td></tr>";});V+='<tr style="height:15px">&nbsp;</tr>';});}else{V+='<tr><td colspan="3">'+w+"</td></tr>";}return V;};R=new p(D,"Ad Status",[]).toString();M=new p(C(window._clipCount,window._adCount),"Cumulative Stats",[]).toString();L=new p(l(),"AdCache Stats",[]).toString();P=new p(T,"AdCache SpaceId Status",[t,h,g].concat(N)).toString();U=new p(Q,"AdCache BookingId Status",[t,g,h].concat(N)).toString();O=new p(S,"RuleCache ClipIds",[]).toString();K=new p(J,"Last AdEntry Retrieved from Cache",[h,g].concat(N)).toString();return[R,M,L,P,U,O,K].join("<br>");},add:function(J,K){e[J]=K;},addAll:function(K){var J=this;D=[];b.each(K,function(L){e={};b.each(L,function(N,M){J.add(M,N);});D.push(e);});},remove:function(J){delete e[J];},reset:function(){e={};D=[];d={};}};}b.com.yahoo.ads.common.AdsStatus=a;},"1.0.0",{requires:["ScopeLogger","CacheManager","MonitoringBeaconEvent","AdCacheStatistics","HtmlTable","Ad","MonitorBeaconer","YWACode"]});YUI.add("Constants",function(a){a.namespace("com.yahoo.ads.common");prefix="";Constants={};Constants.FLASH_PLUGIN_URL="http://d.yimg.com/ks/plugin/AdPlugin.swf";Constants.EVENT_PLUGIN_ERROR="AdPluginError";Constants.EVENT_PLUGIN_LOADED="PluginLoaded";Constants.EVENT_PLUGIN_READY="PluginReady";Constants.EVENT_PLUGIN_DESTROY="AdPluginDestroy";Constants.EVENT_PLUGIN_TIMEOUT="AdPluginTimeout";Constants.EVENT_AD_PLAYBACK_NONE="AdPlaybackNone";Constants.EVENT_AD_PLAYBACK_START="AdPlaybackStart";Constants.EVENT_AD_PLAYBACK_STOP="AdPlaybackStop";Constants.EVENT_AD_PAUSED="AdPaused";Constants.EVENT_AD_PLAYING="AdPlaying";Constants.EVENT_VIDEO_AD_START="VideoAdStart";Constants.EVENT_AD_START_MEDIA_PLAYBACK="AdStartMediaPlayback";Constants.EVENT_AD_MEDIA_FIRST_BYTE="AdStartMediaFirstByte";Constants.EVENT_VIDEO_AD_DISPLAY="VideoAdDisplay";Constants.EVENT_VIDEO_AD_END="VideoAdEnd";Constants.EVENT_VIDEO_AD_INTERRUPTED="VideoAdInterrupted";Constants.EVENT_RICH_AD_START="RichAdStart";Constants.EVENT_RICH_AD_END="RichAdEnd";Constants.EVENT_OVERLAY_START="OverlayStart";Constants.EVENT_OVERLAY_END="OverlayEnd";Constants.EVENT_EXPERIENCE_COMPLETE="ExperienceComplete";Constants.EVENT_PREPARE_VIDEO="PrepareVideo";Constants.EVENT_AD_PROGRESS="blockingAdProgress";Constants.EVENT_NOAD="PluginNoAd";Constants.EVENT_PROFILER="AdPluginProfiler";Constants.EVENT_METRIC="metricsEvent";Constants.AD_START_ERROR="AD_START_ERROR";Constants.AD_DELIVERY_ERROR="AD_DELIVERY_ERROR";Constants.MANAGED_CONFIG_LOADED_EVENT="MANAGED_CONFIG_LOADED_EVENT";Constants.COMPONENT_LOADED_EVENT="COMPONENT_LOADED_EVENT";Constants.PROPERTY_ID_READY_EVENT="PROPERTY_ID_READY_EVENT";Constants.LOADED_FALLBACK_COMMUNICATOR="LOADED_FALLBACK_COMMUNICATOR";Constants.LOAD_ERROR_EVENT="errorLoading";Constants.AD_ENGINE_READY_EVENT="AD_ENGINE_READY_EVENT";Constants.AD_ENGINE_ERROR_EVENT="AD_ENGINE_ERROR_EVENT";Constants.AD_ENGINE_AD_EVENT="AD_ENGINE_AD_EVENT";Constants.NO_RENDERER_EVENT="NO_RENDERER_EVENT";Constants.NO_ADDATA_EVENT="NO_ADDATA_EVENT";Constants.UNKNOWN_RENDERER_EVENT="UNKNOWN_RENDERER_EVENT";Constants.PLAYER_READY_EVENT="PLAYER_READY_EVENT";Constants.CATEGORY_CHANGE_EVENT="CATEGORY_CHANGE_EVENT";Constants.CLIP_CHANGE_EVENT="CLIP_CHANGE_EVENT";Constants.HTML="html";Constants.FLASH="flash";Constants.ALLOCATION="Allocation";Constants.RULEGROUP="RuleGroup";Constants.LICENSOR_TYPE_ID="licensorTypeId";Constants.SHARED_OBJECTS_NOT_ALLOWED="SharedObjectsNotAllowed";Constants.MME="MME";Constants.AD_READY_EVENT="AdReady";Constants.NOAD_EVENT="NoAd";Constants.NULL_AD_EVENT="NullAd";Constants.ADCALL_ERROR_EVENT="AdCallError";Constants.AD_REDIRECT_EVENT="AdRedirect";Constants.AD_REQUEST_EVENT="AdRequest";Constants.AD_PREFETCH_EVENT="AdPrefetch";Constants.AD_ASSET_PREFTECH="AdAssetPrefetch";Constants.AD_CACHE_REFRESH="AdCacheRefresh";Constants.AD_OPP_INIT="init";Constants.AD_OPP_RULES_MISSING="rulesmissing";Constants.INVALID_PLAYER_DATA="INVALID_PLAYER_DATA";Constants.TRIGGER_PLAYER_GATEWAY="playerGateway";Constants.TRIGGER_PLAYLIST_GATEWAY="playlistGateway";Constants.TRIGGER_CLIP_GATEWAY="clipGateway";Constants.TRIGGER_CLIP_PREROLL="preroll";Constants.TRIGGER_CLIP_POSTROLL="postroll";Constants.NOTIFICATION_CLIP_CHANGE="clipChange";Constants.AD_POSITION_PREROLL=Constants.TRIGGER_CLIP_PREROLL;Constants.AD_POSITION_POSTROLL=Constants.TRIGGER_CLIP_POSTROLL;Constants.AD_POSITION_OVERLAY="overlay";Constants.EVENT_SKIN_PLAYER="skinPlayer";Constants.EVENT_UNLOCK_PLAYINST="unlockPlaylist";Constants.EVENT_SCALE_VIDEO="scaleVideo";Constants.EVENT_AD_PROGRESS="blockingAdProgress";Constants.EVENT_AD_METRICS="adMetricsEvent";Constants.AD_EVENT="adEvent";Constants.EVENT_CONTENT_COMPLETE="ContentVideoComplete";Constants.REDIRECT_RESOLVED="REDIRECT_RESOLVED";Constants.REDIRECT_TIMEDOUT="REDIRECT_TIMEDOUT";Constants.ControlTweenEvent="ControlTweenEvent";Constants.ClientInfoChangedEvent="ClientInfoChanged";
Constants.RenderCompleteEvent="AD_COMPLETE";Constants.VolumeChangedEvent="volumechanged";Constants.linearTemplateUrl="http://d.yimg.com/ks/templates/clickable_bumper_renderer.js";Constants.linearTemplateInitFn="getVPAIDAd";Constants.AD_CACHE_LIMIT=50;Constants.AD_CACHE_BUCKET_LIMIT=10;Constants.AD_CACHE_EXPTIME=1200000;Constants.AD_PREFETCH_TIME=2.5;Constants.AD_FB_RENDER_TIME=0.15;Constants.COOKIE_AD_COUNT="ac";Constants.COOKIE_CLIP_COUNT="cc";Constants.COOKIE_VIDEO_LENGTH="vl";Constants.COOKIE_REC_VIDEO_LENGTH="rvl";Constants.COOKIE_REC_CLIP_COUNT="rcc";Constants.COOKIE_AD_LENGTH="al";Constants.COOKIE_REC_VIDEO_LENGTH_NFL="rvl_NFL";Constants.COOKIE_SESSION_NFL="session_NFL";Constants.COOKIE_LMSID="lmsID";Constants.NFL_FREE_TIME=240;Constants.NFL_SESSION_TIME=14400;Constants.NFL_PREROLL="NFL_Preroll";Constants.NFL_ONLOAD="NFL_onLoad";Constants.UNDEFINED="undefined";Constants.IMPRESSION="impression";Constants.BITRATE="bitrate";Constants.REDIRECT_NOAD="redirectNoAd";Constants.CPCV="cpcv";Constants.SKIP="skip";Constants.CLICKTHROUGH="clickthrough";Constants.NOT_AVAILABLE="N/A";Constants.NONBREAKING_SPACE="&nbsp;";Constants.ADXML_ENABLE_SKIP_AD=2;Constants.ADXML_DISABLE_SKIP_AD=1;Constants.AD_ENABLE_SKIP=1;Constants.AD_DISABLE_SKIP=0;Constants.VMAP_BREAK_START_EVENT="vmap_breakstart";Constants.CDATA_SECTION_NODE=4;Constants.TEXT_NODE=3;Constants.AD_START_ERROR_CODES={FLASH_SECURITY_ERROR:"FLASH_SECURITY_ERROR",FLASH_IO_ERROR:"FLASH_IO_ERROR",FLASH_ASYNC_ERROR:"FLASH_ASYNC_ERROR",FLASH_GENERIC_ERROR:"FLASH_GENERIC_ERROR",FLASH_VPAID_ERROR:"FLASH_VPAID_ERROR",INCOMPATIBLE_MEDIA:"INCOMPATIBLE_MEDIA"};Constants.LOCATION_PROTOCOL={"HTTP":"http:","HTTPS":"https:"};Constants.AD_PREFETCH_NONE="AD_PREFETCH_NONE";Constants.AD_PREFETCH_INPROGRESS="AD_PREFETCH_INPROGRESS";Constants.AD_PREFETCH_COMPLETE="AD_PREFETCH_COMPLETE";Constants.AD_PREFETCH_TIMEOUT="AD_PREFETCH_TIMEOUT";Constants.AD_PREFETCH_ERROR="AD_PREFETCH_ERROR";Constants.AD_PARAM={SPACEID:"ad-biz:spaceID",PROPERTYID:"ad-biz:propertyid",PARTNERID:"partnerId",LICENSEID:"ad-biz:licenseID"};Constants.TYPE_OF_NUMBER="number";Constants.TYPE_OF_STRING="string";Constants.TYPE_OF_UNDEFINED="undefined";Constants.TYPE_OF_OBJECT="object";Constants.TYPE_OF_BOOLEAN="boolean";Constants.TYPE_OF_FUNCTION="function";Constants.TYPE_OF_XML="xml";Constants.TRUE="true";Constants.FALSE="false";Constants.BOOL_TRUE=true;Constants.BOOL_FALSE=false;Constants.BOOKINGID="bookingId";Constants.CREATIVEID="creativeId";Constants.SSL_ON=true;Constants.COUNTTOSUPPLY_ON=true;Constants.TECHNOTARGET_ON=true;Constants.LOCALSTORAGE_ON=true;Constants.ATLAS_ON=false;Constants.VIEWABILITY_ON=true;Constants.VIEWABILITY_MEASURABLE=1;Constants.VIEWABILITY_NOT_MEASURABLE_IFRAME=2;Constants.VIEWABILITY_NOT_MEASURABLE_NO_DARLA=3;Constants.PLAYER_AUTO_PLAY_ON=1;Constants.PLAYER_AUTO_PLAY_OFF=2;Constants.PLAYER_SOUND_ON=1;Constants.PLAYER_SOUND_OFF=2;Constants.PLAYER_IN_BANNER=1;Constants.PLAYER_NOT_IN_BANNER=2;Constants.PLAYER_LOCATION_ABOVE_THE_FOLD=1;Constants.PLAYER_LOCATION_BELOW_THE_FOLD=2;Constants.UNKNOWN=3;Constants.MS_XMLDOM="Microsoft.XMLDOM";Constants.ERR_REQ_GENERIC="ERR_REQ_GENERIC";Constants.ERR_RESP_GENERIC="ERR_RESP_GENERIC";Constants.ERR_SSL_UNSUPPORTED="ERR_SSL_UNSUPPORTED";Constants.ERR_REQ_ADTGT="ERR_REQ_ADTGT";Constants.ERROR_PARSING="ERR_RESP_PARSING";Constants.PLAYER_CLASS_NAME="yui3-videoplayer-content";Constants.BOOKINGIDMAP="bookingidMap";Constants.SPACEIDMAP="spaceidMap";Constants.CACHEUPDATE_URL="http://cache.adserver.yahoo.com/adscache/v1/creative/update";Constants.HTTP="http://";Constants.HTTPS="https://";Constants.SSL="https:";Constants.BUMPER_TEMPLATE_SUFFIX=".yimg.com/ks/templates/BumperAd.swf";Constants.CLICKABLE_TEMPLATE_SUFFIX=".yimg.com/ks/templates/ClickableAd.swf";Constants.OVERLAY_TEMPLATE_SUFFIX=".yimg.com/ks/templates/OverlayC2SAd.swf";Constants.VEVO_LMSID="a077000000IsurlAAB";Constants.NFL_LMSID="a0Vd0000003unOyEAI";Constants.INTERNAL_POLLING_INTERVAL=200;Constants.TIME_FOR_VIEWABLE_IMPRESSION=2000;Constants.VIEWABILITY_THRESHOLD=0.5;Constants.CSC_DELIM=",";Constants.CSC_KEYVALUE_DELIM="$";Constants.URL_QUERY_DELIM="&";Constants.URL_DELIM="?";Constants.CSC_OPEN_PAREN="(";Constants.ERROR_CODES={FLASH_SECURITY_ERROR:109,FLASH_IO_ERROR:110,FLASH_ASYNC_ERROR:111,FLASH_GENERIC_ERROR:112,FLASH_VPAID_ERROR:113,INCOMPATIBLE_MEDIA:120,FLASH_MEDIA_PLAYBACK_ERROR:114,AD_CALL_TIMEOUT:102,ERR_REQ_GENERIC:104,ERR_SSL_UNSUPPORTED:121,ADPLUGIN_TIMEOUT:105,VMAP_PARSE_ERROR:107,ERR_RESP_PARSING:108,ERR_REQ_ADTGT:122,ERR_RESP_GENERIC:123,ERR_RESP_EMPTY:124,THIRD_PARTY_NOAD:125,VPAID_SWFLOAD_ERROR:126,FLASH_MEDIA_TIMEOUT_ERROR:127};Constants.CACHE_UPDATE_TIMEOUTS={"amgdgt.com":0.75,"adap.tv":0.75,"videohub.tv":0.75,"doubleclick.net":0.75,"undertone.com":0.75,"jivox.com":0.75,"adform.net":0.75,"flashtalking.com":0.75,"telemetryverification.net":0.75,"fwmrm.net":0.75,"eyereturn.com":0.75,"zedo.com":0.75,"tubemogul.com":0.75,"tidaltv.com":0.75,"yahoo.com":0.75,"cbs.com":0.75,"innovid.com":0.75,"moatads.com":0.75,"pointroll.com":0.75,"vindicosuite.com":0.75};Constants.C2_DOMAINS={"adap.tv":true};Constants.FALLBACKTYPE_L2="L2";Constants.FALLBACK_AD_TITLE="Y_Fallback";Constants.YAHOO_COM="yahoo.com";Constants.YAHOO_NET="yahoo.net";a.com.yahoo.ads.common.Constants=Constants;},"1.0.0",{requires:["node"]});YUI.add("Cookie",function(b){b.namespace("com.yahoo.ads.common");var a=function(d,e){var c=b.com.yahoo.ads.common.Constants,f="@";this._cookieEnabled=!!(navigator.cookieEnabled);this._cookieData=null;this._name=d;this._acc=e;this.readCookie=function(){var g="yvap"+"=";var k=document.cookie.split(";");for(var m=0;m<k.length;m++){var n=k[m];while(n.charAt(0)===" "){n=n.substring(1,n.length);}if(n.indexOf(g)===0){var h=n.substring(0,n.length);var p=h.split(f);this._cookieData=[];for(var l=0;l<p.length;l++){var q=p[l];var o=q.split("=");this._cookieData[o[0]]=o[1];}}}};this.getCookie=function(){var g="";for(var h in this._cookieData){g=g+f+h+"="+this._cookieData[h];}return g;};this.writeCookie=function(){var h=document.domain;
var j="";var i=this._acc;if(h===c.YAHOO_COM||h.match(/\.yahoo\.com$/)){j=h.substring(h.indexOf(".yahoo.com"));}else{if(h===c.YAHOO_NET||h.match(/\.yahoo\.net$/)){j=h.substring(h.indexOf(".yahoo.net"));}}var g=this.getCookie();if(j){document.cookie="yvap"+"="+i+g+";domain="+j+";path=/;";}};if(this._cookieEnabled){this.readCookie();if(!this._cookieData){this._cookieData=[];this.setCookieParam(c.COOKIE_CLIP_COUNT,0);this.setCookieParam(c.COOKIE_AD_LENGTH,0);this.setCookieParam(c.COOKIE_VIDEO_LENGTH,0);this.setCookieParam(c.COOKIE_REC_VIDEO_LENGTH,0);this.setCookieParam(c.COOKIE_AD_COUNT,0);this.setCookieParam(c.COOKIE_REC_VIDEO_LENGTH_NFL,0);this.setCookieParam(c.COOKIE_SESSION_NFL,0);this.setCookieParam(c.COOKIE_LMSID,"");}}};a.prototype.cookieEnabled=function(){return this._cookieEnabled;};a.prototype.cookieData=function(){return this._cookieData;};a.prototype.setCookieParam=function(c,d){if(isFinite(d)&&!isNaN(d)){this._cookieData[c]=d;this.writeCookie();}};a.prototype.getCookieParam=function(c){this.readCookie();if(!this._cookieData[c]){this.setCookieParam(c,0);}return this._cookieData[c];};b.com.yahoo.ads.common.Cookie=a;},"1.0.0",{requires:["node"]});YUI.add("HtmlTable",function(b){b.namespace("com.yahoo.ads.common");function a(d,h,e){function i(){var r="";b.each(j,function(t,s){r+="<tr><td>"+s+"</td><td>"+t+"</td></tr>";});return r;}function k(){if(!q){return 0;}var r=q.match(/^.*?<\/tr>/)[0]||"";return r.match(/<td\b/g).length;}function f(){var r,t=l.NONBREAKING_SPACE,x=o?Math.min(c,o):c,w=Math.max(o-c,0),v,u,s;if(!x){return"";}s="<tr>";for(r=0;r<x;r++){v=g[r]||t;s+="<td>"+v+"</td>";}if(w){u="<td>"+t+"</td>";for(r=0;r<w;r++){s+=u;}}return s+"</tr>";}function n(){return p?"<tr><td colspan='"+m+"'>"+p+"</td></tr>":"";}var j=d||{},q=j.toTableRows?j.toTableRows():i(),p=h||"",g=e||[],c=g.length,l=b.com.yahoo.ads.common.Constants,o=k(),m=Math.max(1,o,g.length);return{toString:function(){return"<table border='1'>"+n()+f()+(q?q:"<tr><td colspan='"+m+"'>NONE</td></tr>")+"</table>";}};}b.com.yahoo.ads.common.HtmlTable=a;},"1.0.0",{});YUI.add("AbstractCommunicator",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(I,q,M){var L=b.com.yahoo.ads.common.Constants,H=b.com.yahoo.ads.communicator.Ad,o=b.com.yahoo.ads.communicator.parser.VASTParser,f=b.com.yahoo.ads.utils.Utils,d=b.com.yahoo.ads.utils.ViewabilityManager,A=".adserver.yahoo.com/a",w="http://ads.yimg.com/a/a/vdo/a/1x1.gif",m=null,j=null,s=null,C=null,R=q,B=null,k=M,S=0,K=[],e=null,u=null,i=null,t=null,n=I,g=this,c=false,p=false,P=false,F=0,v=null,Q=new b.com.yahoo.ads.communicator.adrequests.AdRequestManager(),D=null;var x=function(U){var T=U.mActionParams,V="VID";if(T&&T.id){adTypes=T.id.split(",");V=a.MME_AT_POS_MAP[adTypes[0]];}return V;};var y=function(V){var U="",T=i.getName();U=T+"_"+V;return U;};var h=function(V){var U="",T=i.getName();switch(T.toLowerCase()){case a.NAME.FWV:case a.NAME.CBS:case a.NAME.DFP:U=T+"_"+u.getClipId();break;default:U=T+"_"+u.getCustomParameter(L.AD_PARAM.SPACEID)+"_"+V+"_"+u.getCustomParameter(L.AD_PARAM.LICENSEID);break;}return U;};var r=function(T,U){if(typeof C===L.UNDEFINED||C===null){C=new b.com.yahoo.ads.plugin.Timer(T*1000,0);}else{C.reset();}C.addFunctionOnComplete(g,g._handleTimeOut,U);C.start();};var O=function(U){u=U;var T=null;if(typeof R!==L.UNDEFINED&&R!==null){T=R.getRendererType();}Q.setRendererType(T);B=new b.com.yahoo.ads.communicator.parser.ParserManager();P=false;};var J=function(X){var W,T="",U={},V={"type":L.REDIRECT_NOAD,"err_code":X};if(S>0&&K.length>0){V.initial_domain=K[0].replace("3PAS-","");V.vendor_domain=K[S-1].replace("3PAS-","");}if(s){T=s.getUrl();U=s.getJson();}W=new b.com.yahoo.ads.event.AdMetricsEvent(L.IMPRESSION,L.REDIRECT_NOAD,T,V,U);return W;};this.notifyTimeout=function(){if(D){clearInterval(D);}P=true;};this._getAd=function(ab,W){K=[];S=0;var Y=i.getName(),af=i.getId(),V=null,ad=this,aa=x(W),Z,ai,aj,X,ac,ae,T,U,ag,al;if(Y.indexOf(a.NAME.PREVIEW)===0){if(window.getAdXmlForPreview){ae=window.getAdXmlForPreview();if(ae.type==="tag"){ai=(aa==="VIDO")?a.DEFAULT_AD_REQUEST_TIMEOUT:k;al=t.getSetting("EnableSSL")===L.TRUE;var ah=ae.value;aj={"serverUrl":ah};try{X=Q.getRequest(aj,i.getName(),al);}catch(ak){return;}this.setRedirect(X,W,ai);}else{V=new b.com.yahoo.ads.communicator.AdResponse(ae.value,null,W);this._processAd(V,W);}return;}}U=h(aa);Z=q.getAd(U);if(U.indexOf("DFP")>=0){Z=null;}if(Z&&Z.getPrefetch()===L.AD_PREFETCH_COMPLETE&&Z.getType()===H.TYPE.REDIRECT){Z=null;}if((b.UA.ios||b.UA.android)&&Z&&Z.getPrefetch()!==L.AD_PREFETCH_COMPLETE){Z=null;}if(Z){if(Z.getType()===H.TYPE.REDIRECT){ag=f.getDomain(Z.getRedirectURL());if(ag){W.getRedirect().targetTag=ag;}}if(Z.getPrefetch()===L.AD_PREFETCH_INPROGRESS){m=Z;ai=(aa==="VIDO")?a.DEFAULT_AD_REQUEST_TIMEOUT:k;r(ai,[W]);ac=function(){Z=q.getAd(U);if(Z){if(Z.getPrefetch()===L.AD_PREFETCH_COMPLETE){clearInterval(D);D=null;if(C){C.reset();}ad._processAdFromCache(Z,W);}else{if(Z.getPrefetch()===L.AD_PREFETCH_TIMEOUT){clearInterval(D);D=null;m=Z;ad.handleAd(W);}else{if(Z.getPrefetch()===L.AD_PREFETCH_ERROR){clearInterval(D);D=null;m=Z;G(Z.getErrorState(),W);}}}}else{clearInterval(D);D=null;}};D=setInterval(ac,50);}else{if(Z.getPrefetch()===L.AD_PREFETCH_TIMEOUT){m=Z;this.handleAd(W);}else{if(Z.getPrefetch()===L.AD_PREFETCH_ERROR){m=Z;G(Z.getErrorState(),W);}else{this._processAdFromCache(Z,W);}}}}else{ai=(aa==="VIDO")?a.DEFAULT_AD_REQUEST_TIMEOUT:k;al=t.getSetting("EnableSSL")===L.TRUE;if(Y.toLowerCase().indexOf(a.NAME.MME)===0){aj={"adComponentSettings":t,"context":u,"adSpec":W};try{X=Q.getRequest(aj,i.getName(),al);}catch(ak){if(!ak.type){ak.type=L.ERR_REQ_GENERIC;}G(ak.type,W);return;}this.setRedirect(X,W,ai);}else{T="class: AbstractCommunicator, method: getAd";if(Y.toLowerCase().indexOf(a.NAME.FWV)===0){V=new b.com.yahoo.ads.communicator.AdResponse(a.FW_TEMPLATE,null,W);}else{if(Y.toLowerCase().indexOf(a.NAME.CBS)===0){V=new b.com.yahoo.ads.communicator.AdResponse(a.CBS_TEMPLATE,null,W);}else{if(Y.toLowerCase().indexOf(a.NAME.DFP)===0){V=new b.com.yahoo.ads.communicator.AdResponse(a.DFP_TEMPLATE,null,W);
}else{throw {"message":"[CommunicatorError] Unknown ad network "+Y,"loc":T};}}}if(V){S=-1;V.setIsTemplate(true);this._processAd(V,W);}else{throw {"message":"[CommunicatorError] Response template not available.","loc":T};}}}};this.onAdRedirect=function(T){switch(T.type){case L.REDIRECT_RESOLVED:m=T.ad;m.setCommunicator(this);this.handleAd(e);break;case L.ERR_RESP_GENERIC:G(L.ERR_RESP_GENERIC,e);break;case L.REDIRECT_TIMEDOUT:K=T.ad.getRedirectUrlList();S=T.ad.getRedirectCount();this._handleTimeOut(e);break;default:G(T.type,e);break;}};this.setRedirect=function(X,Y,W){var T,U,V;if(!W){W=k;}V=t.getSetting("EnableSSL")===L.TRUE;U={"adComponentSettings":t,"context":u,"serverUrl":X,"adSpec":Y};try{T=Q.getRequest(U,i.getName(),V);}catch(Z){G(Z.type,Y);return;}v=new b.com.yahoo.ads.communicator.RedirectResolver(R.getRendererType(),W);v.on(L.AD_REDIRECT_EVENT,this.onAdRedirect,this);v.resolve(m,T,0);};this._processAdFromCache=function(T,U){if(typeof T.redirectCount!==L.UNDEFINED&&T.redirectCount!==null&&typeof T.redirectUrlList!==L.UNDEFINED&&T.redirectUrlList!==null&&T.redirectUrlList.length>0){U.getRedirect().count=T.redirectCount;U.getRedirect().targetTag=T.redirectUrlList[0];}T.setSpec(U);if(T.getType()===H.TYPE.NOAD){this._notifyNoAd(U,T);}else{this._notifyAdReady(T);}};this._processAd=function(aa,Z){var U=0,V,X,T,Y;Y=aa.getPayload();if(Y.indexOf("adResults")>-1){Y=Y.replace(/&(?!amp;)/g,"&amp;");}X=t.getSetting("allowSkipAds");p=(typeof X!==L.UNDEFINED&&X!==null&&X==="true");if(p){if(t.getSetting("skipCountdownDuration")){F=parseInt(t.getSetting("skipCountdownDuration"),10);}}try{V=B.parseAd(Y,m);}catch(W){if(!W.type){W.type=L.ERR_RESP_GENERIC;}G(W.type,Z);return;}if(V instanceof Array){for(U=0;U<V.length;U++){T=V[U];if(aa.getIsTemplate()){T.unsetFormat();}T.setSkip_directive_publisher(p);T.setSkip_countdown_timer(F);T.setSpec(Z);T.setCommunicator(this);}m=V[0];if(typeof m!==L.UNDEFINED&&m!==null){this.handleAd(Z);}else{G(L.ERR_RESP_GENERIC,Z);return;}}else{G(L.ERR_RESP_GENERIC,Z);}};var N=function(U){var T=U.lastIndexOf("eob$");if(T>=0){U=U.substring(0,T)+"cuuid$"+u.getClipId()+","+U.substring(T,U.length);}return U;};var l=function(X,V){var T=X,U=V.getParams();if(X.indexOf(o.CSC_SERVER)>-1){X=N(X);var W=X.lastIndexOf("eob$");if(W>=0){T=X.substring(0,W+4)+"yvap_code="+U["err_code"]+":";if(U["initial_domain"]&&U["vendor_domain"]){T+="dmn_1="+U["initial_domain"]+":"+"dmn_n="+U["vendor_domain"]+":";}T+=X.substring(W+4,X.length);}}return T;};var E=function(T,W){var U=/\{(\w)+\}/g,V=W.getParams(),Y;if(T.indexOf(o.CSC_SERVER)>-1){T=N(T);}var X=function(ab){var ae=/(\w)+/g,Z=ab.match(ae),ad=Z[0],af="",ac;if(ad.toLowerCase()==="beap_client_event"){for(var aa in V){af+=aa+"$"+V[aa]+",";}af=af.substring(0,af.length-1);return af;}else{if(ad.toLowerCase()==="1x1pixel"){return w;}}ac=V[ad];return(typeof ac!==L.UNDEFINED&&ac!==null)?ac:ab;};Y=T.replace(U,X);return Y;};var z=function(T){var U=L.VMAP_BREAK_START_EVENT,V;if(T){V=T.getBeacons(U);if(V.length>0){g.sendBeacon(V[0].url);V.splice(0,1);}}};this.on(L.AD_READY_EVENT,n.notifyAdReady,n);this.on(L.NOAD_EVENT,n.notifyNoAd,n);this.on(L.AD_REDIRECT_EVENT,n.notifyRedirect,n);this.on(L.NULL_AD_EVENT,n.notifyNullAd,n);this.on(L.AD_REQUEST_EVENT,n.notifyAdRequest,n);this.setNetworkModule=function(T){i=T;};this.setNetworkSettings=function(T){t=T;};this.setEventBus=function(T){n=T;};this.getPosition=function(U,T){if(T&&T>1){return"n"+T+U;}return U;};this._notifyAdReady=function(T){s=T;if(P){this.onAdEvent(J(L.ERROR_CODES.ADPLUGIN_TIMEOUT),s);}T.setCommunicator(this);if(this.getNetworkName().indexOf(a.NAME.PREVIEW)===0){if(window.showAdInfo){window.showAdInfo(T);}}this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_VALID_AD,{ad:T}));this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));this.fire(L.AD_READY_EVENT,T);z(T);};this._notifyNullAd=function(T){this.fire(L.NULL_AD_EVENT,T);};var G=function(U,V){if(C){C.reset();}var T="EVENT_"+U;g.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(T,V));g.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,g.getNetworkName()));g.fire(L.NOAD_EVENT,V);g.onAdEvent(J(U),s);};this._notifyNoAd=function(X,W){var U,V,T;if(W){s=W;U=W.getRedirectCount();if(U>0){this.onAdEvent(J(L.ERROR_CODES.THIRD_PARTY_NOAD),W);}else{T=W.getBeacons(o.IMPRESSION);if(typeof T!==L.UNDEFINED&&T!==null){for(V=0;V<T.length;V++){var Y=T[V].url;this.sendBeacon(Y);}}}if(X&&W){this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_NOAD,{adSpec:X,ad:W}));this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));X.communicatorId=this.getNetworkId();z(W);}this.fire(L.NOAD_EVENT,X);}};this.sendBeacon=function(T){if(T){var U=document.createElement("img");U.src=T;U.style.display="none";}};this.adReadyCallback=function(T,U){spec=U;if(!T.getPayload()||(T.getPayload().length===0)){this._notifyNoAd(U);}else{this._processAd(T,U);}};this.onAdEvent=function(V,ag){var ai,X,ac,W="",ak=V.getAd(),T=V.getEventId(),af=V.getEventData(),aj=(T.toLowerCase()==="impression")?af:T,ab=V.getParams(),Y=n._sink.ViewabilityManager(),ah=f.isViewabilityMeasurable(),aa,U,Z;ab.clip_id=u.getClipId();ab.vi_measurable_value=ah?L.VIEWABILITY_MEASURABLE:f.getViewabilityNonMeasurableValue();if(ab.type==="playback"){aa=Y.getViewabilitySummary(ab.value);}if(!aa||!L.VIEWABILITY_ON){aa=Y.getDefaultViewabilitySummary();}for(U in aa){if(aa.hasOwnProperty(U)){Z=aa[U];Z=typeof Z!==L.UNDEFINED&&Z!==null?Z:L.UNKNOWN;ab[U]=Z;}}if(aj==="bitrate"&&c){return;}if(typeof ak.beacons!==L.UNDEFINED&&ak.beacons!==null){ai=ak.beacons[aj];if(typeof ai!==L.UNDEFINED&&ai!==null){W="";for(var ae=0;ae<ai.length;ae++){X=ai[ae];ac=X.url;if(aj==o.REDIRECT_NOAD){W=l(ac,V);}else{W=E(ac,V);}if(ab.type==="playback"&&this.getNetworkName().indexOf(a.NAME.PREVIEW)===0){if(window.showViewabilitySummary){window.showViewabilitySummary("Quartile beacon fired",ab.type,ab.value,W,aa);
}}this.sendBeacon(W);}}}if(aj==="bitrate"){c=true;}};this.getAd=function(U){e=U;var V={};V.spec=U;V.retryCount=U.retryCount;V.communicatorName=this.getNetworkName();this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALL,U));m=null;s=null;try{this._getAd(t,U);}catch(T){this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ERR_ADCALL,U));this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));this._notifyNullAd(U);}};this.init=function(T){O(T);};this.getNetworkName=function(){return(typeof i!==L.UNDEFINED&&i!==null)?i.getName():"";};this.getNetworkId=function(){return(typeof i!==L.UNDEFINED&&i!==null)?i.getId():"";};this.handleAd=function(T){var U=m.getRedirectURL();m.setSpec(T);m.setCommunicator(this);if(m.getType()===H.TYPE.REDIRECT){S+=1;this.setRedirect(U,T);}else{if(C){C.reset();}m.redirectUrlList=K;m.redirectCount=S;m.setPrefetch(L.AD_PREFETCH_COMPLETE);if(m.getType()===H.TYPE.NOAD){this._notifyNoAd(T,m);}else{this._notifyAdReady(m);}}};this._handleTimeOut=function(U){var T,V=x(U);C.reset();if(D){clearInterval(D);}j=m?m.getFallbackAd():null;if(j){if(!j.isC2()){if(j.getType()===H.TYPE.REDIRECT){return;}if(j.getType()===H.TYPE.NOAD){this._notifyNoAd(U,j);}else{this._notifyAdReady(j);}}}else{if(m.allowC2Backfill()){T=y(V);m=q.getAd(T);if(m.getType()===H.TYPE.NOAD){this._notifyNoAd(U,m);}else{this._notifyAdReady(m);}return;}s=m;this.onAdEvent(J(L.ERROR_CODES.AD_CALL_TIMEOUT),s);this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT,U));this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));this._notifyNullAd(U);}};};a.canService=function(m,e,k){var c,j,d,h,g=e["NETWORK."+k+".adTypes"],f;if(typeof g===_CONSTANTS.UNDEFINED||g===null){return true;}d=g.split(",");h={};for(f=0;f<d.length;f++){j=d[f].toLowerCase();h[j]=true;}var l=m.mActionParams.id.split(",");for(f=0;f<l.length;f++){c=l[f].toLowerCase();if(h[c]){return true;}}return false;};a.MME_AT_VERSION_MAP={overlayC2V:"v4",overlayC2S:"v5",clickable:"v1%3Bv7%3Bv8",interactive:"v2",asq:"v6"};a.MME_AT_POS_MAP={bumper:"BMPR",overlayC2V:"VIDO",overlayC2S:"VIDO",clickable:"VID",interactive:"VID",asq:"VID"};a.NAME={MME:"mme",FWV:"freewheel_vast",CBS:"cbs",DFP:"dfp",PREVIEW:"PREVIEW"};a.XML_TYPE={VAST:"VAST",VMAP:"vmap:VMAP",YAHOO:"adResults"};a.MME_AT_CONSTANT="flv_as3%3Bxml_ver_2.0%3Bxml_ver_2.0vast";a.FW_TEMPLATE='<VAST version="2.0"> <Ad id="840902551"> <Wrapper> <AdSystem>Yahoo</AdSystem> <VASTAdTagURI> <![CDATA[${vid_ap_fw_server_url}?nw=${vid_ap_fwnw}&metr=${vid_ap_fwmetr}&resp=${vid_ap_fwresp}&sfid=${vid_ap_fwsfid}&ssnw=${vid_ap_fwssnw}&pvrn=${vid_ap_fwpvrn}&caid=${vid_cl_fwcaid}&csid=${vid_cl_fwcsid}&crtp=${vid_ap_fwcrtp}&vprn=${vid_ap_fwvprn}&afid=${vid_ap_fwafid}&flag=${vid_ap_fwflag}&asnw=${vid_ap_fwasnw}&prof=${vid_ap_fwprof};;tpcl=${vid_ap_fwtpcl}&slau=${vid_ap_fwslau}&slid=${vid_ap_fwslid}&ptgt=${vid_ap_fwptgt}&tpos=${vid_ap_fwtpos}&flag=${vid_ap_fwflag1};slid=${vid_ap_fwslid2}&ptgt=${vid_ap_fwptgt2}&tpos=${vid_ap_fwtpos2}&flag=${vid_ap_fwflag2}&w=${vid_ap_fww2}&h=${vid_ap_fwh2};${vid_ap_addlslot}]]> </VASTAdTagURI> </Wrapper> </Ad> </VAST>';a.CBS_TEMPLATE='<VAST version="2.0"> <Ad id="840902551"> <Wrapper> <AdSystem>Yahoo</AdSystem> <VASTAdTagURI> <![CDATA[${vid_cl_cbsurl}]]> </VASTAdTagURI> </Wrapper> </Ad> </VAST>';a.MME_TEMPLATE="?pn=${vid_ap_mmepn}&f=${vid_cl_mmef}&p=${vid_cl_mmep}&c=${vid_cl_mmec}&l=${vid_cl_mmel}&at=${vid_cl_mmeat}vf=1&rs=${vid_cl_mmers}&rand=${vid_cl_mmerand}";a.DFP_TEMPLATE='<VAST version="2.0"> <Ad id="840902551"> <Wrapper> <AdSystem>Yahoo</AdSystem> <VASTAdTagURI> <![CDATA[${vid_cl_dfpurl}]]> </VASTAdTagURI> </Wrapper> </Ad> </VAST>';a.DEFAULT_AD_REQUEST_TIMEOUT=2.5;b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.AbstractCommunicator=a;},"1.0.0",{requires:["node","UrlLoader","AdResponse","VASTParser","Constants","datatype-xml-parse","AdRequestManager","ParserManager","RequestGenerationUtils","ViewabilityManager"]});YUI.add("Ad",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(){var w=b.com.yahoo.ads.common.Constants,y=b.com.yahoo.ads.communicator.AbstractCommunicator,x=b.com.yahoo.ads.communicator.Prefetcher,g=b.com.yahoo.ads.utils.Utils;var u={},n={},q="",F="",t=null,I=null,H=null,l="",p=false,C=w.AD_DISABLE_SKIP,J=5,f=false,r=false,D=false,B=false,G=false,c={},h=null,e=null,A=null,s=null,z=null,d="",k="",E=w.AD_PREFETCH_NONE,o=a.CACHE_STATUS_NOT_CACHED,m="",j=false,i=0,v=[];this.setAdId=function(K){if(typeof K===w.TYPE_OF_STRING){e=K;}};this.getAdId=function(){return e;};this.setVpaidId=function(K){if(typeof K===w.TYPE_OF_STRING){A=K;}};this.setCreativeAndBookingId=function(K){if(K){k=K[w.BOOKINGID]||"";d=K[w.CREATIVEID]||"";}};this.getVpaidId=function(){return A;};this.getCreativeId=function(){return d;};this.getBookingId=function(){return k;};this.setFallbackAd=function(K){if(K instanceof a){s=K;}};this.getFallbackAd=function(){return s;};this.removeFallbackAd=function(){s=null;};this.setL2Ad=function(K){if(K instanceof a){z=K;}};this.getL2Ad=function(){return z;};this.removeL2Ad=function(){z=null;};this.isVast=function(){return h===a.FORMAT.VAST;};this.isVmap=function(){return h===a.FORMAT.VMAP;};this.isYahoo=function(){return h===a.FORMAT.YAHOO;};this.setAsCached=function(K){if(typeof(K)===w.TYPE_OF_BOOLEAN){f=K;}};this.isCached=function(){return f;};this.setAsFallback=function(K){if(typeof(K)===w.TYPE_OF_BOOLEAN){r=K;}};this.isFallback=function(){return r;};this.setAsL2=function(K){if(typeof(K)===w.TYPE_OF_BOOLEAN){D=K;}};this.isL2=function(){return D;};this.setAsC2=function(K){if(typeof(K)===w.TYPE_OF_BOOLEAN){B=K;}};this.isC2=function(){return B;};this.setAllowC2Backfill=function(K){if(typeof(K)===w.TYPE_OF_BOOLEAN){G=K;}};this.allowC2Backfill=function(){return G;};this.getSkip_directive_publisher=function(){return p;
};this.setSkip_directive_publisher=function(K){if(typeof(K)===w.TYPE_OF_BOOLEAN){p=K;C=p?C:w.AD_DISABLE_SKIP;}};this.getSkip_directive=function(){return C;};this.setSkip_directive=function(K){if(K===w.ADXML_DISABLE_SKIP_AD){C=w.AD_DISABLE_SKIP;}else{if(K===w.ADXML_ENABLE_SKIP_AD){C=w.AD_ENABLE_SKIP;}}};this.getSkip_countdown_timer=function(){return J;};this.setSkip_countdown_timer=function(K){if(!isNaN(K)&&K>0){J=K;}};this.getRedirectURL=function(){return l;};this.setRedirectURL=function(K){l=K;};this.getUrl=function(){return q;};this.setUrl=function(K){if(typeof K===w.TYPE_OF_STRING){q=K;}};this.getPrefetch=function(){return E;};this.setPrefetch=function(K){if(typeof K===w.TYPE_OF_STRING){E=K;}};this.getType=function(){return F;};this.setType=function(K){if(K===a.TYPE.NOAD||K===a.TYPE.OVERLAY||K===a.TYPE.REDIRECT||K===a.TYPE.VPAID){F=K;}};this.getPos=function(){return t;};this.setPos=function(K){if(K===a.POSITION.BUMPER||K===a.POSITION.CLICKABLE||K===a.POSITION.OVERLAY){t=K;}};this.getSpec=function(){return I;};this.setSpec=function(K){I=K;};this.getCommunicator=function(){return H;};this.setCommunicator=function(K){if(K instanceof y||K instanceof x){H=K;}};this.addBeacon=function(M,L){var K=u[M];if(typeof K===w.UNDEFINED||K===null){K=[];u[M]=K;}K.push(L);if(L.url.indexOf("csc.beap.bc.yahoo.com")>0){this.setCreativeAndBookingId(g.getCreativeAndBookingId(L.url));}};this.addBeaconsFromAd=function(O){var N=null,L,K,M;if(O instanceof a){L=O.getAllBeacons();for(N in L){K=O.getBeacons(N);for(M=0;M<K.length;M++){this.addBeacon(N,K[M]);}}}};this.addMediaFile=function(L,N,M){var K=c[N];if(!K){K={};c[N]=K;}if(!K[M]){K[M]=[];}K[M].push(L);};this.getBeacons=function(L){var K=u[L];if(!K){K=[];}return K;};this.getAllBeacons=function(){return u;};this.getMediaFiles=function(K){if(c[K]){return c[K];}return null;};this.getAllMediaFiles=function(K){return c;};this.getMediaUrl=function(L,K){var M=null;if(c[L]){M=c[L];if(M[K]){return M[K];}}return null;};this.getParams=function(){return n;};this.addParam=function(K,L){n[K]=L;};this.setParams=function(K){if(typeof K===w.TYPE_OF_OBJECT){n=K;}};this.getFormat=function(){return h;};this.setFormat=function(K){if(!h&&a.FORMAT.hasOwnProperty(K)){h=K;}};this.unsetFormat=function(){h=null;};this.getCacheStatus=function(){return o;};this.setCacheStatus=function(K){o=K;};this.getErrorState=function(){return m;};this.setErrorState=function(K){m=K;};this.getLocalStorage=function(){return j;};this.setLocalStorage=function(K){if(typeof K===w.TYPE_OF_BOOLEAN){j=K;}};this.getRedirectCount=function(){return i;};this.setRedirectCount=function(K){if(typeof K===w.TYPE_OF_NUMBER){i=K;}};this.getRedirectUrlList=function(){return v;};this.setRedirectUrlList=function(K){v=K;};this.getFirstRedirectUrl=function(){return v&&v.length>0?v[0]:"none";};this.onAdEvent=function(K){if(H){H.onAdEvent(K,this);}};this.getJson=function(){var K={},L;K.beacons=u;K.params=n;K.url=q;K.type=F;K.pos=t;if(I){L=(I.mActionParams&&I.mActionParams.placement)?I.mActionParams.placement.toUpperCase():"";K.spec={name:I.mName,basis:I.mBasis,duration:I._duration,placement:L};}else{K.spec={};}K.redirectURL=l;K.skip_directive_publisher=p;K.skip_directive=C;K.skip_countdown_timer=J;K.isCached=f;K.isFallback=r;K.isC2=B;K.mediaFiles=c;K.format=h;K.adId=e;K.vpaidId=A;K.fallbackAd=s;K.creativeId=d;K.bookingId=k;K.prefetch=E;K.cacheStatus=o;K.errorState=m;K.localStorage=j;K.redirectCount=i;K.redirectUrlList=v;K.allowC2Backfill=G;return K;};this.getAdFromJson=function(K){var L;u=K.beacons;n=K.params;q=K.url;F=K.type;t=K.pos;L=K.spec;if(L){I={"mName":L.name,"mBasis":L.basis,"_duration":L.duration,"mActionParams":{"placement":L.placement}};}l=K.redirectURL;p=K.skip_directive_publisher;C=K.skip_directive;J=K.skip_countdown_timer;f=K.isCached;r=K.isFallback;B=K.isC2;c=K.mediaFiles;h=K.format;e=K.adId;A=K.vpaidId;s=K.fallbackAd;d=K.creativeId;k=K.bookingId;E=K.prefetch;o=K.cacheStatus;m=K.errorState;j=K.localStorage;i=K.redirectCount;v=K.redirectUrlList;G=K.allowC2Backfill;};};a.TYPE={"REDIRECT":"redirect","NOAD":"noad","VPAID":"vpaid","OVERLAY":"overlay"};a.POSITION={"BUMPER":"BMPR","CLICKABLE":"VID","OVERLAY":"VIDO"};a.FORMAT={"VAST":"VAST","YAHOO":"YAHOO","VMAP":"VMAP"};a.MEDIA_TYPE_SUPPORT={"video/mp4":true,"video/m4v":true,"video/x-flv":true,"video/webm":true,"application/x-shockwave-flash":true};a.CACHE_STATUS_NOT_CACHED=1;a.CACHE_STATUS_CACHED_SPACEID=2;a.CACHE_STATUS_CACHED_BOOKINGID=3;a.CACHE_STATUS_CACHED_INCOMPLETE=4;a.CACHE_STATUS_TOUCHDOWN_HIT=5;b.com.yahoo.ads.communicator.Ad=a;},"1.0.0",{requires:["node","AbstractCommunicator","Utils"]});YUI.add("AdRequest",function(a){a.namespace("com.yahoo.ads.communicator");AdRequest=function(i,b){var h="";var g=b||{};var c=i||"";var j={};var f=true;var e=function(l,m){var k=/\$\{(\w)+\}/g;var n=function(p){var r=/(\w)+/g;var o=p.match(r);var q=o[0];if(typeof m[q]!=="undefined"){return m[q];}else{return"";}};l=l.replace(k,n);return l;};var d=function(l){var n=/(\w)+=&/g;while(l.match(n)){l=l.replace(n,"");}var m=/(\w)+=($|;|;;)/;while(l.match(m)){l=l.replace(m,"$2");}var k=/(;|;;|&)$/;while(l.match(k)){l=l.replace(k,"");}return l;};this.setaddParameters=function(k){f=k;};this.setParameter=function(k,l){if(k&&l){j[k]=l;}};this.buildQuery=function(){h=e(c,g);return d(h);};this.addParameters=function(k,l){g[k]=l;};};a.com.yahoo.ads.communicator.AdRequest=AdRequest;},"1.0.0",{requires:["node"]});YUI.add("AdRequestGeneratorFactory",function(d){d.namespace("com.yahoo.ads.communicator.adrequests");var c=function(){},a=d.com.yahoo.ads.common.Constants,b=d.com.yahoo.ads.utils.Utils;c.PREVIEW="PREVIEW";c.MME="MME";c.FREEWHEEL_VAST="FREEWHEEL_VAST";c.CBS="CBS";c.DFP="DFP";c.SSL_SUPPORT={};c.SSL_SUPPORT[c.MME]=true;c.SSL_SUPPORT[c.FREEWHEEL_VAST]=false;c.SSL_SUPPORT[c.CBS]=false;c.SSL_SUPPORT[c.DFP]=false;c.getRequestGenerator=function(g,j,i){var h,k=window.location.protocol,e="",f="class: AdRequestGeneratorFactory, method: getRequestGenerator";if(g.indexOf(c.PREVIEW)===0){h=new d.com.yahoo.ads.communicator.adrequests.impl.PreviewRequestGenerator();
}else{if(g.indexOf(c.MME)===0){e=c.MME;h=new d.com.yahoo.ads.communicator.adrequests.impl.MMERequestGenerator(j);}else{if(g.indexOf(c.FREEWHEEL_VAST)===0){e=c.FREEWHEEL_VAST;h=new d.com.yahoo.ads.communicator.adrequests.impl.FreewheelRequestGenerator();}else{if(g.indexOf(c.CBS)===0){e=c.CBS;h=new d.com.yahoo.ads.communicator.adrequests.impl.CBSRequestGenerator();}else{if(g.indexOf(c.DFP)===0){e=c.DFP;h=new d.com.yahoo.ads.communicator.adrequests.impl.DFPRequestGenerator(j);}else{throw b.errorEvent("Unknown network name : "+g,f,a.ERR_REQ_GENERIC);}}}}}if(a.SSL_ON&&k===a.LOCATION_PROTOCOL.HTTPS&&e&&!c.SSL_SUPPORT[e]&&!i){throw b.errorEvent("SSL Support missing for : "+g,f,a.ERR_SSL_UNSUPPORTED);}return h;};d.com.yahoo.ads.communicator.adrequests.AdRequestGeneratorFactory=c;},"1.0.0",{requires:["CBSRequestGenerator","FreewheelRequestGenerator","MMERequestGenerator","PreviewRequestGenerator","DFPRequestGenerator","Constants","Utils"]});YUI.add("AdRequestManager",function(a){a.namespace("com.yahoo.ads.communicator.adrequests");a.com.yahoo.ads.communicator.adrequests.AdRequestManager=function(){var c="",b=a.com.yahoo.ads.common.Constants,d=a.com.yahoo.ads.utils.Utils;this.getRequest=function(g,f,h){var e="class: AdRequestManager, method: getRequest",i;if(!g){throw d.errorEvent("Config is undefined or null.",e,b.ERR_REQ_GENERIC);}if(!f){throw d.errorEvent("Network name is undefined or null.",e,b.ERR_REQ_GENERIC);}i=a.com.yahoo.ads.communicator.adrequests.AdRequestGeneratorFactory.getRequestGenerator(f,c,h);return i.generateRequest(g);};this.setRendererType=function(e){c=e;};};},"1.0.0",{requires:["AdRequestGeneratorFactory","Constants","Utils"]});YUI.add("CBSRequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.CBSRequestGenerator=function(){var c=a.com.yahoo.ads.common.Constants,d=a.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils,b="class: CBSRequestGenerator, method: populateCBSMacro",e=a.com.yahoo.ads.utils.Utils,f=function(l){var i={},h,g,j;try{h=d.getAdTargetingInfo(l.context);}catch(k){throw k;}if(h){g=h.getAttribute("id");j="";if(g==="ad_url"){j=h.getAttribute("value");if(j.indexOf("xml=vast")>=0){j+=";pos=1";}else{j+=";pos=1;xml=yahoo";}}else{throw e.errorEvent("Id is not 'ad_url' in adTargeting.",b,c.ERR_REQ_ADTGT);}i.vid_cl_cbsurl=j;}else{throw e.errorEvent("Missing adData tag in adTargeting.",b,c.ERR_REQ_ADTGT);}return i;};this.generateRequest=function(g){var h=f(g);return d.expandMacro(g.serverUrl,h);};};},"1.0.0",{requires:["RequestGenerationUtils","Constants","Utils"]});YUI.add("DFPRequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.DFPRequestGenerator=function(j){var e=a.com.yahoo.ads.common.Constants,b=a.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils,k="class: DFPRequestGenerator, method: populateDFPMacro",f=a.com.yahoo.ads.utils.Utils,c={"freeUserPeriodInSeconds":240,"premiumUserPeriodInSeconds":720,"publisherId":"1234567abcd","endpoint_preroll":"http://pubads.g.doubleclick.net/gampad/ads?sz=640x360&iu=/4595/nfl.${platform}&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&cust_params=test%3D%26slot%3Dpreroll%26s3%3D${channel_id}&url=${referrer_url}&correlator=${timestamp}","endpoint_loader":"http://pubads.g.doubleclick.net/gampad/ads?sz=640x360&iu=/4595/nfl.${platform}&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&cust_params=test%3D%26slot%3Donloader%26s3%3D${channel_id}&url=${referrer_url}&correlator=${timestamp}","endpoint_clubs":"http://pubads.g.doubleclick.net/gampad/ads?sz=640x360&iu=/4595/team.${club}.${platform}&ciu_szs=&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&cust_params=test%3D%26slot%3Dpreroll%26s3%3D${channel_id}&url=${referrer_url}&correlator=${timestamp}"},i=function(n,l,m){return m.replace(new RegExp(n,"g"),l);},d=function(l){l=i("nflnow:","",l);l=i("=",'":"',l);l=i(",",'","',l);l='{"'+l+'"}';var m=JSON.parse(l);return m;},h=function(){var l="nflnow/web/yahoo";var m=a.UA;var n=navigator.userAgent;if(m.android>0){if(/Mobile/.test(n)){l="nflnow/web/phone/yahoo";}else{l="nflnow/web/tablet/yahoo";}}if(m.silk>0||m.ipad>0){l="nflnow/web/tablet/yahoo";}if(m.iphone>0||m.ipod>0){l="nflnow/web/phone/yahoo";}return l;},g=function(p){var n={};n.timestamp=f.getTimeStamp();n.platform=h();n.referrer_url=document.referrer;if(p.context._adData.content_provider_data&&p.context._adData.content_provider_data.rules){c=p.context._adData.content_provider_data.rules;}var m=b.getAdTargetingInfo(p.context);var o=d(m.attributes[3].value);var l=o.origin;n.channel_id=encodeURI(o.channel);if(p.adSpec.nflCase==_CONSTANTS.NFL_ONLOAD){p.serverUrl=c.endpoint_loader;}else{if(p.adSpec.nflCase===_CONSTANTS.NFL_PREROLL){if(l==="CLUBS"){n.club=o.contentProvider;p.serverUrl=c.endpoint_clubs;}else{p.serverUrl=c.endpoint_preroll;}}else{console.log("error case");throw f.errorEvent("Missing actionParams.id.",k,e.ERR_REQ_GENERIC);}}p.serverUrl=b.updateProtocol(p.serverUrl);p.serverUrl=p.serverUrl.replace("[PLATFORM]","${platform}");p.serverUrl=p.serverUrl.replace("[CLUB]","${club}");p.serverUrl=p.serverUrl.replace("[CHANNEL_ID]","${channel_id}");p.serverUrl=p.serverUrl.replace("[referrer_url]","${referrer_url}");p.serverUrl=p.serverUrl.replace("[timestamp]","${timestamp}");return n;};this.generateRequest=function(m){var l=m.adComponentSettings.getSetting("AdServerUrl");if(l){var n={};l=l.replace("[referrer_url]","${referrer_url}");l=l.replace("[REQUESTID]","${requestid}");l=l.replace("${REQUESTID}","${requestid}");l=l.replace("[timestamp]","${requestid}");l=l.replace("[TIMESTAMP]","${requestid}");if(j===e.HTML){l=l.replace("iu=/4595/nfl.video.yahoo","iu=/4595/nfl.video.yahoo/mobileweb");}n.requestid=f.getTimeStamp();n.referrer_url=document.referrer||"yahoo.com";return b.expandMacro(l,n);}else{if(m.adSpec){var n=g(m);return b.expandMacro(m.serverUrl,n);
}}};};},"1.0.0",{requires:["RequestGenerationUtils","Constants","Utils"]});YUI.add("FreewheelRequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.FreewheelRequestGenerator=function(){var c=a.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils,b=a.com.yahoo.ads.common.Constants,d=function(j){var i={},e,h,g;try{e=c.getAdTargetingInfo(j.context);}catch(f){throw f;}if(e){h=e.getAttribute("id");g="";if(h==="TurnerVideoID"||h==="YahooPartnerVideoID"){g=e.getAttribute("value");}i.vid_cl_fwcaid=g;}else{throw a.com.yahoo.ads.utils.Utils.errorEvent("Missing adData tag in adTargeting.","class: FreewheelRequestGenerator, method: populateFWMacros",b.ERR_REQ_ADTGT);}i.vid_ap_fw_server_url=j.adComponentSettings.getSetting("AdServerUrl");i.vid_ap_fwnw=j.adComponentSettings.getSetting("YahooNetworkId");i.vid_ap_fwmetr=j.adComponentSettings.getSetting("CapabilitySupportFlags");i.vid_ap_fwsfid=j.adComponentSettings.getSetting("SiteSectionFallbackId");i.vid_ap_fwresp=j.adComponentSettings.getSetting("ResponseType");i.vid_ap_fwssnw=j.adComponentSettings.getSetting("SiteSectionNetworkId");if(j.adComponentSettings.getSetting("OverrideSAPI")==="true"){i.vid_cl_fwcsid=j.adComponentSettings.getSetting("SiteSectionMapping");}else{i.vid_cl_fwcsid=j.context.getCustomParameter("ad-extra:adTargetingCategory");}i.vid_ap_fwcrtp=j.adComponentSettings.getSetting("CustomResponseType");i.vid_ap_fwafid=j.adComponentSettings.getSetting("VideoAssetFallbackId");i.vid_ap_fwflag=j.adComponentSettings.getSetting("ImpressionFlags");i.vid_ap_fwasnw=j.adComponentSettings.getSetting("VideoAssetNetworkId");i.vid_ap_fwprof=j.adComponentSettings.getSetting("PlayerProfile");i.vid_ap_fwtpcl=j.adComponentSettings.getSetting("SlotTimePositionClass");i.vid_ap_fwslau=j.adComponentSettings.getSetting("CustomAdUnitName");i.vid_ap_fwslid=j.adComponentSettings.getSetting("SlotCustomId");i.vid_ap_fwptgt=j.adComponentSettings.getSetting("SlotType");i.vid_ap_fwflag1=j.adComponentSettings.getSetting("SlotFlags");i.vid_ap_fwh=j.adComponentSettings.getSetting("SlotHeight");i.vid_ap_fww=j.adComponentSettings.getSetting("SlotWidth");i.vid_ap_fwtpos=j.adComponentSettings.getSetting("SlotTimePosition");i.vid_ap_fwflag2=j.adComponentSettings.getSetting("SlotFlags2");i.vid_ap_fwh2=j.adComponentSettings.getSetting("SlotHeight2");i.vid_ap_fww2=j.adComponentSettings.getSetting("SlotWidth2");i.vid_ap_fwtpcl2=j.adComponentSettings.getSetting("SlotTimePositionClass2");i.vid_ap_fwslau2=j.adComponentSettings.getSetting("CustomAdUnitName2");i.vid_ap_fwslid2=j.adComponentSettings.getSetting("SlotCustomId2");i.vid_ap_fwptgt2=j.adComponentSettings.getSetting("SlotType2");i.vid_ap_fwtpos2=j.adComponentSettings.getSetting("SlotTimePosition2");i.vid_ap_addlslot=j.adComponentSettings.getSetting("AdditionalSlotParams");i.vid_ap_fwvprn=Math.round(Math.random()*100000000).toString();i.vid_ap_fwpvrn=Math.round(Math.random()*100000000).toString();return i;};this.generateRequest=function(e){var f=d(e);return c.expandMacro(e.serverUrl,f);};};},"1.0.0",{requires:["RequestGenerationUtils","Constants","Utils"]});YUI.add("MMERequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.MMERequestGenerator=function(n){var f="flv_as3%3Bxml_ver_2.0%3Bxml_ver_2.0vast",h="%3Bfm_flv%3Bfm_mp4%3Bfm_webm",m="%3Bvpaidt_none%3Bfm_mp4%3Bfm_webm",i="?pn=${vid_ap_mmepn}&f=${vid_cl_mmef}&p=${vid_cl_mmep}&c=${vid_cl_mmec}&l=${vid_cl_mmel}&at=${vid_cl_mmeat}vf=1&rs=${vid_cl_mmers}&rand=${vid_cl_mmerand}",c=a.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils,p=1,j=a.com.yahoo.ads.common.Constants,k=a.com.yahoo.ads.utils.Utils,g="POS",q="class: MMERequestGenerator, method: getActionParam",d={"overlayC2V":"v4","overlayC2S":"v5","clickable":"v1%3Bv7%3Bv8","interactive":"v2","asq":"v6"},b={"bumper":"BMPR","overlayC2V":"VIDO","overlayC2S":"VIDO","clickable":"VID","interactive":"VID","asq":"VID"},o=function(u){var s={},r,t;s.vid_ap_mmepn=u.adComponentSettings.getSetting(j.AD_PARAM.PARTNERID);s.vid_cl_mmef=u.context.getCustomParameter(j.AD_PARAM.SPACEID);s.vid_cl_mmep=u.context.getCustomParameter(j.AD_PARAM.PROPERTYID);s.vid_cl_mmec="x";s.vid_cl_mmerand=Math.round(Math.random()*10000000000000);r=u.adComponentSettings.getSetting("sendRsParam");if(r&&r==="true"){s.vid_cl_mmers=e(u.context);}t=l(u.adSpec,g);s.vid_cl_mmel=c.getPosition(t,p);s.vid_cl_mmeat="content%3D%22"+l(u.adSpec,"VERSION")+f;if(j.TECHNOTARGET_ON){if(n===j.HTML){s.vid_cl_mmeat+=m;}else{if(n===j.FLASH&&t!==b.overlayC2S){s.vid_cl_mmeat+=h;}}}s.vid_cl_mmeat+="%22";return s;},l=function(w,v){var u=w.mActionParams,x=u.id.split(","),r="",s,t;if(u.id){if(v===g){return b[x[0]];}else{if(v==="VERSION"){for(s=0;s<x.length;s++){t=x[s];if(d[t]){r+=d[t]+"%3B";}}return r;}else{throw k.errorEvent("Unknown action param request : "+v,q,j.ERR_REQ_GENERIC);}}}else{throw k.errorEvent("Missing actionParams.id.",q,j.ERR_REQ_GENERIC);}},e=function(t){var r,s=t.getCustomParameter(j.AD_PARAM.LICENSEID);if(s){r="lmsid:"+s;}return r;};this.generateRequest=function(s){if(s.serverUrl){s.serverUrl=c.updateProtocol(s.serverUrl);return s.serverUrl;}var t=o(s),r=c.getFinalAdServerUrl(s.adComponentSettings);return c.expandMacro(r+i,t);};};},"1.0.0",{requires:["RequestGenerationUtils","Constants","Utils"]});YUI.add("PreviewRequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.PreviewRequestGenerator=function(){this.generateRequest=function(b){return b.serverUrl;};};},"1.0.0",{requires:[]});YUI.add("RequestGenerationUtils",function(c){c.namespace("com.yahoo.ads.communicator.adrequests");var a=c.com.yahoo.ads.common.Constants,b={};b.ADSERVER=".adserver.yahoo.com/a";b.getFinalAdServerUrl=function(f){var e=f.getSetting("adBaseUrl"),d=(e&&e.length>0)?e:"us";return a.HTTP+d+b.ADSERVER;};b.getAdTargetingInfo=function(f){var h=f.getCustomParameter("ad-extra:adTargeting"),e=c.DataType.XML.parse(h),d=c.com.yahoo.ads.utils.Utils.errorEvent("[RequestGenerationError] missing adTargeting in configuration.","class: RequestGenerationUtils, method: getAdTargetingInfo",a.ERR_REQ_ADTGT);
if(!e){try{e=new ActiveXObject(a.MS_XMLDOM);e.async=false;e.loadXML(h);}catch(g){throw d;}}if(!e){throw d;}return e.getElementsByTagName("adData")[0];};b.expandMacro=function(e,f){var d=/\$\{(\w)+\}/g,g=function(i){var k=/(\w)+/g,h=i.match(k),j=h[0];return f[j]?f[j]:"";};e=e.replace(d,g);e=b.cleanUpUrl(e);return this.updateProtocol(e);};b.cleanUpUrl=function(e){var g=/(\w)+=&/g,f,d;while(e.match(g)){e=e.replace(g,"");}f=/(\w)+=($|;|;;)/;while(e.match(f)){e=e.replace(f,"$2");}d=/(;|;;|&)$/;while(e.match(d)){e=e.replace(d,"");}return e;};b.getPosition=function(e,d){if(d&&d>1){return"n"+d+e;}return e;};b.updateProtocol=function(d){var e=window.location.protocol;if(a.SSL_ON&&e===a.SSL){d=d.replace(a.HTTP,a.HTTPS);}return d;};c.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils=b;},"1.0.0",{requires:["datatype-xml-parse","Constants","Utils"]});YUI.add("AdResponse",function(a){a.namespace("com.yahoo.ads.communicator");function b(i,h,e){var g=i,f=h,c=e,j=false,d=a.com.yahoo.ads.common.Constants;return{getPayload:function(){return g;},getRequest:function(){return f;},getSpec:function(){return c;},getIsTemplate:function(){return j;},setIsTemplate:function(k){if(typeof k===d.TYPE_OF_BOOLEAN){j=k;}},toString:function(){return"[AdResponse(request:"+f+")(payload: "+g+")]";}};}a.com.yahoo.ads.communicator.AdResponse=b;},"1.0.0",{requires:["node","Constants"]});YUI.add("AllocationManager",function(a){a.namespace("com.yahoo.ads.communicator");AllocationManager=function(c,b,d){_CONSTANTS=a.com.yahoo.ads.common.Constants;communicators=[];_eventBus=c;_cacheManager=b;this._allocation=null;this.communicator=null;this.timeout=d;_propertyId=null;_allocationReady=false;this._playerContext=null;this._algorithm=null;this.communicatorsReady=function(){return(typeof this.communicator!=="undefined");};};a.augment(AllocationManager,a.EventTarget);AllocationManager.prototype.updateContext=function(c){try{this.communicator.init(c);}catch(b){}};AllocationManager.prototype.getPropertyId=function(){return _propertyId;};AllocationManager.prototype.ready=function(){return _allocationReady&&this.communicatorsReady();};AllocationManager.prototype.getManagedConfigLoadedEvent=function(){return _CONSTANTS.MANAGED_CONFIG_LOADED_EVENT;};AllocationManager.prototype.getComponentLoadedEvent=function(){return _CONSTANTS.COMPONENT_LOADED_EVENT;};AllocationManager.prototype.getLoadErrorEvent=function(){return _CONSTANTS.LOAD_ERROR_EVENT;};AllocationManager.prototype.getPropertyIdReadyEvent=function(){return _CONSTANTS.PROPERTY_ID_READY_EVENT;};AllocationManager.prototype.getFallbackCommunicatorLoadedEvent=function(){return _CONSTANTS.LOADED_FALLBACK_COMMUNICATOR;};AllocationManager.prototype.pickCommunicator=function(b){if(b){var f=this._algorithm.pickCommunicator(b);this.communicator.setNetworkModule(f);var e=this._allocation;var c=e.getSettings();var d=new a.com.yahoo.ads.man.AdComponentSettings();d.init(c,f.getId(),null);this.communicator.setNetworkSettings(d);}return this.communicator;};AllocationManager.prototype.updateAllocation=function(b){this._allocation=b;this.loadCommunicators();};AllocationManager.prototype.loadCommunicator=function(d,b){if(!this.communicator){this.communicator=new a.com.yahoo.ads.communicator.AbstractCommunicator(_eventBus,_cacheManager,this.timeout);}this.communicator.setNetworkModule(d);var c=new a.com.yahoo.ads.man.AdComponentSettings();c.init(b,d.getId(),null);this.communicator.setNetworkSettings(c);_allocationReady=true;};AllocationManager.prototype.notifyTimeout=function(){if(this.communicator){this.communicator.notifyTimeout();}};AllocationManager.prototype.loadCommunicators=function(){var f=this._allocation;var c=f.getSettings();var d=f.getAllocationModuleUri();if(d==="class:net.maven.plugin.allocation.PercentageAllocationManager"){this._algorithm=new a.com.yahoo.ads.communicator.allocation.PercentageAllocationAlgorithm();this._algorithm.init(null,f,c);var g=this._algorithm.selectCommunicator();this.loadCommunicator(g,c);}else{this._algorithm=null;var b=f.getNetworkModules();for(var e in b){this.loadCommunicator(b[e],c);}}if(typeof this.communicator!=="undefined"){_propertyId=c["SYSTEM.PID"];if(typeof _propertyId==="undefined"||_propertyId===null){_propertyId="";}this.fire(this.getPropertyIdReadyEvent());this.notifyComponentLoaded();}else{this.notifyComponentLoadFailed();}};AllocationManager.prototype.isFallback=function(b){return this._algorithm.isFallback(b.communicatorId,b);};AllocationManager.prototype.pickFallbackCommunicator=function(b){var f=this._algorithm.pickFallbackCommunicator(b.communicatorId,b);if(typeof f!=="undefined"&&f!==null){this.communicator.setNetworkModule(f);var e=this._allocation;var c=e.getSettings();var d=new a.com.yahoo.ads.man.AdComponentSettings();d.init(c,f.getId(),null);this.communicator.setNetworkSettings(d);this.fire(this.getFallbackCommunicatorLoadedEvent(),{communicator:this.communicator,adSpec:b});return true;}return false;};AllocationManager.prototype.notifyComponentLoaded=function(){this.fire(this.getComponentLoadedEvent());};AllocationManager.prototype.notifyComponentLoadFailed=function(){this.fire(this.getLoadErrorEvent());};a.com.yahoo.ads.communicator.AllocationManager=AllocationManager;},"1.0.0",{requires:["node","ParseJSON","ScopeLogger","PercentageAllocationAlgorithm"]});YUI.add("PercentageAllocationAlgorithm",function(a){a.namespace("com.yahoo.ads.communicator.allocation");PercentageAllocationAlgorithm=function(){var e=null;var f=null;var d=null;var b=false;var c=null;this.init=function(l,n,m){d=n;f=[];e={};if(m["SELECTOR.1.disablePriorityFallback"]==="true"){b=true;}c=m["SELECTOR.ID"];var g=d.getNetworkModules();for(var k=0;k<g.length;k++){var j=g[k];var o=j.getId();var h=m["SELECTOR."+c+".NETWORK."+o+".priority"];if(typeof h!=="undefined"&&h!==null){f[h]=o;e[o]=parseInt(h,10);}else{}}};this.pickCommunicator=function(v){var w=null;var o=[];var s=0;var j=d.getNetworkModules();var n=d.getSettings();for(var q=0;q<j.length;q++){var h=j[q];var g=h.getId();
var r=n["SELECTOR."+c+".NETWORK."+g];if(!a.com.yahoo.ads.communicator.AbstractCommunicator.canService(v,n,g)){continue;}var l={};l.nS=s;s+=parseInt(r,10);l.nE=s;l.id=g;l.module=j[q];o.push(l);}var t=Math.random()*s;var u=null;for(var p=0;p<o.length;p++){u=o[p];if(u.nS<=t&&u.nE>=t){break;}}if(typeof u!=="undefined"&&u!==null){w=u.module;return w;}return null;};this.selectCommunicator=function(){var v=null;var o=[];var s=0;var u=null;var j=d.getNetworkModules();var n=d.getSettings();for(var q=0;q<j.length;q++){var h=j[q];var g=h.getId();var r=n["SELECTOR."+c+".NETWORK."+g];var l={};l.nS=s;s+=parseInt(r,10);l.nE=s;l.module=j[q];o.push(l);}var t=Math.random()*s;for(var p=0;p<o.length;p++){u=o[p];if(u.nS<=t&&u.nE>=t){break;}}if(typeof u!=="undefined"&&u!==null){v=u.module;}return v;};this.pickFallbackCommunicator=function(v,w){var q=e[w.initialCommunicatorId];var u=e[v];if(typeof u==="undefined"||u===null){return null;}var g=u+1;var r=false;var o=0;var k=d.getNetworkModules();while(!r&&g<d.getNetworkModules().length){if(g!==q){var t=g;for(var m in k){if(k.hasOwnProperty(m)){var p=k[m];var s=e[p.getId()];if(s===t){o=m;r=true;}}}}g++;}var h=k[o];var n=h.getId();var l=d.getSettings();if(typeof e[n]!=="undefined"&&e[n]!==null){if(a.com.yahoo.ads.communicator.AbstractCommunicator.canService(w,l,n)){return h;}}return null;};this.isFallback=function(h,g){return !(b||g===null||h===null||g.retryCount>=d.getNetworkModules().length);};};a.com.yahoo.ads.communicator.allocation.PercentageAllocationAlgorithm=PercentageAllocationAlgorithm;},"1.0.0",{requires:["ManAllocation"]});YUI.add("CacheUpdater",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(i){var e=b.com.yahoo.ads.common.Constants,f=null,c=null,d=null,g=b.com.yahoo.ads.utils.Utils,j=i,h=b.com.yahoo.ads.communicator.Ad,k=new b.com.yahoo.ads.communicator.ServerCacheUpdater();this.onAdRedirect=function(l){switch(l.type){case e.REDIRECT_RESOLVED:break;case e.ERR_RESP_GENERIC:break;case e.REDIRECT_TIMEDOUT:f=l.ad;if(f.getType()!==h.TYPE.NOAD&&f.XML){k.update(f,c);}break;default:break;}};this.setRedirect=function(l){d=new b.com.yahoo.ads.communicator.RedirectResolver(j,g.getCacheUpdateTimeout(l),true);d.on(e.AD_REDIRECT_EVENT,this.onAdRedirect,this);d.resolve(f,l,0);};this.update=function(l,m){f=l;c=m;this.setRedirect(f.getRedirectURL());};};b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.CacheUpdater=a;},"1.0.0",{requires:["node","ScopeLogger","Utils","ServerCacheUpdater"]});YUI.add("FallbackUpdater",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(i){var e=b.com.yahoo.ads.common.Constants,g=b.com.yahoo.ads.communicator.Ad,f=null,d=null,k=i,h=k.getRendererType(),j=null,c=new b.com.yahoo.ads.communicator.CacheUpdater(h);this.onAdRedirect=function(l){switch(l.type){case e.REDIRECT_RESOLVED:f=l.ad;j.adObject=f;k.updateAdCache(j);break;case e.ERR_RESP_GENERIC:break;case e.REDIRECT_TIMEDOUT:break;default:break;}};this.setRedirect=function(l){d=new b.com.yahoo.ads.communicator.RedirectResolver(h,e.AD_PREFETCH_TIME);d.on(e.AD_REDIRECT_EVENT,this.onAdRedirect,this);d.resolve(f,l,0);};this.updateL1=function(l){j=l;f=l.adObject;if(f&&f.getType()===g.TYPE.REDIRECT){this.setRedirect(f.getRedirectURL());}else{k.updateAdCache(j);}};this.updateL2=function(l,m){c.update(l,m);};};b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.FallbackUpdater=a;},"1.0.0",{requires:["node","ScopeLogger","Utils","CacheUpdater"]});YUI.add("ParserFactory",function(b){b.namespace("com.yahoo.ads.communicator.parser");var a=function(){};a.getParser=function(c){if(c==="VAST"){return new b.com.yahoo.ads.communicator.parser.VASTParser();}else{if(c==="adResults"){return new b.com.yahoo.ads.communicator.parser.YahooParser();}else{if(c==="vmap:VMAP"){return new b.com.yahoo.ads.communicator.parser.VMAP1Parser();}else{throw b.com.yahoo.ads.utils.Utils.errorEvent("Unknown response xml type","class: ParserFactory, method: getParser",b.com.yahoo.ads.common.Constants.ERROR_PARSING);}}}};b.com.yahoo.ads.communicator.parser.ParserFactory=a;},"1.0.0",{requires:["VMAP1Parser","YahooParser","VASTParser","Constants","Utils"]});YUI.add("ParserManager",function(c){c.namespace("com.yahoo.ads.communicator.parser");var b=c.com.yahoo.ads.common.Constants;var a=function(){this.parserFactory=null;this.parser=null;};a.prototype.parseAd=function(i,h){var g=null,f,d;if(typeof i!==b.UNDEFINED&&i!==null&&i.length>0){try{i=i.replace(/>\s+</g,"><");i=i.replace(/<\!--.*?-->/g,"");f=c.DataType.XML.parse(i);if(!f){f=new ActiveXObject(b.MS_XMLDOM);f.async=false;f.loadXML(i);}d=f.documentElement.nodeName;this.parserFactory=c.com.yahoo.ads.communicator.parser.ParserFactory;this.parser=this.parserFactory.getParser(d);g=this.parser.parseAd(f.documentElement,h);}catch(j){throw c.com.yahoo.ads.utils.Utils.errorEvent("Error in parsing response","class: ParserManager, method: parseAd",b.ERROR_PARSING);}}return g;};c.augment(a,c.EventTarget);c.com.yahoo.ads.communicator.parser.ParserManager=a;},"1.0.0",{requires:["datatype-xml-parse","Ad","ParserFactory","Constants","Utils"]});YUI.add("VASTParser",function(b){b.namespace("com.yahoo.ads.communicator.parser");var a=function(){var H=b.com.yahoo.ads.common.Constants,A=b.com.yahoo.ads.communicator.Ad,e=b.com.yahoo.ads.logging.ScopeLogger,C=b.com.yahoo.ads.utils.Utils,L=window.location.protocol===H.SSL?H.HTTPS+"s":H.HTTP+"d";var G=null,r=false,s=false,p=false,l=false,M=false,f=false;var m=function(Q){var O,N,P="",T,S="";try{if(typeof Q!==H.UNDEFINED&&Q!==null){P=Q.getAttribute("apiFramework");O=P&&(P.toLowerCase()===A.TYPE.VPAID);T=Q.getElementsByTagName("StaticResource");if(T.length>0){S=T[0].getAttribute("creativeType");if(S){S=S.toLowerCase();}}N=(S==="application/x-shockwave-flash");p=(S==="image/jpeg"||S==="image/png"||S==="image/gif");s=O&&N;}}catch(R){}};var K=function(Z){var S=[],W=[],P=[],V,R,Q,O,Y,X,U,N;if(typeof Z===H.UNDEFINED||Z===null||Z.length===0){return"";}l=true;try{V='<rss version="2.0" xmlns="http://backend.userland.com/rss2" xmlns:media="http://search.yahoo.com/mrss/">'+"<channel><item><media:group>";
for(R=0;R<Z.length;R++){X=Z[R];U=X.getAttribute("type").toLowerCase();if(!A.MEDIA_TYPE_SUPPORT[U]){continue;}O=C.getTextFromNode(X);if(O.substr(0,4)!=="http"){continue;}Y=X.getAttribute("bitrate")||"0";if(U==="application/x-shockwave-flash"){r=true;Y="0";}if(X.getAttribute("id")==="atlas"||O.toLowerCase().indexOf("atlas")!==-1){S.push({"url":O,"type":U,"br":Y});}else{W.push({"url":O,"type":U,"br":Y});}}if(S.length>0&&H.ATLAS_ON){P=S;}else{if(W.length>0){P=W;}else{P=S;}}for(Q=0;Q<P.length;Q++){N=P[Q];G.addMediaFile(N.url,N.type,N.br);if(N.type!=="video/webm"){V+='<media:content bitrate="'+N.br+'" duration="0" expression="full" fileSize="0" type="video/flv" url="'+N.url+'"/>';}}V+="<media:rating>nonadult</media:rating></media:group></item></channel></rss>";return V;}catch(T){return"";}};var k=function(T,U,Q){var S,R,N,P;if(typeof T===H.UNDEFINED||T===null||T.length===0){return;}for(var O=0;O<T.length;O++){R=T[O];N={};N.url=C.getTextFromNode(R);if(!U||!Q){S=R.getAttribute("event");if(typeof S===H.UNDEFINED||S===null){N.id="";N.type="";}else{S=S.toLowerCase();P=a.EVENT_TYPE[S];if(typeof P!==H.UNDEFINED&&P!==null){N.id=P.id;N.type=P.type;}else{N.id=S;N.type=a.INTERACTION;}}}else{N.id=U;N.type=Q;}N.tokenized=false;if(N.id.indexOf("playback")===0){o(N,N.url,a.EXTENSION_CPCV);N.tokenized=true;}G.addBeacon(N.id,N);}};var t=function(Q){var T,S,U,N,W,R,X,P,O;try{if(Q.childNodes&&Q.childNodes.length>0){T=Q.childNodes;P={"IFrameResource":function(Y,Z){G.addParam("companionBannerType"+Y,"IFRAME");G.addParam("companionBannerSrc"+Y,C.getTextFromNode(Z));},"HTMLResource":function(Y,Z){G.addParam("companionBannerType"+Y,"HTML");G.addParam("companionBannerSrc"+Y,C.getTextFromNode(Z));},"StaticResource":function(Y,Z){G.addParam("companionBannerType"+Y,"STATIC");G.addParam("companionMimeType"+Y,Z.getAttribute("creativeType"));G.addParam("companionBannerSrc"+Y,C.getTextFromNode(Z));},"TrackingEvents":function(Z,ab){var ac=ab.childNodes,Y,aa;if(ac.length&&ac.length>0){for(Y=0;Y<ac.length;Y++){aa=ac[Y];if(aa.nodeName==="Tracking"){if(aa.getAttribute("event")==="creativeView"){G.addParam("companionImpression"+Z,C.getTextFromNode(aa));}}}}},"CompanionClickThrough":function(Y,Z){G.addParam("companionClickThrough"+Y,C.getTextFromNode(Z));}};for(S=0;S<T.length;S++){U=T[S];if(U.nodeName!=="Companion"){continue;}N=null;N=parseInt(U.getAttribute("width"),10);if(isNaN(N)){continue;}G.addParam("companionWidth"+S,U.getAttribute("width"));G.addParam("companionHeight"+S,U.getAttribute("height"));try{W=U.childNodes;if(W){for(R=0;R<W.length;R++){O=W[R];X=P[O.nodeName];if(!X){}else{X.call(undefined,S,O);}}}}catch(V){}}}}catch(V){}};var h=function(Q){var O,P,N,R;if(typeof Q===H.UNDEFINED||Q===null){return;}for(O=0;O<Q.length;O++){P=Q[O];if(C.hasAttribute(P,"name")){N=P.getAttribute("name");if(N){G.addParam(N,C.getTextFromNode(P));}}else{if(C.hasAttribute(P,"id")){R=P.getAttribute("id");if(R==="interaction"){k([P],a.INTERACTION,a.INTERACTION);}else{if(R==="bitrate"){k([P],a.BITRATE,a.IMPRESSION);}}}}}};var D=function(R){if(typeof R===H.UNDEFINED||R===null){return;}try{var P=R.getElementsByTagName("Extension");for(var N=0;N<P.length;N++){var O=P[N];if(typeof O===H.UNDEFINED||O===null){continue;}if(C.hasAttribute(O,"type")){switch(O.getAttribute("type")){case a.EXTENSION_SKIP_AD:j(O);break;case a.EXTENSION_CPCV:F(O);break;case a.EXTENSION_CUSTOM_TRACKING:q(O);break;default:}}}}catch(Q){}};var q=function(O){var P=O.getElementsByTagName(a.EXTENSION_NOADIMPRESSION),N;for(N=0;N<P.length;N++){J(P[N]);}};var J=function(P){var O,N;if(typeof P!==H.UNDEFINED&&P!==null){N=C.getTextFromNode(P);O={};O.id=a.REDIRECT_NOAD;O.type=a.IMPRESSION;O.url=N;O.tokenized=false;G.addBeacon(O.id,O);}};var j=function(Q){var N=Q.childNodes;if(N.length===0){return;}for(var P=0;P<N.length;P++){var O=N[P];if(typeof O===H.UNDEFINED||O===null||O.nodeType!==1){continue;}switch(O.nodeName){case"SkipDirective":I(O);break;case"SkipBeacon":i(O);break;default:}}};var I=function(N){var O=parseInt(C.getTextFromNode(N),10);if(isNaN(O)){}else{G.setSkip_directive(O);}};var i=function(N){var O=C.getTextFromNode(N);if(G.getSkip_directive()!==H.AD_ENABLE_SKIP){return;}if(typeof O===H.UNDEFINED||O===null){return;}var P={};P.id="skip";P.type="skip";P.url=O;P.tokenized=false;G.addBeacon(P.id,P);};var F=function(Q){var N=Q.childNodes;if(N.length===0){return;}for(var P=0;P<N.length;P++){var S=N[P];if(S.nodeType!==1){continue;}switch(S.nodeName){case"Progress30SecBeacon":var O={};O.id="cpcv";O.type="cpcv";var R=C.getTextFromNode(S);o(O,R,a.EXTENSION_CPCV);O.tokenized=false;G.addBeacon(O.id,O);break;default:}}};var o=function(R,S,O){var Q="))",N;if(S.indexOf(a.BEAP_SERVER)>-1||S.indexOf(a.CSC_SERVER)>-1){var P=S.lastIndexOf("))");if(P>=0){switch(O){case a.EXTENSION_CPCV:Q=a.CPCV_SUFFIX;break;case a.EXTENSION_NOADIMPRESSION:Q=a.REDIRECT_SUFFIX;break;default:}N=S.substring(0,P)+Q;R.url=N;}else{R.url=S;}}else{R.url=S;}};var v=function(){try{M=M&&l;f=f&&l||!M;if(r===true){return A.TYPE.VPAID;}else{if(f){z();return"ybt";}else{if(M){u();return"yct";}}}}catch(N){}return"";};var g=function(T){var Z=T.childNodes,Y="",W="",V=null,X=null,R=null,Q=null,P=null,O,S,N,aa;O={"VideoClicks":function(ac){var ab,ad,ae;ad=ac.childNodes;for(ab=0;ab<ad.length;ab++){ae=ad[ab];if(ae.nodeName==="ClickThrough"){V=C.getTextFromNode(ae);}else{if(ae.nodeName==="ClickTracking"){k([ae],a.CLICKTHROUGH,a.CLICKTHROUGH);}}}},"TrackingEvents":function(ab){k(ab.childNodes,null,null);},"Duration":function(ab){P=C.getTextFromNode(ab);X=P.split(":")[2];},"MediaFiles":function(ab){if(ab.childNodes){l=ab.childNodes.length>0;W=K(ab.childNodes);G.setType(A.TYPE.OVERLAY);}},"AdParameters":function(ac){var ae=ac.childNodes,ab,ad;if(ae.length>0){ab=ae[0].nodeType;if(ab===H.CDATA_SECTION_NODE||ab===H.TEXT_NODE){ad=C.getTextFromNode(ac);if(ad){G.addParam("params",ad);}}else{G.addParam("params",ac.outerHTML);}}R=ac.getElementsByTagName("yahoo_video_ad_item");M=R.length>0;f=R.length===0;Q=ac.getElementsByTagName("yahoo_video_ad_beacon");
}};for(S=0;S<Z.length;S++){N=Z[S];aa=O[N.nodeName];if(!aa){}else{aa.call(undefined,N);}}Y=v();if(Y===A.TYPE.VPAID){G.setType(A.TYPE.VPAID);d();}else{if(Y!==""){try{G.addParam(Y+"_video",W);if(!isNaN(parseInt(X,10))){G.addParam(Y+"_duration",X);}if(V){G.addParam(Y+"_click_url",V);}if(R){h(R);}if(Q){h(Q);}}catch(U){}}}};var x=function(N){m(N);if(s===true){G.setType(A.TYPE.VPAID);c(N);}else{if(p===true){G.setType(A.TYPE.OVERLAY);w(N);}}};var B=function(R){var N,O,S,P,Q;N={"NonLinear":x,"NonLinearClickThrough":function(T){var U=C.getTextFromNode(T);G.addParam("yocts_click_url",U);},"TrackingEvents":function(T){k(T.childNodes,null,null);}};S=R.childNodes;for(O=0;O<S.length;O++){P=S[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}};var z=function(){G.addParam("ybt_video","");G.addParam("ybt_asset_type","VIDEO");G.addParam("ybt_asset_url","");G.addParam("ybt_duration","120");G.addParam("ybt_click_url","");G.setPos(A.POSITION.BUMPER);G.setUrl(L+H.BUMPER_TEMPLATE_SUFFIX);};var u=function(){G.addParam("yct_video","");G.addParam("yct_product_message","");G.addParam("yct_product_message_type","");G.addParam("yct_invitation_message","");G.addParam("yct_duration","120");G.addParam("ybt_click_url","");G.setPos(A.POSITION.CLICKABLE);G.setUrl(L+H.CLICKABLE_TEMPLATE_SUFFIX);};var d=function(){var N=G.getMediaUrl("application/x-shockwave-flash","0");G.setUrl(N[0]);};var w=function(S){var R,U,T=S.childNodes,N,O,P,Q;G.addParam("yocts_tooltip_text","AD");G.addParam("yocts_adslug_text","AD");G.addParam("yocts_act1_asset_type","");G.addParam("yocts_act1_text","");G.addParam("yocts_act1_asset_url","");G.addParam("yocts_act2_asset_type","EXTERNAL");G.addParam("yocts_act2_title_text","");G.addParam("yocts_act2_description_text","");G.setPos(A.POSITION.OVERLAY);G.setUrl(L+H.OVERLAY_TEMPLATE_SUFFIX);if(T.length===0){return;}N={"AdParameters":function(V){R=V.getElementsByTagName("yahoo_video_ad_item");h(R);},"StaticResource":function(V){G.addParam("yocts_act2_asset_url",C.getTextFromNode(V));},"NonLinearClickThrough":function(V){U=C.getTextFromNode(V);G.addParam("yocts_click_url",U);}};for(O=0;O<T.length;O++){P=T[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}};var c=function(O){var N;G.setUrl(C.getTextFromNode(O.getElementsByTagName("StaticResource")[0]));try{N=O.getElementsByTagName("AdParameters");if(N.length>0){G.addParam("params",C.getTextFromNode(N[0]));}}catch(P){}};var E=function(R){var N,O,P,Q;N={"Linear":g,"NonLinearAds":B,"CompanionAds":t};for(O=0;O<R.length;O++){P=R[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}};var y=function(Q){var R,O,P,S,N=false;R=Q.childNodes;if(R&&R.length>0){for(O=0;O<R.length;O++){P=R[O];if(P.nodeName==="Creative"){S=P.childNodes;if(S.length>0){N=true;E(S);}}}if(!N){G.setType(A.TYPE.NOAD);}}else{G.setType(A.TYPE.NOAD);}};var n=function(R){var N,T,O,P,Q;N={"VASTAdTagURI":function(U){G.setRedirectURL(C.getTextFromNode(U));G.setType(A.TYPE.REDIRECT);G.setAsC2(C.checkIfC2(G.getRedirectURL()));},"Impression":function(U){k([U],a.IMPRESSION,a.IMPRESSION);},"Creatives":y,"Extensions":D};try{T=R.childNodes;if(T&&T.length>0){for(O=0;O<T.length;O++){P=T[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}}}catch(S){}};this.parseAd=function(R,af){var aa,T=0,ac,W=[],Y,Q,O,ab=0,ag={},V,U,X,P,Z,N,S="";if(typeof R===H.UNDEFINED||R===null||R.nodeName!=="VAST"){return W;}try{G=new A();G.setType(A.TYPE.NOAD);Y=R.getElementsByTagName("Ad");Z={"Wrapper":n,"InLine":n};do{ac=Y[T];try{V=ac.getAttribute("id");if(V){G.setAdId(V);}O=ac.childNodes;if(O.length===0){G.setType(A.TYPE.NOAD);}for(ab=0;ab<O.length;ab++){Q=O[ab];N=Z[Q.nodeName];if(!N){}else{N.call(undefined,Q);}for(aa=0;aa<Q.childNodes.length;aa++){child=Q.childNodes[aa];if(child.nodeName==="AdTitle"){S=C.getTextFromNode(child);}}}if(S===H.FALLBACK_AD_TITLE){P=ag[V];if(typeof P!==H.UNDEFINED&&P!==null){G.setAsL2(H.BOOL_TRUE);P.setL2Ad(G);}}else{U=ac.getAttribute("fallbackfor");X=ac.getAttribute("fallbacktype");if(U&&X&&X===H.FALLBACKTYPE_L2){P=ag[U];if(typeof P!==H.UNDEFINED&&P!==null){G.setAsL2(H.BOOL_TRUE);G.setAsC2(P.isC2());P.setL2Ad(G);}}else{if(U&&!X){G.setAsFallback(H.BOOL_TRUE);}}}}catch(ae){G.setType(A.TYPE.NOAD);}finally{G.setFormat(A.FORMAT.VAST);if(typeof af!==H.UNDEFINED&&af!==null){G.addBeaconsFromAd(af);G.setAdId(af.getAdId());G.setAsCached(af.isCached());G.setAsC2(af.isC2());G.setRedirectCount(af.getRedirectCount());G.setRedirectUrlList(af.getRedirectUrlList());}}if(!G.isL2()){if(V){ag[V]=G;}W.push(G);}G=new A();T++;}while(T<Y.length);}catch(ae){}return W;};};a.VID="VID";a.IMPRESSION="impression";a.ERROR="error";a.CLICKTHROUGH="clickthrough";a.INTERACTION="interaction";a.BITRATE="bitrate";a.INLINE="InLine";a.WRAPPER="Wrapper";a.EXTENSION_SKIP_AD="SkipAd";a.EXTENSION_CPCV="CPCV";a.EXTENSION_NOADIMPRESSION="NoAdImpression";a.EXTENSION_CUSTOM_TRACKING="CustomTracking";a.REDIRECT_NOAD="redirectNoAd";a.CPCV_SUFFIX=",ad_dur${ad_duration_value},s${skippable_value},vid${clip_id},vi_m${vi_measurable_value},vi_tvd${total_viewable_duration},"+"vi_tpd${total_ad_playback_duration},vi_mpv${min_percent_view},vi_mxpv${max_percent_view},vi_apv${avg_percent_view},"+"vi_ph${player_height},vi_pw${player_width},vi_pap${player_auto_play},vi_ploc${player_location},"+"vi_psnd${player_sound},vi_pib${player_in_banner}))";a.REDIRECT_SUFFIX=",err_code${err_code}))";a.BEAP_SERVER="ci.beap.ad.yieldmanager.net/reg_ci";a.CSC_SERVER="csc.beap.bc.yahoo.com/yi";a.EVENT_TYPE={"start":{id:"playback0",type:a.IMPRESSION},"firstquartile":{id:"playback25",type:a.IMPRESSION},"thirdquartile":{id:"playback75",type:a.IMPRESSION},"midpoint":{id:"playback50",type:a.IMPRESSION},"complete":{id:"playback100",type:a.IMPRESSION},"acceptinvitation":{id:a.CLICKTHROUGH,type:a.CLICKTHROUGH},"creativeview":{id:a.IMPRESSION,type:a.IMPRESSION}};b.com.yahoo.ads.communicator.parser.VASTParser=a;},"1.0.0",{requires:["node","Ad","ScopeLogger","datatype-xml-parse","Utils"]});YUI.add("VMAP1Object",function(e){e.namespace("com.yahoo.ads.communicator.parser");VMAP1Object=function(){var i=[];
var h="";this.getAdBreaks=function(){return i;};this.getVersion=function(){return h;};this.setVersion=function(j){h=j;};};var d=function(){var n=null;var i=null;var h="";var m=[];var l="";var k="";var j=null;this.getAdSource=function(){return n;};this.setAdSource=function(o){n=o;};this.getTrackingEvents=function(){return i;};this.setTrackingEvents=function(o){i=o;};this.getTimeOffset=function(){return h;};this.setTimeOffset=function(o){h=o;};this.getBreakType=function(){return m;};this.getBreakId=function(){return l;};this.setBreakId=function(o){l=o;};this.getRepeatAfter=function(){return k;};this.setRepeatAfter=function(o){k=o;};this.getExtensions=function(){return j;};this.setExtensions=function(o){j=o;};};var a=function(){var m="";var j=0;var l=0;var i="";var h="";var k="";this.getId=function(){return m;};this.setId=function(n){m=n;};this.getAllowMultipleAds=function(){return j;};this.setAllowMultipleAds=function(n){j=n;};this.getFollowRedirects=function(){return l;};this.setFollowRedirects=function(n){l=n;};this.getAdTagURI=function(){return i;};this.setAdTagURI=function(n){i=n;};this.getCustomAdData=function(){return h;};this.setCustomAdData=function(n){h=n;};this.getVastAdData=function(){return k;};this.setVastAdData=function(n){k=n;};};var c=function(){var h=[];this.getTrackings=function(){return h;};};var g=function(){var i="";var h="";this.getEvent=function(){return i;};this.setEvent=function(j){i=j;};this.getUrl=function(){return h;};this.setUrl=function(j){h=j;};};var b=function(){var h=[];this.getExtensions=function(){return h;};};var f=function(){var h="";var i="";this.getXml=function(){return h;};this.setXml=function(j){h=j;};this.getType=function(){return i;};this.setType=function(j){i=j;};};e.com.yahoo.ads.communicator.parser.VMAP1Object=VMAP1Object;e.com.yahoo.ads.communicator.parser.AdBreak=d;e.com.yahoo.ads.communicator.parser.AdSource=a;e.com.yahoo.ads.communicator.parser.TrackingEvents=c;e.com.yahoo.ads.communicator.parser.Tracking=g;e.com.yahoo.ads.communicator.parser.Extensions=b;e.com.yahoo.ads.communicator.parser.Extension=f;},"1.0.0",{});YUI.add("VMAP1Parser",function(a){a.namespace("com.yahoo.ads.communicator.parser");VMAP1Parser=function(){var g=a.com.yahoo.ads.utils.Utils,e=a.com.yahoo.ads.common.Constants,b=a.com.yahoo.ads.communicator.Ad,h=a.com.yahoo.ads.logging.ScopeLogger;var d="http://www.iab.net/vmap-1.0";this.parseAd=function(p,x){var m=new a.com.yahoo.ads.communicator.parser.VMAP1Object(),l=null,s=[],v=null,o,u=e.VMAP_BREAK_START_EVENT;var w=p;var r=w.getAttribute("version");if(r){m.setVersion(r);}else{}var q=g.getElementsByTagNameNS(p,d,"AdBreak",VMAP1Parser.NS);for(o=0;o<q.length;o++){m.getAdBreaks().push(f(q[o]));}if(q.length===0){throw"[VMAPParseError]: VMAP should have 1 or more AdBreaks.";}var n=m.getAdBreaks()[0];l=n.getAdSource().getVastAdData();if(l){v=x?x:new b();v.setFormat(b.FORMAT.VMAP);if(n.getTrackingEvents()){var t=n.getTrackingEvents().getTrackings();for(o=0;o<t.length;o++){if(t[o].getEvent()==="breakStart"){v.addBeacon(u,{"id":u,"type":u,"url":t[o].getUrl(),"tokenized":false});}}}else{}s=a.com.yahoo.ads.communicator.parser.ParserFactory.getParser("VAST").parseAd(l,v);}return s;};var f=function(m){var n=new a.com.yahoo.ads.communicator.parser.AdBreak();n.setBreakId(m.getAttribute("breakId"));var t=m.getAttribute("breakType");var s=t.split(",");for(var o=0;o<s.length;o++){n.getBreakType().push(s[o]);}if(n.getBreakType().length===0){}var q=m.getAttribute("timeOffset");if(q){n.setTimeOffset(q);}else{}n.setRepeatAfter(m.getAttribute("repeatAfter"));var p=g.getElementsByTagNameNS(m,d,"TrackingEvents",VMAP1Parser.NS);var l=g.getElementsByTagNameNS(m,d,"AdSource",VMAP1Parser.NS);var r=g.getElementsByTagNameNS(m,d,"Extensions",VMAP1Parser.NS);if(p[0]){n.setTrackingEvents(i(p[0]));}if(l[0]){n.setAdSource(k(l[0]));}if(r[0]){n.setExtensions(j(r[0]));}return n;};var i=function(l){var o=new a.com.yahoo.ads.communicator.parser.TrackingEvents();var n=g.getElementsByTagNameNS(l,d,"Tracking",VMAP1Parser.NS);for(var m=0;m<n.length;m++){o.getTrackings().push(c(n[m]));}return o;};var c=function(m){var n=new a.com.yahoo.ads.communicator.parser.Tracking();var l=m.getAttribute("event");if(l){n.setEvent(l);}else{throw"[VMAPParseError]: Tracking event type is required in Tracking.";}n.setUrl(g.getTextFromNode(m));return n;};var k=function(l){var m=new a.com.yahoo.ads.communicator.parser.AdSource();m.setId(l.getAttribute("id"));m.setAllowMultipleAds((l.getAttribute("allowMultipleAds")==="true")?1:0);m.setFollowRedirects((l.getAttribute("followRedirects")==="true")?1:0);if(g.getElementsByTagNameNS(l,d,"VASTAdData",VMAP1Parser.NS)[0]){m.setVastAdData(g.getElementsByTagNameNS(l,d,"VASTAdData",VMAP1Parser.NS)[0].childNodes[0]);}else{if(g.getElementsByTagNameNS(l,d,"AdTagURI",VMAP1Parser.NS)[0]){m.setAdTagURI(g.getElementsByTagNameNS(l,d,"AdTagURI",VMAP1Parser.NS)[0].childNodes[0]);}else{if(g.getElementsByTagNameNS(l,d,"CustomAdData",VMAP1Parser.NS)[0]){m.setCustomAdData(g.getElementsByTagNameNS(l,d,"CustomAdData",VMAP1Parser.NS)[0].childNodes[0]);}else{throw"[VMAPParseError]: No valid AdSource found.";}}}return m;};var j=function(p){var n=new a.com.yahoo.ads.communicator.parser.Extensions();var o=g.getElementsByTagNameNS(p,d,"Extension",VMAP1Parser.NS);for(var m=0;m<o.length;m++){var l=new a.com.yahoo.ads.communicator.parser.Extension();l.setType(o[m].getAttribute("type"));l.setXml(g.getTextFromNode(o[m]));n.getExtensions().push(l);}return n;};};VMAP1Parser.NS="vmap";a.com.yahoo.ads.communicator.parser.VMAP1Parser=VMAP1Parser;},"1.0.0",{requires:["datatype-xml","VMAP1Object","Utils","ScopeLogger"]});YUI.add("YahooParser",function(a){a.namespace("com.yahoo.ads.communicator.parser");YahooParser=function(){var f=a.com.yahoo.ads.common.Constants,b=a.com.yahoo.ads.communicator.Ad,j=a.com.yahoo.ads.utils.Utils;var k=null;var l=this;var i=function(q){for(var o=0;o<q.length;o++){var p=q[o];var n={};n.url=p.getAttribute("url");n.url=n.url.replace(/&(?=amp;)/g,"&");n.id=p.getAttribute("bid");
n.type=p.getAttribute("type").toLowerCase();n.tokenized=p.getAttribute("tokenized");k.addBeacon(n.id,n);}};var g=function(q){for(var o=0;o<q.length;o++){var p=q[o];if(j.hasAttribute(p,"name")){var n=p.getAttribute("name");k.addParam(n,j.getTextFromNode(p));}}};var h=function(n,p){try{var o=j.getElementsByTagNameNS(n,p,"beacons",YahooParser.NS)[0];var r=j.getElementsByTagNameNS(o,p,"beacon",YahooParser.NS);i(r);}catch(q){}};var m=function(o){try{var n={};n.url=o.getAttribute("csc");n.id=YahooParser.IMPRESSION;n.type=YahooParser.IMPRESSION;n.tokenized=true;k.addBeacon(n.id,n);}catch(p){}};var e=function(n,p){var o,q;k.setType(b.TYPE.REDIRECT);k.setPos(b.POSITION.CLICKABLE);o=j.getElementsByTagNameNS(n,p,"adtag",YahooParser.NS);q="";if(o&&o.length>0){q=j.getTextFromNode(o[0]);}k.setRedirectURL(q);h(n,p);};var d=function(n){k.setType(b.TYPE.NOAD);k.setPos(b.POSITION.CLICKABLE);};var c=function(n,r){var q,p,o,t;k.setType(b.TYPE.OVERLAY);k.setPos(b.POSITION.OVERLAY);h(n,r);try{q=j.getElementsByTagNameNS(n,r,"creatives",YahooParser.NS)[0];p=j.getElementsByTagNameNS(q,r,"creative",YahooParser.NS)[0].getAttribute("url");k.setUrl(p);}catch(s){}try{o=j.getElementsByTagNameNS(n,r,"creativeData",YahooParser.NS)[0];t=j.getElementsByTagNameNS(o,r,"item",YahooParser.NS);g(t);}catch(s){}};this.parseAd=function(u,p){var v=0,z,x=[],s,t,n,q,y,r,A,o;if(typeof u===f.UNDEFINED||u===null){return x;}k=new b();s=u.getElementsByTagName("position");t=(typeof s!=="undefined"&&s!==null)?s[0]:null;n=(typeof t!=="undefined"&&t!==null)?t.getElementsByTagName("addata"):null;if(!n||n.length<1){return;}do{z=n[v];try{m(z);q=z.getElementsByTagName("ads");if(q&&q.length>0){o=q[0].getAttribute("xmlns:video-ad");A=q[0].getElementsByTagName("ad");y=(typeof A!=="undefined"&&A!==null)?A[0]:null;r=(typeof y!=="undefined"&&y!==null)?j.getElementsByTagNameNS(y,o,"adtag",YahooParser.NS):null;if(r&&r.length>0){e(y,o);}else{c(y,o);}}else{d();}}catch(w){d();}finally{k.setFormat(b.FORMAT.YAHOO);if(typeof p!==f.UNDEFINED&&p!==null){k.addBeaconsFromAd(p);}}x.push(k);v++;k=new b();}while(v<n.length);return x;};};YahooParser.NS="video-ad";YahooParser.IMPRESSION="impression";a.com.yahoo.ads.communicator.parser.YahooParser=YahooParser;},"1.0.0",{requires:["node","Ad","ScopeLogger","datatype-xml-parse","Utils"]});YUI.add("Prefetcher",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(g,i){var n=b.com.yahoo.ads.common.Constants,w=b.com.yahoo.ads.communicator.Ad,v=b.com.yahoo.ads.communicator.AbstractCommunicator,j=null,e=null,m=null,k=null,p=null,f=null,o=null,t=null,c=null,s=null,u=null,r=g,q=null,l=null,d=null,h=function(y){o=y;var x=null;if(typeof r!==n.UNDEFINED&&r!==null){x=r.getRendererType();}s=new b.com.yahoo.ads.communicator.RedirectResolver(x,n.AD_PREFETCH_TIME);f=new b.com.yahoo.ads.communicator.parser.ParserManager();u=new b.com.yahoo.ads.communicator.adrequests.AdRequestManager();u.setRendererType(x);q=new b.com.yahoo.ads.communicator.CacheUpdater(x);l=new b.com.yahoo.ads.communicator.FallbackUpdater(r);d=0;};this.setNetworkModule=function(x){t=x;};this.setNetworkSettings=function(x){c=x;};this.init=function(x){h(x);};this.onAdRedirect=function(x){switch(x.type){case n.REDIRECT_RESOLVED:j=x.ad;j.setCommunicator(this);this.notifyPrefetch(j);break;case n.ERR_RESP_GENERIC:this.notifyError(n.ERR_RESP_GENERIC);break;case n.REDIRECT_TIMEDOUT:j.setPrefetch(n.AD_PREFETCH_TIMEOUT);this._notifyPrefetch(j);break;default:this.notifyError(x.type);break;}};this.setRedirect=function(A){var x,y,z;y={"adComponentSettings":c,"context":o,"serverUrl":A,"adSpec":null};z=c.getSetting("EnableSSL")===n.TRUE;try{x=u.getRequest(y,t.getName(),z);}catch(B){if(!B.type){B.type=n.ERR_REQ_GENERIC;}this.notifyError(B.type);return;}s=new b.com.yahoo.ads.communicator.RedirectResolver();s.on(n.AD_REDIRECT_EVENT,this.onAdRedirect,this);s.resolve(j,x,d);};this.processAd=function(C){var y=0,z,x,B;B=C.getPayload();if(B.indexOf("adResults")>-1){B=B.replace(/&(?!amp;)/g,"&amp;");}try{z=f.parseAd(B,j);}catch(A){if(!A.type){A.type=n.ERR_RESP_GENERIC;}this.notifyError(A.type);return;}if(z instanceof Array){for(y=0;y<z.length;y++){x=z[y];if(C.getIsTemplate()){x.unsetFormat();}}this.processAdList(z);}else{this.notifyError(n.ERR_RESP_GENERIC);}};this.processAdList=function(x){if(x){j=x[0];k=x[1];if(t.getName()===n.MME){this.processPrimaryAd();this.processSecondaryAd();}if(j.isC2()){j.setAsC2(n.BOOL_FALSE);}this.handleAd();this.processCacheUpdate();}else{this.notifyError(n.ERR_RESP_GENERI);return;}};this.processPrimaryAd=function(){if(j&&j.getL2Ad()){if(j.getL2Ad().getType()===w.TYPE.REDIRECT){e=j.getL2Ad();}else{e=j;j=j.getL2Ad();}}};this.processSecondaryAd=function(){var x,y;if(k&&k.isFallback()&&k.getType()===w.TYPE.REDIRECT){m=k.getL2Ad();if(m&&m.getType()!==w.TYPE.REDIRECT){y=m;m=k;k=y;}if(k.isC2()){j.setAllowC2Backfill(n.BOOL_TRUE);x={keyVal:t.getName()+"_"+"VID",clipVal:this.clipId,tVal:this.tId,lmsVal:this.lmsId,adObject:k};l.updateL1(x);}if(m&&m.getType()===w.TYPE.REDIRECT&&m.isC2()){l.updateL2(m,this.revShare);}}else{j.setFallbackAd(k);}};this.handleAd=function(){var x=j.getRedirectURL();if(j.getType()===w.TYPE.REDIRECT){j.setPrefetch(n.AD_PREFETCH_INPROGRESS);j.setCommunicator(this);this.notifyPrefetch(j);this.setRedirect(x);}else{j.setPrefetch(n.AD_PREFETCH_COMPLETE);j.setCommunicator(this);this.notifyPrefetch(j);}};this.processCacheUpdate=function(){if(!e){return;}q.update(e,this.revShare);};this.processFallback=function(){var x;if(k&&k.getType()===w.TYPE.REDIRECT&&k.isC2()){x={keyVal:t.getName()+"_"+"VID",clipVal:this.clipId,tVal:this.tId,lmsVal:this.lmsId,adObject:k};l.updateL1(x);}if(m&&m.getType()===w.TYPE.REDIRECT&&k.isC2()){l.updateL2(m,this.revShare);}};this.notifyPrefetch=function(x){var y=x.isCached();if(x.isC2()){this.key=t.getName()+"_"+"VID";}this.fire(n.AD_PREFETCH_EVENT,{adObject:x,update:y});};this.notifyError=function(x){if(j){j.setPrefetch(n.AD_PREFETCH_ERROR);j.setErrorState(x);}};this.prefetchAd=function(y){var x=null;j=null;if(y){x=new b.com.yahoo.ads.communicator.AdResponse(y,null);
if(y.match(/CDATA\[\$\{\w+\}/)){x.setIsTemplate(true);d=-1;}this.processAd(x);}};};b.com.yahoo.ads.communicator.Prefetcher=a;b.augment(a,b.EventTarget);},"1.0.0",{requires:["node","AdResponse","Constants","AdRequestManager","ParserManager","CacheUpdater","FallbackUpdater"]});YUI.add("RedirectResolver",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(l,p,r){var t=b.com.yahoo.ads.common.Constants,j=b.com.yahoo.ads.communicator.Ad,x=b.com.yahoo.ads.communicator.UrlLoader,c=b.com.yahoo.ads.utils.Utils,m=new b.com.yahoo.ads.communicator.parser.ParserManager(),B=new b.com.yahoo.ads.communicator.UrlLoader(l),q=null,i=0,s=[],z=p?p:t.AD_PREFETCH_TIME,d=null,h=this,C=false,A=r,n=function(){C=true;d.reset();if(!A){B.abort();}},o=function(E,F){C=false;if(!d){d=new b.com.yahoo.ads.plugin.Timer(E*1000,0);}else{d.reset();}d.addFunctionOnComplete(h,n,F);d.start();},u=function(E){var F={"type":E,"ad":q};h.fire(t.AD_REDIRECT_EVENT,F);},D=function(E){f();y(E);},w=function(E){f();u(E);},g=function(){f();B.abort();u(t.REDIRECT_TIMEDOUT);},f=function(){B.detach(x.AD_RESPONSE,D,this);B.detach(x.ADCALL_ERROR,w,this);B.detach(x.ADCALL_TIMEOUT,g,this);},e=function(){B.on(x.AD_RESPONSE,D,this);B.on(x.ADCALL_ERROR,w,this);B.on(x.ADCALL_TIMEOUT,g,this);},v=function(E){if(!E){return;}var F=c.getDomain(E);if(!E.match(/adserver.yahoo.com/)){s.push(F);i+=1;}e();B.query(E);},k=function(){var E=q.getRedirectURL();if(q.getType()===j.TYPE.REDIRECT){v(E);}else{q.setRedirectUrlList(s);q.setRedirectCount(i);q.setPrefetch(t.AD_PREFETCH_COMPLETE);if(!C){u(t.REDIRECT_RESOLVED);}else{u(t.REDIRECT_TIMEDOUT);}}},y=function(J){var F,G=null,E=null,I=J.getPayload();if(I.indexOf("adResults")>-1){I=I.replace(/&(?!amp;)/g,"&amp;");}try{G=m.parseAd(I,q);}catch(H){}if(G instanceof Array){for(F=0;F<G.length&&F<1;F++){E=G[F];if(J.getIsTemplate()){E.unsetFormat();}}q=G[0];if(typeof q!==t.UNDEFINED&&q!==null){q.XML=I;k();}else{u(t.ERR_RESP_GENERIC);}}else{u(t.ERR_RESP_GENERIC);}};this.resolve=function(F,E,G){o(z);q=F;i=G;s=[];v(E);};};b.com.yahoo.ads.communicator.RedirectResolver=a;b.augment(a,b.EventTarget);},"1.0.0",{requires:["Constants","Utils"]});YUI.add("ServerCacheUpdater",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(e){var c=b.com.yahoo.ads.common.Constants,d=e===c.HTML,g=b.com.yahoo.ads.utils.Utils,f=new b.com.yahoo.ads.communicator.VASTCreator();this.update=function(p,j){var i=c.CACHEUPDATE_URL,o,n,h,l,k=function(s,r,q){},m=function(s,r,q){};l=f.createXML(p.XML,p);if(!l){return;}i=g.updateProtocol(i);h={"ref_share":j,"domain":p.getFirstRedirectUrl(),"SlotsList":[{"booking_id":p.getBookingId(),"crtv_id":p.getCreativeId(),"crtv":l}]};n={method:"POST",data:b.JSON.stringify(h),xdr:{use:"native",credentials:true},on:{success:k,failure:m},sync:d};b.io.header("X-Requested-With");o=b.io(i,n);};};b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.ServerCacheUpdater=a;},"1.0.0",{requires:["node","ScopeLogger","Utils","VASTCreator"]});YUI.add("UrlLoader",function(a){a.namespace("com.yahoo.ads.communicator");UrlLoader=function(f){var b=a.com.yahoo.ads.common.Constants;var i=this;var d=false;var h=false;var e=null;var g=function(j){if(!j){return"";}var k=j.match(i.domainRegex),l=k&&k[0]||"";return l;};var c=function(j){if(!j){return false;}var k=i.whiteList[j];return typeof k!==b.UNDEFINED?k:false;};this.abort=function(){h=true;};this.query=function(m){a.CurrentCommClientInstance=this;var j=m,l,t=false,s,p;var o=this,r="ERR_RESP_EMPTY";var k=function(x,w,u){if(h===true){return;}var v=w.responseText;if(typeof v!=="undefined"&&v!==null&&v.length>0){v=v.replace(/>\s+</g,"><");o.onAdServerResponse(v,m);}else{o.onAdCallError();}};var n=function(x,w,u){var v=w.statusText;if(v==="timeout"){if(h===true){return;}o.onAdCallTimeout();}else{if(v===""){o.onAdCallError(r);}else{o.onAdCallError(b.ERR_RESP_GENERIC);}}};l=g(j);t=(l==="yahoo.com");s=c(l);p={method:"GET",xdr:{use:"native",credentials:s},on:{success:k,failure:n},sync:d};a.io.header("X-Requested-With");h=false;try{e=a.io(j,p);}catch(q){n(null,{"statusText":"exception"},null);}};this.onAdServerResponse=function(k,l){var j=new a.com.yahoo.ads.communicator.AdResponse(k,l);this.fire(UrlLoader.AD_RESPONSE,j);};this.onAdCallTimeout=function(){this.fire(UrlLoader.ADCALL_TIMEOUT,null);};this.onAdCallError=function(j){this.fire(UrlLoader.ADCALL_ERROR,j);};};UrlLoader.prototype.whiteList={"amgdgt.com":true,"adap.tv":true,"videohub.tv":true,"doubleclick.net":true,"undertone.com":true,"jivox.com":true,"adform.net":true,"flashtalking.com":true,"telemetryverification.net":true,"fwmrm.net":true,"eyereturn.com":true,"zedo.com":true,"tubemogul.com":true,"tidaltv.com":true,"yahoo.com":true,"cbs.com":true,"innovid.com":true,"moatads.com":true,"stickyadstv.com":true};UrlLoader.prototype.domainRegex=/[\w-]+\.(?:com|net|tv)/;UrlLoader.AD_RESPONSE="AD_RESPONSE";UrlLoader.ADCALL_TIMEOUT="ADCALL_TIMEOUT";UrlLoader.ADCALL_ERROR="ADCALL_ERROR";a.augment(UrlLoader,a.EventTarget);a.com.yahoo.ads.communicator.UrlLoader=UrlLoader;},"1.0.0",{requires:["node","jsonp","ScopeLogger","AdResponse","Utils"]});YUI.add("VASTCreator",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(l){var g=b.com.yahoo.ads.common.Constants,k=b.com.yahoo.ads.utils.Utils,h=null,e=new b.com.yahoo.ads.communicator.parser.ParserManager(),j=function(o,p){var r=false,s,q;if(o){for(q=0;q<o.length;q++){s=o[q].url;if(s===p){r=true;break;}}}return r;},c=function(r,p,o){var q=k.createNode(h,o,r);p.appendChild(q);},m=function(r,p,o){var q=k.createNode(h,"Tracking",r);q.setAttribute("event",a.BEACON[o]);p.appendChild(q);},i=function(t,q,o){var s=h.createElement("Extension"),r=a.EXTENSION[o],p=k.createNode(h,r.id,t);s.setAttribute("type",r.type);s.appendChild(p);q.appendChild(s);},d=function(r,q,o){var p,s;for(p=0;p<r.length;p++){s=r[p].url;if(s&&!j(o,s)){c(s,q,"Impression");}}},n=function(s,r,q,o){var p,t;if(!r){return;}for(p=0;p<s.length;p++){t=s[p].url;if(t&&!j(o,t)){switch(q){case g.REDIRECT_NOAD:case g.CPCV:case g.SKIP:i(t,r,q);
break;case g.CLICKTHROUGH:c(t,r,"ClickTracking");break;default:m(t,r,q);break;}}}},f=function(q,G,C){var J,w,F,p=G.getAllBeacons(),r=C?C.getAllBeacons():[],t=q.getElementsByTagName("InLine"),x=t&&t[0]?t[0]:null,v=x&&x.getElementsByTagName("Creatives")?x.getElementsByTagName("Creatives"):null,y=v&&v[0]?v[0]:null,A=y&&y.getElementsByTagName("Creative")?y.getElementsByTagName("Creative"):null,z=A&&A[0]?A[0]:null,E=z&&z.getElementsByTagName("Linear")?z.getElementsByTagName("Linear"):null,o=E&&E[0]?E[0]:null,I=o&&o.getElementsByTagName("VideoClicks")?o.getElementsByTagName("VideoClicks"):null,s=I&&I[0]?I[0]:null,u=o&&o.getElementsByTagName("TrackingEvents")?o.getElementsByTagName("TrackingEvents"):null,B=u&&u[0]?u[0]:null,H=x&&x.getElementsByTagName("Extensions")?x.getElementsByTagName("Extensions"):null,D=H&&H[0]?H[0]:null;if(x&&(!H||H.length===0)){D=k.createNode(h,"Extensions");x.appendChild(D);}if(o&&(!I||I.length===0)){s=k.createNode(h,"VideoClicks");o.appendChild(s);}if(o&&(!u||u.length===0)){B=k.createNode(h,"TrackingEvents");o.appendChild(B);}for(J in p){w=p[J];F=r[J];switch(J){case g.IMPRESSION:d(w,x,F);break;case g.REDIRECT_NOAD:case g.CPCV:case g.SKIP:n(w,D,J,F);break;case g.CLICKTHROUGH:n(w,s,J,F);break;default:n(w,B,J,F);break;}}};this.createXML=function(s,r){var o="",p,u=null,q;if(typeof s!==g.UNDEFINED&&s!==null&&s.length>0){try{s=s.replace(/>\s+</g,"><");s=s.replace(/<\!--.*?-->/g,"");q=e.parseAd(s,null);if(q instanceof Array&&q.length>0){u=q[0];}h=k.createDocumentNode(s);p=h.getElementsByTagName("Ad");if(p&&p.length>0){p[0].setAttribute("fallbackfor",r.getAdId());p[0].setAttribute("fallbacktype",g.FALLBACKTYPE_L2);f(p[0],r,u);}}catch(t){throw k.errorEvent("Error in creating Vast XML","class: VASTCreator, method: createXML",g.ERR_REQ_GENERIC);}}o=k.formatDocumentNode(h);return o;};};a.BEACON={"playback0":"start","playback25":"firstquartile","playback75":"thirdquartile","playback50":"midpoint","playback100":"complete","close":"close"};a.EXTENSION={"skip":{id:"SkipBeacon",type:"SkipAd"},"cpcv":{id:"Progress30SecBeacon",type:"CPCV"},"redirectNoAd":{id:"NoAdImpression",type:"CustomTracking"}};b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.VASTCreator=a;},"1.0.0",{requires:["node","ScopeLogger","Utils"]});YUI.add("ActionEventResolver",function(a){a.namespace("com.yahoo.ads.engine");ActionEventResolver=function(){var b=a.com.yahoo.ads.common.Constants;function c(e){var d=false;if(!e){return d;}if(e.type===b.TRIGGER_CLIP_PREROLL||e.type===b.TRIGGER_CLIP_POSTROLL||e.type===b.TRIGGER_CLIP_GATEWAY){d=true;}return d;}return{resolveBlockingEvent:function(l,k){var f=Array();var e=false;for(var g=0;g<l.length;g++){var h=l[g];if(this.isCountableAction(h)){if(!e){if(h.getEventId()!=="no-op"){if(h.getEventId()==="skip-ad"){h.setEventId("no-op");}e=true;f.push(h);}}}else{f.push(h);}}if(!e&&this.isBlockingAction(k)){var d=new a.com.yahoo.ads.rules.ActionRule();d.setType(k.type);var j=new a.com.yahoo.ads.engine.EngineActionEvent(a.com.yahoo.ads.engine.EngineActionEvent.NOOP_EVENT,d);f.push(j);}return f;},needToFireFor:function(f,e){var d=true;var g=c(e);if(!g&&f.getEventId()==="no-op"){d=false;}return d;},isBlockingAction:function(d){return c(d);},isCountableAction:function(e){var d=true;if(e.getEventId()==="skin-op"){d=false;}return d;}};};a.com.yahoo.ads.engine.ActionEventResolver=ActionEventResolver;},"1.0.0",{requires:["node","EngineActionEvent","ScopeLogger"]});YUI.add("AdEngine",function(a){a.namespace("com.yahoo.ads.engine");AdEngine=function(){_CONSTANTS=a.com.yahoo.ads.common.Constants;_MODE_XML=0;STATE_RAW=0;STATE_READY=1;STATE_RUNNING=2;STATE_LOADING_CONFIG=3;DEFAULT_EVAL_INTERVAL=100;TRIGGER_BASIS_ID="triggers";SESSION_BASIS_ID="session";VIDEO_TIMELINE_BASIS_ID="videoTimeline";_defaultGroup=null;_mRuleGroupsMap=null;_lastSetId=null;_mActiveGroupId=null;this.evalInterval=null;this.timersMap=null;this.mLastSecondExecuted=0;this._mState=null;_actionEventResolver=new a.com.yahoo.ads.engine.ActionEventResolver();_adsInClipCount=0;_clipCount=0;_categoryCount=0;_adLength=0;_vidLength=0;_rcvidLength=0;_rcclipCount=0;_adCount=0;_clipDuration=0;_rcvidLength_NFL=0;_sessionLength_NFL=0;_lmsID="";_nflFreeTime=_CONSTANTS.NFL_FREE_TIME;_nflSessionInSeconds=_CONSTANTS.NFL_SESSION_TIME;this.setClipData=function(b,d,c,f,e){_clipCount=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_CLIP_COUNT),10);_adLength=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_AD_LENGTH),10);_vidLength=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_VIDEO_LENGTH),10);_rcvidLength=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH),10);_rcclipCount=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_REC_CLIP_COUNT),10);_adCount=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_AD_COUNT),10);_clipDuration=parseInt(d,10);_rcvidLength_NFL=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH_NFL),10);_sessionLength_NFL=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_SESSION_NFL),10);_lmsID=c;_nflFreeTime=f;_nflSessionInSeconds=e;};this.setState=function(b){if(((typeof this._mState==="undefined"||this._mState===null)&&b===STATE_RAW)||(this._mState===STATE_RAW&&b===STATE_READY)||(this._mState===STATE_READY&&b===STATE_LOADING_CONFIG)||(this._mState===STATE_LOADING_CONFIG&&b===STATE_READY)||(this._mState===STATE_RUNNING&&b===STATE_LOADING_CONFIG)||(this._mState===STATE_LOADING_CONFIG&&b===STATE_RUNNING)||(this._mState===STATE_READY&&b===STATE_RUNNING)){this._mState=b;if(this._mState===STATE_READY){this._fireAdEngineReadyEvent();}}};this.compileRules=function(c){_defaultGroup=null;for(var d in c){var b=c[d];if(!_defaultGroup||b.getisDefault()){_defaultGroup=b;_lastSetId=_mActiveGroupId=_defaultGroup.getid();}_mRuleGroupsMap[b.getid()]=b;}this.setState(STATE_READY);};this._invalidateConfig=function(){this.setState(STATE_LOADING_CONFIG);this.mContextDataMap={};};this.buildEngineRuntime=function(){return new a.com.yahoo.ads.engine.RuleRuntime(this.getRuntimeParam);};this.getRuntimeParam=function(b){if(b==="userSession"){return getUserSession();
}else{if(b==="videoDuration"){var d=0;try{d=Number(mContextDataMap["tech:duration"]);}catch(c){alert("got an exception"+c);}if(d===0){try{d=this.timersMap[VIDEO_TIMELINE_BASIS_ID].totalTime;}catch(c){alert("got an exception"+c);}}return d;}else{if(b==="videoAveragePlaytime"){return mContextDataMap["extra-biz:averagePlaytime"];}else{return mContextDataMap[b];}}}};this._fireAdEngineReadyEvent=function(){this.fire(_CONSTANTS.AD_ENGINE_READY_EVENT);};this._fireAdEngineErrorEvent=function(){this.fire(_CONSTANTS.AD_ENGINE_ERROR_EVENT);};this._fireAdEngineAdEvent=function(){this.fire(_CONSTANTS.AD_ENGINE_AD_EVENT);};this.evaluateRuleByPosition=function(b,c){};this.evaluateRuleGroup=function(d,b){var c;if(d==="-1"){return;}c=_mRuleGroupsMap[d];if(!c){c=_defaultGroup;}if(c){c.evaluate(b);}};this.executionTimerCallbackAttached=function(e){if(!(this.timelineRulesPresent(_mActiveGroupId))&&this._mState!==STATE_RUNNING){return;}var c=this.timersMap[VIDEO_TIMELINE_BASIS_ID].getElapsed();var g=this.buildEngineRuntime();g.addBasis(new TimerEventBasis(VIDEO_TIMELINE_BASIS_ID,this.timersMap[VIDEO_TIMELINE_BASIS_ID],_clipCount));var h=Math.abs(c-this.mLastSecondExecuted);if(h>=2){this.fire(a.com.yahoo.ads.engine.EngineActionEvent.RESET_EVENT);this.mLastSecondExecuted=c;return;}this.mLastSecondExecuted=c;this.qCount=0;this.evaluateRuleGroup(_mActiveGroupId,g);var b=[];b=_actionEventResolver.resolveBlockingEvent(g.getActions(),null);for(var d=0;d<b.length;d++){var f=new a.com.yahoo.ads.engine.EngineActionEvent();f=b[d];if(f.getAction()){f.getAction().mActionParams.AdPosition=_adsInClipCount++;}this.fire(f.EVENT_NAME,f);}};this.timelineRulesPresent=function(b){var c=_mRuleGroupsMap[b];if(typeof c==="undefined"||c===null){c=_defaultGroup;return false;}else{return c.getisTimelineDriven();}};};a.augment(AdEngine,a.EventTarget);AdEngine.prototype.getAdEngineReadyEvent=function(){return _CONSTANTS.AD_ENGINE_READY_EVENT;};AdEngine.prototype.getAdEngineErrorEvent=function(){return _CONSTANTS.AD_ENGINE_ERROR_EVENT;};AdEngine.prototype.getAdEngineAdEvent=function(){return _CONSTANTS.AD_ENGINE_AD_EVENT;};AdEngine.prototype.fireAdEngineReadyEvent=function(){this._fireAdEngineReadyEvent();};AdEngine.prototype.fireAdEngineErrorEvent=function(){this._fireAdEngineErrorEvent();};AdEngine.prototype.fireAdEngineAdEvent=function(){this._fireAdEngineAdEvent();};AdEngine.prototype.runEngine=function(){if(this._mState===STATE_READY){this.setState(STATE_RUNNING);this.timersMap[VIDEO_TIMELINE_BASIS_ID].on("advanced",this.executionTimerCallbackAttached,this);}};AdEngine.prototype.invalidateConfig=function(){this._invalidateConfig();};AdEngine.prototype.ready=function(){return(this._mState===STATE_READY||this._mState===STATE_RUNNING);};AdEngine.prototype.init=function(){var b=""+Math.round(Math.random()*100000);this.setState(STATE_RAW);this.evalInterval=DEFAULT_EVAL_INTERVAL;this.timersMap={};_mRuleGroupsMap={};this.mContextDataMap={};};AdEngine.prototype.updateRules=function(b){this.compileRules(b.getData());};AdEngine.prototype.addTimer=function(c){var b=c.getId();this.timersMap[b]=c;};AdEngine.prototype.setActiveGroupId=function(c){if(typeof c==="undefined"||c===null){c=_lastSetId;}_lastSetId=c;try{if(_mRuleGroupsMap[c]||Number(c)===-1){_mActiveGroupId=c;}else{_mActiveGroupId=_defaultGroup.id;}}catch(b){}};AdEngine.prototype.getActiveGroupId=function(){return _mActiveGroupId;};AdEngine.prototype.addContextParam=function(b,c){if(b==="videoAveragePlaytime"){c=Math.round(c/1000);}this.mContextDataMap[b]=c;};AdEngine.prototype.resetClipRules=function(){var b,c;for(b in _mRuleGroupsMap){if(_mRuleGroupsMap.hasOwnProperty(b)){c=_mRuleGroupsMap[b];if(typeof c!=="undefined"&&c!==null){c.resetClipRules();}}}};AdEngine.prototype.onAdEvent=function(d){var g=d.action;var h=new a.com.yahoo.ads.engine.TriggerEventBasis(TRIGGER_BASIS_ID,g.type,d.action);if(g.type===_CONSTANTS.NOTIFICATION_CLIP_CHANGE){_adsInClipCount=0;this.resetClipRules();return;}else{h.setCount(_clipCount);h.setAdLength(_adLength);h.setVidLength(_vidLength);h.setRecentVidLength(_rcvidLength);h.setRecentClipCount(_rcclipCount);h.setAdCount(_adCount);h.setClipDuration(_clipDuration);h.setRecentVidLength_NFL(_rcvidLength_NFL);h.setNFLSessionTime(_sessionLength_NFL);h.setLmsID(_lmsID);h.setNFLFreeTime(_nflFreeTime);h.setNFLSessionPeriod(_nflSessionInSeconds);}var f=this.buildEngineRuntime();f.addBasis(h);var b=[];this.evaluateRuleGroup(_mActiveGroupId,f);b=_actionEventResolver.resolveBlockingEvent(f.getActions(),g);for(var c=0;c<b.length;c++){var e=new a.com.yahoo.ads.engine.EngineActionEvent();e=b[c];if(_actionEventResolver.needToFireFor(e,g)){if(e.action&&_actionEventResolver.isCountableAction(e)){e.action.actionParams.AdPosition=_adsInClipCount++;}this.fire(e.EVENT_NAME,e);}else{}}};a.com.yahoo.ads.engine.AdEngine=AdEngine;},"1.0.0",{requires:["node","event-custom","TriggerEventBasis","ActionEventResolver","RuleRuntime","event-custom-complex","ScopeLogger","Constants"]});YUI.add("EngineActionEvent",function(b){b.namespace("com.yahoo.ads.engine");function a(f,g){var d;var c;var e=b.com.yahoo.ads.common.Constants;if(!f){d="no-op";}else{d=f;c=g;}return{EVENT_NAME:e.AD_ENGINE_AD_EVENT,setEventId:function(h){d=h;},getEventId:function(){return d;},setAction:function(h){c=h;},getAction:function(){return c;},toString:function(){return"[EngineActionEvent(eventId:"+d+")(action:"+c+")]";}};}a.RESET_EVENT="reset";a.NOOP_EVENT="no-op";a.SKIP_EVENT="skip-ad";b.com.yahoo.ads.engine.EngineActionEvent=a;},"1.0.0",{requires:["node"]});YUI.add("RuleRuntime",function(a){a.namespace("com.yahoo.ads.engine");RuleRuntime=function(){var b=a.com.yahoo.ads.logging.ScopeLogger("RuleRuntime");var c=function(){};var e={};var d=[];function f(g){c=g;e={};d=[];}return{addBasis:function(g){e[g.getName()]=g;},getParam:function(g){return c(g);},getBasis:function(g){return e[g];},propagateActionEvent:function(g){d.push(g);},getActions:function(){return d;}};};a.com.yahoo.ads.engine.RuleRuntime=RuleRuntime;},"1.0.0",{requires:["node","ScopeLogger"]});
YUI.add("TimerEventBasis",function(a){a.namespace("com.yahoo.ads.engine");TimerEventBasis=function(e,g,d){var f=g;var c=d;var b=e;return{getName:function(){return b;},getTimer:function(){return f;},getClipCount:function(){return c;},getType:function(){return TimerEventBasis.TIMER_BASIS;}};};TimerEventBasis.TIMER_BASIS="timer";a.com.yahoo.ads.engine.TimerEventBasis=TimerEventBasis;},"1.0.0",{requires:["node"]});YUI.add("TriggerEventBasis",function(a){a.namespace("com.yahoo.ads.engine");TriggerEventBasis=function(s,c,i){_CONSTANTS=a.com.yahoo.ads.common.Constants;var p=0;var b=0;var n=0;var e=0;var j=0;var g=0;var r=0;var l=s;var q=c;var f=i;var h=0;var m=0;var o="";var k=_CONSTANTS.NFL_FREE_TIME;var d=_CONSTANTS.NFL_SESSION_TIME;return{getCount:function(){return p;},setCount:function(t){p=t;},getClipDuration:function(){return b;},setClipDuration:function(t){b=t;},getAdLength:function(){return n;},setAdLength:function(t){n=t;},getVidLength:function(){return e;},setVidLength:function(t){e=t;},getRecentVidLength:function(){return j;},setRecentVidLength:function(t){j=t;},getRecentClipCount:function(){return g;},setRecentClipCount:function(t){g=t;},getAdCount:function(){return r;},setAdCount:function(t){r=t;},getName:function(){return l;},getTriggerName:function(){return q;},getTrigger:function(){return f;},getType:function(){return TriggerEventBasis.TRIGGER_BASIS;},getRecentVidLength_NFL:function(){return h;},setRecentVidLength_NFL:function(t){h=t;},getNFLSessionTime:function(){return m;},setNFLSessionTime:function(t){m=t;},getNFLSessionPeriod:function(){return d;},setNFLSessionPeriod:function(t){d=t;},getLmsID:function(){return o;},setLmsID:function(t){o=t;},getNFLFreeTime:function(){return k;},setNFLFreeTime:function(t){k=t;}};};TriggerEventBasis.TRIGGER_BASIS="trigger";a.com.yahoo.ads.engine.TriggerEventBasis=TriggerEventBasis;},"1.0.0",{requires:["node"]});YUI.add("AdEvents",function(a){a.namespace("com.yahoo.ads.event");AdEvents=function(){};AdEvents.AdLoaded="AdLoaded";AdEvents.AdStarted="AdStarted";AdEvents.AdStopped="AdStopped";AdEvents.AdLinearChange="AdLinearChange";AdEvents.AdExpandedChange="AdExpandedChange";AdEvents.AdRemainingTimeChange="AdRemainingTimeChange";AdEvents.AdVolumeChange="AdVolumeChange";AdEvents.AdImpression="AdImpression";AdEvents.AdClickThru="AdClickThru";AdEvents.AdClick="AdClick";AdEvents.AdMouseOver="AdMouseOver";AdEvents.AdMouseOut="AdMouseOut";AdEvents.AdVideoStart="AdVideoStart";AdEvents.AdVideoFirstQuartile="AdVideoFirstQuartile";AdEvents.AdVideoMidpoint="AdVideoMidpoint";AdEvents.AdVideoThirdQuartile="AdVideoThirdQuartile";AdEvents.AdVideoComplete="AdVideoComplete";AdEvents.AdUserAcceptInvitation="AdUserAcceptInvitation";AdEvents.AdUserMinimize="AdUserMinimize";AdEvents.AdUserClose="AdUserClose";AdEvents.AdPaused="AdPaused";AdEvents.AdPlaying="AdPlaying";AdEvents.AdError="AdError";AdEvents.AdLog="AdLog";AdEvents.AdProgress="AdProgress";AdEvents.AdPlayback="AdPlayback";AdEvents.AdMediaFirstByte="AdMediaFirstByte";AdEvents.AdMediaPlaybackError="AdMediaPlaybackError";a.com.yahoo.ads.event.AdEvents=AdEvents;},"1.0.0",{requires:["node"]});YUI.add("AdMetricsEvent",function(a){a.namespace("com.yahoo.ads.event");AdMetricsEvent=function(b,k,c,d,m){var n=b;var j=k;var h=null;var g=c;var e=null;var l=null;var i=d;var f=m;this.getEventId=function(){return n;};this.setEventId=function(o){n=o;};this.getEventData=function(){return j;};this.setEventData=function(o){j=o;};this.getAdType=function(){return h;};this.setAdType=function(o){h=o;};this.getCreativeId=function(){return g;};this.setCreativeId=function(o){g=o;};this.getAdPos=function(){return e;};this.setAdPos=function(o){e=o;};this.getRuleName=function(){return l;};this.setRuleName=function(o){l=o;};this.getParams=function(){return i;};this.setParams=function(o){i=o;};this.getAd=function(){return f;};this.setAd=function(o){f=o;};};AdMetricsEvent.prototype.EVENT_NAME="AdCommunicatorMetrics";a.com.yahoo.ads.event.AdMetricsEvent=AdMetricsEvent;},"1.0.0",{requires:["node"]});YUI.add("AdPluginMetricsEvent",function(b){b.namespace("com.yahoo.ads.event");function a(c,d,e){this._eventId=null;this._eventData=null;this._creativeId=null;this._adType=null;this._adPos=null;this._ruleName=null;this._params=null;this._eventId=c;this._eventData=d;this._creativeId=e;}a.prototype.getParams=function(){return this._params;};a.prototype.setParams=function(c){this._params=c;};a.prototype.setEventId=function(c){this._eventId=c;};a.prototype.getEventId=function(){return this._eventId;};a.prototype.setData=function(c){this._eventData=c;};a.prototype.getData=function(){return this._eventData;};a.prototype.setCreativeId=function(c){this._creativeId=c;};a.prototype.getCreativeId=function(){return this._creativeId;};a.prototype.setCreativeType=function(c){this._adType=c;};a.prototype.getCreativeType=function(){return this._adType;};a.prototype.setCreativePos=function(c){this._adPos=c;};a.prototype.getCreativePos=function(){return this._adPos;};a.prototype.setRuleName=function(c){this._ruleName=c;};a.prototype.getRuleName=function(){return this._ruleName;};a.prototype.toString=function(){return"[EVENT (type: EventMetrics)("+"id:"+this._eventId+")("+"data:"+this._eventData+")("+"cid:"+this._creativeId+")("+"type:"+this._adType+")("+"pos:"+this._adPos+")("+"rule:"+this._ruleName+")]";};b.com.yahoo.ads.event.AdPluginMetricsEvent=a;},"1.0.0",{requires:["node"]});YUI.add("BeaconEventData",function(b){b.namespace("com.yahoo.ads.event");function a(){this._clickCount=0;this._mouseOverCount=0;this._mouseOutCount=0;this._closeCount=0;this._idleExpDuration=0;this._idleStartTime=0;this._act3ReportedDuration=null;this._adLoadTime=null;this._act1StartTime=null;this._act2StartTime=null;this._act3StartTime=null;this._bumperStartTime=null;this._rollInTime=null;}a.PLAYBACK="playback";a.PLAYBACK0="playback0";a.PLAYBACK25="playback25";a.PLAYBACK50="playback50";a.PLAYBACK75="playback75";a.PLAYBACK100="playback100";a.MOUSE_OVER="mouseover";a.MOUSE_OUT="mouseout";a.CLICK="click";
a.SKIP="skip";a.CPCV="cpcv";a.BITRATE="bitrate";a.IMPRESSION="impression";a.INTERACTION="interaction";a.CLICKTHROUGH="clickthrough";a.OVERLAY="OVERLAY";a.CLOSE="close";a.availableBitrate=null;a.prototype.setBaseData=function(d){var c=new Date();switch(d){case"AdLoadTime":this._adLoadTime=c.valueOf();break;case"Act1StartTime":this._act1StartTime=c.valueOf();break;case"Act2StartTime":this._act2StartTime=c.valueOf();break;case"Act3StartTime":this._act3StartTime=c.valueOf();break;case"BumperStartTime":this._bumperStartTime=c.valueOf();break;case"RollInTime":this._rollInTime=c.valueOf();break;case"IdleTimeStart":this._idleStartTime=c.valueOf();break;case"IdleEndTime":this._idleExpDuration+=(c.valueOf()-this._idleStartTime);break;}};a.prototype.getBaseData=function(c){var d;switch(c){case"AdLoadTime":d=this._adLoadTime;break;case"Act1StartTime":d=this._act1StartTime;break;case"Act2StartTime":d=this._act2StartTime;break;case"Act3StartTime":d=this._act3StartTime;break;case"BumperStartTime":d=this._bumperStartTime;break;case"RollInTime":d=this._rollInTime;break;}return d;};a.prototype.elapsedTimeFromLastAction=function(d){var c=new Date();return c.valueOf()-getBaseData(d);};a.prototype.setAct3ReportedDuration=function(c){this._act3ReportedDuration=c*1000;};a.prototype.generateEventData=function(e){var d=new Date();var c;switch(e){case"t:ct_OVERLAY":case"t:ir_OVERLAY":case"t:ro_OVERLAY":case"t:ac":case"t:ct_ACT_1":case"t:ct_ACT_3":c=e+":"+(d.valueOf()-this._adLoadTime);break;case"t:ir_ACT_1":c=e+":"+(d.valueOf()-this._act1StartTime);break;case"t:ir_ACT_2":c=e+":"+(d.valueOf()-this._act2StartTime);break;case"t:ir_ACT_3":case"t:et_ACT_3":c=e+":"+(d.valueOf()-this._act3StartTime);break;case"t:et_ACT_1":c=e+":"+(d.valueOf()-this._bumperStartTime);break;case"t:et_ACT_2":c=e+":"+(d.valueOf()-this._rollInTime);break;case"t:ed_ACT_3;0":case"t:ed_ACT_3;100":case"t:ed_ACT_3;50":c=e+";"+this._act3ReportedDuration+":"+this._act3ReportedDuration;break;case"RollInTime":this._rollInTime=d.valueOf();break;}return c;};a.prototype.getUpdatedClickCount=function(){this._clickCount++;return this._clickCount;};a.prototype.getUpdatedMouseOverCount=function(){this._mouseOverCount++;return this._mouseOverCount;};a.prototype.getUpdatedMouseOutCount=function(){this._mouseOutCount++;return this._mouseOutCount;};a.prototype.getUpdatedCloseCount=function(){this._closeCount++;return this._closeCount;};a.prototype.getElapsedTimeFromAdLoad=function(){var d=new Date();var c=d.valueOf()-this._adLoadTime;return c;};a.prototype.getActualExperienceDuration=function(){return(getElapsedTimeFromAdLoad()-this._idleExpDuration);};b.com.yahoo.ads.event.BeaconEventData=a;},"1.0.0",{requires:["node"]});YUI.add("FlashRenderManager",function(a){a.namespace("com.yahoo.ads.flash");FlashRenderManager=function(b){this._eventBus=b;this.renderer=null;this.nullRenderer=null;this._ad=null;_CONSTANTS=a.com.yahoo.ads.common.Constants;window.SWF=a.SWF;var c=this;this.subscribeEvents=function(){var d=function(g){var f,e={"type":_CONSTANTS.REDIRECT_NOAD,"err_code":_CONSTANTS.ERROR_CODES[g]};f=new a.com.yahoo.ads.event.AdMetricsEvent(_CONSTANTS.IMPRESSION,_CONSTANTS.REDIRECT_NOAD,c._ad.getUrl(),e,c._ad.getJson());return f;};if(!this.renderer){return;}this.renderer.on(_CONSTANTS.EVENT_VIDEO_AD_END,function(f){c._ad=null;c._eventBus.notifyVideoAdEnd();});this.renderer.on(_CONSTANTS.EVENT_VIDEO_AD_START,function(f){c._eventBus.notifyVideoAdStart(f.capabilities);});this.renderer.on(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK,function(f){c._eventBus.notifyAdPlayback(f.capabilities);});this.renderer.on(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE,function(f){c._eventBus.notifyAdMediaFirstByte(f);});this.renderer.on(_CONSTANTS.EVENT_NOAD,function(f){});this.renderer.on(_CONSTANTS.EVENT_AD_PROGRESS,function(f){c._eventBus.notifyAdProgress(f);});this.renderer.on(_CONSTANTS.EVENT_AD_PAUSED,function(f){c._eventBus.notifyAdPaused(f);});this.renderer.on(_CONSTANTS.EVENT_AD_PLAYING,function(f){c._eventBus.notifyAdPlaying(f);});this.renderer.on(_CONSTANTS.EVENT_PROFILER,function(f){});this.renderer.on(_CONSTANTS.EVENT_METRIC,function(f){c._eventBus.notifyMetricsEvent(f);});this.renderer.on(_CONSTANTS.EVENT_AD_METRICS,function(h){var g=h.data;var f=new a.com.yahoo.ads.event.AdMetricsEvent(g.eventId,g.data,g.creativeId,g.params,g.ad);if(c._ad){c._ad.onAdEvent(f);}else{c._eventBus.notifyAdMetricsEvent(f);}});this.renderer.on(_CONSTANTS.AD_DELIVERY_ERROR,function(f){if(c._ad){c._ad.onAdEvent(d(f.data));}c._eventBus.notifyAdDeliveryError(f);});this.renderer.on(_CONSTANTS.AD_START_ERROR,function(f){if(c._ad){c._ad.onAdEvent(d(f.data));}c._eventBus.notifyAdStartError(f);});};};FlashRenderManager.prototype.cancelAds=function(){if(!this.renderer){return;}this.renderer.callSWF("cancelAllAds");};FlashRenderManager.prototype.setRenderer=function(b){this.renderer=b;this.subscribeEvents();};FlashRenderManager.prototype.getRenderer=function(){return this.renderer;};FlashRenderManager.prototype.renderAd=function(c,f,e){this._ad=c;if(c){var b=c.getJson();try{if(!this.renderer){return;}this.renderer.callSWF("renderAd",[b,f,e]);}catch(d){console.log(d);}}else{this.nullRenderer=new a.com.yahoo.ads.renderer.NullRenderer();this.nullRenderer.setEventBus(this._eventBus);this.nullRenderer.render(c,f,e);}};FlashRenderManager.prototype.addVPAIDAdToCache=function(c,f,e){this._ad=c;if(c){var b=c.getJson();try{if(!this.renderer){return;}this.renderer.callSWF("addVPAIDAdToCache",[b,f,e]);}catch(d){console.log(d);}}};FlashRenderManager.prototype.removeVPAIDAdFromCache=function(b){try{if(!this.renderer){return;}this.renderer.callSWF("removeVPAIDAdFromCache",[b]);}catch(c){console.log(c);}};FlashRenderManager.prototype.resizeAd=function(c,g,e,b,d){if(!this.renderer){return;}try{this.renderer.callSWF("onContentVideoResized",[c,g,e,b,d]);this.renderer.callSWF("onControlTween",[c,g,e,b]);}catch(f){}};FlashRenderManager.prototype.setVolume=function(c){if(!this.renderer){return;}try{this.renderer.callSWF("setVolume",[c]);}catch(b){}};
FlashRenderManager.prototype.pauseAd=function(){if(!this.renderer){return;}try{this.renderer.callSWF("pauseAd");}catch(b){}};FlashRenderManager.prototype.resumeAd=function(){if(!this.renderer){return;}try{this.renderer.callSWF("resumeAd");}catch(b){}};a.com.yahoo.ads.flash.FlashRenderManager=FlashRenderManager;},"1.0.0",{requires:["node","ScopeLogger","AdMetricsEvent"]});YUI.add("ScopeLogger",function(a){a.namespace("com.yahoo.ads.logging");ScopeLogger=function(c){var b=c;var d=function(){};return{trace:function(e){},message:function(e){a.message(b+"::"+e,"info","VideoAdPlugin");},warning:function(e){},error:function(e){}};};a.com.yahoo.ads.logging.ScopeLogger=ScopeLogger;},"1.0.0",{requires:["node"]});YUI.add("AdComponentSettings",function(a){a.namespace("com.yahoo.ads.man");AdComponentSettings=function(){var c;var d="";var b;return{initFromArray:function(i,e){var h=[];var g="NETWORK."+e+".";var k=g.length;for(var f in i){if(f.indexOf(g)===0){var j=f.substr(k);h[j]=i[f];}}return h;},init:function(g,f,e){if(g){c=this.initFromArray(g,f);}d=f;b=e;},getComponentSettings:function(e){return new AdComponentSettings(null,e,this);},storeSetting:function(e,f){if(b){b.storeSetting(d+"."+e,f);}else{c[e]=f;}},getSetting:function(e){if(b){return b.getSetting("NETWORK."+d+"."+e);}else{return c[e];}},toString:function(){var g="";var f=0;var e;for(e in c){if(c[e].length>0){if(f>0){g+=";"+e+"="+c[e];}else{g+=e+"="+c[e];}}f++;}return g;}};};a.com.yahoo.ads.man.AdComponentSettings=AdComponentSettings;},"1.0.0",{requires:["node","ScopeLogger"]});YUI.add("ManagedConfig",function(a){a.namespace("com.yahoo.ads.man");ManagedConfig=function(){var b;return{getIsRuleGroup:function(){return true;},setData:function(c){b=c;},getData:function(){return b;}};};a.com.yahoo.ads.man.ManagedConfig=ManagedConfig;},"1.0.0",{requires:["node"]});YUI.add("ManAllocation",function(a){a.namespace("com.yahoo.ads.man");ManAllocation=function(){var b=[],d=null,c=null;return{init:function(h){var g,e,f;this.parseNetworkModules(h.NetworkModules);this.parseSettings(h.Settings);g=d["SELECTOR.ID"];e=h.AllocationModule;for(f=0;f<e.length;f++){if(e[f]["@id"]===g){c=e[f]["@uri"];}}},parseNetworkModules:function(e){var g,f;if(e instanceof Array){for(f=0;f<e.length;f++){g=new a.com.yahoo.ads.man.NetworkModule();g.init(e[f]);b.push(g);}}else{if(typeof e!=="undefined"&&e!==null){g=new a.com.yahoo.ads.man.NetworkModule();g.init(e.NetworkModule);b.push(g);}}},parseSettings:function(f){d={};for(var e in f){d[f[e]["@name"]]=f[e]["@value"];}},getNetworkModules:function(){return b;},getSettings:function(){return d;},getIsManagedConfig:function(){return false;},getIsServable:function(){return true;},getId:function(){return"";},getIsSelector:function(){return false;},getAllocationModuleUri:function(){return c;},toString1:function(){return"[ManAllocation("+c+")]";}};};a.com.yahoo.ads.man.ManAllocation=ManAllocation;},"1.0.0",{requires:["node","NetworkModule"]});YUI.add("NetworkModule",function(a){a.namespace("com.yahoo.ads.man");NetworkModule=function(){var d=null;var e=null;var c=null;var b=null;return{init:function(f){d=f;e=d["@id"];c=d["@name"];b=d["@as3uri"];},getId:function(){return e;},getName:function(){return c;},getAS3Uri:function(){return b;},toString:function(){return"NetworkModule:: id: "+e+", name: "+c+", AS3Uri: "+b;}};};a.com.yahoo.ads.man.NetworkModule=NetworkModule;},"1.0.0",{requires:["node"]});YUI.add("ParseJSON",function(a){a.namespace("com.yahoo.ads.man");ParseJSON=function(){var c=null;var b=null;return{init:function(){},getRules:function(){return b;},getAllocation:function(){return c;},parseItems:function(e){var d=e.allocation;if(typeof d!=="undefined"&&d!==null){this.parseAllocationItem(d);}var f=e.ruleGroup;if(typeof f!=="undefined"&&f!==null){this.parseRuleGroup(f);}return true;},parseAllocationItem:function(d){if(typeof d!=="undefined"&&d!==null){c=new a.com.yahoo.ads.man.ManAllocation();c.init(d);}},parseRuleGroup:function(f){b=new ManagedConfig();tmp={};for(var e=0;e<f.ruleGroup.length;e++){if(f.ruleGroup[e]["@active"]==="true"){var d=new a.com.yahoo.ads.rules.RuleGroup();d.initFromJSON(f.ruleGroup[e]);tmp[d.getid()]=d;}}b.setData(tmp);}};};a.com.yahoo.ads.man.ParseJSON=ParseJSON;},"1.0.0",{requires:["node","ManagedConfig","ManAllocation","RuleGroup","Constants"]});YUI.namespace("com.yahoo.ads.plugin");YUI.com.yahoo.ads.plugin.AdPluginEvent=function(){AdPluginEvent.EVENT_PLUGIN_READY="PluginReady";AdPluginEvent.EVENT_PLUGIN_DESTROY="PluginDestroy";AdPluginEvent.EVENT_VIDEO_AD_START="VideoAdStart";AdPluginEvent.EVENT_VIDEO_AD_END="VideoAdEnd";AdPluginEvent.EVENT_RICH_AD_START="RichAdStart";AdPluginEvent.EVENT_RICH_AD_END="RichAdEnd";AdPluginEvent.EVENT_OVERLAY_START="OverlayStart";AdPluginEvent.EVENT_OVERLAY_END="OverlayEnd";AdPluginEvent.EVENT_EXPERIENCE_COMPLETE="ExperienceComplete";AdPluginEvent.EVENT_PREPARE_VIDEO="PrepareVideo";AdPluginEvent.EVENT_VIDEO_NOAD="PluginNoAd";AdPluginEvent.EVENT_SKIN_PLAYER="skinPlayer";AdPluginEvent.EVENT_UNLOCK_PLAYINST="unlockPlaylist";AdPluginEvent.EVENT_SCALE_VIDEO="scaleVideo";AdPluginEvent.EVENT_AD_PROGRESS="blockingAdProgress";AdPluginEvent.EVENT_METRICS="metricsEvent";};YUI.add("ErrorCode",function(a){a.namespace("com.yahoo.ads.plugin");ErrorCode=function(){};ErrorCode[MonitoringBeaconEvent.EVENT_ERR_PlUGIN_INIT]="e.100.101";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_COMM_LOAD]="e.200.201";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_COMM_TIMEOUT]="e.200.202";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_COMM_INT]="e.200.203";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_ADCALL]="e.200.204";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_QUERY_LOAD]="e.300.301";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_QUERY_TIMEOUT]="e.300.302";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_QUERY_INT]="e.300.303";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_AD_LOAD]="e.400.401";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT]="e.400.402";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_AD_INT]="e.400.403";a.com.yahoo.ads.plugin.ErrorCode=ErrorCode;
},"1.0.0",{requires:["node","MonitoringBeaconEvent"]});YUI.add("EventBusSwitch",function(a){a.namespace("com.yahoo.ads.plugin");EventBusSwitch=function(){_CONSTANTS=a.com.yahoo.ads.common.Constants;this._sink=null;EventBusSwitch.prototype.setSink=function(c){this._sink=c;var b=this;this._sink.on(_CONSTANTS.VolumeChangedEvent,function(){b.redispatch(_CONSTANTS.VolumeChangedEvent,arguments);});this._sink.on(_CONSTANTS.ClientInfoChangedEvent,this.redispatch);this._sink.on(_CONSTANTS.ControlTweenEvent,this.redispatch);this._sink.on(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.redispatch);};EventBusSwitch.prototype.getSink=function(b){return this._sink;};EventBusSwitch.prototype.redispatch=function(b){this.fire(b,arguments);};EventBusSwitch.prototype.notifyAdRendered=function(){this._sink.notifyAdRendered();};EventBusSwitch.prototype.notifyVideoAdStart=function(b){this._sink.notifyVideoAdStart(b);};EventBusSwitch.prototype.notifyVideoAdEnd=function(){this._sink.notifyVideoAdEnd();};EventBusSwitch.prototype.notifyOverlayStart=function(){this._sink.notifyOverlayStart();};EventBusSwitch.prototype.notifyOverlayEnd=function(){this._sink.notifyOverlayEnd();};EventBusSwitch.prototype.notifyPluginReady=function(){this._sink.notifyPluginReady();};EventBusSwitch.prototype.notifyMetricsEvent=function(b){this._sink.notifyMetricsEvent(b);};EventBusSwitch.prototype.notifyAdMetricsEvent=function(b){this._sink.notifyAdMetricsEvent(b);};EventBusSwitch.prototype.notifyUnlockPlaylist=function(b){this._sink.notifyUnlockPlaylist(b);};EventBusSwitch.prototype.notifyAdProgress=function(b){this._sink.notifyAdProgress(b);};EventBusSwitch.prototype.notifyAdPlayback=function(b){this._sink.notifyAdPlayback(b);};EventBusSwitch.prototype.notifyAdMediaFirstByte=function(b){this._sink.notifyAdMediaFirstByte(b);};EventBusSwitch.prototype.notifyAdReady=function(b){this._sink.notifyAdReady(b);};EventBusSwitch.prototype.notifyNoAd=function(b){this._sink.notifyNoAd(b);};EventBusSwitch.prototype.notifyNullAd=function(b){this._sink.notifyNullAd(b);};EventBusSwitch.prototype.notifyAdDeliveryError=function(b){this._sink.notifyAdDeliveryError(b);};EventBusSwitch.prototype.notifyAdStartError=function(b){this._sink.notifyAdStartError(b);};EventBusSwitch.prototype.notifyAdPaused=function(b){this._sink.notifyAdPaused(b);};EventBusSwitch.prototype.notifyAdPlaying=function(b){this._sink.notifyAdPlaying(b);};a.augment(EventBusSwitch,a.EventTarget);};a.com.yahoo.ads.plugin.EventBusSwitch=EventBusSwitch;},"1.0.0",{requires:["node"]});YUI.add("Loader",function(a){a.namespace("com.yahoo.ads.plugin");Loader=function(){var b=function(){};};a.augment(Loader,a.EventTarget);Loader.COMPLETE="COMPLETE";Loader.FAILURE="FAILURE";Loader.TIMEOUT="TIMEOUT";Loader.prototype.timeoutHandler=function(){this.fire(Loader.TIMEOUT);};Loader.prototype.failureHandler=function(){this.fire(Loader.FAILURE);};Loader.prototype.successHandler=function(c){var b=this.stringToFunction(this._className);this.instance=new b();this.fire(Loader.COMPLETE);};Loader.prototype.stringToFunction=function(f){var c=f.split(".");var e=(window||this);for(var d=0,b=c.length;d<b;d++){e=e[c[d]];}if(typeof e!=="function"){console.log("typeof "+f+" is "+typeof e);throw new Error("function not found");}return e;};Loader.prototype.getInstance=function(){return this.instance;};Loader.prototype.load=function(b,c){this._className=c;a.Get.script(b,{onSuccess:this.successHandler,onFailure:this.failureHandler,onTimeout:this.timeoutHandler,context:this});};Loader.prototype.unload=function(){};a.com.yahoo.ads.plugin.Loader=Loader;},"1.0.0",{requires:["node","ScopeLogger"]});YUI.add("MonitorBeaconer",function(b){b.namespace("com.yahoo.ads.plugin");var a=function(){var ax=b.com.yahoo.ads.communicator.Ad,ar=b.com.yahoo.ads.common.Constants,p=b.com.yahoo.ads.communicator.AbstractCommunicator,q=null,s=null,aw=null,az=null,W=null,ay=null,Q=null,H=null,l=null,y=null,ae=null,M=null,P=null,D=null,c=null,B=null,an=null,aj=null,K=null,Y=null,aa=null,al=null,k=null,o=null,ai=null,i=null,ak=null,at=null,A=null,G=null,au=null,O=null,g=null,af=null,ao=null,v=null,h=ax.CACHE_STATUS_NOT_CACHED,u=YWACode.FALLBACK.FALSE,av=YWACode.FALLBACK.FALSE,V=null,aB=null,r=null,x=null,m=null,d=YWACode.FALSE,aA="",n="",L="",J=this,f=false,t=false,ad=[];YWA_AD_LOCAL_STORAGE=YWACode.FALSE;var F=function(aC,aF,aE){var aD={};aD.profilerData=aC;aD.YWAData=aF;aD.YAMASData=aE;J.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_METRIC,aD));};var I=function(aD,aG,aH,aE,aC){var aF={};aF.type=aD;aF.message=aG;aF.timeDiff=aH;aF.startTime=aE;aF.endTime=aC;return aF;};var ah=function(aC){if(!aC.isLoadingTime){aC.isLoadingTime=true;aC.startLoadingTime=(new Date()).getTime();}};var N=function(aC,aD){if(aC.isLoadingTime){aC.endLoadingTime=(new Date()).getTime();aC.diffLoadTime=aC.endLoadingTime-aC.startLoadingTime;if(aD){monitoringBeaconDict={};monitoringBeaconDict[aC.metric]=aC.diffLoadTime;}aC.isLoadingTime=false;F(I(aC.profilerMetric,aC.msg,aC.diffLoadTime,aC.startLoadingTime,aC.endLoadingTime),null,null);}};var ab=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.AD_OPP_TYPE]=g;aC[YWACode.AD_OPP_RULEID]=af;aC[YWACode.AD_OPP_TAKEN]=au;aC[YWACode.AD_OPP_PLAYCN]=v;aC[YWACode.AD_POSITION]=ao;aC[YWACode.AD_NETWORK_NAME]=O;aC[YWACode.EVENT]=YWACode.AD_OPPORTUNITY;return aC;};var am=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.AD_OPP_TYPE]=g;aC[YWACode.AD_OPP_RULEID]=af;aC[YWACode.AD_OPP_TAKEN]=au;aC[YWACode.AD_OPP_PLAYCN]=v;aC[YWACode.AD_POSITION]=ao;aC[YWACode.AD_NETWORK_NAME]=O;aC[YWACode.EVENT]=YWACode.AD_OPPORTUNITY;if(f===true){aC.timeout=1;}else{aC.timeout=2;}return aC;};var w=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.EVENT]=YWACode.PLUGIN_INIT;return aC;};var Z=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.AD_POSITION]=B;aC[YWACode.AD_TEMPORAL_PLACEMENT]=an;
aC[YWACode.AD_NETWORK_NAME]=c;aC[YWACode.AD_RESPONSE_TYPE]=P;aC[YWACode.AD_RESPONSE_CODE]=D;aC[YWACode.AD_REDIRECT]=A;aC[YWACode.REDIRECT_HOP]=G;aC[YWACode.AD_CALL_SEQUENCE]=aj;aC[YWACode.FALLBACK_AD]=av;aC[YWACode.L2_AD]=u;aC[YWACode.AD_OPP_PLAYCN]=v;aC[YWACode.AD_CACHE_HIT]=h;aC[YWACode.EVENT]=YWACode.AD_CALL;aC[YWACode.YVAP_TIMEOUT_AT_ADCALL]=V;aC[YWACode.AD_CREATIVE_ID]=L;aC[YWACode.AD_BOOKING_ID]=n;aC[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;return aC;};var S=function(aC){var aD={};aD[YWACode.ADPLUGIN_VERSION]=l;aD[YWACode.YVAP_ACCOUNT_ID]=y;aD[YWACode.AD_POSITION]=B;aD[YWACode.AD_TEMPORAL_PLACEMENT]=an;aD[YWACode.AD_NETWORK_NAME]=c;aD[YWACode.AD_RESPONSE_TYPE]=P;aD[YWACode.AD_RESPONSE_CODE]=D;aD[aC.metric]=K;aD[YWACode.AD_REDIRECT]=A;aD[YWACode.REDIRECT_HOP]=G;aD[YWACode.AD_CALL_SEQUENCE]=aj;aD[YWACode.AD_OPP_PLAYCN]=v;aD.adc=h;aD[YWACode.EVENT]=YWACode.AD_CALL;aD.timeout=V;aD.cr=L;aD.bi=n;aD.als=YWA_AD_LOCAL_STORAGE;aD.fb=av;aD.l2=u;return aD;};var e=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.AD_POSITION]=B;aC[YWACode.AD_TEMPORAL_PLACEMENT]=an;aC[YWACode.AD_NETWORK_NAME]=c;aC[YWACode.AD_RESPONSE_TYPE]=P;aC[YWACode.AD_RESPONSE_CODE]=D;aC[YWACode.AD_REDIRECT]=A;aC[YWACode.REDIRECT_HOP]=G;aC[YWACode.AD_CALL_SEQUENCE]=aj;aC[YWACode.FALLBACK_AD]=av;aC[YWACode.L2_AD]=u;aC[YWACode.AD_CACHE_HIT]=h;aC[YWACode.EVENT]=YWACode.AD_START;aC[YWACode.YVAP_TIMEOUT_AT_ADSTART]=aB;aC[YWACode.YVAP_TIMEOUT_AT_ADCALL]=V;aC[YWACode.AD_CREATIVE_ID]=L;aC[YWACode.AD_BOOKING_ID]=n;aC[YWACode.AD_OPP_PLAYCN]=v;aC[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;if(P===YWACode.RESPONSE_TYPE[ax.TYPE.VPAID.toUpperCase()]){aC[YWACode.VPAID_PREINIT_YWA]=d;}return aC;};var j=function(aC){var aD={};aD[YWACode.ADPLUGIN_VERSION]=l;aD[YWACode.YVAP_ACCOUNT_ID]=y;aD[YWACode.AD_POSITION]=B;aD[YWACode.AD_TEMPORAL_PLACEMENT]=an;aD[YWACode.AD_NETWORK_NAME]=c;aD[YWACode.AD_RESPONSE_TYPE]=P;aD[YWACode.AD_RESPONSE_CODE]=D;aD[aC.metric]=al;aD[YWACode.AD_REDIRECT]=A;aD[YWACode.REDIRECT_HOP]=G;aD[YWACode.AD_CALL_SEQUENCE]=aj;aD.fb=av;aD.l2=u;aD.adc=h;aD[YWACode.EVENT]=YWACode.AD_START;aD.timeout=aB;aD[YWACode.AD_OPP_PLAYCN]=v;if(P===YWACode.RESPONSE_TYPE[ax.TYPE.VPAID.toUpperCase()]){aD[YWACode.VPAID_PREINIT_YWA]=d;}if(f){aD.tta=H.diffLoadTime;}aD.cr=L;aD.bi=n;aD.als=YWA_AD_LOCAL_STORAGE;return aD;};var T=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.AD_POSITION]=B;aC[YWACode.AD_TEMPORAL_PLACEMENT]=an;aC[YWACode.AD_NETWORK_NAME]=c;aC[YWACode.AD_RESPONSE_TYPE]=P;aC[YWACode.AD_RESPONSE_CODE]=D;aC[YWACode.AD_REDIRECT]=A;aC[YWACode.REDIRECT_HOP]=G;aC[YWACode.AD_CALL_SEQUENCE]=aj;aC[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;aC.fb=av;aC.l2=u;aC.adc=h;aC.als=YWA_AD_LOCAL_STORAGE;return aC;};var C=function(){var aC=T();aC[YWACode.EVENT]=YWACode.AD_START_ERROR;aC[YWACode.AD_START_ERROR_QOS]=x;aC[YWACode.AD_OPP_PLAYCN]=v;aC.cr=L;aC.bi=n;return aC;};var U=function(){var aC=T();aC[YWACode.EVENT]=YWACode.AD_START_ERROR;aC[YWACode.AD_START_ERROR_YWA]=x;aC[YWACode.AD_OPP_PLAYCN]=v;return aC;};var z=function(){var aC=T();aC[YWACode.EVENT]=YWACode.AD_DELIVERY_ERROR;aC[YWACode.AD_DELIVERY_ERROR_YWA]=m;aC[YWACode.AD_OPP_PLAYCN]=v;return aC;};var E=function(){var aC=T();aC[YWACode.EVENT]=YWACode.AD_DELIVERY_ERROR;aC[YWACode.AD_DELIVERY_ERROR_QOS]=m;aC[YWACode.AD_OPP_PLAYCN]=v;aC.cr=L;aC.bi=n;return aC;};var ac=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.AD_POSITION]=B;aC[YWACode.AD_TEMPORAL_PLACEMENT]=an;aC[YWACode.AD_NETWORK_NAME]=c;aC[YWACode.AD_RESPONSE_TYPE]=P;aC[YWACode.AD_RESPONSE_CODE]=D;aC[YWACode.AD_REDIRECT]=A;aC[YWACode.REDIRECT_HOP]=G;aC[YWACode.AD_CALL_SEQUENCE]=aj;aC[YWACode.FALLBACK_AD]=av;aC[YWACode.L2_AD]=u;aC[YWACode.AD_CACHE_HIT]=h;aC[YWACode.EVENT]=YWACode.AD_MEDIA_START;aC[YWACode.AD_CREATIVE_ID]=L;aC[YWACode.AD_BOOKING_ID]=n;aC[YWACode.AD_OPP_PLAYCN]=v;aC[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;return aC;};var R=function(aC){var aD={};aD[YWACode.ADPLUGIN_VERSION]=l;aD[YWACode.YVAP_ACCOUNT_ID]=y;aD[YWACode.AD_POSITION]=B;aD[YWACode.AD_TEMPORAL_PLACEMENT]=an;aD[YWACode.AD_NETWORK_NAME]=c;aD[YWACode.AD_RESPONSE_TYPE]=P;aD[YWACode.AD_RESPONSE_CODE]=D;aD[YWACode.AD_REDIRECT]=A;aD[YWACode.REDIRECT_HOP]=G;aD[YWACode.AD_CALL_SEQUENCE]=aj;aD[aC.metric]=k;aD.fb=av;aD.l2=u;aD.adc=h;aD[YWACode.EVENT]=YWACode.AD_MEDIA_START;aD[YWACode.AD_OPP_PLAYCN]=v;if(f===true){aD.timeout=1;}else{aD.timeout=2;}if(at!==null){aD[YWACode.VAST_OVERALL]=at;}aD.ms=aA;aD.cr=L;aD.bi=n;aD.als=YWA_AD_LOCAL_STORAGE;return aD;};var X=function(aC){var aD={};aD[YWACode.ADPLUGIN_VERSION]=l;aD[YWACode.YVAP_ACCOUNT_ID]=y;aD[YWACode.AD_POSITION]=B;aD[YWACode.AD_TEMPORAL_PLACEMENT]=an;aD[YWACode.AD_NETWORK_NAME]=c;aD[YWACode.AD_RESPONSE_TYPE]=P;aD[YWACode.AD_RESPONSE_CODE]=D;aD[YWACode.AD_REDIRECT]=A;aD[YWACode.REDIRECT_HOP]=G;aD[aC.metric]=aC.diffLoadTime;aD.fb=av;aD.l2=u;aD.adc=h;aD[YWACode.AD_CALL_SEQUENCE]=aj;if(f===true){aD.timeout=1;}else{aD.timeout=2;}if(ak!==null){aD[YWACode.VPAID_OVERALL]=ak;}aD.cr=L;aD.bi=n;return aD;};var ag=function(){P="";D="";c="";B="";an="";A="";G="";aj="";K="";al="";k="";o="";ai="";i="";n="";L="";aA="";at=null;ak=null;};var aq=function(aC){if(aC.nflCase===ar.NFL_ONLOAD||aC.nflCase===ar.NFL_PREROLL){return aC.nflCase;}if(aC.mActionParams.id=="bumper"){return"BMPR";}else{if(aC.mActionParams.id=="overlay"||aC.mActionParams.id.indexOf("overlayC2V")>-1||aC.mActionParams.id.indexOf("overlayC2S")>-1){return"VIDO";}else{if(aC.mActionParams.id.indexOf("clickable")>-1||aC.mActionParams.id.indexOf("interactive")>-1||aC.mActionParams.id.indexOf("asq")>-1||aC.mActionParams.id.indexOf("interavtive-4s")>-1){return"VID";}}}return null;};var ap=function(aE){var aD=aE.getType();var aC=aE.getSubType();if(aE.nflCase===ar.NFL_ONLOAD||aE.nflCase===ar.NFL_PREROLL){return aE.nflCase;}if(aD&&aD.length>0){return aD;}else{if(aC&&aC.length>0){return aC;}else{if(aE.mActionParams.id=="overlay"||aE.mActionParams.id.indexOf("overlayC2V")>-1||aE.mActionParams.id.indexOf("overlayC2S")>-1){return"overlay";
}else{return"midroll";}}}};this.handleError=function(aE,aD){var aC=ErrorCode[aE],aH,aI,aG,aF;if(aC){monitoringBeaconDict={};monitoringBeaconDict[aC]="";F(null,null,monitoringBeaconDict);}if(!Q){Q={};}if(aE==MonitoringBeaconEvent.EVENT_ERR_REQ_GENERIC){Q.code=YWACode.RESPONSE_CODE.ERR_REQ_GENERIC;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE===MonitoringBeaconEvent.EVENT_ERR_REQ_ADTGT){Q.code=YWACode.RESPONSE_CODE.ERR_REQ_ADTGT;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE===MonitoringBeaconEvent.EVENT_ERR_RESP_GENERIC){Q.code=YWACode.RESPONSE_CODE.ERR_RESP_GENERIC;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE===MonitoringBeaconEvent.EVENT_ERR_SSL_UNSUPPORTED){Q.code=YWACode.RESPONSE_CODE.ERR_SSL_UNSUPPORTED;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE==MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT){Q.code=YWACode.RESPONSE_CODE.AD_CALL_TIMEOUT;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE===MonitoringBeaconEvent.EVENT_ERR_VMAP_PARSING){Q.code=YWACode.RESPONSE_CODE.VMAP_PARSE_ERROR;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE===MonitoringBeaconEvent.EVENT_ERR_RESP_EMPTY){Q.code=YWACode.RESPONSE_CODE.ERR_RESP_EMPTY;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE===MonitoringBeaconEvent.EVENT_ERR_RESP_PARSING){Q.code=YWACode.RESPONSE_CODE.ERR_RESP_PARSING;Q.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aE===MonitoringBeaconEvent.EVENT_AD_START_ERROR){x=YWACode.AD_START_ERROR_CODES[aD.data];aG=C();aF=U();F(null,aF,aG);}else{if(aE===MonitoringBeaconEvent.EVENT_AD_DELIVERY_ERROR){m=YWACode.AD_DELIVERY_ERROR_CODES[aD.data];aG=E();aF=z();F(null,aF,aG);}}}}}}}}}}if(aD){aH=aD;aI=aH.getRedirect();Q.redirect=aI.targetTag;Q.redirectCount=aI.count;}Q.fallback=YWACode.FALLBACK.FALSE;Q.l2Hit=YWACode.FALLBACK.FALSE;P=Q.type;D=Q.code;A=Q.redirect;G=Q.redirectCount;h=Q.cacheHit;YWA_AD_LOCAL_STORAGE=Q.localStorage;av=Q.fallback;u=Q.l2Hit;this.updateCurrentClipAds();};this.handleAction=function(aN){var aG=aN.getAction(),aH,aL,aC,aQ,aE,aP,aF,aO,aI,aM,aD,aK,aJ;aL=aN.getBeaconData();if(aG==MonitoringBeaconEvent.EVENT_PLUGIN_INIT){y=aL.account_id;l=aL.version;}else{if(aG==MonitoringBeaconEvent.EVENT_ADCALL){s.isLoadingTime=true;q={};q.isLoadingTime=false;ah(q);ag();aF=aL;an=ap(aF);B=aq(aF);c=aL.communicatorName;aj=(aL.retryCount+1);aA="";}else{if(aG==MonitoringBeaconEvent.EVENT_ADCALLEND){if(q&&q.isLoadingTime){q.metric="adl";q.profilerMetric=a.YVAP_ADCALL_LOAD_LATENCY;q.msg="Time taken to load ad from AD Network";N(q,true);K=q.diffLoadTime;P=Q.type;D=Q.code;A=Q.redirect;G=Q.redirectCount;h=Q.cacheHit;YWA_AD_LOCAL_STORAGE=Q.localStorage;av=Q.fallback;u=Q.l2Hit;c=aL;V=(f===true)?YWACode.TRUE:YWACode.FALSE;L=Q.creativeId||"";n=Q.bookingId||"";aQ=Z();aC=S(q);F(null,aQ,aC);if(t){t=false;this.updateCurrentClipAds();}}Q=null;}else{if(aG==MonitoringBeaconEvent.EVENT_ADOPPORTUNITY){s={};s.isLoadingTime=false;ah(s);au=aL.taken?a.YVAP_AD_OPPORTUNITY_TAKEN:a.YVAP_AD_OPPORTUNITY_NOT_TAKEN;g=aL.type;af=aL.rulesetId;v=aL.playContext;ao=aL.oppPosition;O=aL.networkName;aQ=ab();aC=am();F(null,aQ,aC);}else{if(aG==MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT){au=a.YVAP_AD_OPPORTUNITY_NOT_TAKEN;g=aL.type;af=0;v="";ao="bae";O="";aQ=ab();aC=am();F(null,aQ,aC);}else{if(aG==MonitoringBeaconEvent.EVENT_CLIPCHANGE){f=false;}else{if(aG==MonitoringBeaconEvent.EVENT_ADSTART){s.metric="asl";s.profilerMetric=a.YVAP_ADSTART_LATENCY;s.msg="Time taken to start an Ad after beginAdExperience";aE=s.isLoadingTime;N(s,true);if(f){H.metric="tta";H.msg="Time taken for Ad start after timeout.";H.profilerMetric=a.YVAP_TIMEOUT_TO_ADSTART_LATENCY;N(H,false);}if(aE){al=s.diffLoadTime;aB=(f===true)?YWACode.TRUE:YWACode.FALSE;aQ=e();aC=j(s);F(null,aQ,aC);aw={};aw.isLoadingTime=false;ah(aw);if(W&&!W.isLoadingTime){W.metric="avl";W.diffLoadTime=s.endLoadingTime-W.startLoadingTime;ai=W.diffLoadTime;ak=K+ai;aH=X(W);F(null,null,aH);W=null;}}}else{if(aG==MonitoringBeaconEvent.EVENT_ADDELIVERED){if(aw){aw.metric="aml";aD=aw.isLoadingTime;N(aw,true);if(aD){k=aw.diffLoadTime;if(P===YWACode.RESPONSE_TYPE.VAST){at=K+k;}if(aL){aJ=aL.mediaUrl;if(typeof aJ===ar.TYPE_OF_STRING){aA=aJ.toLowerCase().indexOf("atlas")!==-1?"A":"M";}}aQ=ac();aC=R(aw);F(null,aQ,aC);}}aw=null;this.updateCurrentClipAds();}else{if(aG==MonitoringBeaconEvent.EVENT_VALID_AD){if(!Q){Q={};}if(!aL||!aL.ad){return;}aP=aL.ad;Q.code=YWACode.RESPONSE_CODE.AD;Q.type=YWACode.RESPONSE_TYPE.VAST;Q.redirect=aP.getFirstRedirectUrl();Q.redirectCount=aP.getRedirectCount();if(!aP.isVast()){Q.type=YWACode.RESPONSE_TYPE.NON_VAST;}if(aP.getType()==ax.TYPE.VPAID){Q.type=YWACode.RESPONSE_TYPE.VPAID;}aI=aP.isFallback();Q.fallback=(aI===true)?YWACode.FALLBACK.TRUE:YWACode.FALLBACK.FALSE;aM=aP.isL2();Q.l2Hit=(aM===true)?YWACode.FALLBACK.TRUE:YWACode.FALLBACK.FALSE;aO=aP.isCached();Q.localStorage=aP.getLocalStorage()?YWACode.TRUE:YWACode.FALSE;Q.cacheHit=aP.getCacheStatus();Q.creativeId=aP.getCreativeId();Q.bookingId=aP.getBookingId();}else{if(aG==MonitoringBeaconEvent.EVENT_NOAD){if(!Q){Q={};}if(!aL||!aL.adSpec){return;}aP=aL.ad;Q.code=YWACode.RESPONSE_CODE.NO_AD;Q.type=YWACode.RESPONSE_TYPE.VAST;if(!aP.isVast()){Q.type=YWACode.RESPONSE_TYPE.NON_VAST;}if(aP.getType()==ax.TYPE.VPAID){Q.type=YWACode.RESPONSE_TYPE.VPAID;}if(!aL.ad){return;}aP=aL.ad;Q.redirect=aP.getFirstRedirectUrl();Q.redirectCount=aP.getRedirectCount();aI=aP.isFallback();Q.fallback=(aI===true)?YWACode.FALLBACK.TRUE:YWACode.FALLBACK.FALSE;aM=aP.isL2();Q.l2Hit=(aM===true)?YWACode.FALLBACK.TRUE:YWACode.FALLBACK.FALSE;aO=aP.isCached();Q.cacheHit=aP.getCacheStatus();Q.localStorage=aP.getLocalStorage()?YWACode.TRUE:YWACode.FALSE;Q.creativeId=aP.getCreativeId();Q.bookingId=aP.getBookingId();t=true;}else{if(aG==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_START){ay={};ay.isLoadingTime=false;ah(ay);}else{if(aG==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_ESTABLISHED){if(ay&&ay.isLoadingTime){ay.metric=YWACode.VPAID_SWF_LOAD_CONNECTION_LATENCY;N(ay,true);i=ay.diffLoadTime;QosVPaidSwfLoadConnectionData=X(ay);F(null,null,QosVPaidSwfLoadConnectionData);}}else{if(aG==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_START){W={};
W.isLoadingTime=false;ah(W);}else{if(aG===MonitoringBeaconEvent.EVENT_VPAID_SWF_PREINITED){d=YWACode.TRUE;}else{if(aG==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_END){if(W&&W.isLoadingTime){W.metric="vsl";W.profilerMetric=a.YVAP_VPAIDSWF_LOAD_LATENCY;W.msg="Time taken to load vpaid swf from network";N(W,true);o=W.diffLoadTime;aH=X(W);F(null,null,aH);}}else{if(aG===MonitoringBeaconEvent.EVENT_PLAYER_TIMEOUT){f=true;H={};H.isLoadingTime=false;ah(H);}else{this.handleError(aG,aL);}}}}}}}}}}}}}}}}};this.showLatenciesInAdInspector=function(){if(c&&c.indexOf(p.NAME.PREVIEW)===0){if(window.showLatencies){window.showLatencies(ad);}}};this.updateCurrentClipAds=function(){ad.push(this.getMonitoringData());this.showLatenciesInAdInspector();};this.resetCurrentClipAdInfo=function(){ad=[];};this.getMonitoringDataArr=function(){return ad;};this.getMonitoringData=function(){var aC={};aC[YWACode.ADPLUGIN_VERSION]=l;aC[YWACode.YVAP_ACCOUNT_ID]=y;aC[YWACode.AD_RESPONSE_TYPE]=P;aC[YWACode.AD_RESPONSE_CODE]=D;aC[YWACode.AD_NETWORK_NAME]=c;aC[YWACode.AD_POSITION]=B;aC[YWACode.AD_TEMPORAL_PLACEMENT]=an;aC[YWACode.AD_CALL_SEQUENCE]=aj;aC[YWACode.AD_CALL_LATENCY]=K;aC[YWACode.AD_START_LATENCY]=al;aC[YWACode.AD_MEDIA_LATENCY]=k;aC[YWACode.AD_REDIRECT]=A;aC[YWACode.REDIRECT_HOP]=G;aC[YWACode.AD_OPP_TAKEN]=au;aC[YWACode.AD_NETWORK_NAME]=O;aC[YWACode.AD_OPP_TYPE]=g;aC[YWACode.AD_OPP_RULEID]=af;aC[YWACode.AD_POSITION]=ao;aC[YWACode.AD_OPP_PLAYCN]=v;aC[YWACode.AD_CACHE_HIT]=h;aC[YWACode.AD_FALLBACK]=av;aC[YWACode.L2_AD]=u;aC[YWACode.AD_BOOKING_ID]=n;aC[YWACode.AD_CREATIVE_ID]=L;aC[YWACode.AD_MEDIASTORE]=aA;aC[YWACode.VPAID_SWF_LOAD_LATENCY]=o;aC[YWACode.VPAID_TOTAL_LATENCY]=ai;aC[YWACode.VPAID_SWF_LOAD_CONNECTION_LATENCY]=i;aC[YWACode.YVAP_TIMEOUT_AT_ADCALL]=V;aC[YWACode.YVAP_TIMEOUT_AT_ADSTART]=aB;aC[YWACode.AD_START_ERROR]=x;aC[YWACode.VAST_OVERALL]=at;aC[YWACode.VPAID_OVERALL]=ak;return aC;};};a.BUCKET_PATH="/3/qos";a.MANHATTAN_BASE_URL="http://qos.video.yimg.com";a.YVAP_PATH="/yvap";a.YWA_BASE_URL="http://z.analytics.yahoo.com/p.pl";a.YWA_PROJECT_ID="1000115488662";a.YAMAS="YVAP_YAMAS";a.YWA="YVAP_YWA";a.YVAP_ADCALL_LOAD_LATENCY="YVAP_ADCALL_LOAD_LATENCY";a.YVAP_QUERY_LOAD_LATENCY="YVAP_QUERY_LOAD_LATENCY";a.YVAP_QUERY_PROCESS_LATENCY="YVAP_QUERY_PROCESS_LATENCY";a.YVAP_COMM_LOAD_LATENCY="YVAP_COMM_LOAD_LATENCY";a.YVAP_ADSTART_LATENCY="YVAP_ADSTART_LATENCY";a.YVAP_PLUGIN_READY_LATENCY="YVAP_PLUGIN_READY_LATENCY";a.YVAP_VPAIDSWF_LOAD_LATENCY="YVAP_VPAIDSWF_LOAD_LATENCY";a.YVAP_TIMEOUT_TO_ADSTART_LATENCY="YVAP_TIMEOUT_TO_ADSTART_LATENCY";a.YVAP_AD_OPPORTUNITY_TAKEN=1;a.YVAP_AD_OPPORTUNITY_NOT_TAKEN=2;b.augment(a,b.EventTarget);b.com.yahoo.ads.plugin.MonitorBeaconer=a;},"1.0.0",{requires:["node","io-base","ErrorCode","YWACode","MonitoringBeaconEvent","ScopeLogger","Constants","AbstractCommunicator"]});YUI.add("MonitoringBeaconEvent",function(a){a.namespace("com.yahoo.ads.plugin");MonitoringBeaconEvent=function(e,d){var c=d;var b=e;this.setBeaconData=function(f){c=f;};this.getBeaconData=function(){return c;};this.setAction=function(f){b=f;};this.getAction=function(){return b;};this.getName=function(){return MonitoringBeaconEvent.EVENT_NAME;};};MonitoringBeaconEvent.EVENT_NAME="MonitoringBeaconEvent";MonitoringBeaconEvent.EVENT_PLUGIN_INIT="PluginInit";MonitoringBeaconEvent.EVENT_PLUGINLOAD_START="PluginLoadStart";MonitoringBeaconEvent.EVENT_PLUGINLOAD_END="PluginLoadEnd";MonitoringBeaconEvent.EVENT_COMMLOAD_START="CommunicatorLoadStart";MonitoringBeaconEvent.EVENT_COMMLOAD_END="CommunicatorLoadEnd";MonitoringBeaconEvent.EVENT_ADCALLLOAD_START="AdCallLoadStart";MonitoringBeaconEvent.EVENT_ADCALLLOAD_END="AdCallLoadEnd";MonitoringBeaconEvent.EVENT_QUERYLOAD_START="QueryLoadStart";MonitoringBeaconEvent.EVENT_QUERYLOAD_END="QueryLoadEnd";MonitoringBeaconEvent.EVENT_QUERYPROCESS_START="QueryProcessStart";MonitoringBeaconEvent.EVENT_QUERYPROCESS_END="QueryProcessEnd";MonitoringBeaconEvent.EVENT_CONTENTCOMPLETE="ContentComplete";MonitoringBeaconEvent.EVENT_PODSTART="PodStart";MonitoringBeaconEvent.EVENT_CLIPCHANGE="ClipChange";MonitoringBeaconEvent.EVENT_ADSTART="AdStart";MonitoringBeaconEvent.EVENT_VALID_AD="ValidAd";MonitoringBeaconEvent.EVENT_NOAD="NoAd";MonitoringBeaconEvent.EVENT_NULLAD="NullAd";MonitoringBeaconEvent.EVENT_ADCALL="AdCall";MonitoringBeaconEvent.EVENT_ADCALLEND="AdCallEnd";MonitoringBeaconEvent.EVENT_ADOPPORTUNITY="AdOpportunity";MonitoringBeaconEvent.EVENT_ADDELIVERED="AdDelivered";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_START="VPaidSwfLoadStart";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_END="VPaidSwfLoadEnd";MonitoringBeaconEvent.EVENT_VPAID_SWF_PREINITED="VPaidPreInited";MonitoringBeaconEvent.EVENT_PLAYER_TIMEOUT="PlayerTimeOut";MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT="AdOpportunityInit";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_START="VPaidSwfLoadConnectionStart";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_ESTABLISHED="VPaidSwfLoadConnectionEstablished";MonitoringBeaconEvent.EVENT_ERR_PlUGIN_INIT="PluginInitError";MonitoringBeaconEvent.EVENT_ERR_COMM_LOAD="CommunicatorLoadError";MonitoringBeaconEvent.EVENT_ERR_COMM_INT="CommunicatorInternalError";MonitoringBeaconEvent.EVENT_ERR_COMM_TIMEOUT="CommunicatorTimeoutError";MonitoringBeaconEvent.EVENT_ERR_VMAP_PARSING="VmapParsing";MonitoringBeaconEvent.EVENT_ERR_PARSING="ParsingError";MonitoringBeaconEvent.EVENT_ERR_QUERY_LOAD="QueryLoadError";MonitoringBeaconEvent.EVENT_ERR_QUERY_INT="QueryInternalError";MonitoringBeaconEvent.EVENT_ERR_QUERY_TIMEOUT="QueryTimeoutError";MonitoringBeaconEvent.EVENT_ERR_AD_INT="AdInternalError";MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT="AdTimeoutError";MonitoringBeaconEvent.EVENT_ERR_AD_LOAD="AdLoadError";MonitoringBeaconEvent.EVENT_ERR_ADCALL="AdCallError";MonitoringBeaconEvent.EVENT_ERR_SSL_NOT_SUPPORTED="SSLNotSupported";MonitoringBeaconEvent.EVENT_PROFILER="AdPluginProfiler";MonitoringBeaconEvent.EVENT_METRIC="AdPluginMetric";MonitoringBeaconEvent.EVENT_AD_DELIVERY_ERROR="AdDeliveryError";MonitoringBeaconEvent.EVENT_AD_START_ERROR="AdStartError";
MonitoringBeaconEvent.EVENT_ERR_REQ_GENERIC="EVENT_ERR_REQ_GENERIC";MonitoringBeaconEvent.EVENT_ERR_REQ_ADTGT="EVENT_ERR_REQ_ADTGT";MonitoringBeaconEvent.EVENT_ERR_RESP_GENERIC="EVENT_ERR_RESP_GENERIC";MonitoringBeaconEvent.EVENT_ERR_RESP_EMPTY="EVENT_ERR_RESP_EMPTY";MonitoringBeaconEvent.EVENT_ERR_RESP_PARSING="EVENT_ERR_RESP_PARSING";MonitoringBeaconEvent.EVENT_ERR_SSL_UNSUPPORTED="EVENT_ERR_SSL_UNSUPPORTED";a.com.yahoo.ads.plugin.MonitoringBeaconEvent=MonitoringBeaconEvent;},"1.0.0",{requires:["node"]});YUI.add("SessionTimer",function(a){a.namespace("com.yahoo.ads.plugin");SessionTimer=function(b,m){var e=0;var f=1;var g=10;var i=1000;var k=b;var j=0;var c=0;var l="";var d="";var h=[];if(m){d=getTimer();l=setInterval(intervalCallback,g);c=e;}else{c=f;}this._getId=function(){return k;};this._getElapsed=function(){return j;};this._getState=function(){return c;};this._getIntervalId=function(){return l;};this._getLastTimerPos=function(){return d;};this._getQuepoints=function(){return h;};this._setId=function(n){k=n;};this._setElapsed=function(n){j=n;};this._setState=function(n){c=n;};this._setIntervalId=function(){h=val;};this._setLastTimerPos=function(n){d=n;};this._setQuepoints=function(){h=val;};};SessionTimer.prototype.addQuepoint=function(c){var d=this._getQuepoints()[c.time];if(!d){d=[];this._getQuepoints()[c.time]=d;}d.push(c);for(var b in this._getQuepoints()){}};SessionTimer.prototype.getId=function(){return this._getId();};SessionTimer.prototype.pause=function(){if(this._getState()===STATE_RUNNING){clearInterval(this._getIntervalId());var b=getTimer();this._setElapsed(this._getElapsed+(b-mLastTimerPos)/1000);this._setLastTimerPos(0);this._setState(STATE_PAUSED);this.notifyPAUSED();}};SessionTimer.prototype.resume=function(){if(this._getState()===STATE_PAUSED){this._setState(STATE_RUNNING);this._setLastTimerPos(getTimer());this._setIntervalId(setInterval(this.intervalCallback,UPDATE_INTERVAL));this.notifyRESUMED();}};SessionTimer.prototype.getElapsed=function(){return Math.floor(this._getElapsed()*(1000/REFRESH_RESOLUTION))/(1000/REFRESH_RESOLUTION);};SessionTimer.prototype.reset=function(){this._setElapsed(0);this.notifyADVANCED();};SessionTimer.prototype.intervalCallback=function(){var e=getTimer();if(this._getLastTimerPos!==0){this._setElapsed(this._getElapsed()+(e-mLastTimerPos)/1000);}var f=false;if(Math.floor(e/REFRESH_RESOLUTION)-Math.floor(this._getLastTimerPos()/REFRESH_RESOLUTION)>0){f=true;}this._setLastTimerPos(e);if(f){this.notifyADVANCED();}var d=this._getQuepoints()[Math.floor(this._getElapsed())];if(d){for(var c in d){var b=d[c];if(!b.fired||b.fired===false){b.fired=true;this.notifyCUEPOINT();}}}};SessionTimer.prototype.getTotalTime=function(){return null;};SessionTimer.prototype.notifyCOMPLETE=function(){this.fire("complete");};SessionTimer.prototype.notifyPAUSED=function(){this.fire("paused");};SessionTimer.prototype.notifyRESUMED=function(){this.fire("resumed");};SessionTimer.prototype.notifyADVANCED=function(){this.fire("advanced");};SessionTimer.prototype.notifyCUEPOINT=function(){this.fire("cuepoint");};a.augment(SessionTimer,a.EventTarget);a.com.yahoo.ads.plugin.SessionTimer=SessionTimer;},"1.0.0",{requires:["node","SessionTimer","ScopeLogger","event-custom"]});YUI.add("StreamAdManager",function(b){b.namespace("com.yahoo.ads");var a=function(d,c){this._bitrateSend=false;this.rules={};this._plugin=d;this.config=c;this.expandBeacon=function(e,h){var j,f=/\{(\w)+\}/g,g=h.getParams();var i=function(m){var o=/(\w)+/g,k=m.match(o),n=k[0],p="";if(n.toLowerCase()==="beap_client_event"){for(var l in g){p+=l+"$"+g[l]+",";}p=p.substring(0,p.length-1);return p;}else{if(n.toLowerCase()==="1x1pixel"){return PIXEL_URL;}else{if(typeof g[n]!=="undefined"&&g[n]!==null){return g[n];}else{isBeaconExpansionOk=false;return m;}}}};j=e.replace(f,i);return j;};this.sendBeacon=function(e){if(e){var f=document.createElement("img");f.src=e;f.style.display="none";}};};a.prototype.setSink=function(d){var c=this;this._sink=d;this._sink.on(_CONSTANTS.VolumeChangedEvent,function(){c.redispatch(_CONSTANTS.VolumeChangedEvent,arguments);});this._sink.on(_CONSTANTS.ClientInfoChangedEvent,this.redispatch);this._sink.on(_CONSTANTS.ControlTweenEvent,this.redispatch);this._sink.on(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.redispatch);};a.prototype.getSink=function(c){return this._sink;};a.prototype.redispatch=function(c){this.fire(c,arguments);};a.prototype.notifyAdRendered=function(){this._sink.notifyAdRendered();};a.prototype.notifyVideoAdStart=function(c){this._sink.notifyVideoAdStart(c);};a.prototype.notifyVideoAdEnd=function(){this._sink.notifyVideoAdEnd();};a.prototype.notifyOverlayStart=function(){this._sink.notifyOverlayStart();};a.prototype.notifyOverlayEnd=function(){this._sink.notifyOverlayEnd();};a.prototype.notifyPluginReady=function(){this._sink.notifyPluginReady();};a.prototype.notifyMetricsEvent=function(c){this._sink.notifyMetricsEvent(c);};a.prototype.notifyAdMetricsEvent=function(d){var m,k,e,f,g,c=d.getEventId(),j=d.getEventData(),l=(c.toLowerCase()==="impression")?j:c;if(l==="bitrate"&&this._bitrateSend){return;}m=d.getAd();if(typeof m.beacons!=="undefined"&&m.beacons!==null){k=m.beacons[l];if(typeof k!=="undefined"&&k!==null){e="";for(var h=0;h<k.length;h++){f=k[h];g=f.url;e=this.expandBeacon(g,d);this.sendBeacon(e);}}}if(l==="bitrate"){this._bitrateSend=true;}};a.prototype.notifyUnlockPlaylist=function(c){this._sink.notifyUnlockPlaylist(c);};a.prototype.notifyAdProgress=function(c){this._sink.notifyAdProgress(c);};a.prototype.notifyAdPlayback=function(c){this._sink.notifyAdPlayback(c);};a.prototype.notifyAdMediaFirstByte=function(c){this._sink.notifyAdMediaFirstByte(c);};a.prototype.notifyAdReady=function(c){this._sink.notifyAdReady(c);};a.prototype.notifyNoAd=function(c){this._sink.notifyNoAd(c);};a.prototype.notifyNullAd=function(c){this._sink.notifyNullAd(c);};a.prototype.beginAd=function(){var e=this.config.streamAd.xml,d=new b.com.yahoo.ads.communicator.Ad(),f=new b.com.yahoo.ads.communicator.parser.ParserManager(),c=f.parseAd(e,d)[0];
this._plugin.notifyAdReady(c);};b.augment(a,b.EventTarget);b.com.yahoo.ads.StreamAdManager=a;},"1.0.0",{});YUI.add("Timer",function(a){a.namespace("com.yahoo.ads.plugin");Timer=function(c,b){this._timer=null;this._count=0;this._tickQueue=[];this._completeQueue=[];this._running=false;this._repeatCount=b;this._delay=c;};Timer.prototype.getTimeout=function(){var b=1;if(this._count>1){b=this._count;}return this._delay*b;};Timer.prototype.processQueue=function(c){if(c&&c.length>0){for(var e=0;e<c.length;e++){var g=c[e];var b=g.context;var f=g.method;if(!f){return;}var d=g.args;if(d&&d.length>0){f.apply(b,d);}else{if(b){f.apply(b);}else{f.call();}}}}};Timer.prototype.processTickQueue=function(){this._count++;if(this._count>=this._repeatCount){this.processCompleteQueue();}else{this.processQueue(this._tickQueue);}};Timer.prototype.processCompleteQueue=function(){if(this._timer){this._timer.cancel();}this._running=false;this.processQueue(this._completeQueue);};Timer.prototype.running=function(){return this._running;};Timer.prototype.reset=function(){this._timer.cancel();this._count=0;};Timer.prototype.start=function(){this._running=true;var b=false;if(this._repeatCount>0){b=true;}this._timer=a.later(this._delay,this,this.processTickQueue,null,b);};Timer.prototype.stop=function(){this.processCompleteQueue();};Timer.prototype.addFunctionOnTick=function(b,d,c){this._tickQueue.push({context:b,method:d,args:c});};Timer.prototype.addFunctionOnComplete=function(b,d,c){this._completeQueue.push({context:b,method:d,args:c});};a.com.yahoo.ads.plugin.Timer=Timer;},"1.0.0",{requires:["node"]});YUI.add("YEPVideoTimeline",function(a){a.namespace("com.yahoo.ads.plugin");YEPVideoTimeline=function(){YEPVideoTimeline.superclass.constructor.call(this,"videoTimeline",false);var d=0;var b=0;var c=-1;this.setTotalDuration=function(e){d=e;};this.setPlayheadPosition=function(f){b=f;var e=Math.floor(b);if(Math.abs(e-c)>0){c=e;this.notifyADVANCED();}};this.getElapsed=function(){return c;};this.getTotalDuration=function(){return d;};this.pause=function(){this.notifyPAUSED();};this.resume=function(){this.notifyRESUMED();};};a.augment(YEPVideoTimeline,a.EventTarget);a.extend(YEPVideoTimeline,a.com.yahoo.ads.plugin.SessionTimer);a.com.yahoo.ads.plugin.YEPVideoTimeline=YEPVideoTimeline;},"1.0.0",{requires:["node","SessionTimer","ScopeLogger","event-custom"]});YUI.add("YWACode",function(a){a.namespace("com.yahoo.ads.plugin");YWACode=function(){};YWACode.EVENT="vx";YWACode.ADPLUGIN_VERSION="cf02";YWACode.YVAP_ACCOUNT_ID="cf03";YWACode.AD_RESPONSE_CODE="cf47";YWACode.AD_RESPONSE_TYPE="cf48";YWACode.AD_NETWORK_NAME="cf60";YWACode.AD_POSITION="cf65";YWACode.AD_REDIRECT="cf66";YWACode.YVAP_TIMEOUT_AT_ADCALL="cf67";YWACode.AD_TEMPORAL_PLACEMENT="cf68";YWACode.YVAP_TIMEOUT_AT_ADSTART="cf69";YWACode.REDIRECT_HOP="cf70";YWACode.AD_OPP_TYPE="cf80";YWACode.AD_OPP_RULEID="cf81";YWACode.AD_OPP_TAKEN="cf82";YWACode.AD_OPP_PLAYCN="cf61";YWACode.AD_CALL_SEQUENCE="cf84";YWACode.FALLBACK_AD="cf56";YWACode.L2_AD="cf100";YWACode.AD_CACHE_HIT="cf250";YWACode.AD_START_ERROR_YWA="cf92";YWACode.AD_DELIVERY_ERROR_YWA="cf93";YWACode.VPAID_PREINIT_YWA="cf95";YWACode.AD_CREATIVE_ID="cf89";YWACode.AD_BOOKING_ID="cf90";YWACode.AD_LOCAL_STORAGE="cf96";YWACode.AD_CALL="7";YWACode.PLUGIN_INIT="8";YWACode.AD_MEDIA_START="11";YWACode.AD_START="12";YWACode.AD_OPPORTUNITY="16";YWACode.AD_START_ERROR="17";YWACode.AD_DELIVERY_ERROR="18";YWACode.AD_MEDIASTORE="ms";YWACode.AD_FALLBACK="fb";YWACode.AD_CALL_LATENCY="adl";YWACode.AD_START_LATENCY="asl";YWACode.VPAID_SWF_LOAD_CONNECTION_LATENCY="vsc";YWACode.VPAID_SWF_LOAD_LATENCY="vsl";YWACode.VPAID_TOTAL_LATENCY="avl";YWACode.AD_MEDIA_LATENCY="aml";YWACode.VPAID_OVERALL="vpo";YWACode.VAST_OVERALL="vso";YWACode.AD_START_ERROR_QOS="asec";YWACode.AD_DELIVERY_ERROR_QOS="adec";YWACode.AD_START_ERROR_CODES={FLASH_SECURITY_ERROR:109,FLASH_IO_ERROR:110,FLASH_ASYNC_ERROR:111,FLASH_GENERIC_ERROR:112,FLASH_VPAID_ERROR:113,INCOMPATIBLE_MEDIA:120};YWACode.AD_DELIVERY_ERROR_CODES={FLASH_MEDIA_PLAYBACK_ERROR:114,FLASH_SECURITY_ERROR:115,FLASH_IO_ERROR:116,FLASH_ASYNC_ERROR:117};YWACode.RESPONSE_CODE={"NO_AD":1,"AD":2,"AD_CALL_TIMEOUT":102,"ERR_REQ_GENERIC":104,"ERR_SSL_UNSUPPORTED":121,"ADPLUGIN_TIMEOUT":105,"VMAP_PARSE_ERROR":107,"ERR_RESP_PARSING":108,"ERR_REQ_ADTGT":122,"ERR_RESP_GENERIC":123,"ERR_RESP_EMPTY":124};YWACode.RESPONSE_TYPE={NON_VAST:1,VAST:2,NO_AD:3,VPAID:4,ERROR:106};YWACode.FALLBACK={TRUE:1,FALSE:2};YWACode.CACHEHIT={TRUE:1,FALSE:2};YWACode.TRUE=1;YWACode.FALSE=2;a.com.yahoo.ads.plugin.YWACode=YWACode;},"1.0.0",{requires:["node"]});YUI.add("AdRenderer",function(a){a.namespace("com.yahoo.ads.renderer");AdRenderer=function(){var g=null;this._container=null;var j=null;var o=null;var l=null;var p=0;var f=false;var d=false;var h=null;var k=null;var i=null;var n=null;AdEvent=a.com.yahoo.ads.event.AdEvents;BeaconEventData=a.com.yahoo.ads.event.BeaconEventData;_CONSTANTS=a.com.yahoo.ads.common.Constants;var c=null;var e=null;var m=this;this.configureEventBusListeners=function(){l.on(_CONSTANTS.ClientInfoChangedEvent,this.onClientInfoChanged,this);l.on(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.onContentVideoComplete,this);l.on(_CONSTANTS.ControlTweenEvent,this.onClientInfoChanged,this);l.on(_CONSTANTS.VolumeChangedEvent,this.setCreativeVolume,this);};this.removeEventBusListeners=function(){l.detach(_CONSTANTS.ClientInfoChangedEvent,this.onClientInfoChanged);l.detach(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.onContentVideoComplete);l.detach(_CONSTANTS.ControlTweenEvent,this.onClientInfoChanged);l.detach(_CONSTANTS.VolumeChangedEvent,this.setCreativeVolume);};this.configureTemplateListeners=function(q){q.on(AdEvent.AdStarted,this.onAdStarted,this);q.on(AdEvent.AdStopped,this.onAdStopped,this);q.on(AdEvent.AdProgress,this.onAdProgress,this);q.on(AdEvent.AdPlayback,this.onAdPlayback,this);q.on(AdEvent.AdMediaFirstByte,this.onAdMediaFirstByte,this);q.on(AdEvent.AdLinearChange,this.onAdLinearChange,this);q.on(AdEvent.AdExpandedChange,this.onAdExpandedChange,this);
q.on(AdEvent.AdRemainingTimeChange,this.onAdRemainingTimeChange,this);q.on(AdEvent.AdVolumeChange,this.onAdVolumeChange,this);q.on(AdEvent.AdMouseOver,this.notifyMetrics,this);q.on(AdEvent.AdClick,this.notifyMetrics,this);q.on(AdEvent.AdImpression,this.notifyMetrics,this);q.on(AdEvent.AdClickThru,this.notifyMetrics,this);q.on(AdEvent.AdVideoStart,this.notifyMetrics,this);q.on(AdEvent.AdVideoFirstQuartile,this.notifyMetrics,this);q.on(AdEvent.AdVideoMidpoint,this.notifyMetrics,this);q.on(AdEvent.AdVideoThirdQuartile,this.notifyMetrics,this);q.on(AdEvent.AdVideoComplete,this.notifyMetrics,this);q.on(BeaconEventData.BITRATE,this.notifyMetrics,this);q.on(BeaconEventData.CPCV,this.notifyMetrics,this);q.on(AdEvent.AdUserAcceptInvitation,this.onAdUserAcceptInvitation,this);q.on(AdEvent.AdUserMinimize,this.onAdUserMinimize,this);q.on(AdEvent.AdUserClose,this.onAdUserClose,this);q.on(AdEvent.AdPaused,this.onAdPaused,this);q.on(AdEvent.AdPlaying,this.onAdPlaying,this);q.on(AdEvent.AdError,this.onAdError,this);q.on(AdEvent.AdLog,this.onAdLog,this);};this.removeTemplateListeners=function(q){q.detach(AdEvent.AdStarted);q.detach(AdEvent.AdStopped);q.detach(AdEvent.AdProgress);q.detach(AdEvent.AdPlayback);q.detach(AdEvent.AdMediaFirstByte);q.detach(AdEvent.AdLinearChange);q.detach(AdEvent.AdExpandedChange);q.detach(AdEvent.AdRemainingTimeChange);q.detach(AdEvent.AdVolumeChange);q.detach(AdEvent.AdMouseOver);q.detach(AdEvent.AdClick);q.detach(AdEvent.AdImpression);q.detach(AdEvent.AdClickThru);q.detach(AdEvent.AdVideoStart);q.detach(AdEvent.AdVideoFirstQuartile);q.detach(AdEvent.AdVideoMidpoint);q.detach(AdEvent.AdVideoThirdQuartile);q.detach(AdEvent.AdVideoComplete);q.detach(BeaconEventData.BITRATE);q.detach(BeaconEventData.CPCV);q.detach(AdEvent.AdUserAcceptInvitation);q.detach(AdEvent.AdUserMinimize);q.detach(AdEvent.AdUserClose);q.detach(AdEvent.AdPaused);q.detach(AdEvent.AdPlaying);q.detach(AdEvent.AdError);q.detach(AdEvent.AdLog);};this.onAdStarted=function(q){this.fire(_CONSTANTS.EVENT_VIDEO_AD_START,{type:_CONSTANTS.EVENT_VIDEO_AD_START});};this.onAdPlayback=function(q){this.fire(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK,{type:_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK});};this.onAdMediaFirstByte=function(){this.fire(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE,{type:_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE});};this.onAdProgress=function(q){this.fire(_CONSTANTS.EVENT_AD_PROGRESS,{type:_CONSTANTS.EVENT_AD_PROGRESS,position:q.position,totalDuration:q.totalDuration});};this.onAdStopped=function(r){try{this.unloadOverlay();}catch(q){}};this.onAdError=function(r){try{this.unloadOverlay();}catch(q){}};this.onAdLinearChange=function(r){if(typeof i==="undefined"||i===null){return;}var q=i.adLinear;if(q){if(!f){var s={adslug:true,timer:true,scale:true,volume:false};l.notifyVideoAdStart(s);f=true;d=true;}}else{if(!q){if(f){l.notifyVideoAdEnd();f=false;}}}};this.onAdExpandedChange=function(q){if(typeof i!=="undefined"&&i!==null){}};this.updateRemainingTime=function(){_lastRemainingTime=i.adRemainingTime;if(_totalAdDuration<=0){_totalAdDuration=i.adRemainingTime;}if(isNaN(_totalAdDuration)){_totalAdDuration=-1;}if(this._adProgressTimer){this._adProgressTimer.stop();this._adProgressTimer=null;}this._adProgressTimer=new a.com.yahoo.ads.plugin.Timer(200);this._adProgressTimer.addFunctionOnTick(function(){var q=_totalAdDuration-i.adRemainingTime;if(_totalAdDuration>0||q>0){l.notifyAdProgress(q,_totalAdDuration);}});this._adProgressTimer.start();};this.onAdRemainingTimeChange=function(q){if(isNaN(_totalAdDuration)||_totalAdDuration<=0){_totalAdDuration=i.adRemainingTime;_lastRemainingTime=-1;}if(i.adRemainingTime===0||(_lastRemainingTime!==-1&&(_lastRemainingTime<i.adRemainingTime))){_totalAdDuration=0;_lastRemainingTime=-1;if(i.adRemainingTime>0){_totalAdDuration=i.adRemainingTime;}}if(this._adProgressTimer){this._adProgressTimer.stop();this._adProgressTimer=null;}this._adProgressTimer=new a.com.yahoo.ads.plugin.Timer(200);};this.onAdVolumeChange=function(q){if(typeof i!=="undefined"&&i!==null){}};this.onAdUserAcceptInvitation=function(q){};this.onAdUserMinimize=function(q){};this.onAdUserClose=function(q){this.unloadOverlay();};this.onAdPaused=function(q){};this.onAdPlaying=function(q){};this.onAdLog=function(q){};this.notifyMetrics=function(v){var q="";var t="";var u=null;var s=0;var w=0;if(v.ad_duration){s=v.ad_duration;}w=g.getSkip_directive();if(v.type===AdEvent.AdImpression){q=BeaconEventData.IMPRESSION;t=BeaconEventData.IMPRESSION;u="";}else{if(v.type===AdEvent.AdVideoStart){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK0;u={"type":BeaconEventData.PLAYBACK,"value":0,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoFirstQuartile){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK25;u={"type":BeaconEventData.PLAYBACK,"value":25,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoMidpoint){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK50;u={"type":BeaconEventData.PLAYBACK,"value":50,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoThirdQuartile){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK75;u={"type":BeaconEventData.PLAYBACK,"value":75,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoComplete){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK100;u={"type":BeaconEventData.PLAYBACK,"value":100,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdClickThru){q=BeaconEventData.CLICKTHROUGH;t=BeaconEventData.CLICKTHROUGH;if(typeof v.click_url!=="undefined"&&v.click_url!==null){u={"CLICKURL":v.click_url};}else{u={"CLICKURL":"http://ads.yimg.com/a/a/vdo/a/pixel.gif"};}}else{if(v.type===BeaconEventData.BITRATE){q=BeaconEventData.BITRATE;t=BeaconEventData.BITRATE;u={"type":BeaconEventData.BITRATE,"value":v.chosenBitrate};m.fire(_CONSTANTS.EVENT_VIDEO_AD_DISPLAY);}else{if(v.type===BeaconEventData.CPCV){q=BeaconEventData.CPCV;
t=BeaconEventData.CPCV;u={"type":BeaconEventData.CPCV,"value":v.value,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdMouseOver){q=BeaconEventData.INTERACTION;t=BeaconEventData.MOUSE_OVER;u={"type":BeaconEventData.MOUSE_OVER,"time":v.diff,"seq":v.mouseOverCount};}else{if(v.type===AdEvent.AdClick){q=BeaconEventData.INTERACTION;t=BeaconEventData.CLICK;u={"type":BeaconEventData.CLICK,"time":v.diff,"seq":v.mouseClickCount};}else{if(v.type===AdEvent.AdMediaPlaybackError){q=_CONSTANTS.IMPRESSION;t=_CONSTANTS.REDIRECT_NOAD;u={"type":_CONSTANTS.REDIRECT_NOAD,"err_code":_CONSTANTS.ERROR_CODES.INCOMPATIBLE_MEDIA};}}}}}}}}}}}}if(typeof u!=="undefined"&&u!==null){var r=new a.com.yahoo.ads.event.AdMetricsEvent(q,t,g.getUrl(),u,g.getJson());m.fire(q,{type:q,data:r});}};this.notifyPlugin=function(r){this.dispatchEvent(r);switch(r.type){case"displayReady":l.notifyAdRendered();break;case"pauseContentVideo":if(!f){var s=null;if(r.hasOwnProperty("playerData")){s=r.playerData;}if(r.message=="noCover"){if(typeof s==="undefined"||s===null){s={};}s.enableBlackScreen=false;}l.notifyVideoAdStart(s);d=true;f=true;}break;case"playContentVideo":if(f){l.notifyVideoAdEnd();f=false;}break;case"holdContentVideo":l.notifyRichAdStart();break;case"initiateCloseCreative":var q=f;cancel();if(q){if(f){l.notifyVideoAdEnd();l.notifyVamEnd();f=false;}}else{l.notifyAdClosing();}break;case"unlockPlaylist":l.notifyUnlockPlaylist(new AdUnlockPlaylistEvent(r.message));break;}};var b=function(s,r){var t=g.getMediaFiles(s);var v=0;var u=Number.MAX_VALUE;if(t){var q=v;for(q in t){if(q>v&&q<=r){v=q;}if(q<u){u=q;}}if(v>0){return v;}else{if(t[u]){return u;}}}return null;};this.cancel=function(){if(n!==null&&typeof n!=="undefined"){n.cancelAd();this.removeTemplateListeners(n);n=null;}};this.render=function(C,u,t,y,B){j=u;o=t;g=C;n=new a.com.yahoo.ads.renderer.templates.Template(this._container);this.configureTemplateListeners(n);var w=null;for(var v=0;v<AdRenderer.HTML5_VIDEO_FORMATS.length;v++){format=AdRenderer.HTML5_VIDEO_FORMATS[v];if(this._container.canPlayType(format)!==AdRenderer.HTML5_PLAY_CAPABILITY.NO_SUPPORT){p=b(format,j.bitrate);break;}}w=g.getMediaUrl(format,p);if(w){var A=g.getUrl();var s=g.getParams();var q=null;var D=null;var x=null;var z=null;if(A.indexOf(_CONSTANTS.CLICKABLE_TEMPLATE_SUFFIX)>-1){if(s){if(s.yct_click_url&&s.yct_click_url!==""){z=s.yct_click_url;}if(s.yct_product_message&&s.yct_product_message!==""){D=s.yct_product_message;}if(s.yct_invitation_message&&s.yct_invitation_message!==""){q=s.yct_invitation_message;}if(s.yct_product_message_type&&s.yct_product_message_type!==""){x=s.yct_product_message_type;}}}else{if(A.indexOf(_CONSTANTS.BUMPER_TEMPLATE_SUFFIX)>-1){if(s){if(s.ybt_click_url&&s.ybt_click_url!==""){z=s.ybt_click_url;}}}}var r={"click_url":z,"chosenBitrate":p,"adParams":s,"invitation_message":q,"product_message":D,"product_message_type":x};n.initAd(w,r);}else{this.notifyMetrics({type:AdEvent.AdMediaPlaybackError});this.fire(_CONSTANTS.AD_START_ERROR,{data:_CONSTANTS.AD_START_ERROR_CODES.INCOMPATIBLE_MEDIA});this.fire(_CONSTANTS.EVENT_AD_PLAYBACK_NONE);}};};a.augment(AdRenderer,a.EventTarget);AdRenderer.prototype.setContainer=function(b){this._container=b;};AdRenderer.prototype.getContainer=function(){return this._container;};AdRenderer.prototype.isRemovable=function(){return true;};AdRenderer.prototype.setEventBus=function(b){_eventBus=b;};AdRenderer.prototype.toString=function(){return"AdRenderer(ID: "+instanceId+")";};AdRenderer.prototype.unloadOverlay=function(){this.fire(_CONSTANTS.EVENT_VIDEO_AD_END);};AdRenderer.prototype.clear=function(b){if(typeof b!=="undefined"&&b!==null){b.innerHTML="";}};AdRenderer.prototype.initUnloadCreative=function(){if(typeof _creative==="undefined"||_creative===null){return;}try{_creative.stopAd();}catch(b){}};AdRenderer.prototype.onContentVideoComplete=function(b){_videoComplete=true;if(_creative){_creative.stopAd();}};AdRenderer.prototype.setVolume=function(b){if(_eventCreative){_eventCreative.setAdVolume(b);}};AdRenderer.prototype.init=function(){};AdRenderer.HTML5_VIDEO_READY_STATE={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};AdRenderer.HTML5_PLAY_CAPABILITY={BEST:"probably",LIKELY:"maybe",NO_SUPPORT:""};AdRenderer.HTML5_VIDEO_FORMATS=["video/mp4","video/webm","video/ogg"];a.com.yahoo.ads.renderer.AdRenderer=AdRenderer;},"1.0.0",{requires:["node","event-custom-complex","AdEvents","ScopeLogger","AdPluginMetricsEvent","BeaconEventData","Template"]});YUI.add("NullRenderer",function(a){a.namespace("com.yahoo.ads.renderer");NullRenderer=function(){this._eventBus=null;_CONSTANTS=a.com.yahoo.ads.common.Constants;};NullRenderer.prototype.setEventBus=function(b){this._eventBus=b;};NullRenderer.prototype.render=function(b,d,c){this._eventBus.notifyNullAd();this.fire(_CONSTANTS.RenderCompleteEvent);};NullRenderer.prototype.cancel=function(){};a.augment(NullRenderer,a.EventTarget);a.com.yahoo.ads.renderer.NullRenderer=NullRenderer;},"1.0.0",{requires:["node","event-custom-complex","ScopeLogger"]});YUI.add("RenderManager",function(a){a.namespace("com.yahoo.ads.renderer");RenderManager=function(b){this._container=null;this._eventBus=b;this.renderer=null;this._ad=null;_CONSTANTS=a.com.yahoo.ads.common.Constants;BeaconEventData=a.com.yahoo.ads.event.BeaconEventData;};RenderManager.prototype.getRenderer=function(){return this._container;};RenderManager.prototype.setRenderer=function(b){this._container=b;};RenderManager.prototype.cancelAds=function(){if(this.renderer){this.renderer.cancel();this.removeListeners(this.renderer);}};RenderManager.prototype.configureListeners=function(b){b.on(_CONSTANTS.EVENT_AD_PLAYBACK_NONE,this.onAdPlaybackNone,this);b.on(_CONSTANTS.EVENT_VIDEO_AD_END,this.onVideoAdEnd,this);b.on(_CONSTANTS.EVENT_VIDEO_AD_START,this.onVideoAdStart,this);b.on(_CONSTANTS.EVENT_AD_PROGRESS,this.onVideoAdProgress,this);b.on(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK,this.onVideoAdPlayback,this);
b.on(BeaconEventData.IMPRESSION,this.onAdMetrics,this);b.on(BeaconEventData.CLICKTHROUGH,this.onAdMetrics,this);b.on(BeaconEventData.BITRATE,this.onAdMetrics,this);b.on(BeaconEventData.CPCV,this.onAdMetrics,this);b.on(BeaconEventData.INTERACTION,this.onAdMetrics,this);b.on(_CONSTANTS.EVENT_VIDEO_AD_DISPLAY,this.onAdDisplay,this);b.on(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE,this.onAdMediaFirstByte,this);b.on(_CONSTANTS.AD_START_ERROR,this.onAdStartError,this);b.on(_CONSTANTS.AD_DELIVERY_ERROR,this.onAdDeliveryError,this);};RenderManager.prototype.removeListeners=function(b){b.detach(_CONSTANTS.EVENT_AD_PLAYBACK_NONE);b.detach(_CONSTANTS.EVENT_VIDEO_AD_END);b.detach(_CONSTANTS.EVENT_VIDEO_AD_START);b.detach(_CONSTANTS.EVENT_AD_PROGRESS);b.detach(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK);b.detach(BeaconEventData.IMPRESSION);b.detach(BeaconEventData.CLICKTHROUGH);b.detach(BeaconEventData.BITRATE);b.detach(BeaconEventData.CPCV,this.onAdMetrics,this);b.detach(BeaconEventData.INTERACTION);b.detach(_CONSTANTS.EVENT_VIDEO_AD_DISPLAY);b.detach(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE);b.detach(_CONSTANTS.AD_START_ERROR);b.detach(_CONSTANTS.AD_DELIVERY_ERROR);};RenderManager.prototype.renderAd=function(b,e,c,d){this._ad=b;if(b){this.renderer=new a.com.yahoo.ads.renderer.AdRenderer();this.renderer.setContainer(this._container);}else{this.renderer=new a.com.yahoo.ads.renderer.NullRenderer();}if(this.renderer){this.renderer.setEventBus(this._eventBus);this.configureListeners(this.renderer);this.renderer.render(b,e,c);}};RenderManager.prototype.onAdMetrics=function(b){if(this._ad){this._ad.onAdEvent(b.data);}else{this._eventBus.notifyAdMetricsEvent(b.data);}};RenderManager.prototype.onVideoAdEnd=function(b){this._eventBus.notifyVideoAdEnd();};RenderManager.prototype.onVideoAdStart=function(b){this._eventBus.notifyVideoAdStart({adslug:true,timer:true,scale:true,volume:true,linear:true,blocked:true});this._eventBus.notifyMetricsEvent(b);};RenderManager.prototype.onVideoAdProgress=function(b){this._eventBus.notifyAdProgress(b);};RenderManager.prototype.onVideoAdPlayback=function(b){this._eventBus.notifyAdPlayback({adslug:true,timer:true,scale:true,volume:true,linear:true,blocked:true});};RenderManager.prototype.onAdDisplay=function(b){this._eventBus.notifyMetricsEvent({data:BeaconEventData.IMPRESSION});};RenderManager.prototype.onAdMediaFirstByte=function(b){this._eventBus.notifyAdMediaFirstByte(b);};RenderManager.prototype.onAdStartError=function(b){this._eventBus.notifyAdStartError(b);};RenderManager.prototype.onAdDeliveryError=function(b){this._eventBus.notifyAdDeliveryError(b);};RenderManager.prototype.onAdPlaybackNone=function(b){this._eventBus.notifyNullAd();};RenderManager.prototype.dismissAd=function(b){};RenderManager.prototype.resizeAd=function(b){};RenderManager.prototype.setVolume=function(b){};RenderManager.prototype.pauseAd=function(){};RenderManager.prototype.resumeAd=function(){};a.com.yahoo.ads.renderer.RenderManager=RenderManager;},"1.0.0",{requires:["node","ScopeLogger","AdRenderer","NullRenderer"]});YUI.add("Template",function(a){a.namespace("com.yahoo.ads.renderer.templates");Template=function(F){var v=F;var R=a.com.yahoo.ads.common.Constants;var q=a.com.yahoo.ads.event.AdEvents;var B=false;var x=0;var m=this;var g=null;var I=Template.PLAYBACK_STATE.WAITING_FOR_METADATA;var y=a.com.yahoo.ads.event.AdEvents;var u=a.com.yahoo.ads.event.BeaconEventData;var N="";var H=null;var P=false;var C=0;var f=0;var j=0;var S=0;var o=false;var A=100;var L=250;var Q=null,c=null,D=null;var i=null;i=document.createElement("div");i.id="yvap_video";var s=document.createElement("div");s.id="yvap_overlay";s.style.width=v.clientWidth;s.style.height=v.clientHeight;s.style.zIndex="10000000000";s.style.position="absolute";s.style.opacity=0;i.appendChild(s);v.parentNode.appendChild(i);var O=function(aa,Z){var W=(parseInt(v.clientWidth,10)-L)/2;var V=(parseInt(v.clientHeight,10)-A)/2;var Y=document.createElement("div");Y.id=aa;Y.style.position="relative";Y.style.top=V+"px";Y.style.left=W+"px";Y.style.width=L+"px";Y.style.height=A+"px";Y.style.verticalAlign="middle";Y.style.textAlign="center";Y.style.color="#fdfdfd";Y.style.size="12px";Y.style.fontFamily="Geneva, Arial, Helvetica, sans-serif";Y.style.display="table";Y.style.backgroundColor="#000000";Y.style.borderColor="#f3f3f3";Y.style.borderWidth="2px";Y.style.borderStyle="solid";Y.style.borderRadius="15px";Y.style.zIndex="1000";var X=document.createElement("div");X.style.display="table-cell";X.style.verticalAlign="middle";X.style.margin="5px";X.innerHTML=Z;Y.appendChild(X);s.appendChild(Y);};var k=function(){O(Template.INVITATION_MSG_ID,Q);};var M=function(V){var W="";if(V==="EXTERNAL"){W='<img src="'+c+'"'+' width="'+L+'"/>';}else{if(V==="TEXT"){W="<p>"+c+"</p>";}else{W=c;}}O(Template.PRODUCT_MSG_ID,W);};var r=function(){s.style.opacity=0.8;};var d=function(){s.style.opacity=0;};var e=function(){if(typeof c!==R.UNDEFINED&&c!==null&&typeof D!==R.UNDEFINED&&D!==null){M(D);s.style.visibility="visible";s.addEventListener("mouseover",r,false);s.addEventListener("mouseout",d,false);}};var h=function(){setTimeout(function(){s.style.opacity=0;var V=document.getElementById(Template.INVITATION_MSG_ID);if(typeof V!==R.UNDEFINED&&V!==null){V.parentNode.removeChild(V);}e();},1200);};var T=function(){setTimeout(function(){s.style.opacity=0.8;h();},1200);};var K=function(V){if(typeof V.invitation_message===R.UNDEFINED||V.invitation_message===null){o=false;}else{o=true;Q=V.invitation_message;Q=Q.replace(/\\r|\\n/g,"<br>");}if(typeof V.product_message!==R.UNDEFINED&&V.product_message!==null){c=V.product_message;c=c.replace(/\\r|\\n/g,"<br>");}if(typeof V.product_message!==R.UNDEFINED&&V.product_message!==null){D=V.product_message_type;}if(o){k();}};var b=function(W){var V=v.currentTime/v.duration;if(I==Template.PLAYBACK_STATE.METADATA_AVAILABLE){I=Template.PLAYBACK_STATE.PLAYBACK0;m.fire(y.AdVideoStart,{type:y.AdVideoStart,ad_duration:x});if(o){s.style.visibility="visible";T();}}else{if(V>0.25&&I==Template.PLAYBACK_STATE.PLAYBACK0){I=Template.PLAYBACK_STATE.PLAYBACK25;
m.fire(y.AdVideoFirstQuartile,{type:y.AdVideoFirstQuartile,ad_duration:x});}else{if(V>0.5&&I==Template.PLAYBACK_STATE.PLAYBACK25){I=Template.PLAYBACK_STATE.PLAYBACK50;m.fire(y.AdVideoMidpoint,{type:y.AdVideoMidpoint,ad_duration:x});}else{if(V>0.75&&I==Template.PLAYBACK_STATE.PLAYBACK50){I=Template.PLAYBACK_STATE.PLAYBACK75;m.fire(y.AdVideoThirdQuartile,{type:y.AdVideoThirdQuartile,ad_duration:x});}}}}if(!P&&v.currentTime>=30){P=true;m.fire(u.CPCV,{type:u.CPCV,value:30,ad_duration:x});}m.fire(y.AdProgress,{type:y.AdProgress,position:v.currentTime,totalDuration:v.duration});};var G=function(){I=Template.PLAYBACK_STATE.METADATA_AVAILABLE;x=v.duration;};var z=function(){if((v.duration-v.currentTime)<=0.1&&I==Template.PLAYBACK_STATE.PLAYBACK75){m.fire(y.AdVideoComplete,{type:y.AdVideoComplete,ad_duration:x});I=Template.PLAYBACK_STATE.PLAYBACK100;}clearInterval(g);m.cancelAd();m.fire(q.AdStopped);};var E=function(V){C=V.timeStamp;B=true;g=setInterval(b,200);v.play();m.fire(q.AdPlayback);m.fire(u.BITRATE,{type:u.BITRATE,chosenBitrate:H});};var U=function(){m.fire(y.AdImpression,{type:y.AdImpression});};var p=function(V){m.fire(q.AdMediaFirstByte);};var n=function(W){if(N&&N!==""){window.open(N,"_blank");}var V=W.timeStamp-C;S+=1;m.fire(y.AdClickThru,{type:y.AdClickThru,click_url:N});m.fire(y.AdClick,{type:y.AdClick,diff:V,mouseClickCount:S});};var w=function(W){var V=W.timeStamp-C;f+=1;m.fire(y.AdMouseOver,{type:y.AdMouseOver,diff:V,mouseOverCount:f});};var t=function(V){m.cancelAd();m.fire(y.AdError,{type:y.AdError});};var l=function(){v.addEventListener("loadedmetadata",G,false);v.addEventListener("ended",z,false);v.addEventListener("canplay",E,false);v.addEventListener("canplaythrough",U,false);v.addEventListener("loadeddata",p,false);v.addEventListener("mouseover",w,false);v.addEventListener("error",t,false);s.addEventListener("click",n,false);};var J=function(){v.removeEventListener("loadedmetadata",G,false);v.removeEventListener("ended",z,false);v.removeEventListener("canplay",E,false);v.removeEventListener("canplaythrough",U,false);v.removeEventListener("loadeddata",p,false);v.removeEventListener("mouseover",w,false);v.removeEventListener("error",t,false);s.removeEventListener("click",n,false);};this.initAd=function(V,W){if(v&&V){l();v.src="";v.load();v.play();v.src=V;v.load();v.controls=false;N=W.click_url;H=W.chosenBitrate;if(a.com.yahoo.ads.utils.Utils.isOverlaySupported()){K(W);}m.fire(q.AdStarted);return true;}else{}return false;};this.getAdVolume=function(){};this.setAdVolume=function(V){if(V>=0&&V<=1){v.volume=V;}};this.startAd=function(){};this.pauseAd=function(){};this.resumeAd=function(){};this.resizeAd=function(){};this.cancelAd=function(){if(typeof v!==R.UNDEFINED&&v!==null){v.src="";v.load();J();if(typeof i!==R.UNDEFINED&&i!==null){v.parentNode.removeChild(i);i=null;}v=null;}};};Template.VIDEO_ID="yvap_video";Template.OVERLAY_ID="yvap_overlay";Template.INVITATION_MSG_ID="yvap_invitation_message";Template.PRODUCT_MSG_ID="yvap_product_message";Template.HTML5_VIDEO_READY_STATE={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};Template.HTML5_PLAY_CAPABILITY={BEST:"probably",LIKELY:"maybe",NO:""};Template.PLAYBACK_STATE={WAITING_FOR_METADATA:-1,METADATA_AVAILABLE:0,PLAYBACK0:1,PLAYBACK25:2,PLAYBACK50:3,PLAYBACK75:4,PLAYBACK100:5};a.augment(Template,a.EventTarget);a.com.yahoo.ads.renderer.templates.Template=Template;},"1.0.0",{requires:["node","ScopeLogger","Utils"]});YUI.add("ActionRule",function(a){a.namespace("com.yahoo.ads.rules");ActionRule=function(c){this.mName=null;this.mType=null;this.mSubtype=null;this.mBasis=null;this.mActionParams=null;this.mCondition=null;this.nflCase="";this.mRedirect={targetTag:"none",count:0};this.mAdXML=null;this.getType=function(){return this.mType;};this.setType=function(d){this.mType=d;};this.getSubType=function(){return this.mSubtype;};this.getRedirect=function(){return this.mRedirect;};this.getAdXml=function(){return this.mAdXML;};this.addActionParam=function(d,e){if(!this.mActionParams){this.mActionParams={};}this.mActionParams[d]=e;};this.parseActionParam=function(f){var h,d,g,e;if(f instanceof Array){for(e in f){h=f[e];if(h){d=h["@name"];g=h["@value"];this.addActionParam(d,g);}}}else{if(f instanceof Object){h=f;if(h){d=h["@name"];g=h["@value"];this.addActionParam(d,g);}}}};this.evaluateConditions=function(d){return true;};this.isBlocking=function(){return this.mType!="overlay";};if(c){this.mName=c["@name"];this.mType=c["@type"];this.mSubtype=c["@subtype"];this.mBasis=c["@basis"];if(c.adXML){this.mAdXML=c.adXML;}else{this.mAdXML=null;}for(var b in c){if(b=="actionParam"){this.parseActionParam(c[b]);}else{if(b=="enabledWhen"){}}}}};ActionRule.prototype.evaluateBasis=function(b){return null;};ActionRule.prototype.toString=function(){return"ActionRule :: name: "+this.mName+", type: "+this.mType+", subType: "+this.mSubtype+", basis: "+this.mBasis;};ActionRule.prototype.evaluate=function(d){var f=false;if(this.evaluateConditions(d)){f=true;}if(f){var e=d.getBasis(this.mBasis);var b=this.evaluateBasis(e);if(b===_CONSTANTS.NFL_PREROLL){b="InsertAd";this.nflCase=_CONSTANTS.NFL_PREROLL;}else{if(b===_CONSTANTS.NFL_ONLOAD){b="InsertAd";this.nflCase=_CONSTANTS.NFL_ONLOAD;}else{this.nflCase="none";}}var c=new a.com.yahoo.ads.engine.EngineActionEvent(b,this);d.propagateActionEvent(c);}};a.com.yahoo.ads.rules.ActionRule=ActionRule;},"1.0.0",{requires:["node","EngineActionEvent"]});YUI.add("ActionRule_TIMELINE",function(a){a.namespace("com.yahoo.ads.rules");ActionRule_TIMELINE=function(d){ActionRule_TIMELINE.superclass.constructor.apply(this,[d]);var j,h,c,i,f,b;this.START_MINIMUM_PERCENT=0;this.START_MAXIMUM_PERCENT=99;this.DEFAULT_VID_DURATION=100;if(this.mActionParams.id.toLowerCase().indexOf("overlay")===0){this._isOverlay=true;this._showCommand="ShowOverlay";this._hideCommand="HideOverlay";}else{this._isOverlay=false;this._showCommand="InsertAd";this._hideCommand=null;}this._shownPoints={};j=d["@start"];h=d["@duration"];
c=d["@interval"];i=parseInt(d["@intervalbetweenclips"],10);f=parseInt(d["@startatclip"],10);b=d["@padding"];if(i){this._intervalbetweenclips=i;}if(f){this._startatclip=f;}this._startatclip-=1;if(typeof b==="undefined"||b===null||b===""){b=actionParams.Padding;}if(b&&b.length>0){if(b.indexOf("%")!==-1){b=b.substring(0,b.length-1);}try{this._paddingDuration=parseInt(b,10);}catch(g){}}if(!c){c=9999;}if(!h){h=-1;}if(j.indexOf("%")!==-1){this._startIsPercentage=true;this._start=parseInt(j.replace("%",""),10);if(this._start<this.START_MINIMUM_PERCENT){this._start=this.START_MINIMUM_PERCENT;}}else{this._start=parseInt(j,10);if(j==="1"){this._start=2;}}if(h.indexOf("%")!==-1){this._durationIsPercentage=true;this._duration=parseInt(h.replace("%",""),10);if(this._duration>this.START_MAXIMUM_PERCENT){this._duration=this.START_MAXIMUM_PERCENT;}}else{this._duration=parseInt(h,10);}if(c.indexOf("%")!==-1){this._intervalIsPercentage=true;this._interval=parseInt(c.replace("%",""),10);}else{this._interval=parseInt(c,10);}this.getBasis=function(){return"videoTimeline";};this.evaluateBasis=function(m){var e=null;if(typeof m==="undefined"){return null;}if(m.getType()===TimerEventBasis.TIMER_BASIS){var l=m.getTimer();if(!this._isOverlay){return this.evaluateTimecode(Math.floor(l.getElapsed()),l.getTotalDuration());}var k=m.getClipCount();if(k>this._startatclip&&(k-(1+this._startatclip))%this._intervalbetweenclips===0){e=this.evaluateTimecode(Math.floor(parseInt(l.getElapsed(),10)),parseInt(l.getTotalDuration(),10));}else{}}else{}return e;};this.evaluateTimecode=function(o,m){if(m<1){m=this.DEFAULT_VID_DURATION;}var e=null;var p=this._start;var l=this._interval;var n=this._duration;if(this._startIsPercentage){p=Math.floor(p*m/100);}if(this._intervalIsPercentage){l=Math.floor(l*m/100);}if(this._durationIsPercentage){n=Math.ceil(n*m/100);}n+=this._paddingDuration;if((o>=p)&&((o-p)%(l+n)===0)){var k=o.toString();if(typeof this._shownPoints[k]==="undefined"||this._shownPoints[k]===null){if(n===0||(n>0&&n<=m-o)){e=this._showCommand;this._shownPoints[k]="";}else{}}}else{if(this._hideCommand&&(o>=p)&&((o-p)%(l+n))===n){}}return e;};this.resetClipRules=function(){this._shownPoints={};};};a.extend(ActionRule_TIMELINE,a.com.yahoo.ads.rules.ActionRule);a.com.yahoo.ads.rules.ActionRule_TIMELINE=ActionRule_TIMELINE;},"1.0.0",{requires:["node","EngineActionEvent","ActionRule"]});YUI.add("ActionRule_TRIGGER",function(a){a.namespace("com.yahoo.ads.rules");ActionRule_TRIGGER=function(d){ActionRule_TRIGGER.superclass.constructor.apply(this,[d]);this.ACTION_POSITIVE="InsertAd";this.ACTION_POSITIVE_SKIN="skin-op";_CONSTANTS=a.com.yahoo.ads.common.Constants;this._evaluateRatio=function(n){var m=n.getCount();var o=n.getAdLength();var l=n.getVidLength();var e=this._ratio;if(l===0||o===0){e=this._ratio;}else{e=l/o;}var k=f==="true"?m>this._start:true;return k&&this._ratioEnabled&&(l===0||e>=this._ratio);};this._evaluateLength=function(m){var l=m.getCount();var k=m.getRecentVidLength();var e=f==="true"?l>this._start:true;return e&&this._lengthEnabled&&(k-this._length)>=0;};this._evaluateFrequency=function(l){var k=l.getCount();var e=l.getRecentClipCount();return k>this._start&&(this._interval===1||e>=this._interval);};this._evaluateNFL=function(e){var k=e.getRecentVidLength_NFL();return(k>=e.getNFLFreeTime());};this._isNFLSessionExpired=function(k){var e=k.getNFLSessionTime();return(((new Date().getTime()/1000)-e)>=k.getNFLSessionPeriod());};var c=function(k){var e=Math.random()*100;return e<=k;};var b="";var g="";var h="false",f,j;h=d["@minDurEnabled"];b=d["@ratioEnabled"];g=d["@lengthEnabled"];f=d["@firstAdProbabilityEnabled"]||"";j=parseInt(d["@firstAdProbability"],10)||0;this._interval=parseInt(d["@interval"],10);this._start=parseInt(d["@start"],10)-1;this._minDuartion=parseInt(d["@minDuration"],10);this._ratio=parseInt(d["@ratio"],10);this._length=parseInt(d["@length"],10);if(this.mActionParams.id==="purevideo"){this._symbol="video";this._actionString=this.ACTION_POSITIVE;}else{if(this.mActionParams.id==="skin"){this._symbol="skin";this._actionString=this.ACTION_POSITIVE_SKIN;}else{this._symbol="overlay";this._actionString=this.ACTION_POSITIVE;}}if(this._start<0){this._start=0;}try{this._ratioEnabled=b.length>0&&b==="true";this._lengthEnabled=g.length>0&&g==="true";this._minDuartionEnabled=h.length>0&&h==="true";}catch(i){this._ratioEnabled=false;this._lengthEnabled=false;this._minDuartionEnabled=false;}this.evaluateBasis=function(o){var e=null,m,l=a.com.yahoo.ads.engine.EngineActionEvent.SKIP_EVENT;if(typeof o==="undefined"){return e;}if(o.getType()===TriggerEventBasis.TRIGGER_BASIS){var k=o.getTriggerName();if(k.toLowerCase()===this.mSubtype.toLowerCase()){var n=o.getClipDuration();if((this._minDuartionEnabled&&n>=this._minDuartion)||!this._minDuartionEnabled){m=o.getCount();if(o.getLmsID()===_CONSTANTS.NFL_LMSID){if(this._evaluateNFL(o)){e=_CONSTANTS.NFL_PREROLL;}else{e="no-op";}if(this._isNFLSessionExpired(o)||o.getRecentVidLength_NFL()==0){e=_CONSTANTS.NFL_ONLOAD;}return e;}if(m===(this._start+1)&&f==="true"){e=c(j)?this._actionString:l;return e;}if(this._ratioEnabled){if(this._evaluateRatio(o)){e=this._actionString;}else{e=l;}}else{if(this._lengthEnabled){if(this._evaluateLength(o)){e=this._actionString;}else{e=l;}}else{if(this._evaluateFrequency(o)){e=this._actionString;}else{e=l;}}}}else{e=l;}}}return e;};this.getBasis=function(){return"triggers";};};a.extend(ActionRule_TRIGGER,a.com.yahoo.ads.rules.ActionRule);a.com.yahoo.ads.rules.ActionRule_TRIGGER=ActionRule_TRIGGER;},"1.0.0",{requires:["node","EngineActionEvent","ActionRule"]});YUI.add("RuleGroup",function(a){a.namespace("com.yahoo.ads.rules");RuleGroup=function(){var f=[];var d;var b;var g=false;var c="videoTimeline";var e="triggers";return{initFromJSON:function(j){var k=null;d=j["@id"];if(j["@defaultRuleset"]=="true"){b=true;}if(j.actionRule2 instanceof Array){for(var h=0;h<j.actionRule2.length;h++){mBasis=j.actionRule2[h]["@basis"];if(mBasis==e){k=new a.com.yahoo.ads.rules.ActionRule_TRIGGER(j.actionRule2[h]);
g=false;}else{if(mBasis==c){k=new a.com.yahoo.ads.rules.ActionRule_TIMELINE(j.actionRule2[h]);g=true;}else{}}this.addRule(k);}}else{if(j.actionRule2 instanceof Object){mBasis=j.actionRule2["@basis"];if(mBasis==e){k=new a.com.yahoo.ads.rules.ActionRule_TRIGGER(j.actionRule2);g=false;}else{if(mBasis==c){k=new a.com.yahoo.ads.rules.ActionRule_TIMELINE(j.actionRule2);g=true;}else{}}this.addRule(k);}}},getisTimelineDriven:function(){return g;},getisDefault:function(){return b;},addRule:function(h){f.push(h);},setid:function(h){d=h;},getid:function(){return d;},evaluate:function(j){for(var h=0;h<f.length;h++){f[h].evaluate(j);}},resetClipRules:function(){for(var h=0;h<f.length;h++){if(f[h] instanceof ActionRule_TIMELINE){f[h].resetClipRules();}}},toString:function(){var h="";for(var j=0;j<f.length;j++){h+=f[j]+"\n";}return h;}};};a.com.yahoo.ads.rules.RuleGroup=RuleGroup;},"1.0.0",{requires:["node","ActionRule","ScopeLogger","ActionRule_TRIGGER","ActionRule_TIMELINE"]});YUI.add("HTMLStorageUtil",function(b){b.namespace("com.yahoo.ads.utils");var a=("localStorage" in window&&window.localStorage!==null)?window.localStorage:null;b.com.yahoo.ads.utils.HTMLStorageUtil=a?{getItem:function(c){var d=a.getItem(c);try{if(d){d=b.JSON.parse(d);}}catch(f){}return d;},setItem:function(c,d){if(d&&c){d=b.JSON.stringify(d);a.setItem(c,d);}},removeItem:function(c){a.removeItem(c);}}:null;},"1.0.0",{requires:["json"]});YUI.add("Utils",function(c){c.namespace("com.yahoo.ads.utils");var a=c.com.yahoo.ads.common.Constants,b=function(){};b.guid=function(){var d=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);};return(d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d());};b.formatDocumentNode=function(e){var d=c.XML.format(e);return d;};b.createDocumentNode=function(e){var d=c.DataType.XML.parse(e);if(!d){d=new ActiveXObject(a.MS_XMLDOM);d.async=false;d.loadXML(adXML);}return d;};b.createNode=function(e,h,g){var f,d=e.createElement(h);if(g){f=e.createCDATASection(g);d.appendChild(f);}return d;};b.getElementsByTagNameNS=function(g,f,d,e){if(typeof g===a.TYPE_OF_UNDEFINED||g===null){return null;}if(typeof g.getElementsByTagNameNS===a.TYPE_OF_UNDEFINED||g.getElementsByTagNameNS===null){return g.getElementsByTagName(e+":"+d);}else{return g.getElementsByTagNameNS(f,d);}};b.getTextFromNode=function(e){var d;if(typeof e===a.TYPE_OF_UNDEFINED||e===null){return null;}d=e.textContent;if(typeof d===a.TYPE_OF_UNDEFINED){d=e.text;}d=d.replace(/\s+$/,"");d=d.replace(/^\s+/,"");return d;};b.hasAttribute=function(g,f){if(typeof g===a.TYPE_OF_UNDEFINED||g===null){return false;}try{return g.hasAttribute(f);}catch(e){var d=g.getAttribute(f);return(typeof d!==a.TYPE_OF_UNDEFINED&&d!==null);}};b.isXDRSupported=function(){var f=/MSIE\s(\d)+/g,d=navigator.userAgent.match(f),e;if(typeof d!==a.TYPE_OF_UNDEFINED&&d!==null&&d.length>0){e=d[0].match(/(\d)+/g);if(typeof e!==a.TYPE_OF_UNDEFINED&&e!==null&&e.length>0){return(e[0]>9);}}return true;};b.isIPhoneSupported=function(){return(c.UA.iphone>=0&&c.UA.iphone<6.1);};b.isOverlaySupported=function(){return !(c.UA.ios||c.UA.android);};b.getCreativeAndBookingId=function(e){var f=/bi\$(\d+),cr\$(\d+)/,d,g=null;if(e&&typeof e===a.TYPE_OF_STRING&&e.length>0){d=f.exec(e);if(d){g={};g[a.BOOKINGID]=d[1];g[a.CREATIVEID]=d[2];}}return g;};b.errorEvent=function(f,d,e){return{"message":f,"loc":d,"type":e};};b.extractDomain=function(d){var e,f="",g=/[\w-]+\.(?:com|net|tv)/;if(d){e=d.match(g);f=e&&e[0]||"";}return f;};b.getDomain=function(d){if(d){return"3PAS-"+this.extractDomain(d);}return null;};b.updateProtocol=function(d){var e=window.location.protocol;if(e===a.SSL){d=d.replace(a.HTTP,a.HTTPS);}return d;};b.getCacheUpdateTimeout=function(d){var f=a.AD_PREFETCH_TIME,e=this.extractDomain(d);if(e){f=a.CACHE_UPDATE_TIMEOUTS[e]?a.CACHE_UPDATE_TIMEOUTS[e]:a.AD_PREFETCH_TIME;}return f;};b.getElementsByClassName=function(g,d){var f=null;if(document.getElementsByClassName){f=document.getElementsByClassName(g)[0];}else{if(document.querySelector){f=document.querySelector("."+g);}else{var j=document.getElementsByTagName(d),h=j.length,e;for(e=0;e<h;e++){if(j[e].className.indexOf(g)>-1){f=j[e];break;}}}}return f;};b.checkIfC2=function(e){var d,f=this.extractDomain(e);d=f&&a.C2_DOMAINS[f];return d;};b.isViewabilityMeasurable=function(){if(window.DARLA&&window.DARLA.yvap){return true;}return false;};b.getViewabilityNonMeasurableValue=function(){if(window.location!==window.parent.location){return a.VIEWABILITY_NOT_MEASURABLE_IFRAME;}return a.VIEWABILITY_NOT_MEASURABLE_NO_DARLA;};b.getTimeStamp=function(){var d=new Date();var e=[d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()];var f=e.join("");return f;};c.com.yahoo.ads.utils.Utils=b;},"1.0.0",{requires:["Constants"]});YUI.add("ViewabilityManager",function(b){b.namespace("com.yahoo.ads.utils");var a=function(H){var s=b.com.yahoo.ads.common.Constants,d=b.com.yahoo.ads.utils.Utils,v=b.com.yahoo.ads.communicator.AbstractCommunicator,g=b.com.yahoo.ads.communicator.parser.VASTParser,q=(H||d.getElementsByClassName(s.PLAYER_CLASS_NAME,"div")),j=q&&q.getClientRects?q.getClientRects()[0]:null,x=this,I=null,o=null,y=true,n=0,r=false,C=0,i=null,f=0,l={spaceId:null,pvId:null,serveTime:null,position:{}},F={size:null,bookID:null,ioID:999999,lineID:999999,adID:999999,slotID:999999,creativeID:null,impID:null,pctIV:0,initIV:0},B={sp:"spaceId",gid:"pvId",st:"serveTime"},D={bi:"bookID",cr:"creativeID",aid:"impID",eob:"pos"},k=0,w=[],e=null,h=0,E=function(){var L=null,M=0,K=false;if(q&&j){K=p();if(!K){L=DARLA.yvap.view(q.id);M=L?L.iv:0;}else{M=1;}}else{}A(M);},A=function(L){C=L>=s.VIEWABILITY_THRESHOLD&&!y?C+s.INTERNAL_POLLING_INTERVAL:0;if(y){y=false;n=L>=s.VIEWABILITY_THRESHOLD?1:0;}G(false,L,C);w.push(L);if(r){k+=C?s.INTERNAL_POLLING_INTERVAL:0;}if(C>=s.TIME_FOR_VIEWABLE_IMPRESSION&&!r){var K=u(L);if(K){c(K);r=true;G("Viewability Beacon fired",null,null,K);}else{G("Viewability Beacon was not fired because beaconURL not available!",null,null,K);}}},u=function(M){var L=z(M),K="";
if(L){K=DARLA.yvap.avb(L.spaceId,L.pvId,L.position,L.serveTime);}else{}return K;},z=function(M){var K=t(),L=null;if(K){size=i?i.width+"x"+i.height:"";L=m(K,M,n,size);}return L;},t=function(){var N=new RegExp(".*csc.beap.*"),M=0,L=I.getBeacons(g.IMPRESSION),K=null;for(M=0;M<L.length;M++){if(N.test(L[M].url)){K=L[M].url;break;}}return K;},m=function(U,L,N,X){var V=new RegExp(/([^,()]+)\)|([^,()]+),/g),K=l,Q=F,R=[],T=null,P=0,O=0,M=null,W=null,S=0;R=U.match(V);for(P=0;P<R.length;P++){W=R[P];S=W.length-1;W=W.charAt(S)==","?W.substr(0,S):W;M=W.split("$");if(M.length===2){if(B.hasOwnProperty(M[0])){K[B[M[0]]]=M[1];}else{if(D.hasOwnProperty(M[0])){if(M[0].indexOf("eob")===0){T=M[1].substring(M[1].indexOf("ypos=")+5,M[1].length-1);}else{Q[D[M[0]]]=M[1];}}}}}if(T){Q.pctIV=L*100;Q.initIV=N;Q.size=X;K.position[T]=Q;}return K;},c=function(K){var L=document.createElement("img");L.src=K;L.style.display="none";},p=function(){var K=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,L=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;i=q.getClientRects()[0];if(i&&i.width>j.width&&i.width>=K&&i.height>=L){return true;}return false;},J=function(){I=null;clearInterval(o);o=null;y=true;n=0;r=false;C=0;i=null;f=0;h=0;k=0;w=[];e=null;},G=function(L,N,M,K){if(I&&I.getCommunicator().getNetworkName().indexOf(v.NAME.PREVIEW)===0){if(window.showViewabilityInfo){window.showViewabilityInfo(L,N,M,K);}}};this.start=function(K,L){if(K&&(K.getCommunicator().getNetworkName().toLowerCase().indexOf(v.NAME.MME)===0||K.getCommunicator().getNetworkName().indexOf(v.NAME.PREVIEW)===0)){if(d.isViewabilityMeasurable()){J();f=1;I=K;h=new Date().getTime();G("Ad Media Playback Started!",null,null);o=setInterval(function(){E();},s.INTERNAL_POLLING_INTERVAL);}else{}}else{}e=L;};this.stop=function(){clearInterval(o);f=0;};this.pause=function(){clearInterval(o);};this.resume=function(){if(f===1){o=setInterval(function(){E();},s.INTERNAL_POLLING_INTERVAL);}};this.getViewabilitySummary=function(N){var K={data:w,max:function(){return this.data.length?Math.max.apply(Math,this.data):0;},min:function(){return this.data.length?Math.min.apply(Math,this.data):0;},avg:function(){var Q=this.data,P=Q.length,O=0,R=0,S=0;for(O in Q){R+=Q[O];}S=R/P||0;return S;}},L=(typeof N==="number"&&N!==0)?new Date().getTime()-h:0,M={total_ad_playback_duration:L,total_viewable_duration:k,min_percent_view:(K.min()*100).toFixed(0),max_percent_view:(K.max()*100).toFixed(0),avg_percent_view:(K.avg()*100).toFixed(0),player_width:e?e.playerWidth:0,player_height:e?e.playerHeight:0,player_sound:e?e.playerVolume:s.UNKNOWN,player_location:e?e.playerLocation:s.UNKNOWN,player_in_banner:e?e.playerInBanner:s.UNKNOWN,player_auto_play:e?e.playerAutoPlay:s.UNKNOWN};return M;};this.getDefaultViewabilitySummary=function(){var K={total_ad_playback_duration:0,total_viewable_duration:0,min_percent_view:0,max_percent_view:0,avg_percent_view:0,player_width:0,player_height:0,player_sound:s.UNKNOWN,player_location:s.UNKNOWN,player_in_banner:s.UNKNOWN,player_auto_play:s.UNKNOWN};return K;};};b.com.yahoo.ads.utils.ViewabilityManager=a;},"1.0.0",{requires:["Constants","Ad","ScopeLogger","AbstractCommunicator","VASTParser"]});YUI.add("videoplayer",function(f){var K={isEmptyObject:function(Y){if(!Y||typeof Y!=="object"){return true;}for(var ao in Y){if(Y.hasOwnProperty(ao)){if(Y[ao]){return false;}}}return true;},validateUrl:function(ao){var aq=this.removeExtraLineChars(ao),Y=true,ap;if(this.isUrl(aq)){ap=aq.split(this.isUrlMatch(aq)[0])[1];if(this.isScriptable(ap)||this.isExecutable(ap)){Y=false;}}else{Y=false;}return Y;},shouldEnableRtmps:function(ao){var ap=ao.get("hostingData.env")||"l",Y=ao.get("hostingData.bucket")||-1;if((ap==="s")&&(Y===50)){return true;}if((ap==="p")&&(Y===1)){return true;}return false;},isAlphaNumeric:function(Y){return !(new RegExp(/[^a-z0-9\,\._\-]/gi).test(Y));},isExecutable:function(Y){return new RegExp(/(\:|\;|\"|\'|\(|\)|<|>| )/gi).test(Y);},isUrl:function(Y){return new RegExp(/htt(p:\/\/|ps:\/\/)/).test(Y);},isUrlMatch:function(Y){var ap=new RegExp(/htt(p:\/\/|ps:\/\/)/).exec(Y),ao=[];if(ap){ao=ap;}return ao;},getDeviceInfo:function(){var ao={},Y=f.UA;if(Y.android!==0){ao={DEVICE_NAME:"android",MAKE:"unknown",MODEL:"android",OS:"android"};}else{if(Y.ipad!==0){ao={DEVICE_NAME:"iPad",MAKE:"apple",MODEL:"ipad",OS:"ios"};}else{if(Y.iphone!==0){ao={DEVICE_NAME:"iPhone",MAKE:"apple",MODEL:"iphone",OS:"ios"};}else{if(Y.chrome!==0){ao={DEVICE_NAME:"web",MAKE:"chrome",MODEL:Y.chrome,OS:Y.os};}else{if(Y.gecko!==0){ao={DEVICE_NAME:"web",MAKE:"firefox",MODEL:Y.gecko,OS:Y.os};}else{if(this.isIE11()){ao={DEVICE_NAME:"web",MAKE:"ie",MODEL:"11",OS:Y.os};}else{if(Y.ie){ao={DEVICE_NAME:"web",MAKE:"ie",MODEL:Y.ie,OS:Y.os};}else{if(Y.safari){ao={DEVICE_NAME:"web",MAKE:"safari",MODEL:Y.safari,OS:Y.os};}else{ao={DEVICE_NAME:"web",MAKE:"na",MODEL:"na",OS:Y.os};}}}}}}}}return ao;},fixedEncodeURIComponent:function(Y){return encodeURIComponent(Y).replace(/[!'()]/g,escape).replace(/\*/g,"%2A");},isScriptable:function(Y){return new RegExp(/(asfunction:|javascript:|event:|vbscript:)/gi).test(Y);},removeExtraLineChars:function(Y){var ao=Y;ao=ao.split(" ").join("");ao=ao.split("\t").join("");ao=ao.split("\n").join("");ao=ao.split("\r").join("");return ao;},generateGuid:function(Y){var ao=Y||22,ar="",ap,aq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._";for(ap=0;ap<ao;ap++){ar+=aq.charAt(Math.floor(Math.random()*aq.length));}return ar;},isIE11:function(){var Y,ap={ie:0,opera:0,gecko:0,webkit:0,safari:0,chrome:0,mobile:null,air:0,phantomjs:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,silk:0,accel:false,webos:0,caja:navigator&&navigator.cajaVersion,secure:false,os:null,nodejs:0,touchEnabled:false},ao=function(aq){var ar=0;return parseFloat(aq.replace(/\./g,function(){return(ar++===1)?"":".";}));};Y=navigator.userAgent.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);if(Y&&(Y[1]||Y[2])){ap.ie=ao(Y[1]||Y[2]);}return ap.ie;
},getFlashVersion:function(){var au=0,ay=this,ar=f.UA,ax="ShockwaveFlash",ao,ap,az,Y;function aw(){return(ar.ie||ay.isIE11());}if(ar.gecko||ar.webkit||ar.opera){if((ao=navigator.mimeTypes["application/x-shockwave-flash"])){if((ap=ao.enabledPlugin)){au=ap.description;}}}else{if(aw()){try{az=new ActiveXObject(ax+"."+ax+".6");az.AllowScriptAccess="always";}catch(at){if(az!==null){au=6;}}if(au===0){try{Y=new ActiveXObject(ax+"."+ax);au=Y.GetVariable("$version");}catch(av){}}if(au===0){if(navigator&&typeof navigator.plugins==="object"){for(var aq=0;aq>navigator.plugins.length;aq++){if(navigator.plugins[aq].name==="application/x-shockwave-flash"){au=navigator.plugins[aq].version;}}}}}}return au;},generateHashCode:function(au,aq,at){var av=typeof au,ar=0,ap,Y,ao;if(av==="number"){au+="";}else{if(av!=="string"){return"invalid-71";}}Y=au.length;if(Y===0){return"invalid-72";}for(ao=0;ao<Y;++ao){ap=au.charCodeAt(ao);ar=((ar<<5)-ar)+ap;ar&=ar;}if(ar<0){ar=Y+""+ar;}else{ar=ar+"-"+Y;}aq=((typeof aq!=="string")&&(typeof aq!=="number"))?"":aq+"-";at=((typeof at!=="string")&&(typeof at!=="number"))?"":"-"+at;return aq+ar+at;},determineWindowMode:function(ar,ao){var Y,aq,ap;if((ar.flashMajor<"10")||(ar.flashMajor==="10"&&ar.flashMinor<"2")){return"opaque";}switch(ar.os){case"macintosh":ap=/Mac OS X\s+([0-9_\.]+)/i;aq=ap.exec(ao);if(aq){Y=aq[1].split(/[_.]/);if(Y[0]>=10&&Y[1]>=6){if(ar.chrome>0||ar.gecko>=4||ar.safari>=530){return"direct";}}}break;case"windows":break;}return"opaque";},getHostUrl:function(){var Y;if(K.inIFrame()){try{Y=window.top.location.href;}catch(ao){}if(!f.Lang.isValue(Y)){Y=document.referrer;}return Y;}if(f.UA.ie>0&&!K.isValidHostDomain(window.location.href,window.document.URL)){return"";}return window.location.href;},isValidHostDomain:function(ap,ao){var aq,Y;if(!ap||!ao){return false;}aq=K.parseUrl(ap).host;Y=K.parseUrl(ao).host;return aq===Y;},getStreamType:function(ao,ap){var Y="mp4";if(ao){if(ap&&(ap.indexOf("rtmp")>=0||ap.indexOf("rtsp")>=0)){Y=ap;}else{if(/\/*.f4m/i.test(ao)){Y=(this.isRTX(ao))?"rtx-hds":"hds";}else{if(/\/*.m3u8/i.test(ao)||(ao.length>0&&ao.indexOf("content=hls")>-1)){Y=(this.isRTX(ao))?"rtx-hls":"hls";}}}}return Y;},isRTX:function(Y){return(Y.indexOf("/rtx/")>=0);},parseUrl:function(ao){var Y={url:"",protocol:"",host:"",path:"",file:""},ap,aq;if(ao&&f.Lang.isString(ao)){ap=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/;aq=ao.match(ap);if(aq){Y.url=aq[0]||Y.url;Y.protocol=aq[1]||Y.protocol;Y.host=aq[6]||Y.host;Y.path=aq[10]||Y.path;Y.file=aq[11]||Y.file;}}return Y;},isYahooDomain:function(ao){var Y=f.Object.getValue(window,"YAHOO.VideoPlatform.WhiteListedDomains".split("."));if((typeof Y==="object")&&(typeof ao==="string")){try{if(ao.match(/(https?:\/\/)?(.[^\/:]+)/i)[2] in Y){return true;}}catch(ap){}}return(/^https?:\/\/(|[^/]+\.)yahoo.com(:(6553[0-5]|655[0-2]\d|65[0-4]\d\d|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{0,3}|0))?($|\/)/.test(ao)||/^https?:\/\/(|[^/]+\.)yimg.com($|\/)/.test(ao)||/^https?:\/\/(|[^/]+\.)yahoo.net($|\/)/.test(ao)||/^https?:\/\/(|[^/]+\.)yahooapis.com($|\/)/.test(ao)||/^https?:\/\/(|[^/]+\.)rivals.com($|\/)/.test(ao)||/^https?:\/\/(|[^/]+\.)tumblr.com($|\/)/.test(ao)||/^https?:\/\/(|[^/]+\.)maktoob.com($|\/)/.test(ao));},compareVersions:function(ap,ao){var av,au,ar,at,aq,Y;if(ap===ao){return 0;}au=(ap+"").split(".");at=(ao+"").split(".");for(aq=0,Y=Math.max(au.length,at.length);aq<Y;++aq){av=parseInt(au[aq],10);ar=parseInt(at[aq],10);if(isNaN(av)){av=0;}if(isNaN(ar)){ar=0;}if(av<ar){return -1;}if(av>ar){return 1;}}return 0;},inIFrame:function(){return(window.top!==window.self);},postMessage:function(Y){var ao;if(parent&&parent.postMessage){ao=window.location.hash.split("=")[1];if(!ao){ao=1;}parent.postMessage(Y+":"+ao,"*");}},isFullscreenSupported:function(){if(!K.inIFrame()){return true;}if(window.location.hash.substr(0,4)==="#id="){return true;}return((document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled)===true);},getDuration:function(Y){Y=parseInt(Y,10);return Math.floor(Y/60)+":"+this.prefixZeroes(Y%60);},prefixZeroes:function(Y){if(Y<10){return"0"+Y.toString();}else{return Y.toString();}},isMobile:function(){var Y=f.UA;if(Y.android!==0||Y.ios!==null||Y.mobile!==null){return true;}return false;},isInternalUser:function(){var Y;if(!navigator.cookieEnabled){return false;}Y=f.Cookie.getSubs("YBY");if(!f.Lang.isNull(Y)&&f.Lang.isObject(Y)){return true;}return false;},yuiUAKeys:["ie","opera","gecko","webkit","safari","chrome","phantomjs","ipad","iphone","ipod","ios","android","silk"],getYUIUserAgent:function(){var Y=[];f.each(this.yuiUAKeys,function(ao){var ap=f.UA[ao];if(ap){Y.push(ao+":"+ap);}});return Y.join(",");},clients:{MISC:"misc",APPLE:"apple",DESKTOP:"desktop"},formats:{FLV:"flv",MP4:"mp4",MP4B:"mp4b",M3U8:"m3u8",WEBM:"webm",F4M:"f4m"},protocols:{HTTP:"http",HTTPS:"https",RTMP:"rtmp",RTMPS:"rtmps",RTSP:"rtsp"},getFormatsAndProtocols:function(ap,ar){var at,aq,Y,ao;if("html"===ap){Y=[K.protocols.HTTP];ao=[K.protocols.HTTPS,K.protocols.HTTP];if(f.Lang.isNumber(f.UA.android)&&f.UA.android>0){at=[K.formats.MP4B,K.formats.WEBM];if(f.UA.chrome>0){at.push(K.formats.M3U8);}else{at.push("h264");Y.push(K.protocols.RTSP);ao.push(K.protocols.RTSP);}aq=at.slice();aq.push(K.formats.MP4);}else{if(f.Lang.isNumber(f.UA.ios)){at=[K.formats.M3U8,K.formats.MP4];}else{if(f.UA.chrome>0){at=[K.formats.MP4,K.formats.WEBM];}else{if(f.UA.safari>0){at=[K.formats.MP4,K.formats.M3U8];}else{if((f.Lang.isNumber(f.UA.gecko)&&f.UA.gecko>0&&!this.isIE11())||f.UA.opera>=10.6){at=[K.formats.WEBM];}else{at=[K.formats.MP4];}}}}aq=at;}}else{if(ar){at=[K.formats.M3U8,K.formats.MP4,K.formats.FLV,K.formats.F4M];Y=[K.protocols.HTTP,K.protocols.RTMP];ao=[K.protocols.HTTPS,K.protocols.HTTP,K.protocols.RTMPS,K.protocols.RTMP];}else{at=[K.formats.MP4,K.formats.FLV,K.formats.F4M];Y=[K.protocols.RTMP,K.protocols.HTTP];ao=[K.protocols.RTMPS,K.protocols.RTMP,K.protocols.HTTPS,K.protocols.HTTP];
}aq=at;}return{requestFormats:at,acceptFormats:aq,requestProtocols:Y,acceptProtocols:ao};},getCaptionsStringID:function(ap){var Y=f.Object.getValue(window,"YAHOO.VideoPlatform.Captions".split(".")),ao=(ap&&Y)?Y[ap]:null;return ao;},getCaptionLocalizedString:function(au,at,ap){var ar=this.getCaptionsStringID(at),Y=null,aq;if(ar&&au&&au.length){aq=au.toLowerCase();Y=ar[aq];while(!Y&&aq){var ao=aq.lastIndexOf("-");if(ao>=0){aq=aq.substring(0,ao);Y=ar[aq];}else{aq=null;}}}if(ap){ap.lang=aq;}return Y;},filterBySupportedCaptionLocales:function(ao){var Y={};this.getCaptionLocalizedString(ao,"LANG_NAME",Y);return(Y)?Y.lang:null;},stripHtmlFromString:function(ap){var Y=ap;if(ap){var ao=document.createElement("DIV");ao.innerHTML=ap;Y=ao.innerText||ao.textContent;ao=null;}return Y;},calculateElementSize:function(ar,Y){var aq=0,ap=0,ao;for(ao=0;ao<Y.length;ao++){ap=parseInt(ar.getStyle(Y[ao]),10);if(isNaN(ap)){ap=parseInt(ar.getComputedStyle(Y[ao]),10);}if(!isNaN(ap)){aq+=ap;}}return isNaN(aq)?0:aq;},calculateElementOuterHeight:function(ao){var Y=["height","border-top-width","border-bottom-width","padding-top","padding-bottom","margin-top","margin-bottom"];return this.calculateElementSize(ao,Y);},calculateElementHeight:function(ao){var Y=["height"];return this.calculateElementSize(ao,Y);},ellipsis:function(ap,au,ar){var ao=this,Y=au.length,aq=au.length/2,at=au;while(aq>0){ap.set("innerHTML",at);if(ao.calculateElementOuterHeight(ap)<=ar){if(au.length===at.length){aq=0;}else{Y+=aq;at=au.substring(0,Y);}}else{Y-=aq;at=at.substring(0,Y);}aq=parseInt(aq/2,10);}if(au.length>at.length){ap.set("innerHTML",at+"&#8230;");while(ao.calculateElementOuterHeight(ap)>ar&&at.length>=1){at=at.substring(0,at.length-1);ap.set("innerHTML",at+"&#8230;");}}},hasValidFailoverConfig:function(aq){var ar=aq.get("streams"),ap,Y=null,ao=null;for(ap=0;ap<ar.length;ap++){if(ar[ap].cdn!==undefined){if(ar[ap].is_primary===true){Y=ar[ap].cdn;}else{if(ar[ap].is_primary===false){ao=ar[ap].cdn;}}if(Y&&ao&&Y.length>0&&ao.length>0&&Y!==ao){return true;}}}return false;},getMediaCDNName:function(ar){var Y="na",aq=ar.get("selectedStreams"),at=ar.get("selectedStreamUrl"),ap,ao="";if(!ar.get("isLive")){return"atlas";}if(aq&&aq.length>0){if(aq[0].cdn&&aq[0].cdn.length>0){return aq[0].cdn;}ao=aq[0].netConnectionPath+aq[0].netStreamPath;}else{if(at&&at.length>0){ao=at;}}if(ao&&ao.length>0){if(ao.indexOf("akamai")>-1||ao.indexOf("rtmp")===0){Y="akamai";}else{if(ao.indexOf("yahoo.com")>-1||ao.indexOf("yimg.com")>-1){Y="atlas";}else{if(ao.indexOf("llnwd.net")>-1){Y="limelight";}else{if(ao.indexOf("fastly.com")>-1){Y="fastly";}}}}}return Y;},isUserAdult:function(Y,ap){if(!f.Lang.isValue(Y)){return true;}var ao=new Date((new Date().getTime()-Y.getTime())).getUTCFullYear()-1970;if(ap.toLowerCase() in ["kr","sg","th"]){return ao>=21;}return ao>=18;},isValidDate:function(aw,ao,Y){var ap=/^\d{1,2}$/,aq=/^\d{4}$/;if(!(ap.test(aw)&&ap.test(ao)&&aq.test(Y))){return false;}var av=parseInt(ao);var ar=parseInt(aw);var au=parseInt(Y);if(au<1000||au>3000||ar===0||ar>12){return false;}var at=[31,28,31,30,31,30,31,31,30,31,30,31];if(au%400===0||(au%100!==0&&au%4===0)){at[1]=29;}return av>0&&av<=at[ar-1];},isLocalStorageAvailable:function(){var ao="test";try{localStorage.setItem(ao,ao);localStorage.removeItem(ao);return true;}catch(Y){return false;}},getPlayerSize:function(Y,ao){if(Y<t.SMALL_MAX_WIDTH||ao<=Math.floor(t.SMALL_MAX_WIDTH/t.GOLDEN_RATIO)){return"SMALL";}else{if(Y<t.MEDIUM_MAX_WIDTH||ao<=Math.floor(t.MEDIUM_MAX_WIDTH/t.GOLDEN_RATIO)){return"MEDIUM";}}return"LARGE";},getDisplayDimensions:function(Y){return{itemWidth:r.END_SCREEN_CAROUSEL_DIMENSIONS[Y].ITEM_WIDTH,itemHeight:r.END_SCREEN_CAROUSEL_DIMENSIONS[Y].ITEM_HEIGHT,imageWidth:r.END_SCREEN_CAROUSEL_DIMENSIONS[Y].IMAGE_WIDTH,imageHeight:r.END_SCREEN_CAROUSEL_DIMENSIONS[Y].IMAGE_HEIGHT,horizontalSpacing:r.END_SCREEN_CAROUSEL_DIMENSIONS[Y].HORIZONTAL_SPACING,verticalSpacing:r.END_SCREEN_CAROUSEL_DIMENSIONS[Y].VERTICAL_SPACING,carouselMargin:r.END_SCREEN_CAROUSEL_DIMENSIONS[Y].MARGIN};},maxEndScreenItemCount:function(ap,Y,ao){var aq=new h({"pltype":"endScreen","showMetadata":true,"showNavigation":false,"dimensions":ao});if(aq){return aq.maxItemCount(ap,Y,ao);}return 0;}};K.PLAYER_ASSETS_URL=(document.location.protocol==="https:")?"https://s.yimg.com/rx/builds/4.69.0.1415767921/assets/":"http://l.yimg.com/rx/builds/4.69.0.1415767921/assets/";f.namespace("VideoPlatform").Utils=K;function p(ao){var Y=this;Y.addAttrs({id:{},title:{},description:{},duration:{validator:f.Lang.isNumber},streamVideoAd:{value:false,validator:f.Lang.isBoolean},clipDuration:{validator:f.Lang.isString},comscoreC5:{validator:f.Lang.isString,writeOnce:true},comscoreC6:{value:"",validator:f.Lang.isString},images:{value:{large:null,medium:null,small:null,provider:null,thumbnail:null}},shareUrl:{},streamType:{},selectedStreams:{},selectedStreamUrl:{},failoverState:{value:"primary",validator:f.Lang.isString},embedCode:{},isLive:{validator:f.Lang.isBoolean},autoContinue:{validator:f.Lang.isBoolean},isPreFetched:{validator:f.Lang.isBoolean},eventBeginTime:{validator:f.Lang.isNumber},eventEndTime:{validator:f.Lang.isNumber},showName:{validator:f.Lang.isString},pageSpaceId:{validator:f.Lang.isString},CC:{},adData:{validator:f.Lang.isObject},licensorName:{validator:f.Lang.isString},licensorId:{validator:f.Lang.isString},licenseName:{validator:f.Lang.isString},licenseId:{validator:f.Lang.isString},spaceId:{validator:f.Lang.isString},originatingProperty:{validator:f.Lang.isString},cms:{},embeddable:{value:undefined,validator:f.Lang.isBoolean},bitrate:{},sessionGUID:{},playlistId:{},streams:[],selectableStreams:{},visualseek:{},streamUrlOwner:{validator:f.Lang.isString},liveReloadCount:{value:0,validator:function(ap){return f.Lang.isNumber(ap);}},format:{},status:{},streamUrl:{},metrics:{validator:function(ap){return f.Lang.isObject(ap);}},adTargeting:{},adTargetingCategory:{},enforcedFormatAndProtocol:{},mediaInfo:{value:{currentKbps:null,droppedFrames:null,playbackBytesPerSecond:null,frameRate:null,bufferLength:null,bufferingRatio:null,bufferSample:null,bufferTime:null,totalMemory:null,currentStreamIndex:null,currentStreamBitrate:null,qualityLevels:null,hwDecoding:null,hwRendering:null,minBitRate:null,maxBitRate:null,highestQualityPlaybackRatio:null,streamSwitchReason:null,mediaWidth:null,mediaHeight:null}},history:{value:{currentStreamBitrate:[],frameRate:[],currentKbps:[],streamSwitchReason:[],bufferLength:[]}},provider:{value:{name:null,logoUrl:null,provider_id:null,provider_video_id:null,publisher_id:null}},ageGate:{value:null,validator:function(ap){return ap==="none"||ap==="login"||ap==="birthday";
}},hdAvailable:{validator:f.Lang.isFunction},rendererType:{validator:function(ap){return ap==="html"||ap==="flash";}},streamBitrate:{value:null},instrumentation:{value:{algoName:null,algoContext:null}},streamProtocol:{value:undefined},credits:{},copyright:{},genre:{}},ao);Y.after("mediaInfoChange",function(aq){var ar=aq.newVal,au=Y.get("history"),at=["frameRate","currentStreamBitrate","currentKbps","streamSwitchReason","bufferLength"],av,ap;for(av=0;av<at.length;av++){ap=at[av];au[ap].push(ar[ap]);if(au[ap].length>240){au[ap].shift();}}},Y);}p.prototype={toObject:function(){return this.getAttrs();},hasStreamData:function(){var ao=this.get("streams"),Y=this.get("streamUrl");return((ao&&ao.length)||(Y&&Y.length));},_fireAttrChange:function(ao,at,ar,Y,aq){f.Attribute.prototype._fireAttrChange.apply(this,arguments);var ap=(aq)?f.merge(aq):this._ATTR_E_FACADE;this.fire("attrChange",ap);},getStreamType:function(){var Y=this.get("streamUrl"),ao=this.get("streams");if(!this.hasStreamData()){return"na";}if(Y&&Y.length){return K.getStreamType(Y,K.parseUrl(Y).protocol);}if(ao&&ao.length){return K.getStreamType(ao[0].path,this.get("streamProtocol"));}return"na";}};f.augment(p,f.Attribute);f.namespace("VideoPlatform").MediaObject=p;function ac(ao){if(f.Lang.isValue(ao)){var Y=f.Lang.isArray(ao)?ao:f.Array(ao);this._items=f.Array.map(Y,function(ap){return f.instanceOf(ap,p)?ap:new p(ap);});}else{this._items=this._items||[];}this._registerItems(this._items);this.publish("itemChange",{emitFacade:true});this.publish("clear",{emitFacade:true});}f.extend(ac,f.ArrayList,{toArray:function(){return f.Array.map(this._items.concat(),function(Y){return Y.toObject();});},add:function(aq,ao){var Y=this._items,ar=f.instanceOf(aq,p)?aq:new p(aq),ap;if(f.Lang.isNumber(ao)){Y.splice(ao,0,ar);ap=ao;}else{Y.push(ar);ap=Y.length-1;}this.fire("add",{item:this.item(ap)});return this;},reset:function(){this._items=[];},find:function(Y,ao){return f.Array.find(this._items,Y,ao);},getIndexById:function(ao){var Y;Y=-1;f.Array.some(this._items,function(aq,ap){if(aq.get("id")===ao){Y=ap;return true;}});return Y;},remove:function(ar,ap,Y){var aq=[],ao;Y=Y||this.itemsAreEqual;for(ao=this._items.length-1;ao>=0;--ao){if(Y.call(this,ar,this.item(ao))){aq=aq.concat(this._items.splice(ao,1));if(!ap){break;}}}if(aq.length>0){this._deregisterItems(aq);this.fire("remove",{items:aq});}return this;},removeItems:function(Y,ap){var ao;if(f.Lang.isUndefined(ap)){throw new Error("Expected count, did you mean to use removeItem?");}ao=this._items.splice(Y,ap);this._deregisterItems(ao);},removeItem:function(Y){this.removeItems(Y,1);},removeItemById:function(ao){var Y=this.getIndexById(ao);this.removeItem(Y);},removeItemsById:function(ao){var Y=this;f.each(ao,function(ap){Y.removeItemById(ap);});},clear:function(){this._deregisterItems(this._items);this._items=[];this.fire("clear");},_registerItems:function(Y){f.Array.each(Y,function(ao){ao.after("attrChange",this._onItemAttrChange,this);},this);},_deregisterItems:function(Y){f.Array.each(Y,function(ao){ao.detach("attrChange",this._onItemAttrChange,this);},this);},_onItemAttrChange:function(ao){var Y=ao.target;this.fire("itemChange",f.merge(ao,{mediaObject:Y,index:this.indexOf(Y)}));}});f.augment(ac,f.EventTarget);f.namespace("VideoPlatform").MediaCollection=ac;function H(Y){this.addAttrs({id:{value:"",validator:function(ap){return f.Lang.isValue(ap);}},totalLength:{value:0,validator:function(ap){return f.Lang.isNumber(ap);}},totalRequested:{value:0,validator:function(ap){return f.Lang.isNumber(ap);}},title:{value:"",validator:function(ap){return f.Lang.isValue(ap);}},description:{value:"",validator:function(ap){return f.Lang.isValue(ap);}},mediaItems:{value:new f.VideoPlatform.MediaCollection(),writeOnce:"initOnly",setter:function(ap){if(!f.instanceOf(ap,f.VideoPlatform.MediaCollection)){return new f.VideoPlatform.MediaCollection(ap);}}}},Y);var ao=this.items();ao.after("itemChange",this._onItemChange,this);ao.after("add",this._onItemAdd,this);ao.after("remove",this._onItemRemove,this);this.publish("mediaItemChange",{emitFacade:true});this.publish("mediaItemRemove",{emitFacade:true});this.publish("mediaItemAdd",{emitFacade:true});}H.prototype={items:function(){return this.get("mediaItems");},toObject:function(){var Y=this.getAttrs(),ao=[];f.each(Y.mediaItems,function(ap){ao.push(ap.toObject());});Y.mediaItems=ao;return Y;},_onItemChange:function(Y){this.fire("mediaItemChange",{attrName:Y.attrName,index:Y.index,newVal:Y.newVal,prevVal:Y.prevVal,mediaObject:Y.mediaObject});},_onItemAdd:function(Y){this.fire("mediaItemAdd",{item:Y.item});},_onItemRemove:function(Y){this.fire("mediaItemRemove",{items:Y.items});},_fireAttrChange:function(ao,at,ar,Y,aq){f.Attribute.prototype._fireAttrChange.apply(this,arguments);var ap=(aq)?f.merge(aq):this._ATTR_E_FACADE;this.fire("attrChange",ap);}};f.augment(H,f.Attribute);f.namespace("VideoPlatform").PlaylistObject=H;function ah(){this._items=[];}ah.prototype.items=function(){return this._items;};ah.prototype.add=function(Y){this._items.push(Y);this.fire("itemAdded",{item:Y});return this;};f.augment(ah,f.EventTarget);f.namespace("VideoPlatform").ProfileDataCollection=ah;function Q(){Q.superclass.constructor.apply(this,arguments);this.START_TIME=(new Date()).getTime();var Y=this.get("playlist");Y.after("attrChange",this._onPlaylistAttrChange,this);Y.after("mediaItemChange",this._onMediaItemChange,this);Y.after("mediaItemAdd",this._onMediaItemAdd,this);Y.after("mediaItemRemove",this._onMediaItemRemove,this);this.publish("playlistAttrChange",{emitFacade:true});this.publish("playlistItemChange",{emitFacade:true});this.publish("playlistItemAdd",{emitFacade:true});this.publish("playlistItemRemove",{emitFacade:true});}Q.NAME="Model";Q.NS="model";Q.ATTRS={version:{value:"4.69.0.1415767921",readOnly:true},hostingData:{writeOnce:true,setter:function(Y){return{bucket:Y.bucket,colo:Y.colo,env:Y.env};}},config:{value:null,validator:function(Y){return f.Lang.isObject(Y);}},criticalError:{value:null,validator:function(Y){return f.Lang.isObject(Y);
}},fullscreen:{value:false,validator:f.Lang.isBoolean},height:{validator:function(Y){return f.Lang.isNumber(Y)&&Y>=0;}},width:{validator:function(Y){return f.Lang.isNumber(Y)&&Y>=0;}},adClientSize:{value:{width:0,height:0}},volume:{value:0.7,validator:function(Y){return f.Lang.isNumber(Y);}},mute:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},autoplay:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},skipComscoreJsLoading:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},ybang:{value:true,validator:function(Y){return f.Lang.isBoolean(Y);}},carousel:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},adPlaybackOnly:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},partnerCarouselItems:{value:null},endscreen:{value:true,validator:function(Y){return f.Lang.isObject(Y)||f.Lang.isBoolean(Y);},contentAlgo:{value:"",validator:function(Y){return f.Lang.isString(Y);}}},infoscreen:{value:true,validator:function(Y){return f.Lang.isObject(Y)||f.Lang.isBoolean(Y);}},errorscreen:{value:true,validator:function(Y){return f.Lang.isObject(Y)||f.Lang.isBoolean(Y);}},agegatescreen:{value:false,validator:f.Lang.isBoolean},startscreen:{value:{showProvider:false,showDesc:true,showButton:true,showTitle:true},validator:function(Y){return f.Lang.isObject(Y)||(f.Lang.isBoolean(Y)&&!Y);}},userPreferencesAvailable:{value:false,validator:f.Lang.isBoolean},canPlayMatureContent:{value:false,validator:f.Lang.isBoolean},client:{value:""},YVAP:{value:null,setter:function(Y){return new f.Attribute().addAttrs({accountId:{value:""},playContext:{value:""},ruleSetId:{value:-1},timeout:{value:""}},Y);}},YVAPRequired:{value:true},synd:{value:"",validator:f.Lang.isString},adPluginMetric:{value:null},adPluginQosMetric:{value:null},mediaFormats:{validator:f.Lang.isArray},continuousPlay:{value:false,validator:f.Lang.isBoolean},guid:{writeOnce:true,validator:f.Lang.isString},playerSpaceId:{value:"0"},pageSpaceId:{value:"0"},reportingDomain:{value:"unknown.videoplayer.yahoo.com"},lang:{value:"",validator:f.Lang.isString},bitrate:{value:900,validator:function(Y){return f.Lang.isNumber(Y);}},shareUrlTemplate:{value:"http://video.yahoo.com/play/{videoId}"},chromeless:{value:false,validator:f.Lang.isBoolean},warning:{value:null},error:{value:null},errorDisplayDuration:{value:5,validator:f.Lang.isNumber},beacons:{value:[],validator:f.Lang.isArray},site:{value:"",validator:f.Lang.isString},site_analytics:{value:"",validator:f.Lang.isString},region:{value:""},jurisdiction:{value:""},comscoreC4:{validator:function(Y){return f.Lang.isString(Y)&&(Y.length>0);}},isOffNetwork:{value:false,validator:f.Lang.isBoolean},lms:{value:"none",validator:function(Y){return"none"===Y||"all"===Y;}},rendererType:{validator:f.Lang.isString},videoRendererState:{},rendererReady:{value:false},videoPlaybackState:{value:null},currentMedia:{value:null},duration:{value:-1,validator:function(Y){return f.Lang.isNumber(Y)||Y===Number.POSITIVE_INFINITY;}},overrideDuration:{value:-1,validator:function(Y){return f.Lang.isNumber(Y);}},playbackPosition:{value:-1,validator:f.Lang.isNumber,setter:function(Y){this.set("currentTime",Y);return Math.floor(Y);}},currentTime:{value:-1,validator:f.Lang.isNumber},adPlaybackPosition:{value:-1,validator:f.Lang.isNumber},playlistPosition:{value:-1,validator:f.Lang.isNumber},playlist:{value:new H(),writeOnce:"initOnly",setter:function(Y){return new H(Y);}},startVideo:{value:"",validator:f.Lang.isString},playerState:{value:null},yvapState:{value:null},yvapData:{value:null},isInitialized:{value:false},activeScreenStr:{value:undefined},isLoading:{value:false},isLoaded:{value:false},isPreparing:{value:false},isPrepared:{value:false},isStarted:{value:false},isCompleted:{value:false},isPlaying:{value:false},isWaiting:{value:false},isSeeking:{value:false},isPaused:{value:false},isError:{value:false},isPlaybackError:{value:false},expType:{value:"",validator:f.Lang.isString},expName:{value:"",validator:f.Lang.isString},expBucket:{value:"",validator:f.Lang.isString},profileData:{value:null,setter:function(){return new f.VideoPlatform.ProfileDataCollection();}},isSpinnerShown:{value:false},userAuthenticated:{value:true,validator:f.Lang.isBoolean},ccAvailable:{value:false,validator:f.Lang.isBoolean},ccSettingsAvailable:{value:false,validator:f.Lang.isBoolean},ccSettings:{value:{show:false,lang:K.filterBySupportedCaptionLocales(f.config.lang)||"en",fontSize:24,fontName:"Helvetica Neue,Helvetica,Arial,_sans",fontColor:"#ffffff",fontOpacity:1,fontEffect:"none",bgColor:"#000000",bgOpacity:0.75},validator:function(ar){var ap={show:f.Lang.isBoolean,lang:f.Lang.isString,fontSize:f.Lang.isNumber,fontName:f.Lang.isString,fontColor:f.Lang.isString,fontOpacity:f.Lang.isNumber,fontEffect:f.Lang.isString,bgColor:f.Lang.isString,bgOpacity:f.Lang.isNumber},ao;for(ao in ap){if(f.Object.hasKey(ap,ao)){if(ar[ao]===undefined){return false;}}}for(ao in ar){if(f.Object.hasKey(ar,ao)){var Y=ap[ao];if(Y!==undefined){var aq=ar[ao];if(!Y(aq)){return false;}}else{return false;}}}return true;},setter:function(ao,Y){Y=Y;return ao;}},atlasEnv:{value:""},CMS:{value:{env:null,host:null,suppressAdContext:false}},SAPI_CONF:{value:{host:null}},emptySpaceIdContextInSapi:{value:false,validator:f.Lang.isBoolean},endScreenVideos:{value:new H(),writeOnce:"initOnly",setter:function(Y){return new H(Y);}},endScreenAds:{value:[new p({streamVideoAd:true,images:{thumbnail:K.PLAYER_ASSETS_URL+"mass_mutual_1.png"},streamUrl:"http://ads.yldmgrimg.net/apex/mediastore/0d92d836-028d-4c62-8327-5bbccdef6e02",title:"MassMutual Financial Group"}),new p({streamVideoAd:true,images:{thumbnail:K.PLAYER_ASSETS_URL+"etrade.png"},streamUrl:"http://ads.yldmgrimg.net/apex/mediastore/ef5c897e-274d-4b29-ac62-3495e8f257f5",title:"E*Trade: Are you type E*?"}),new p({streamVideoAd:true,images:{thumbnail:K.PLAYER_ASSETS_URL+"5-hour-energy.png"},streamUrl:"http://ht.cdn.turner.com/ttn/big/video/ads/2014/03/5HE30CIF2H_03_31.768x432.mp4",title:"5-Hour Energy"}),new p({streamVideoAd:true,images:{thumbnail:K.PLAYER_ASSETS_URL+"5-hour-energy-1.png"},streamUrl:"http://ht.cdn.turner.com/ttn/big/video/ads/2014/05/5HE30SOWF1H_05_08.ttn_640x360_700k.mp4",title:"5-Hour Energy"}),new p({streamVideoAd:true,images:{thumbnail:K.PLAYER_ASSETS_URL+"merill-edge.png"},streamUrl:"http://ads.yldmgrimg.net/apex/mediastore/1902b9e9-68da-4f6e-af84-4f6551614618",title:"Merrill Edge"})],validator:f.Lang.isArray},relatedVideosLinkContexts:{value:null,validator:f.Lang.isString},relatedVideosVideoContext:{value:null,validator:f.Lang.isString},showControls:{value:false,validator:f.Lang.isBoolean},closedCaptionUrl:{value:null,validator:f.Lang.isString},closedCaptions:{value:null,validator:f.Lang.isObject},maxConnectionAttempts:{value:"3",validator:f.Lang.isNumber},streamAd:{value:null},standaloneAdMode:{value:false},loop:{value:false,validator:f.Lang.isBoolean},loopingTriggered:{value:false,validator:f.Lang.isBoolean},isVisualSeekEnabled:{value:true,validator:f.Lang.isBoolean},pageLatency:{value:{pagePlayerJsDownloadStart:null,pagePlayerJsDownloadTime:null,pageMediaItemPrefetchTime:null}},selectedResolution:{value:null,validator:f.Lang.isNumber},changingResolution:{value:false,validator:f.Lang.isBoolean},useHlsFlash:{value:"false",validator:f.Lang.isString},enableTachyonMigration:{value:"false",validator:f.Lang.isString},ignoreBuffering:{value:false},isVsaEnabled:{value:"false",validator:f.Lang.isString}};
f.extend(Q,f.Base,{_onPlaylistAttrChange:function(Y){this.fire("playlistAttrChange",Y);},_onMediaItemChange:function(Y){this.fire("playlistItemChange",Y);},_onMediaItemAdd:function(Y){this.fire("playlistItemAdd",Y);},_onMediaItemRemove:function(Y){this.fire("playlistItemRemove",Y);}});f.namespace("VideoPlatform").Model=Q;function t(){t.superclass.constructor.apply(this,arguments);}t.CSS=".yui3-videoplayer-loading,.yui3-videoplayer-carousel-left,.yui3-videoplayer-carousel-right,.yui3-videoplayer-controls .embed-chainlink-button,.yui3-videoplayer-controls .fb-icon,.yui3-videoplayer-controls .mail-icon,.yui3-videoplayer-controls .tumblr-icon,.yui3-videoplayer-controls .twitter-icon,.yui3-videoplayer-errorscreen-download-flash-button,.yui3-videoplayer-partner-bar .branding-logo,.yui3-videoplayer-nfl-brand-span,.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-span,.yui3-videoplayer-nfl-brand-logo,.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-logo,.yui3-videoplayer-controls .play-pause span,.yui3-videoplayer-carousel-viewport-item .overlay .play-button,.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-button,.yui3-videoplayer-controls .settings span,.yui3-videoplayer-controls .y-logo,.yui3-videoplayer-controls .volume .mute span,.yui3-videoplayer-controls .accessibility-cc-icon,.yui3-videoplayer-controls .accessibility-cc-icon:hover,.yui3-videoplayer-controls .mature-content-marker .maturity-icon,.yui3-videoplayer-controls .size .full,.yui3-videoplayer-controls .size .full:hover,.yui3-videoplayer-controls .size .small,.yui3-videoplayer-controls .size .small:hover,.yui3-videoplayer-agegate-icon,.yui3-videoplayer-ccoptions-container .effect-depressed,.yui3-videoplayer-ccoptions-container .effect-none,.yui3-videoplayer-ccoptions-container .effect-dropshadow,.yui3-videoplayer-ccoptions-container .effect-raised,.yui3-videoplayer-ccoptions-container .effect-uniform,.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back,.yui3-videoplayer-uiwidget-selector .dropdownicon,.yui3-videoplayer-ccoptions-container .settingnode-content .fwd-icon,.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close,.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close:hover,.yui3-videoplayer-uiwidget-colorpicker .color-option.nocolor{background-image:url('http://l.yimg.com/rx/builds/4.69.0.1415767921/assets/main-images.png');background-repeat:no-repeat;background-color:transparent}.ssl.yui3-videoplayer-content .yui3-videoplayer-loading,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-left,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-right,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .embed-chainlink-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .fb-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mail-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .tumblr-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .twitter-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-errorscreen-download-flash-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-partner-bar .branding-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-nfl-brand-span,.ssl.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-span,.ssl.yui3-videoplayer-content .yui3-videoplayer-nfl-brand-logo,.ssl.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .play-pause span,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-viewport-item .overlay .play-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-carousel-node .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .accessibility-cc-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .accessibility-cc-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mature-content-marker .maturity-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .small,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .small:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-agegate-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-depressed,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-none,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-dropshadow,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-raised,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-uniform,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back,.ssl.yui3-videoplayer-content .yui3-videoplayer-uiwidget-selector .dropdownicon,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .settingnode-content .fwd-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-uiwidget-colorpicker .color-option.nocolor{background-image:url('https://s.yimg.com/rx/builds/4.69.0.1415767921/assets/main-images.png');background-repeat:no-repeat;background-color:transparent}.yui3-videoplayer-loading{background-position:-158px -14px;width:80px;height:80px}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-left{background-position:-228px -146px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left:hover{background-position:-228px -96px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-right{background-position:-228px -196px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right:hover{background-position:-226px -246px;width:40px;height:50px}.yui3-videoplayer-controls .embed-chainlink-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .embed-chainlink-button{background-position:-251px -331px;width:11px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMS4zNDUgMTIiIHdpZHRoPSIxMS4zNDUiPjxnIGZpbGw9IiM2NjY1NjQiPjxwYXRoIGQ9Ik00LjE5NyA0LjgzNGwuODc3Ljg3NnMxLjE2OC0xLjI3NyAyLjA4LS4yNTZjMCAwIDMuNzIyIDIuNjMgMi40MDggNC4zOCAwIDAtMS42MDUgMS45MzQtMy4yODQtLjg0bC0xLjQyMy4xMXMyLjAwNyA0LjUyNCA1LjIyIDIuMjYyYzAgMCAyLjA0Mi0xLjQ5Ni45NDctMy43NiAwIDAtMy4zOTQtNS43MjgtNi44MjUtMi43NzJ6TTcuMTQ4IDcuMTY2TDYuMjcgNi4yOXMtMS4xNjcgMS4yNzctMi4wOC4yNTZjMCAwLTMuNzIyLTIuNjI4LTIuNDA4LTQuMzggMCAwIDEuNjA2LTEuOTM0IDMuMjg1Ljg0bDEuNDIzLS4xMVM0LjQ4Mi0xLjYzIDEuMjcuNjMzYzAgMC0yLjA0MyAxLjQ5Ni0uOTQ4IDMuNzYgMCAwIDMuMzk1IDUuNzMgNi44MjYgMi43NzN6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-251px -331px}.yui3-videoplayer-controls .resolution span.hd-icon{background-position:-188px -348px;width:16px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iLTAuMDMxIC0wLjMxMiAxNiAxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAtMC4wMzEgLTAuMzEyIDE2IDEyIj48ZyBmaWxsPSIjY2NjIj48cGF0aCBkPSJNMTIuMDcgNC4zNGMtLjEzLS4xNzYtLjI5Ny0uMzEtLjUwNy0uNDAyLS4yMS0uMDkzLS40NzMtLjE0LS43OC0uMTRoLS44OTd2My43NzhoMS4xMmMuMTgzIDAgLjM1NC0uMDI4LjUyNy0uMDkuMTcyLS4wNjQuMzItLjE2NC40NTctLjMwNi4xMzUtLjE0NS4yMzUtLjMzLjMxNi0uNTU4LjA4LS4yMy4xMi0uNTEuMTItLjg0MiAwLS4zMDQtLjAzLS41NzUtLjA4NC0uODItLjA1LS4yNC0uMTQzLS40NS0uMjctLjYyek0xMS4zOTUtLjMxMkg0LjU0Yy0yLjUyNiAwLTQuNTczIDIuMTUtNC41NzMgNC44MDNWNi44OWMwIDIuNjUgMi4wNDcgNC44IDQuNTczIDQuOGg2Ljg1NWMyLjUyNCAwIDQuNTcyLTIuMTQ4IDQuNTcyLTQuOFY0LjQ5YzAtMi42NTItMi4wNDgtNC44MDItNC41NzItNC44MDJ6bS0zLjg3IDlINi4yNzNWNi4xMDJIMy45NnYyLjU4NEgyLjcwNXYtNkgzLjk2djIuMzA0aDIuMzEzVjIuNjloMS4yNTVsLS4wMDIgNnptNi0xLjgyM2MtLjEwNC4zNzItLjI2OC42ODgtLjQ4Mi45NTQtLjIxNC4yNjgtLjQ4LjQ4LS44MS42MzgtLjMyMi4xNTItLjcuMjMtMS4xNC4yM0g4LjYzdi02aDIuNDY0Yy4zNyAwIC43MTIuMDY1IDEuMDI2LjE4Ny4zMTcuMTI1LjU5My4zMS44MjQuNTU4LjIzLjI0NS40MTIuNTUyLjU0Mi45MjMuMTMyLjM3LjE5NS44MDcuMTk1IDEuMzA0LjAwNi40MzItLjA0Ny44MzYtLjE1NCAxLjIwNXoiLz48L2c+PC9zdmc+);background-position:0 0,0 0;*background-position:-188px -348px}.yui3-videoplayer-controls .resolution span:hover span.hd-icon{background-position:-210px -255px;width:16px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iLTAuMDMxIC0wLjMxMiAxNiAxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAtMC4wMzEgLTAuMzEyIDE2IDEyIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTIuMDcgNC4zNGMtLjEzLS4xNzYtLjI5Ny0uMzEtLjUwNy0uNDAyLS4yMS0uMDkzLS40NzMtLjE0LS43OC0uMTRoLS44OTd2My43NzhoMS4xMmMuMTgzIDAgLjM1NC0uMDI4LjUyNy0uMDkuMTcyLS4wNjQuMzItLjE2NC40NTctLjMwNi4xMzUtLjE0NS4yMzUtLjMzLjMxNi0uNTU4LjA4LS4yMy4xMi0uNTEuMTItLjg0MiAwLS4zMDQtLjAzLS41NzUtLjA4NC0uODItLjA1LS4yNC0uMTQzLS40NS0uMjctLjYyek0xMS4zOTUtLjMxMkg0LjU0Yy0yLjUyNiAwLTQuNTczIDIuMTUtNC41NzMgNC44MDNWNi44OWMwIDIuNjUgMi4wNDcgNC44IDQuNTczIDQuOGg2Ljg1NWMyLjUyNCAwIDQuNTcyLTIuMTQ4IDQuNTcyLTQuOFY0LjQ5YzAtMi42NTItMi4wNDgtNC44MDItNC41NzItNC44MDJ6bS0zLjg3IDlINi4yNzNWNi4xMDJIMy45NnYyLjU4NEgyLjcwNXYtNkgzLjk2djIuMzA0aDIuMzEzVjIuNjloMS4yNTVsLS4wMDIgNnptNi0xLjgyM2MtLjEwNC4zNzItLjI2OC42ODgtLjQ4Mi45NTQtLjIxNC4yNjgtLjQ4LjQ4LS44MS42MzgtLjMyMi4xNTItLjcuMjMtMS4xNC4yM0g4LjYzdi02aDIuNDY0Yy4zNyAwIC43MTIuMDY1IDEuMDI2LjE4Ny4zMTcuMTI1LjU5My4zMS44MjQuNTU4LjIzLjI0NS40MTIuNTUyLjU0Mi45MjMuMTMyLjM3LjE5NS44MDcuMTk1IDEuMzA0LjAwNi40MzItLjA0Ny44MzYtLjE1NCAxLjIwNXoiLz48L2c+PC9zdmc+);background-position:0 0,0 0;*background-position:-210px -255px}.yui3-videoplayer-controls .resolution span.selected span.hd-icon{background-position:-210px -243px;width:16px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iLTAuMDMxIC0wLjMxMiAxNiAxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAtMC4wMzEgLTAuMzEyIDE2IDEyIj48ZyBmaWxsPSIjNUYzRkZGIj48cGF0aCBkPSJNMTIuMDcgNC4zNGMtLjEzLS4xNzYtLjI5Ny0uMzEtLjUwNy0uNDAyLS4yMS0uMDkzLS40NzMtLjE0LS43OC0uMTRoLS44OTd2My43NzhoMS4xMmMuMTgzIDAgLjM1NC0uMDI4LjUyNy0uMDkuMTcyLS4wNjQuMzItLjE2NC40NTctLjMwNi4xMzUtLjE0NS4yMzUtLjMzLjMxNi0uNTU4LjA4LS4yMy4xMi0uNTEuMTItLjg0MiAwLS4zMDQtLjAzLS41NzUtLjA4NC0uODItLjA1LS4yNC0uMTQzLS40NS0uMjctLjYyek0xMS4zOTUtLjMxMkg0LjU0Yy0yLjUyNiAwLTQuNTczIDIuMTUtNC41NzMgNC44MDNWNi44OWMwIDIuNjUgMi4wNDcgNC44IDQuNTczIDQuOGg2Ljg1NWMyLjUyNCAwIDQuNTcyLTIuMTQ4IDQuNTcyLTQuOFY0LjQ5YzAtMi42NTItMi4wNDgtNC44MDItNC41NzItNC44MDJ6bS0zLjg3IDlINi4yNzNWNi4xMDJIMy45NnYyLjU4NEgyLjcwNXYtNkgzLjk2djIuMzA0aDIuMzEzVjIuNjloMS4yNTVsLS4wMDIgNnptNi0xLjgyM2MtLjEwNC4zNzItLjI2OC42ODgtLjQ4Mi45NTQtLjIxNC4yNjgtLjQ4LjQ4LS44MS42MzgtLjMyMi4xNTItLjcuMjMtMS4xNC4yM0g4LjYzdi02aDIuNDY0Yy4zNyAwIC43MTIuMDY1IDEuMDI2LjE4Ny4zMTcuMTI1LjU5My4zMS44MjQuNTU4LjIzLjI0NS40MTIuNTUyLjU0Mi45MjMuMTMyLjM3LjE5NS44MDcuMTk1IDEuMzA0LjAwNi40MzItLjA0Ny44MzYtLjE1NCAxLjIwNXoiLz48L2c+PC9zdmc+);background-position:0 0,0 0;*background-position:-210px -243px}.yui3-videoplayer-controls .y-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo{background-position:-160px -253px;width:50px;height:12px}.yui3-videoplayer-controls .y-logo:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo:hover{background-position:-160px -241px;width:50px;height:12px}@media(-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.yui3-videoplayer-controls .y-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo{background-size:50px 12px;background-image:none,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAYCAMAAAA73KjcAAADAFBMVEUAAADv7+/v7/Pt7vLt7/G/v8m/v8e/v8vt7vHv7++/v8+/v8j///++vsrv7/Ht7vK+vsq+vsm/v8m+vsq/v8nt7vLLytDJyc/Gx8/Tz9bv7/Lu7vK+vsnw8PLs7PHr6+/t7vHv7/S+vsnr6/K/v8rt7fG/v7/Ly8/LytDHyNDt7fHIyNDHx8/r7+/w8fPt7fDDxc/FxdHr7fC+v8fy8vTz8/P09PTv7/fLyc/z8/S9vsjy8vPDxdDr7fDGxtHl5urKyc/q6+/Bwcfu8PHGxs/Z2+HBwcbBwce9vsfp6e3x8fPGx9C8v8bFxtDx8fLn5+/o6e3q7PDd3+XGyNDr7PHTz9fJytXAwMfGyNC/v8S8vcjs7fG9vce+vsrw8fPy8/TKydDz8/Pp6vDT09jX19vLydDMyM/Bwcbz8/Pz8/Pj5OjQ0Njz8/PDxc7i4+jLy9PHz9fd3efl5evJydTu8PK8vMfHydTExc7P39/O0djZ2d7s7fHs7fLs7PHX09vX1dvBwcfx8fHLy9W9vcjMzdfk5OvP0dne4ObFxcrOztfs7PHa2+HHx9Dj5urAwMbu8PLq6+7V1dzIyNDMzNXn6ezCwsy/v8fd3uS+vsb29/q7vce/wcva2uHk5OTJytHOztPu7/K/v8ri4+jr7PDPz9fCws3p6e3t7fHf3+Xc3ePFxtDFxc/Ly9TExdDLytDJydDX197f4ObU1NzGx9DW2N/R0dnS0tjOztfT1NvIyNLw8PLZ2uG/v8e9vsjMzNLf3+LGx9HIydPb3OHNz9fl5+zHyNDIyNDt7vHQ0djV1t3p6evk5Obq6uzn6Ovg4eXa2d7Pz9bx8fPe3+Ti4ufq6+/n6O3q6/DAwszT1dzJytLMztfr7O/P0Njj5evNzdTZ2d/LzNXj5OnR09zb3OPDxM73+Pzc3OHX2Nzt7e/s6+3V1NnNz9nm5ujT09m+wMrV1drv7/HQz9TExMro6ezz8/bb3ePk5ejGxszk5OnX2N3NztTS0tnExtDY2Ny+v8rt7fIoagowAAAAoHRSTlMAIEDvgIAgQL8QEFBA32Dfr+8wn2Cfn2AwEHCPv1BgQK8wj1BwgBBA35/P7yAwv4+Av59gv3AwIIDv78/fj7+/cO/vv3Bgv2C/j6/fcO/PIO+Av2DvIL+PvzCv34DP7+/vQL/v749QcJ+A37/f79+AIICfMI/Pj78Qz7+/73BA789g75+vj2Cfv4/vz+/Pn8/Pv79QYO9A39+vgIBwML/PM2ASJgAABDJJREFUSMetlWdgFEUUx2fvct1LrqTnUkgjiRBCAggI0ougdESaXVHBgl2xK1bsvc/u5va8liuppJ6RABFDAkSRKkizN2zYZ2d3b8sdX4zvy5t9d/N+M+//Zga8BQgDEE0FDFrwv9vK6uYUCQN2egcIuXSU/Lv82GvARrrhoGgkiXZq/nv+QbeU9XR0dGz7YMTIs6IxeOwfADROWi9EMmG9GfvyKQQfsq3OmxLNkvzcrCw8MGSWX/Rhz+cXjxgp1nqofvs3JVdeNXhwWuolvV9cbRBrA4DRHISJXMCgpkgd3hADs/ipOpKC0TwaEuIFFam3X56ahrJdsW3MNfxvOZMazkzjxxmjazrWjOIhYQdyJpJRc9gU6LOwPhvWh9TxIMkYYijr6SvN4LKlftl8Np6c09+3IV2sXFpN7xhcsgToy2e9w8etWwXdVqx6Hu1sFHYng+gwJO+jPaXRUGrD97OQmzupqStdqs/omq/ncBCnifVaMoS1F1QnYIvdyghCkZReDnnx462zJdlKendkA/Doz7Wl8i4o+WHHAyyEJo34O9/LLjABhrHqaOA12YOQOA3klSOeqZJkE2v2zQEZde/XpsshEwO/sFvRUyu5b6M1CDMJNUOauD6mzMDmFaRXQFIWd+/1DJEkGxI43ky8sD9yvqKf0wOnmpFa+hY7Hyh0Muo86HMAXnZUNbNbHReSsPCQIt+GBphdEflzuPLUbP4DqhAknCwEzI0QhkgbHutpEslf6OOlJ6lnzhDsTQR546hfnu/5hi1Fy3b7YyEH2QzQpxWXSNFebl9IdraPjSRTxkOaqqOGIK+3fXaBLNmFm11FM//2Vyghs7u2FCHIS2LEsTFk5bogC3rxBu1hdrcs5FmdYIUIsqLtwAI5pM81f9lRBRlZ1x5XJiBoC5BW+1z+1IeseGBywpR4mlS1UfPkmuynC1Y4Dy9QQmq3unKBitLIIAl4kAgbm97FFnHjLlZ219LWThch7S5P+MDcqlZmnrK7PE00AbJbdHEgSQyp0aDKmDSWjTgUc05ePejKkSRb6PnkSVDcutM1VA6Z6ql7Cp25oDEWooJBBx/SkpvU8SBVrb8tlyQbF9n7CABP/+6qlEPGReqmoevwQQAUtxLqX1521iz1qAfj3F3TA/3jo6Hb/LtvZ1c0eRdSQGIV/vfuRG7dObEQ9o6MxkxOOkkOMeF/Fd8fODmMu7cNN9V9eysuyIxf+xdJCjbtq8h1NyN/x40SCDcdbaQxXwya3TAx3ntSvOTH764dVpBbMP76vrZ8vugzAiefELQyzN/UPdYW83Jy04nL1g6XPPGFD6+vtFlumCC+J/bHuUbXrpo+ub29fezM88S/L33sr33LETo3p3LR4UMPseyMCXffEwMZoL285J0TJ45/2l39Ns++d9dPjAwSHjgEW7FkvPi+zruQ+xcbJ37MpTXGuQAAAABJRU5ErkJggg==);background-position:0 0,0 0}.yui3-videoplayer-controls .y-logo:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo:hover{background-size:50px 12px;background-image:none,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAYCAMAAAA73KjcAAADAFBMVEUAAAD////f1+ft7vLt7/Hb2+XZ2eTb2+Pt7vHf39/v7+/v7/Pv7/Lv7/Hb2uXt7vLc2uTb2+Tt7vLd3ePf3OHf2+P39/fb2+Xb2+bX1+PZ2eL4+Pvc2uX3+Pnt7vH3+fvc2eTZ1+Hu7vLd3OLRz9fc2uXW1t/1+Pva2uP39/y/v8v////d3ePd3OPb2+Pv7/LZ2OPv7/Ha2uHZ2eL39/v19vnf3OP////8/Pz////d3OP3+fvp6vD8/P/b2+Tu8PHZ2OHf39/a2uPX2OT39//v8ffd3efv7/TZ2eXX1d/q7PHh4evr7fD29/rr7PHd3OLa3OXX1+L6+/za2uLj4+rY2OTr6/Dx8fTv///Z2OPX1+H39/v3+fv2+PvY2OPZ2uTn5+/7+/36/P3k4unw8PH6+vzj4uf9///9/f3////o5+v////d3eLg3uXz8/bh3+f4+Pz9/f39/f3////u8PX5+/3Y2OPn5/Dc3ejV1eDX1+PP39/5/Pzn6fH39/z4+Pv5+f3Pz9TW1t/z9Pjt7vHX1tvZ2N3f2eTs7fLo6OzV093q7fTc3OXs7/Tr7fDz8/fu8PLn5+/V2OHS1N719fjo5u3v7/fd3OLx8vfw8fP2+Pz09vng3uX09fjt7vTf4erz8/f19fj29/rc2+Xa2OLg4Obn5uvu7/Lc2+Xq6u/l5Oz4+Pzs7fDl5ezj4+rh4Oje3ufZ2ePd3Obu7fLu7vHo6O3o6e7k5Ovd3OPf4Onv7/Ti4unc2+Pc2+Tr6/De3eP3+Pr7/P3Y2OTj4uja2uT5+v33+Pvi4en4+fzk5On9/f709Pbq6u729vrz8/fk4+ny8/jf3+fi4+zn5u3w8Pb29vfy8vTu7fHv7vHp6e3g3+bi4ejc3Obm5evn6PDd3Obr7PPZ2uXn5+7m5+7s7PDa2uXq6/LY2eTX2OTp6vHh4unY2ePq6vD6+vvk5Oj19Pfi4ebj5O3g4Ojd3eXZ2uby8vXY2OHf4Orb2+Dt7fLk5e739/zk4+rw8ffc3ejv8PLEE/sIAAAAp3RSTlMAQCDvgIAwQL8QIEAQYO/fr9+fn2BAIFCfgL9AvzCvgGAgj48gcFBQcGAQEIDvn1CvcGCPj2BwcM/v34+/MI+/7yDf7yCfgDC/QL9gj+/Pz7/vz7+Pv3C/EO9g79+fn4Aw77+/r3Dv77+/74C/79+Az6+f3++P38/vj88QYGDPUL8wcO/P778w77+Av+9gn0DPIL+/UL8gv8+vv4/P799wgHCvz8+/z8hYIoUAAAQ+SURBVEjHrZV3fNNWEMcfOLEtJ3E84h0yCFmEhEz2XoVSRimrZZTuvffee09G93xyZXl86pXEdUhiJxSyCdBCwO2nFEihtA2ddD5NS5b7T9P7w/d0lu773v1OJ7AJqNJB3NJA+kjwv9t7zr91Agb0nRomZMQo8fUa4l0gx33wDD6S6Y2l/vf802+5/rt9+7x791wx0Rjfdls/AKlur5KLpEDnHMpXrZmpYkPyiy6eyWfJe2XraHox75ILL9i+59vLLp9Yxv856v6G1ikFRQZDlv6ajuYbyzgI+QkAmJaEGUxAJbPjCvpAYTiafVSB2yGfJxWH9IZyow2X6rMME/RX7p18FftfaWd3eTW7xsY1fXbTdHqZAdutyJlwh4zRPgf2VlJ+PHTaZf8OWXtv1/4KjMmmP9g8qYxhuGY9EK9cVtPhyUamOL01lM92MftGqqtp1XO8eDt3OhHEREO2dZ2q4EP6k803IGdc0hiSC/UZ17RrEgPBiyg/EvfT2nOqqyBpVjtYoeS4nZcMERGkrm1oTjwZNuXznfcBMP+LSIWQAbDy73fejbwujI+lAzPc1AZTYEDLyu8uMpOQlV4CeXPQ86Boy9tXgBeODEVEBwGgIPjTCuSU/vdZqpqEVSpZGDfRl5l2LVC4OekTILpNg/WeMYJks4O/RectPh05W8wAimBHFEmtJDeygcKYQ5YDXdmAlR1VTeuXJYWkvNX3tThf8GC0eEH9cWsCBIT+iNoAkDnP4wLadgj9OHNgpQNH8he6WOlx+/MjOFuNIOf/dWyVKNmy7h25C79seUkC6Y7WAQBd/LFRD3ndZsDKrqG7wfEwCyE/4g1BLEf7louSndNI5K5qOWaRQBp3vI0g58Yj2b1+NdP6OuimD6gJwDQGslTBWSF1kuN/nimBWAf6XpRCiHdAmqNSIBMOz6IX6TI/wzbFoC6ZJiWenjdEySLO31+ucfc/lcDAIt8QNpBmt4ggKfQCjYHdH9M25KO7OLG75KEG4lVBsnzPVz3G6lDbQwmQRZ7dhBFUkYokkEwHnvokqkyRReOiQ5L3RBsgSgXJSjyHloJ8RE4Y8TWewS3onXOOlULGw0A2G0LSy6jfREh1qGu9oCq3DvywGClIEhvE1ZobOfIMmlBPAyB+HJkSxvK4mMaJulg0u5i7Nh/orOVD5paB5cg9FuwinhNCLC31tyE3zSqFUDOSj5li3sxkUxhb1to5lZnb6fMPHb2T7sqs1s4lgoLd88uPt1Ov3V35AkgeA1FC14x4UO2DGcm+J1jB/o5rpxbbimtvJn++gy06oqyrY+9b+1rP6bkJs4x/XDVtwULBJ76wcuWzcs118dciz7ySafTZE64u/7T7wCxrSXyMGV4/3La+tthmK92wrr99I3U+7InHV0sgwzRDwYfhsP3EicAHJUyVFp3c5RNBAsOH0CZoWTDmkV8fRe4fI7GTadNsuN8AAAAASUVORK5CYII=);background-position:0 0,0 0}}.yui3-videoplayer-errorscreen-download-flash-button{background-position:0 0;width:158px;height:39px}.yui3-videoplayer-partner-bar .branding-logo{background-position:-154px -94px;width:74px;height:59px}.yui3-videoplayer-nfl-brand-span,.ssl.yui3-videoplayer-content .yui3-videoplayer-nfl-brand-span{background-position:-244px -357px;width:20px;height:20px;*background-position:-244px -357px}.yui3-videoplayer-nfl-brand-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-nfl-brand-logo{background-position:-158px 0;width:110px;height:14px;background-image:none,url(data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIiBbCgk8IUVOVElUWSBuc19leHRlbmQgImh0dHA6Ly9ucy5hZG9iZS5jb20vRXh0ZW5zaWJpbGl0eS8xLjAvIj4KCTwhRU5USVRZIG5zX2FpICJodHRwOi8vbnMuYWRvYmUuY29tL0Fkb2JlSWxsdXN0cmF0b3IvMTAuMC8iPgoJPCFFTlRJVFkgbnNfZ3JhcGhzICJodHRwOi8vbnMuYWRvYmUuY29tL0dyYXBocy8xLjAvIj4KCTwhRU5USVRZIG5zX3ZhcnMgImh0dHA6Ly9ucy5hZG9iZS5jb20vVmFyaWFibGVzLzEuMC8iPgoJPCFFTlRJVFkgbnNfaW1yZXAgImh0dHA6Ly9ucy5hZG9iZS5jb20vSW1hZ2VSZXBsYWNlbWVudC8xLjAvIj4KCTwhRU5USVRZIG5zX3NmdyAiaHR0cDovL25zLmFkb2JlLmNvbS9TYXZlRm9yV2ViLzEuMC8iPgoJPCFFTlRJVFkgbnNfY3VzdG9tICJodHRwOi8vbnMuYWRvYmUuY29tL0dlbmVyaWNDdXN0b21OYW1lc3BhY2UvMS4wLyI+Cgk8IUVOVElUWSBuc19hZG9iZV94cGF0aCAiaHR0cDovL25zLmFkb2JlLmNvbS9YUGF0aC8xLjAvIj4KXT48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwOS44OTYiIGhlaWdodD0iMTMuOTc4IiB2aWV3Qm94PSIwIDAgMTA5Ljg5NiAxMy45NzgiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3QgcmVxdWlyZWRFeHRlbnNpb25zPSJodHRwOi8vbnMuYWRvYmUuY29tL0Fkb2JlSWxsdXN0cmF0b3IvMTAuMC8iIHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2ZmZiIgZD0iTTEwOS44OTYgMS4wMjVsLTMuNjc4IDEyLjk1aC01LjU5OGwxLjU0LTUuNDQ3LTMuODIzIDQuNzQyaC0xLjgyMmwtMi4xOC04LjM1aC00LjM2bC44OS0zLjg5Nmg4LjMyMWwuODggNS4xMzggNC4yMzMtNS4xMzV2LS4wMDNoNS41OTZ6TTg3LjEzIDEwLjIyYy0uNTY2IDEuODItMi41NTMgMy43NTUtNC40MTQgMy43NTVINzQuNDFjLTEuODYgMC0yLjkyLTEuOTM0LTIuMzU0LTMuNzU1bDEuMzI3LTQuMjc3aDUuODk0TDc3Ljk3IDkuODM3aDMuMjNsMS42Ni00Ljg4Nkg3My43NGMuNjctMS42OTIgMi42MjgtMy45MjYgNC4zOTQtMy45MjZoOC4zMDZjMS44NiAwIDIuODQgMi4yNyAyLjI3NCA0LjA5TDg3LjEzIDEwLjIyek03MS4zNTIgNi42NDZINjYuMjRsLjU2NS0xLjY3NGgtMi43M2wtMS42NTMgNC44NWgyLjczbC40MTItLjkyNGg1LjA4NGwtLjc2IDIuNDI2Yy0uNTY2IDEuODItMi4yMTUgMi42NS00LjA3NiAyLjY1aC02LjQ3Yy0xLjg2IDAtMi45Mi0xLjkzMy0yLjM1NC0zLjc1NGwxLjU4NC01LjEwNWMuNTY2LTEuODIgMi4wNC00LjA5IDQuNzE3LTQuMDloNi4wNTZjMi4wMjcgMCAzLjA0NSAyLjQ2IDIuNDk2IDQuMTg4bC0uNDkgMS40MzN6bS0yMS42NiA3LjMzbDEuMTU1LTQuOTk4aDQuNTFMNTQuMiAxMy45NzZoLTQuNTA4em0tNS4xNzUtNC45OThoNC41MDhsLTEuMTU2IDQuOTk4aC0uMzQ2di4wMDJoLTguNDl2LS4wMDRIMzUuMDNMMzguMzc2IDIuNjVoLTEuMzRsLjgxLTIuNjNoMS4zNFYuMDE2aDYuNDdMNDIuMjc3IDExaDEuNzI4bC41MTMtMi4wMjJ6bS05LjM0LTQuMzE3aC00LjU5bC40MjMtMS42NjRoLTEwTDIxLjY0NS4wMmgxNC42NmwtLjAxLjA0MmguMDQzbC0xLjE2IDQuNnpNMTIuMjUgMTMuOTc1SDcuNTA0TDYuMjE2IDIuNjVoLTQuMTlsLjgxLTIuNjNoMy4wN1YuMDE2aDYuMTRMMTMuMjYgMTAuMjYgMTYuNDA4LjAxNWgzLjgzOGwtNC4xNTggMTMuOTZIMTIuMjV6TTUuMjkzIDMuNjdMNS42IDYuODM0bC0yLjEyNiA3LjE0SC4wMkwzLjEzNSAzLjY2OGgyLjE1OHptMjIuNDguMzI2bC0uNjQyIDIuNDZoNS4xOGwtLjYxMiAyLjUzNUgyNi4zNGwtMS41MzIgNC45ODRoLTYuMDQzbDMuMDEtOS45OGg1Ljk5OHptNjUuNDggMS44NzdsMS4wMiA0LjM4NS0xLjAwMiAzLjcxOGgtNC43MzZsMi4zNTItOC4xMDNoMi4zNjV6Ii8+PC9zd2l0Y2g+PC9zdmc+);background-position:0 0,0 0;*background-position:-158px 0}.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-span,.ssl.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-span{background-position:-238px -14px;width:30px;height:30px;*background-position:-238px -14px}.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-logo,.ssl.yui3-videoplayer-content.small .yui3-videoplayer-nfl-brand-logo{background-position:0 -39px;width:157px;height:20px;background-image:none,url(data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIiBbCgk8IUVOVElUWSBuc19leHRlbmQgImh0dHA6Ly9ucy5hZG9iZS5jb20vRXh0ZW5zaWJpbGl0eS8xLjAvIj4KCTwhRU5USVRZIG5zX2FpICJodHRwOi8vbnMuYWRvYmUuY29tL0Fkb2JlSWxsdXN0cmF0b3IvMTAuMC8iPgoJPCFFTlRJVFkgbnNfZ3JhcGhzICJodHRwOi8vbnMuYWRvYmUuY29tL0dyYXBocy8xLjAvIj4KCTwhRU5USVRZIG5zX3ZhcnMgImh0dHA6Ly9ucy5hZG9iZS5jb20vVmFyaWFibGVzLzEuMC8iPgoJPCFFTlRJVFkgbnNfaW1yZXAgImh0dHA6Ly9ucy5hZG9iZS5jb20vSW1hZ2VSZXBsYWNlbWVudC8xLjAvIj4KCTwhRU5USVRZIG5zX3NmdyAiaHR0cDovL25zLmFkb2JlLmNvbS9TYXZlRm9yV2ViLzEuMC8iPgoJPCFFTlRJVFkgbnNfY3VzdG9tICJodHRwOi8vbnMuYWRvYmUuY29tL0dlbmVyaWNDdXN0b21OYW1lc3BhY2UvMS4wLyI+Cgk8IUVOVElUWSBuc19hZG9iZV94cGF0aCAiaHR0cDovL25zLmFkb2JlLmNvbS9YUGF0aC8xLjAvIj4KXT48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE1Ny4wNDIiIGhlaWdodD0iMjAuMDE1IiB2aWV3Qm94PSIwIDAgMTU3LjA0MiAyMC4wMTUiPjxzd2l0Y2g+PGZvcmVpZ25PYmplY3QgcmVxdWlyZWRFeHRlbnNpb25zPSJodHRwOi8vbnMuYWRvYmUuY29tL0Fkb2JlSWxsdXN0cmF0b3IvMTAuMC8iIHg9IjAiIHk9IjAiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI2ZmZiIgZD0iTTE1Ni45NiAxLjg3N2wtNS4yNTUgMTguMTI2aC03Ljk5MmwyLjE5OC03LjM4NC01LjQ2IDYuMzQyaC0yLjYwMkwxMzQuNzM2IDcuMTNoLTYuMjI3bDEuMjctNS4yNTJoMTEuODgxbDEuMjU3IDcuMjUgNi4wNDctNy4yNDZ2LS4wMDVoNy45OTV6bS0zMi41MTMgMTMuMjRjLS44MDggMi42ODgtMy42NDUgNC44ODctNi4zMDIgNC44ODdoLTExLjg2Yy0yLjY2IDAtNC4xNzItMi4yLTMuMzY0LTQuODg3bDEuODk3LTYuMzEyaDguNDE2bC0xLjg2NiA1Ljc0N2g0LjYxbDIuMzc1LTcuMzc2SDEwNS4zMjdjLjk1OC0yLjUgMy43NTItNS4yOTggNi4yNzUtNS4yOThoMTEuODZjMi42NTcgMCA0LjA1NiAzLjAxOCAzLjI0NyA1LjcwNWwtMi4yNjMgNy41MzR6bS0yMi41My01LjI3NmgtNy4zMDJsLjgwOC0yLjYzM2gtMy45bC0yLjM2IDcuMzIyaDMuOWwuNTg3LTEuMzY1aDcuMjZsLTEuMDg0IDMuNThjLS44MSAyLjY4OC0zLjE2MyAzLjI1OC01LjgyIDMuMjU4aC05LjI0Yy0yLjY1NiAwLTQuMTctMi4yLTMuMzYyLTQuODg3bDIuMjY0LTcuNTMzYy44MDgtMi42ODggMi45MS01LjcwNSA2LjczNS01LjcwNWg4LjY1YzIuODkzIDAgNC4zNDggMy4zIDMuNTYyIDUuODVsLS42OTggMi4xMTN6TTcwLjk4NSAyMC4wMDZsMS42NS02LjcyMmg2LjQ0bC0xLjY1MiA2LjcyMmgtNi40Mzh6bS03LjM5LTYuNzJoNi40MzhsLTEuNjUgNi43MmgtLjQ5NXYuMDAzSDU1Ljc2NnYtLjAwNmgtNS43Mmw0Ljc4LTE2LjA1OGgtMS45MTJMNTQuMDcuMDY2aDEuOTFsLjAwNC0uMDFoOS4yMzhMNjAuMzk2IDE2LjI3aDIuNDY3bC43MzItMi45ODR6TTUwLjI1OCA2LjkxMkg0My43bC43MjQtMi45N2gtMTQuNjVMMzAuOTMuMDY3aDIwLjkzNmwtLjAxNC4wNmguMDZMNTAuMjYgNi45MTR6TTE3LjUxOCAyMGgtNi43ODJMOC45IDMuOTQ1SDIuOTE1TDQuMDcuMDY2aDQuMzg2di0uMDFoOC43N2wxLjcyOCAxNS4xMiA0LjUtMTUuMTJoNS40OGwtNS45NCAxOS45NDVoLTUuNDc3ek03LjU3NyA1LjQ1bC40NCA0LjY3My0zLjAzNiA5Ljg4SC4wNTJMNC40OTYgNS40NUg3LjU4em0zMi4zNDctLjI3OGwtMS4yMTcgNC4wMzJoNy4zOTdsLS44NzMgMy43NEgzNy41OEwzNS40NSAyMGgtOC42M2w0LjQ3Ni0xNC44MjhoOC42M3ptOTMuMjY0IDMuNTNsMS40NTcgNi40Ny0xLjQzIDQuODMyaC02Ljc2NEwxMjkuODEgOC43aDMuMzh6Ii8+PC9zd2l0Y2g+PC9zdmc+);background-position:0 0,0 0;*background-position:0 -39px}.yui3-videoplayer-controls .pause span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .pause span{background-position:-184px -388px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjQgNiAxMiAxMiIgd2lkdGg9IjEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDQgNiAxMiAxMiI+PGcgZmlsbD0iI2NjYyI+PHBhdGggZD0iTTQuMDE1IDZoM3YxMmgtM3pNMTIuOTg1IDZoM3YxMmgtM3pNNC4wMTUgNmgzdjEyaC0zek0xMi45ODUgNmgzdjEyaC0zeiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-184px -388px}.yui3-videoplayer-controls .pause:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .pause:hover span{background-position:-172px -388px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjQgNiAxMiAxMiIgd2lkdGg9IjEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDQgNiAxMiAxMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQuMDE1IDZoM3YxMmgtM3pNMTIuOTg1IDZoM3YxMmgtM3oiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-172px -388px}.yui3-videoplayer-controls .play span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .play span{background-position:-160px -388px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMC41IDExIiB3aWR0aD0iMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwLjUgMTEiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMC4zNTIgNS40OThMLjE0OCAxMVYweiIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-160px -388px}.yui3-videoplayer-controls .play:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .play:hover span{background-position:-204px -345px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMC41IDExIiB3aWR0aD0iMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwLjUgMTEiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMC4zNTIgNS40OThMLjE0OCAxMVYweiIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-204px -345px}.yui3-videoplayer-carousel-viewport-item .overlay .play-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-viewport-item .overlay .play-button{background-position:-226px -296px;width:33px;height:23px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjIuODI4IiB2aWV3Qm94PSIwIDAgMzEuOTAxIDIyLjgyOCIgd2lkdGg9IjMxLjkwMSI+PHBhdGggZD0iTS4xNDYgNC40MzhDLjE0NiAyLjExOCAyLjAwNi4yMzMgNC4zLjIzM2MwIDAgMTEuNDczLS41MjMgMjMuMjMgMCAyLjI5MyAwIDQuMTU0IDEuODg0IDQuMTU0IDQuMjA1IDAgMCAuNDg2IDYuNzk3IDAgMTQuMDQgMCAyLjMyLTEuODYgNC4yMDItNC4xNTUgNC4yMDIgMCAwLTExLjgwNS4zMzQtMjMuMjMgMC0yLjI5NSAwLTQuMTU0LTEuODgtNC4xNTQtNC4yMDMgMCAwLS4zMy0zLjM2IDAtMTQuMDR6IiBmaWxsPSIjMzI0RkUxIi8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTIxLjA5OCAxMS40MTRsLTguMDI4IDQuMzkzVjcuMDJ6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-226px -296px}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-carousel-node .overlay .replay-button{background-position:-160px -305px;width:39px;height:43px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDIuNSIgdmlld0JveD0iMCAwIDM4LjUgNDIuNSIgd2lkdGg9IjM4LjUiPjxwYXRoIGQ9Ik0xLjU3OCAyMy4wMzZjMCA5LjczNCA3Ljg5IDE3LjYyNCAxNy42MjMgMTcuNjI0czE3LjYyNC03Ljg5IDE3LjYyNC0xNy42MjRjMC05LjczMy03Ljg5LTE3LjYyMy0xNy42MjMtMTcuNjIzLTEuMDI3IDAtMi4wMzMuMDk0LTMuMDEzLjI2MlYxLjU3TDkuNjAzIDguMTY4bDYuNTg0IDYuNjF2LTQuMTA1Yy45NjctLjIzNiAxLjk3Ni0uMzY0IDMuMDE0LS4zNjQgNy4wMiAwIDEyLjczIDUuNzEgMTIuNzMgMTIuNzI3IDAgNy4wMi01LjcxIDEyLjczLTEyLjczIDEyLjczUzYuNDczIDMwLjA1NCA2LjQ3MyAyMy4wMzZIMS41Nzh6IiBmaWxsPSIjZmZmIi8+PC9zdmc+);background-position:0 0,0 0;*background-position:-160px -305px}.yui3-videoplayer-controls .settings span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings span{background-position:-196px -386px;width:20px;height:20px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjIwIj48cGF0aCBkPSJNMTAgMi42NjdjNC4wNDMgMCA3LjMzMyAzLjI5IDcuMzMzIDcuMzMzIDAgNC4wNDQtMy4yOSA3LjMzMy03LjMzMyA3LjMzM1MyLjY2NyAxNC4wNDMgMi42NjcgMTAgNS45NTcgMi42NjcgMTAgMi42NjdNMTAgMEM0LjQ4IDAgMCA0LjQ3OCAwIDEwYzAgNS41MjMgNC40OCAxMCAxMCAxMCA1LjUyMyAwIDEwLTQuNDc3IDEwLTEwIDAtNS41MjItNC40NzctMTAtMTAtMTB6TTExLjkyNiA3LjkxNmwzLjM4IDMuMzgyLTEuODg0IDEuODg2LTMuMzgtMy4zODItMy4zODIgMy4zODItMS44ODctMS44ODYgMy4zODMtMy4zODJMMTAuMDQgNi4wM3oiIGZpbGw9IiNjY2MiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-196px -386px}.yui3-videoplayer-controls .settings:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings:hover span{background-position:-236px -383px;width:20px;height:20px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjIwIj48cGF0aCBkPSJNMTAgMi42NjdjNC4wNDMgMCA3LjMzMyAzLjI5IDcuMzMzIDcuMzMzIDAgNC4wNDQtMy4yOSA3LjMzMy03LjMzMyA3LjMzM1MyLjY2NyAxNC4wNDMgMi42NjcgMTAgNS45NTcgMi42NjcgMTAgMi42NjdNMTAgMEM0LjQ4IDAgMCA0LjQ3OCAwIDEwYzAgNS41MjMgNC40OCAxMCAxMCAxMCA1LjUyMyAwIDEwLTQuNDc3IDEwLTEwIDAtNS41MjItNC40NzctMTAtMTAtMTB6TTExLjkyNiA3LjkxNmwzLjM4IDMuMzgyLTEuODg0IDEuODg2LTMuMzgtMy4zODItMy4zODIgMy4zODItMS44ODctMS44ODYgMy4zODMtMy4zODJMMTAuMDQgNi4wM3oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-236px -383px}.yui3-videoplayer-controls .settings:hover.on span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings:hover.on span,.yui3-videoplayer-controls .settings.on span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings.on span{background-position:-216px -386px;width:20px;height:20px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjIwIj48Y2lyY2xlIGN5PSIxMCIgY3g9IjEwIiByPSIxMCIgZmlsbD0iIzVGMzNGRiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik04LjExNCAxMi4zOThsLTMuMzgyLTMuMzhMNi42MTggNy4xMyAxMCAxMC41MTRsMy4zODItMy4zODQgMS44ODYgMS44ODgtMy4zODIgMy4zOEwxMCAxNC4yODR6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-216px -386px}.yui3-videoplayer-controls .fb-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .fb-icon{background-position:-218px -357px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjM0Q1NzlFIiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE0LjM4IDIyLjMwOHYtOC4xMzRoMi43M2wuNDEzLTMuMTdoLTMuMTQ1VjguOThjMC0uOTE4LjI1NS0xLjU0MyAxLjU3NC0xLjU0M2wxLjY3Ny0uMDAyVjQuNmMtLjI5LS4wMzYtMS4yODYtLjEyNC0yLjQ0NS0uMTI0LTIuNDIzIDAtNC4wNzggMS40NzYtNC4wNzggNC4xOXYyLjM0SDguMzd2My4xNjhoMi43NHY4LjEzNGgzLjI3eiIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-218px -357px}.yui3-videoplayer-controls .fb-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .fb-icon:hover{background-position:-225px -319px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMkU0NTgyIiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE0LjM4IDIyLjA4NFYxMy45NWgyLjczbC40MTMtMy4xN2gtMy4xNDVWOC43NTdjMC0uOTE3LjI1NS0xLjU0MiAxLjU3NC0xLjU0MmwxLjY3Ny0uMDAyVjQuMzc3Yy0uMjktLjAzNy0xLjI4Ni0uMTI1LTIuNDQ1LS4xMjUtMi40MjMgMC00LjA3OCAxLjQ3Ni00LjA3OCA0LjE5djIuMzRIOC4zN3YzLjE2OGgyLjc0djguMTM0aDMuMjd6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-225px -319px}.yui3-videoplayer-controls .mail-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mail-icon{background-position:-238px -70px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjNkMzQjk3IiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTIwLjIwMyA3LjQzNXYxMC42MWgtMTVWNy40MzRsNy42MSA2LjYxaC40NTh6TTUuMjEyIDcuMDQ0SDIwLjc5djExSDUuMjEyeiIvPjxwYXRoIHN0cm9rZT0iIzZDM0I5NyIgc3Ryb2tlLXdpZHRoPSIuOTM0IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGZpbGw9Im5vbmUiIGQ9Ik00Ljk2OCA2Ljk1Nmw4LjAyNCA2LjU2NCA3Ljk3My02LjU2NCIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-238px -70px}.yui3-videoplayer-controls .mail-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mail-icon:hover{background-position:-238px -44px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjNTYyRDgyIiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTIwLjIwMyA3LjQzNXYxMC42MWgtMTVWNy40MzRsNy42MSA2LjYxaC40NTh6TTUuMjEyIDcuMDQ0SDIwLjc5djExSDUuMjEyeiIvPjxwYXRoIHN0cm9rZT0iIzU1MkQ4MiIgc3Ryb2tlLXdpZHRoPSIuOTM0IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGZpbGw9Im5vbmUiIGQ9Ik00Ljk2OCA2Ljk1Nmw4LjAyNCA2LjU2NCA3Ljk3My02LjU2NCIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-238px -44px}.yui3-videoplayer-controls .tumblr-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .tumblr-icon{background-position:-192px -360px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjM0M1NTc1IiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE2LjY3MyAxNy41ODRjLS4yODcuMTM3LS44My4yNTYtMS4yNC4yNjYtMS4yMjcuMDMzLTEuNDY2LS44NjMtMS40NzYtMS41MTRWMTEuNTZoMy4wODJWOS4yMzNoLTMuMDcydi0zLjkxSDExLjcyYy0uMDM3IDAtLjEuMDMzLS4xMS4xMTUtLjEzMiAxLjE5Ni0uNjkgMy4yOTYtMy4wMiA0LjEzNnYxLjk4MmgxLjU1M3Y1LjAxNmMwIDEuNzE3IDEuMjY2IDQuMTU2IDQuNjEgNC4xIDEuMTI4LS4wMiAyLjM4LS40OTQgMi42NTgtLjlsLS43MzctMi4xOXoiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-192px -360px}.yui3-videoplayer-controls .tumblr-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .tumblr-icon:hover{background-position:-199px -319px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMkM0NTYzIiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE2LjY3MyAxNy41ODRjLS4yODcuMTM3LS44My4yNTYtMS4yNC4yNjYtMS4yMjcuMDMzLTEuNDY2LS44NjMtMS40NzYtMS41MTRWMTEuNTZoMy4wODJWOS4yMzNoLTMuMDcydi0zLjkxSDExLjcyYy0uMDM3IDAtLjEuMDMzLS4xMS4xMTUtLjEzMiAxLjE5Ni0uNjkgMy4yOTYtMy4wMiA0LjEzNnYxLjk4MmgxLjU1M3Y1LjAxNmMwIDEuNzE3IDEuMjY2IDQuMTU2IDQuNjEgNC4xIDEuMTI4LS4wMiAyLjM4LS40OTQgMi42NTgtLjlsLS43MzctMi4xOXoiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-199px -319px}.yui3-videoplayer-controls .twitter-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .twitter-icon{background-position:-200px -293px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMzZBN0RFIiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTIwLjgzIDguODE2Yy0uNTUyLjI0NC0xLjE0Ny40MS0xLjc3Mi40ODQuNjM4LS4zOCAxLjEyOC0uOTg2IDEuMzU3LTEuNzA3LS41OTYuMzU0LTEuMjU2LjYxLTEuOTYuNzUtLjU2LS42LTEuMzYzLS45NzUtMi4yNS0uOTc1LTEuNzAzIDAtMy4wODUgMS4zOC0zLjA4NSAzLjA4NSAwIC4yNC4wMjYuNDc4LjA4LjcwMi0yLjU2My0uMTI4LTQuODM2LTEuMzU3LTYuMzU4LTMuMjIzLS4yNjUuNDU3LS40MTguOTg3LS40MTggMS41NTIgMCAxLjA3LjU0NSAyLjAxNCAxLjM3MyAyLjU2Ny0uNTA2LS4wMTUtLjk4LS4xNTQtMS4zOTctLjM4NXYuMDRjMCAxLjQ5MyAxLjA2MiAyLjc0IDIuNDc0IDMuMDI0LS4yNTguMDY3LS41My4xMDYtLjgxMi4xMDYtLjIgMC0uMzkzLS4wMi0uNTgtLjA1Ni4zOTIgMS4yMjYgMS41MyAyLjExNyAyLjg4MiAyLjE0My0xLjA1OC44MjctMi4zODYgMS4zMi0zLjgzIDEuMzItLjI1IDAtLjQ5Ni0uMDE1LS43MzgtLjA0NCAxLjM2Ni44NzUgMi45ODcgMS4zODYgNC43MyAxLjM4NiA1LjY3MyAwIDguNzc0LTQuNyA4Ljc3NC04Ljc3NyAwLS4xMzQtLjAwMy0uMjY3LS4wMS0uNC42MDQtLjQzMiAxLjEzLS45NzYgMS41NC0xLjU5NHoiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-200px -293px}.yui3-videoplayer-controls .twitter-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .twitter-icon:hover{background-position:-200px -267px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMUY4OEJBIiBkPSJNMCAwaDI2djI2SDB6Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTIwLjgzIDguODE2Yy0uNTUzLjI0NC0xLjE0Ni40MS0xLjc3LjQ4NC42MzYtLjM4IDEuMTI2LS45ODYgMS4zNTUtMS43MDctLjU5Ny4zNTQtMS4yNTYuNjEtMS45Ni43NS0uNTYtLjYtMS4zNjMtLjk3NS0yLjI1LS45NzUtMS43MDMgMC0zLjA4NSAxLjM4LTMuMDg1IDMuMDg1IDAgLjI0LjAyNi40NzguMDguNzAyLTIuNTYzLS4xMjgtNC44MzYtMS4zNTctNi4zNTgtMy4yMjMtLjI2NS40NTctLjQxOC45ODctLjQxOCAxLjU1MiAwIDEuMDcuNTQ1IDIuMDE0IDEuMzczIDIuNTY3LS41MDYtLjAxNS0uOTgtLjE1NC0xLjM5Ny0uMzg1di4wNGMwIDEuNDkzIDEuMDYyIDIuNzQgMi40NzQgMy4wMjMtLjI1OC4wNjgtLjUzLjEwNy0uODEyLjEwNy0uMiAwLS4zOTMtLjAyLS41OC0uMDU3LjM5MiAxLjIyNyAxLjUzIDIuMTE3IDIuODgyIDIuMTQ0LTEuMDU4LjgyNy0yLjM4NiAxLjMyLTMuODMgMS4zMi0uMjUgMC0uNDk2LS4wMTUtLjczOC0uMDQ0IDEuMzY2Ljg3NiAyLjk4NyAxLjM4NyA0LjczIDEuMzg3IDUuNjczIDAgOC43NzQtNC43IDguNzc0LTguNzc3IDAtLjEzMy0uMDAzLS4yNjYtLjAxLS4zOTguNjA1LS40MzIgMS4xMy0uOTc2IDEuNTQtMS41OTR6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-200px -267px}.yui3-videoplayer-controls .volume .mute span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute span{background-position:-240px -345px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjY2NjIj48cGF0aCBkPSJNMi4zNiA0LjE3NkguNTIydjMuNjY4aDEuODUybDMuNjUgMy42NTZWLjVMMi4zNiA0LjE3ek03LjQzMyAzLjY4Nkw2Ljg4IDQuNzd2LjAyNmMuMzQ2LjI4NC41NzIuNzA4LjU3MiAxLjE5IDAgLjQ4LS4yMjcuOTA0LS41NzIgMS4xODh2LjAwNGwuNTYgMS4xYy43NDItLjQ5MyAxLjIzMi0xLjMzNSAxLjIzMi0yLjI5MiAwLS45NjMtLjQ5LTEuODA4LTEuMjQtMi4zek0xMS40NzggNS45ODZjMC0yLjA0Ny0xLjEyNS0zLjgyOC0yLjc5LTQuNzY4bC0uNTQ0IDEuMDd2LjAyN2MxLjI2Mi43MzggMi4xMTMgMi4xMDQgMi4xMTMgMy42NyAwIDEuNTY0LS44NTIgMi45My0yLjExMyAzLjY2OHYuMDA0bC41NTUgMS4wODhjMS42NTYtLjkzOCAyLjc3OC0yLjcxOCAyLjc3OC00Ljc2eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-240px -345px}.yui3-videoplayer-controls .volume .mute:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute:hover span{background-position:-256px -319px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMi4zNiA0LjE3NkguNTIydjMuNjY4aDEuODUybDMuNjUgMy42NTZWLjVMMi4zNiA0LjE3ek03LjQzMyAzLjY4Nkw2Ljg4IDQuNzd2LjAyNmMuMzQ2LjI4NC41NzIuNzA4LjU3MiAxLjE5IDAgLjQ4LS4yMjcuOTA0LS41NzIgMS4xODh2LjAwNGwuNTYgMS4xYy43NDItLjQ5MyAxLjIzMi0xLjMzNSAxLjIzMi0yLjI5MiAwLS45NjMtLjQ5LTEuODA4LTEuMjQtMi4zek0xMS40NzggNS45ODZjMC0yLjA0Ny0xLjEyNS0zLjgyOC0yLjc5LTQuNzY4bC0uNTQ0IDEuMDd2LjAyN2MxLjI2Mi43MzggMi4xMTMgMi4xMDQgMi4xMTMgMy42NyAwIDEuNTY0LS44NTIgMi45My0yLjExMyAzLjY2OHYuMDA0bC41NTUgMS4wODhjMS42NTYtLjkzOCAyLjc3OC0yLjcxOCAyLjc3OC00Ljc2eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-256px -319px}.yui3-videoplayer-controls .volume .mute.on span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute.on span{background-position:-228px -345px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjNUYzRkZGIj48cGF0aCBkPSJNMi4zNDYgNC4xNjd2LjAwN0guNTA4djMuNjdoMS44NWwzLjY1IDMuNjU0VjcuMTkyTDIuNzI1IDMuNzg3ek02LjAwOC40OThsLTIuMjAzIDIuMjEgMi4yMDMgMi4xNHpNNy40MSA2LjI3MmwuOTcuOTE4Yy4xOC0uMzY0LjI4LS43NzQuMjgtMS4yMDggMC0uOTYzLS40OTUtMS44MDgtMS4yNC0yLjNsLS41NTYgMS4wODZ2LjAyNmMuMzUuMjgyLjU3NC43MDYuNTc0IDEuMTg4IDAgLjEtLjAwOC4xOTctLjAyNy4yOXpNMTAuMjQzIDUuOTgzYzAgLjg5NS0uMjc4IDEuNzI1LS43NTMgMi40MTJsLjg3Ljg4M2MuNjkyLS45MTYgMS4xMDMtMi4wNTggMS4xMDMtMy4yOTQgMC0yLjA0Ny0xLjEyNS0zLjgyNy0yLjc5LTQuNzY3bC0uNTQ0IDEuMDd2LjAyNmMxLjI2Ljc0IDIuMTEzIDIuMTA0IDIuMTEzIDMuNjd6TTExLjg2OCAxMS4xOTNMLjkwOC4yMTNzLS4zMzItLjQzOC0uODMyIDBjMCAwLS4yMDguMzU0LjEyNS43MDhMMTEuMSAxMS43OThzLjMxMi40MTYuNzcgMGMwIDAgLjI3LS4yOSAwLS42MDR6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-228px -345px}.yui3-videoplayer-controls .volume .mute.on:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute.on:hover span{background-position:-216px -345px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMi4zNDYgNC4xNjd2LjAwN0guNTA4djMuNjdoMS44NWwzLjY1IDMuNjU0VjcuMTkyTDIuNzI1IDMuNzg3ek02LjAwOC40OThsLTIuMjAzIDIuMjEgMi4yMDMgMi4xNHpNNy40MSA2LjI3MmwuOTcuOTE4Yy4xOC0uMzY0LjI4LS43NzQuMjgtMS4yMDggMC0uOTYzLS40OTUtMS44MDgtMS4yNC0yLjNsLS41NTYgMS4wODZ2LjAyNmMuMzUuMjgyLjU3NC43MDYuNTc0IDEuMTg4IDAgLjEtLjAwOC4xOTctLjAyNy4yOXpNMTAuMjQzIDUuOTgzYzAgLjg5NS0uMjc4IDEuNzI1LS43NTMgMi40MTJsLjg3Ljg4M2MuNjkyLS45MTYgMS4xMDMtMi4wNTggMS4xMDMtMy4yOTQgMC0yLjA0Ny0xLjEyNS0zLjgyNy0yLjc5LTQuNzY3bC0uNTQ0IDEuMDd2LjAyNmMxLjI2Ljc0IDIuMTEzIDIuMTA0IDIuMTEzIDMuNjd6TTExLjg2OCAxMS4xOTNMLjkwOC4yMTNzLS4zMzItLjQzOC0uODMyIDBjMCAwLS4yMDguMzU0LjEyNS43MDhMMTEuMSAxMS43OThzLjMxMi40MTYuNzcgMGMwIDAgLjI3LS4yOSAwLS42MDR6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-216px -345px}.yui3-videoplayer-startscreen-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-startscreen-button{background:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGhlaWdodD0iNTRweCIgdmlld0JveD0iMCAwIDc2IDU0IiB3aWR0aD0iNzZweCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDc2IDU0Ij4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjUxLjExNiAyNy42MzcgMzEgMzguNTIyIDMxIDE2Ljc1IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo=');background-repeat:no-repeat;background-color:#324fe1;background-position:50% 50%;border-radius:7px;height:60px;left:50%;position:absolute;margin-left:-42px;margin-top:-30px;top:50%;width:85px;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIBJREFUeNpiPHPmzH4GBoYHQNxoYmIConECJiidAMTngRobgFiAkGIQACmqB+L7IE2EFKNoAmoAaUogpBgGFIB4PlADyHkOhBTDgAEQ7wc5jYUIxReAuBAYUgfwKYYF5wKYADbFH6CKJqBLsKApmgjEE4AKP2CzCqZ4ATExCBBgACJTMAloE9JCAAAAAElFTkSuQmCC');*background-image:url('http://l.yimg.com/rx/builds/4.69.0.1415767921/assets/play.png');background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGhlaWdodD0iNTRweCIgdmlld0JveD0iMCAwIDc2IDU0IiB3aWR0aD0iNzZweCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDc2IDU0Ij4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjUxLjExNiAyNy42MzcgMzEgMzguNTIyIDMxIDE2Ljc1IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo='),none}.ssl.yui3-videoplayer-content .yui3-videoplayer-startscreen-button{*background-image:url('https://s.yimg.com/rx/builds/4.69.0.1415767921/assets/play.png')}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-button{background-size:40px 28px;width:45px;height:30px;margin-left:-22px;margin-top:-15px}.yui3-videoplayer-content.medium .yui3-videoplayer-startscreen-button{background-size:59px 50px;width:65px;height:45px;margin-left:-32px;margin-top:-22px}.yui3-videoplayer-controls .accessibility-cc-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .accessibility-cc-icon{background-position:-154px -153px;width:56px;height:44px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI0NCIgdmlld0JveD0iMCAwIDU2IDQ0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNS4wMDYgMy43MjR2MzUuODNINTEuNTVWMy43MjVINS4wMDd6Ii8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTEyLjU5IDYuNzhoMzEuOTQ1djI4LjM2MkgxMi41OXoiLz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi41OTEgMzIuMDkyKSIgZmlsbD0iI0Q1RDVENSIgZm9udC1mYW1pbHk9IidJbXBhY3QnIiBmb250LXNpemU9IjMyIj5jYzwvdGV4dD48L3N2Zz4=);background-position:0 0,0 0;*background-position:-154px -153px}.yui3-videoplayer-controls .accessibility-cc-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .accessibility-cc-icon:hover{background-position:-154px -197px;width:56px;height:44px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI0NCIgdmlld0JveD0iMCAwIDU2IDQ0Ij48cGF0aCBmaWxsPSIjY2NjIiBkPSJNNCA0LjE3VjQwaDQ2LjU0NVY0LjE3SDR6Ii8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTExLjU4NCA3LjIyOEg0My41M3YyOC4zNkgxMS41ODN6Ii8+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuNTg1IDMyLjUzNykiIGZpbGw9IiNmZmYiIGZvbnQtZmFtaWx5PSInSW1wYWN0JyIgZm9udC1zaXplPSIzMiI+Y2M8L3RleHQ+PC9zdmc+);background-position:0 0,0 0;*background-position:-154px -197px}.yui3-videoplayer-ccoptions-container .effect-depressed,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-depressed{background-position:-41px -368px;width:38px;height:38px;*background-position:-41px -368px}.yui3-videoplayer-ccoptions-container .effect-dropshadow,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-dropshadow{background-position:-1px -368px;width:38px;height:38px;*background-position:-1px -368px}.yui3-videoplayer-ccoptions-container .effect-none,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-none{background-position:-161px -266px;width:38px;height:38px;*background-position:-161px -266px}.yui3-videoplayer-ccoptions-container .effect-raised,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-raised{background-position:-121px -368px;width:38px;height:38px;*background-position:-121px -368px}.yui3-videoplayer-ccoptions-container .effect-uniform,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .effect-uniform{background-position:-81px -368px;width:38px;height:38px;*background-position:-81px -368px}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back{background-position:-154px -348px;width:8px;height:14px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiB2aWV3Qm94PSIwIDAgOCAxNCI+PHBhdGggZmlsbD0iI2NjYyIgZD0iTTcuOTgzIDExLjMxNGwtNC45My00LjMxNiA0LjkzMi00LjMxNkw4IDAgMCA2Ljk5NiA4IDE0Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-154px -348px}.yui3-videoplayer-uiwidget-selector .dropdownicon,.ssl.yui3-videoplayer-content .yui3-videoplayer-uiwidget-selector .dropdownicon{background-position:-160px -400px;width:11px;height:6px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMSIgaGVpZ2h0PSI1LjUiIHZpZXdCb3g9IjAgMCAxMSA1LjUiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik04Ljg5LS4wMDhsLTMuMzkzIDMuMzlMMi4xMDctLjAxIDAtLjAybDUuNDk3IDUuNUwxMS0uMDIiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-160px -400px}.yui3-videoplayer-ccoptions-container .settingnode-content .fwd-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .settingnode-content .fwd-icon{background-position:-154px -241px;width:6px;height:11px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1LjUiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCA1LjUgMTEiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0uMDA2IDIuMTAzbDMuNCAzLjRMLjAwMyA4LjlsLS4wMSAyLjExMyA1LjUxMi01LjUxLTUuNTEtNS41MTYiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-154px -241px}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close{background-position:-175px -348px;width:13px;height:13px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDEzIDEzIj48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMi40OTIgMTIuOTg0bDQuMDEtNC45MjMgNC4wMDggNC45MjZMMTMgMTMgNi41MDIgNS4wMTIgMCAxM00xMC41MDcuMDE3TDYuNDk3IDQuOTQgMi40OS4wMTUgMCAwbDYuNDk4IDcuOTg4TDEzIDAiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-175px -348px}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close:hover{background-position:-162px -348px;width:13px;height:13px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDEzIDEzIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMi40OTIgMTIuOTg0bDQuMDEtNC45MjMgNC4wMDggNC45MjZMMTMgMTMgNi41MDIgNS4wMTIgMCAxM00xMC41MDcuMDE3TDYuNDk3IDQuOTQgMi40OS4wMTUgMCAwbDYuNDk4IDcuOTg4TDEzIDAiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-162px -348px}.yui3-videoplayer-uiwidget-colorpicker .color-option.nocolor,.ssl.yui3-videoplayer-content .yui3-videoplayer-uiwidget-colorpicker .color-option.nocolor{background-position:-210px -207px;width:18px;height:18px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9Ii0xIC0xIDE4IDE4IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IC0xIC0xIDE4IDE4Ij48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTS0uOTc4LS45NzhoMTcuOTU1djE3Ljk1NUgtLjk3OHoiLz48L2RlZnM+PGNsaXBQYXRoIGlkPSJiIj48dXNlIHhsaW5rOmhyZWY9IiNhIiBvdmVyZmxvdz0idmlzaWJsZSIvPjwvY2xpcFBhdGg+PGcgY2xpcC1wYXRoPSJ1cmwoI2IpIj48cGF0aCBmaWxsPSJub25lIiBkPSJNLS45NzggMTYuOTc4TDE2Ljk3OC0uOTc4Ii8+PHBhdGggZmlsbD0iI0ZDMDYwNiIgZD0iTS0uNTggMTcuMzc0bC0uNzkzLS43OTNMMTYuNTgtMS4zNzNsLjc5NC43OTN6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-210px -207px}.yui3-videoplayer-controls .mature-content-marker .maturity-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mature-content-marker .maturity-icon{background-position:-160px -362px;width:32px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzIiIGhlaWdodD0iMjYiIHZpZXdCb3g9IjAgMCAzMiAyNiI+PGcgb3BhY2l0eT0iLjciPjxpbWFnZSBvdmVyZmxvdz0idmlzaWJsZSIgb3BhY2l0eT0iLjE1IiB3aWR0aD0iMTU5IiBoZWlnaHQ9IjIwNCIgeGxpbms6aHJlZj0iQkQyMzkwOTZGQTcxNENFMC5wbmciIHRyYW5zZm9ybT0ibWF0cml4KC4yNCAwIDAgLjI0IC0xLjk0NiAtNi41NzYpIi8+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS41MTUgMjIuODQ4KSIgZmlsbD0iI2ZmZiIgZm9udC1mYW1pbHk9IidIZWx2ZXRpY2FOZXVlLUJvbGQnIiBmb250LXNpemU9IjMyIj5NPC90ZXh0PjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-160px -362px}.yui3-videoplayer-agegate-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-agegate-icon{background-position:0 -59px;width:154px;height:154px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTQiIGhlaWdodD0iMTU0IiB2aWV3Qm94PSItMSAtMSAxNTQgMTU0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IC0xIC0xIDE1NCAxNTQiPjxwYXRoIGZpbGw9IiM3NDU0RkYiIGQ9Ik03Ni4yMiAyYzE5LjcwNyAwIDM4LjIzNCA3LjY3NSA1Mi4xNyAyMS42MUMxNDIuMzI1IDM3LjU0NSAxNTAgNTYuMDc0IDE1MCA3NS43OGMwIDE5LjcxLTcuNjc1IDM4LjIzNS0yMS42MSA1Mi4xNy0xMy45MzYgMTMuOTM2LTMyLjQ2MyAyMS42MS01Mi4xNyAyMS42MS0xOS43MDYgMC0zOC4yMzQtNy42NzYtNTIuMTctMjEuNjFTMi40NCA5NS40ODggMi40NCA3NS43OHM3LjY3NC0zOC4yMzQgMjEuNjEtNTIuMTdDMzcuOTgzIDkuNjc1IDU2LjUxIDIgNzYuMjIgMm0wLTJDNTYuODI2IDAgMzcuNDMyIDcuNCAyMi42MzUgMjIuMTk2Yy0yOS41OTQgMjkuNTk0LTI5LjU5NCA3Ny41NzYgMCAxMDcuMTY4IDE0Ljc5NyAxNC43OTggMzQuMTkgMjIuMTk2IDUzLjU4NCAyMi4xOTZzMzguNzg2LTcuMzk4IDUzLjU4My0yMi4xOTZjMjkuNTk2LTI5LjU5MyAyOS41OTYtNzcuNTc0IDAtMTA3LjE2OEMxMTUuMDA3IDcuNCA5NS42MTMgMCA3Ni4yMiAweiIgb3BhY2l0eT0iLjciLz48cGF0aCBzdHJva2U9IiM3NDU0RkYiIHN0cm9rZS13aWR0aD0iNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBmaWxsPSJub25lIiBkPSJNNzUuOTc1IDExMi4wMXYxMi4wMDZNNzUuNyA5Ni42MDRWMzEuNjg3Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:0 -59px}.yui3-videoplayer-agegate-icon.restricted,.ssl.yui3-videoplayer-content .yui3-videoplayer-agegate-icon.restricted{background-position:0 -213px;width:154px;height:154px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTQiIGhlaWdodD0iMTU0IiB2aWV3Qm94PSItMSAtMSAxNTQgMTU0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IC0xIC0xIDE1NCAxNTQiPjxnIHN0cm9rZT0iIzc0NTRGRiIgc3Ryb2tlLXdpZHRoPSI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0xMTIuNzk1IDQwLjQxM2wtNjIuODU3IDYyLjg4TTUxLjc0NCAxMDEuNDlsLTExLjEgMTEuMTU2Ii8+PC9nPjxnIHN0cm9rZT0iIzc0NTRGRiIgc3Ryb2tlLXdpZHRoPSI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0xMTIuODQgMTEyLjYwN0w0OS45NiA0OS43NU01MS43NjYgNTEuNTZMNDAuNjA0IDQwLjQ1NSIvPjwvZz48cGF0aCBmaWxsPSIjNzQ1NEZGIiBkPSJNNzYuMjIgMmMxOS43MDcgMCAzOC4yMzQgNy42NzUgNTIuMTcgMjEuNjFDMTQyLjMyNSAzNy41NDUgMTUwIDU2LjA3NCAxNTAgNzUuNzhjMCAxOS43MS03LjY3NSAzOC4yMzUtMjEuNjEgNTIuMTctMTMuOTM2IDEzLjkzNi0zMi40NjMgMjEuNjEtNTIuMTcgMjEuNjEtMTkuNzA2IDAtMzguMjM0LTcuNjc2LTUyLjE3LTIxLjYxUzIuNDQgOTUuNDg4IDIuNDQgNzUuNzhzNy42NzQtMzguMjM0IDIxLjYxLTUyLjE3QzM3Ljk4MyA5LjY3NSA1Ni41MSAyIDc2LjIyIDJtMC0yQzU2LjgyNiAwIDM3LjQzMiA3LjQgMjIuNjM1IDIyLjE5NmMtMjkuNTk0IDI5LjU5NC0yOS41OTQgNzcuNTc2IDAgMTA3LjE2OCAxNC43OTcgMTQuNzk4IDM0LjE5IDIyLjE5NiA1My41ODQgMjIuMTk2czM4Ljc4Ni03LjM5OCA1My41ODMtMjIuMTk2YzI5LjU5Ni0yOS41OTMgMjkuNTk2LTc3LjU3NCAwLTEwNy4xNjhDMTE1LjAwNyA3LjQgOTUuNjEzIDAgNzYuMjIgMHoiIG9wYWNpdHk9Ii43Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:0 -213px}.yui3-videoplayer-controls .size .full,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full{background-position:-210px -189px;width:18px;height:18px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxNy45NzMiIHZpZXdCb3g9IjAgMCAxOCAxNy45NzMiPjxnIGZpbGw9IiNENEQ0RDQiPjxwYXRoIGQ9Ik0xOCAwbC02Ljg2My44NzNMMTMuMyAzLjAzN2wtMi43ODYgMi43ODcgMS43NjcgMS43NjggMi43ODgtMi43ODcgMi4wOSAyLjA4OHpNNi4xODYgMTAuMTI1TDMuNCAxMi45MWwtMi4wODgtMi4wODctLjg0NCA2Ljg5MiA2Ljg2NS0uODczLTIuMTY0LTIuMTY0IDIuNzg0LTIuNzg2eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-210px -189px}.yui3-videoplayer-controls .size .full:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full:hover{background-position:-210px -225px;width:18px;height:18px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxNy45NzIiIHZpZXdCb3g9IjAgMCAxOCAxNy45NzIiPjxnIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0xOCAwbC02Ljg2My44NzNMMTMuMyAzLjAzN2wtMi43ODUgMi43ODcgMS43NjcgMS43NjggMi43ODYtMi43ODggMi4wOSAyLjA5ek02LjE4NiAxMC4xMjVMMy40IDEyLjkxbC0yLjA4OC0yLjA4Ny0uODQ0IDYuODkyIDYuODY1LS44NzMtMi4xNjQtMi4xNjQgMi43ODQtMi43ODZ6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-210px -225px}.yui3-videoplayer-controls .size .small,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .small{background-position:-210px -171px;width:18px;height:18px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxNy45NzMiIHZpZXdCb3g9IjAgMCAxOCAxNy45NzMiPjxnIGZpbGw9IiNENEQ0RDQiPjxwYXRoIGQ9Ik0xOC4wMDIgMS43NjhMMTYuMjMyIDAgMTMuNDQ3IDIuNzlsLTIuMDktMi4wOS0uODQgNi44OTQgNi44NjItLjg3My0yLjE2My0yLjE2NXpNMy4yNTMgMTMuMTYyTC40NyAxNS45NDhsMS43NjcgMS43NjcgMi43ODQtMi43ODcgMi4wOSAyLjA5Ljg0NC02Ljg5My02Ljg2NS44NzN6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-210px -171px}.yui3-videoplayer-controls .size .small:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .small:hover{background-position:-210px -153px;width:18px;height:18px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxNy45NzMiIHZpZXdCb3g9IjAgMCAxOCAxNy45NzMiPjxnIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Ik0xOC4wMDIgMS43NjhMMTYuMjMyIDAgMTMuNDQ3IDIuNzlsLTIuMDktMi4wOS0uODQgNi44OTQgNi44NjItLjg3My0yLjE2My0yLjE2NXpNMy4yNTMgMTMuMTYyTC40NyAxNS45NDhsMS43NjcgMS43NjcgMi43ODQtMi43ODcgMi4wOSAyLjA5Ljg0NC02Ljg5My02Ljg2NS44NzN6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-210px -153px}.yui3-videoplayer-content{position:relative;width:100%;height:100%;overflow:hidden;font-family:Helvetica Neue Regular,Helvetica Neue,helvetica,arial,sans-serif;font-size:16px;cursor:default;background-color:black;line-height:normal}.yui3-videoplayer-content:-webkit-full-screen{width:100%!important;height:100%!important}.yui3-videoplayer-content h3,.yui3-videoplayer-content p,.yui3-videoplayer-content label,.yui3-videoplayer-content span,.yui3-videoplayer-content input{margin:0}.yui3-videoplayer-content h2:focus,.yui3-videoplayer-content h3:focus,.yui3-videoplayer-content h4:focus{outline:0}.yui3-videoplayer-yvap{position:absolute;top:0;left:0;width:100%;height:100%}.yui3-videoplayer-content a{color:#6cc5fd}.yui3-videoplayer-content a:hover{color:white}.yui3-videoplayer-content input:focus{outline:0}.yui3-videoplayer-video{position:absolute;width:100%;height:100%;top:0;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-video>video{margin:auto;position:absolute;top:0;right:0;bottom:0;left:0}.yui3-videoplayer-loading{position:absolute;top:50%;left:50%;margin-top:-40px;margin-left:-40px;-moz-opacity:.30;opacity:.30;filter:alpha(opacity=30);-webkit-animation:yui3-videoplayer-spinner .6s infinite linear;-moz-animation:yui3-videoplayer-spinner .6s infinite linear}@-webkit-keyframes yui3-videoplayer-spinner{from{-webkit-transform:rotateZ(0deg)}to{-webkit-transform:rotateZ(360deg)}}@-moz-keyframes yui3-videoplayer-spinner{from{-moz-transform:rotateZ(0deg)}to{-moz-transform:rotateZ(360deg)}}.yui3-videoplayer-content.ie .yui3-videoplayer-loading{margin-left:-13px;margin-top:-13px}.yui3-videoplayer-main{width:100%;position:relative}.yui3-videoplayer-startscreen-container{width:100%;height:100%;background-color:black;position:absolute;cursor:pointer}.yui3-videoplayer-startscreen-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-startscreen-container h3{font-size:1.3em;font-weight:bold;margin-bottom:5px}.yui3-videoplayer-startscreen-container h4{font-size:1.1em;font-weight:normal;margin-bottom:5px}.yui3-videoplayer-startscreen-desc{-webkit-font-smoothing:antialiased;font-weight:200}.small .yui3-videoplayer-startscreen-container p{font-size:82%}.medium .yui3-videoplayer-startscreen-container h3{font-size:100%}.small .yui3-videoplayer-startscreen-container h4{font-size:85%}.small .yui3-videoplayer-startscreen-container h3,.medium .yui3-videoplayer-startscreen-container h4{font-size:91%}.small .yui3-videoplayer-startscreen-container h3,.small .yui3-videoplayer-startscreen-container h4,.medium .yui3-videoplayer-startscreen-container h3,.medium .yui3-videoplayer-startscreen-container h4{margin-bottom:3px}.yui3-videoplayer-startscreen-container .yui3-videoplayer-startscreen-desc{font-size:85%;letter-spacing:.07em}.small .yui3-videoplayer-startscreen-container .yui3-videoplayer-startscreen-desc{display:none}.yui3-videoplayer-startscreen-bar-wrapper{position:absolute;top:0;left:0;height:100%;width:100%}.yui3-videoplayer-startscreen-bar{background-color:transparent;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-startscreen-container:hover .yui3-videoplayer-startscreen-bar{background-color:rgba(0,0,0,.4)}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-startscreen-bar-wrapper{background:black}.yui3-videoplayer-transition{-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-content .yui3-videoplayer-nfl{width:100%;height:36px;position:relative;background:#011832;background:-moz-linear-gradient(left,#011832 0,#103155 40%,#011832 100%);background:-webkit-gradient(linear,left top,right top,color-stop(0%,#011832),color-stop(40%,#103155),color-stop(100%,#011832));background:-webkit-linear-gradient(left,#011832 0,#103155 40%,#011832 100%);background:-o-linear-gradient(left,#011832 0,#103155 40%,#011832 100%);background:-ms-linear-gradient(left,#011832 0,#103155 40%,#011832 100%);background:linear-gradient(to right,#011832 0,#103155 40%,#011832 100%);*background:#011832;white-space:nowrap}.yui3-videoplayer-content.small .yui3-videoplayer-nfl{height:52px}.yui3-videoplayer-nfl .yui3-videoplayer-nfl-branding{position:relative;margin:10px auto;text-align:center;vertical-align:middle;display:inline-block;zoom:1;width:30%}.yui3-videoplayer-content.small .yui3-videoplayer-nfl .yui3-videoplayer-nfl-branding{margin:15px auto}.yui3-videoplayer-nfl .yui3-videoplayer-nfl-brand-span{display:block;position:absolute;margin:-2px 0 0 10px}.yui3-videoplayer-nfl .yui3-videoplayer-nfl-brand-logo{display:block;position:absolute;margin-left:40px;margin-top:2px}.yui3-videoplayer-content.small .yui3-videoplayer-nfl .yui3-videoplayer-nfl-brand-logo{margin-left:50px;margin-top:2px}.yui3-videoplayer-startscreen-bar{position:absolute;width:100%;height:100%;padding:0;min-height:75px}.yui3-videoplayer-startscreen-bar-right{position:absolute;width:100%;bottom:0;padding:12px;background-image:-webkit-gradient(linear,50% 0,50% 100%,color-stop(0%,transparent),color-stop(100%,rgba(0,0,0,0.7)));background-image:-webkit-linear-gradient(top,transparent,rgba(0,0,0,0.7));background-image:-moz-linear-gradient(top,transparent,rgba(0,0,0,0.7));background-image:-o-linear-gradient(top,transparent,rgba(0,0,0,0.7));background-image:linear-gradient(top,transparent,rgba(0,0,0,0.7));display:-webkit-box;display:-moz-box;display:box;-webkit-box-align:bottom;-moz-box-align:bottom;box-align:bottom;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.yui3-videoplayer-startscreen-image{height:auto;width:100%;display:block}.yui3-videoplayer-startscreen-title-wrapper{color:#fff;max-height:95px;overflow:hidden;text-shadow:#000 0 1px 3px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-title-wrapper{min-height:35px;max-height:60px}.yui3-videoplayer-content.medium .yui3-videoplayer-startscreen-title-wrapper{max-height:70px}.yui3-videoplayer-startscreen-container:hover{background-color:rgba(0,0,0,.4)}.yui3-videoplayer-errorscreen-container{width:100%;position:relative;display:block;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);font-family:HelveticaNeue,Helvetica,Arial,sans-serif;height:100%;background-color:black}.yui3-videoplayer-errorscreen-container.show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-wrapper{position:absolute;background-color:#000;display:block;vertical-align:middle;top:15%;color:#eee;margin-left:13%;margin-right:2%}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-title{margin-top:10px;line-height:1.2;font-size:20px}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-title{line-height:1;font-size:12px}.yui3-videoplayer-errorscreen-sub-desc-try{color:#5eb2e8;cursor:pointer;text-decoration:none}.yui3-videoplayer-errorscreen-sub-desc-try:hover{text-decoration:underline}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-tag,.yui3-videoplayer-content .yui3-videoplayer-errorscreen-type-code{text-align:center;color:#626262;font-size:10px;font-weight:lighter;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;bottom:15px;right:22px;position:absolute;padding:3px;background-color:black}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-tag{left:17px;right:inherit}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-download-flash-title{display:inline-block;*display:inline;zoom:1;font-size:16px;font-weight:normal}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-download-flash-button{display:inline-block;*display:inline;zoom:1;margin-top:5%}.yui3-videoplayer-errorscreen-image{display:inline-block}.yui3-videoplayer-infoscreen-container{width:100%;height:100%;position:absolute;color:white;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-infoscreen-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-infoscreen-tint{width:100%;height:100%;position:absolute;background-color:black}.yui3-videoplayer-infoscreen-top{position:absolute;width:100%}.yui3-videoplayer-infoscreen-left{display:inline-block;margin-left:15px;zoom:1;*display:inline}.yui3-videoplayer-infoscreen-right{display:inline-block;vertical-align:top;margin-left:15px;zoom:1;*display:inline}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-now-playing{margin-left:15px;margin-top:10px;padding-bottom:5px;font-weight:bold;font-size:.9em}.yui3-videoplayer-infoscreen-title{overflow:hidden}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-title{font-size:.8em}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-desc{font-size:.75em;color:#aaa;margin-top:5px;overflow:hidden}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-desc{font-size:.6em}.yui3-videoplayer-infoscreen-image-link{position:relative;border:3px solid #61cbff;display:block;cursor:pointer}.yui3-videoplayer-infoscreen-image{position:relative;background-color:black;display:block}.yui3-videoplayer-infoscreen-share{margin-top:7px;border-spacing:3px;width:100%}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-share{display:none}.yui3-videoplayer-infoscreen-share td{font-size:12px;white-space:pre;padding-top:3px}.yui3-videoplayer-infoscreen-link-text-box-td,.yui3-videoplayer-infoscreen-embed-text-box-td{width:100%;padding-left:3px}.yui3-videoplayer-infoscreen-link-text-box,.yui3-videoplayer-infoscreen-embed-text-box{background-color:black;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border-bottom:1px solid #333;border-right:1px solid #333;border-top:0;border-left:0;padding:2px 5px;width:100%;color:#aaa;font-size:11px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .5s,color .5s;-moz-transition:background-color .5s,color .5s;-o-transition:background-color .5s,color .5s;transition:background-color .5s,color .5s}.yui3-videoplayer-infoscreen-link-text-box:hover,.yui3-videoplayer-infoscreen-embed-text-box:hover{background-color:#222;color:#ccc}.yui3-videoplayer-infoscreen-link-text-box::-moz-selection,.yui3-videoplayer-infoscreen-embed-text-box::-moz-selection{color:black!important;background:#6cc5fd!important}.yui3-videoplayer-infoscreen-link-text-box::selection,.yui3-videoplayer-infoscreen-embed-text-box::selection{color:black!important;background:#6cc5fd!important}.yui3-videoplayer-infoscreen-fb-link{margin-top:5px;display:inline-block;text-decoration:none}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-fb-link{display:none}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-fb-share{padding:0;margin-top:3px;vertical-align:top;display:inline-block;font-size:12px;color:white;margin-left:5px}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-infoscreen-fb-share{background-color:black}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-closed-captions-complaint-link{text-align:center;color:#20bcfa;font-size:12px;font-weight:bold;margin-top:3px;position:absolute;right:0;bottom:0;padding:5px;background-color:black;text-decoration:none}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-container p{padding:0 15px}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-profile-log-link{position:absolute;right:20px;bottom:8px;color:#aaa;font-size:12px;font-weight:bold;cursor:pointer;font-style:italic}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-profile-log-link:hover{color:#aaa}.yui3-videoplayer-detailscreen-container{position:absolute;color:white;right:-300px;z-index:9998;top:5px;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out;transition:all .5s ease-out;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-detailscreen-container.yui3-videoplayer-show{right:5px;-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-detailscreen-wrapper{width:inherit;position:relative;vertical-align:middle;text-align:right;font-family:monospace}.yui3-videoplayer-detailscreen-table-wrapper{display:inline-block;text-align:center;overflow-y:auto;overflow-x:hidden;height:200px;background:#000;background:rgba(0,0,0,0.6);border-radius:4px 0 0 4px;padding:0 10px 6px 10px;width:300px;border:2px solid white;position:relative;-webkit-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);-moz-box-shadow:0 0 8px 2px rgba(0,0,0,0.3)}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-detailscreen-table-wrapper{background:black}.yui3-videoplayer-detailscreen-details-table{float:right}.yui3-videoplayer-detailscreen-details-table td.title{font-size:10px;text-align:left;color:#61cbff;text-align:center;padding:5px 0 3px 0}.yui3-videoplayer-detailscreen-details-table td{border:0}.yui3-videoplayer-detailscreen-details-table td.label{color:white;font-size:10px;text-align:right;white-space:pre}.yui3-videoplayer-detailscreen-details-table td.value{color:#ccc;font-size:10px;text-align:left;padding-left:5px}.yui3-videoplayer-detailscreen-details-table-body canvas{cursor:pointer}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-container .close{position:absolute;top:5px;right:20px;text-align:center}.yui3-videoplayer-controls .mature-content-marker{position:absolute;left:12px;top:15px;z-index:2;-moz-opacity:0;opacity:0;-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.yui3-videoplayer-controls .mature-content-marker.marker-shift-right{left:70px}.yui3-videoplayer-controls.show .mature-content-marker{-moz-opacity:1;opacity:1}.lt-ie9 .yui3-videoplayer-controls .mature-content-marker,.lt-ie9 .yui3-videoplayer-controls .mature-content-marker.disable{display:none}.lt-ie9 .yui3-videoplayer-controls.show .mature-content-marker{display:block}.lt-ie9 .yui3-videoplayer-controls.show .mature-content-marker.disable{display:none}.yui3-videoplayer-controls .mature-content-marker .maturity-text{margin-top:-1px;text-align:center;font-size:7px;font-family:Helvetica,Arial,sans-serif;text-transform:uppercase;margin-left:1px}.yui3-videoplayer-agegate-container{width:100%;height:100%;color:#fff;font-family:'Helvetica Neue Regular','Helvetica Neue',helvetica,arial,sans-serif;position:absolute;background-color:#000;background-color:rgba(0,0,0,1);*background:#000}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-info-wrapper{padding:20px}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-title{font-size:20px;font-weight:normal;padding-bottom:7px;margin-bottom:14px;border-bottom:2px solid #5f33ff}.yui3-videoplayer-agegate-container.small .yui3-videoplayer-agegate-title{font-size:14px}.yui3-videoplayer-agegate-container.small .yui3-videoplayer-agegate-desc{font-size:12px}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-action-wrapper{margin-top:20px}.yui3-videoplayer-agegate-container.xsmall .yui3-videoplayer-agegate-action-wrapper{margin-top:10px}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-input{display:inline}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-input input{width:51px;border:0;color:#fff;height:31px;margin:0 12px 0 0;text-align:center;border-radius:0;background-color:#ccc;background-color:rgba(204,204,204,0.7);*color:#000}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-input input.validate-error{border:1px solid #cc4a4a}.yui3-videoplayer-agegate-container.small .yui3-videoplayer-agegate-input input{height:27px;font-size:14px}.yui3-videoplayer-agegate-container.xsmall .yui3-videoplayer-agegate-input input{width:40px;height:25px;font-size:12px}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-btn{padding:8px 20px;background-color:#5f33ff;border:0;outline:0;color:#fff;font-family:'Helvetica Neue Regular','Helvetica Neue',helvetica,arial,sans-serif;font-size:14px}.yui3-videoplayer-agegate-container.small .yui3-videoplayer-agegate-btn{padding:8px 11px;font-size:10px}.yui3-videoplayer-agegate-container.gatebday.narrow .yui3-videoplayer-agegate-btn{display:block;margin-top:8px}.yui3-videoplayer-agegate-container.gatebday.narrow.xsmall .yui3-videoplayer-agegate-btn{padding:7px 11px;display:inline-block;margin-top:0}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-btn.disable{display:none}.yui3-videoplayer-agegate-container .yui3-videoplayer-agegate-icon{position:absolute;right:20px;bottom:20px;background-size:100%;display:inline-block;*display:inline;zoom:1}.yui3-videoplayer-agegate-container.small .yui3-videoplayer-agegate-icon{height:116px;width:116px;*display:none}.yui3-videoplayer-agegate-container.xsmall .yui3-videoplayer-agegate-icon{display:none}.yui3-videoplayer-ccoptions-container h2,.yui3-videoplayer-ccoptions-container ul{margin:0}.yui3-videoplayer-ccoptions-container{position:absolute;top:0;width:100%;max-width:960px;text-align:center;background-color:black;height:145px;z-index:10;left:0;right:0;margin:0 auto;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;-moz-opacity:0;opacity:0;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yui3-videoplayer-ccoptions-container.cc-show{-moz-opacity:1;opacity:1}.yui3-videoplayer-ccoptions-header{width:100%;height:39px}.yui3-videoplayer-ccoptions-title{position:relative;color:#fff;font:18px Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:normal;text-align:center}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back{position:absolute;top:0;left:2%;outline:0;cursor:pointer;padding:0;border:0}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close{position:absolute;top:0;right:2%;cursor:pointer;border:0;padding:0;outline:0}.yui3-videoplayer-ccoptions-header .yui3-videoplayer-ccoptions-title,.yui3-videoplayer-ccoptions-header .yui3-videoplayer-ccoptions-back,.yui3-videoplayer-ccoptions-header .yui3-videoplayer-ccoptions-close{top:15px}.yui3-videoplayer-ccoptions-content{width:100%;padding-top:10px}.yui3-videoplayer-ccoptions-settingswrapper{width:100%;height:100%;*position:relative;*display:inline-block}.yui3-videoplayer-ccoptions-settingswrapper.hidden{display:none}.yui3-videoplayer-ccoptions-settingnode-small{float:left;border-right:2px solid #5f5f5f;display:inline-block;height:87px;width:33%}.yui3-videoplayer-content.ie8 .yui3-videoplayer-ccoptions-settingnode-small{border-right:0;border-left:2px solid #5f5f5f}.yui3-videoplayer-content.ie8 .yui3-videoplayer-ccoptions-settingnode-small:first-child{border-left:none}.yui3-videoplayer-ccoptions-settingnode-small:last-child{border-right:0}.yui3-videoplayer-ccoptions-settingnode-small .node-title{color:#ccc;font:16px Helvetica Neue,Helvetica,Arial,sans-serif}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content{padding-top:20px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content.size-selector{padding-top:40px;width:90%;margin:0 auto}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content.style-link-box{padding-top:25px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-node{width:100%;margin:0 auto;height:36px;position:relative}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .current-style{border:1px solid #646464;display:inline-block;color:#ccc;width:33%;max-width:55px;font-size:1.5em;height:36px;line-height:36px;*position:absolute;*left:25px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-btn{color:#ccc;background-color:transparent;outline:0;border:0;font-size:13px;position:relative;*margin-left:60px;*margin-top:10px;*width:67%}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-btn .fwd-icon{display:inline-block;margin-left:7px;position:relative;top:1px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-btn:hover{color:#fff}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .sizetexts{margin:0 auto 10px auto;padding-bottom:10px;position:relative}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .sizetexts .right{position:absolute;right:1.5%;bottom:0;font-size:28px;display:block;background-color:transparent;color:#ccc;font-weight:bold}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .sizetexts .left{position:absolute;left:2.5%;bottom:0;font-size:14px;display:block;background-color:transparent;color:#ccc;font-weight:bold}.yui3-videoplayer-ccoptions-container .availblity-icon{display:inline-block;background-color:#3db224;width:6px;height:6px;border-radius:8px;position:relative;top:-9px;left:3px;*display:inline;*zoom:1}.yui3-videoplayer-ccoptions-container .availblity-icon.unavailable{background-color:#ccc}.yui3-videoplayer-ccoptions-presets{float:left;width:33.33%;height:87px;padding:0 2%;border-right:2px solid #5f5f5f;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*position:absolute;*left:0;*padding:0 1%}.yui3-videoplayer-ccoptions-presets .preset-container{width:100%;height:100%;*position:relative;*display:inline-block}.yui3-videoplayer-ccoptions-presets .preset{float:left;padding:5px;width:29%;margin-left:6.5%;height:46%;border:2px solid #5f5f5f;font-size:1.3em;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*padding:0;*margin-left:3%;*height:42%}.yui3-videoplayer-ccoptions-presets .preset.first-in-row{margin-left:0}.yui3-videoplayer-ccoptions-presets .preset:hover{border-color:#5f32fb}.yui3-videoplayer-ccoptions-presets .separator{clear:both;width:100%;height:7%}.yui3-videoplayer-ccoptions-styleconfig{float:right;width:66.67%;padding:0 2%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*width:62%;*padding:0;*margin-right:8px}.yui3-videoplayer-ccoptions-styleconfig .fontselector{display:inline-block;width:auto;position:absolute;right:98px;left:2%;margin-right:3%;*right:105px}.yui3-videoplayer-ccoptions-styleconfig .fontcolorpicker{display:inline-block;width:96px;padding:0 0 0 2%;float:right;*margin-top:-1px;*margin-right:2px;*padding:0 2px 2px 0}.yui3-videoplayer-ccoptions-styleconfig .fontopacityselector{display:inline-block;width:21%}.yui3-videoplayer-ccoptions-styleconfig .fontbgcolorpicker{display:inline-block;width:144px;padding-right:3%;float:left;*margin:0 0 0 2px;*padding:0 1% 1% 0}.yui3-videoplayer-ccoptions-styleconfig .font-bg-opacityselector{display:inline-block;width:auto;position:absolute;left:146px;right:2%;margin-left:3%}.yui3-videoplayer-ccoptions-styleconfig .effect-picker{display:block;width:100%;height:100%}.yui3-videoplayer-ccoptions-styleconfig .effect{display:inline-block;width:17%;background-color:#898989;border:2px solid #a2a2a2;height:38px;margin-left:3%;position:relative;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;*float:left;*margin-left:1%;*margin-right:1%;*width:16%}.yui3-videoplayer-ccoptions-styleconfig .effect.selected{border-color:#5f32fb}.yui3-videoplayer-ccoptions-styleconfig .effect:first-child{margin-left:0}.yui3-videoplayer-ccoptions-styleconfig .effect .preview-icon{bottom:0;right:0;left:0;position:absolute;margin:auto}.yui3-videoplayer-ccoptions-container .effect .tooltip{display:none;position:absolute;top:-60px;z-index:5;left:-1000px;right:-1000px;pointer-events:none;*top:-35px}.yui3-videoplayer-ccoptions-styleconfig .effect:hover .tooltip{display:block}.yui3-videoplayer-ccoptions-container .tooltip-content{display:inline-block;background-color:#5f32fb;height:23px;padding:10px 8px;white-space:nowrap;text-align:center;pointer-events:none;*display:inline}.yui3-videoplayer-ccoptions-container .tooltip-content:after{content:'';display:block;position:absolute;width:0;height:0;left:0;right:0;margin:0 auto;bottom:-14px;border-style:solid;border-width:14px 10px 0 10px;border-color:#5e32fb transparent transparent transparent}.yui3-videoplayer-hotkeyoverlay-title{font-size:1.2em;color:#6cc5fd}.yui3-videoplayer-hotkeyoverlay-container{position:absolute;width:100%;text-align:center;top:50%;margin-top:-110px;z-index:9999;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-hotkeyoverlay-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-hotkeyoverlay-table{margin-top:10px}.yui3-videoplayer-hotkeyoverlay-table td{padding:1px}.yui3-videoplayer-hotkeyoverlay-table td.label{color:#6cc5fd;padding-right:10px}.yui3-videoplayer-hotkeyoverlay-table td.value{font-style:italic}.yui3-videoplayer-hotkeyoverlay-table-wrapper{display:inline-block;background:#000;background:rgba(0,0,0,0.8);padding:30px;color:white;border-radius:4px;border:2px solid white;position:relative;-webkit-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);-moz-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);zoom:1;*display:inline}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-hotkeyoverlay-table-wrapper{background:black}.yui3-videoplayer-uiwidget-slider{margin:0 auto 0 auto;width:90%;color:#ccc;background-color:#000;border-top:2px solid #646464}.yui3-videoplayer-uiwidget-slider .track{display:block;height:14px;width:100%;position:relative;margin-top:-8px}.yui3-videoplayer-uiwidget-slider .mark{position:absolute;display:block;border-radius:1px;background-color:#fff;height:2px;width:4px;margin-top:6px;margin-left:-2px}.yui3-videoplayer-uiwidget-slider .thumb{position:absolute;display:inline-block;background-color:#ccc;border-radius:8px;height:8px;width:8px;margin-top:2px;margin-left:-4px;background-color:#fff;z-index:3;border:0 solid #fff;-webkit-transition:all .28s linear;-moz-transition:all .28s linear;-o-transition:all .28s linear;transition:all .28s linear}.yui3-videoplayer-uiwidget-slider .track.drag .thumb{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.yui3-videoplayer-uiwidget-slider .track.drag .thumb,.yui3-videoplayer-uiwidget-slider .thumb:hover{background-color:#5f33ff;border-width:4px;border-radius:10px;width:10px;height:10px;margin-left:-9px;margin-top:-3px}.yui3-videoplayer-uiwidget-selector{margin-left:auto;margin-right:auto;padding:0;width:90%;color:#ccc}.yui3-videoplayer-uiwidget-selector .yep-uiselector-wrapper{border:0;position:relative;border:2px solid #5f5f5f;background-color:black;height:40px;*width:100%}.yui3-videoplayer-uiwidget-selector.open .yep-uiselector-wrapper{border:2px solid #5f32fb;cursor:pointer}.yui3-videoplayer-uiwidget-selector .yep-uiselector-wrapper .yep-uiselector-selection{float:left;display:inline-block;color:#fff;white-space:nowrap;padding-right:17px;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;*width:auto;*margin-right:7px}.yui3-videoplayer-uiwidget-selector .yep-uiselector-selection.yep-uiselector-disabled{color:#ccc}.yui3-videoplayer-uiwidget-selector .yep-uiselector-wrapper .yep-uiselector-selection,.yui3-videoplayer-uiwidget-selector li.yep-uiselector-listitem{text-align:left;padding-left:5px;overflow:hidden;text-overflow:ellipsis;height:40px;line-height:40px}.yui3-videoplayer-uiwidget-selector .dropdownicon-bg{height:100%;width:17px;background-color:inherit;position:absolute;right:0;*height:6px;*width:11px;*right:4px;*top:17px}.yui3-videoplayer-uiwidget-selector .dropdownicon{position:absolute;top:0;bottom:0;margin:auto 0}.yui3-videoplayer-uiwidget-selector ul.yep-uiselector-listbox{max-height:120px;display:none;padding:5px 0;background-color:black;opacity:.9;min-width:100%;overflow-x:hidden;overflow-y:auto;*overflow-y:scroll;padding-right:5px;border:2px solid #636363;border-top:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;*padding-right:0;*position:relative}.yui3-videoplayer-uiwidget-selector ul.yep-uiselector-listbox::-webkit-scrollbar{width:5px}.yui3-videoplayer-uiwidget-selector ul.yep-uiselector-listbox::-webkit-scrollbar-thumb{border-radius:8px;background-color:#959595}.yui3-videoplayer-uiwidget-selector.open ul.yep-uiselector-listbox{display:inline-block}.yui3-videoplayer-uiwidget-selector li.yep-uiselector-listitem{list-style-type:none;white-space:nowrap;display:block;outline:0;position:relative;width:100%}.yui3-videoplayer-uiwidget-tab{margin-left:auto;margin-right:auto;padding:0;width:100%;color:#ccc;border:1px solid #606060}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav{width:100%;padding-bottom:0;margin-bottom:0;height:27px;display:block;background-color:transparent;text-align:center;overflow:hidden;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*padding-right:2px}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav .yep-uitab{display:block;float:left;margin:0;padding:0;border-right:1px solid #606060;background-color:#222;height:27px;line-height:27px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav .yep-uitab:last-child{border-right:0}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav .yep-uitab.selected{background-color:#e8e8e8;border-bottom:1px solid #e8e8e8;color:#000}.yui3-videoplayer-uiwidget-tab .tabs-content .tabcontent{display:none;background-color:#e8e8e8;padding:9px 2%;height:40px;position:relative;*width:100%;*padding-right:0;*padding-left:1px}.yui3-videoplayer-uiwidget-tab .tabs-content .tabcontent.tab-show{display:block}.yui3-videoplayer-uiwidget-colorpicker{margin-left:auto;margin-right:auto;padding:0;width:100%;margin-left:-4px;margin-top:1px}.yui3-videoplayer-uiwidget-colorpicker .color-option{border:1px solid #8b8b8b;width:18px;height:18px;display:inline-block;margin-left:4px;margin-top:-1px;*float:left;*margin-top:2px}.yui3-videoplayer-uiwidget-colorpicker .color-option.selected{border:2px solid #5f32fb;margin:-2px -1px -1px 3px;*margin:1px -1px -1px 3px}.yui3-videoplayer-endscreen-container{position:relative;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);background-color:#000;height:100%;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;color:#fff;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.yui3-videoplayer-endscreen-container.show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-button{left:50%;top:50%;position:absolute;margin-left:-20px;margin-top:-26px;background-color:transparent;border:0;cursor:pointer;outline:0}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-text,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-text{font-size:13px;overflow:hidden;position:absolute;bottom:24px;left:82px;color:white}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node .overlay .replay-text,.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-text{bottom:10px;left:56px}.yui3-videoplayer-controls{font:12px Helvetica Neue,Helvetica,Arial,sans-serif;line-height:13px;color:#fff;font-weight:lighter;direction:ltr}.yui3-videoplayer-controls,.yui3-videoplayer-drag *{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yui3-videoplayer-controls.hide,.yui3-videoplayer-controls .disable{display:none}.yui3-videoplayer-controls .ie-gradient{position:absolute;bottom:-18px;width:100%;height:36px;z-index:1;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#99000000',GradientType=0)}.yui3-videoplayer-controls.show .ie-gradient{bottom:0}.yui3-videoplayer-controls .accessibility-cc-icon{position:absolute;left:10px;top:10px;z-index:2;-moz-opacity:0;opacity:0;-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.yui3-videoplayer-controls.show .accessibility-cc-icon{-moz-opacity:1;opacity:1}.lt-ie9 .yui3-videoplayer-controls .accessibility-cc-icon,.lt-ie9 .yui3-videoplayer-controls .accessibility-cc-icon.disable{display:none}.lt-ie9 .yui3-videoplayer-controls.show .accessibility-cc-icon{display:block}.lt-ie9 .yui3-videoplayer-controls.show .accessibility-cc-icon.disable{display:none}.yui3-videoplayer-controls .bar{position:absolute;bottom:-3px;width:100%;height:36px;z-index:2;-moz-opacity:0;opacity:0;background:-webkit-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-o-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-ms-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);-webkit-transition:opacity .2s ease-in-out,bottom .2s ease-in-out;-moz-transition:opacity .2s ease-in-out,bottom .2s ease-in-out;-o-transition:opacity .2s ease-in-out,bottom .2s ease-in-out;transition:opacity .2s ease-in-out,bottom .2s ease-in-out}.yui3-videoplayer-controls.show .bar{bottom:0;-moz-opacity:1;opacity:1}.yui3-videoplayer-controls .item{height:36px;cursor:pointer}.yui3-videoplayer-controls button{border:0;padding:0;cursor:pointer;outline:0}.yui3-videoplayer-controls button.disable{cursor:default}.yui3-videoplayer-controls .main,.yui3-videoplayer-controls .aux{height:36px}.yui3-videoplayer-controls .aux .item{margin:8px 14px 0 12px}.yui3-videoplayer-controls .no-fullscr .aux .item{margin:8px 18px 0 12px}.yui3-videoplayer-controls .size{height:30px;display:inline-block;*display:inline;*zoom:1;margin:8px 15px 0 0}.yui3-videoplayer-controls .size span{display:block}.yui3-videoplayer-controls .main{position:absolute;bottom:0;left:0}.yui3-videoplayer-controls .play-pause{width:40px;*float:left}.yui3-videoplayer-controls .play-pause span{display:block;margin-top:-1px;margin-left:16px;*margin-left:5px}.yui3-videoplayer-controls .seek{position:relative;margin:0 84px 0 44px;cursor:pointer;height:9px;border-top:13px solid transparent;border-bottom:14px solid transparent}.yui3-videoplayer-controls .no-fullscr .seek{margin:0 56px 0 44px}.yui3-videoplayer-controls .seek.disable-drag{cursor:default}.yui3-videoplayer-controls .seek .slider,.yui3-videoplayer-controls .seek .buffer,.yui3-videoplayer-controls .seek .progress,.yui3-videoplayer-controls .seek .handle{height:7px;border-radius:4px}.yui3-videoplayer-controls .seek .slider{width:100%;position:relative;background:#000;background:rgba(0,0,0,0.4);*background-color:#000;filter:alpha(opacity=40);*filter:none;border:1px solid #555;border-color:rgba(255,255,255,0.1)}.yui3-videoplayer-controls .seek .buffer{width:0;background:#371f83;background:rgba(95,51,255,0.5);*background-color:#371f83;-webkit-transition:width .28s linear;-moz-transition:width .28s linear;-o-transition:width .28s linear;transition:width .28s linear}.yui3-videoplayer-controls .seek .progress{width:0;position:absolute;top:0;background:#5f33ff;-webkit-transition:width .28s linear;-moz-transition:width .28s linear;-o-transition:width .28s linear;transition:width .28s linear}.yui3-videoplayer-controls .seek .handle,.yui3-videoplayer-controls .seek.disable-drag .handle:hover{width:7px;height:7px;position:absolute;top:0;margin-left:-4px;margin-top:0;background:#fff;border:0 solid #fff;z-index:3;-webkit-transition:all .28s linear;-moz-transition:all .28s linear;-o-transition:all .28s linear;transition:all .28s linear}.yui3-videoplayer-controls .seek.drag .handle,.yui3-videoplayer-controls .seek .handle:hover{border-width:4px;border-radius:9px;background-color:#5f33ff;width:9px;height:9px;margin-left:-9px;margin-top:-5px}.yui3-videoplayer-controls .seek .time{position:absolute;top:-24px;padding:3px 0;text-align:center;font-size:14px;color:#fff;text-shadow:1px 1px 2px #000;background-color:#000;background-color:rgba(0,0,0,0.5);*background-color:#000;border-radius:5px;-moz-opacity:0;opacity:0;-webkit-transition:all .28s linear;-moz-transition:all .28s linear;-o-transition:all .28s linear;transition:all .28s linear}.yui3-videoplayer-controls .seek .time.show{-moz-opacity:1;opacity:1}.yui3-videoplayer-controls .seek.drag .progress,.yui3-videoplayer-controls .seek.drag .handle,.yui3-videoplayer-controls .seek.drag .time{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.yui3-videoplayer-controls .aux{position:absolute;bottom:0;right:0}.yui3-videoplayer-controls .seek .vseek{display:none;position:absolute;top:-65px;width:112px;height:63px;z-index:2;background-color:#000;border:1px solid #424242;text-align:center}.yui3-videoplayer-controls .vseek .vseek-thumb{margin:auto;background-size:1120px 630px;image-rendering:-moz-crisp-edges;image-rendering:-o-crisp-edges;image-rendering:-webkit-optimize-contrast;-ms-interpolation-mode:nearest-neighbor}.yui3-videoplayer-controls .vseek .vseek-time{position:absolute;bottom:4px;left:56px;width:48px;padding:3px 0;text-align:center;font-size:14px;color:#fff;text-shadow:1px 1px 2px #000;background-color:#000;background-color:rgba(0,0,0,0.5);*background-color:#000;border-radius:5px}.yui3-videoplayer-controls .settings{display:inline-block;*display:inline;*zoom:1;width:20px;height:30px;margin:auto 18px 10px auto}.yui3-videoplayer-controls .settings span{display:block}.yui3-videoplayer-controls .settings-panel-box{position:absolute;right:0;bottom:22px;z-index:3;padding:18px 16px 12px 0;background-color:rgba(0,0,0,0)}.yui3-videoplayer-controls .settings-panel{padding:16px 12px 8px;background-color:#000;background-color:rgba(0,0,0,0.9);*background-color:#000;border:1px solid #555;border-color:rgba(255,255,255,0.1);border-radius:4px;z-index:3}.yui3-videoplayer-controls .settings-panel,.yui3-videoplayer-controls .settings-panel button,.yui3-videoplayer-controls .settings-panel .resolution span{font-size:13px;font-weight:400}.yui3-videoplayer-controls .settings-panel table{border-collapse:separate!important;border-spacing:0!important;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-o-hyphens:none;hyphens:none}.yui3-videoplayer-controls .settings-panel th,.yui3-videoplayer-controls .settings-panel .share-embeds-hdr{font-weight:400;text-align:right;cursor:default;border:0}.yui3-videoplayer-controls .settings-panel th{padding:5px 12px 5px 0;vertical-align:middle}.yui3-videoplayer-controls .settings-panel .share-embeds-hdr{padding:0 12px 10px 0;vertical-align:bottom}.yui3-videoplayer-controls .settings-panel .share-embeds-buttons{padding:0 0 10px 0}.yui3-videoplayer-controls .settings-panel td{min-width:50px;border:0;text-align:left;padding:5px 0 5px}.yui3-videoplayer-controls .settings-panel .on{cursor:default}.yui3-videoplayer-controls .share-embeds{vertical-align:bottom}.yui3-videoplayer-controls .settings-panel button.text{margin-right:8px;padding:3px 1px;background:0;color:#ccc}.yui3-videoplayer-controls .settings-panel button.text:hover{color:#fff}.yui3-videoplayer-controls .settings-panel button.text.on{color:#5f33ff}.yui3-videoplayer-controls .settings-panel .fb-icon,.yui3-videoplayer-controls .settings-panel .mail-icon,.yui3-videoplayer-controls .settings-panel .tumblr-icon,.yui3-videoplayer-controls .settings-panel .twitter-icon{float:left;cursor:pointer}.yui3-videoplayer-controls .settings-panel .y-logo{float:right;cursor:pointer;margin-top:7px}.yui3-videoplayer-controls .settings-panel .embed-button{float:left;width:40px;height:26px;font-size:10px;cursor:pointer;background:#ccc;color:#5c3aff}.yui3-videoplayer-controls .settings-panel .fb-icon,.yui3-videoplayer-controls .settings-panel .mail-icon,.yui3-videoplayer-controls .settings-panel .twitter-icon,.yui3-videoplayer-controls .settings-panel .embed-button{margin-left:8px}.yui3-videoplayer-controls .settings-panel .embed-button:hover{background:#606060;color:#fff}.yui3-videoplayer-controls .embed-hidden .embed-button{background:#b7b7b7;color:#fff}.yui3-videoplayer-controls .settings-panel .embed-chainlink-button{float:left;margin:2px 10px 0 8px;background-color:transparent;cursor:pointer}.yui3-videoplayer-controls .settings-panel .embed-link th{border-top:1px solid #5a5958;border-left:1px solid #5a5958;padding:4px 12px 4px 0;font-size:11px}.yui3-videoplayer-controls .settings-panel .embed-link td{border-top:1px solid #5a5958;border-right:1px solid #5a5958;padding:4px 0}.yui3-videoplayer-controls .settings-panel .embed-link-text{float:left;border:0;background-color:transparent;color:#fff;width:165px;font-size:11px}.yui3-videoplayer-controls .embed-hidden .embed-link,.yui3-videoplayer-controls .embed-hidden .embed-code{display:none}.yui3-videoplayer-controls .settings-panel .embed-code th{border-left:1px solid #5a5958;border-bottom:1px solid #5a5958;padding:4px 12px 4px 0;font-size:11px}.yui3-videoplayer-controls .settings-panel .embed-code td{border-bottom:1px solid #5a5958;border-right:1px solid #5a5958;padding:4px 0}.yui3-videoplayer-controls .settings-panel .embed-code-text{float:left;border:0;background-color:transparent;color:#fff;width:165px;font-size:11px}.yui3-videoplayer-controls .settings-panel .embed-code .embed-error{min-width:280px;opacity:2;background-color:transparent}.yui3-videoplayer-controls .settings-panel .embed-error-text{float:left;border:0;background:#686868;color:#ccc;font-size:11px;padding-left:3px;width:98%}.yui3-videoplayer-controls .settings-panel input{padding:0;border-radius:0}.embed-link-text::-moz-selection,.embed-code-text::-moz-selection{background:#686868!important}.embed-link-text::selection,.embed-link-text::selection{background:#686868!important}.yui3-videoplayer-controls .settings-panel .cc-feedback{cursor:pointer}.yui3-videoplayer-controls .resolution span{margin-right:10px;cursor:pointer;color:#ccc}.yui3-videoplayer-controls .resolution span.hd-icon{display:inline-block;vertical-align:top;margin-left:2px;margin-right:0}.yui3-videoplayer-controls .resolution span.last{margin-right:0}.yui3-videoplayer-controls .resolution span:hover{color:#fff}.yui3-videoplayer-controls .resolution span.selected{color:#5f33ff}.yui3-videoplayer-controls .settings-panel .cc-feedback{//margin-left:23px;cursor:pointer}.yui3-videoplayer-controls .size .full,.yui3-videoplayer-controls .size .small{margin-top:2px;cursor:pointer}.yui3-videoplayer-controls .size.disable{display:none}.yui3-videoplayer-controls .volume .mute{float:left;width:20px;height:20px;margin-top:2px;background:0;cursor:pointer}.yui3-videoplayer-controls .volume .mute span{display:block;margin-left:4px}.yui3-videoplayer-controls .volume .bars{float:left;width:42px;margin-top:7px;padding-left:3px;cursor:pointer}.yui3-videoplayer-controls .volume .bars div{width:4px;height:10px;float:left;margin-right:3px;background:#ccc;cursor:pointer}.yui3-videoplayer-controls .volume .bars.drag div:hover{background:#ccc}.yui3-videoplayer-controls .volume .bars div:hover{background:#fff}.yui3-videoplayer-controls .volume .bars:not(.drag) div:hover{-webkit-transition:background-color .3s ease-in-out;-moz-transition:background-color .3s ease-in-out;-o-transition:background-color .3s ease-in-out;transition:background-color .3s ease-in-out}.yui3-videoplayer-controls .volume .bars div.on{background:#5f33ff}.yui3-videoplayer-controls .volume .bars:hover div.on{*background-color:#5f33ff}.yui3-videoplayer-main .accessible-controls{position:absolute;top:0;left:0;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-lightbox{overflow:hidden!important}.yui3-videoplayer-lightbox .yui3-videoplayer-content{position:fixed;top:0;left:0;width:100%!important;height:100%!important;z-index:2147483647}.yui3-videoplayer-lightbox-ancestor{z-index:2147483647!important}.yui3-videoplayer-slug{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:lighter;font-size:13px;color:white;position:absolute;top:14px;left:24px;cursor:default;z-index:1;display:none}.yui3-videoplayer-main .provider-logo{position:absolute;top:14px;right:14px}.yui3-videoplayer-main.ad-mode .provider-logo,.yui3-videoplayer-main .provider-logo.hidden{display:none}.yui3-videoplayer-content .close{position:absolute;top:5px;right:5px;font-size:10px;color:#333;cursor:pointer;font-family:Arial;background-color:white;border-radius:8px;width:17px;height:17px;vertical-align:middle;font-weight:bold;text-decoration:none;padding:0;border:0}.yui3-videoplayer-content .close:hover{background-color:#61cbff;color:black}.yui3-videoplayer-carousel-viewport li.load .metadata{bottom:0;*bottom:0;*left:0;width:100%;position:absolute;height:35px;background:-webkit-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-o-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-ms-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#99000000',GradientType=0)}.yui3-videoplayer-carousel-viewport li.load .metadata.vsa{height:58px}.yui3-videoplayer-carousel-viewport .metadata .sponsored{width:48%;font-size:12px;line-height:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#fff;margin:15px 5px 0 5px;text-shadow:2px 2px #000;padding-top:5px;padding-left:3px;*filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport .metadata .sponsored span{width:18px;height:18px;background-image:url('http://findresigned.corp.ne1.yahoo.com/money_icon_small.png');background-repeat:no-repeat;position:absolute;margin:-2px 5px 5px 5px}.yui3-videoplayer-carousel-viewport .metadata .title.vsa-title{margin:5px 6px}.yui3-videoplayer-carousel-viewport .metadata .title{font-size:13px;line-height:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#fff;margin:16px 6px;*filter:alpha(opacity=100)}.overlay .overlay-background{filter:alpha(opacity=40);background:#000;width:100%;height:100%}.yui3-videoplayer-carousel-viewport-item .overlay .play-button{position:absolute;border:0;*border:0;cursor:pointer;outline:0;background-color:transparent;*background-color:transparent;left:50%;top:50%}.desktop .yui3-videoplayer-carousel-viewport-item .overlay .play-button{margin:-26px 0 0 -16px}.mobile .yui3-videoplayer-carousel-viewport-item .overlay .play-button{margin:-12px 0 0 -16px}.yui3-videoplayer-carousel-viewport li.load .overlay{background-color:rgba(0,0,0,0.4);width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden}.desktop .yui3-videoplayer-carousel-viewport li.load .overlay{-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-moz-transition:opacity .2s ease-in;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.mobile .yui3-videoplayer-carousel-viewport li.load,.desktop .yui3-videoplayer-carousel-viewport li.load:hover .overlay{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport-item .overlay .play-video-text{font-size:13px;overflow:hidden;position:absolute;bottom:44px;left:74px;color:#fff;*filter:alpha(opacity=100)}.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport-item .overlay .play-video-text{bottom:30px;left:52px}.yui3-videoplayer-carousel-container{position:relative;height:inherit;background:0;overflow:hidden;padding:0;height:100%;background:0;padding:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.yui3-videoplayer-carousel-viewport{position:relative;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;*width:9999px;height:100%;margin:0 auto}.yui3-videoplayer-carousel-viewport.touch,.yui3-videoplayer-carousel-viewport.touch li{-webkit-transition:none;-moz-transition:none;-o-transition:color 0 ease-in;transition:none;-webkit-user-select:none}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-viewport,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport{margin-left:20px}.yui3-videoplayer-carousel-container.yui3-videoplayer-enabled .yui3-videoplayer-carousel-viewport{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport li{display:inline-block;zoom:1;*display:inline;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .3s ease-in-out;-moz-opacity:.60;opacity:.60;filter:alpha(opacity=60);position:relative}.yui3-videoplayer-carousel-container li.load,.yui3-videoplayer-carousel-viewport li.load:hover{cursor:pointer;-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport img{display:block;filter:alpha(opacity=100)}.card-m .yui3-videoplayer-content.large img,.card-m .yui3-videoplayer-content.medium img{width:190px;height:107px}.card-m .yui3-videoplayer-content.small img{width:125px;height:71px}.yui3-videoplayer-carousel-viewport-item-play{position:absolute;left:0;bottom:0}.yui3-videoplayer-carousel-title{color:#34c4ff;font-weight:bold;margin-left:2%;width:96%;text-align:center;position:absolute;bottom:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.yui3-videoplayer-carousel-title.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-title{font-size:12px;margin-top:2px}.yui3-videoplayer-content.small .yui3-videoplayer-carousel-title{font-size:12px;margin-top:2px}.yui3-videoplayer-carousel-viewport-item-indicator{position:absolute;background-color:#21beff;padding:5px;color:white;top:0;left:0;font-size:12px;font-weight:bold;*filter:alpha(opacity=100)}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-viewport-item-indicator,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport-item-indicator{font-size:8px}.yui3-videoplayer-carousel-container li,.yui3-videoplayer-carousel-container li:hover{-moz-opacity:0;opacity:0;filter:alpha(opacity=0);float:left;position:absolute;overflow:hidden;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-viewport-item-img{width:190px;height:107px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container{position:absolute;top:0;height:inherit;width:30px}.yui3-videoplayer-content .yui3-videoplayer-left-enabled .yui3-videoplayer-carousel-left,.yui3-videoplayer-content .yui3-videoplayer-right-enabled .yui3-videoplayer-carousel-right{-moz-opacity:1;opacity:1;filter:alpha(opacity=100);display:block;*zoom:1}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container{height:100px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow{display:inline-block;position:absolute;margin-top:-30px;margin-left:-10px;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);top:50%;display:none;cursor:pointer}.yui3-videoplayer-content .yui3-videoplayer-carousel-left{margin-left:0}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-left-container{left:0}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-right-container{right:0}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-carousel-node,.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-blank-node,.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched-center-wrapper{width:100%;position:relative;height:100%;z-index:2}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched-wrapper{height:100%;margin:0 auto;width:200px;text-align:left}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched{position:relative;top:50%}.yui3-videoplayer-endscreen-watched img{width:208px;height:117px}.yui3-videoplayer-endscreen-watched img:hover{cursor:pointer}.yui3-videoplayer-endscreen-container .yui3-videoplayer-arrow-container{background:0;bottom:0;margin:auto;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-endscreen-carousel-node p{margin:0;text-align:left}.yui3-videoplayer-endscreen-carousel-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left{*margin:-25px 0 0 -15px}.yui3-videoplayer-endscreen-carousel-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right{*margin:-25px 0 0 -25px}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node li,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node li{width:208px;height:117px}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node li{width:157px;height:88px}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay{width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden;background-color:transparent;background-color:rgba(0,0,0,0.4)}.desktop .yui3-videoplayer-endscreen-carousel-node li.replay .overlay{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-videos-node,.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-flash-download-node{width:100%;position:absolute;height:120px;z-index:2;margin:auto auto;bottom:15%}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-flash-download-node a{color:#5eb2e8;text-decoration:none}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-flash-download-node{position:absolute;background-color:#000;display:block;vertical-align:middle;font-size:16px;color:#5eb2e8;margin-left:13%;width:100%}.yui3-videoplayer-errorscreen-download-flash{cursor:pointer;position:relative;z-index:3;display:inline-block;zoom:1;*display:inline}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-arrow-container{background:0;bottom:0;margin:auto;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-errorscreen-videos-node p{margin:0;text-align:left}.yui3-videoplayer-errorscreen-videos-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left{*margin:-25px 0 0 -15px}.yui3-videoplayer-errorscreen-videos-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right{*margin:-25px 0 0 -25px}.yui3-videoplayer-content.large .yui3-videoplayer-errorscreen-videos-node li,.yui3-videoplayer-content.medium .yui3-videoplayer-errorscreen-videos-node li{width:208px;height:117px}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-videos-node{top:25%}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node li{width:157px;height:88px}.yui3-videoplayer-content.large .yui3-videoplayer-errorscreen-wrapper{font-size:20px}.yui3-videoplayer-content.medium .yui3-videoplayer-errorscreen-wrapper{font-size:18px;margin-left:10%;margin-right:1%}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-wrapper{position:absolute;background-color:#000;display:block;vertical-align:middle;top:15%;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;color:#eee;font-size:13px;margin-left:8%;margin-right:2%}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel{margin-left:auto;margin-right:auto}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container,.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel h4{background-color:#000}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li{margin:10px 0}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li.load{-moz-opacity:.6;opacity:.6;filter:alpha(opacity=60)}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li.load:hover{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-closedcaptions{opacity:0;-moz-opacity:0;filter:alpha(opacity=0);z-index:0;width:100%;height:24%;position:absolute;bottom:0}.yui3-videoplayer-closedcaptions-text{color:#fff;font-size:20px;text-align:center;margin:0 40px 0 40px}.partner-bar-clearfix:before,.partner-bar-clearfix:after{content:'.';display:block;visibility:hidden;height:0;font-size:0;line-height:0}.yui3-videoplayer-partner-bar{position:relative;width:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;background:#001633;background:-moz-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:-webkit-gradient(linear,left top,right top,color-stop(0%,#001633),color-stop(19%,#103359),color-stop(100%,#011e3c));background:-webkit-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:-o-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:-ms-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:linear-gradient(to right,#001633 0,#103359 19%,#011e3c 100%);*background:#001633;white-space:nowrap;font-size:0;height:94px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-branding{position:relative;margin:10px auto;top:10;left:0;text-align:center;vertical-align:middle;display:inline-block;*display:inline;zoom:1;width:20%}.yui3-videoplayer-partner-bar .branding-logo{display:block;text-indent:100%;overflow:hidden;white-space:nowrap;vertical-align:middle;margin:0 auto}.yui3-videoplayer-partner-bar .branding-text{color:white;font-weight:300;font-size:9px;display:block;padding-top:4px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos{vertical-align:middle;width:80%;display:inline-block;*display:inline;zoom:1}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos ul{list-style:none;white-space:nowrap;max-width:100%;overflow:hidden;font-size:0;padding:7px 2px 7px 0;position:relative}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos ul li{display:inline-block;*display:inline;zoom:1;position:relative;width:24%;margin-right:1%;cursor:pointer}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .img-wrap-16x9{padding-bottom:56.25%;height:0;position:relative;overflow:hidden}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos img{width:100%;height:auto;display:block}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay{font-size:13px;height:100%;width:100%;position:absolute;left:0;top:0;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-moz-transition:opacity .2s ease-in;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in;background-color:rgba(0,0,0,0.4)}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay:hover{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay .play-text{font-family:HelveticaNeue,Helvetica,Arial,sans-serif;color:#FFF;font-size:12px;font-weight:300;position:absolute;text-align:left;bottom:6px;margin-left:30px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay .title-text{font-family:HelveticaNeue,Helvetica,Arial,sans-serif;font-size:12px;line-height:13px;height:26px;overflow:hidden;white-space:normal;text-overflow:ellipsis;position:absolute;color:#fff;margin-left:5px;margin-top:5px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .play-icon{border-radius:2px;background-color:#324fe1;cursor:pointer;position:absolute;bottom:5px;left:5px;width:20px;height:14px;background-image:url('http://l.yimg.com/rx/builds/4.69.0.1415767921/assets/play.png');background-image:url('http://l.yimg.com/rx/builds/4.69.0.1415767921/assets/play-white.svg'),none;background-repeat:no-repeat;background-size:100% 100%;text-indent:100%;overflow:hidden}.ssl.yui3-videoplayer-content .yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .play-icon{background-image:url('https://s.yimg.com/rx/builds/4.69.0.1415767921/assets/play.png');background-image:url('https://s.yimg.com/rx/builds/4.69.0.1415767921/assets/play-white.svg'),none}.yui3-videoplayer-opacity-0{-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-opacity-70{-moz-opacity:.7;opacity:.7;filter:alpha(opacity=70)}.yui3-videoplayer-opacity-80{-moz-opacity:.8;opacity:.8;filter:alpha(opacity=80)}.yui3-videoplayer-opacity-100{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.ssl.yui3-videoplayer-content .yui3-videoplayer-transparent{background:url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');*background:url('https://s.yimg.com/rx/builds/4.69.0.1415767921/assets/transparent.gif')}.yui3-videoplayer-transparent{background:url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');*background:url('http://l.yimg.com/rx/builds/4.69.0.1415767921/assets/transparent.gif')}";
t.NAME="View";t.NS="view";t.ATTRS={screenSize:{value:"LARGE"},activeScreen:{value:undefined},activeOverlay:{value:undefined},state:{value:"INIT"},_skipFlashCheck:{value:false},startScreenCreated:{value:false}};t.PLAYLIST_CAROUSEL_DIMENSIONS={LARGE:{HEIGHT:150,IMAGE_HEIGHT:105,HORIZONTAL_SPACING:20,VERTICAL_SPACING:20,MARGIN:3},MEDIUM:{HEIGHT:100,IMAGE_HEIGHT:63,HORIZONTAL_SPACING:10,VERTICAL_SPACING:10,MARGIN:3},SMALL:{HEIGHT:100,IMAGE_HEIGHT:63,HORIZONTAL_SPACING:10,VERTICAL_SPACING:10,MARGIN:3}};t.NFL_BRANDING_DIMENSIONS={LARGE:{HEIGHT:36},MEDIUM:{HEIGHT:36},SMALL:{HEIGHT:52}};t.FACEBOOK_URL_TEMPLATE="https://www.facebook.com/sharer.php?t={title}&u={shareUrl}";t.TWITTER_URL_TEMPLATE="https://twitter.com/intent/tweet?text={twitterTitle}&url={shareUrl}&via=Yahoo";t.MAIL_URL_TEMPLATE="mailto:?subject={titleNoHtml}&body={shareUrl}%0D%0D{bodyText}";t.CC_COMPLAINTS_URL_TEMPLATE="http://info.yahoo.com/legal/{region}/yahoo/cc/{lang}/";t.CSS_STATE={AD_MODE:"ad-mode",AD_ERROR:"ad-error",PLAYING:"yep-playing",PAUSED:"yep-paused",SEEKING:"yep-seeking",BUFFERING:"yep-buffering",MUTED:"yep-muted",FULLSCREEN:"yep-fullscreen"};t.KEYS={SHIFT:16,CTRL:17,OPTION:18,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,M:77,QUESTION:191,ESC:27};var Z=t.KEYS;t.GOLDEN_RATIO=16/9;t.SMALL_MAX_WIDTH=495;t.MEDIUM_MAX_WIDTH=729;f.extend(t,f.Base,{initializer:function(ap){var ao=this,Y,ar,aq;this._model=ap.model;this._controller=ap.controller;ao._providerLogo=null;ao._providerLogoLink=null;Y=this._model.get("version");ar="yvpstyle_"+Y;aq=f.one("head").getById(ar);if(!aq){aq=f.Node.create("<style id="+ar+">"+t.CSS+"</style>");f.one("head").append(aq);}this.controls=new I({model:this._model,controller:this._controller,view:this});},getController:function(){return this._controller;},_createRenderers:function(){this.createVideoRenderer(this.videoBox);if(this._model.get("error")!==null){return false;}this.set("state","RENDERED");return true;},render:function(at){this._node=at;this.contentBox=this.createNode("div","content");this.main=this.createNode("div","main");this.controlsContent=this.createNode("div","controls");this.loading=this.createNode("div","loading");this.slug=this.createNode("div","slug");this.loading.setStyle("display","none");if(this._controller.isHtmlCCSupported()){this.closedCaptions=this.createNode("div","closedcaptions");this.main.append(this.closedCaptions);}this.main.append(this.controlsContent);this.main.append(this.loading);this.main.append(this.slug);this._addContentClasses();var aq=this,ap=aq._model,ao=aq.main,au=ap.get("carousel")?aq.getCarouselPlayerHeight():"100%",ar=aq.createNode("div","video"),av,Y=ap.get("currentMedia")?ap.get("currentMedia").get("ageGate"):undefined;ao.setStyle("height",au);aq.contentBox.append(aq.main);at.appendChild(aq.contentBox);aq._model.set("height",aq.contentBox.get("offsetHeight"));aq._model.set("width",aq.contentBox.get("offsetWidth"));aq._model.set("adClientSize",{width:aq.contentBox.get("offsetWidth"),height:aq.contentBox.get("offsetHeight")});ar.setStyle("opacity",0.001);aq._providerLogo=f.Node.create('<img src=""/>');aq._providerLogoLink=f.Node.create('<a class="provider-logo" target="_blank"/>');aq._providerLogoLink.append(aq._providerLogo);aq._providerLogoLink.on("click",function(){f.Global.fire("VideoPlayer.Carousel.partnerLogoClick","partner-logo");});aq.setProviderLogo(ap.get("currentMedia"));ao.appendChild(ar);aq.videoBox=ar;av=ap.get("playerState");if(av===ad.ERROR){aq._displayErrorScreen();return;}else{if(!ap.get("autoplay")&&av===ad.LOADED){this._handleLoadedState();}}aq._scheduleCreateRenderers();aq._bindUI();aq.checkForNFLBranding();if(Y&&Y!=="none"){aq._handleAgeGate();}aq.spinnerTimer=f.later(1000,this,"_delaySpinner");},getCarouselPlayerHeight:function(){return(this._node.get("offsetHeight")-t.PLAYLIST_CAROUSEL_DIMENSIONS[this.get("screenSize")].HEIGHT).toString()+"px";},_unHideCarousel:function(){var Y;Y=this.contentBox;if(Y.one(".yui3-videoplayer-carousel-container")&&Y.one(".yui3-videoplayer-playlist-carousel").getStyle("display")==="none"){Y.one(".yui3-videoplayer-playlist-carousel").setStyle("display","block");Y.one(".yui3-videoplayer-main").setStyle("height",this.getCarouselPlayerHeight());}},_delaySpinner:function(){var Y=this._model,aq=Y.get("playerState"),ap=["begin","initialized","loading","loaded","prepared","preparing","prestarted"],ao=Y.get("autoplay");if(f.Array.indexOf(ap,aq)>=0){if(ao||aq!=="loaded"){Y.set("isSpinnerShown",true);}else{if(Y.get("isSpinnerShown")===true){Y.set("isSpinnerShown",false);}}}},_scheduleCreateRenderers:function(){var Y=this,ao=function(){Y.controls.render(Y.controlsContent);Y._createRenderers();};if(Y._model.get("autoplay")||K.isMobile()){ao();}else{Y.rendererCreationTimer=setTimeout(ao,5);}},setCSSState:function(ap,Y){var ao=this;if(!ao.main){return;}if(ap){ao.main.addClass(ap);}f.Array.each(Y,function(aq){ao.main.removeClass(aq);});},setCSSStateNoPlayback:function(){this.setCSSState(null,[t.CSS_STATE.PAUSED,t.CSS_STATE.PLAYING,t.CSS_STATE.BUFFERING,t.CSS_STATE.SEEKING]);},_addContentClasses:function(){var ao=this._node,ar=this.contentBox,aq=this._model,au=ar.getAttribute("class"),at=f.UA.ie,Y=ao.get("offsetWidth"),ax=ao.get("offsetHeight"),ap=K.getPlayerSize(Y,ax);this.set("screenSize",ap);au+=" "+ap.toLowerCase();if(K.isMobile()){au+=" mobile";}else{au+=" desktop";}if(document.location.protocol==="https:"){au+=" ssl";}for(var aw in f.UA){if(f.Object.hasKey(f.UA,aw)){var av=f.UA[aw];if(av&&f.Lang.isNumber(av)){av|=0;au+=" "+aw+" "+aw+av;}}}if(at>0){for(var ay=11;ay>6;ay--){if(at<ay){au+=" lt-ie"+ay;}}}if(!aq.get("ybang")){au+=" noybang";}ar.setAttribute("class",au);},_fireAssetsRequestComplete:function(){if(this.get("state")==="LOADING"){f.fire("VideoPlayer.assetsRequestComplete");}},_hideVideoTag:function(){this._node.one(".yui3-videoplayer-video").setStyle("marginTop","-2000px");},_showVideoTag:function(){this._node.one(".yui3-videoplayer-video").setStyle("marginTop","0px");},createVideoRenderer:function(ar){var ap=this,at=this._controller,ao=this._model,aq=at.getRendererClass(ao.get("rendererType")),Y=new aq({model:ao,controller:at,skipFlashCheck:this.get("_skipFlashCheck")});
at.registerRenderer(Y);Y.render(ar);ar.append(ap._providerLogoLink);this.videoRenderer=Y;ao.set("rendererReady",true);},_resizeAndPositionImage:function(Y,ao){var aq=Y.get("src"),ap=new Image();ap.onload=function(){var aw=ap.width,ar=ap.height,av=aw/ar,au=ao.get("offsetWidth"),ax=ao.get("offsetHeight"),at=au/ax;if(av>=at){if(ar>ax){ar=ax;aw=ax*av;}}else{if(aw>au){aw=au;ar=au/av;}}Y.set("width",aw);Y.set("height",ar);};ap.src=aq;},unrenderPlugin:function(){this.videoBox.clear();},onPluginInstanceChange:function(Y){if(Y.oldVal){this.unrenderPlugin(Y.oldVal);}if(Y.newVal){this.renderPlugin(Y.newVal);}},_bindUI:function(){var Y=this._model,ao=this,ap=["VideoPlayer.Carousel.navigationClick","VideoPlayer.Carousel.touch","VideoPlayer.Carousel.partnerLogoClick","VideoPlayer.Carousel.partnerBarView","VideoPlayer.ErrorScreen.flashDownloadClick","VideoPlayer.ErrorScreen.tryAgainLink"];this._bindKeys();Y.after("partnerCarouselItemsChange",function(aq){ao._removePartnerBar();if(aq.newVal!==null){ao._renderPartnerBar();}},ao);Y.after("isSpinnerShownChange",function(aq){if(aq.newVal===true){ao.loading.setStyle("display","block");}else{ao.loading.setStyle("display","none");}});Y.after("yvapStateChange",function(at){var ar=ao.slug,aq;switch(at.newVal){case"adProgress":ao.videoBox.setStyle("opacity",1);break;case"adStart":ao.setCSSState(t.CSS_STATE.AD_MODE);if(Y.get("rendererType")==="html"){ao.videoBox.setStyle("opacity",1);}ao.controlsContent.removeClass("hide");aq=Y.get("yvapData");if(aq&&aq.adslug===true){ar.set("innerHTML",ao._controller.getStrings().ADVERTISEMENT);ar.setStyle("display","block");}break;case"adError":case"adComplete":ao._hideAdSlug();break;}ao.setCSSState("yvap-"+at.newVal,["yvap-"+at.prevVal]);},this);Y.after("currentMediaChange",function(ar){var aq=ar.newVal,at;at=aq?aq.get("provider").provider_id:null;if(at&&at==="video.nflhighlights.com"){ao.loadNFLBrandingBar();}else{if(ao.nflBar){ao.removeNFLBrandingBar();}}ao.removeMediaLoadHandler();if(aq&&!aq.hasStreamData()){ao.mediaLoadHandler=Y.after("playerStateChange",function(au){if(au.newVal===ad.PREPARED){ao.removeMediaLoadHandler();ao.setProviderLogo(aq);}});}else{ao.setProviderLogo(aq);}});Y.after("isPlayingChange",function(aq){if(aq.newVal===true){ao.videoBox.setStyle("opacity",1);ao.controlsContent.removeClass("hide");ao.setCSSState(t.CSS_STATE.PLAYING,[t.CSS_STATE.PAUSED]);}else{if(Y.get("playerState")===ad.STARTED){ao.setCSSState(t.CSS_STATE.PAUSED,[t.CSS_STATE.PLAYING]);}else{ao.setCSSStateNoPlayback();}}});Y.after("isWaitingChange",function(aq){if(aq.newVal===true){ao.setCSSState(t.CSS_STATE.BUFFERING);}else{ao.setCSSState(null,[t.CSS_STATE.BUFFERING]);}});Y.after("isSeekingChange",function(aq){if(aq.newVal===true){ao.setCSSState(t.CSS_STATE.SEEKING);}else{}});Y.after("isCompletedChange",function(aq){if(aq.newVal===true){ao.setCSSStateNoPlayback();}});Y.after("isErrorChange",function(aq){if(aq.newVal===true){ao.setCSSStateNoPlayback();}});Y.before("playerStateChange",function(aq){ao._playerStateChange(aq);});Y.after("playerStateChange",function(aq){if(aq.newVal===ad.PLAYBACKCOMPLETE){ao._handlePlaybackCompleteStateChange(aq);}else{if(aq.newVal!==ad.STARTED&&aq.newVal!==ad.PAUSED){ao.setCSSStateNoPlayback();}}});Y.after("fullscreenChange",function(aq){if(aq.newVal){ao.set("activeScreen",undefined);ao.setCSSState(t.CSS_STATE.FULLSCREEN);}else{ao.setCSSState(null,[t.CSS_STATE.FULLSCREEN]);}});Y.after("muteChange",function(aq){if(aq.newVal===true){ao.setCSSState(t.CSS_STATE.MUTED);}else{ao.setCSSState(null,[t.CSS_STATE.MUTED]);}});Y.before("activeScreenStrChange",function(aq){ao._activeScreenStrChange(aq);});Y.after("ccSettingsChange",function(aq){if((!f.Lang.isValue(aq.subAttrName)||aq.subAttrName==="ccSettings.show")&&f.Lang.isValue(aq.newVal)&&f.Lang.isValue(aq.newVal.show)&&(!f.Lang.isValue(aq.prevVal)||aq.newVal.show!==aq.prevVal.show)){ao._displayCaptionsChange(aq.newVal.show);ao._storeCaptionPref();}},ao);this.after("activeScreenChange",function(aq){if(undefined===aq.newVal){Y.set("activeScreenStr",undefined,{src:"internal"});}if(aq.prevVal!==undefined){aq.prevVal.destructor();}});this.after("activeOverlayChange",function(aq){if(aq.prevVal!==undefined){aq.prevVal.destructor();}if(aq.newVal!==undefined){aq.newVal.render(ao.main);}});f.Global.on("VideoPlayer.Carousel.thumbnailClick",function(aw){var aq,az,ar,ay,ax,au={},av=aw.index,at=parseInt(av+1,10);switch(aw.plType){case"endScreen":if(av===0){aq="endscreenReplayButton";}else{aq="endscreenPlayButton";--at;az=Y.get("endScreenVideos").items().item(at);if(az&&az.get("streamVideoAd")===false){ax=az.get("instrumentation");au={linkContext:ax.linkContext||"",videoContext:ax.videoContext||""};}else{aq="endscreenVSAButton";}}break;case"errorScreen":aq="err-rel-vid-"+at;break;default:aq="pc-vid-"+at;break;}Y.fire("uiInteract",{source:aq,instrData:au,index:at});ao.checkForNFLBranding();if(Y.get("rendererType")==="html"){ao._showVideoTag();}if(aq==="endscreenReplayButton"){av=ao._model.get("playlistPosition");ao._controller.playIndex(av,aw.plType,aq);if(Y.get("carousel")){ao._unHideCarousel();}}else{if(Y.get("carousel")&&aw.plType==="endScreen"){ao.carousel.destroy();Y.set("carousel",false);}ao._controller.playIndex(av,aw.plType,aq);}});f.Global.on(ap,function(aq){Y.fire("uiInteract",{source:aq});});},removeMediaLoadHandler:function(){if(this.mediaLoadHandler){this.mediaLoadHandler.detach();this.mediaLoadHandler=null;}},checkForNFLBranding:function(){var ao=this,Y=ao._model,ap,aq;ap=Y.get("currentMedia");aq=ap?ap.get("provider").provider_id:null;if(aq&&aq==="video.nflhighlights.com"){ao.loadNFLBrandingBar();}},loadNFLBrandingBar:function(){var ao=this,aq,ar,ap=ao.get("screenSize"),Y=ao.main;ar=t.NFL_BRANDING_DIMENSIONS[ap].HEIGHT;if(ar){aq=(this._node.get("offsetHeight")-ar)+"px";Y.setStyle("height",aq);}if(!ao.nflBar){ao.nflBar=ao.createNode("div","nfl");ao.nflBrand=ao.createNode("span","nfl-brand-span");ao.nflBrandLink=ao.createNode("a","nfl-brand-link");ao.nflBrandLink.setAttribute("href","http://www.nfl.com/");
ao.nflBrandLink.setAttribute("target","nfl_site");ao.nflBrandLink.append(ao.nflBrand);ao.BrandLogo=ao.createNode("span","nfl-brand-logo");ao.nflBrandLink.append(ao.BrandLogo);ao.nflBranding=ao.createNode("div","nfl-branding");ao.nflBranding.append(ao.nflBrandLink);ao.nflBar.append(ao.nflBranding);ao.contentBox.append(ao.nflBar);}},removeNFLBrandingBar:function(){var ap=this,ao=ap._model,aq,Y=ap.main;aq=ao.get("carousel")?ap.getCarouselPlayerHeight():"100%";if(Y){Y.setStyle("height",aq);}if(ap.nflBar){ap.nflBar.remove();}ap.nflBar=null;ap.nflBrand=null;ap.nflBranding=null;ap.nflBrandLink=null;},setProviderLogo:function(ao){var Y=this,aq=ao?ao.get("provider.logoUrl"):null,ap=ao?ao.get("shareUrl"):null;if(aq){Y._providerLogoLink.removeClass("hidden");Y._providerLogo.set("src",aq);}else{Y._providerLogoLink.addClass("hidden");}if(ap){Y._providerLogoLink.set("href",ap);}else{Y._providerLogoLink.removeAttribute("href");}},_hideAdSlug:function(){var ao=this,Y=ao.slug;if(Y){Y.set("innerHTML","");Y.setStyle("display","none");ao.setCSSState(null,[t.CSS_STATE.AD_MODE]);}},_activeScreenStrChange:function(ar){var ap=this._model,at=this._controller,aq=this,ao,Y;if(ar.src==="internal"){return;}ao=aq._node.one(".yui3-videoplayer-content");switch(ar.newVal){case"info":if(ap.get("infoscreen")){if(!aq.prevPlayerState){aq.prevPlayerState=ap.get("playerState");}aq._controller.pause();Y=new ab({model:ap,view:aq});if(at._renderer){at._renderer.setFullscreen(false);}Y.render(aq.main);aq.set("activeScreen",Y);}break;case undefined:if(aq.prevPlayerState!=="paused"){aq.checkForNFLBranding();aq._controller.play();}aq.prevPlayerState=undefined;aq.set("activeScreen",undefined);break;default:break;}},_displayErrorScreen:function(){var ao=this,Y=ao._model,ap;if(ao._node&&Y.get("errorscreen")){ap=new y({model:Y,view:ao});ao.slug.setStyle("display","none");if(ao.nflBar){ao.removeNFLBrandingBar();}ap.render(ao.main);ao.set("activeScreen",ap);if(Y.get("rendererType")==="html"){ao._hideVideoTag();}ao.controlsContent.addClass("hide");}},_handleAgeGate:function(){var ap=this._model,aq=this._controller,ao=this.main,Y=ap.get("currentMedia")?ap.get("currentMedia").get("ageGate"):undefined;if(Y&&Y!=="none"){this.ageGateScreen=new o({model:ap,view:this,controller:aq});ap.set("isSpinnerShown",false);this.ageGateScreen.render(ao);this.set("activeScreen",this.ageGateScreen);}},_handleLoadedState:function(){var ao=this._model,Y=this.main;if(!ao.get("autoplay")&&!this.startScreen&&ao.get("startscreen")){this.startScreen=new a({model:ao,view:this});this.startScreen.render(Y);this.set("activeScreen",this.startScreen);this.set("startScreenCreated",true);}if(ao.get("carousel")&&!this.carousel){this.renderPlaylistCarousel();}if(ao.get("partnerCarouselItems")!==null&&!this.partnerCarousel){this.renderPartnerCarousel();}},renderPlaylistCarousel:function(){var Y=this._model.get("playlist").get("mediaItems").toArray(),ap=this.get("screenSize"),ao=Math.floor(t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].IMAGE_HEIGHT*t.GOLDEN_RATIO),ar=this.createNode("div","playlist-carousel"),aq;ar.setStyle("width",this.contentBox.get("offsetWidth"));ar.setStyle("height",t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].HEIGHT-20);this.contentBox.append(ar);this.carousel=new h({view:this,mediaItems:Y,pltype:"default",showMetadata:false,showNavigation:true,dimensions:{itemWidth:ao,itemHeight:t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].IMAGE_HEIGHT,imageWidth:ao,imageHeight:t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].IMAGE_HEIGHT,horizontalSpacing:t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].HORIZONTAL_SPACING,verticalSpacing:t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].VERTICAL_SPACING,carouselMargin:t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].MARGIN}});this.carousel.render(ar);aq=this.createNode("h4","title","carousel");ar.setStyle("height",t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].HEIGHT+20);this.contentBox.one(".yui3-videoplayer-carousel-viewport").delegate("mouseout",function(){aq.removeClass("yui3-videoplayer-show");},"li");this.contentBox.append(aq);this._model.fire("uiInteract",{source:"pc-view"});},_renderPartnerBar:function(){var az=this,aA=az._controller.getStrings(),au=az._model,at=au.get("partnerCarouselItems"),aB="partner",ax=at.toArray(),aq=az.createNode("div","partner-branding"),ap=az.createNode("div","partner-videos"),av=f.Node.create('<ul class="partner-bar-clearfix"></ul>'),aw="",ao=null,ay,Y,ar;f.publish("VideoPlayer.Carousel.partnerLogoClick",{broadcast:2});f.publish("VideoPlayer.Carousel.partnerBarView",{broadcast:2});f.each(["#videoPlayerContainer",".mod-player","#player"],function(aD){var aC=f.Node.one(aD);if(aC!==null){ao=aC;return;}},az);if(ao===null){return;}az.partnerBar=az.createNode("div","partner-bar");Y=au.get("site")||"";ar=au.get("expName")||"";aw='<a href="http://www.nfl.com/?campaign=partner_yahoo_syndicatevideo_'+Y+ar+'"';aw+=' target="nfl_site"><span class="branding-logo">nfl</span></a>';aw+='<span class="branding-text">More NFL Videos</span>';aq.set("innerHTML",aw);aq.on("click",function(){f.Global.fire("VideoPlayer.Carousel.partnerLogoClick","partner-logo");});az.partnerBar.append(aq);f.each(ax,function(aM,aH){var aJ=f.Node.create,aD=aM.images.thumbnail||"",aN,aF,aP,aK,aI,aL,aE,aC,aG,aO;aN=aJ("<li/>");aE=aJ("<div/>").setAttribute("class","img-wrap-16x9");aG=aJ("<img/>").setAttribute("src",aD);aE.append(aG);aN.append(aE);aL=aJ("<div/>").setAttribute("class","icon-overlay");aF=aJ("<div/>").setAttribute("class","title");aP=aJ("<p/>").setAttribute("class","title-text").set("innerHTML",aM.title);aF.append(aP);aL.append(aF);aC=aJ("<span/>").setAttribute("class","play-text").set("innerHTML",aA.PLAY_VIDEO);aL.append(aC);aK=aJ("<div/>").setAttribute("class","play-button");aI=aJ("<span/>").setAttribute("class","play-icon").set("innerHTML",".");aK.append(aI);if(f.UA.ie>0&&f.UA.ie<9){aL.hide();aN.on("hover",function(){aL=aN.one(".icon-overlay");aL.show();},function(){aL=aN.one(".icon-overlay");aL.hide();});aO=aJ("<div/>").setAttribute("class","overlay-background");aL.append(aO);}aN.append(aL);aN.append(aK);aN.setData("videoId",aM.id);
aN.setData("param",{"index":aH,"plType":aB});aN.on("click",function(aT){var aU=au.get("playlist"),aW=aU.items().size(),aV=aT.currentTarget.getData("videoId"),aS=at.find(function(aX){return aV===aX.get("id");}),aQ,aR=aT.currentTarget.getData("param");if(aS){aQ=aU.after("mediaItemAdd",function(aY){var aX=aY.item||null;if(aX&&aX.get("id")===aV){aQ.detach();az._controller.preparePlaylistPosition(aW);}},az);az._controller.addToPlaylist(aS);}au.fire("uiInteract",{source:"partner-t-"+parseInt(aR.index+1,10)});},az);av.append(aN);},az);ap.append(av);az.partnerBar.append(ap);if(ao.getAttribute("id")==="player"){az.contentBox.setStyle("height","360");}ao.append(az.partnerBar);f.Global.fire("VideoPlayer.Carousel.partnerBarView","partner-view");ay=f.Node.one(".yom-card-main .thumbstrip");if(ay){ay.setStyle("display","none");}},_removePartnerBar:function(){var Y,ao,ap=this.partnerBar;if(ap){ap.detachAll();ap.remove(true);ap=null;Y=f.Node.one(".yom-card-main .thumbstrip");if(Y){Y.setStyle("display","block");}ao=f.Node.one(".slideshow-main-col .caption-wrap");if(ao){ao.setStyle("position","absolute");}}},_displayCaptionsChange:function(ao){var Y=this.videoRenderer;if(Y){Y.updateControls({ccShow:ao});}},_storeCaptionPref:function(){var Y=this,ao;if(Y._model){ao=Y._model.get("ccSettings");}if(ao&&Y._controller&&!f.UA.mobile){Y._controller.storeCaptionConfig(ao);}},_handlePlaybackCompleteStateChange:function(){var aq=this._model,aC=this._controller,aA=this,at=this.main,ay=this.slug,aB,ao=aq.get("currentMedia"),aF,aw,ap,Y,au,aD,az,ar=aq.get("endScreenVideos"),ax,av,aE=aq.get("endScreenAds"),aG;aF=aq.get("playlistPosition");if(aq.get("isVsaEnabled")==="true"&&ao.get("streamVideoAd")===true){aq.get("playlist").items()._items.splice(aF,1);aq.set("playlistPosition",--aF);ax=aC.getVSAIndex(ar.get("mediaItems")._items);if(ax>0){ar.get("mediaItems")._items.splice(ax,1);}aG=aC._maxEndScreenThumbnailCount()-1;av=Math.floor((Math.random()*aG)+1);az=Math.floor(Math.random()*aE.length);ar.get("mediaItems")._items.splice(av,0,aq.get("endScreenAds")[az]);aq.set("endScreenVideos",ar);}aw=aF+1;aD=aq.get("playlist").items().item(aw);if(aq.get("isVsaEnabled")==="true"){ay.set("innerHTML","");ay.setStyle("display","none");}if(aq.get("continuousPlay")&&aD||aq.get("loop")===true){aC.playNext();}else{if(aA.nflBar){aA.removeNFLBrandingBar();}if(aq.get("fullscreen")||aq.get("rendererType")==="html"){aC.setFullscreen(false);aB=aq.get("carousel")?aA.getCarouselPlayerHeight():"100%";if(at){at.setStyle("height",aB);}Y=1000;}else{Y=0;}setTimeout(function(){if(aq.get("endscreen")){au=aA._node.one(".yui3-videoplayer-content");ap=new r({model:aq,view:aA});ap.render(at);aA.set("activeScreen",ap);aA.videoBox.setStyle("opacity",0);aA.controlsContent.addClass("hide");}},Y);}},_playerStateChange:function(ar){var ao=this._model,ap=this._controller,aw=ap.getStrings(),av=ar.newVal,Y=this.slug,au,aq,at;switch(av){case"loaded":this._handleLoadedState();break;case"preparing":this._hideAdSlug();if(this.get("activeScreen")){this.set("activeScreen",undefined);}break;case"prepared":this._handleAgeGate();break;case"prestarted":if(this.get("activeScreen")){this.set("activeScreen",undefined);}if(this.carousel){this.carousel.setIndicator(ao.get("playlistPosition"),aw.UP_NEXT.replace(":","").toUpperCase());}break;case"started":this.set("activeScreen",undefined);if(this.carousel){this.carousel.setIndicator(ao.get("playlistPosition"),aw.NOW_PLAYING.toUpperCase());}if(ao.get("isVsaEnabled")==="true"&&ao.get("currentMedia").get("streamVideoAd")){Y.set("innerHTML",this._controller.getStrings().ADVERTISEMENT);Y.setStyle("display","block");}break;case"poststarted":au=ao.get("playlistPosition");aq=au+1;at=ao.get("playlist").items().item(aq);if(this.carousel&&at&&ao.get("autoplay")){this.carousel.setIndicator(aq,aw.UP_NEXT.replace(":","").toUpperCase());}break;case"paused":this.set("activeScreen",undefined);break;case"error":this._displayErrorScreen();break;}},_bindTouch:function(){var ao=null,Y=this;Y._node.on("touchstart",function(ap){ap.preventDefault();clearTimeout(ao);ao=setTimeout(function(){Y.openProfiler();},5000);});Y._node.on("touchend",function(){clearTimeout(ao);});},_bindKeys:function(){var ap=this,av=[],ar=false,Y=false,ao=false,at=[79,80,69,78,83,73,77,83,73,77],au=[79,80,83,83],aq;if(f.Node.DOM_EVENTS.key.eventDef!==undefined){f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.shift=16;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.ctrl=17;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.space=32;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.esc=27;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.m=77;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.n=78;f.one("doc").on("key",function(){ap.controls._play();},"space+shift");f.one("doc").on("key",function(){ap.controls._nextVideo();},"n+ctrl+shift");f.one("doc").on("key",function(){ap.controls._muteChange();},"m+ctrl+shift");f.one("doc").on("key",function(){ap.set("activeOverlay",undefined);var aw=ap.get("activeScreen");if(aw!==undefined&&aw.name==="InfoScreen"){aw._closeScreen();}},"esc");}f.one("doc").on("yui3-videoplayer|keypress",function(aw){var ax=aw.keyCode;if(ax===63){ap.controls._hotkeyMenu();}});f.one("body").on("yui3-videoplayer|keydown",function(aw){var ax=aw.keyCode;switch(ax){case Z.CTRL:ar=true;break;case Z.OPTION:Y=true;break;case Z.SHIFT:ao=true;break;}av.push(ax);if(av.length>at.length){av.shift();}aq=av.slice(Math.max(av.length-4,0));if(this._node&&(av.toString()===at.toString()||aq.toString()===au.toString())){ap.openDetailScreen();}});f.one("body").on("yui3-videoplayer|keyup",function(aw){var ax=aw.keyCode;switch(ax){case Z.CTRL:ar=false;break;case Z.OPTION:Y=false;break;case Z.SHIFT:ao=false;break;case Z.ESC:ap.set("activeOverlay",undefined);break;}});},openDetailScreen:function(){var ao=this,aq=this.get("activeOverlay"),Y=this._model,ap;if(!aq||aq.name!=="DetailScreen"){ap=new v({model:Y,view:ao});this.set("activeOverlay",ap);}},openProfiler:function(){var Y="",ap=this._model,aq=this._controller,ar,ao,av,au=aq?aq.getAdPluginInstance():null,aw=aq?aq.getProfiler():null;
Y+="<p>Yahoo Video Player: "+ap.get("version")+"<p>";if(aw){Y+=aw.draw();}Y+='<p><table border="1">';Y+="<tr><td>Event</td><td>START</td><td>END</td><td>DIFF</td><td>QOS KEY</td></tr>";av=this._model.get("profileData").items();f.each(av,function(ax){Y+="<tr><td>"+ax.message+"</td><td>"+ax.startTime+"</td><td>"+ax.endTime+"</td><td>"+ax.timeDiff+"</td><td>"+ax.type+"</td></tr>";});Y+="</table></p>";Y+='<p><table border="1">';av=this._model.get("profileData").items();f.each(f.UA,function(ay,ax){if(ay){Y+="<tr><td>"+ax+"</td><td>"+ay+"</td></tr>";}});Y+="</table></p>";Y+='<p><table border="1"><tr><td colspan="2">MediaObject Data</td></tr>';ao=ap.get("currentMedia").toObject();f.each(ao,function(ay,ax){if(typeof ay!=="object"){Y+="<tr><td>"+ax+"</td><td>"+ay+"</td></tr>";}});Y+="</table></p>";try{if(au){if(au.adsStatus){Y+=au.adsStatus.toTable();}else{Y+="<p>adsStatus is not available</p>";}}else{Y+="<p>adPlugin is not available</p>";}}catch(at){Y+="<p>adsStatus is not available</p>";}if(K.isMobile()){document.write(Y);}else{ar=window.open();ar.document.write(Y);}},createNode:function(au,ao,ar){var aq,Y={img:true,input:true},at=ar?"-"+ar:"",ap;aq=f.ClassNameManager.getClassName("videoplayer"+at,ao);if(au in Y){ap=f.Node.create("<"+au+"/>").setAttribute("class",aq);}else{ap=f.Node.create("<"+au+"></"+au+">").setAttribute("class",aq);}return ap;},_buildFbLink:function(aq){var au=this._controller.getStrings(),ap=this._model.get("currentMedia"),at=ap.get("shareUrl"),ar=this.createNode("a","fb-link",aq),ao=this.createNode("span","fb-icon",aq),Y=this.createNode("span","fb-share",aq);if(at){Y.set("innerHTML",au.SHARE_ON_FACEBOOK);ar.setAttribute("target","_blank");ar.setAttribute("href",f.substitute(t.FACEBOOK_URL_TEMPLATE,{title:encodeURIComponent(ap.get("title")),shareUrl:encodeURIComponent(at)}));ar.append(ao);ar.append(Y);return ar;}return false;},destructor:function(){var ao=this,aq=ao.videoRenderer._yswf._swf,Y=aq.ancestor();if(ao._model){ao._model.detachAll();}ao._model=null;if(ao.spinnerTimer){ao.spinnerTimer.cancel();ao.spinnerTimer=null;}if(ao.rendererCreationTimer){clearTimeout(ao.rendererCreationTimer);ao.rendererCreationTimer=null;}if(ao.videoRenderer){if(ao.videoRenderer._yswf){ao.videoRenderer._yswf.detachAll();ao.videoRenderer.detachAll();ao.videoRenderer.destroy();aq.setStyle("display","none");for(var ap in aq){if(typeof aq[ap]==="function"){aq[ap]=null;}}if(f.UA.gecko===0){Y.removeChild(aq);}delete ao.videoRenderer._yswf;ao.videoRenderer._yswf=null;}}ao.videoRenderer=null;ao._providerLogo=null;ao._providerLogoLink=null;ao.removeMediaLoadHandler();f.one("body").detach("yui3-videoplayer|*");}});f.namespace("VideoPlatform").View=t;var g=3;var ag={HD_HEIGHT_CONSTANT:720,HD_WIDTH_CONSTANT:1280,HD_BITRATE_CONSTANT:1400};var ad={BEGIN:"begin",INITIALIZED:"initialized",LOADING:"loading",LOADED:"loaded",PREPARING:"preparing",PREPARED:"prepared",PRESTARTED:"prestarted",STARTED:"started",POSTSTARTED:"poststarted",PAUSED:"paused",PLAYBACKCOMPLETE:"playbackComplete",ERROR:"error"};function e(){}e.prototype.log=function(Y,ao){};function l(){l.superclass.constructor.apply(this,arguments);}l.NAME="Timer";l.NS="Timer";l.ATTRS={};f.extend(l,f.Base,{initializer:function(Y){this._m=Y.model;},start:function(){this._start=(new Date()).getTime();},stop:function(Y,ar){var aq=this._m.get("profileData"),ao,ap,at;if(aq){ao=(new Date()).getTime();ap=ao-this._m.START_TIME;at=ao-this._start;aq.add({type:Y,message:ar,timeDiff:at,startTime:ap-at,endTime:ap});}},setStartTime:function(Y){this._start=Y;},getStartTime:function(){return this._start;},recordTime:function(Y,aq,ar,ao){var ap=this._m.get("profileData");if(ap){ap.add({type:Y,message:aq,timeDiff:ar,startTime:ao,endTime:ao+ar});}},destructor:function(){}});f.namespace("VideoPlatform").Timer=l;function af(ao,Y){this.model=ao;this.controller=Y;}af.NAME="BaseState";af.prototype={activate:function(){},init:function(){},load:function(){},prepare:function(){},start:function(){},play:function(){},pause:function(){},seek:function(){},setFullscreen:function(){},readyStateHandler:function(Y){this.model.set("rendererState",Y.newVal);},playbackReadyHandler:function(){var ap=this.controller,ao=ap._renderer,Y=this.model.get("currentMedia");ap.updateDuration(Y,ao.getDuration());},playbackPlayHandler:function(){var Y=ad.STARTED;this.controller._setState(Y);this.model.set("playerState",Y);},playbackPlayingHandler:function(){this.model.set("isPlaying",true);},playbackPausedHandler:function(){var Y=ad.PAUSED;this.controller._setState(Y);this.model.setAttrs({playerState:Y,isPlaying:false});},playbackProgressHandler:function(ao){var Y=(ao.currentTime)?ao.currentTime:"";this.model.set("playbackPosition",Y);},mediaInfoUpdateHandler:function(Y){this.model.get("currentMedia").set("mediaInfo",Y.mediaInfo);},playbackSeekHandler:function(){this.model.set("isSeeking",true);},playbackSeekedHandler:function(){this.model.set("isSeeking",false);},playbackCompleteHandler:function(){this.controller._setState(ad.POSTSTARTED);},playbackErrorHandler:function(Y){this.controller.error(Y);},playbackWarningHandler:function(Y){this.controller.warn(Y);},playbackWaitingHandler:function(Y){if(Y&&Y.details&&Y.details.length&&Y.details[0]){this.model.set("ignoreBuffering",Y.details[0].ignoreBuffering);this.model.set("isWaiting",Y.details[0].value);}else{this.model.set("isWaiting",true);}},bitrateChangeHandler:function(Y){this.model.set("bitrate",Y.bitrate);},resizeHandler:function(Y){this.model.set("width",Y.width);this.model.set("height",Y.height);},clientResizeHandler:function(Y){this.model.set("adClientSize",{width:Y.width,height:Y.height});},adPluginReadyHandler:function(){this.model.set("yvapState",YVAPEvents.ADPLUGIN_READY);},adStartHandler:function(){},adPauseHandler:function(){},adResumeHandler:function(){},adEndHandler:function(){},adCompleteHandler:function(){},adProgressHandler:function(){},adErrorHandler:function(){},adNoneHandler:function(){},adPluginMetricHandler:function(Y){this.model.set("adPluginMetric",Y);
},adPluginQosMetricHandler:function(Y){this.model.set("adPluginQosMetric",Y);},adPluginRemovedHandler:function(){this.model.set("yvapState",YVAPEvents.PLUGIN_REMOVED);},volumeChangeHandler:function(Y){this.model.set("volume",Y.details[0]);},muteChangeHandler:function(Y){this.model.set("mute",Y.details[0]);},fullscreenEnterHandler:function(){this.model.set("fullscreen",true);},fullscreenExitHandler:function(){this.model.set("fullscreen",false);},uiInteractHandler:function(Y){this.model.fire(Y);},durationChangeHandler:function(){},ccAvailabilityChangeHandler:function(Y){this.model.set("ccAvailable",Y.details[0]);},liveChangeHandler:function(Y){this.model.get("currentMedia").set("isLive",Y.details[0]);},streamTypeChangeHandler:function(Y){this.model.get("currentMedia").set("streamType",Y.details[0]);},selectedStreamChangeHandler:function(Y){this.model.get("currentMedia").set("selectedStreams",Y.details[0]);},selectedStreamUrlChangeHandler:function(Y){this.model.get("currentMedia").set("selectedStreamUrl",Y.details[0]);},toString:function(){return"{state "+this.constructor.NAME+"}";}};f.augment(af,e);function d(){d.superclass.constructor.apply(this,arguments);}d.NAME="AdBaseState";f.extend(d,af,{adStartHandler:function(ap){var ao=false,Y=this.model;Y.set("yvapData",ap);Y.set("yvapState",YVAPEvents.AD_START);Y.set("isSpinnerShown",ao);N.init(this.controller._controls);N.updateControls({seekbarVisible:true,seekDragEnable:false,playPauseEnable:true,ccEnable:false});},adEndHandler:function(){var Y=this.model;if(Y.get("yvapState")!==YVAPEvents.AD_ERROR){Y.set("yvapState",YVAPEvents.AD_COMPLETE);}if(!Y.get("adPlaybackOnly")){this._resumePlayback();}},adCompleteHandler:function(){var Y=this.model;if(Y.get("yvapState")!==YVAPEvents.AD_ERROR){Y.set("yvapState",YVAPEvents.AD_COMPLETE);}if(!Y.get("adPlaybackOnly")){this._resumePlayback();}},adNoneHandler:function(){this.model.set("yvapState",YVAPEvents.AD_NONE);if(!this.model.get("adPlaybackOnly")){this._resumePlayback();}},adProgressHandler:function(ap){var Y=this.model,ao=Y.get("yvapState");if(Y.get("yvapState")===YVAPEvents.AD_PAUSE){return;}Y.set("yvapData",ap);Y.set("yvapState",YVAPEvents.AD_PROGRESS);this.controller._controls.setAdDuration(ap.duration);Y.set("adPlaybackPosition",ap.position);},adErrorHandler:function(ao){var Y=this.model;Y.set("yvapData",ao);Y.set("yvapState",YVAPEvents.AD_ERROR);if(!this.model.get("adPlaybackOnly")){this._resumePlayback();}},_resumePlayback:function(){var Y=this.model;if(Y.get("rendererType")==="html"){this.controller._returnVideoControl();}N.init(this.controller._controls);N.updateControls({seekbarVisible:true,seekDragEnable:true,playPauseEnable:true,ccEnable:true});}});function G(){G.superclass.constructor.apply(this,arguments);}G.NAME="BeginState";f.extend(G,af,{activate:function(){this.model.setAttrs({isInitialized:false,isLoading:false,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,hasError:false});},init:function(){var Y=this.model,ao=this.controller;ao.cookieHandler=new J({model:Y});ao.cookieHandler.createAndLoadCookies();if(!Y.get("adPlaybackOnly")&&!f.UA.mobile&&Y.get("userAuthenticated")===true){ao._cmsService.getUserPrefs({success:function(ap){if(!ap){return;}if(ap.err){ap.err==="Invalid_GUID"&&Y.set("userAuthenticated",false);return;}if(Y){Y.set("userPreferencesAvailable",true);if(ap.cc){Y.set("ccSettings",ap.cc);Y.set("ccSettingsAvailable",true);Y.set("userAuthenticated",true);}else{}(typeof ap.isAdult==="boolean")&&Y.set("canPlayMatureContent",ap.isAdult);}},failure:function(ap){if(Y){Y.set("userPreferencesAvailable",false);}}});}ao._setState(ad.INITIALIZED);Y.set("playerState",ad.INITIALIZED);},adErrorHandler:function(ao){var Y=this.model;Y.set("yvapData",ao);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function F(){F.superclass.constructor.apply(this,arguments);}F.NAME="InitializedState";f.extend(F,af,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});},adErrorHandler:function(ao){var Y=this.model;Y.set("yvapData",ao);Y.set("yvapState",YVAPEvents.AD_ERROR);},load:function(){var ap=this,au=ap.controller,Y=ap.model,ar=Y.get("playlist"),at=new l({model:Y}),ao=au?au.getProfiler():null;if(Y.get("standaloneAdMode")){au._createYVAP();au._setState(ad.LOADED);Y.set("playerState",ad.LOADED);return;}at.start();if(ao){ao.setEndTime(am.INIT_TO_LOAD_PLAYLIST.type);ao.add(am.PLAYLIST_LOADED);}function aq(){at.stop(am.PLAYLIST_LOADED.type,am.PLAYLIST_LOADED.desc);if(ao){ao.setEndTime(am.PLAYLIST_LOADED.type);}if(Y.get("YVAPRequired")===true){au._createYVAP();}au.setPlaylistPosition(0);if(Y.get("rendererReady")){au.preLoadVideo();}else{Y.after("rendererReadyChange",function(av){if(true===av.newVal){au.preLoadVideo();}},ap);}if(Y.get("playerState")!==ad.ERROR&&(Y.get("playerState")===ad.INITIALIZED||Y.get("playerState")===ad.LOADING)){au._setState(ad.LOADED);Y.set("playerState",ad.LOADED);}}au.getLoadStrategy().call(au,{loadFromCMS:function(){if(ar.get("id").length>0||ar.items().size()>0){au._setState(ad.LOADING);Y.set("playerState",ad.LOADING);at.start();ap.loadPlaylist(ar,{success:aq,failure:function(av){au.error(av);}});}},loadData:function(){setTimeout(aq,1);}});},loadPlaylist:function(ap,av){var ax=this.controller,Y=av.context||null,aw=ap.items(),az,ay,au=this.model,at=this.constructor.NAME;function ar(){av.success.call(Y,ap);}function ao(aA){av.failure.call(Y,f.merge({type:c.ERROR.CMS_REQUEST.type},aA));}function aq(aF){var aB,aD,aA,aE;function aC(){if(typeof aB!=="undefined"){return aB;}for(aD=0,aA=aF.length;aD<aA;aD++){aE=aF[aD];if(aE.height>=ag.HD_HEIGHT_CONSTANT&&aE.width>=ag.HD_WIDTH_CONSTANT){aB=true;return aB;}}aB=false;return aB;}return aC;}if(ap.get("id").length>0){ax._cmsService.loadPlaylist(ap.get("id"),0,0,null,{success:function(aB){var aE=aB.mediaItems,aD,aC,aF=au.get("playlist"),aA=aB.status;if(aE.length===0){aF.set("status",aA);
ao(new f.VideoPlatform.ErrorObject(c.ERROR.NO_PLAYLIST_CONTENT.type,aA.code,at,aA.msg+"; playlistId "+aF.get("id"),c.LEVEL.CRITICAL));}else{ap.set("totalLength",aB.total);ap.set("totalRequested",ax._cmsService.get("playlistCount"));for(aD=0;aD<aE.length;aD++){aC=aE[aD];aC.hdAvailable=aq(aC.streams);if(aC.images){aC.images.large=aC.images.medium=aC.images.thumbnail;}if(ax.debugLogVideoTitleNAIssue&&!aC.title){ax.debugLogVideoTitleNAIssue("loadPlaylist","[id, sapi-title]="+f.JSON.stringify([aC.id,aC.title]));}aw.add(aC);}ar();}},failure:ao});}else{az=aw.item(0);ay=aw.filter(function(aA){return aA.get("id");});if(ay.size()>0){ax._cmsService.loadClips(ay,{success:function(aA){if(aA){f.each(aA,function(aD,aB){var aE=aD.id,aC=aw.item(aB);if(aE!==aC.get("id")){aC=aw.find(function(aF){return aE===aF.get("id");});}if(aD.streams){aD.hdAvailable=aq(aD.streams);}if(aC){f.Object.each(aD,function(aG,aF){var aH,aI=aC.get(aF);if(f.Lang.isObject(aI)&&f.Lang.isObject(aG)){for(aH in aG){if(!aI[aH]){aI[aH]=aG[aH];}}}else{if(aI===undefined||aI===null||aI===""){aC.set(aF,aG);}}if(ax.debugLogVideoTitleNAIssue&&aF==="title"&&!aC.get(aF)){ax.debugLogVideoTitleNAIssue("loadClips","[id,title,sapi-title]="+f.JSON.stringify([aC.get("id"),aC.get(aF),aG]));}});}});ar();}else{ao(new f.VideoPlatform.ErrorObject(c.ERROR.NO_PLAYLIST_CONTENT.type,c.ERROR.NO_PLAYLIST_CONTENT.code,at,"no clips found",c.LEVEL.CRITICAL));}},failure:ao});}else{ar();}}}});function E(){E.superclass.constructor.apply(this,arguments);}E.NAME="LoadingState";f.extend(E,af,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:true,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});},adErrorHandler:function(ao){var Y=this.model;Y.set("yvapData",ao);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function an(){an.superclass.constructor.apply(this,arguments);}an.NAME="LoadedState";f.extend(an,af,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(this.model.get("autoplay")===false){this.model.set("isSpinnerShown",false);}},prepare:function(){var av=this.controller,ao=this.model,at,ay,aw,ar,ax=av?av.getProfiler():null,Y=ao.get("currentMedia"),ap=am.VP_PREPARED.type,au=av.preparedProfileKey,aq=function(aA){var az=aA?aA.get("ageGate"):undefined;if(az&&az!=="none"&&!ao.get("canPlayMatureContent")){ao.set("agegatescreen",true);}};av._setState(ad.PREPARING);ao.set("playerState",ad.PREPARING);if(ao.get("standaloneAdMode")){av._setState(ad.PREPARED);ao.set("playerState",ad.PREPARED);av.play();return;}av.getPrepareStrategy(Y).call(av,Y,{success:function(az){at=ao.get("currentMedia");if(at){if(at===Y){av.updateMediaAttrs(Y,az);aq(at);av._setState(ad.PREPARED);ao.set("playerState",ad.PREPARED);if(ax&&isNaN(ax.getItem(ap,au).endTime)){ax.setEndTime(ap,au);}ay=at.get("streams");aw=at.get("streamUrl");if((ay&&ay.length>0)||(aw&&aw.length>0)){if(ay&&ay.length>0){ar=K.parseUrl(ay[0].host);}else{ar=K.parseUrl(aw);}if(ao.get("rendererType")==="flash"&&!Y.get("isLive")&&f.UA.os==="linux"&&ao.get("useHlsFlash")==="false"&&ar.protocol==="rtmps"&&!Y.get("enforcedFormatAndProtocol")){Y.set("streams",null);Y.set("isPreFetched",false);Y.set("enforcedFormatAndProtocol",K.getFormatsAndProtocols("flash",true));ao.set("currentMedia",Y);this.prepare();}else{if(!ao.get("agegatescreen")){av.play();}else{ao.after("agegatescreenChange",function(aA){if(aA.newVal===false){av.play();}});}}}else{av.error(new f.VideoPlatform.ErrorObject(c.ERROR.PLAYBACK.type,c.ERROR.PLAYBACK.code,this.constructor.NAME,"Video object has no streams.",c.LEVEL.CRITICAL));}}else{this.prepare();}}else{av.error(new f.VideoPlatform.ErrorObject(c.ERROR.PLAYBACK.type,c.ERROR.PLAYBACK.code,this.constructor.NAME,"Video object not valid.",c.LEVEL.CRITICAL));}},failure:function(aA,az){if(az){av.updateMediaAttrs(Y,az);}if(ax&&isNaN(ax.getItem(ap,au).endTime)){ax.setEndTime(ap,au);}av.error(aA);},context:this});},play:function(){this.controller.prepare();},adErrorHandler:function(ao){var Y=this.model;Y.set("yvapData",ao);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function S(){S.superclass.constructor.apply(this,arguments);}S.NAME="PreparingState";f.extend(S,af,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:true,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(this.model.get("autoplay")===false){this.model.set("isSpinnerShown",true);}},adErrorHandler:function(ao){var Y=this.model;Y.set("yvapData",ao);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function T(){T.superclass.constructor.apply(this,arguments);}T.NAME="PreparedState";f.extend(T,af,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});var Y=this.model.get("endScreenVideos").items().size();if(Y>0){var ao=this.model.get("currentMedia").get("streamVideoAd");if(!ao){this.model.get("endScreenVideos").items().reset();}}},play:function(){if(!this.model.get("agegatescreen")){this.controller._setState(ad.PRESTARTED);}},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},adErrorHandler:function(ao){var Y=this.model;Y.set("yvapData",ao);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function aa(){aa.superclass.constructor.apply(this,arguments);}aa.NAME="StartedState";f.extend(aa,d,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false,isSpinnerShown:false});var ap=this,Y=ap.model,aq,at=Y.get("ccAvailable"),ar=Y.get("currentMedia"),ao=ap.controller;
aq=!ar.get("streamVideoAd");N.updateControls({seekbarVisible:true,seekDragEnable:true,playPauseEnable:true,ccEnable:aq});if(at===true&&ao.isHtmlCCSupported()){if(!Y.get("closedCaptions")){Y.after("playbackPositionChange",ap._loadClosedCaptionContent,ap);}else{}}ap._loadRelatedContent();},_loadRelatedContent:function(){var aw=this,aq=aw.model,ao=aq.get("currentMedia"),Y=aq.get("continuousPlay"),av=aq.get("playlistPosition"),ap=aq.get("playlist").items().size(),at=aq.get("endScreenVideos").items().size(),au=false,ar;if(!aq.get("endscreen")){return;}if(at!==0){return;}au=(ao.get("id")&&aq.get("loop")===false&&((Y&&av===ap-1)||!Y));if(!au){return;}ar=ao.get("duration");if(isNaN(ar)||ar===0){aq.after("durationChange",aw._startLoadingEndScreenContent,aw,true);}else{aw._startLoadingEndScreenContent({newVal:ar});}},_startLoadingEndScreenContent:function(ar,Y){var ao=this,ap=ao.model,aq=3;if(ar.newVal<=aq){return;}ap.after("playbackPositionChange",ao.loadEndScreenContent,ao);if(Y){ap.detach("durationChange",ao._startLoadingEndScreenContent,ao);}},loadEndScreenContent:function(){var aq=this,Y=aq.model,ar=Y.get("currentMedia"),au=aq.controller,at=0,ap,ao=Y.get("endScreenAds");if(Y.get("playbackPosition")>3){Y.detach("playbackPositionChange",aq.loadEndScreenContent,aq);aq.loadEndScreenVideos(ar,{success:function(aw){if(Y.get("isVsaEnabled")==="true"){var av=au._maxEndScreenThumbnailCount()-1;ap=Math.floor(Math.random()*av);at=Math.floor(Math.random()*ao.length);aw._items.splice(ap,0,Y.get("endScreenAds")[at]);}Y.set("endScreenVideos",aw);aq._setRelatedVideosInstrumentContexts(aw);},failure:function(av){au.warn(av);}});}else{}},loadEndScreenVideos:function(ao,au){var av=au.context||null,aq=this.model,ar=this.constructor.NAME,at=this.controller,aw={success:function(ay){var az=c.ERROR.NO_RELATED_CONTENT;if("100"===ay.status.code){ap(ax(ay));}else{Y(new f.VideoPlatform.ErrorObject(az.type,az.code,ar,"error loading related videos",c.LEVEL.WARNING));}},failure:function(ay){Y(ay);}};function ap(ay){au.success.call(av,ay);}function Y(ay){au.failure.call(av,ay);}function ax(ay){aq.get("endScreenVideos").items().reset();var aC=aq.get("endScreenVideos"),aA=aC.items(),aB,az;for(aB=0;aB<ay.mediaItems.length;aB++){if("100"===ay.mediaItems[aB].status.code||"101"===ay.mediaItems[aB].status.code){az=ay.mediaItems[aB];if(az.images){az.images.large=az.images.medium=az.images.thumbnail;}aA.add(az);}}return aA;}at._cmsService.loadRelatedVideos(ao,aw);},_setRelatedVideosInstrumentContexts:function(ao){var ar=[],aq=ao?ao.size():0,Y,ap;for(Y=0;Y<aq;Y++){ap=ao.item(Y);ar[Y]=ap.get("instrumentation").linkContext;}this.model.set("relatedVideosLinkContexts",ar.join(";"));this.model.set("relatedVideosVideoContext",this.model.get("currentMedia").get("id"));},loadClosedCaptions:function(aq){var au=aq.context||null,ap=this.constructor.NAME,Y=this.controller,ar={success:function(av){var aw=c.ERROR.NO_CLOSED_CAPTION_CONTENT;if(!f.Object.isEmpty(av.entries)){ao(av);}else{at(new f.VideoPlatform.ErrorObject(aw.type,aw.code,ap,"error loading closed captions",c.LEVEL.WARNING));}},failure:function(av){at(av);}};function ao(av){aq.success.call(au,av);}function at(av){aq.failure.call(au,av);}Y._cmsService.fetchClosedCaptionContent(ar);},_loadClosedCaptionContent:function(){var ao=this,ap=ao.controller,Y=ao.model;if(Y.get("playbackPosition")>1){Y.detach("playbackPositionChange",ao._loadClosedCaptionContent,ao);ao.loadClosedCaptions({success:function(aq){Y.set("closedCaptions",aq);},failure:function(aq){ap.warn(aq);}});}else{}},pause:function(){this.controller._renderer.pause();},seek:function(Y){this.controller._renderer.seek(Y);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},durationChangeHandler:function(Y){this.controller.updateDuration(this.model.get("currentMedia"),Y.details[0]);},uiInteractHandler:function(Y){this.constructor.superclass.uiInteractHandler.call(this,Y);if(Y.source==="controlsInfoButton"){this.controller.toggleInfoScreen();}else{if(Y.source==="controlsCCButton"){this.controller.toggleClosedCaptions();}}},mediaInfoUpdateHandler:function(Y){this.model.get("currentMedia").set("mediaInfo",Y.mediaInfo);},prepare:function(){an.prototype.prepare.apply(this,arguments);},adStartHandler:function(Y){if(this.model.get("rendererType")==="flash"){this.pause();}aa.superclass.adStartHandler.call(this,Y);},_resumePlayback:function(){}});function C(){C.superclass.constructor.apply(this,arguments);}C.NAME="PausedState";f.extend(C,d,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:true,isSeeking:false,isCompleted:false,isError:false});},play:function(){this.controller._renderer.play();},seek:function(){aa.prototype.seek.apply(this,arguments);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},uiInteractHandler:function(Y){aa.prototype.uiInteractHandler.call(this,Y);},mediaInfoUpdateHandler:function(Y){aa.prototype.mediaInfoUpdateHandler.call(this,Y);},durationChangeHandler:function(Y){this.controller.updateDuration(this.model.get("currentMedia"),Y.details[0]);},_resumePlayback:function(){C.superclass._resumePlayback.call(this);this.play();},prepare:function(){an.prototype.prepare.apply(this,arguments);}});function W(){W.superclass.constructor.apply(this,arguments);}W.NAME="PlaybackCompleteState";f.extend(W,af,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:true,isError:false});},play:function(){this.model.set("playbackPosition",0);an.prototype.prepare.apply(this,arguments);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},prepare:function(){an.prototype.prepare.apply(this,arguments);}});function O(){O.superclass.constructor.apply(this,arguments);}O.NAME="ErrorState";f.extend(O,af,{activate:function(){this.model.setAttrs({isError:true});
},prepare:function(){an.prototype.prepare.apply(this,arguments);},playbackPausedHandler:function(){}});function L(){L.superclass.constructor.apply(this,arguments);}L.NAME="PreStartedState";f.extend(L,d,{activate:function(){var ar=this.controller,Y=this.model,aq=Y.get("currentMedia"),ao=ar._yvapRenderer;if(Y.get("rendererReady")===false){Y.after("rendererReadyChange",function(ap){if(true===ap.newVal){this.activate();}},this);return;}this.model.setAttrs({playerState:ad.PRESTARTED,isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(aq.get("id")&&ao&&!ao.get("criticalError")&&!ao.shouldSkipAd()){if(Y.get("rendererType")==="html"){ar._suspendVideoControl();}ao.requestPreRollAd();}else{if(!this.model.get("adPlaybackOnly")){this._resumePlayback();}}},play:function(){var ar=this.controller,Y=this.model,ao=ar._yvapRenderer,aq=Y.get("yvapState");if(ao&&!ao.get("criticalError")){ao.resumeAd();}},pause:function(){var ar=this.controller,Y=this.model,ao=ar._yvapRenderer,aq=Y.get("yvapState");if(ao&&!ao.get("criticalError")){if(aq===YVAPEvents.AD_START||aq===YVAPEvents.AD_PROGRESS){ao.pauseAd();}}},adPauseHandler:function(){this.model.set("yvapState",YVAPEvents.AD_PAUSE);},adResumeHandler:function(){this.model.set("yvapState",YVAPEvents.AD_RESUME);},_resumePlayback:function(){var ao=this.controller._renderer,Y=this.model;if(!Y.get("adPlaybackOnly")){L.superclass._resumePlayback.call(this);ao.load(Y.get("currentMedia"));ao.play(Y.get("currentMedia"));}},prepare:function(){an.prototype.prepare.apply(this,arguments);},durationChangeHandler:function(Y){this.controller.updateDuration(this.model.get("currentMedia"),Y.details[0]);}});function U(){U.superclass.constructor.apply(this,arguments);}U.NAME="PostStartedState";f.extend(U,d,{activate:function(){this.model.setAttrs({playerState:ad.POSTSTARTED,isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});var Y=this.controller._yvapRenderer,ao=ad.PLAYBACKCOMPLETE;if(!Y||Y.get("criticalError")||Y.shouldSkipAd()){this.controller._setState(ao);this.model.set("playerState",ao);}else{if(this.model.get("rendererType")==="html"){this.controller._suspendVideoControl();}Y.requestPostRollAd();}},_resumePlayback:function(){var ap=this.controller,Y=this.model,ao=ad.PLAYBACKCOMPLETE;if(!Y.get("adPlaybackOnly")){U.superclass._resumePlayback.call(this);}ap._setState(ao);Y.set("playerState",ao);},prepare:function(){an.prototype.prepare.apply(this,arguments);}});function b(ao,aq){var Y=this,ap={bucket:50,colo:"ycs",env:K.isInternalUser()?"s":"p"};Y._m=ao;Y._states={begin:new G(ao,Y),initialized:new F(ao,Y),loading:new E(ao,Y),loaded:new an(ao,Y),preparing:new S(ao,Y),prepared:new T(ao,Y),started:new aa(ao,Y),paused:new C(ao,Y),playbackComplete:new W(ao,Y),error:new O(ao,Y),prestarted:new L(ao,Y),poststarted:new U(ao,Y)};Y._activeState=Y._states.begin;Y._watchHistoryHandler=null;Y._defaultRenderer=f.Object.getValue(aq,"playlist.mediaItems.0.adData.adRules.result.renderType".split("."))||"flash";Y._preferHTML5=f.Object.getValue(aq,"html5");if(Y._m){Y._m.setAttrs({guid:K.generateGuid(),rendererType:Y.getRendererType(f.UA),isOffNetwork:!K.isYahooDomain(K.getHostUrl()),hostingData:f.Object.getValue(window,"YAHOO.VideoPlatform.PlayerHosting".split("."))||ap,lang:f.config.lang||"",autoplay:f.Object.getValue(aq,"standaloneAdMode")===true});Y._shouldEnableHLS();Y._shouldEnableTachyonMigration();Y._m.after("currentMediaChange",function(at){var ar=Y._m.get("currentMedia");if(!ao.get("adPlaybackOnly")){Y._attachWatchHistoryHandler();}if(ar){ar.set("streamType",ar.getStreamType());}},Y);}Y._cmsService=new f.VideoPlatform.LegoCMS({model:Y._m,controller:Y});}b.NAME="Controller";b.INSTANCE_CONFIG_WHITELIST=["autoplay","bitrate","site","site_analytics","lang","region","pageSpaceId","comscoreC4","comscoreC6","playerSpaceId","reportingDomain","playlist","chromeless","rendererType","continuousPlay","YVAP","beacons","errorDisplayDuration","mute","volume","lms","ybang","carousel","endscreen","startscreen","errorscreen","infoscreen","expType","expName","startVideo","atlasEnv","CMS","expBucket","SAPI_CONF","emptySpaceIdContextInSapi","pageLatency","standaloneAdMode","loop","synd","streamAd","ccSettings","userAuthenticated","adPlaybackOnly"];b.CONFIG_UPDATE_ALLOWED_WHITELIST=["continuousPlay"];b.prototype={_shouldEnableHLS:function(){this._m.set("useHlsFlash","true");},_shouldEnableVSA:function(){var ao=this._m.get("hostingData.env"),Y=this._m.get("hostingData.bucket");if(ao==="s"&&Y<50){this._m.set("isVsaEnabled","true");}else{if(ao==="p"&&Y<10){this._m.set("isVsaEnabled","true");}else{if(ao==="q"&&Y<100){this._m.set("isVsaEnabled","true");}}}},_shouldEnableTachyonMigration:function(){var ao=this._m.get("hostingData.env"),Y=this._m.get("hostingData.bucket");if(ao==="s"&&Y<50){this._m.set("enableTachyonMigration","true");}else{this._m.set("enableTachyonMigration","false");}},handleLiveError:function(Y){var ao=this._m.get("currentMedia");if(ao&&ao.get("isLive")){var ap=ao.get("liveReloadCount");if(ap<g){ao.set("liveReloadCount",ap+1);ao.set("failoverState","primary");this._setState(ad.PREPARED);this.play();}else{this.error(Y);}}else{this.error(Y);}},liveFailover:function(Y){this.handleLiveError(Y);},init:function(){var Y=this;Y._activeState.init();Y.load();Y._captionsCustomizationMode=false;},destroy:function(){try{var Y=this;if(Y._m){Y._m.detachAll();}Y._m=null;Y._activeState=null;if(Y._yvapRenderer){Y._yvapRenderer._cancelTimer();Y._yvapRenderer.destroy();}Y._yvapRenderer=null;if(Y._controls){Y._controls.destroy();}Y._controls=null;Y._profiler=null;if(Y._metrics){Y._metrics.destroy();}Y._metrics=null;if(Y._renderer){Y._renderer.detachAll();if(Y._renderer._yswf){Y._renderer._yswf.detachAll();}}Y._renderer=null;}catch(ao){}},setControlsObj:function(Y){this._controls=Y;
},getControlsObj:function(){return this._controls;},setProfiler:function(Y){this._profiler=Y;},getProfiler:function(){return this._profiler;},setMetricsModule:function(Y){this._metrics=Y;},getMetricsModule:function(){return this._metrics;},getRenderer:function(){return this._renderer;},getAdPluginInstance:function(){var Y=this;return(Y._yvapRenderer)?Y._yvapRenderer._adPlugin:null;},getVSAIndex:function(ao){var Y;for(Y=0;Y<ao.length;Y++){if(ao[Y].get("streamVideoAd")){return Y;}}return -1;},validateConfig:function(ar){var aw=this,ap=this._m,ao=this.configErrors(ar),Y,av,at,au,aq;if(ao.length){Y=ao.join("\n");this.error(new f.VideoPlatform.ErrorObject(c.ERROR.CONFIG.type,c.ERROR.CONFIG.code,this.constructor.NAME,Y,c.LEVEL.CRITICAL));}else{av=this.filterObject(ar,b.INSTANCE_CONFIG_WHITELIST);at=ar.ccSettings;this.commitToModel(av,ap);ap.set("config",ar);if(ap.get("synd")){this._cmsService.set("playlistCount",30);}if(!ar.YVAP){ap.set("YVAPRequired",false);}if(at){ap.set("ccSettings",at);if(at===ap.get("ccSettings")){ap.set("ccSettingsAvailable",true);}else{ap.set("ccSettingsAvailable",false);}}aq=av.playlist;if(aq&&aq.startVideo){ap.set("startVideo",aq.startVideo);}else{if(aq&&aq.id&&aq.mediaItems){au=aq.mediaItems;if(au.length>0){ap.set("startVideo",au[0].id);}}}if(aq&&aq.mediaItems&&aw.debugLogVideoTitleNAIssue){f.each(aq.mediaItems,function(ax){if(ax.title!==undefined&&!ax.title){aw.debugLogVideoTitleNAIssue("configErr","title="+f.JSON.stringify(ax.title)+",id="+f.JSON.stringify(ax.id));}});}}},updateConfig:function(au){var Y=this,ao=(f.Lang.isObject(au))?au:null,aq=f.VideoPlatform.Controller.CONFIG_UPDATE_ALLOWED_WHITELIST,at=aq.length,ar,ap;if(ao===null){return;}for(ap=0;ap<at;ap++){ar=aq[ap];if(ao.hasOwnProperty(ar)){Y._m.set(ar,ao[ar]);}}},storeCaptionConfig:function(ao){var Y=this;this._cmsService.storeCaptionSettings(ao,{success:function(ap){var aq=ap.closedcaptionprefs&&ap.closedcaptionprefs[0];if(aq&&aq.err){if(aq.err==="Invalid_GUID"){if(Y._m){Y._m.set("userAuthenticated",false);}}}else{if(Y._m){Y._m.set("userAuthenticated",true);}}},failure:function(ap){}});},_attachWatchHistoryHandler:function(){var ap=this,Y=ap._m,av=Y.get("currentMedia"),ar=30;function au(){if(ap._watchHistoryHandler){ap._watchHistoryHandler.detach();ap._watchHistoryHandler=null;}}function aq(){if(Y.get("userAuthenticated")===true){ap.saveToWatchHistory({uuid:av.get("id")});}}function ao(aw){if(aw.newVal===ad.PLAYBACKCOMPLETE){aq();au();}}function at(aw){if(aw.newVal>=ar){aq();au();}}au();if(av.get("isLive")){return;}if(av.get("duration")<=ar){ap._watchHistoryHandler=Y.on("playerStateChange",ao);}else{ap._watchHistoryHandler=Y.after("playbackPositionChange",at);}},saveToWatchHistory:function(Y){this._cmsService.storeWatchHistory(Y,{success:function(ao){},failure:function(ao){}});},load:function(ao,Y){this._activeState.load(ao,Y);},prepare:function(){var Y=this._profiler,ao=Y?this._profiler.getItem(am.VP_PREPARED.type):null;if(Y&&!f.Lang.isValue(ao)){Y.setEndTime(am.WAITING_FOR_LOADED.type);this.preparedProfileKey=Y.add(am.VP_PREPARED);}this._activeState.prepare();},startMediaChangeTimer:function(){var Y=this._m,ao=this._profiler,ap=new l({model:Y});function at(){ap.stop(am.VP_MEDIA_CHANGE.type,am.VP_MEDIA_CHANGE.desc);if(ao){ao.setEndTime(am.VP_MEDIA_CHANGE.type);}}function ar(au){switch(au.newVal){case YVAPEvents.AD_START:at();break;case YVAPEvents.AD_NONE:case YVAPEvents.AD_ERROR:Y.after("isPlayingChange",aq,this);break;}}function aq(au){if(au.newVal===true){at();Y.detach("isPlayingChange",aq,this);}}Y.once("yvapStateChange",ar,this);ap.start();if(ao){ao.add(am.VP_MEDIA_CHANGE);}},preparePlaylistPosition:function(Y){this.startMediaChangeTimer();this.setPlaylistPosition(Y);this.prepare();},play:function(){this._activeState.play();},pause:function(){this._activeState.pause();},seek:function(Y){this._activeState.seek(Y);},setSettingsMenuVisibility:function(Y){this._renderer.setSettingsMenuVisibility(Y);},setFullscreen:function(Y){this._activeState.setFullscreen(Y);},setVolume:function(ao){try{if(ao<0){ao=0;}if(ao>1){ao=1;}this._renderer.setVolume(ao);}catch(Y){}},setMute:function(Y){try{this._renderer.setMute(Y);}catch(ao){}},setResolution:function(Y){if(this._m.get("rendererType")==="html"){this._renderer.setResolution(Y);}},setPlaylistPosition:function(ao){var Y=this._m;this.pause();Y.set("playlistPosition",ao);Y.set("currentMedia",Y.get("playlist").items().item(ao));Y.set("playbackPosition",0);},preLoadVideo:function(){var Y=this;Y._renderer.preload(Y._m.get("currentMedia"));},playNext:function(){var ap=this._m.get("playlistPosition"),Y=ap+1,au=this._m.get("playlist").items(),at=au.size(),ar=at>1,aq=this._m.get("continuousPlay"),ao=this._m.get("loop");if((!ar&&!ao&&aq)||(!ar&&!ao&&!aq)||(ar&&!ao&&aq&&Y>=at)||(ar&&!ao&&!aq)){return;}if((!ar&&ao&&aq)||(!ar&&ao&&!aq)||(ar&&ao&&!aq)){this._m.reset("playlistPosition");this.preparePlaylistPosition(ap);this._m.set("loopingTriggered",true);return;}Y=(ao)?Y%at:Y;au._items[Y].set("autoContinue",true);if(Y===0){this._m.set("loopingTriggered",true);}this.preparePlaylistPosition(Y);},playIndex:function(ap,ao,ar){var Y=this._m,aq,at;ao=f.Lang.isUndefined(ao)?false:ao;if(ao&&(ao==="endScreen"||ao==="errorScreen")&&ar!=="endscreenReplayButton"){at=Y.get("playlist").items();aq=Y.get("endScreenVideos").items().item(ap);ap=Y.get("playlistPosition")+1;at.add(aq,ap);}Y.get("playlist").items()._items[ap].set("autoContinue",false);this.preparePlaylistPosition(ap);},clearPlaylist:function(){var ao=ad.INITIALIZED,Y=this._m;this.pause();Y.get("playlist").items().clear();this._setState(ao);Y.set("playerState",ao);},addToPlaylist:function(ap){var Y=this._m,ao;Y.get("playlist").items().add(ap);ao=f.instanceOf(ap,p)?ap:new p(ap);if(this.debugLogVideoTitleNAIssue&&ao.get&&!ao.get("title")){this.debugLogVideoTitleNAIssue("addToPlaylist","title="+ao.get("title")+",id="+ao.get("id"));}if(ad.INITIALIZED===Y.get("playerState")){this.load();}},toggleInfoScreen:function(){var Y=this._m,ao=Y.get("activeScreenStr"),ap="info"===ao?undefined:"info";
Y.set("activeScreenStr",ap);},fireUIInteractBeacon:function(Y){this._m.fire("uiInteract",{source:Y});},getFontList:function(){return this._renderer.getFontList();},toggleClosedCaptions:function(){var Y=this._m,ap=Y.get("ccSettings.show"),ao=!ap;Y.set("ccSettings.show",ao);this.updateControls({ccShow:ao});},setClosedCaptionsLanguage:function(au,aq){var ao=this,Y=this._m,ar=Y.get("ccSettings.lang"),at=au.toLowerCase();if(at!==ar){var ap=ao.getClosedCaptionUrl(at);ao.fireUIInteractBeacon("cc-lang-"+at);Y.set("ccSettings.lang",at,aq);ao.updateControls({ccUrl:ap});}},setCaptionsCustomizationMode:function(ap){var ao=this,Y=this._m,aq=Y.get("ccSettings.lang");ao._captionsCustomizationMode=ap;if(ap){ao.updateControls({ccAvailable:true,ccShow:true});ao.showClosedCaptionsPreviewText(aq);}else{ao.updateControls({ccAvailable:Y.get("ccAvailable"),ccShow:Y.get("ccSettings.show")});ao.hideClosedCaptionsPreviewText();}},isCaptionsCustomizationMode:function(){return this._captionsCustomizationMode;},showClosedCaptionsPreviewText:function(ap){var Y=this,ao=Y.getCaptionsString(ap,"CAPTIONS_PREVIEW_TEXT_LC")||ap;Y.updateControls({captionText:ao});},hideClosedCaptionsPreviewText:function(){this.updateControls({clearCaptions:true});},setClosedCaptionsCustomization:function(aq,at,ap){var ao=this,Y=this._m,ar=Y.get("ccSettings."+aq);if(at!==ar){Y.set("ccSettings."+aq,at,ap);ao.updateControls({ccCustomization:Y.get("ccSettings")});}},setClosedCaptionsCustomizationObject:function(aq,at){var ar=this,ao=this._m,ap=Q.ATTRS.ccSettings.value,au=ao.get("ccSettings"),Y=f.merge(ap,{show:au.show,lang:au.lang},aq);ao.set("ccSettings",Y,at);ar.updateControls({ccCustomization:ao.get("ccSettings")});},getClosedCaptionUrl:function(at){var Y=this._m,au=Y.get("currentMedia").get("CC"),ar=at||Y.get("ccSettings.lang");if(ar&&au){var ao=au.length,aq,ap;for(ap=0;ap<ao;ap++){aq=au[ap];if(aq&&aq.lang.toLowerCase()===ar){return aq.url;}}for(ap=0;ap<ao;ap++){aq=au[ap];if(aq&&aq.lang.toLowerCase().indexOf(ar)===0){return aq.url;}}}return null;},updateControls:function(Y){if(this._renderer){this._renderer.updateControls(Y);}},displayClosedCaptions:function(ao){var Y=this._m;if(f.Lang.isValue(Y)){Y.set("ccSettings.show",ao);}},getMediaFormats:function(){return[K.formats.M3U8,K.formats.MP4];},warn:function(Y){if(this._m){this._m.set("warning",Y);}},error:function(ap){var ao=ad.ERROR,Y=this._m;Y.set("error",ap);this.pause();this._setState(ao);Y.set("playerState",ao);},updateMediaAttrs:function(ap,ao){var Y=this;f.Object.each(ao,function(ar,aq){if((typeof(ap.get(aq))==="undefined")||(ap.get(aq)===null)||K.isEmptyObject(ap.get(aq))){ap.set(aq,ar);if(Y.debugLogVideoTitleNAIssue&&aq==="title"&&!ar){Y.debugLogVideoTitleNAIssue("updateMediaAttrs","title="+ar+",id="+ap.get("id"));}}});},loadClips:function(ao,Y){var ap=Y.context||null;this._cmsService.loadClips(ao,{success:function(aq){Y.success.call(ap,aq);},failure:function(aq){Y.failure.call(ap,aq);}});},commitToModel:function(ar,ao){ao.setAttrs(ar);if("playlist" in ar){var aq=ar.playlist,ap=ao.get("playlist");ap.setAttrs(aq);if("string"===typeof aq.id&&aq.id.length>0){}else{f.each(aq.mediaItems,function(at){if(at&&!at.id&&at.streamUrl){at.streamProtocol=K.parseUrl(at.streamUrl).protocol;}ap.items().add(at);});}}if(f.Lang.isNumber(f.UA.ios)||(f.UA.android>0)){ao.set("autoplay",false);}if(ao.get("chromeless")){ao.set("startscreen",false);ao.set("infoscreen",false);ao.set("errorscreen",false);ao.set("endscreen",false);ao.set("agegatescreen",false);}if(ao.get("synd")){var Y=ao.get("synd");ao.set("synd",Y+"-"+this._getSyndicationHash());}},_getSyndicationHash:function(){var ao=K.fixedEncodeURIComponent,aq=document.referrer,ar=0,ap,at,Y;aq=aq.split("?")[0];aq=ao(aq);if(aq.length===0){return ar;}for(ap=0,Y=aq.length;ap<Y;ap++){at=aq.charCodeAt(ap);ar=((ar<<5)-ar)+at;ar|=0;}return ar;},filterObject:function(ap,Y){var ao={};f.each(ap,function(ar,aq){if(f.Array.indexOf(Y,aq)>=0){ao[aq]=ar;}});return ao;},configErrors:function(ao){var ap=[],Y=["pageSpaceId","comscoreC4"];if(f.Lang.isObject(ao)){f.each(Y,function(aq){if(!f.Lang.isValue(ao[aq])){ap.push('missing required key: "'+aq+'"');}});if("beacons" in ao){if(!f.Lang.isArray(ao.beacons)){ap.push("config.beacons should be an Array i.e. [{},]");}}}else{ap.push("config is not an object");}return ap;},updateDuration:function(ao,Y){var ap=isNaN(Y)?ao.get("duration")||NaN:Y;if(ao.get("isLive")||isNaN(ap)){ap=Number.POSITIVE_INFINITY;}this._m.set("duration",ap);ao.set("duration",ap);},getLoadStrategy:function(){var ap=this._fetchDataFromCMS,Y=this._m,ao=false;if(this.isDataAvailable()){ap=this._dataAvailable;ao=true;}else{ao=false;}Y.once("currentMediaChange",function(aq){aq.newVal.set("isPreFetched",ao);},this);return ap;},isDataAvailable:function(){var ao=this,Y=["id","title","description","metrics","licensorName","licensorId","licenseName","licenseId","originatingProperty","images","provider","duration","streamUrlOwner","adData","isLive"];return this._scanMediaObjects(Y);},isHtmlCCSupported:function(){var Y=this._m;return(Y.get("rendererType")==="html"&&!f.UA.mobile);},_scanMediaObjects:function(ar){var ao=this._m,aq,ap,at,av,Y=ao.get("playlist").items(),au=Y.toArray(),ax=true,aw,ay;if(au.length===0){return false;}for(aq=0,at=au.length;(aq<at&&ax);aq++){for(ap=0,av=ar.length;(ap<av&&ax);ap++){aw=ar[ap];if(typeof au[aq][aw]==="undefined"){ax=false;break;}else{if(aw==="title"&&!au[aq][aw]){this.debugLogVideoTitleNAIssue("_scanMediaObjects","title="+f.JSON.stringify(au[aq][aw]));}}}ay=au[aq].streams;if(ay!==undefined){ay=this._getPreferredStreams(ay,au[aq].isLive);if(ay.length===0){ay=undefined;}Y.item(aq).set("streams",ay);if(ay===undefined){ax=false;break;}}else{if(au[aq].streamUrl===undefined){ax=false;}}}return ax;},_dataAvailable:function(Y){Y.loadData.call(Y.context||null,{});},_getPreferredStreams:function(aA,aw){if(aw===true&&this._m.get("rendererType")==="flash"){return aA;}var ar=K.getFormatsAndProtocols(this._m.get("rendererType"),this._m.get("useHlsFlash")==="true"),Y=ar.acceptFormats,at=ar.acceptProtocols,ax=[],aq,ap,ao,az,av,au,ay;
for(aq=0,az=Y.length;aq<az;aq++){for(ap=0,av=at.length;ap<av;ap++){for(ao=0,au=aA.length;ao<au;ao++){ay=aA[ao].host.split(":")[0];if(Y[aq]===aA[ao].format&&at[ap]===ay){ax.push(aA[ao]);}}if(ax.length>=1){return ax;}}}return ax;},_fetchDataFromCMS:function(Y){Y.loadFromCMS.call(Y.context||null,{});},getPrepareStrategy:function(ap){var Y=ap.get("status"),ar,ao=Y&&Y.code?parseInt(Y.code,10):NaN,aq=this._fetchStreamData;if(ap.hasStreamData()){aq=this._alreadyPrepared;ar=ap.get("title");if(!ar){this.debugLogVideoTitleNAIssue("_getPrepareStrategy","title="+f.JSON.stringify(ar));}ap.set("isPreFetched",true);}else{ap.set("isPreFetched",false);}if(!isNaN(ao)&&ao>=200){aq=this._clipStatusNotPlayable;}return aq;},_alreadyPrepared:function(ao,Y){Y.success.call(Y.context||null,{});},_clipStatusNotPlayable:function(aq,ap){var Y=aq.get("status"),ao=this.constructor.NAME;ap.failure.call(ap.context||null,new f.VideoPlatform.ErrorObject(c.ERROR.STREAM_NOT_PLAYABLE.type,Y.code,ao,"clip not playable: "+Y.msg,c.LEVEL.CRITICAL),null);},_fetchStreamData:function(aq,at){var au=new f.VideoPlatform.MediaCollection([aq]),ar=this.constructor.NAME,ao=at.context||null,Y=new l({model:this._m}),aw=this._profiler;function av(ax){at.success.call(ao,ax);}function ap(ay,ax){at.failure.call(ao,ay,ax);}Y.start();if(aw){aw.add(am.CMS_GetStreams);}this.loadClips(au,{success:function(ax){Y.stop(am.CMS_GetStreams.type,am.CMS_GetStreams.desc);if(aw){aw.setEndTime(am.CMS_GetStreams.type);}var ay=ax[0];if(ay&&ay.status&&("100"===ay.status.code||"101"===ay.status.code)){av(ay);}else{ap(new f.VideoPlatform.ErrorObject(c.ERROR.STREAM_NOT_PLAYABLE.type,(ay&&ay.status)?ay.status.code:c.ERROR.STREAM_NOT_PLAYABLE.code,ar,(ay&&ay.status&&ay.status.msg)?ay.status.msg:"error loading content",c.LEVEL.CRITICAL),ay);}},failure:function(ax){ap(ax,null);}});},_activeState:null,_setState:function(Y){if(Y!==this._m.get("playerState")){this._activeState=this._states[Y];this._activeState.activate();}return this._activeState;},_renderer:null,_yvapRenderer:null,registerRenderer:function(Y){this._addRendererListeners(Y);this._renderer=Y;},_addRendererListeners:function(Y){var ao=ai;f.each([ao.PLAYBACK_READY,ao.PLAYBACK_PLAY,ao.PLAYBACK_PLAYING,ao.PLAYBACK_PAUSED,ao.PLAYBACK_PROGRESS,ao.PLAYBACK_SEEK,ao.PLAYBACK_SEEKED,ao.PLAYBACK_COMPLETE,ao.PLAYBACK_ERROR,ao.PLAYBACK_WARNING,ao.PLAYBACK_WAITING,ao.FULLSCREEN_ENTER,ao.FULLSCREEN_EXIT,ao.MUTE_CHANGE,ao.VOLUME_CHANGE,ao.UI_INTERACT,ao.MEDIA_INFO_UPDATE,ao.BITRATE_CHANGE,ao.PLAYER_RESIZE,ao.PLAYER_READYSTATE,ao.CLIENT_RESIZE,ao.DURATION_CHANGE,ao.CCAVAILABILITY_CHANGE,ao.LIVE_CHANGE,ao.STREAMTYPE_CHANGE,ao.SELECTED_STREAM_CHANGE,ao.SELECTED_STREAM_URL_CHANGE],function(ap){Y.on(ap,function(ar){var aq=ap+"Handler";if(f.Lang.isFunction(this._activeState[aq])){this._activeState[aq](ar);}},this);},this);},_suspendVideoControl:function(){var Y=this._renderer.suspendControl();this._m.set("videoPlaybackState",Y);},_returnVideoControl:function(){var Y=this._m.get("videoPlaybackState");if(Y){this._renderer.returnControl(Y);}},_maxEndScreenThumbnailCount:function(){var aq=this._m?this._m.get("width"):0,Y=this._m?this._m.get("height"):0,ap=K.getPlayerSize(aq,Y),ao=K.getDisplayDimensions(ap);return K.maxEndScreenItemCount(aq,Y,ao);},getRendererType:function(ao){var ap="html";if(f.Lang.isString(ao.mobile)||f.Lang.isNumber(ao.ios)||ao.android>0){return ap;}if((navigator&&navigator.userAgent)&&((navigator.userAgent.indexOf("MSAppHost")>=0)||(/.+MSIE 10.+Windows NT.+WebView/i.test(navigator.userAgent)))){return ap;}if(this._fallBackTOHTML5(ao)){return ap;}function Y(){return !!document.createElement("video").canPlayType;}if(this._preferHTML5&&Y()){return ap;}return this._defaultRenderer;},_isBrowserHTML5Compatible:function(Y){var ao=K.compareVersions;return(ao(Y.chrome,21)>=0||ao(Y.ie,9)>=0||ao(K.isIE11(),9)>=0||ao(Y.safari,6)>=0||ao(Y.opera,10.6)>=0||ao(Y.gecko,23)>=0);},_fallBackTOHTML5:function(Y){return(!this._isFlashVersionAtLeast(10,2)&&this._isBrowserHTML5Compatible(Y));},_testsFlashVersionAtLeast:function(ay,av,aq){var ax,at=f.UA,ao=f.Lang,au,ar,Y;function aw(az){return parseInt(az,10);}function ap(az){if(ao.isNumber(aw(az[0]))){at.flashMajor=az[0];}if(ao.isNumber(aw(az[1]))){at.flashMinor=az[1];}if(ao.isNumber(aw(az[2]))){at.flashRev=az[2];}}ax=K.getFlashVersion();if(ax!==0&&ax!==6){if(at.gecko||at.webkit||at.opera){ax=ax.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split(".");}else{ax=ax.replace(/[A-Za-z\s]+/g,"").split(",");}ap(ax);}au=aw(at.flashMajor);ar=aw(at.flashMinor);Y=aw(at.flashRev);ay=aw(ay||0);av=aw(av||0);aq=aw(aq||0);if(ay===au){if(av===ar){return aq<=Y;}return av<ar;}return ay<au;},_isFlashVersionAtLeast:function(Y,ap,ao){return this._testsFlashVersionAtLeast(Y,ap,ao);},getRendererClass:function(Y){var ao={"flash":k,"html":i};return ao[Y];},_createYVAP:function(){var Y=new f.VideoPlatform.YVAP({model:this._m,controller:this});this._yvapRenderer=Y;this.registerYVAP(Y);},registerYVAP:function(Y){var ao=YVAPEvents;f.each([ao.ADPLUGIN_READY,ao.AD_START,ao.AD_PAUSE,ao.AD_RESUME,ao.AD_END,ao.AD_COMPLETE,ao.AD_ERROR,ao.AD_NONE,ao.AD_PROGRESS,ao.AD_PLUGIN_METRIC,ao.AD_PLUGIN_QOS_METRIC,ao.PLUGIN_REMOVED],function(ap){Y.on(ap,function(ar){var aq=ap+"Handler";if(f.Lang.isFunction(this._activeState[aq])){this._activeState[aq](ar);}},this);},this);},getStrings:function(){var Y=f.Object.getValue(window,"YAHOO.VideoPlatform.i18n".split("."));if(typeof Y==="undefined"){return[];}else{return Y;}},getCaptionsString:function(ar,aq,ao){var Y=K.getCaptionLocalizedString(ar,aq,ao);if(!Y){var ap=this.getStrings();Y=ap[aq];if(ao){ao.lang=null;}}return Y;},_checkPartnerBranding:function(at){var ap=this,aq=ap._m,ar=at.newVal,au=ar?ar.get("provider").name:null;if(au!=="NFL Highlights"){aq.reset("partnerCarouselItems");aq.set("ybang",true);ap.updateControls({ybangEnable:true});return;}aq.set("ybang",false);ap.updateControls({ybangEnable:false});function ao(av){var ay=av.mediaItems,ax,aw,az=new f.VideoPlatform.MediaCollection();
if(ay.length===0){}else{for(ax=0;ax<ay.length;ax++){aw=ay[ax];if(aw.images){aw.images.large=aw.images.medium=aw.images.thumbnail;}az.add(aw);}aq.set("partnerCarouselItems",az);aq.set("ybang",false);}}function Y(){}this._cmsService.loadPlaylist("570a2285-8e29-4c78-a044-22b9aada15d3",0,0,4,{success:ao,failure:Y});},debugLogVideoTitleNAIssue:(function(){var ap=[],Y=299,ao=499;return function(au,ax,aw){var ay,ar,av,aq="",at="";if(!aw&&au!==undefined&&ax!==undefined){ap.push([au,ax]);}else{if(!aw.ev||aw.ev!=="PLAYBACK_START"){return;}ay=aw.mediaObj;ar=aw.model;av=aw.vt;f.each(ap,function(az){aq+=az[0]+"-"+az[1]+"|";});at="CurrVidTitle: "+f.JSON.stringify(ay.get("title"))+";uuid:"+ay.get("id")+";State:"+ar.get("playerState")+";isPrefetched:"+(+ay.get("isPreFetched"))+";IsMobile:"+(+!!f.UA.mobile)+";VidType:"+av+";ExtraInfo: "+aq;this.warn(new f.VideoPlatform.ErrorObject(Y,ao,"bug6732313_debuginfo",at,f.VideoPlatform.ErrorObject.LEVEL.WARNING));ap=[];}};})()};b.prototype.constructor=b;f.augment(b,e);f.namespace("VideoPlatform").Controller=b;var N={_controls:null,_updateHandlers:{"seekbarVisible":function(Y){this._controls.seekEnable(Y);},"seekDragEnable":function(Y){this._controls.seekDragEnable(Y);},"altDuration":function(Y){},"playPauseEnable":function(Y){this._controls.playPauseEnable(Y);},"fullscreenEnable":function(Y){this._controls.enableMaxMin(Y);},"ccEnable":function(Y){this._controls.enableCloseCaptions(Y);},"altCurrentTime":function(){},"infoEnable":function(){},"playLoadAnimation":function(){}},init:function(Y){this._controls=Y;},updateControls:function(aq){var ap,Y,ao;for(Y in aq){if(aq.hasOwnProperty(Y)){ao=this._updateHandlers[Y];if(typeof ao==="function"){ap=[aq[Y]];ao.apply(this,ap);}else{}}}}};f.namespace("VideoPlatform").UpdateControls=N;f.namespace("VideoPlatform").API_Events={PLAYER_RENDERED:"render",PLAYER_READY:"playerReady",PLAYER_ERROR:"playerError",PLAYBACK_ERROR:"playbackError",PLAYER_VOLUME_CHANGE:"volumeChange",PLAYER_MUTE_CHANGE:"muteChange",PLAYBACK_READY:"playbackReady",PLAYBACK_START:"playbackStart",PLAYBACK_TIME_UPDATE:"playbackTimeUpdate",DURATION_CHANGE:"durationChange",BITRATE_CHANGE:"bitrateChange",PLAYBACK_PAUSE:"playbackPause",PLAYBACK_SEEK_COMPLETE:"playbackSeek",PLAYBACK_COMPLETE:"playbackComplete",PLAYER_FULLSCREEN_CHANGE:"fullscreenChange",AD_PLAYBACK_START:"adStart",AD_PLAYBACK_PAUSE:"adPause",AD_PLAYBACK_RESUME:"adResume",AD_PLAYBACK_STOP:"adComplete",AD_PLAYBACK_PROGRESS:"adProgress",AD_NONE:"adNone",AD_ERROR:"adError",PLAYLIST_COMPLETE:"playlistComplete",PLAYLIST_POSITION_CHANGE:"playlistPositionChange",UI_INTERACT:"uiInteract"};var m=f.VideoPlatform.API_Events;function x(ao,Y){this._c=Y;this._m=ao;}x.prototype.play=function(){this._c.play();};x.prototype.pause=function(){this._c.pause();};x.prototype.seek=function(Y){this._c.seek(Y);};x.prototype.getDuration=function(){return this._m.get("duration");};x.prototype.getCurrentTime=function(){return this._m.get("playbackPosition");};x.prototype.setFullscreen=function(Y){this._c.setFullscreen(Y);};x.prototype.getFullscreen=function(){return this._m.get("fullscreen");};x.prototype.setVolume=function(Y){this._c.setVolume(Y);};x.prototype.getVolume=function(){return this._m.get("volume");};x.prototype.setMute=function(Y){this._c.setMute(Y);};x.prototype.getMute=function(){return this._m.get("mute");};x.prototype.getBitrate=function(){return this._m.get("bitrate");};x.prototype.setResolution=function(Y){return this._c.setResolution(Y);};x.prototype.displayClosedCaptions=function(Y){this._c.displayClosedCaptions(Y);};x.prototype.displayPlayerControls=function(ao){var Y=this._c.getControlsObj();if(typeof ao!=="undefined"){ao?Y._show():Y._hide();}};f.namespace("VideoPlatform").ControlsAPI=x;function X(ao,Y){this._c=Y;this._m=ao;}X.prototype.get=function(){var Y=this._m.get("playlist");return Y.toObject();};X.prototype.setPosition=function(Y){this._m.get("playlist").items()._items[Y].set("autoContinue",false);this._c.preparePlaylistPosition(Y);};X.prototype.setPositionById=function(ao){var Y;Y=this._m.get("playlist").items().getIndexById(ao);if(Y===-1){return;}this._m.get("playlist").items()._items[Y].set("autoContinue",false);this._c.preparePlaylistPosition(Y);};X.prototype.getPosition=function(){return this._m.get("playlistPosition");};X.prototype.clear=function(){this._c.clearPlaylist();};X.prototype.removeItems=function(Y,ao){return this._m.get("playlist").items().removeItems(Y,ao);};X.prototype.removeItem=function(Y){return this._m.get("playlist").items().removeItem(Y);};X.prototype.getIndex=function(Y){return this._m.get("playlist").items().getIndexById(Y);};X.prototype.removeItemById=function(Y){return this._m.get("playlist").items().removeItemById(Y);};X.prototype.removeItemsById=function(Y){return this._m.get("playlist").items().removeItemsById(Y);};X.prototype.getSize=function(){return this._m.get("playlist").items().size();};X.prototype.addItem=function(Y){this._c.addToPlaylist(Y);};X.prototype.getItem=function(Y){var ao=null;if(f.Lang.isNumber(Y)){ao=this._m.get("playlist").get("mediaItems").item(Y);if(ao){ao=ao.toObject();}}return ao;};X.prototype.getCurrentItem=function(){return this.getItem(this.getPosition());};X.prototype.fetchMetaData=function(Y,ao){var aq=ao.context||null,ap=new f.VideoPlatform.MediaCollection(Y);this._c.loadClips(ap,{success:function(ar){if(f&&f.Array){ar=f.Array.map(ar,function(at){return new f.VideoPlatform.MediaObject(at);});ao.success.call(aq,ar);}},failure:function(ar){ao.failure.call(aq,ar);}});};X.prototype.updatePlayerData=function(Y){var ap=this._c._yvapRenderer,ao=(f.Lang.isArray(Y))?Y:[Y];if(ap===null){}else{ap._updatePlayerData(ao);}};f.namespace("VideoPlatform").PlaylistAPI=X;function n(){}n.prototype.updateConfig=function(Y){this._controller.updateConfig(Y);};n.prototype.overrideDurationForOverlayAds=function(ao){var Y=this._model;if(Y){Y.set("overrideDuration",ao);}};n.prototype._setupAPI=function(ao,Y){this._model=this._model||ao;this._controller=this._controller||Y;
this.publish(m.PLAYER_READY,{fireOnce:true});this.publish(m.PLAYER_RENDERED,{fireOnce:true});this.controls=new x(ao,Y);this.playlist=new X(ao,Y);ao.after("isSeekingChange",this._onSeekingChange,this);ao.after("playbackPositionChange",this._onPlaybackPositionChange,this);ao.after("durationChange",this._onDurationChange,this);ao.after("volumeChange",this._onVolumeChange,this);ao.after("muteChange",this._onMuteChange,this);ao.after("playerStateChange",this._onPlayerStateChange,this);ao.after("fullscreenChange",this._onFullscreenChange,this);ao.after("isPlaybackErrorChange",this._onPlaybackErrorChange,this);ao.after("yvapStateChange",this._onYVAPStateChange,this);ao.after("playlistPositionChange",this._onPlaylistPositionChange,this);ao.after("uiInteract",this._onUIInteract,this);ao.after("streamBitrateChange",this._onBitrateChange,this);};n.prototype._onSeekingChange=function(Y){if(Y.newVal===false&&Y.prevVal===true){this.fire(m.PLAYBACK_SEEK_COMPLETE);}};n.prototype._onVolumeChange=function(Y){this.fire(m.PLAYER_VOLUME_CHANGE,Y.newVal);};n.prototype._onFullscreenChange=function(Y){this.fire(m.PLAYER_FULLSCREEN_CHANGE,Y.newVal);};n.prototype._onMuteChange=function(Y){this.fire(m.PLAYER_MUTE_CHANGE,Y.newVal);};n.prototype._onPlaybackPositionChange=function(Y){this.fire(m.PLAYBACK_TIME_UPDATE,Y.newVal);};n.prototype._onDurationChange=function(Y){this.fire(m.DURATION_CHANGE,{duration:Y.newVal});};n.prototype._onBitrateChange=function(Y){this.fire(m.BITRATE_CHANGE,Y.newVal);};n.prototype._onPlaybackErrorChange=function(ao){var Y;if(ao.newVal===true){Y=this._model.get("error");this.fire(m.PLAYBACK_ERROR,new f.VideoPlatform.API_ErrorObject({message:Y.msg,code:Y.code}));}};n.prototype._adProgressHandler=function(Y){if("position" in Y.newVal){this.fire(m.AD_PLAYBACK_PROGRESS,Y.newVal);}};n.prototype._onYVAPStateChange=function(ao){var Y=ao.newVal||"";switch(Y){case"adStart":this.fire(m.AD_PLAYBACK_START,this._model.get("yvapData"));break;case"adPause":this.fire(m.AD_PLAYBACK_PAUSE,this._model.get("yvapData"));break;case"adResume":this.fire(m.AD_PLAYBACK_RESUME,this._model.get("yvapData"));break;case"adComplete":this.fire(m.AD_PLAYBACK_STOP);break;case"adProgress":this.fire(m.AD_PLAYBACK_PROGRESS,this._model.get("yvapData"));this._model.after("yvapDataChange",this._adProgressHandler,this);break;case"adError":this.fire(m.AD_ERROR);break;case"adNone":this.fire(m.AD_NONE);break;}if(ao.prevVal==="adProgress"&&ao.newVal!=="adProgress"){this._model.detach("yvapDataChange",this._adProgressHandler,this);}};n.prototype._onPlayerStateChange=function(aq){var ao=aq.newVal||"",Y=this._model,ar,ap;switch(ao){case ad.LOADED:this.fire(m.PLAYER_READY);this.fire(m.PLAYBACK_READY);break;case ad.PREPARED:break;case ad.STARTED:this.fire(m.PLAYBACK_START);break;case ad.PAUSED:this.fire(m.PLAYBACK_PAUSE);break;case ad.PLAYBACKCOMPLETE:ar=Y.get("playlist")&&Y.get("playlist").items().toArray().length||[];this.fire(m.PLAYBACK_COMPLETE);if(Y.get("playlistPosition")===ar-1){this.fire(m.PLAYLIST_COMPLETE);}break;case ad.ERROR:ap=this._model.get("error")||{};this.fire(m.PLAYER_ERROR,new f.VideoPlatform.API_ErrorObject({message:ap.msg,code:""}));break;}};n.prototype._onPlaylistPositionChange=function(Y){this.fire("playlistPositionChange",{position:Y.newVal});};n.prototype._onUIInteract=function(Y){if(Y.source){this.fire(m.UI_INTERACT,{srcElement:Y.source});}};f.augment(n,f.EventTarget);f.namespace("VideoPlatform").API=n;f.namespace("VideoPlatform").API_ConfigObject=function(){return{pageSpaceId:null,playlist:{},lang:null,airplay:null,chromeless:null,continuousPlay:null,YVAP:{accountId:null,playContext:null,ruleSetId:null},volume:null,mute:null,site:null,region:null,jurisdiction:null,beacons:[],comscoreC4:null,comscoreC6:null,autoplay:null,ybang:true,carousel:false,expType:null,expName:null,expBucket:null,startVideo:"",atlasEnv:null,standaloneAdMode:false,streamAd:null};};f.namespace("VideoPlatform").API_ErrorObject=function(Y){return f.merge({code:"",message:""},Y);};f.namespace("VideoPlatform").API_MediaObject=function(){return new f.VideoPlatform.MediaObject().toObject({});};f.namespace("VideoPlatform").API_StreamObject=function(){return{callback:"",path:"",type:"",streamId:"",cdn:"",bitrate:"",isLive:"",width:"",height:"",playGUID:"",duration:""};};f.namespace("VideoPlatform").API_PlaylistObject=function(){return new H().toObject({});};function al(){al.superclass.constructor.apply(this,arguments);}al.NAME="VideoPlayer";al.NS="videoPlayer";al.ATTRS={rendererType:{readOnly:true,getter:function(){return this._model.get("rendererType");}},spinnerTimeout:{value:"10",getter:function(Y){return Number(Y);}},playbackPlugin:{readOnly:true,getter:function(){var ao;try{ao=this._controller._renderer._yswf;}catch(Y){}finally{return ao;}}},rendered:{value:false}};f.extend(al,f.Base,{initializer:function(ao){var Y=new ak(),aq;Y.add(am.VP_INIT_TO_START);Y.add(am.VP_INIT_TO_STARTSCREEN);Y.add(am.VP_CONSTRUCTOR);Y.add(am.MVC_CONSTRUCTORS);this._instanceConfig=ao;this._vpInitTime=(new Date()).getTime();this._model=new Q();this._controller=new b(this._model,ao);this._view=new t({model:this._model,controller:this._controller});Y.setEndTime(am.MVC_CONSTRUCTORS.type);Y.add(am.VP_SETUP_API);this._controller.validateConfig(ao);aq=this._model.get("autoplay");if(aq===true){Y.remove(am.VP_INIT_TO_STARTSCREEN.type);this._autoplayTimer(this._model,Y);}else{Y.remove(am.VP_INIT_TO_START.type);this._startScreenTimer(this._model,Y);}this._metrics=new f.VideoPlatform.Metrics({model:this._model,controller:this._controller,view:this._view});Y.setMetricsModule(this._metrics);this._controller.setProfiler(Y);this._controller.setMetricsModule(this._metrics);this._setupAPI(this._model,this._controller);this._startSpinnerTimer(this._model);Y.setEndTime(am.VP_SETUP_API.type);Y.add(am.INIT_TO_LOAD_PLAYLIST);this._controller.init(ao);Y.setEndTime(am.VP_CONSTRUCTOR.type);},destructor:function(){var Y=this;if(Y.sTimer!==null&&Y.sTimer!==undefined){clearInterval(Y.sTimer);Y.sTimer=null;
}if(Y._model){Y._model.detachAll();Y._model.destroy();}if(Y._view){Y._view.destroy();}if(Y._controller){Y._controller.destroy();}if(!f.UA.ie){Y._model=null;}Y._view=null;Y._controller=null;},render:function(au){var ao=au,ap,ar=this._model,av=this._controller,aw=this._view,ax=av?av.getProfiler():null,Y=new l({model:this._model});if(ax){ax.add(am.RENDER_NODE_AVAILABLE);}function at(){aw.on("stateChange",aq,this);Y.start();if(ax){ax.setEndTime(am.RENDER_NODE_AVAILABLE.type);ax.add(am.CREATE_RENDERER);}aw.render(ap);}function aq(ay){if("RENDERED"===ay.newVal){Y.stop(am.CREATE_RENDERER.type,am.CREATE_RENDERER.desc);if(ax){ax.setEndTime(am.CREATE_RENDERER.type);}this.set("rendered",true);this.fire(m.PLAYER_RENDERED);aw.detach("stateChange",aq,this);if(ar.get("autoplay")===true){if(ax){ax.add(am.WAITING_FOR_LOADED);}if(ar.get("isLoaded")===true){av.prepare();}else{ar.once("isLoadedChange",function(){av.prepare();},this);}}}}if(f.Lang.isString(ao)){f.on("available",function(){ap=f.Node.one(ao);at.call(this);},ao,this);}else{if(ao&&(ao.getDOMNode||f.Node.getDOMNode(ao))){ap=ao;at.call(this);}else{av.error(new f.VideoPlatform.ErrorObject(c.ERROR.CONFIG.type,c.ERROR.CONFIG.code,this.constructor.NAME,"invalid parentNode",c.LEVEL.CRITICAL));}}return this;},setScreenConfig:function(ao,Y){this._model.set(ao,Y);},_startScreenTimer:function(ao,Y){var ap=Y;this._view.once("startScreenCreatedChange",function(aq){if(aq.newVal===true){if(ap){ap.setEndTime(am.VP_INIT_TO_STARTSCREEN.type);}}},this);},_startSpinnerTimer:function(aq){var Y=aq,ap=this,au=this._controller,ar=this.constructor.NAME;function at(){if(ap.sTimer!==null&&ap.sTimer!==undefined){clearInterval(ap.sTimer);ap.sTimer=null;}}function ao(){var av=new f.VideoPlatform.ErrorObject(c.ERROR.SPINNER.type,c.ERROR.SPINNER.code,ar,"ps="+Y.get("playerState")+";as="+Y.get("yvapState"),c.LEVEL.WARNING);au.warn(av);at();}Y.on("isSpinnerShownChange",function(aw){var av=this.get("spinnerTimeout")*1000;if(aw.newVal===true){ap.sTimer=setTimeout(ao,av);}else{at();}},this);},_autoplayTimer:function(aw,ay){var aq=aw,av=ay,ao=new l({model:aq});function at(){ao.stop(am.VP_INIT_TO_START.type,am.VP_INIT_TO_START.desc);ao=null;if(av){av.setEndTime(am.VP_INIT_TO_START.type);}}function ar(){aq.once("yvapStateChange",ax,this);}function ap(){aq.after("isPlayingChange",Y,this);}function ax(az){switch(az.newVal){case YVAPEvents.AD_START:case YVAPEvents.AD_PROGRESS:at();break;case YVAPEvents.AD_NONE:case YVAPEvents.AD_ERROR:case YVAPEvents.PLUGIN_REMOVED:case YVAPEvents.AD_COMPLETE:case YVAPEvents.AD_END:ap();break;}}function Y(az){if(az.newVal===true){at();aq.detach("isPlayingChange",Y,this);}}ar();ao.setStartTime(this._vpInitTime);function au(){ap();aq.detach("yvapStateChange",ax,this);}if(aq.get("YVAPRequired")===false){au();}else{aq.once("YVAPRequiredChange",function(az){if(az.newVal===false){au();}},this);}}});f.augment(al,n);f.namespace("VideoPlatform").VideoPlayer=al;function c(Y,ao,aq,ap,ar){this.type=Y||"";this.code=ao||"";this.src=aq||"";this.message=ap||"";this.level=ar||c.LEVEL.WARNING;return this;}c.ERROR={CMS_REQUEST:{type:"400",code:"101"},CMS_RESPONSE:{type:"400",code:"405"},CMS_RESPONSE_LOADCLIPS_STREAMS:{type:"401",code:"405"},CMS_RESPONSE_LOADCLIPS_META:{type:"402",code:"405"},CMS_RESPONSE_LOADCLIPS_MULTI:{type:"403",code:"405"},CMS_RESPONSE_LOADCLIPS_ALL:{type:"404",code:"405"},CMS_RESPONSE_LOADPLAYLIST:{type:"405",code:"405"},CMS_RESPONSE_LOADRELATED:{type:"406",code:"405"},CMS_RESPONSE_CLOSED_CAPTION:{type:"407",code:"405"},CMS_TIMEOUT:{type:"400",code:"408"},CMS_TIMEOUT_LOADCLIPS_STREAMS:{type:"401",code:"408"},CMS_TIMEOUT_LOADCLIPS_META:{type:"402",code:"408"},CMS_TIMEOUT_LOADCLIPS_MULTI:{type:"403",code:"408"},CMS_TIMEOUT_LOADCLIPS_ALL:{type:"404",code:"408"},CMS_TIMEOUT_LOADPLAYLIST:{type:"405",code:"408"},CMS_TIMEOUT_LOADRELATED:{type:"406",code:"408"},CMS_TIMEOUT_CLOSED_CAPTION:{type:"407",code:"408"},PLAYBACK:{type:"400",code:"100"},CONFIG:{type:"400",code:"300"},NO_FLASH:{type:"400",code:"200"},OLD_FLASH:{type:"400",code:"201"},FLASH_BLOCKER_SNR_1:{type:"400",code:"202"},FLASH_BLOCKER_SNR_12:{type:"400",code:"203"},FLASH_BLOCKER_SNR_2:{type:"400",code:"204"},FLASH_BLOCKER_SNR_3:{type:"400",code:"206"},FLASH_BLOCKER_SNR_4:{type:"400",code:"207"},NO_CONFIG:{type:"400",code:"300"},FAILED_PRIMARY:{type:"407",code:"100"},YUI_INTEGRATION_ERR:{type:"400",code:"301"},NO_CONTENT:{type:"500",code:"0"},STREAM_NOT_PLAYABLE:{type:"501",code:"0"},NO_PLAYLIST_CONTENT:{type:"502",code:"0"},NO_RELATED_CONTENT:{type:"503",code:"0"},NO_POPULAR_CONTENT:{type:"504",code:"0"},NO_CLOSED_CAPTION_CONTENT:{type:"505",code:"0"},CMS_TIMEOUT_LOADCLIPS_ALL_RETRY:{type:"204",code:"408"},CMS_TIMEOUT_LOADPLAYLIST_RETRY:{type:"205",code:"408"},CMS_TIMEOUT_LOADRELATED_RETRY:{type:"206",code:"408"},GET_USER_PREFS_TIMEOUT:{type:"207",code:"408"},STORE_CAPTION_SETTINGS_TIMEOUT:{type:"208",code:"408"},STORE_WATCHHISTORY_TIMEOUT:{type:"209",code:"408"},CMS_REQUEST_LOADCLIPS_ALL_RETRY:{type:"204",code:"101"},CMS_REQUEST_LOADPLAYLIST_RETRY:{type:"205",code:"101"},CMS_REQUEST_LOADRELATED_RETRY:{type:"206",code:"101"},GET_USER_PREFS_REQUEST:{type:"207",code:"101"},STORE_CAPTION_SETTINGS_REQUEST:{type:"208",code:"101"},STORE_WATCHHISTORY_REQUEST:{type:"209",code:"101"},COMSCORE_STREAMSENSE_TIMEOUT:{type:"210",code:"101"},COMSCORE_STREAMSENSE_ERROR:{type:"211",code:"101"},GET_USERPREFS_RESP:{type:"207",code:"102"},STORE_CAPTION_RESP:{type:"208",code:"102"},STORE_WATCHHISTORY_RESP:{type:"209",code:"102"},CMS_METRICS_VALIDATION:{type:"200",code:"100"},SPINNER:{type:"200",code:"305"},FLASH_BLOCKED:{type:"200",code:"202"},FLASH_WARNING:{type:"207",code:"0"}};c.LEVEL={CRITICAL:"critical",WARNING:"warning"};f.namespace("VideoPlatform").ErrorObject=c;function M(){}M.Events={VP_CONSTRUCTOR:{type:"tcons",desc:"VideoPlayer Constructor",color:"green",qosMetric:true},MVC_CONSTRUCTORS:{type:"tmvccons",desc:"VideoPlayer MVC constructors",color:"white",qosMetric:false},VP_SETUP_API:{type:"tsetupapi",desc:"Before controller init",color:"white",qosMetric:false},INIT_TO_LOAD_PLAYLIST:{type:"titlpl",desc:"Controller init to load playlist (Begin state to Init state)",color:"white",qosMetric:false},PLAYLIST_LOADED:{type:"tploaded",desc:"Playlist loaded",color:"darkcyan",qosMetric:true},SAPI_LOADCLIPS:{type:"tsapic",desc:"SAPI request for clips",color:"darkcyan",qosMetric:true},RENDER_NODE_AVAILABLE:{type:"trnodeavail",desc:"Player Render API waiting for node to be available",color:"hotpink",qosMetric:true},CREATE_RENDERER:{type:"trcreate",desc:"Creating the renderer (swf/html)",color:"hotpink",qosMetric:true},WAITING_FOR_LOADED:{type:"twfl",desc:"Waiting for isLoaded to start controller.prepare()",color:"white",qosMetric:false},YSWF_READY:{type:"tswfr",desc:"Player SWF is ready",color:"royalblue",qosMetric:true},YSWF_NodeRendered:{type:"tfoins",desc:"Inserted flash object tag",color:"white",qosMetric:true},YSWF_LOADED:{type:"tfdl",desc:"Flash Download (Browser creates plugin, SWF is downloaded, Flex FW is initialized)",color:"white",qosMetric:true},YSWF_SWF_ONLY_INIT_TIME:{type:"tswfoi",desc:"Player SWF init time",color:"white",qosMetric:true},CMS_GetStreams:{type:"tcmsgs",desc:"SAPI Get Streams",color:"darkcyan",qosMetric:false},YVAP_READY:{type:"tyvapr",desc:"VideoAdPlugin is ready",color:"saddlebrown",qosMetric:true},VP_PREPARED:{type:"tprep",desc:"Player prepared",color:"hotpink",qosMetric:true},YVAP_ADSTARTED:{type:"tyvapads",desc:"Ad Started",color:"saddlebrown",qosMetric:true},YVAP_NOAD:{type:"tyvapadn",desc:"Ad None",color:"saddlebrown",qosMetric:true},YVAP_ERROR:{type:"tyvape",desc:"Ad Error",color:"saddlebrown",qosMetric:true},SAPI_LOADPLAYLIST:{type:"tsapilp",desc:"SAPI Get for playlists",color:"darkcyan",qosMetric:true},SAPI_LOADRELATED:{type:"tsapilr",desc:"SAPI Get for related videos",color:"darkcyan",qosMetric:true},YQL_LOAD_CC:{type:"tyqlcc",desc:"SAPI call to load closed captions",color:"darkcyan",qosMetric:true},GET_USER_PREFS:{type:"tgetcc",desc:"YQL+ call to get captions preferences",color:"darkcyan",qosMetric:true},SET_CC_PREF:{type:"tsetcc",desc:"YQL+ call to set captions preferences",color:"darkcyan",qosMetric:false},SET_WATCH_HISTORY:{type:"tsetwh",desc:"YQL+ call to save watch history",color:"darkcyan",qosMetric:false},VP_CLICK_TO_START:{type:"ttsapf",desc:"Player click to playback start",color:"hotpink",qosMetric:true},VP_MEDIA_CHANGE:{type:"tvpmc",desc:"Player media change to Playback Start",color:"hotpink",qosMetric:true},VP_INIT_TO_START:{type:"ttsapt",desc:"VideoPlayer init to Playback Start",color:"red",qosMetric:true},VP_INIT_TO_STARTSCREEN:{type:"titssc",desc:"VideoPlayer init to StartScreen Rendered",color:"red",qosMetric:true},AD_PLUGIN_QOS_METRIC:{type:"qaplc",desc:"Ad Plugin QOS metric",color:"saddlebrown",qosMetric:false},STREAM_REQUEST_TO_RENDER:{type:"treqtr",desc:"Stream Latency (From request to render)",color:"purple",qosMetric:true},PREPARING_STREAM_LOAD:{type:"tpml",desc:"Preparing for manifest file loading",color:"white",qosMetric:true},HLS_MASTER_PLAYLIST_LOAD:{type:"thmpl",desc:"HLS Master Playlist load time",color:"white",qosMetric:true},HLS_LEVEL_PLAYLIST_LOAD:{type:"thlpl",desc:"HLS Level Playlist load time",color:"white",qosMetric:true},HLS_TIME_TO_FIRST_BYTE:{type:"ttfb",desc:"HLS Time to first byte of first fragment",color:"white",qosMetric:true},STREAM_LOADED:{type:"tstreaml",desc:"Media Stream Loaded",color:"white",qosMetric:true},STREAM_PLAY_TO_RENDER:{type:"tsltps",desc:"Media playback start to video render",color:"white",qosMetric:true}};
f.namespace("VideoPlatform").QOS=M;var am=M.Events;function P(){P.superclass.constructor.apply(this,arguments);}P.SERVICES={ULT:"ult",YWA:"ywa",COMSCORE:"cs",QOS:"qos"};P.NAME="MetricsModule";P.NS="metricsModule";P.ATTRS={model:{value:null},controller:{value:null},view:{value:null},service:{value:null},eventMap:{value:{}},allowedEvents:{value:{"PAGE_VIEW":"PAGE_VIEW","PAGE_UNLOAD":"PAGE_UNLOAD","PLAYER_LOADED":"PLAYER_LOADED","VIDEO_LOADED":"VIDEO_LOADED","PLAYBACK_REQUEST":"PLAYBACK_REQUEST","PLAYBACK_START":"PLAYBACK_START","PLAYBACK_PAUSE":"PLAYBACK_PAUSE","PLAYBACK_RESUME":"PLAYBACK_RESUME","PLAYBACK_COMPLETE":"PLAYBACK_COMPLETE","DISPLAY_ENDSCREEN":"DISPLAY_ENDSCREEN","PLAYBACK_PROGRESS":"PLAYBACK_PROGRESS","PLAYBACK_SEEK":"PLAYBACK_SEEK","PLAYER_FULLSCREEN":"PLAYER_FULLSCREEN","PLAYER_ERR":"PLAYER_ERR","AD_START":"AD_START","AD_PROGRESS":"AD_PROGRESS","AD_PAUSE":"AD_PAUSE","AD_RESUME":"AD_RESUME","AD_END":"AD_END","CLICK_PLAY":"CLICK_PLAY","CLICK_PAUSE":"CLICK_PAUSE","CLICK_INFO":"CLICK_INFO","CLICK_FULLSCREEN":"CLICK_FULLSCREEN","CLICK_VOL_BTN":"CLICK_VOL_BTN","CLICK_VOL_SLIDER":"CLICK_VOL_SLIDER","CLICK_SEEKBAR":"CLICK_SEEKBAR","CLICK_THUMB":"CLICK_THUMB","CLICK_LINK":"CLICK_LINK","CLICK_EMBED":"CLICK_EMBED","CLICK_SHARE":"CLICK_SHARE","UI_INTERACT":"UI_INTERACT","YVAP_ADSTARTED":"YVAP_ADSTARTED","YVAP_NOAD":"YVAP_NOAD","YVAP_ERROR":"YVAP_ERROR","VP_CLICK_TO_START":"VP_CLICK_TO_START","VP_MEDIA_CHANGE":"VP_MEDIA_CHANGE","VP_INIT_TO_START":"VP_INIT_TO_START","VP_INIT_TO_STARTSCREEN":"VP_INIT_TO_STARTSCREEN","AD_PLUGIN_METRIC":"AD_PLUGIN_METRIC","AD_PLUGIN_QOS_METRIC":"AD_PLUGIN_QOS_METRIC","SAPI_LOADRELATED":"SAPI_LOADRELATED","YQL_LOAD_CC":"YQL_LOAD_CC","SET_CC_PREF":"SET_CC_PREF","SET_WATCH_HISTORY":"SET_WATCH_HISTORY","UI_MODULE_VIEW":"UI_MODULE_VIEW","LIVE_CDN_FAILOVER":"LIVE_CDN_FAILOVER"}},YWAProjectId:{value:"115488662",validator:f.Lang.isString},playerBeacons:{value:[],validator:f.Lang.isArray},isAd:{value:false,validator:f.Lang.isBoolean}};f.extend(P,f.Base,{initializer:function(Y){this._tokenMap={"YUI_VERSION":"","YUI_UA":"","FLASH_VERSION":"","COUNTRY_LANGUAGE_CODE":"","FULL_USER_AGENT":"","VIDEO_CLIP_ID":"","VIDEO_LENGTH":"","VIDEO_TITLE":"","ARTIST_NAME":"","GENRE":"","VIDEO_WATCHED_PERCT":"","PAGE_SPACE_ID":"","CONFIG_PSPID":"","REPORTING_DOMAIN":"","YVAP_ACCOUNT_ID":"","PLAYER_ERR_CODE":"","PLAYER_ERR_TYPE":"","PLAYER_ERR_MSG":"","YLT":"","PLAY_GUID":"","PLYR_SESS_GUID":"","CCM_PLAYLIST_ID":"","PLAYLIST_INDEX":"","EVT_NAME":"","VOLUME_LEVEL":"","DEVICE_NAME":"","MAKE":"","MODEL":"","OS":"","AD_ID":"","AD_DURATION":"","AD_LOADED":"","AD_TYPE":"","SECTION_NAME":"","SECTION_LINK_NAME":"","SECTION_LINK_POS":"","SECTION_TITLE":"","SECTION_LINK":"","COMSCORE_C4":"","COMSCORE_C5":"","COMSCORE_C6":"","PLAYER_INT32_GUID":"","MASTERPLAYER_INT32_GUID":"","PAGE_TITLE":"","PAGE_URL":"","PAGE_REFERRER":"","PLAYER_LOCATION":"","STREAM_TYPE":"","SITE":"","REGION":"","JURISDICTION":"","IS_LIVE":"","VIDEO_PLAYBACK_POS":"","VIDEO_SEQ_NUMBER":"","VIDEO_SEQ_START":"","CONTRACTING_PROPERTY":"","LICENSOR_NAME":"","LICENSOR_ID":"","LICENSE_NAME":"","LICENSE_ID":"","PROVIDER_ID":"","PROVIDER_VIDEO_ID":"","PUBLISHER_ID":"","YWA_DPID":"","RANDOM_VALUE":"","YWA_PROJECT_ID":"","PLAYER_HOSTING_ENV":"","PLAYER_BUCKET":"","PLAYER_VERSION":"","PLAYER_WIDTH":"","PLAYER_HEIGHT":"","TIME_PREPARING":"","SAPI_RESPONSE_DELAY":"","PLAYBACK_START_DELAY":"","STATE":"","TIME_STATE":"","EVENT_BEGIN":"","EVENT_END":"","AUTOPLAY":"","SHOW_NAME":"","MEDIA_META_TAGS":"","EXPERIENCE_TYPE":"","EXPERIENCE_NAME":"","EXPERIENCE_BUCKET":"","BITRATE":"","DOWNLOAD_SPEED":"","VIDEO_STREAM":"","RENDERER_TYPE":"","CUSTOM_PARAMS":"","YVAP_ADSTARTED":"","YVAP_NOAD":"","YVAP_ERROR":"","VP_CLICK_TO_START":"","VP_MEDIA_CHANGE":"","VP_INIT_TO_START":"","UI_INTERACT_PAYLOAD":"","SAPI_LOADRELATED":"","YQL_LOAD_CC":"","SET_CC_PREF":"","SET_WATCH_HISTORY":"","CONTINUOUS_PLAY":"","CONTINUOUS_PLAY_COUNT":"","CMS_STATUS_CODE":"","VIDEO_TYPE":"","VSA_CELL_NO":"","AUTOCONTINUE":"","VIDEO_PREFETCH":"","RETRY_COUNT":"","HD_AVAILABLE":"","PROGRESS":"","BUFFERING_TIME":"","BANDWIDTH":"","PAGE_SID":"","SYNDICATION":"","LINK_CONTEXT":"","VIDEO_CONTEXT":"","UI_INTERACT_VIDEO_POSITION":"","UI_INTERACT_CLICK_POSITION":"","STREAM_PROTOCOL":"","LIVE_MODE":"","CONTENT_DIST_NET":"","MATURE_CONTENT":""};this._comscorePersistentLabels={};this._currentIndex=0;this._contentIndex=null;this._partNumber=0;this.Constants={"PROG_BEACON_LENGTH":10};this._lastValidProgVal=0;this.set("model",Y.model);this.set("controller",Y.controller);this.set("view",Y.view);this.set("service",new f.VideoPlatform.BeaconService());this._seqNum=0;this._seqStart=0;this._progressHandler=null;this._seekStart=0;this._startedFired=false;this._startTime=null;this._startTimer();this._ttPreparing=0;this._ttPreparingEnd=0;this._ttPrepared=0;this._ttStarted=0;this._ttPlaying=0;this._bufferingTime=0;this._bufferingStartTime=0;this._latency=null;this._comscoreBeaconQueue=new f.AsyncQueue();this._continuousPlayCount=0;this._defaultConfigParam="na";this._defaultConfigCDN="atlas";this._defaultIntConfigParam="null";this._defaultComscoreVal="none";this._defaultComscoreIntVal="";this._htmlBitrate=null;this._registerSapiMetrics=null;this._curYvapData={};this._onNetwork=this._isOnNetwork();this._comscoreModule=new u({metricsModule:this,model:Y.model,controller:Y.controller});this.setup();},parseHostingConfig:function(){var Y=f.VideoPlatform.PlayerBeaconList.init();if(Y){this.set("playerBeacons",Y);}else{}},_deferBeacons:function(ao){var Y=this.get("model"),at=YVAPEvents,ap=ao;function ar(){Y.after("playerStateChange",aq,this);}function au(av){switch(av.newVal){case at.AD_START:ap.run();break;case at.AD_NONE:case at.AD_ERROR:ar();break;}}function aq(av){switch(av.newVal){case ad.STARTED:case ad.ERROR:ap.run();Y.detach("playerStateChange",aq,this);break;}}ap.pause();if(Y.get("YVAPRequired")===true){Y.once("yvapStateChange",au,this);}else{ar();}},fireComscoreBeacons:function(){var ao=this,ap=ao._comscoreBeaconQueue,Y=ao._comscoreModule.getStreamingTag();
if(Y){ap.run();}},addToComscoreQueue:function(aq){var ao=this,ap=ao._comscoreBeaconQueue,Y=ao._comscoreModule.getStreamingTag();ap.add(aq);if(Y){ao.fireComscoreBeacons();}},setup:function(){this.parseHostingConfig();this.parse(this.get("playerBeacons"));if(this.get("model")){var Y=this.get("model"),ao=this;this.setupHandlers();Y.after("isInitializedChange",function(aq){var ap=aq.newVal;if(ap){ao._evalStaticTokens();ao._setComscorePersistentLabels();if(!f.Object.getValue(window,["YAHOO","VideoPlatform","Metrics","PageView"])){ao._tokenMap.MASTERPLAYER_INT32_GUID=ao._tokenMap.PLAYER_INT32_GUID;f.Object.setValue(window,["YAHOO","VideoPlatform","Metrics"],{"PageView":null,"MasterPlayer":null});f.Object.setValue(window,["YAHOO","VideoPlatform","Metrics","MasterPlayer"],ao._tokenMap.PLAYER_INT32_GUID);f.Object.setValue(window,["YAHOO","VideoPlatform","Metrics","PageView"],true);ao.process(ao.get("allowedEvents").PAGE_VIEW);}else{ao._tokenMap.MASTERPLAYER_INT32_GUID=f.Object.getValue(window,["YAHOO","VideoPlatform","Metrics","MasterPlayer"]);}ao.process(ao.get("allowedEvents").PLAYER_LOADED);}},this);Y.after("beaconsChange",function(ap){ao.remove(ap.prevVal);ao.parse(ap.newVal);},this);Y.on("volumeChange",function(ar){var aq,ap=this;aq=ar.newVal;if(aq){ap.addToComscoreQueue(function(){ap._comscoreModule.updateClipAttrs({"ns_st_vo":(aq*100).toString()});});}},this);Y.after("currentMediaChange",function(ar){var aE=this,aC,aF,ap,ay=aE._defaultComscoreVal,aB=aE._defaultComscoreIntVal,at=Y.get("site"),av=Y.get("site_analytics"),az,aD,ax,aq,aA,aw,au;au=ar.newVal;aE._currentIndex=0;aE._contentIndex=null;aE._partNumber=0;if(f.Lang.isValue(ar.prevVal)){aC=ar.prevVal.get("metrics.beacons");ao.remove(aC);}if(Y.get("rendererType")==="html"){aA="h";}else{aA="f";}if(this._registerSapiMetrics){this._registerSapiMetrics.detach();}if(f.Lang.isValue(au)){aF=au.get("metrics.beacons");if(f.Lang.isValue(aF)&&f.Lang.isArray(aF)&&aF.length>0){ao.parse(aF);}this._registerSapiMetrics=au.on("metricsChange",this.registerSapiMetrics,this);}this._startedFired=false;ap=au.get("licenseId")||ay;az=au.get("comscoreC6")||"*null";aw=au.get("isLive");if(aw){aD=f.VideoPlatform.Utils.getMediaCDNName(au);}else{if(aw===false){aD="atlas";}}ax=au.get("streamProtocol")||ay;aq=au.get("streanType")||ay;aE.addToComscoreQueue(function(){aE._comscoreModule.setPlaylist({"y_lms":ap,"c6":az,"y_c":aD,"y_sp":ax,"y_stype":aq,"ns_st_pl":au.get("title")||ay,"ns_st_cs":(Y.get("width")&&Y.get("height"))?Y.get("width")+"x"+Y.get("height"):ay,"y_st":av?av.toLowerCase():(at?at.toLowerCase():ay),"y_rg":Y.get("region")?Y.get("region").toLowerCase():ay,"y_lc":!aE._isOnNetwork()?"Emb offNet":(aE._isIFrame()?"Emb onNet":"onProp"),"y_pb":Y.get("hostingData.bucket")||ay});});if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}au.once("mediaInfoChange",function(aH){var aG;if(aH.newVal&&aH.newVal.currentStreamBitrate){aG=aH.newVal.currentStreamBitrate.toString();}else{aG=aB;}aE.addToComscoreQueue(function(){aE._comscoreModule.updateClipAttrs({"ns_st_br":aG});});},this);},this);Y.before("playerStateChange",function(ap){switch(ap.newVal){case ad.PREPARING:this._ttPreparing=this._getElapsedTime();break;case ad.PREPARED:this._ttPrepared=this._getElapsedTime();break;case ad.STARTED:if(!this._startedFired){this.setComscoreVideoClipLabels();}this._ttStarted=this._getElapsedTime();break;case ad.POSTSTARTED:this._ttPoststarted=this._getElapsedTime();break;}if(ap.prevVal===ad.PREPARING){this._ttPreparingEnd=this._getElapsedTime();}},this);}},setComscoreVideoClipLabels:function(){var aw=this,az=aw.get("model"),ap=az.get("currentMedia"),aA=ap?ap.get("mediaInfo"):null,ao=az.get("pageSpaceId"),aB=aw._defaultComscoreVal,aD=aw._defaultComscoreIntVal,au=K.fixedEncodeURIComponent,ay,aC="vod short",aG="vc11",av="0",aE,aF,ax,ar,Y,at,aq;if(f.Lang.isNull(aw._contentIndex)){aw._currentIndex++;aw._contentIndex=aw._currentIndex;}if(!f.Lang.isValue(ap.get("id"))&&f.Lang.isValue(ap.get("streamUrl"))){aF=K.generateHashCode(ap.get("streamUrl"),"custom");}else{aF=ap.get("id")||aB;}aE=++aw._partNumber;ax=(ap&&ap.get("credits"))?ap.get("credits").main_artists:null;ar=(ap&&ap.get("credits"))?ap.get("credits").label:aB;ay={"ns_st_pr":ap.get("title")||aB,"ns_st_ep":ap.get("showName")||ap.get("licenseName")||aB,"ns_st_ge":this._getSingleGenre(ap)||aB,"ns_st_cu":this._trimLongUrls(K.getHostUrl()),"ns_st_vo":az.get("mute")?"0":(az.get("volume")*100).toString(),"ns_st_cn":aw._contentIndex,"ns_st_ci":aF,"y_pid":ap.get("provider.provider_id")||aB,"y_lbl":ar?ar.toString():aB,"ns_st_pn":aE,"y_art":ax?ax.toString():aB,"y_pvid":ap.get("provider.provider_video_id")||aB,"y_s":ao?ao.toString():aB,"y_ap":az.get("autoplay")?"1":"0"};Y=ap.get("duration")||null;if(ap.get("duration")&&ap.get("duration")>600){aG="vc12";aC="vod long";}if(ap.get("isLive")){at=encodeURIComponent(ap.get("eventBeginTime")||null);aq=encodeURIComponent(ap.get("eventEndTime")||null);Y=(at&&aq)?(aq-at):null;ay.ns_st_li="1";aC="live";aG="vc23";}else{if(ap.get("streamUrl")){aC="streamurl";}}ay.ns_st_ty=aC;ay.ns_st_ct=aG;ay.ns_st_cl=Y?(Y*1000).toString():aD;if(az.get("loopingTriggered")){aw.addToComscoreQueue(function(){aw._comscoreModule.setClip(ay,true);});}else{aw.addToComscoreQueue(function(){aw._comscoreModule.setClip(ay);});}},registerSapiMetrics:function(Y){var ao=Y.newVal.beacons;if(f.Lang.isValue(ao)&&f.Lang.isArray(ao)&&ao.length>0){this.parse(Y.newVal.beacons);}},parse:function(ao){var at=this.get("eventMap"),aq=this.get("allowedEvents"),Y=this.get("model"),ar=Y.get("hostingData.bucket"),ap=this;if(f.Lang.isArray(ao)&&ao.length>0){f.each(ao,function(au){if(!ap._validateBeacon(au)){return;}if(au.target===P.SERVICES.ULT&&!ap._onNetwork){au.urlTemplate+="&_NOL=1";au.urlTemplate+="&_ex=1";}if(f.Lang.isNumber(au.samplePerct)&&(!f.Lang.isNumber(ar)||au.samplePerct<ar)){return;}f.each(au.events,function(ay){var aw=ay.name,aC=ay.param||"",ax=at[aw],aA=au.action||"",az=au.data||"",aB=au.target||"",av={url:au.urlTemplate,target:aB};
if(aw in at){if(aA==="add"&&az){f.each(ax,function(aD){if(aD.target===aB){aD.url=aD.url+"&"+az+aC;}});}else{at[aw].push(av);}}else{if(aw in aq){at[aw]=new Array(av);}else{}}});});}},_validateBeacon:function(Y){if(!f.Lang.isObject(Y,true)){return false;}if(f.Lang.isValue(Y.urlTemplate)&&f.VideoPlatform.Utils.validateUrl(Y.urlTemplate)){return true;}if(f.Lang.isValue(Y.action)&&Y.action.length>0&&f.Lang.isValue(Y.data)&&Y.data.length>0){return true;}return false;},remove:function(Y){var ao=this.get("eventMap");if(f.Lang.isArray(Y)&&Y.length>0){f.each(Y,function(ap){var ar=ap.data||"",aq=ap.action||"",at=ap.urlTemplate||"";f.each(ap.events,function(aw){var av=aw.name,ax=aw.param||"",au=ar+ax,ay=ao[av];if(f.Lang.isArray(ay)){if(aq==="add"&&au){au="&"+au;f.each(ay,function(az){az.url=az.url.replace(au,"");});}else{if(at){ay.splice(f.Array.indexOf(ay,ap.urlTemplate),1);}}}});});}},setupHandlers:function(){var at=this.get("allowedEvents"),ao=this._tokenMap,Y=this.get("model"),au={},av,aq=Y.get("profileData"),ap=this.get("view"),ar;Y.after("isPlayingChange",function(az){var ax=this,ay,aw=ax._defaultComscoreIntVal;if(az.newVal){if(this._startedFired){this.process(at.PLAYBACK_RESUME);ay=(Y.get("playbackPosition")*1000).toString();ax.addToComscoreQueue(function(){ax._comscoreModule.notifyState("play",{},ay);});}else{this._ttPlaying=this._getElapsedTime();this._seqNum=1;this._seqStart=Y.get("playbackPosition");if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._progressHandler=this._startProgressPolling(this._seqStart,Y.get("currentMedia").get("duration"));if(Y.get("continuousPlay")){++this._continuousPlayCount;}this._htmlBitrate=ap.videoRenderer.get("streamBitrate")||null;if(Y.get("autoplay")){ax.addToComscoreQueue(function(){ax._comscoreModule.updateClipAttrs({"y_apl":ax._latency?ax._latency.toString():aw});});}else{ax.addToComscoreQueue(function(){ax._comscoreModule.updateClipAttrs({"y_ucl":ax._latency?ax._latency.toString():aw});});}ax.addToComscoreQueue(function(){ax._comscoreModule.notifyState("play",{},(ax._seqStart*1000).toString());});this.process(at.PLAYBACK_START);this._startedFired=true;}}},this);au[ad.PREPARED]=at.PLAYBACK_REQUEST;au[ad.LOADED]=at.VIDEO_LOADED;au[ad.PAUSED]=at.PLAYBACK_PAUSE;au[ad.PLAYBACKCOMPLETE]=at.PLAYBACK_COMPLETE;Y.on("playerStateChange",function(aw){var aF=this,ax,ay,aA,aD,aB,aG,aC=aF._defaultComscoreVal,az,aE=aF._defaultComscoreIntVal;az=(Y.get("playbackPosition")*1000).toString();if(aw.newVal in au){if(aw.newVal===ad.PLAYBACKCOMPLETE){ax=Y.get("currentMedia");aA=ax?ax.get("mediaInfo"):null;ay=aA?aA.currentStreamBitrate:null;this._startedFired=false;if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}aD=Y.get("playlistPosition")+1;aB=Y.get("playlist").items();aG=aB?aB.size():0;if(Y.get("loop")||(Y.get("continuousPlay")&&aD<aG)){aF.addToComscoreQueue(function(){aF._comscoreModule.notifyState("end",{"ns_st_br":ay?ay.toString():aE},az);});}else{aF.addToComscoreQueue(function(){aF._comscoreModule.notifyState("end",{"ns_st_pe":"1","ns_st_br":ay?ay.toString():aE},az);});}}if(aw.newVal===ad.PAUSED){aF.addToComscoreQueue(function(){aF._comscoreModule.notifyState("pause",{},az);});}this.process(au[aw.newVal]);}},this);Y.on("activeScreenStrChange",function(aw){if(aw.newVal==="endScreen"){this.process(at.DISPLAY_ENDSCREEN);}},this);Y.after("isWaitingChange",function(ay){var aw=this,ax;ax=(Y.get("playbackPosition")*1000).toString();if(ay.newVal===false){if(Y.get("ignoreBuffering")===false){this._bufferingTime+=this._getElapsedTime()-this._bufferingStartTime;aw.addToComscoreQueue(function(){aw._comscoreModule.notifyState("play",{},ax);});}else{this._bufferingTime=0;}}else{if(Y.get("ignoreBuffering")===false){aw.addToComscoreQueue(function(){aw._comscoreModule.notifyState("buffer",{},ax);});}this._bufferingStartTime=this._getElapsedTime();}},this);Y.after("isSeekingChange",function(ax){var aw=this;if(ax.newVal===true&&ax.prevVal===false){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._seekStart=Y.get("playbackPosition");aw.addToComscoreQueue(function(){aw._comscoreModule.notifyState("pause",{"ns_st_ui":"seeking"},(aw._seekStart*1000).toString());});}else{if(ax.newVal===false&&ax.prevVal===true){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._seqNum++;this._seqStart=this._seekStart;this.process(at.PLAYBACK_SEEK);this._seqStart=Y.get("playbackPosition");aw.addToComscoreQueue(function(){aw._comscoreModule.notifyState("play",{"ns_st_ui":"seeking"},(aw._seqStart*1000).toString());});this._progressHandler=this._startProgressPolling(Y.get("playbackPosition"),Y.get("currentMedia").get("duration"));}}},this);av={"controlsPlayButton":at.CLICK_PLAY,"controlsPauseButton":at.CLICK_PAUSE,"controlsInfoButton":at.CLICK_INFO,"controlsFullscreenButton":at.CLICK_FULLSCREEN,"controlsVolumeButton":at.CLICK_VOL_BTN,"controlsVolumeSlider":at.CLICK_VOL_SLIDER,"controlsSeekBar":at.CLICK_SEEKBAR,"startscreenPlay":at.CLICK_PLAY,"infoscreenThumb":at.CLICK_THUMB,"infoscreenLink":at.CLICK_LINK,"infoscreenEmbed":at.CLICK_EMBED,"infoscreenFacebook":at.CLICK_SHARE,"endscreenThumb":at.CLICK_THUMB,"endscreenLink":at.CLICK_LINK,"endscreenEmbed":at.CLICK_EMBED,"endscreenFacebook":at.CLICK_SHARE};Y.after("uiInteract",function(aw){if(aw.source in av){if(av[aw.source]===at.CLICK_FULLSCREEN&&!Y.get("fullscreen")){return;}this.process(av[aw.source],aw);}},this);Y.after("uiInteract",function(aw){this.process(at.UI_INTERACT,aw);},this);Y.after("uiInteract",function(aw){if(aw.source.indexOf("pc-vid")>-1||aw.source.indexOf("es-vid")>-1||aw.source==="endscreenReplayButton"){this._continuousPlayCount=0;this._startedFired=false;}},this);Y.after("uiView",function(aw){this.process(at.UI_MODULE_VIEW,aw);},this);Y.after("fullscreenChange",function(aw){if(aw.newVal===true&&aw.prevVal===false){this.process(at.PLAYER_FULLSCREEN);}},this);Y.after("errorChange",function(ax){var aw=ax.newVal;
if(aw){ao.PLAYER_ERR_TYPE=aw.type;ao.PLAYER_ERR_CODE=aw.code;ao.PLAYER_ERR_MSG=K.fixedEncodeURIComponent(aw.message);this.process(at.PLAYER_ERR);}},this);Y.after("cdnChange",function(aw){if(aw){ao.PLAYER_ERR_TYPE=aw.type;ao.PLAYER_ERR_CODE=aw.code;ao.PLAYER_ERR_MSG=K.fixedEncodeURIComponent(aw.message);this.process(at.LIVE_CDN_FAILOVER);}},this);Y.after("warningChange",function(az){if(az.newVal){var aw,ay,ax,aA=az.newVal;if(aA){aw=aA.type;ay=aA.code||"0";ax=aA.message;ao.PLAYER_ERR_TYPE=aw;ao.PLAYER_ERR_CODE=ay;ao.PLAYER_ERR_MSG=K.fixedEncodeURIComponent(ax);this.process(at.PLAYER_ERR);}}},this);Y.after("yvapStateChange",function(aK){var aF=this,ax,aw,ay,aD,aH={},aM,aA,az,aN=this._defaultConfigParam,aG,aB,aJ="ad pre-roll",aE=K.fixedEncodeURIComponent,aC,aI=this._defaultComscoreVal,aL=aF._defaultComscoreIntVal;this._handleAdFlag(aK.newVal);if(aK.newVal==="adProgress"){aA=Y.get("yvapData")?Y.get("yvapData").duration:aI;aF.adClipData.ns_st_cl=(aA*1000).toString();aF.addToComscoreQueue(function(){aF._comscoreModule.setClip(aF.adClipData);aF._comscoreModule.notifyState("play",{},"0");});aF.process(aF.get("allowedEvents").AD_PROGRESS);}if(aK.newVal==="adResume"){aC=(Y.get("adPlaybackPosition")*1000).toString();aF.addToComscoreQueue(function(){aF._comscoreModule.notifyState("play",{},aC);});}if(aK.newVal==="adPause"){aC=(Y.get("adPlaybackPosition")*1000).toString();aF.addToComscoreQueue(function(){aF._comscoreModule.notifyState("pause",{},aC);});}if(aK.newVal==="adError"){this._curYvapData={};ax="300";aw="0";ay=Y.get("yvapData");ay=f.Lang.isObject(ay)?ay:{};aH={};aH[q.TIMEOUT_YUILOAD]="406";aH[q.TIMEOUT_CREATE]="407";aH[q.TIMEOUT_PRE]="408";aH[q.TIMEOUT_POST]="409";aH[q.INIT]="100";aH[q.CREATE]="101";aH[q.SCRIPTING]="501";if(f.Lang.isValue(ay.message)&&ay.message in aH){aw=aH[ay.message];aD=f.Lang.isValue(ay.cause)?ay.cause:aN;}else{if(f.Lang.isValue(ay.type)&&ay.type==="playerPluginLoadError"){aw="404";aD=f.Lang.isValue(ay.message)?ay.message:aN;}}ao.PLAYER_ERR_TYPE=ax;ao.PLAYER_ERR_CODE=aw;ao.PLAYER_ERR_MSG=K.fixedEncodeURIComponent(aD);this.process(at.PLAYER_ERR);}else{if(aK.newVal==="loadError"){this._curYvapData={};ax="300";ay=Y.get("yvapData");if(f.Lang.isObject(ay)&&f.Lang.isValue(ay.cause)){if(ay.cause==="jsLoadingTimeout"){aw="401";}else{aw="400";}ao.PLAYER_ERR_TYPE=ax;ao.PLAYER_ERR_CODE=aw;ao.PLAYER_ERR_MSG=aN;this.process(at.PLAYER_ERR);}}else{if(aK.newVal==="adStart"){this._curYvapData=Y.get("yvapData");this._currentIndex++;aM="va11";console.log("before");az=Y.get("currentMedia");console.log("after");if(az.get("isLive")){aM="va21";}else{if(this._curYvapData&&this._curYvapData.adType==="postroll"){aM="va13";aJ="ad post-roll";}else{if(this._curYvapData&&this._curYvapData.adType==="midroll"){aM="va12";aJ="ad mid-roll";}}}aG=(az&&az.get("credits"))?az.get("credits").main_artists:null;aB=(az&&az.get("credits"))?az.get("credits").label:aI;aF.adClipData={"ns_st_ty":aJ,"ns_st_ct":aM,"ns_st_ad":"1","ns_st_pr":"ad","ns_st_ep":"ad","ns_st_cu":aI,"ns_st_vo":Y.get("mute")?"0":(Y.get("volume")*100).toString(),"ns_st_cn":this._currentIndex,"ns_st_ci":(this._curYvapData&&this._curYvapData.adId)?this._curYvapData.adId:aI,"ns_st_pn":"1","y_pid":az.get("provider.provider_id")||aI,"y_lbl":aB?aB.toString():aI,"y_art":aG?aG.toString():aI,"y_pvid":az.get("provider.provider_video_id")||aI,"y_s":Y.get("pageSpaceId")?Y.get("pageSpaceId").toString():aI,"y_ap":Y.get("autoplay")?"1":"0"};if(Y.get("autoplay")){aF.adClipData.y_apl=aF._latency?aF._latency.toString():aL;}else{aF.adClipData.y_ucl=aF._latency?aF._latency.toString():aL;}this.process(at.AD_START);}else{if(aK.newVal==="adNone"){this._curYvapData={};}else{if((aK.prevVal!=="adNone")&&((aK.newVal==="adEnd")||(aK.newVal==="adComplete"))){aC=(Y.get("adPlaybackPosition")*1000).toString();aF.addToComscoreQueue(function(){aF._comscoreModule.notifyState("end",{},aC);});this.process(at.AD_END);}}}}}},this);f.Event.attach("unload",function(){this.process(at.PAGE_UNLOAD);this.get("service").stop();},window,this);if(aq){aq.on("itemAdded",function(aw){if(aw.item.type!==am.VP_INIT_TO_START.type&&aw.item.type!==am.VP_CLICK_TO_START.type){this.handleQOSProfiling(aw.item);}},this);}Y.after("adPluginMetricChange",this._handleAdPluginMetric,this);Y.after("adPluginQosMetricChange",this._handleAdPluginQosMetric,this);},_getAdPluginData:function(ap){var ao="",Y=ap.data;f.each(Y,function(ar,aq){ao+="&"+aq+"="+K.fixedEncodeURIComponent(ar);});return ao.replace(/=&/gi,"&").replace(/=$/gi,"");},_handleAdPluginMetric:function(Y){this._tokenMap.CUSTOM_PARAMS=this._getAdPluginData(Y.newVal);this.process(this.get("allowedEvents").AD_PLUGIN_METRIC);},_handleAdPluginQosMetric:function(Y){this._tokenMap.CUSTOM_PARAMS=this._getAdPluginData(Y.newVal);this.process(this.get("allowedEvents").AD_PLUGIN_QOS_METRIC);},handleQOSProfiling:function(aq){var ar=am,ap,ao=this,Y=ao._defaultComscoreIntVal;switch(aq.type){case ar.YVAP_ADSTARTED.type:ap="YVAP_ADSTARTED";break;case ar.YVAP_NOAD.type:ap="YVAP_NOAD";break;case ar.YVAP_ERROR.type:ap="YVAP_ERROR";break;case ar.VP_CLICK_TO_START.type:ap="VP_CLICK_TO_START";ao._latency=aq.timeDiff;break;case ar.VP_MEDIA_CHANGE.type:ap="VP_MEDIA_CHANGE";break;case ar.VP_INIT_TO_START.type:ap="VP_INIT_TO_START";ao._latency=aq.timeDiff;break;case ar.YQL_LOAD_CC.type:ap="YQL_LOAD_CC";break;case ar.SET_CC_PREF.type:ap="SET_CC_PREF";break;case ar.SET_WATCH_HISTORY.type:ap="SET_WATCH_HISTORY";break;}if(ap){this._processQosBeacons(ap,aq);}},fireSAPIBeacons:function(at,ar){var aq=am,ap,ao,Y=this;if(!at){return;}if(at.type===aq.SAPI_LOADRELATED.type){ap="SAPI_LOADRELATED";}if(!f.Lang.isValue(ar)||!ap){return;}for(ao in ar){if(ar.hasOwnProperty(ao)){Y._tokenMap[ao]=ar[ao];}}this._processQosBeacons(ap,at);},_processQosBeacons:function(Y,ao){this._tokenMap.QOS_TIMER_DIFF=ao.timeDiff;this._tokenMap[Y]=ao.timeDiff;if(ao.queryStringExtn){this._tokenMap.QOS_TIME_BREAKUP=ao.queryStringExtn;}this.process(Y);},process:function(aq,at){var ao=this.get("eventMap")[aq],Y=this._tokenMap,ap=this.get("service");
if(typeof ao==="undefined"){return;}try{this._evalDynTokens(at,aq);}catch(ar){}f.each(ao,function(au){ap.set("beaconTemplate",au.url);ap.create(Y);ap.send();});},_setComscorePersistentLabels:function(){var ar=this,ao=ar.get("model"),Y=ar._getTopDocument(),au=ar._defaultComscoreVal,aq=ar._defaultComscoreIntVal,ap=K.fixedEncodeURIComponent,at=ar._comscorePersistentLabels;at.ns_site="yahoo-video";if(ao.get("rendererType")==="html"){at.ns_st_mp="h";}else{at.ns_st_mp="f";}at.ns_st_mv=ao.get("version")||aq;at.c3="*null";at.c4=ao.get("comscoreC4")||aq;at.c7=this._trimLongUrls(Y?Y.URL:document.referrer);at.c9=this._trimLongUrls(Y?(Y.referrer?Y.referrer:au):au);ar.addToComscoreQueue(function(){ar._comscoreModule.setPersistentLabels(at);});},_evalStaticTokens:function(){var at=this.get("model"),aE=this._tokenMap,av=f.Cookie.get("ywadp"+this.get("YWAProjectId")),au,aD=K.getDeviceInfo(),aA=this._getTopDocument(),ay=this._defaultConfigParam,ax=K.fixedEncodeURIComponent,Y=at.get("site"),ar=at.get("site_analytics"),ao=at.START_TIME,az=typeof window.performance==="object"&&window.performance.timing||{},aw=az.fetchStart||null,aq=az.responseStart||null,ap=az.responseEnd||null,aC;aE.YUI_VERSION=f.version;aE.YUI_UA=K.getYUIUserAgent();aE.FLASH_VERSION=(at.get("rendererType")==="flash")?ax(this._getFlashVersionString()):ay;aE.COUNTRY_LANGUAGE_CODE=ax(String(at.get("lang")).toLowerCase());aE.FULL_USER_AGENT=ax(f.UA.userAgent);aE.PAGE_SPACE_ID=ax(at.get("pageSpaceId"));aE.CONFIG_PSPID=ax(at.get("config.pageSpaceId"));aE.YVAP_ACCOUNT_ID=ax(at.get("YVAP.accountId")||ay);aE.PLYR_SESS_GUID=ax(at.get("guid"));aE.COMSCORE_C4=ax(at.get("comscoreC4")||"");aE.PLAYER_INT32_GUID=Math.floor(Math.random()*4294967295);aE.PAGE_TITLE=ax(aA?aA.title:"unavailable");aE.PAGE_REFERRER=ax(this._trimLongUrls(aA?aA.referrer:"unavailable"));aE.SITE=ax(ar?ar.toLowerCase():(Y?Y.toLowerCase():ay));aE.REGION=ax(at.get("region")?at.get("region").toLowerCase():ay);aE.JURISDICTION=ax(at.get("jurisdiction")||ay);aE.BANDWIDTH=f.Cookie.getSub("BA","ba");aC=at.get("pageLatency");aC=typeof aC==="object"?aC:{};aE.PAGE_PLAYERJS_DL_START=ax(aC.pagePlayerJsDownloadStart||ay);aE.PAGE_PLAYERJS_DL_TIME=ax(aC.pagePlayerJsDownloadTime||ay);aE.PAGE_MEDIA_ITEM_PREFETCH_TIME=ax(aC.pageMediaItemPrefetchTime||ay);aE.LIVE_MODE="na";aE.CONTENT_DIST_NET="na";aE.PAGE_LATENCY=az?ax((ao?(ao-aw):ay)):ay;aE.TIMING_DNS=az?ax(az.domainLookupEnd-az.domainLookupStart):ay;aE.TIMING_CONNECT=az?ax(az.connectEnd-az.connectStart):ay;aE.TIMING_TTFB=az?ax(aq-az.requestStart):ay;aE.TIMING_BASE_PAGE=az?ax(ap-aq):ay;aE.TIMING_FRONTEND=az?ax(az.loadEventStart-ap):ay;aE.PLAYER_LOCATION=!this._isOnNetwork()?"4":(this._isIFrame()?"3":"1");if(!f.Lang.isValue(av)){av=""+Math.floor(Math.random()*4294967295);au=new Date();au.setTime(au.getTime()+94608000000);f.Cookie.set("ywadp"+this.get("YWAProjectId"),av,{expires:au});}aE.YWA_DPID=""+av;aE.YWA_PROJECT_ID=this.get("YWAProjectId");aE.PLAYER_HOSTING_ENV=at.get("hostingData.env")||ay;aE.PLAYER_BUCKET=at.get("hostingData.bucket")||ay;aE.PLAYER_VERSION=at.get("version")||ay;aE.AUTOPLAY=at.get("autoplay")?"true":"false";aE.EXPERIENCE_TYPE=ax(String(at.get("expType")).toLowerCase());aE.EXPERIENCE_NAME=ax(String(at.get("expName")).toLowerCase());aE.EXPERIENCE_BUCKET=ax(at.get("expBucket")?at.get("expBucket").toLowerCase():ay);aE.CONTINUOUS_PLAY=at.get("continuousPlay")?"1":"0";aE.DEVICE_NAME=aD.DEVICE_NAME;aE.MAKE=aD.MAKE;aE.MODEL=aD.MODEL;aE.OS=aD.OS;if(!aE.PAGE_SID){try{if(window.YAHOO&&window.YAHOO.i13n&&window.YAHOO.i13n.currentSID){aE.PAGE_SID=window.YAHOO.i13n.currentSID;}else{aE.PAGE_SID=ay;}}catch(aB){aE.PAGE_SID=ay;}}},_evalDynTokens:function(aW,aP){var aH=this.get("model"),aR=this.get("controller"),ar=this._tokenMap,aN=aH.get("playlist"),aL=aH.get("playlistPosition"),aw=aH.get("playbackPosition"),ax=(aH.get("currentMedia")||aN.items().item((aL>=0)?aL:0)),aT=aH.get("yvapData"),au=(ax&&ax.get("credits"))?ax.get("credits").main_artists:null,aK=(ax?ax.get("duration"):null),aD=(ax?ax.get("comscoreC5"):null),aC=(ax?ax.get("comscoreC6"):null),ao=aH.get("continuousPlay"),aA,aS,aG,aQ,ap,aJ,ay,aM,aE,at,av,aV=this._defaultConfigParam,aO=this._defaultIntConfigParam,az=aO,Y="na-moAvail",aI=this._getTopDocument(),aF=aH.get("hostingData"),aq="",aB=K.fixedEncodeURIComponent,aU;at=aH.get("endScreenVideos");if(at&&at.get("mediaItems")._items){az=aR.getVSAIndex(at.get("mediaItems")._items);ar.VSA_CELL_NO=(az>0)?az:aO;}if(f.Lang.isNumber(aK)){aK=Math.floor(aK);}ar.PAGE_URL=aB(this._trimLongUrls(aI?aI.URL:document.referrer));ar.RANDOM_VALUE=Math.random();if(aH.get("rendererType")==="html"){ar.RENDERER_TYPE="h";}else{ar.RENDERER_TYPE="f";}ar.TIME_PREPARING=this._ttPreparingEnd-this._ttPreparing;aE=this._ttPlaying-this._ttStarted;ar.PLAYBACK_START_DELAY=ar.TIME_PREPARING+aE;ar.STATE=aH.get("playerState");if((aP==="PLAYBACK_START")||(aP==="AD_START")){ar.EVT_NAME="play";}else{if(aP==="PLAYBACK_PAUSE"){ar.EVT_NAME="pause";}else{if((aP==="PLAYBACK_COMPLETE")||(aP==="AD_END")){ar.EVT_NAME="end";}else{ar.EVT_NAME=aV;}}}ar.VOLUME_LEVEL=aH.get("mute")?0:aH.get("volume")*100;ar.AD_TYPE=this._curYvapData.adType?this._curYvapData.adType:aV;ar.AD_LOADED=this._curYvapData.adId?"yes":"no";ar.AD_ID=this._curYvapData.adId?this._curYvapData.adId:aV;ar.AD_DURATION=aT?aT.duration:aO;ar.SYNDICATION=aB(aH.get("synd")||"");ar.SYNDICATION_ID=(ar.SYNDICATION?ar.SYNDICATION.split("-")[0]:"");if(f.Lang.isObject(ax)){if(aP!=="SAPI_LOADCLIPS"&&aP!=="SAPI_LOADPLAYLIST"&&aP!=="SAPI_LOADRELATED"){if(!f.Lang.isValue(ax.get("id"))&&f.Lang.isValue(ax.get("streamUrl"))){ar.VIDEO_CLIP_ID=K.generateHashCode(ax.get("streamUrl"),"custom");}else{ar.VIDEO_CLIP_ID=aB(ax.get("id")||aV);}ar.VIDEO_TITLE=aB(ax.get("title")||Y);if(!ax.get("streamUrl")&&this.get("controller")&&this.get("controller").debugLogVideoTitleNAIssue&&ar.VIDEO_TITLE===Y&&aP!=="PLAYER_ERR"){aU=this.get("isAd")?"ad":(ax.get("isLive")?"live":(ax.get("streamUrl")?"stream":(typeof ax.get("isLive")==="undefined"?aV:"clip")));this.get("controller").debugLogVideoTitleNAIssue(null,null,{model:aH,vt:aU,mediaObj:ax,ev:aP});
}}else{ar.VIDEO_CLIP_ID=aV;ar.VIDEO_TITLE="na-sapi";}if(ar.VIDEO_LENGTH!==""&&ar.VIDEO_LENGTH!==aV){ar.VIDEO_LENGTH=(f.Lang.isValue(aK)&&aK>0&&Math.abs(aK-ar.VIDEO_LENGTH)>2)?aK:ar.VIDEO_LENGTH;}else{ar.VIDEO_LENGTH=f.Lang.isValue(aK)?aK:aV;}av=ax.get("ageGate");ar.ARTIST_NAME=au?au.toString():aV;ar.STREAM_TYPE=ax.get("streamType")||aV;ar.VIDEO_PLAYBACK_POS=f.Lang.isValue(aw)?aw:"0";ar.VIDEO_WATCHED_PERCT=(aK&&aK>0)?Math.floor(100*aw/aK):"0";ar.PLAY_GUID=encodeURIComponent(ax.get("metrics.pls")||aV);ar.COMSCORE_C5=encodeURIComponent(f.Lang.isValue(aD)?aD:"");ar.COMSCORE_C6=encodeURIComponent(f.Lang.isValue(aC)?aC:"");ar.IS_LIVE=ax.get("isLive")?"1":"0";ar.VIDEO_PREFETCH=ax.get("isPreFetched");ar.AUTOCONTINUE=ax.get("autoContinue");ar.CONTRACTING_PROPERTY=encodeURIComponent(ax.get("originatingProperty")||aV);ar.LICENSOR_NAME=encodeURIComponent(ax.get("licensorName")||aV);ar.LICENSOR_ID=encodeURIComponent(ax.get("licensorId")||aV);ar.LICENSE_NAME=encodeURIComponent(ax.get("licenseName")||aV);ar.LICENSE_ID=encodeURIComponent(ax.get("licenseId")||aV);ar.PROVIDER_ID=aB(ax.get("provider.provider_id")||aV);ar.PROVIDER_VIDEO_ID=aB(ax.get("provider.provider_video_id")||aV);ar.PUBLISHER_ID=aB(ax.get("provider.publisher_id")||aV);ar.GENRE=aB(this._getSingleGenre(ax)||aV);ar.EVENT_BEGIN=encodeURIComponent(ax.get("eventBeginTime")||"");ar.EVENT_END=encodeURIComponent(ax.get("eventEndTime")||"");ar.SHOW_NAME=encodeURIComponent(ax.get("showName")||(ax.get("licenseName")||"na"));ar.MEDIA_META_TAGS=encodeURIComponent(ax.get("metrics.metaTags")||aV);ar.BITRATE=ax.get("mediaInfo.currentStreamBitrate")||aV;ar.DOWNLOAD_SPEED=ax.get("mediaInfo.currentKbps")||aV;ar.VIDEO_STREAM=ax.get("mediaInfo.streamUrl")||aV;ar.PLAYER_WIDTH=aB(aH.get("width")||aV);ar.PLAYER_HEIGHT=aB(aH.get("height")||aV);ar.CMS_STATUS_CODE=aB(ax.get("status.code")||aV);ar.STREAM_PROTOCOL=(ax&&ax.get("streamProtocol"))||aV;ar.MATURE_CONTENT=(av==="login"||av==="birthday")?1:0;ar.PLAYLIST_INDEX=aL;if(ax.get("isLive")){aq="_l";}else{if(aF&&aF.bucket<=10){aq="_vod_dc";}}ar.VP_INIT_TO_START_SUFFIX=aq;switch(aP){case"PLAYBACK_PROGRESS":ar.PROGRESS=this.Constants.PROG_BEACON_LENGTH;ar.BUFFERING_TIME=this._bufferingTime;this._lastValidProgVal=aw;this._bufferingTime=0;break;case"PLAYBACK_COMPLETE":ar.PROGRESS=f.Lang.isValue(aK)?(aK-this._lastValidProgVal)%this.Constants.PROG_BEACON_LENGTH:aV;ar.BUFFERING_TIME=this._bufferingTime;this._bufferingTime=0;break;case"PLAYBACK_SEEK":ar.PROGRESS=(f.Lang.isValue(aK)&&this._seqStart!==aK)?this._seqStart-this._lastValidProgVal:aV;this._lastValidProgVal=aw;ar.BUFFERING_TIME=this._bufferingTime;this._bufferingTime=0;break;default:ar.PROGRESS=aV;}if(typeof(aM=ax.get("hdAvailable"))!=="undefined"){ar.HD_AVAILABLE=aM().toString();}else{ar.HD_AVAILABLE=aV;}ay=ax.get("isLive");if(ay){ar.LIVE_MODE=ax.get("failoverState");ar.CONTENT_DIST_NET=f.VideoPlatform.Utils.getMediaCDNName(ax);}else{if(ay===false){ar.LIVE_MODE="na";ar.CONTENT_DIST_NET="atlas";}}if(this.get("isAd")){ar.VIDEO_TYPE="ad";}else{if(ay){ar.VIDEO_TYPE="live";}else{if(ax.get("streamVideoAd")&&aH.get("isVsaEnabled")==="true"){ar.VIDEO_TYPE="vsa";}else{if(ax.get("streamUrl")){ar.VIDEO_TYPE="stream";}else{ar.VIDEO_TYPE=(typeof ay==="undefined")?aV:"clip";}}}}if(ar.BITRATE===aV){ar.BITRATE=(this._htmlBitrate!==null)?this._htmlBitrate:aV;}}else{ar.VIDEO_CLIP_ID=aV;ar.VIDEO_LENGTH=aV;ar.VIDEO_TITLE=aV;ar.STREAM_TYPE=aV;ar.VIDEO_PLAYBACK_POS=aV;ar.VIDEO_WATCHED_PERCT=aV;ar.PLAY_GUID=aV;ar.COMSCORE_C5="";ar.COMSCORE_C6="";ar.IS_LIVE=aO;ar.CONTRACTING_PROPERTY=aV;ar.PUBLISHER_ID=aV;ar.LICENSOR_NAME=aV;ar.LICENSOR_ID=aV;ar.LICENSE_NAME=aV;ar.LICENSE_ID=aV;ar.PROVIDER_ID=aV;ar.PROVIDER_VIDEO_ID=aV;ar.GENRE=aV;ar.EVENT_BEGIN=aO;ar.EVENT_END=aO;ar.SHOW_NAME=aV;ar.BITRATE=aV;ar.DOWNLOAD_SPEED=aV;ar.VIDEO_STREAM=aV;ar.VIDEO_TYPE=aV;ar.VSA_CELL_NO=aO;ar.VIDEO_PREFETCH=aV;ar.AUTOCONTINUE=aV;ar.HD_AVAILABLE=aV;ar.PLAYER_WIDTH=aV;ar.PLAYER_HEIGHT=aV;ar.CMS_STATUS_CODE=aV;ar.PROGRESS=aV;ar.BUFFERING_TIME=aV;ar.PLAYLIST_INDEX=aV;ar.LIVE_MODE=aV;ar.CONTENT_DIST_NET=this._defaultConfigCDN;}ar.VIDEO_SEQ_NUMBER=this._seqNum;ar.VIDEO_SEQ_START=this._seqStart;ar.CONTINUOUS_PLAY=(ao&&aN.items().size()>1)?"1":"0";if(ao){ar.CONTINUOUS_PLAY_COUNT=this._continuousPlayCount;}if(aW){aA={"startscreen":"st","infoscreen":"inf","endscreen":"end","controls":"pb"};aS={"PlayButton":"pl","ReplayButton":"rpl","VSAButton":"vsapl","Play":"pl","PauseButton":"ps","InfoButton":"inf","SeekBar":"sk","VolumeSlider":"vol","FullscreenButton":"fs","Link":"lk","Embed":"emb","Facebook":"facebook","View":"view"};aJ={"Facebook":"btn-sh-fb","Tumblr":"btn-sh-tumblr","Twitter":"btn-sh-twitter","Mail":"btn-sh-email","Embed":"btn-sh-emb","Link":"btn-sh-emb-lnk","EmbedLink":"btn-sh-emb-emb"};aG=aW.source.match(/^([^A-Z\-]*)(?:\-?)(.*)/);aQ=aA[aG[1]];ap=aS[aG[2]];if(aG[2]==="VolumeButton"){ap=aH.get("mute")?"mt":"un-mt";}else{if(aG[2]==="Thumb"){ap=(aG[1]==="endscreen")?"rpl":"pl";}}if(aQ==="end"&&(ap==="pl"||ap==="vsapl")){ap="vid-"+aW.index;}ar.SECTION_NAME=(aQ)?aQ:"pb";ar.SECTION_LINK_NAME=(ap)?ap:aV;if(f.Lang.isUndefined(aJ[aG[2]])){ar.SECTION_TITLE="ctrl";ar.SECTION_LINK=aW.source;}else{ar.SECTION_TITLE="sh";ar.SECTION_LINK=aJ[aG[2]];}switch(aW.source){case"controlsCCButton":ar.UI_INTERACT_PAYLOAD="cc-"+((aW.selected===true)?"1":"0");break;case"endscreenPlayButton":ar.UI_INTERACT_PAYLOAD="es-"+ar.SECTION_LINK_NAME;break;case"endscreenReplayButton":ar.UI_INTERACT_PAYLOAD="es-rpl";break;case"endscreenVSAButton":ar.UI_INTERACT_PAYLOAD="es-vsapl-"+ar.SECTION_LINK_NAME;break;default:ar.UI_INTERACT_PAYLOAD=ar.SECTION_LINK;break;}if(aW.instrData){ar.LINK_CONTEXT=encodeURIComponent(aW.instrData.linkContext);ar.VIDEO_CONTEXT=encodeURIComponent(aW.instrData.videoContext);}if(aW.index){ar.UI_INTERACT_VIDEO_POSITION=encodeURIComponent(aW.index);}}else{ar.SECTION_NAME="pb";ar.SECTION_LINK_NAME=aV;}ar.CCM_PLAYLIST_ID=aB(aN.get("id")||aV);},_isVideoLive:function(){return this.get("model").get("currentMedia").get("isLive");},_startProgressPolling:function(Y,ao){return this.get("model").after("playbackPositionChange",function(ap){var aq;
this._seekStart=ap.newVal;if((ap.newVal>=ao)&&!this._isVideoLive()){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}return;}aq=ap.newVal-Y;if(aq>0&&((aq%this.Constants.PROG_BEACON_LENGTH)===0)){this.process(this.get("allowedEvents").PLAYBACK_PROGRESS);}},this);},_startTimer:function(){this._startTime=new Date().getTime();},_getElapsedTime:function(){if(this._startTime){return new Date().getTime()-this._startTime;}else{return 0;}},_getTopDocument:function(){try{return window.top.document;}catch(Y){return null;}},_getSingleGenre:function(Y){return(Y.get("genre")||"").split(",")[0];},_isIFrame:function(){try{if(window.top.location.href!==window.location.href){return true;}else{return false;}}catch(Y){return true;}},_isOnNetwork:function(){return K.isYahooDomain(K.getHostUrl());},_getFlashVersionString:function(){var ap="",ao=f.UA,Y;Y=K.getFlashVersion();switch(Y){case 0:ap="";break;case 6:ap="ShockwaveFlash 6.0";break;default:if(ao.gecko||ao.webkit||ao.opera){ap=Y;}else{ap=Y.replace(/,/g,".");}}return ap;},_trimLongUrls:function(ao){var Y;return ao!==(Y=ao.split("?")[0])?Y:ao.split("_ylt")[0];},_handleAdFlag:function(ao){var Y=(ao==="adStart"||ao==="adProgress")?true:false;this.set("isAd",Y);}});f.namespace("VideoPlatform").Metrics=P;function z(Y){z.superclass.constructor.apply(this,arguments);}z.NAME="PlayerBase";z.NS="playerBase";z.Events={PLAYBACK_READY:"playbackReady",PLAYBACK_PLAY:"playbackPlay",PLAYBACK_PLAYING:"playbackPlaying",PLAYBACK_PAUSED:"playbackPaused",PLAYBACK_PROGRESS:"playbackProgress",PLAYBACK_SEEK:"playbackSeek",PLAYBACK_SEEKED:"playbackSeeked",PLAYBACK_COMPLETE:"playbackComplete",PLAYBACK_ERROR:"playbackError",PLAYBACK_WARNING:"playbackWarning",PLAYBACK_WAITING:"playbackWaiting",FULLSCREEN_ENTER:"fullscreenEnter",FULLSCREEN_EXIT:"fullscreenExit",MUTE_CHANGE:"muteChange",VOLUME_CHANGE:"volumeChange",DURATION_CHANGE:"durationChange",UI_INTERACT:"uiInteract",MEDIA_INFO_UPDATE:"mediaInfoUpdate",BITRATE_CHANGE:"bitrateChange",PLAYER_READYSTATE:"readyState",PLAYER_RESIZE:"resize",CLIENT_RESIZE:"clientResize",CCAVAILABILITY_CHANGE:"ccAvailabilityChange",CDN_CHANGE:"cdnChange",LIVE_CHANGE:"liveChange",STREAMTYPE_CHANGE:"streamTypeChange",SELECTED_STREAM_CHANGE:"selectedStreamChange",SELECTED_STREAM_URL_CHANGE:"selectedStreamUrlChange"};var ai=z.Events;z.ATTRS={playbackPlugin:{value:null},readyState:{value:""},videoContainer:{value:""}};z.Constants={READY_STATE:{HAVE_NOTHING:0}};f.extend(z,f.Base,{initializer:function(){},destructor:function(){},render:function(){},load:function(Y){},play:function(){},pause:function(){},seek:function(Y){},getDuration:function(){},setVolume:function(Y){},setMute:function(Y){},setFullscreen:function(Y){},joinUrl:function(){var ao=function(ap){return f.Lang.isString(ap)&&ap.length>0;},Y=function(ap){return ap.replace(/^\/*/,"").replace(/\/*$/,"");};return f.Array.map(f.Array.filter(f.Array(arguments),ao),Y).join("/");},shouldLoopVideo:function(){var Y=this._model,ao=Y.get("playlist").items();if(Y.get("loop")===false){return false;}if(!((Y.get("continuousPlay")===true)&&ao.size()>1)){return true;}return false;},getFontList:function(){},updateControls:function(){},positionCaptions:function(Y){},computeAdClientSize:function(Y){return Y;},onMuteChange:function(Y){if(Y!==this._model.get("muted")){this.fire(ai.MUTE_CHANGE,Y);}},onSeeking:function(){this.fire(ai.PLAYBACK_SEEK);},onSeeked:function(){this.fire(ai.PLAYBACK_SEEKED);}});f.namespace("VideoPlatform").PlayerBase=z;function aj(){aj.superclass.constructor.apply(this,arguments);}aj.NAME="LegoCMS";aj.ATTRS={jsonpMethod:{value:f.jsonp},requestTimeout:{value:10},yqlStore:{value:"yahoo.media.video.streams"},env:{value:"prod"},tachyonLoadClipQueryParams:{value:"format={formatPredicate}&protocol={protocolPredicate}&rt={rendererTypePredicate}&plrs={playerGuidPredicate}"+"&acctid={yvapAcctIdPredicate}&plidl={playContextPredicate}&pspid={pageSpaceIdPredicate}&offnetwork={offnetworkPredicate}"+"&site={sitePredicate}&lang={langPredicate}&region={regionPredicate}&override={overridePredicate}&plist={channelIdPredicate}"+"&hlspre={hlsprePredicate}&ssl={sslPredicate}&synd={syndicationPredicate}"},tachyonLoadRelatedParams:{value:"site={sitePredicate}&region={regionPredicate}&lang={langPredicate}&algo={algoPredicate}&start={startPredicate}&count={countPredicate}"+"&offnetwork={offnetworkPredicate}&width={widthPredicate}&height={heightPredicate}"},yqlClipQuery:{value:"SELECT {columns} FROM {store} WHERE {idPredicate} AND {formatPredicate}"+" AND {protocolPredicate} AND {rendererTypePredicate} AND {playerGuidPredicate}"+" AND {yvapAcctIdPredicate} AND {playContextPredicate} AND {pageSpaceIdPredicate}"+" AND {offnetworkPredicate} AND {sitePredicate} AND {langPredicate} AND {regionPredicate}"+" AND {overridePredicate} AND {channelIdPredicate} AND {hlsprePredicate} AND {sslPredicate} AND {syndicationPredicate};"},yqlRelatedQuery:{value:"SELECT {columns} from yahoo.media.video.related({startPredicate},{countPredicate}) WHERE {idPredicate} "+"AND {playerGuidPredicate} AND {sitePredicate} AND {regionPredicate} AND {algoPredicate} "+"AND {langPredicate} AND {offnetworkPredicate} AND {widthPredicate} AND {heightPredicate};"},yqlPlaylistQuery:{value:"SELECT * from yahoo.media.video.playlist{countPredicate} "+"WHERE {idPredicate} AND {startVideoPredicate} AND {playIndexPredicate} AND {playerGuidPredicate} "+"AND {sitePredicate} AND {regionPredicate} AND {langPredicate} "+"AND {yvapAcctIdPredicate} AND {playContextPredicate} AND {pageSpaceIdPredicate} "+"AND {formatPredicate} AND {protocolPredicate} AND {offnetworkPredicate} AND {overridePredicate} "+"AND {widthPredicate} AND {heightPredicate} AND {hlsprePredicate} AND {sslPredicate} AND {syndicationPredicate};"},yqlMetaQuery:{value:"SELECT * from yahoo.media.video.abstract WHERE {idPredicate} "+"AND {sitePredicate} AND {langPredicate} AND {regionPredicate};"},yqlMultiClipsQuery:{value:"SELECT * from yql.query.multi WHERE {queriesPredicate}"},yqlCcTtmlQuery:{value:"SELECT * from xml WHERE {ttmlUrlPredicate}"},relatedCount:{value:8,validator:f.Lang.isNumber},relatedStart:{value:0,validator:f.Lang.isNumber},algoContent:{value:"editorial,mms,slingstone,msbe"},relatedVideosColumns:{value:["status, mediaObj.id, mediaObj.meta, mediaObj.status, mediaObj.license, mediaObj.algo"]},playlistCount:{value:12,validator:f.Lang.isNumber},host:{value:"video.query.yahoo.com"},tachyonHost:{value:"video.media.yql.yahoo.com"},tachyonHostBeta:{value:"video.beta.media.yql.yahoo.com"},tachyonHostStage:{value:"video.stage.media.yql.yahoo.com"},userPrefsHost:{value:"video.media.yql.yahoo.com"},watchHistoryHost:{value:"video.media.yql.yahoo.com"},atlasHost:{value:"atlas.cdn.yimg.com"},urlTemplate:{value:"//{host}/v1/public/yql?q={query}&env={env}&format=json&callback={callback}"},urlTachyonTemplate:{value:"//{host}/v1/video/sapi/streams/{uuids}?{queryParams}&callback={callback}"},urlRelatedTemplate:{value:"//{host}/v1/video/sapi/related/{uuid}?{queryParams}&callback={callback}"},urlUserPrefsTemplate:{value:"//{host}/v1/video/user/prefs/get?callback={callback}"},urlStoreCaptionSettingsTemplate:{value:"//{host}/v1/video/user/ccprefs/set?userccp={data}&callback={callback}"},urlStoreWatchHistoryTemplate:{value:"//{host}/v1/video/user/watchhistory/set?wh={data}&callback={callback}"},formats:{value:[],validator:f.Lang.isArray},protocols:{value:[],validator:f.Lang.isArray},heights:{value:{"large":345,"medium":175}},widths:{value:{"large":634,"medium":233}}};
aj.MIME_TYPE_MAP=(function(){return{"video/x-flv":K.formats.FLV,"video/mp4":K.formats.MP4,"video/webm":K.formats.WEBM,"application/vnd.apple.mpegurl":K.formats.M3U8,"audio/x-mpegurl":K.formats.M3U8,"application/f4m+xml":K.formats.F4M};}());f.extend(aj,f.Base,{_model:null,_controller:null,log:function(ao,Y){},initializer:function(ap){var Y=(ap||{}).model,ao=(ap||{}).controller,aq=Y?Y.get("rendererType"):"flash";this._model=Y;this._controller=ao;this._sapiRetry="true";this.updateRendererType(aq);if(Y){this._enableTachyonMigration=Y.get("enableTachyonMigration");Y.after("rendererTypeChange",function(ar){this.updateRendererType(ar.newVal);},this);Y.after("isPlayingChange",function(at){var ar;if(at.newVal){ar=Y.get("currentMedia");if(ar.get("streamUrlOwner")===this.name&&!ar.get("isLive")){ar.set("streams",undefined);}}},this);}},updateRendererType:function(ao){var ap=(this._model)?(this._model.get("useHlsFlash")==="true"):false,Y=K.getFormatsAndProtocols(ao,ap);this.set("formats",Y.requestFormats);this.set("protocols",Y.requestProtocols);},loadClips:function(aE,aT){var az=f.Lang.sub,aF=this,aI=aF._model,ay=aF._enableTachyonMigration,aS=aF.constructor.NAME,aG=aF._controller,at,ar,av,aD=aF.getClipUUIDs(aE),ap=aI.get("SAPI_CONF").host||aI.get("CMS").host||aF.get("tachyonHost"),aN=aI.get("CMS").env,aU=aF.get("jsonpMethod"),aB=aF.get("requestTimeout")*1000,Y=aT.context||null,aQ=f.VideoPlatform.ErrorObject,aO=aQ.ERROR,aA=aQ.LEVEL,aC=aG?aG.getProfiler():null,aJ=aG?aG.getMetricsModule():null,aw,aq,aH,aP,aM=0,aR=null;at=aF.getClipsQuery(["*"],aF.clipIds(aE));aw=aO.CMS_TIMEOUT_LOADCLIPS_ALL;aq=aO.CMS_RESPONSE_LOADCLIPS_ALL;aH=aO.CMS_TIMEOUT_LOADCLIPS_ALL_RETRY;aP=aO.CMS_REQUEST_LOADCLIPS_ALL_RETRY;if(ay==="true"){switch(aN){case"beta":ap=aF.get("tachyonHostBeta");break;case"stage":ap=aF.get("tachyonHostStage");break;case"prod":ap=aF.get("tachyonHost");break;}ar=az(aF.get("urlTachyonTemplate"),{uuids:encodeURIComponent(aD),host:ap,queryParams:at});}else{ar=az(aF.get("urlTemplate"),{host:aI.get("SAPI_CONF").host||aI.get("CMS").host||aF.get("host"),env:aI.get("CMS").env||aF.get("env"),query:encodeURIComponent(at)});}function au(aV){aT.failure.call(Y,aV);}function ax(aV){var aX=aV.error,aY={"RETRY_COUNT":aM},aW;if(aC){aC.setEndTime(am.SAPI_LOADCLIPS.type,aR);}if(aX){aW=aX.status||aq.code;au(new aQ(aq.type,aW,aS,"loadClips; "+aX.description,aA.CRITICAL));}else{aT.success.call(Y,aF.parseStreamsResponse(aV));}}if(aC){aR=aC.add(am.SAPI_LOADCLIPS);}function aL(aY){var aX=(f.Lang.isArray(aY.errors))?aY.errors[0].error:aY.msg||aY.description||aY.statusText||"",aW=new aQ(aO.CMS_REQUEST.type,aO.CMS_REQUEST.code,aS,"loadClips-"+aX,aA.CRITICAL),aV=new aQ(aP.type,aP.code,aS,"LoadClips-1st attempt failure warning: "+aY.msg+";"+aY.description,aA.WARNING);aK(aV,aW);}function aK(aW,aV){if(aF._sapiRetry!=="true"||++aM!==1){au(aV);return;}aG.warn(aW);aU(ar,{on:{success:ax,failure:aL,timeout:ao},timeout:aB,context:aF,async:true});}function ao(aY){var aX=(f.Lang.isArray(aY.errors))?aY.errors[0].error:aY.msg||aY.description||aY.statusText||"",aW=new aQ(aw.type,aw.code,aS,"loadClips-"+aX,aA.CRITICAL),aV=new aQ(aH.type,aH.code,aS,"LoadClips-1st attempt Timeout Warning: "+aY.msg+";"+aY.description,aA.WARNING);aK(aV,aW);}aU(ar,{on:{success:ax,failure:aL,timeout:ao},timeout:aB,context:aF,async:true});},loadPlaylist:function(aN,ar,aR,ax,aQ){var az=f.Lang.sub,aD=this,aF=aD._model,aw,aP=aD.constructor.NAME,aE=aD._controller,au=aD.getPlaylistQuery(aN,ar,aR,ax),at=az(aD.get("urlTemplate"),{host:aF.get("SAPI_CONF").host||aF.get("CMS").host||aD.get("host"),env:aF.get("CMS").env||aD.get("env"),query:encodeURIComponent(au)}),aS=aD.get("jsonpMethod"),aB=aD.get("requestTimeout")*1000,ao=aQ.context||null,aO=f.VideoPlatform.ErrorObject,aL=aO.ERROR,aA=aO.LEVEL,aK=aL.CMS_TIMEOUT_LOADPLAYLIST,Y=aL.CMS_RESPONSE_LOADPLAYLIST,aM=aL.CMS_TIMEOUT_LOADPLAYLIST_RETRY,aq=aL.CMS_REQUEST_LOADPLAYLIST_RETRY,aC=(aE)?aE.getProfiler():null,aG=aE?aE.getMetricsModule():null,aJ=0;function av(aT){aQ.failure.call(ao,aT);}function ay(aT){var aW=aT,aY=aW.query||null,aV=aW.error||null,aX={"RETRY_COUNT":aJ},aU;if(aC){aC.setEndTime(am.SAPI_LOADPLAYLIST.type);}if(aV){aU=aV.status||Y.code;av(new aO(Y.type,aU,aP,"loadPlaylist; "+aV.description,aA.CRITICAL));}else{if(aY&&aY.results){aQ.success.call(ao,this.parsePlaylistResponse(aW));}else{aU=Y.code;av(new aO(Y.type,aU,aP,"loadPlaylist; null results",aA.CRITICAL));}}}function aH(aU,aT){if(aD._sapiRetry!=="true"||++aJ!==1){av(aT);return;}aE.warn(aU);aS(at,{on:{success:ay,failure:aI,timeout:ap},timeout:aB,context:aD,async:true});}function aI(aW){var aV=(f.Lang.isArray(aW.errors))?aW.errors[0].error:aW.msg||aW.description||aW.statusText||"",aU=new aO(aL.CMS_REQUEST.type,aL.CMS_REQUEST.code,aP,"loadPlaylist; "+aV,aA.CRITICAL),aT=new aO(aq.type,aq.code,aP,"LoadPlaylist-1st Attempt Failure Warning: "+aW.msg+";"+aW.description,aA.WARNING);aH(aT,aU);}function ap(aW){var aV=(f.Lang.isArray(aW.errors))?aW.errors[0].error:aW.msg||aW.description||aW.statusText||"",aU=new aO(aK.type,aK.code,aP,"loadPlaylist; "+aV,aA.CRITICAL),aT=new aO(aM.type,aM.code,aP,"LoadPlaylist-1st attempt Timeout Warning: "+aW.msg+";"+aW.description,aA.WARNING);aH(aT,aU);}if(aC){aC.add(am.SAPI_LOADPLAYLIST);}aS(at,{on:{success:ay,failure:aI,timeout:ap},timeout:aB,context:aD,async:true});},loadRelatedVideos:function(aL,aR){var aC=this,aF=aC._model,aD=aC._controller,av,aP=aC.constructor.Name,at,ar,aK=aF.get("CMS").env,ap=aF.get("SAPI_CONF").host||aF.get("CMS").host||aC.get("tachyonHost"),aE=aL.get("id"),aS=aC.get("jsonpMethod"),az=aC.get("requestTimeout")*1000,Y=aR.context||null,aO=f.VideoPlatform.ErrorObject,aN=aO.ERROR,ay=aO.LEVEL,aq=null,aQ=aN.CMS_TIMEOUT_LOADRELATED,aM=aN.CMS_RESPONSE_LOADRELATED,aB=aN.CMS_TIMEOUT_LOADRELATED_RETRY,ax=aN.CMS_REQUEST_LOADRELATED_RETRY,aG=aD?aD.getMetricsModule():null,aJ=0,aA=(aD)?aD.getProfiler():null;at=aC.getRelatedVideosQuery();console.log("inside code query is "+at);switch(aK){case"beta":ap=aC.get("tachyonHostBeta");break;case"stage":ap=aC.get("tachyonHostStage");
break;case"prod":ap=aC.get("tachyonHost");break;}ar=f.Lang.sub(aC.get("urlRelatedTemplate"),{uuid:aE,host:ap,queryParams:at});function au(aT){aR.failure.call(Y,aT);}function aw(aT){var aW=aT,aY=aW.query||null,aV=aW.error||null,aU,aX={"RETRY_COUNT":aJ};if(aA){aA.setEndTime(am.SAPI_LOADRELATED.type,aq);av=aA.getItem(am.SAPI_LOADRELATED.type,aq);if(aG){aG.fireSAPIBeacons(av,aX);}}if(aV){aU=aV.status||aM.code;au(new aO(aM.type,aU,aP,"loadRelated; "+aV.description,ay.CRITICAL));}else{if(aY&&aY.results){aR.success.call(Y,this.parseEndScreenContentResponse(aT));}else{aU=aM.code;au(new aO(aM.type,aU,aP,"loadRelated; null results",ay.CRITICAL));}}}function aH(aU,aT){if(aC._sapiRetry!=="true"||++aJ!==1){au(aT);return;}aD.warn(aU);aS(ar,{on:{success:aw,failure:aI,timeout:ao},timeout:az,context:aC,async:true});}function aI(aW){var aV=(f.Lang.isArray(aW.errors))?aW.errors[0].error:aW.msg||aW.description||aW.statusText||"",aU=new aO(aN.CMS_REQUEST.type,aN.CMS_REQUEST.code,aP,"loadRelatedVideos; "+aV,ay.CRITICAL),aT=new aO(ax.type,ax.code,aP,"LoadRelated-1st Attempt failure warning: "+aW.msg+";"+aW.description,ay.WARNING);aH(aT,aU);}function ao(aW){var aV=(f.Lang.isArray(aW.errors))?aW.errors[0].error:aW.msg||aW.description||aW.statusText||"",aU=new aO(aQ.type,aQ.code,aP,"loadRelatedVideos; "+aV,ay.CRITICAL),aT=new aO(aB.type,aB.code,aP,"LoadRelated-1st attempt Timeout warning: "+aW.msg+";"+aW.description,ay.WARNING);aH(aT,aU);}if(aA){aq=aA.add(am.SAPI_LOADRELATED);}aS(ar,{on:{success:aw,failure:aI,timeout:ao},timeout:az,context:aC,async:true});},storeWatchHistory:function(aG,aH){var au=f.Lang.sub,az=this,aq,aC=am.SET_WATCH_HISTORY,Y=f.JSON.stringify(aG),aF=az.constructor.NAME,aA=az._controller,aI=az.get("jsonpMethod"),aw=az.get("requestTimeout")*1000,ay=new l({model:this._model}),ax=(this._controller)?this._controller.getProfiler():null,ao=aH.context||null,aE=f.VideoPlatform.ErrorObject,aD=aE.ERROR,av=aE.LEVEL;aq=au(az.get("urlStoreWatchHistoryTemplate"),{host:az.get("watchHistoryHost"),data:encodeURIComponent(Y)});function ar(aJ){aH.failure.call(ao,aJ);}function at(aJ){ay.stop(aC.type,aC.desc);if(ax){ax.setEndTime(aC.type);}ay=null;var aK=aJ.error;if(aK){aA.warn(new aE(aD.STORE_WATCHHISTORY_RESP.type,aD.STORE_WATCHHISTORY_RESP.code,aF,"storeWatchHistory-"+aK,av.WARNING));ar(aK);}else{aH.success.call(ao,aJ);}}function aB(aL){var aK=(f.Lang.isArray(aL.errors))?aL.errors[0].error:aL.msg||aL.description||aL.statusText||"",aJ=new aE(aD.STORE_WATCHHISTORY_REQUEST.type,aD.STORE_WATCHHISTORY_REQUEST.code,aF,"storeWatchHistory-"+aK,av.WARNING);aA.warn(aJ);ar(aK);}function ap(aL){var aK=(f.Lang.isArray(aL.errors))?aL.errors[0].error:aL.msg||aL.description||aL.statusText||"",aJ=new aE(aD.STORE_WATCHHISTORY_TIMEOUT.type,aD.STORE_WATCHHISTORY_TIMEOUT.code,aF,"storeWatchHistory-"+aK,av.WARNING);aA.warn(aJ);ar(aK);}ay.start();if(ax){ax.add(aC);}aI(aq,{on:{success:at,failure:aB,timeout:ap},timeout:aw,context:az,async:true});},getUserPrefs:function(aE){var at=f.Lang.sub,ax=this,ap,aA=am.GET_USER_PREFS,aD=ax.constructor.NAME,ay=ax._controller,aF=ax.get("jsonpMethod"),av=ax.get("requestTimeout")*1000,aw=(this._controller)?this._controller.getProfiler():null,Y=aE.context||null,aC=f.VideoPlatform.ErrorObject,aB=aC.ERROR,au=aC.LEVEL;ap=at(ax.get("urlUserPrefsTemplate"),{host:ax.get("userPrefsHost")});function aq(aG){aE.failure.call(Y,aG);}function ar(aG){if(aw){aw.setEndTime(aA.type);}var aH=aG.error;if(!aH){aE.success.call(Y,ax.parseUserPrefsResponse(aG.userprefs));}else{ay.warn(new aC(aB.GET_USERPREFS_RESP.type,aB.GET_USERPREFS_RESP.code,aD,"getUserPrefs-"+aH,au.WARNING));aq(aH);}}function az(aI){var aH=(f.Lang.isArray(aI.errors))?aI.errors[0].error:aI.msg||aI.description||aI.statusText||"",aG=new aC(aB.GET_USER_PREFS_REQUEST.type,aB.GET_USER_PREFS_REQUEST.code,aD,"getUserPrefs-"+aH,au.WARNING);ay.warn(aG);aq(aH);}function ao(aI){var aH=(f.Lang.isArray(aI.errors))?aI.errors[0].error:aI.msg||aI.description||aI.statusText||"",aG=new aC(aB.GET_USER_PREFS_TIMEOUT.type,aB.GET_USER_PREFS_TIMEOUT.code,aD,"getUserPrefs-"+aH,au.WARNING);ay.warn(aG);aq(aI);}if(aw){aw.add(aA);}aF(ap,{on:{success:ar,failure:az,timeout:ao},timeout:av,context:ax,async:true});},storeCaptionSettings:function(ay,aH){var at=f.Lang.sub,aA=this,ap,aD=am.SET_CC_PREF,au=f.JSON.stringify(ay),aG=aA.constructor.NAME,aB=aA._controller,aI=aA.get("jsonpMethod"),aw=aA.get("requestTimeout")*1000,az=new l({model:this._model}),ax=(this._controller)?this._controller.getProfiler():null,Y=aH.context||null,aF=f.VideoPlatform.ErrorObject,aE=aF.ERROR,av=aF.LEVEL;ap=at(aA.get("urlStoreCaptionSettingsTemplate"),{host:aA.get("userPrefsHost"),data:encodeURIComponent(au)});function aq(aJ){aH.failure.call(Y,aJ);}function ar(aJ){az.stop(aD.type,aD.desc);if(ax){ax.setEndTime(aD.type);}az=null;var aK=aJ.error;if(aK){aB.warn(new aF(aE.STORE_CAPTION_RESP.type,aE.STORE_CAPTION_RESP.code,aG,"storeCaptionSettings-"+aK,av.WARNING));aq(aK);}else{aH.success.call(Y,aJ);}}function aC(aL){var aK=(f.Lang.isArray(aL.errors))?aL.errors[0].error:aL.msg||aL.description||aL.statusText||"",aJ=new aF(aE.STORE_CAPTION_SETTINGS_REQUEST.type,aE.STORE_CAPTION_SETTINGS_REQUEST.code,aG,"storeCaptionSettings-"+aK,av.WARNING);aB.warn(aJ);aq(aK);}function ao(aL){var aK=(f.Lang.isArray(aL.errors))?aL.errors[0].error:aL.msg||aL.description||aL.statusText||"",aJ=new aF(aE.STORE_CAPTION_SETTINGS_TIMEOUT.type,aE.STORE_CAPTION_SETTINGS_TIMEOUT.code,aG,"storeCaptionSettings-"+aK,av.WARNING);aB.warn(aJ);aq(aK);}az.start();if(ax){ax.add(aD);}aI(ap,{on:{success:ar,failure:aC,timeout:ao},timeout:aw,context:aA,async:true});},fetchClosedCaptionContent:function(ax){var at=this._model,az=this.getCcTtmlUrlQuery(),aq=am.YQL_LOAD_CC,Y=f.Lang.sub(this.get("urlTemplate"),{host:at.get("SAPI_CONF").host||at.get("CMS").host||this.get("host"),env:at.get("CMS").env||this.get("env"),query:encodeURIComponent(az)}),aB=this.get("jsonpMethod"),aA=this.get("requestTimeout")*1000,ap=ax.context||null,ao=new l({model:this._model}),aC=f.VideoPlatform.ErrorObject,av=aC.ERROR,aw=aC.LEVEL,aE=(this._controller)?this._controller.getProfiler():null;
function ar(aF){ax.failure.call(ap,aF);}function aD(aF){ao.stop(aq.type,aq.desc);if(aE){aE.setEndTime(aq.type);}ao=null;var aJ=aF,aK=aJ.query||null,aI=aJ.error||null,aG,aH=f.VideoPlatform.ErrorObject.ERROR.CMS_RESPONSE_CLOSED_CAPTION;if(aI){aG=aI.status||aH.code;ar(new aC(aH.type,aG,this.constructor.NAME,"closedCaptions; "+aI.description,aw.CRITICAL));}else{if(aK&&aK.results){ax.success.call(ap,this.parseClosedCaptionContentResponse(aJ));}else{aG=aH.code;ar(new aC(aH.type,aG,this.constructor.NAME,"closedCaptions; null results",aw.CRITICAL));}}}function au(aG){var aF=(f.Lang.isArray(aG.errors))?aG.errors[0].error:aG.msg||aG.description||aG.statusText||"";ar(new aC(av.CMS_REQUEST.type,av.CMS_REQUEST.code,this.constructor.NAME,"loadClosedCaptionContent; "+aF,aw.CRITICAL));}function ay(aG){var aF=(f.Lang.isArray(aG.errors))?aG.errors[0].error:aG.msg||aG.description||aG.statusText||"";ar(new aC(av.CMS_TIMEOUT_CLOSED_CAPTION.type,av.CMS_TIMEOUT_CLOSED_CAPTION.code,this.constructor.NAME,"loadClosedCaptionContent; "+aF,aw.CRITICAL));}ao.start();if(aE){aE.add(aq);}aB(Y,{on:{success:aD,failure:au,timeout:ay},timeout:aA,context:this,async:true});},parseClosedCaptionContentResponse:function(ao){var at={},ap=null,aq=null,Y=null,au=null;try{ap=ao.query.results;aq=ap.tt;Y=aq.body.div.p;at.entries={};au=at.entries;au.times=[];au.text=[];f.each(Y,function(av){au.text.push(av.content);au.times.push({start:this._parseClosedCaptionTime(av.begin),end:this._parseClosedCaptionTime(av.end)});},this);}catch(ar){at={entries:{}};}return at;},parseUserPrefsResponse:function(ao){var av=null,Y={},ar,aq,at,ap;try{if(!f.Lang.isNull(ao)&&ao.length>0){for(ap=0;ap<ao.length;ap++){at=ao[ap];if(at.closedcaptionprefs!==undefined){av=f.Lang.isObject(at.closedcaptionprefs)?at.closedcaptionprefs:null;}else{if(at.isAdult!==undefined){ar=at.isAdult;}else{if(at.err!==undefined){aq=at.err;}}}}}else{}}catch(au){}Y.cc=av;if(ar!==undefined){Y.isAdult=ar;}if(aq!==undefined){Y.err=aq;}return Y;},_parseClosedCaptionTime:function(ao){var au=ao.split(":"),at=0,ap,ar,Y,av,aq;if(au.length===3){ap=au[0];ar=au[1];Y=au[2];}else{if(au.length===2){ap=0;ar=au[0];Y=au[1];}else{ap=0;ar=0;Y=au[0];}}Y=Y.split(/\s+/);av=Y.splice(0,1)[0];av=av.split(/\.|,/);aq=parseFloat(av[1]);av=av[0];at+=parseFloat(ap)*3600;at+=parseFloat(ar)*60;at+=parseFloat(av);if(aq){at+=aq/1000;}return at;},parseStreamsResponse:function(Y){var aq,ap;try{if(Y.query.results.results){ap=this.mergeResults(Y);}else{ap=this.arrayify(Y.query.results.mediaObj);}aq=f.Array.map(ap,this.parseMediaObj,this);}catch(ao){aq=false;}return aq;},mergeResults:function(ao){var aq=[],ap,Y,ar=[];ao.query.results=ao.query.results.results;Y=ao.query.results;for(ap=0;ap<Y.length;ap++){aq=aq.concat(Y[ap].mediaObj);}ao.query.results={mediaObj:aq};ar=this.arrayify(ao.query.results.mediaObj);return ar;},parsePlaylistResponse:function(ao){var aq,ar,Y;try{aq=ao.query.results.result;ar={start:aq.start,count:aq.count,total:aq.total,mediaItems:f.Array.map(this.arrayify(aq.mediaObj),this.parseMediaObj,this)};Y=aq.status;if(Y){ar.status={code:Y.code,msg:Y.msg};}}catch(ap){ar={start:0,count:0,total:0,mediaItems:[]};}return ar;},parseEndScreenContentResponse:function(ao){var aq,ar,Y,ap;try{aq=ao.query.results.result;ap=aq[0]?aq[0].mediaObj:null;ar={mediaItems:f.Array.map(this.arrayify(ap),this.parseMediaObj,this)};}catch(at){ar={start:0,count:0,total:0,mediaItems:[]};}if(aq){Y=aq[0].status;if(typeof Y!==undefined){ar.status={code:Y.code,msg:Y.msg};}}return ar;},parseMediaObj:function(au){var at={},ar,ap,aq,av,ao,Y=null;at.id=au.id;ar=au.status;if(ar){at.status={code:ar.code,msg:ar.msg};}ar=au.meta;if(ar){ao=ar.credits&&ar.credits.main_artists?ar.credits.main_artists:"";at.embeddable=ar.embed_rights;at.title=ar.title;at.description=ar.description;at.clipDuration=K.getDuration(ar.duration);at.shareUrl=ar.url;at.images={};if(ar.thumbnail){at.images.thumbnail=ar.thumbnail;}at.provider={};if(ar.provider){at.provider.name=ar.provider.name;at.provider.logoUrl=ar.provider.logourl;at.provider.url=ar.provider.url;at.provider.provider_id=ar.provider.provider_id;at.provider.provider_video_id=ar.provider.provider_video_id;at.provider.publisher_id=ar.provider.publisher_id;}at.eventBeginTime=ar.event_start;at.eventEndTime=ar.event_stop;at.showName=ar.show_name;at.copyright=ar.attribution||"";at.genre=ar.genre||"";at.credits=ar.credits||{};at.ageGate=ar.age_gate||"none";}ar=au.streams;if(ar){at.streams=f.Array.map(ar,this.parseStreamNode,this);at.isLive=f.Array.some(ar,function(aw){return aw.live===true;});Y=at.streams[0];if(Y){at.duration=f.Lang.isValue(Y.duration)?Y.duration:at.duration;at.streamProtocol=K.parseUrl(Y.host).protocol;}at.streamUrlOwner=this.name;}ar=au.license;if(ar){at.licensorName=ar.account_name;at.licensorId=ar.account_id;at.licenseName=ar.title;at.licenseId=ar.salesforce_id;at.originatingProperty=ar.originating_property;}ar=au.metrics;if(ar){at.metrics=ar;if(ar.pspid){at.spaceId=ar.pspid;}ap=ar.ywa||[];at.metrics.metaTags=ap;delete at.metrics.ywa;av={type:f.VideoPlatform.ErrorObject.ERROR.CMS_METRICS_VALIDATION.type,code:f.VideoPlatform.ErrorObject.ERROR.CMS_METRICS_VALIDATION.code};if(f.Lang.isUndefined(ar.comscore_cm5)){av.msg="comscore_cm5 is undefined in cms response";this._model.set("warning",av);}else{at.comscoreC5=ar.comscore_cm5;}if(f.Lang.isUndefined(ar.comscore6)){av.msg="comscore6 is undefined in cms response";this._model.set("warning",av);}else{at.comscoreC6=ar.comscore6;}}ar=au.yvap;if(ar){at.adData=ar;}ar=au.visualseek;if(ar){at.visualseek=this._parseVisualSeekNode(ar);}ar=au.closedcaptions;if(ar){at.CC=ar;}ar=au.algo;if(ar){at.instrumentation={algoName:ar.algo_name||"",linkContext:ar.detail||"",videoContext:ar.vctxt||""};}return at;},parseStreamNode:function(ao){var Y={format:this.typeToFormat(ao.mime_type),width:ao.width,height:ao.height,bitrate:ao.bitrate,duration:ao.duration,host:ao.host,path:ao.path,is_primary:ao.is_primary,hlsInfo:ao.hls_info,cdn:ao.cdn};if(ao.h264_profile){Y.h264_profile=ao.h264_profile;
}return Y;},_parseVisualSeekNode:function(Y){return{width:Y.width,height:Y.height,frequency:Y.frequency,images:f.Array.map(this.arrayify(Y.images),this._parseVisualSeekImagesNode,this)};},_parseVisualSeekImagesNode:function(Y){return{url:Y.url,count:Y.count,startIndex:Y.start_index};},typeToFormat:function(Y){var ao=aj.MIME_TYPE_MAP;return ao[Y]||"";},arrayify:function(Y){return f.Lang.isArray(Y)?Y:[Y];},getClipsQuery:function(ar,Y){var aq=this._model,av=",",au=aq.get("YVAP"),ap=aq.get("currentMedia"),aw=null,at,ao;if(ap){aw=ap.get("enforcedFormatAndProtocol");}if(aw){at=aw.requestFormats;ao=aw.requestProtocols;}else{at=this.get("formats");ao=this.get("protocols");}if(this._enableTachyonMigration==="true"){return f.Lang.sub(this.get("tachyonLoadClipQueryParams"),{playerGuidPredicate:encodeURIComponent(aq.get("guid")),formatPredicate:encodeURIComponent(at.join(av)),rendererTypePredicate:encodeURIComponent(aq.get("rendererType")),protocolPredicate:encodeURIComponent(ao.join(av)),offnetworkPredicate:encodeURIComponent(aq.get("isOffNetwork")),sitePredicate:encodeURIComponent(aq.get("site")),langPredicate:encodeURIComponent(aq.get("lang")),regionPredicate:encodeURIComponent(aq.get("region")),yvapAcctIdPredicate:encodeURIComponent(au.get("accountId")),playContextPredicate:this._shouldSuppressAdContext()?"":encodeURIComponent(au.get("playContext")),pageSpaceIdPredicate:this._shouldSuppressAdContext()?"":encodeURIComponent(aq.get("pageSpaceId")),overridePredicate:encodeURIComponent(aq.get("lms")),channelIdPredicate:encodeURIComponent(aq.get("playlist").get("id")),hlsprePredicate:encodeURIComponent(aq.get("useHlsFlash")==="true"&&(!K.isMobile())),sslPredicate:K.shouldEnableRtmps(aq)?encodeURIComponent(true):encodeURIComponent(false),syndicationPredicate:encodeURIComponent(aq.get("synd"))});}else{return f.Lang.sub(this.get("yqlClipQuery"),{store:this.get("yqlStore"),columns:ar.join(","),idPredicate:this.remoteFilter("id",Y),playerGuidPredicate:this.localFilter("plrs",aq.get("guid")),formatPredicate:this.localFilter("format",at.join(av)),rendererTypePredicate:this.localFilter("rt",aq.get("rendererType")),protocolPredicate:this.localFilter("protocol",ao.join(av)),offnetworkPredicate:this.localFilter("offnetwork",aq.get("isOffNetwork")),sitePredicate:this.localFilter("site",aq.get("site")),langPredicate:this.localFilter("lang",aq.get("lang")),regionPredicate:this.localFilter("region",aq.get("region")),yvapAcctIdPredicate:this.localFilter("acctid",au.get("accountId")),playContextPredicate:this._shouldSuppressAdContext()?'plidl=""':this.localFilter("plidl",au.get("playContext")),pageSpaceIdPredicate:this._shouldSuppressAdContext()?'pspid=""':this.localFilter("pspid",aq.get("pageSpaceId")),overridePredicate:this.localFilter("override",aq.get("lms")),channelIdPredicate:this.localFilter("plist",aq.get("playlist").get("id")),hlsprePredicate:this.localFilter("hlspre",aq.get("useHlsFlash")==="true"&&(!K.isMobile())),sslPredicate:K.shouldEnableRtmps(aq)?this.localFilter("ssl",true):this.localFilter("ssl",false),syndicationPredicate:this.localFilter("synd",aq.get("synd"))});}},_shouldSuppressAdContext:function(){var Y=this._model;if((Y.get("CMS").suppressAdContext)||(Y.get("emptySpaceIdContextToSapi"))){return true;}return false;},getPlaylistQuery:function(ao,ap,aq,aw){var ar=this._model,ax=",",av=ar.get("startVideo")||"",at=ar.get("YVAP"),az=ar.get("autoplay")?"medium":"large",Y=ar.get("width")||this.get("widths")[az],ay=ar.get("height")||this.get("heights")[az],au=1;if(f.Lang.isNumber(aw)){au=aw;}else{if(ar.get("carousel")){au=this.get("playlistCount");}}return f.Lang.sub(this.get("yqlPlaylistQuery"),{countPredicate:"("+ap+","+au+")",idPredicate:this.localFilter("id",ao),startVideoPredicate:this.localFilter("startvideo",av),playIndexPredicate:this.localFilter("pidx",aq),playerGuidPredicate:this.localFilter("plrs",ar.get("guid")),sitePredicate:this.localFilter("site",ar.get("site")),regionPredicate:this.localFilter("region",ar.get("region")),langPredicate:this.localFilter("lang",ar.get("lang")),formatPredicate:this.localFilter("format",this.get("formats").join(ax)),protocolPredicate:this.localFilter("protocol",this.get("protocols").join(ax)),yvapAcctIdPredicate:this.localFilter("acctid",at.get("accountId")),playContextPredicate:this._shouldSuppressAdContext()?'plidl=""':this.localFilter("plidl",at.get("playContext")),pageSpaceIdPredicate:this._shouldSuppressAdContext()?'pspid=""':this.localFilter("pspid",ar.get("pageSpaceId")),offnetworkPredicate:this.localFilter("offnetwork",ar.get("isOffNetwork")),overridePredicate:this.localFilter("override",ar.get("lms")),widthPredicate:this.localFilter("width",Y),heightPredicate:this.localFilter("height",ay),hlsprePredicate:this.localFilter("hlspre",ar.get("useHlsFlash")==="true"&&(!K.isMobile())),sslPredicate:K.shouldEnableRtmps(ar)?this.localFilter("ssl",true):this.localFilter("ssl",false),syndicationPredicate:this.localFilter("synd",ar.get("synd"))});},getRelatedVideosQuery:function(){var ao=this._model,aq=380,Y=214,ap=ao.get("endscreen").algoContent||this.get("algoContent");return f.Lang.sub(this.get("tachyonLoadRelatedParams"),{sitePredicate:encodeURIComponent(ao.get("site")),regionPredicate:encodeURIComponent(ao.get("region")),langPredicate:encodeURIComponent(ao.get("lang")),algoPredicate:encodeURIComponent(ap),startPredicate:encodeURIComponent(this.get("relatedStart")),countPredicate:encodeURIComponent(this.get("relatedCount")),offnetworkPredicate:encodeURIComponent(ao.get("isOffNetwork")),widthPredicate:encodeURIComponent(aq),heightPredicate:encodeURIComponent(Y)});},getMetaQuery:function(ao,ap){var Y=this._model;return f.Lang.sub(this.get("yqlMetaQuery"),{columns:ao.join(","),idPredicate:this.remoteFilter("id",ap),sitePredicate:this.localFilter("site",Y.get("site")),regionPredicate:this.localFilter("region",Y.get("region")),langPredicate:this.localFilter("lang",Y.get("lang")),offnetworkPredicate:this.localFilter("offnetwork",Y.get("isOffNetwork"))});},getCcTtmlUrlQuery:function(){var Y=this._model,ao=Y.get("closedCaptionUrl")||"";
return f.Lang.sub(this.get("yqlCcTtmlQuery"),{ttmlUrlPredicate:this.localFilter("url",ao)});},getMultiClipsQuery:function(aq,ar,at){var ap=this.getClipsQuery(aq,ar),Y=this.getMetaQuery(aq,at),ao="'"+ap+Y+"'";return f.Lang.sub(this.get("yqlMultiClipsQuery"),{queriesPredicate:"queries = "+ao});},clipIds:function(Y){return f.Array.map(Y.toArray(),function(ao){return ao.id;});},getClipUUIDs:function(ap){var Y="",ao;f.each(ap,function(aq){Y+=aq.get("id")+",";});if(Y){Y=Y.substr(0,Y.length-1);}return Y;},getFirstClip:function(Y){var ao;if(f.Lang.isArray(Y)&&Y.length>0){ao=new Array(Y[0]);return ao;}return Y;},quoteStr:function(Y){return'"'+Y+'"';},remoteFilter:function(ao,Y){var ap=ao;if(Y.length>1){ap+=" IN ";ap+="("+f.Array.map(Y,this.quoteStr).join(", ")+")";}else{ap+="=";ap+='"'+Y[0]+'"';}return ap;},localFilter:function(Y,ao){return Y+"="+this.quoteStr(ao);}});f.namespace("VideoPlatform").LegoCMS=aj;function B(){B.superclass.constructor.apply(this,arguments);this.queue=new f.AsyncQueue();this.isRunning=true;}B.NAME="BeaconService";B.NS="beaconService";B.ATTRS={beaconTemplate:{value:""},beacon:{value:""}};f.extend(B,f.Base,{create:function(ap){var ao=this.get("beaconTemplate"),Y;if(ao!==""){Y=f.substitute(ao,ap);this.set("beacon",Y);}},send:function(){var Y=this.get("beacon"),ao;if(Y!==""){ao=f.bind(this._getBeaconJob(Y),this);this.queue.add(ao);if(this.isRunning){this.queue.run();}return true;}return false;},_getBeaconJob:function(Y){return function(){var ao,ap;ao=new Image();ap=function(){ao.onload=null;ao.onabort=null;ao.onerror=null;ao=null;};ao.onload=ap;ao.onabort=ap;ao.onerror=ap;ao.src=Y;};},run:function(){this.isRunning=true;this.queue.run();},pause:function(){this.isRunning=false;this.queue.pause();},stop:function(){this.isRunning=false;this.queue.stop();}});f.namespace("VideoPlatform").BeaconService=B;function j(){}function i(){i.superclass.constructor.apply(this,arguments);}i.NAME="HTMLVideoRenderer";i.NS="htmlVideoRenderer";i.VIDEO_TEMPLATE="<video {initAttrs}></video>";i._instanceInfo={};i._registerInstance=function(Y){var ap=i._instanceInfo,ao=f.guid(Y);ap[ao]={ref:Y,removed:false};};i._unregisterInstance=function(Y){var ap=i._instanceInfo,ao=f.guid(Y);delete ap[ao];};if(f.UA.ios&&i._domNodeInserted===undefined){i._domNodeRemoved=function(ao){if(ao.srcElement.nodeType===1){var Y=f.one(ao.srcElement);f.some(i._instanceInfo,function(ap){if(ap.ref._video&&Y.contains(ap.ref._video)&&true!==ap.syncing){ap.removed=true;ap.removedState={currentTime:Math.floor(ap.ref._videoNode.get("currentTime"))};return true;}return false;});}};i._domNodeInserted=function(ao){if(1===ao.srcElement.nodeType){var Y=f.one(ao.srcElement);f.some(i._instanceInfo,function(ap){if(ap.ref._video&&Y.contains(ap.ref._video)){if(true===ap.removed){ap.resyncing=true;ap.ref._recreateVideo();ap.ref._reSync();ap.resyncing=false;}return true;}return false;});}};j("ios - listening for mutation events...");f.one("body")._node.addEventListener("DOMNodeRemoved",i._domNodeRemoved);f.one("body")._node.addEventListener("DOMNodeInserted",i._domNodeInserted);}i.ATTRS={mediaItem:{readOnly:true,getter:function(){return this._mediaItem;}},chromeless:{},videoUrlTemplate:{value:"http://m.yahoo.com/w/web/video?u=url%5B%5D%3D{id}&lg=yep"},guid:{value:""},volume:{value:""},mute:{value:""},ccNode:{value:null},ccTextNode:{value:null},streamBitrate:{value:null}};f.extend(i,z,{_container:null,_mediaItem:null,_videoNode:null,_profiler:null,_model:null,log:function(Y,ao){},initializer:function(){var ap=arguments[0]||{},ao=ap.model,Y=this;Y._profiler=ap.controller?ap.controller.getProfiler():null;Y._mediaItem=ap.mediaItem;Y._model=ao;Y._controller=ap.controller;f.each(["videoUrlTemplate","chromeless","guid","volume","mute"],function(aq){if(f.Lang.isValue(ao.get(aq))){Y.set(aq,ao.get(aq));}},Y);Y.after("volumeChange",function(aq){Y.fire(ai.VOLUME_CHANGE,aq.newVal);},Y);Y.after("muteChange",function(aq){Y.fire(ai.MUTE_CHANGE,aq.newVal);},Y);i._registerInstance(Y);},_renderNode:function(){var Y,ao;Y={"x-webkit-airplay":"allow","oncontextmenu":"return false;"};ao=f.substitute(i.VIDEO_TEMPLATE,{initAttrs:this._toAttrString(Y)});return f.Node.create(ao);},getContent:function(){return this._videoNode;},destructor:function(){this.stop();this._unbindEventHandlers();this._videoNode.remove();},render:function(Y){j("render()",Y);this.set("videoContainer",Y);this.set("videoContentNode",Y.ancestor(".yui3-videoplayer-content"));this.renderUI(Y);this.bindUI();this.syncUI();return this;},renderUI:function(Y){this._videoNode=this._renderNode();if(f.UA.mobile||f.UA.android){this._videoAdNode=this._videoNode;}else{this._videoAdNode=this._renderNode();}this._syncStyle();if(Y){Y.appendChild(this._videoNode);if(this._videoAdNode!==this._videoNode){Y.appendChild(this._videoAdNode);}}this.set("playbackPlugin",this._videoAdNode._node);if(!f.UA.mobile){this._addClosedCaptionsNode();this._displayClosedCaptions();}this.set("readyState",z.Constants.READY_STATE.HAVE_NOTHING);},bindUI:function(){var ao=this,Y=ao._model;ao._unbindEventHandlers();ao._bindEventHandlers();Y.after("ccSettingsChange",function(ap){if((!f.Lang.isValue(ap.subAttrName)||ap.subAttrName==="ccSettings.show")&&f.Lang.isValue(ap.newVal)&&f.Lang.isValue(ap.newVal.show)){ao._displayClosedCaptions();}},ao);},syncUI:function(){var Y=this._model;this._videoNode.setAttrs(this._getVideoAttrs(this.getAttrs(),this._mediaItem));this.setVolume(Y.get("volume"));this.setMute(Y.get("mute"));this._syncStyle();},_syncStyle:function(){this._videoNode.setStyles({background:"#000",width:"100%",height:"100%"});},_recreateVideo:function(){this._videoNode.remove(true);this.renderUI();},_reSync:function(){var Y=this._getVideoAttrs(this.getAttrs(),this._mediaItem);delete Y.poster;this.bindUI();this._syncStyle();this._videoNode.setAttrs(Y);},_getVideoAttrs:function(){var Y={};if(!!f.UA.mobile){Y.controls="controls";}return Y;},_selectBestStreamFromSortedStreams:function(ar,Y,ap){var ao=[];if(f.Lang.isNumber(f.UA.android)&&f.UA.android>0){var aq=f.Array.filter(ar,function(at){return(at.format===K.formats.MP4)&&(at.h264_profile==="Constrained Baseline");
});if(aq.length>0){ar=aq;}}if(Y){ao=f.Array.filter(ar,function(at){return Number(at.height)<=Y;},this);}else{ao=f.Array.filter(ar,function(at){return Number(at.bitrate)<=ap;},this);}return ao;},_getVideoUrl:function(at,ar){var av,aq,ap,Y=at.get("streamUrl")||"",ao=this._model.get("selectedResolution");if(!at.get("selectableStreams")){at.set("selectableStreams",this._processSelectableStreams(at));}av=at.get("selectableStreams");if(!f.Lang.isValue(at.get("streams"))){return Y;}if(av){av=av.sort(function(ax,aw){return ax.bitrate-aw.bitrate;});aq=this._selectBestStreamFromSortedStreams(av,ao,ar);if(aq.length>0){ap=aq.pop();}else{if(aq.length===0&&av.length>0){ap=av[0];}else{var au=at.get("streams");au=au.sort(function(ax,aw){return ax.bitrate-aw.bitrate;});ap=au[au.length-1];}}this.set("streamBitrate",ap.bitrate);this._model.set("streamBitrate",ap.bitrate);Y=this.joinUrl(ap.host,ap.path);}return Y;},_getUrlFromTemplate:function(Y,ao){return f.substitute(Y,ao,function(ap,aq){return encodeURIComponent(aq);});},_toAttrString:function(Y){var ao=[];f.each(Y,function(aq,ap){ao.push(ap+'="'+aq+'"');});return ao.join(" ");},_play:function(){j("_play");this._videoNode.invoke("play");},setClosedCaptionAvailability:function(){var ao=this,Y=this._model,ap=this._mediaItem.get("CC");if(f.UA.mobile){Y.set("ccAvailable",false);Y.set("closedCaptionUrl",null);}else{if(ap===undefined||ap===null||ap.length===0){Y.set("ccAvailable",false);}else{Y.set("ccAvailable",true);}Y.set("closedCaptionUrl",ao._controller.getClosedCaptionUrl());}},suspendControl:function(){j("suspendControl");var Y={currentTime:Math.floor(this._videoNode.get("currentTime")),ended:this._videoNode.get("ended"),paused:this._videoNode.get("paused")};this.pause();this._unbindEventHandlers();return Y;},returnControl:function(Y){if(!(f.UA.mobile||f.UA.android)){this._videoNode.setAttribute("autoplay","true");}this._reSync(Y);},_processSelectableStreams:function(ao){var ay=this,az=ao.get("streams"),av={},Y=[240,360,540,720,1080],aw=[],au,at,aq,ar,ap,ax;if(!f.Lang.isValue(az)){return;}f.each(az,function(aB){var aA=aB.height;aB=f.clone(aB);if(aB.bitrate<600){aA=240;aB.height=240;aB.width=427;}if(Y.indexOf(aA)!==-1){if(av[aA]){av[aA].push(aB);}else{av[aA]=[aB];}}});ap=function(aB,aA){return aB.bitrate-aA.bitrate;};ax=function(aA){return Number(aA.bitrate)<=ay._model.get("bitrate");};for(aq in av){if(av.hasOwnProperty(aq)){au=av[aq].sort(ap);at=f.Array.filter(au,ax,ay);ar=(at.length===0)?au[0]:at.pop();aw.push(ar);}}aw.sort(function(aB,aA){return aB.height-aA.height;});if(aw.length>4){aw=aw.slice(0,2).concat(aw.slice(3));}return aw;},preload:function(at){var ap=this._model.get("bitrate"),au=this._getVideoUrl(at,ap),ar=at.get("streamProtocol"),ao,aq=this._videoNode,Y=this._profiler;if(!(f.UA.mobile||f.UA.android)&&au!==""){if(!ar){ar=K.parseUrl(au).protocol;}ao=K.getStreamType(au,ar);at.set("streamType",ao);if(Y){Y.add(am.STREAM_LOADED);}aq.set("preload","auto");aq.set("src",au);}},load:function(at){var ap=this._model.get("bitrate"),au=this._getVideoUrl(at,ap),ar=at.get("streamProtocol"),ao,aq=this._videoNode,Y=this._profiler;this._mediaItem=at;if(Y){Y.add(am.STREAM_REQUEST_TO_RENDER);}if(aq.get("src")!==au){if(!ar){ar=K.parseUrl(au).protocol;}ao=K.getStreamType(au,ar);at.set("streamType",ao);if(Y){Y.remove(am.STREAM_LOADED.type);Y.add(am.STREAM_LOADED);}aq.set("src",au);aq._node.load();}this.setClosedCaptionAvailability();this.play();},play:function(){this._videoNode.invoke("play");},pause:function(){this._videoNode.invoke("pause");},seek:function(Y){this._videoNode.set("currentTime",Y);},stop:function(){this._videoNode.invoke("pause");},getDuration:function(){return this._videoNode.get("duration");},getBuffered:function(){var ap=this,ao=ap._videoNode.get("buffered"),Y=ao.length;if(Y===0){return null;}return{start:ao.start(Y-1),end:ao.end(Y-1)};},calculateCanvasLocation:function(){var ay=this,aw=ay._videoNode.get("videoWidth"),av=ay._videoNode.get("videoHeight"),ax=aw/av,au=ay._videoNode.get("clientWidth"),ap=ay._videoNode.get("clientHeight"),aq=au/ap,ao=0,at=0,ar=0,Y=0;if(aq>ax){at=ap.toFixed(2);ao=(ax*ap).toFixed(2);}else{ao=au.toFixed(2);at=(au/ax).toFixed(2);}Y=Math.max((au-ao)/2,0);ar=Math.max((ap-at)/2,0);return{width:ao,height:at,left:Y,top:ar};},setResolution:function(Y){var av=this,aw=av._model.get("currentMedia").get("selectableStreams"),at,au=av._model.get("height"),ap=av._model.get("width"),ar=av.calculateCanvasLocation(),aq,ao;av.pause();av.previousTime=av._videoNode.get("currentTime");if(aw){av._model.set("changingResolution",true);av._model.set("isSpinnerShown",true);aq=document.createElement("canvas");aq.width=ap;aq.height=au;aq.style.cssText="position:absolute;"+"width:"+ar.width+"px;"+"height:"+ar.height+"px;"+"left:"+ar.left+"px;"+"top:"+ar.top+"px";f.one(".yui3-videoplayer-loading").insert(aq,"before");ao=aq.getContext("2d");ao.drawImage(av._videoNode._node,0,0,ap,au);av._videoNode.setStyle("display","none");at=aw[Y];av.set("streamBitrate",at.bitrate);av._model.set("streamBitrate",at.bitrate);av._model.set("selectedResolution",at.height);av._videoNode.setAttribute("src",av.joinUrl(at.host,at.path));}},setFullscreen:function(aq){var ao=this,Y=ao.get("videoContentNode")._node,ap=ao._videoNode._node;if(aq===true){if(Y.requestFullscreen){Y.requestFullscreen();}else{if(Y.webkitRequestFullscreen){Y.webkitRequestFullscreen();}else{if(Y.mozRequestFullScreen){Y.mozRequestFullScreen();}else{if(Y.msRequestFullscreen){Y.msRequestFullscreen();}else{}}}}}else{if(document.exitFullscreen){document.exitFullscreen();}else{if(ap.webkitExitFullscreen){ap.webkitExitFullscreen();}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else{if(document.msExitFullscreen){document.msExitFullscreen();}}}}}}},setMute:function(Y){this._videoNode.set("muted",Y);this._videoAdNode.set("muted",Y);},setVolume:function(Y){this._videoNode.set("volume",Y);this._videoAdNode.set("volume",Y);
},applyClosedCaptions:function(){var at=this._model.get("closedCaptions"),aq=this._videoNode.get("currentTime"),ar="",Y=this.get("ccTextNode"),ap=this.get("ccNode"),ao;ap.addClass("yui3-videoplayer-opacity-100");ap.setStyle("zIndex",1);if(at===null||at.entries===null){return;}for(ao=0;ao<at.entries.times.length;ao++){if(aq>=at.entries.times[ao].start&&aq<=at.entries.times[ao].end){ar=at.entries.text[ao];Y.set("innerHTML",ar);return;}}},_addClosedCaptionsNode:function(){var aq=this.get("videoContainer"),Y=aq.ancestor(".yui3-videoplayer-content"),ap,ao;if(!aq||!Y){return;}ap=Y.one(".yui3-videoplayer-closedcaptions");ao=ap.appendChild(f.Node.create('<p class="yui3-videoplayer-closedcaptions-text"></p>'));this.set("ccNode",ap);this.set("ccTextNode",ao);if(this._model.get("ccSettings.show")===false){ap.hide();}},_displayClosedCaptions:function(){if(!this._model.get("ccAvailable")){return;}if(this._model.get("ccSettings.show")===true){this.get("ccNode").show();}else{this.get("ccNode").hide();}},_bindEventHandlers:function(){var ao={"loadeddata":this._onLoadedData,"ended":this._onEnded,"error":this._onError,"pause":this._onPause,"play":this._onPlay,"playing":this._onPlaying,"timeupdate":this._onTimeUpdate,"waiting":this._onWaiting,"seeking":this.onSeeking,"seeked":this._onSeeked,"volumechange":this._onVolumeChange},Y={"fullscreenchange":this._onFullscreenChange,"webkitfullscreenchange":this._onFullscreenChange,"mozfullscreenchange":this._onFullscreenChange,"MSFullscreenChange":this._onFullscreenChange};this.docEvents=Y;f.each(ao,function(ap,aq){f.Node.DOM_EVENTS[aq]=1;if(null!==ap){this._videoNode.on(aq,ap,this);}},this);f.each(Y,function(ap,aq){f.Node.DOM_EVENTS[aq]=1;f.one(document).on(aq,ap,this);},this);},_unbindEventHandlers:function(){f.each(this.docEvents,function(Y,ao){f.one(document).detach(ao,Y);},this);if(this._videoNode){this._videoNode.detachAll();}},_onPlay:function(){var Y=this;Y.fire(ai.PLAYBACK_PLAY);if(Y._model.get("changingResolution")){Y.seek(Y.previousTime);}},_onPlaying:function(){var Y=this;if(Y._profiler){Y._profiler.setEndTime(am.STREAM_REQUEST_TO_RENDER.type);}Y.fire(ai.PLAYBACK_PLAYING);},_onPause:function(){if(!this._videoNode.get("ended")){this.fire(ai.PLAYBACK_PAUSED);}},_onSeeked:function(){var Y=this;if(Y._model.get("changingResolution")){Y.play();Y._videoNode.setStyle("display","block");f.one(".yui3-videoplayer-main").all("canvas").remove();Y._model.set("isSpinnerShown",false);Y._model.set("changingResolution",false);}},_onTimeUpdate:function(){var Y=this._model.get("ccAvailable");if(Y){this.applyClosedCaptions();}this.fire(ai.PLAYBACK_PROGRESS,{source:i.NAME,currentTime:this._videoNode.get("currentTime"),duration:this._videoNode.get("duration")});},_onWaiting:function(){this.fire(ai.PLAYBACK_WAITING);},_onLoadedData:function(){if(this._profiler){this._profiler.setEndTime(am.STREAM_LOADED.type);}this.fire(ai.PLAYBACK_READY);},_onEnded:function(){if(this.shouldLoopVideo()===false){if(this.get("ccNode")){this.get("ccNode").hide();}this.fire(ai.PLAYBACK_COMPLETE);}else{this._videoNode.currentTime=0;this.play();}},_onVolumeChange:function(){var ao=this._videoNode.get("muted"),Y=this._videoNode.get("volume");if(ao!==this.get("mute")){this.set("mute",ao);}if(Y!==this.get("volume")){this.set("volume",Y);}},_onFullscreenChange:function(){var Y=this;f.later(700,Y,function(){var ar,ap,aq,ao=Y._model,au,at,av;ar=Y.get("videoContentNode").get("offsetHeight");ap=Y._controller._controls._view.get("screenSize");au=ao.get("currentMedia");av=au?au.get("provider").provider_id:null;at=t.NFL_BRANDING_DIMENSIONS[ap].HEIGHT;if(av&&av==="video.nflhighlights.com"){aq=(ar-at)+"px";}else{aq=Y._model.get("carousel")?(ar-t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].HEIGHT-t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].VERTICAL_SPACING).toString()+"px":"100%";}if(aq){Y._controller._controls._view.main.setStyle("height",aq);}});if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement){this.fire(ai.FULLSCREEN_ENTER);}else{this.fire(ai.FULLSCREEN_EXIT);}},_onError:function(){var ap=["Unknown error code 0","ABORTED - The fetching process for the media resource was aborted by the user agent at the user's request.","NETWORK - A network error of some description caused the user"+"agent to stop fetching the media resource, after the resource was established to be usable.","DECODE - An error of some description occurred while decoding the media resource, after the resource was established to be usable.","SRC_NOT_SUPPORTED - The media resource indicated by the src attribute was not suitable."],Y=this._videoNode.get("error"),ao=c;j("video ERROR: "+(Y?Y.code+" "+ap[Y.code]:"null error. poster?"));if(Y){this.fire(ai.PLAYBACK_ERROR,new f.VideoPlatform.ErrorObject(ao.ERROR.PLAYBACK.type,ao.ERROR.PLAYBACK.code,this.constructor.NAME,ap[Y.code],ao.LEVEL.CRITICAL));}},setSettingsMenuVisibility:function(Y){}});f.namespace("VideoPlatform").HTMLVideoRenderer=i;function k(){k.superclass.constructor.apply(this,arguments);}k.NAME="FlashVideoRenderer";k.NS="flashVideoRenderer";k.SWF_NAME="player.swf";k.FLASH_VERSION="10.3.0";k.FIXED_SWF_ATTRS={allowScriptAccess:"always",allowFullScreen:"true",wmode:K.determineWindowMode(f.UA,f.config.win.navigator.userAgent)};k.ATTRS={swfUrl:{writeOnce:"initOnly"}};f.extend(k,z,{_model:null,_controller:null,_profiler:null,_shouldRecordTime:true,_commandQueue:null,_mediaObject:null,log:function(Y,ao){},initializer:function(Y){this._model=Y.model;this._controller=Y.controller;this._skipFlashCheck=Y.skipFlashCheck;this._commandQueue=[];if(this._controller){this._profiler=this._controller.getProfiler();}if(!this.get("swfUrl")){this._set("swfUrl",K.PLAYER_ASSETS_URL+k.SWF_NAME);}if(Y.skipFlashCheck===false){if(!this._isFlashInstalled()){this._controller.error(new f.VideoPlatform.ErrorObject(c.ERROR.NO_FLASH.type,c.ERROR.NO_FLASH.code,this.constructor.NAME,"Flash is not installed",c.LEVEL.CRITICAL));return;}}this._model.after("yvapStateChange",function(ao){if(ao.newVal===YVAPEvents.PLUGIN_REMOVED){this._removeYVAP();
}},this);},_removeYVAP:function(){var Y=this._yswf;if(Y){Y.callSWF("unloadPlugin",["YVAP"]);}},destructor:function(){var Y=this.get("videoContentNode"),ao=this._yswf;if(ao&&ao._swf){ao._swf.detach("flash-fix|*");ao._swf.detachAll();}if(Y){Y.detach("flash-fix|*");Y.detachAll();}},render:function(Y){this.set("videoContainer",Y);this.set("videoContentNode",Y.ancestor(".yui3-videoplayer-content"));this._yswf=this._renderNode(Y);this.set("playbackPlugin",this._yswf);this._yswf.on("swfReady",this._onSwfReady,this);this._yswf.on("uiInteract",this._onUiInteract,this);this._yswf.on("playerPluginResize",this._onResize,this);this._yswf.on("waiting",this._onWaiting,this);this._yswf.on("jsLog",function(ao){},this);},_renderNode:function(ap){var aq=this.get("swfUrl"),Y=new l({model:this._model}),au,aw=this,av=aw._profiler,at,ar,ao=10000;Y.start();if(av){av.add(am.YSWF_NodeRendered);}aq=(this._model.get("hostingData.bucket")===1)?aq+"?qos=1":aq;au=new f.YEPSWF(ap,aq,{version:k.FLASH_VERSION,fixedAttributes:k.FIXED_SWF_ATTRS});if(au!==null&&au!==undefined){au.after("yuiIntegrationError",function(){var ax=c.ERROR.YUI_INTEGRATION_ERR;aw._controller.error(new f.VideoPlatform.ErrorObject(ax.type,ax.code,aw.constructor.NAME,"YUI.SWF is not available",c.LEVEL.CRITICAL));});au.after("wrongflashversion",function(){var ax=c.ERROR.OLD_FLASH;aw._controller.error(new f.VideoPlatform.ErrorObject(ax.type,ax.code,this.constructor.NAME,"Flash is not up to date",c.LEVEL.CRITICAL));return;});}if(au!==null&&au!==undefined){this._addFlashBlockingSniffers();}Y.stop(am.YSWF_NodeRendered.type,am.YSWF_NodeRendered.desc);if(av){av.setEndTime(am.YSWF_NodeRendered.type);av.add(am.YSWF_READY);av.add(am.YSWF_LOADED);}return au;},isSwfReady:function(ap){var Y=false;if(!f.Lang.isValue(ap)){return Y;}try{Y=f.Lang.isValue(ap.callSWF("get",["swfReady"]));}catch(ao){f.warn("isSwfReady() + Error = "+ao);}finally{return Y;}},preload:function(){},load:function(ao){var Y=this;if(Y.get("readyState")===z.Constants.READY_STATE.HAVE_NOTHING){Y._load(ao);}else{Y._commandQueue.push("_load");Y._mediaObject=ao;if(Y._yswf&&Y.isSwfReady(Y._yswf)){Y._onSwfReady();}}},play:function(ao){var Y=this;if(Y.get("readyState")===z.Constants.READY_STATE.HAVE_NOTHING){Y._play(ao);}else{Y._commandQueue.push("_play");if(ao){Y._mediaObject=ao;}if(Y._yswf&&Y.isSwfReady(Y._yswf)){Y._onSwfReady();}}},pause:function(){},seek:function(){},stop:function(){},unload:function(){},getDuration:function(){return NaN;},setVolume:function(){},setMute:function(){},setFullscreen:function(){},updateControls:function(Y){if(this._yswf){this._yswf.callSWF("updateControls",[Y]);}},positionCaptions:function(Y){this.updateControls({ccBottomLeftOffset:Y});},computeAdClientSize:function(ar){var Y=this._controller,ap=Y.getControlsObj(),aq=f.Lang.isValue(ar)?ar.height:0,au=(f.Lang.isValue(ap))?ap.getControlBarHeight():0,ao=aq,av=f.Lang.isValue(ar)?ar.width:0,at={};if(!ap.inAdContext()&&this.isPlaybackMode()&&(aq>=au)){ao=aq-au;}at={width:av,height:ao};return at;},isPlaybackMode:function(){var Y=this._model.get("playerState");return(Y==="started"||Y==="paused");},getBuffered:function(){if(this._yswf){return this._yswf.callSWF("get",["buffered"]);}return null;},_load:function(Y){var at=this._model,aw=at.get("hostingData"),ax=this,ar={version:at.get("version"),site:at.get("site"),region:at.get("region"),bucket:(f.Lang.isObject(aw))?aw.bucket:0,autoplay:at.get("autoplay"),spaceid:at.get("pageSpaceId"),hostEnv:(f.Lang.isObject(aw))?aw.env:"",lang:at.get("lang"),maxConnectionAttempts:at.get("maxConnectionAttempts")},aq=true,ao=this.convertMedia(Y),av=this._profiler,ap=this.get("videoContainer");if(av){this._streamLatencyKey=av.add(am.STREAM_REQUEST_TO_RENDER);if(at.get("useHlsFlash")==="true"){this._preparingLoadKey=av.add(am.PREPARING_STREAM_LOAD);this._masterPlaylistLatencyKey=av.add(am.HLS_MASTER_PLAYLIST_LOAD);this._levelPlaylistLatencyKey=av.add(am.HLS_LEVEL_PLAYLIST_LOAD);}this._streamLoadedKey=av.add(am.STREAM_LOADED);if(at.get("useHlsFlash")==="true"){this._hlsttfbKey=av.add(am.HLS_TIME_TO_FIRST_BYTE);}}this._shouldRecordTime=true;if(f.Lang.isValue(ap)){ap.setStyle("opacity","1");}try{this._yswf.callSWF("prepareLoadMedia");this._yswf.callSWF("set",["playerInfo",ar]);this._yswf.callSWF("set",["loop",this.shouldLoopVideo()]);f.Array.each(ao.streams||[],function(ay){},this);if(ao.CC===undefined||ao.CC===null||ao.CC.length===0){aq=false;}at.set("ccAvailable",aq);ax.updateControlsDefaults();this._yswf.callSWF("set",["src",ao]);}catch(au){}},updateControlsDefaults:function(){var aq=this,Y=aq._model,at=aq._controller.getClosedCaptionUrl(),ap=Y.get("ccAvailable"),ar=Y.get("ccSettings.lang"),ao="["+aq._controller.getCaptionsString(ar,"CAPTIONS_NOT_AVAILABLE")+"]";if(ap&&!at){ao="["+aq._controller.getCaptionsString(ar,"CAPTIONS_LANGUAGE_NOT_AVAILABLE")+"]";ap=false;at="";}this.updateControls({ccAvailable:ap,ccCustomization:Y.get("ccSettings"),ccUrl:at,ccShow:Y.get("ccSettings.show"),ccBottomLeftOffset:{x:0,y:aq.getCaptionsBottom()},noCaptionsAvailableText:ao});if(aq._controller.isCaptionsCustomizationMode()){aq._controller.setCaptionsCustomizationMode(true);}},_play:function(){if(this._profiler&&this._shouldRecordTime){this._playToRenderKey=this._profiler.add(am.STREAM_PLAY_TO_RENDER);}this._setProperties(this);if(this._yswf){this._yswf.callSWF("playMedia");}},_pause:function(){this._shouldRecordTime=false;if(this._yswf){this._yswf.callSWF("pauseMedia");}},setSettingsMenuVisibility:function(Y){this.updateControls({settingsMenuVisible:Y});},_stop:function(){this._pause();},_seek:function(Y){this._shouldRecordTime=false;if(this._yswf){this._yswf.callSWF("set",["currentTime",Y]);}},_unload:function(){},_getDuration:function(){if(this._yswf){return this._yswf.callSWF("get",["duration"]);}return null;},_setVolume:function(Y){if(this._yswf){this._yswf.callSWF("set",["volume",Y]);}},_setFullscreen:function(ar){var ao=this.get("videoContentNode"),aq=ao._node,at=f.one("body").hasClass("yui3-videoplayer-lightbox"),Y,ap;
if(ar){if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!at){if(aq.requestFullscreen){aq.requestFullscreen();}else{if(aq.webkitRequestFullscreen){aq.webkitRequestFullscreen();}else{if(aq.msRequestFullscreen){aq.msRequestFullscreen();}else{if(aq.mozRequestFullScreen){ap=this._yswf._swf;ap.getDOMNode().focus();ap.getDOMNode().blur();aq.mozRequestFullScreen();}else{this._enterLightbox();}}}}}}else{if(at){this._exitLightbox();}else{if(document.cancelFullScreen){document.cancelFullScreen();}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else{if(document.msExitFullscreen){document.msExitFullscreen();}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();if(document.mozFullScreen===true){Y=ao.get("parentNode");Y.removeChild(ao);Y.appendChild(ao);}}}}}}}},_enterLightbox:function(){var Y=f.one("body"),ao=this.get("videoContentNode").ancestor();if(Y.hasClass("yui3-videoplayer-lightbox")){return;}K.postMessage("enter_fullscreen");while(ao.get("nodeName")!=="BODY"){ao.addClass("yui3-videoplayer-lightbox-ancestor");ao=ao.ancestor();}Y.addClass("yui3-videoplayer-lightbox");this._onFullscreenChange();},_exitLightbox:function(){var Y=f.one("body"),ao=this.get("videoContentNode").ancestor();if(!Y.hasClass("yui3-videoplayer-lightbox")){return;}K.postMessage("exit_fullscreen");Y.removeClass("yui3-videoplayer-lightbox");while(ao.get("nodeName")!=="BODY"){ao.removeClass("yui3-videoplayer-lightbox-ancestor");ao=ao.ancestor();}this._onFullscreenChange();},_setMute:function(Y){if(this._yswf){this._yswf.callSWF("set",["muted",Y]);}},_setProperties:function(Y){if(Y._yswf){Y._yswf.callSWF("set",["controls",false]);Y._yswf.callSWF("updateControls",[{ccBottomLeftOffset:{x:0,y:this.getCaptionsBottom()}}]);}},_setYuiId:function(Y,ap){if(!f.Lang.isValue(ap)){return;}try{if(f.Lang.isValue(ap.callSWF)){ap.callSWF("set",["yuiId",Y]);}}catch(ao){f.warn("_setYuiId() + Error = "+ao);}},getFontList:function(){if(this._yswf){return this._yswf.callSWF("get",["fontList"]);}return null;},_isFlashInstalled:function(){var Y=f.SWFDetect.getFlashVersion().split(".",3);if(Y[0]==="undefined"){return false;}return true;},_recordProfilingTime:function(){var ao,aq,ar,au,Y,at,ap=this._profiler;if(ap){if(this._yswf){this._yswf.callSWF("set",["jsStartupTime",ap.getItem(am.YSWF_READY.type).startTime+ap.getPlayerStartTime()]);ao=this._yswf.callSWF("get",["profileData"]);}if(ao){aq=ao.ProfileBrowserTime.time;ap.setDelta(am.YSWF_LOADED.type,aq);ap.add(am.YSWF_SWF_ONLY_INIT_TIME);ap.setStartTime(am.YSWF_SWF_ONLY_INIT_TIME.type,ap.getItem(am.YSWF_LOADED.type).endTime);ar=ao.ProfileBeforeStartup.time;at=ao.ProfileJsapiInit.time;Y=ao.ProfileSwfReady.time;au=ar+at+Y;ap.setDelta(am.YSWF_SWF_ONLY_INIT_TIME.type,au);}}},_onSwfReady:function(){var Y=this;if(Y._profiler){Y._profiler.setEndTime(am.YSWF_READY.type);}if(Y._skipFlashCheck===false){Y._recordProfilingTime();}Y._setUpActualApi();Y._syncUI();Y._bindUI();if(Y._yswf){Y._yswf.callSWF("updateControls",[{playLoadAnimation:true}]);}Y._setProperties(Y);Y.set("readyState",z.Constants.READY_STATE.HAVE_NOTHING);f.each(Y._commandQueue,function(ap){var ao=Y._mediaObject;if(ao){Y[ap].call(Y,ao);}});Y._commandQueue=[];},_onUiInteract:function(Y){this.fire(Y);},_syncUI:function(){var ao=this,Y=this._model;ao.setVolume(Y.get("volume"));ao.setMute(Y.get("mute"));},_resendEvent:function(Y){var ao=Y._event;ao.cancelBubble=false;ao.defaultPrevented=false;ao.returnValue=true;if(Y.target.dispatchEvent){Y.target.dispatchEvent(ao);}else{if(Y.target.fireEvent){Y.target.fireEvent(ao);}}},_bindUI:function(){var ao=this._model,at=this._yswf,ap={loadeddata:this._onLoadedData,ended:this._onEnded,mediaunloaded:this._onMediaUnloaded,error:this._onError,warning:this._onWarning,pause:this._onPause,play:this._onPlay,playing:this._onPlaying,timeupdate:this._onTimeUpdate,durationchange:this._onDurationChange,seeking:this.onSeeking,seeked:this.onSeeked,volumechange:this._onVolumeChange,infoupdate:this._onInfoUpdate,bitratechange:this._onBitrateChange,failoverStateChange:this._onFailoverStateChange,waiting:this._onWaiting,ccAvailabilityChange:this._onCCAvailabilityChange,liveChange:this._onLiveChange,streamTypeChange:this._onStreamTypeChange,selectedStreamChange:this._onSelectedStreamChange,selectedStreamUrlChange:this._onSelectedStreamUrlChange},av=f.one(document),au={"fullscreenchange":this._onFullscreenChange,"webkitfullscreenchange":this._onFullscreenChange,"mozfullscreenchange":this._onFullscreenChange,"MSFullscreenChange":this._onFullscreenChange},ar=this,Y,aq;f.Object.each(ap,function(aw,ax){f.Node.DOM_EVENTS[ax]=1;this._yswf.after(ax,aw,this);},this);f.each(au,function(aw,ax){f.Node.DOM_EVENTS[ax]=1;av.on(ax,aw,this);},this);ao.after("activeScreenStrChange",function(){var aw="info"===ao.get("activeScreenStr");at.callSWF("updateControls",[{infoSelect:aw,fullscreenEnable:!aw}]);});f.on("keyup",function(aw){if(aw.keyCode===27&&f.one("body").hasClass("yui3-videoplayer-lightbox")){ar._exitLightbox();}},"body");if(f.Lang.isNumber(f.UA.gecko)&&(f.UA.gecko>0)&&(f.UA.os==="macintosh")){Y=this.get("videoContentNode");aq=at._swf;Y.on("flash-fix|mouseup",function(ax){console.log(ax);var aw=ax.target&&ax.target._node;if(aw&&aw.nodeName.toLowerCase()==="input"&&aw.className==="vp-agegate-input"){return;}aq.getDOMNode().focus();aq.getDOMNode().blur();});aq.on(["flash-fix|mousemove","flash-fix|mouseup"],ar._resendEvent);}ao.after("showControlsChange",function(){ar._updateView();});ao.after("widthChange",function(){ar._updateView();});ao.after("heightChange",function(){ar._updateView();});ao.after("currentMediaChange",function(){ar._onMediaChange();});},_setUpActualApi:function(){var ao=this,Y=["load","play","pause","seek","stop","unload","setVolume","setMute","setFullscreen","getDuration"];f.each(Y,function(ap){ao[ap]=ao["_"+ap];});},_onMediaChange:function(){this._updateView();this.updateControls({ccShow:false,clearCaptions:true});},_updateView:function(){this._updateAdClientSize();
this._positionCaptions();},_updateAdClientSize:function(){var ao=this,ap=ao._model,at=ap.get("width"),Y=ap.get("height"),aq=ap.get("adClientSize"),ar={};ar=ao.computeAdClientSize({width:at,height:Y});if(ar.width!==aq.width||ar.height!==aq.height){ao.fire(ai.CLIENT_RESIZE,ar);}},_positionCaptions:function(){var Y=this;Y.positionCaptions({x:0,y:Y.getCaptionsBottom()});},getCaptionsBottom:function(){var ao=this,Y=ao._controller.getControlsObj(),ap=f.Lang.isValue(Y)?Y.getControlBarHeight():0;return ap+24;},convertMedia:function(aq){var aw=this,ap={},ar=false,ao=aq.get("streamProtocol"),ax=f.Array.map(aq.get("streams")||[],function(ay){return{format:(ay.path&&ay.path.indexOf("content=hls")>-1)?"m3u8":ay.format,bitrate:ay.bitrate,width:ay.width,height:ay.height,host:ay.host,path:aw.isAtlas(ay)?aw.fixPath(ay):ay.path,is_primary:ay.is_primary===true,hlsInfo:ay.hlsInfo,cdn:ay.cdn};}),av=aq.get("streamUrl"),Y,at=function(az,ay){return az.bitrate-ay.bitrate;},au;ap.live=aq.get("isLive");ap.uuid=aq.get("id");ap.showName=aq.get("showName");ap.title=aq.get("title");ap.CC=aq.get("CC");if(ax.length){if(f.Array.every(ax,aw.isPdl)){au=ax.sort(at).pop();ap.url=aw.joinUrl(au.host,au.path);}else{Y=ax[0].path;ap.streams=ax;}}else{if(av&&av.length){ap.url=av;ao=K.parseUrl(ap.url).protocol;}}if(ap.url){ar=(ap.url.indexOf("/rtx/")>=0);Y=ap.url;}aq.set("streamType",K.getStreamType(Y,ao));aq.set("isRTX",ar);ap.streamType=aq.get("streamType");ap.rtx=ar;ap.failoverState=aq.get("failoverState");return ap;},isAtlas:function(Y){return(/atlas\.cdn\.yimg\.com/).test(Y.host);},isPdl:function(Y){return !Y.host||((/^http[s]?:\/\//).test(Y.host)&&Y.format!=="m3u8");},isRtmp:function(Y){return(/^rtmp(?:e|t|te|s)?:\/\//).test(Y.host);},isMp4:function(Y){return K.formats.MP4===Y.format;},isFlv:function(Y){return K.formats.FLV===Y.format;},fixPath:function(at){var ao=this.isRtmp(at),aq=this.isMp4(at),Y=this.isFlv(at),ar="mp4:",ap;ap=at.path.replace(/^\/?mp4:/,"");if(aq||Y){ap=ap.replace(/^\//,"");}if(aq&&ao){ap=ar+ap;}return ap;},_onLoadedData:function(){var aq=this._profiler,ap=null,ao=null,ar=0,Y=0;if(aq){aq.setEndTime(am.STREAM_LOADED.type,this._streamLoadedKey);if(this._model.get("useHlsFlash")==="true"){ar=aq.getPlayerStartTime();if(this._yswf){ap=this._yswf.callSWF("get",["profileData"]);}if(ap){ao=ap.ProfilePreparingLoad;if(ao){aq.setStartTime(am.PREPARING_STREAM_LOAD.type,ao.start-ar,this._preparingLoadKey);aq.setDelta(am.PREPARING_STREAM_LOAD.type,ao.time,this._preparingLoadKey);}ao=ap.ProfileHlsMasterPlaylistLoad;if(ao){aq.setStartTime(am.HLS_MASTER_PLAYLIST_LOAD.type,ao.start-ar,this._masterPlaylistLatencyKey);aq.setDelta(am.HLS_MASTER_PLAYLIST_LOAD.type,ao.time,this._masterPlaylistLatencyKey);}else{if(this._masterPlaylistLatencyKey){aq.remove(am.HLS_MASTER_PLAYLIST_LOAD.type,this._masterPlaylistLatencyKey);this._masterPlaylistLatencyKey=null;}}}}}this.fire(ai.PLAYBACK_READY);},_onPlay:function(){var ap=this._profiler,ar=null,ao=null,aq=null,at=ap?ap.getPlayerStartTime():0,Y;if(ap&&this._shouldRecordTime){ap.setEndTime(am.STREAM_PLAY_TO_RENDER.type,this._playToRenderKey);ap.setEndTime(am.STREAM_REQUEST_TO_RENDER.type,this._streamLatencyKey);if(this._model.get("useHlsFlash")==="true"){Y=this._yswf.callSWF("get",["profileData"]);ar=Y.ProfileHlsLevelPlaylistLoad;if(ar){ap.setStartTime(am.HLS_LEVEL_PLAYLIST_LOAD.type,ar.start-at,this._levelPlaylistLatencyKey);ap.setDelta(am.HLS_LEVEL_PLAYLIST_LOAD.type,ar.time,this._levelPlaylistLatencyKey);}else{if(this._levelPlaylistLatencyKey){ap.remove(am.HLS_LEVEL_PLAYLIST_LOAD.type,this._levelPlaylistLatencyKey);this._levelPlaylistLatencyKey=null;}}ao=Y.ProfileHlsTimeToFirstByte;if(ao){ap.setStartTime(am.HLS_TIME_TO_FIRST_BYTE.type,ao.start-at,this._hlsttfbKey);ap.setDelta(am.HLS_TIME_TO_FIRST_BYTE.type,ao.time,this._hlsttfbKey);}else{if(this._hlsttfbKey){ap.remove(am.HLS_TIME_TO_FIRST_BYTE.type,this._hlsttfbKey);this._hlsttfbKey=null;}}}}this._shouldRecordTime=true;this.fire(ai.PLAYBACK_PLAY);},_onPlaying:function(){this.fire(ai.PLAYBACK_PLAYING);},_onPause:function(){this.fire(ai.PLAYBACK_PAUSED);},_onTimeUpdate:function(){if(this._yswf){this.fire(ai.PLAYBACK_PROGRESS,{source:k.NAME,currentTime:this._yswf.callSWF("get",["currentTime"]),duration:this._yswf.callSWF("get",["duration"])});}},_onDurationChange:function(Y){this.fire(ai.DURATION_CHANGE,Y.duration);},_onEnded:function(){if(this._model.get("loop")===false){this.fire(ai.PLAYBACK_COMPLETE);}},_onMediaUnloaded:function(){if(this._model.get("loop")===true){this.fire(ai.PLAYBACK_COMPLETE);}},_onVolumeChange:function(){var ao,Y;if(this._yswf){ao=this._yswf.callSWF("get",["muted"]),Y=this._yswf.callSWF("get",["volume"]);}if(f.Lang.isValue(ao)&&ao!==this._model.get("muted")){this.fire(ai.MUTE_CHANGE,ao);}if(f.Lang.isValue(Y)&&Y!==this._model.get("volume")){this.fire(ai.VOLUME_CHANGE,Y);}},_onBitrateChange:function(Y){this.fire(ai.BITRATE_CHANGE,Y);},_onFailoverStateChange:function(ao){var Y=this._model.get("currentMedia");if(Y){Y.set("failoverState",ao.failoverState);if(ao.failoverState==="primary_failed"){this._controller.liveFailover(new f.VideoPlatform.ErrorObject(c.ERROR.FAILED_PRIMARY.type,String(ao.code),this.constructor.NAME,ao.msg,c.LEVEL.WARNING));}else{if(ao.failoverState==="secondary_failed"){this.fire(ai.PLAYBACK_ERROR,new f.VideoPlatform.ErrorObject(c.ERROR.PLAYBACK.type,String(ao.code),this.constructor.NAME,ao.msg,c.LEVEL.CRITICAL));}}}},_onFullscreenChange:function(){var Y=this;f.later(700,Y,function(){var ar,ap,aq,ao=Y._model,au,av,at;ar=Y.get("videoContentNode").get("offsetHeight");ap=Y._controller._controls._view.get("screenSize");au=ao.get("currentMedia");av=au?au.get("provider").provider_id:null;at=t.NFL_BRANDING_DIMENSIONS[ap].HEIGHT;if(av&&av==="video.nflhighlights.com"){aq=(ar-at)+"px";}else{aq=Y._model.get("carousel")?(ar-t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].HEIGHT-t.PLAYLIST_CAROUSEL_DIMENSIONS[ap].VERTICAL_SPACING).toString()+"px":"100%";}if(aq){Y._controller._controls._view.main.setStyle("height",aq);}});if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||f.one("body").hasClass("yui3-videoplayer-lightbox")){this.fire(ai.FULLSCREEN_ENTER);
}else{this.fire(ai.FULLSCREEN_EXIT);}},_onError:function(at){var Y,ar,au,aq=50,ao,ap;if(at.critical){Y=ai.PLAYBACK_ERROR;ar=c.ERROR.PLAYBACK.type;au=c.LEVEL.CRITICAL;}else{Y=ai.PLAYBACK_WARNING;ar=c.ERROR.FLASH_WARNING.type;au=c.LEVEL.WARNING;}ao=new f.VideoPlatform.ErrorObject(ar,String(at.code),this.constructor.NAME,at.msg+"; "+at.detail,au);ap=this._model.get("currentMedia");if(at.critical&&ap&&ap.get("isLive")){this._controller.handleLiveError(ao);return;}this.fire(Y,ao);if(!at.critical&&at.code===aq&&this._model.get("currentMedia")){this._controller.prepare();}},_onWarning:function(Y){this.fire(ai.PLAYBACK_WARNING,new f.VideoPlatform.ErrorObject(c.ERROR.FLASH_WARNING.type,String(Y.code),this.constructor.NAME,Y.msg+"; "+Y.detail,c.LEVEL.WARNING));},_onResize:function(ap){var ao={width:ap.width,height:ap.height},Y=this;Y.fire(ai.PLAYER_RESIZE,ao);Y.fire(ai.CLIENT_RESIZE,Y.computeAdClientSize(ao));},_onInfoUpdate:function(Y){this.fire(ai.MEDIA_INFO_UPDATE,{source:k.NAME,mediaInfo:Y.mediaInfo});},_onWaiting:function(Y){this.fire(ai.PLAYBACK_WAITING,Y);},_onCCAvailabilityChange:function(Y){this.fire(ai.CCAVAILABILITY_CHANGE,Y.ccAvailable);},_onLiveChange:function(Y){this.fire(ai.LIVE_CHANGE,Y.live);},_onStreamTypeChange:function(Y){this.fire(ai.STREAMTYPE_CHANGE,Y.streamType);},_onSelectedStreamChange:function(Y){this.fire(ai.SELECTED_STREAM_CHANGE,Y.selectedStreams);},_onSelectedStreamUrlChange:function(Y){this.fire(ai.SELECTED_STREAM_URL_CHANGE,Y.selectedStreamUrl);},_addFlashBlockingSniffers:function(){var ay=this,au=ay.get("videoContainer")?ay.get("videoContainer").one("object"):null,ax=function(az){if(au&&au.getStyle("display")==="none"){ay.result=az(f.UA.safari>0?f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKER_SNR_1:f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKER_SNR_12);return;}ay.result=false;},aq=function(az){if(f.one("div[bginactive]")!==null){ay.result=az(f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKER_SNR_2);return;}ay.result=false;},ao=function(az){if(f.UA.safari>0){if(f.Lang.isValue(f.one('div[aria-label~="Safari Power Saver"]'))){ay.result=az(f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKER_SNR_3);return;}}ay.result=false;},aw=function(az){if(f.Lang.isValue(f.one('div[style~="chrome-extension"]'))){ay.result=az(f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKER_SNR_4);return;}ay.result=false;},at=[ax,aq,ao,aw],ap=function(az,aA){if(f.Lang.isValue(az)){ay._controller.error(new f.VideoPlatform.ErrorObject(az.type,az.code,ay.constructor.NAME,f.Lang.isValue(aA)?aA:"Flash is blocked",c.LEVEL.CRITICAL));if(f.Lang.isValue(ar)){ar.disconnect();}return true;}return false;},av,ar,Y;for(av=0;av<at.length;av++){at[av].call(null,ap);if(ay.result){break;}}if(!ay.inPhantomJS&&!ay.result&&(f.UA.ie>=11)){ar=new MutationObserver(function(az){f.each(az,function(aA){for(av=0;av<at.length;av++){at[av].call(null,ap);if(ay.result){break;}}});}),Y={attributes:true,childList:true,characterData:true};ar.observe(ay.get("videoContainer").getDOMNode(),Y);}},getMediaInfo:function(){if(this._yswf){return this._yswf.callSWF("get",["mediaInfo"]);}return null;}});f.namespace("VideoPlatform").FlashVideoRenderer=k;var q={YUILOAD:"Unable to load VideoAdPlugin module",INIT:"Unable to init YVAP",CREATE:"Unable to create YVAP",SCRIPTING:"Script error when interfacing with VideoAdPlugin.",TIMEOUT_PRE:"No response from plugin preroll",TIMEOUT_POST:"No response from plugin post roll",TIMEOUT_CREATE:"No response from plugin instantiation",TIMEOUT_YUILOAD:"VideoAdPlugin is not loaded in YUI"};YVAPEvents={ADPLUGIN_READY:"adPluginReady",AD_REQUESTED:"adRequested",AD_START:"adStart",AD_PAUSE:"adPause",AD_RESUME:"adResume",AD_END:"adEnd",AD_COMPLETE:"adComplete",AD_ERROR:"adError",AD_PROGRESS:"adProgress",AD_NONE:"adNone",AD_PLUGIN_METRIC:"adPluginMetric",AD_PLUGIN_QOS_METRIC:"adPluginQosMetric",PLUGIN_REMOVED:"adPluginRemoved"};var R={NOT_LOADED:"notloaded",INITIALIZED:"initialized"};function A(){A.superclass.constructor.apply(this,arguments);}A.NAME="YVAP";A.NS="YVAP";A.ATTRS={pluginTimeout:{value:"3",getter:function(Y){return Number(Y);},validator:function(Y){return !isNaN(parseFloat(Y));}},pluginTimer:{value:null},criticalError:{value:false,validator:f.Lang.isBoolean},enableYVAPQOS:{value:true,validator:f.Lang.isBoolean},pluginState:{value:R.NOT_LOADED},volume:{value:0,validator:f.Lang.isNumber}};f.extend(A,f.Base,{initializer:function(ar){var aq=this,Y=(ar.model&&ar.hasOwnProperty("model"))?ar.model:null,ap,at,ao;aq._adPlugin=null;aq._yvapNode=null;aq._model=Y;aq._controller=(ar.controller&&ar.hasOwnProperty("controller"))?ar.controller:null;if(Y){ap=(Y.get("mute")===true)?0:Y.get("volume");ao=Y.get("YVAP");at=(ao)?ao.get("timeout"):null;if(f.Lang.isValue(at)){aq.set("pluginTimeout",at);}}aq.set("volume",ap);aq.after("criticalErrorChange",aq._onCriticalError,aq);aq._loadVideoAdPlugin();},requestPreRollAd:function(){var ao,Y,aq=this,ap=aq.get("pluginState");if(ap===R.INITIALIZED){ao=aq._controller.getRenderer();Y=ao.get("readyState");if(Y===z.Constants.READY_STATE.HAVE_NOTHING){aq._startAdExperience();}else{ao.after("readyStateChange",function ar(au){if(au.newVal===z.Constants.READY_STATE.HAVE_NOTHING){ao.detach("readyStateChange",ar,aq);aq._startAdExperience();}},aq);}}else{aq.after("pluginStateChange",function at(){aq.detach("pluginStateChange",at,aq);aq.requestPreRollAd();},aq);}},requestPostRollAd:function(){var ao=this,aq=ao._adPlugin,Y=ao._getProfiler();if(f.Lang.isObject(aq)&&aq.onContentVideoComplete){ao._createTimeout(q.TIMEOUT_POST);ao.adStartTimer=new l({model:ao._model});ao.adStartTimer.start();if(Y){ao._yvapAdStartedKey=Y.add(am.YVAP_ADSTARTED);ao._yvapNoAdKey=Y.add(am.YVAP_NOAD);ao._yvapErrorKey=Y.add(am.YVAP_ERROR);}try{aq.onContentVideoComplete();if(f.UA.mobile||f.UA.android){ao._timeOutImmediately();}}catch(ap){ao._issueCriticalError(q.SCRIPTING,"onContentVideoComplete: "+ap.message);}}else{this._issueCriticalError(q.SCRIPTING,"VideoAdPlugin.onContentVideoComplete not avail");}},pauseAd:function(){var Y=this,ap=Y._adPlugin;
if(f.Lang.isObject(ap)&&ap.pauseAd){try{ap.pauseAd();}catch(ao){Y._issueCriticalError(q.SCRIPTING,"pauseAd: "+ao.message);}}else{this._issueCriticalError(q.SCRIPTING,"VideoAdPlugin.pauseAd not avail");}},resumeAd:function(){var Y=this,ap=Y._adPlugin;if(f.Lang.isObject(ap)&&ap.resumeAd){try{ap.resumeAd();}catch(ao){Y._issueCriticalError(q.SCRIPTING,"resumeAd: "+ao.message);}}else{this._issueCriticalError(q.SCRIPTING,"VideoAdPlugin.resumeAd not avail");}},shouldSkipAd:function(){var ap=this,Y,ar,ao,au,at,aq;if(!(Y=ap._model)){return false;}ar=Y.get("playlist");ao=Y.get("playlistPosition");if(!(au=Y.get("currentMedia"))&&ar){au=ar.items().item((ao>=0)?ao:0);}if(!au){return false;}at=au.get("provider.name");aq=au.get("provider.url");if(!Y.get("isOffNetwork")){return false;}if((typeof at==="string")&&((at=at.toLowerCase())==="vevo")){return true;}if((typeof aq==="string")&&((aq=aq.toLowerCase())==="http://www.vevo.com/")){return true;}return false;},_loadVideoAdPlugin:function(){var Y=this,ao;Y._manageModelEvents("after");Y._adPlugin=Y._createVideoAdPlugin(Y._createAdConfig());Y._manageInitialRendererUpdate();function ap(aq){Y._updatePlayerData(aq.item);}ao=Y._model.get("playlist");if(ao){ao.on("mediaItemAdd",ap,Y);Y.after("criticalErrorChange",function(aq){if(aq.newVal===true){ao.detach("mediaItemAdd",ap,Y);}},Y);}},_createVideoAdPlugin:function(ar){var at=null,ao=this,Y=this._getProfiler();this._createTimeout(q.TIMEOUT_CREATE);if(Y){this._yvapReadyKey=Y.add(am.YVAP_READY);}try{at=new f.VideoAds.VideoAdPlugin(ar);ao._cancelTimer();ao._updateClientInfo();if(Y){Y.setEndTime(am.YVAP_READY.type,this._yvapReadyKey);}ao.set("pluginState",R.INITIALIZED);}catch(aq){this._issueCriticalError(q.CREATE,aq.message);}finally{return at;}},_getProfiler:function(){var Y=this._controller;if(f.Lang.isValue(Y)){if(Y.constructor.prototype.hasOwnProperty("getProfiler")){return Y.getProfiler();}}return null;},_manageInitialRendererUpdate:function(){var ao=this,Y=ao._model.get("rendererReady");if(Y===true){ao._checkRendererState();}else{ao._model.after("rendererReadyChange",function(ap){if(ap.newVal===true){ao._checkRendererState();}},ao);}},_checkRendererState:function(){var ao=this,ar=ao._controller,Y=ar.getRenderer()||null,aq=(Y)?Y.get("readyState"):null;if(aq===z.Constants.READY_STATE.HAVE_NOTHING){ao._updateRenderer();}else{Y.after("readyStateChange",function ap(at){if(at.newVal===z.Constants.READY_STATE.HAVE_NOTHING){Y.detach("readyStateChange",ap,ao);ao._updateRenderer();}},ao);}},_updateRenderer:function(){var Y=this,ar=Y._adPlugin,ao=Y._model.get("rendererType"),aq=Y._controller.getRenderer();if(!aq){return;}if(Y._yvapNode===null&&ao==="html"){Y._yvapNode=Y._insertYVAPNode();}if(f.Lang.isObject(ar)&&ar.updateRenderer){try{ar.updateRenderer({adContainer:Y._yvapNode,rendererType:ao,playerContainer:aq.get("playbackPlugin")});}catch(ap){Y._issueCriticalError(q.SCRIPTING,"updateRenderer: "+ap.message);}}},_insertYVAPNode:function(){var Y=this._controller.getRenderer().get("videoContainer"),ao=f.Node.create('<div class="'+f.ClassNameManager.getClassName("videoplayer-yvap","container")+'"/>');Y.appendChild(ao);return ao.getDOMNode();},_createAdConfig:function(){var ao=this,ap=ao._model.get("playlist"),Y=(ap)?ap.items()._items:[];return{timeout:ao.get("pluginTimeout"),rendererType:ao._model.get("rendererType"),playerData:ao._createPlayerData(Y),clientInfo:ao._createClientInfoData(),enableQOS:ao.get("enableYVAPQOS"),streamAd:ao._model.get("streamAd"),on:{"VideoAdStart":ao._onAdStart,"AdPaused":ao._onAdPause,"AdPlaying":ao._onAdResume,"VideoAdEnd":ao._onAdEnd,"PluginNoAd":ao._onNoAd,"VideoAdExperienceComplete":ao._onAdComplete,"blockingAdProgress":ao._onAdProgress,"AdPluginError":ao._onPluginError,"AdPluginProfiler":ao._addProfilingItem,"AdPluginMetric":ao._onAdPluginMetric,"AdStartMediaPlayback":ao._onAdStartMediaPlayback},context:ao};},_createPlayerData:function(aq){var ar=null,Y=this._model,ap=[],ao=Y.get("YVAP");if(!f.Lang.isObject(aq)&&!f.Lang.isArray(aq)){return ap;}if(!aq.length){aq=[aq];}f.each(aq,function(au){try{ar=new f.VideoAds.PlayerData();ar.setMASAcctId(ao.get("accountId"));ar.setClipId(au.get("id"));ar.setClipDuration(au.get("duration"));ar.setPlaylistId(ao.get("playContext"));ar.setAdData(au.get("adData"));ar.addCustomParameter("ad-biz:spaceID",au.get("spaceId"));ar.addCustomParameter("ad-biz:licenseID",au.get("licenseId"));ar.setIsLive(au.get("isLive"));ap.push(ar);}catch(at){}},this);return ap;},_createClientInfoData:function(){var Y=this._model,ao=Y.get("adClientSize");return{x:0,y:0,width:ao.width+"px",height:ao.height+"px",volume:this.get("volume"),bitrate:Y.get("bitrate")};},_updatePlayerData:function(ao){var ar=this._adPlugin,at,ap,Y=this;if(f.Lang.isValue(ao)){ap=(f.Lang.isArray(ao))?ao:[ao];at=this._createPlayerData(ap);if(f.Lang.isObject(ar)&&ar.updatePlayerData){try{ar.updatePlayerData(at);}catch(aq){Y._issueCriticalError(q.SCRIPTING,"updatePlayerData: "+aq.message);}}else{Y._issueCriticalError(q.SCRIPTING,"VideoAdPlugin.updatePlayerData not avail");}}},_startAdExperience:function(){var ao=this,at=ao._adPlugin,aq=ao._model.get("currentMedia"),ar=ao._createPlayerData([aq]),Y=ao._getProfiler();ao.adStartTimer=new l({model:ao._model});ao.adStartTimer.start();if(Y){ao._yvapAdStartedKey=Y.add(am.YVAP_ADSTARTED);ao._yvapNoAdKey=Y.add(am.YVAP_NOAD);ao._yvapErrorKey=Y.add(am.YVAP_ERROR);}ao._createTimeout(q.TIMEOUT_PRE);if(f.Lang.isObject(at)&&at.beginAdExperience){try{if(ao._model.get("standaloneAdMode")){at.fireStandaloneAdOpportunity();}else{at.beginAdExperience(ar[0]);}if(f.UA.mobile||f.UA.android){ao._timeOutImmediately();}}catch(ap){ao._issueCriticalError(q.SCRIPTING,"beginAdExperience: "+ap.message);}}else{ao._issueCriticalError(q.SCRIPTING,"VideoAdPlugin.beginAdExperience not avail");}},_addProfilingItem:function(ao){var Y=new l({model:this._model});Y.recordTime(ao.type,ao.message,ao.timeDiff,ao.startTime);},_onAdPluginMetric:function(ap){var ao=ap.YWAData,Y=ap.YAMASData,aq=ap.profilerData;
if(f.Lang.isObject(ao)){this.fire(YVAPEvents.AD_PLUGIN_METRIC,{type:"ywa",data:ao});}if(f.Lang.isObject(Y)){this.fire(YVAPEvents.AD_PLUGIN_QOS_METRIC,{type:"qos",data:Y});}if(f.Lang.isObject(aq)){this._addProfilingItem(aq);}},_onAdStart:function(Y){if(!Y){Y={};}this._cancelTimer();this.fire(YVAPEvents.AD_START,{adId:Y.adId,adType:Y.adType,volume:Y.volume,adslug:Y.adslug,timer:Y.timer,scale:Y.scale,blocking:Y.blocking});},_onAdPause:function(){this.fire(YVAPEvents.AD_PAUSE);},_onAdResume:function(){this.fire(YVAPEvents.AD_RESUME);},_onAdStartMediaPlayback:function(ap){var ao=this._getProfiler(),Y=null;if(this.adStartTimer){this.adStartTimer.stop(am.YVAP_ADSTARTED.type,am.YVAP_ADSTARTED.desc);delete this.adStartTimer;}if(ao){Y=ao.getItem(am.YVAP_ADSTARTED.type,this._yvapAdStartedKey);if(Y&&isNaN(Y.endTime)){ao.setEndTime(am.YVAP_ADSTARTED.type,this._yvapAdStartedKey);}ao.remove(am.YVAP_NOAD.type,this._yvapNoAdKey);ao.remove(am.YVAP_ERROR.type,this._yvapErrorKey);}},_onAdEnd:function(){this.fire(YVAPEvents.AD_END);},_onAdComplete:function(){this.fire(YVAPEvents.AD_COMPLETE);},_onNoAd:function(){var ao=this,Y=ao._getProfiler();if(ao.adStartTimer){ao.adStartTimer.stop(am.YVAP_NOAD.type,am.YVAP_NOAD.desc);delete ao.adStartTimer;}if(Y){Y.remove(am.YVAP_ADSTARTED.type,ao._yvapAdStartedKey);Y.setEndTime(am.YVAP_NOAD.type,ao._yvapNoAdKey);Y.remove(am.YVAP_ERROR.type,ao._yvapErrorKey);}ao._cancelTimer();ao.fire(YVAPEvents.AD_NONE);},_onAdProgress:function(Y){this.fire(YVAPEvents.AD_PROGRESS,{duration:Y.totalDuration,position:Y.position});},_onPluginError:function(ap){var ao=this,Y=ao._getProfiler();ao._cancelTimer();if(ao.adStartTimer){ao.adStartTimer.stop(am.YVAP_ERROR.type,am.YVAP_ERROR.desc);delete ao.adStartTimer;}if(Y){Y.remove(am.YVAP_ADSTARTED.type,ao._yvapAdStartedKey);Y.remove(am.YVAP_NOAD.type,ao._yvapNoAdKey);Y.setEndTime(am.YVAP_ERROR.type,ao._yvapErrorKey);}ao._issueCriticalError(YVAPEvents.AD_ERROR,ap);},raiseError:function(ao,Y){this.fire(YVAPEvents.AD_ERROR,{message:ao,cause:Y});},_manageModelEvents:function(aq){var ao=this,Y=ao._model,ar=aq,ap={"muteChange":ao._onMuteChange,"playbackPositionChange":ao._onVideoProgress,"bitrateChange":ao._updateClientInfo,"adClientSizeChange":ao._updateClientInfo,"volumeChange":ao._updateVolume,"rendererTypeChange":ao._updateRenderer};if(Y[ar]){f.each(ap,function(au,at){Y[ar](at,au,ao);},ao);}},_updateClientInfo:function(){var Y=this,ap=Y._adPlugin,aq;if(f.Lang.isObject(ap)&&ap.onClientInfoChanged){aq=Y._createClientInfoData();try{ap.onClientInfoChanged(aq);}catch(ao){Y._issueCriticalError(q.SCRIPTING,"onClientInfoChanged: "+ao.message);}}},_onVolumeChange:function(ao){var Y=this;Y.set("volume",ao.newVal);Y._updateClientInfo();},_onMuteChange:function(ar){var Y=this,ao=(ar.newVal===true)?0:Y._model.get("volume"),aq=Y._adPlugin;if(f.Lang.isObject(aq)){try{aq.onVolumeChange(ao);ar.newVal=ao;Y._onVolumeChange(ar);}catch(ap){Y._issueCriticalError(q.SCRIPTING,"onVolumeChange: "+ap.message);}}},_updateVolume:function(aq){var Y=this,ap=Y._adPlugin;if(f.Lang.isObject(ap)){try{ap.onVolumeChange(aq.newVal);Y._onVolumeChange(aq);}catch(ao){Y._issueCriticalError(q.SCRIPTING,"onVolumeChange: "+ao.message);}}},_onVideoProgress:function(ar){var ao=this,aq=ao._adPlugin,au=ar.newVal,at=ao._model.get("currentMedia").get("duration"),Y=ao._model.get("overrideDuration");if(Y&&Y>0){at=Y;}if(f.Lang.isObject(aq)&&aq.onContentVideoProgress){try{aq.onContentVideoProgress({position:au,duration:at});}catch(ap){ao._issueCriticalError(q.SCRIPTING,"onContentVideoProgress: "+ap.message);}}else{this._issueCriticalError(q.SCRIPTING,"VideoAdPlugin.onContentVideoProgress not avail");}},_issueCriticalError:function(Y,ao){this.set("criticalError",true);this.raiseError(Y,ao);},_onCriticalError:function(ao){var Y=this;if(ao.newVal===true){Y._cancelTimer();Y._removePlugin();Y.detach("criticalErrorChange",Y._onCriticalError,Y);}},_createTimeout:function(ap){var ao,Y;if(this.get("criticalError")===true){return;}ao=this.get("pluginTimeout")*1000;Y={timer:f.later(ao,this,"_timerResponse"),type:ap};this.set("pluginTimer",Y);},_timerResponse:function(){var Y=this,aq=Y._adPlugin,ao=Y.get("pluginTimer");if(ao===null){return;}if(f.Lang.isObject(aq)&&aq.subscribe&&aq.timeout){try{aq.subscribe("AdPluginTimeout",function(){},Y);aq.timeout();}catch(ap){Y._issueCriticalError(q.SCRIPTING,"_timerResponse: "+ap.message);}}else{Y._issueCriticalError(q.SCRIPTING,"VideoAdPlugin.timeout not avail");}Y.raiseError(ao.type,"VideoAdPlugin process timed out");},_cancelTimer:function(){var Y=this.get("pluginTimer");if(Y&&Y.timer){Y.timer.cancel();}this.reset("pluginTimer");},_timeOutImmediately:function(){if(this.get("pluginTimer")!==null){this._timerResponse();this._cancelTimer();}},_removePlugin:function(){var Y=this,ar=Y._adPlugin,ap=YVAPEvents;function aq(){Y._adPlugin=null;Y.fire(ap.PLUGIN_REMOVED);Y._manageModelEvents("detach");}if(!f.Lang.isObject(ar)){aq();return;}try{ar.detachAll();ar.subscribe("AdPluginDestroy",function(){aq();},Y);ar.destroy();}catch(ao){aq();}}});f.namespace("VideoPlatform").YVAP=A;function J(){J.superclass.constructor.apply(this,arguments);}J.NAME="CookieHandler";J.NS="CookieHandler";J.ATTRS={};f.extend(J,f.Base,{DAYS_IN_A_YEAR:365,initializer:function(Y){this.model=Y.model;this._observeModel();},isCookieEnabled:function(){return navigator.cookieEnabled;},removeYepCookie:function(){if(!this.isCookieEnabled()){return;}f.Cookie.remove("V",{path:"/",domain:"yahoo.com"});},setSubCookies:function(ao){var Y=new Date(),ap=this;if(!ap.isCookieEnabled()||f.Lang.isNull(f.Cookie.get("V"))||f.Lang.isNull(ao)||!f.Lang.isObject(ao)){return;}Y.setDate(Y.getDate()+ap.DAYS_IN_A_YEAR);f.Cookie.setSubs("V",ao,{path:"/",domain:"yahoo.com",expires:Y});},setSubCookie:function(ao,aq){var Y=new Date(),ap=this;if(!ap.isCookieEnabled()||f.Lang.isNull(f.Cookie.get("V"))||!f.Lang.isValue(ao)||!f.Lang.isValue(aq)){return;}Y.setDate(Y.getDate()+ap.DAYS_IN_A_YEAR);f.Cookie.setSub("V",ao,aq,{path:"/",domain:"yahoo.com",expires:Y});
},getSubCookies:function(){var Y=null;if(!this.isCookieEnabled()){return null;}Y=f.Cookie.getSubs("V");if(!f.Lang.isNull(Y)&&f.Lang.isObject(Y)){if(f.Lang.isValue(Y.v)){Y.v=parseFloat(Y.v);}if(f.Lang.isValue(Y.cc)){Y.cc=parseInt(Y.cc,10);}if(f.Lang.isValue(Y.m)){Y.m=parseInt(Y.m,10);}}return Y;},createAndLoadCookies:function(){var ao=null,ap,ar=this,aq=ar.model,au,at,Y,av;if(f.Lang.isNull(aq)){return;}au=aq.get("config.volume");at=aq.get("config.mute");Y=Q.ATTRS.mute.value;av=aq.get("ccSettings");ao=ar._createYepCookie();if(f.Lang.isNull(ao)){return;}if(ao===""){ap={v:Q.ATTRS.volume.value,m:Y?1:0,ccOptions:f.JSON.stringify(av)};ar.setSubCookies(ap);}else{ap=ar.getSubCookies();if(f.Lang.isNull(ap)){return;}if(!f.Lang.isValue(au)){if(f.Lang.isValue(ap.v)){aq.set("volume",ap.v);}}if(!f.Lang.isValue(at)){if(f.Lang.isValue(ap.m)){aq.set("mute",(ap.m===1));}}if(f.Lang.isValue(ap.r)){aq.set("selectedResolution",parseInt(ap.r,10));}if(f.Lang.isValue(ap.ccOptions)){aq.set("ccSettings",f.JSON.parse(ap.ccOptions));}}},_createYepCookie:function(){var ao=f.Cookie.get("V"),Y=new Date(),ap=this;if(!ap.isCookieEnabled()){return null;}Y.setDate(Y.getDate()+ap.DAYS_IN_A_YEAR);if(f.Lang.isNull(ao)||ao===""){f.Cookie.set("V","",{path:"/",domain:"yahoo.com",expires:Y});}return f.Cookie.get("V");},_observeModel:function(){var ap=this,Y=ap.model,ar,aq,at,ao;Y.after("volumeChange",function(au){ar=au.newVal;if(f.Lang.isValue(ar)){ar=ar.toFixed(2);if(ar<0){ar=0;}ap.setSubCookie("v",ar);}},this);Y.after("muteChange",function(au){aq=au.newVal;if(f.Lang.isValue(aq)){aq=(aq===true)?1:0;ap.setSubCookie("m",aq);}},this);Y.after("ccSettingsChange",function(au){at=au.newVal;if(f.Lang.isValue(at)){at=f.JSON.stringify(at);ap.setSubCookie("ccOptions",at);}},this);Y.after("selectedResolutionChange",function(au){ao=au.newVal;if(f.Lang.isValue(ao)){ap.setSubCookie("r",ao);}},this);}});f.namespace("VideoPlatform").CookieHandler=J;function h(){h.superclass.constructor.apply(this,arguments);}h.NAME="Carousel";h.NS="carousel";h.ATTRS={};f.extend(h,f.Base,{initializer:function(Y){var ao=Y[0]||Y;this._mediaItems=ao.mediaItems;this._view=ao.view;this._controller=this._view?this._view._controller:null;this.index=0;this._itemCount=this._mediaItems?this._mediaItems.length:0;this._mediaItemDomArray=[];this._showMetadata=ao.showMetadata;this._showNavigation=ao.showNavigation;this._dimensions=ao.dimensions;this._layout={};this.pltype=ao.pltype;this.isAnimating=false;this.animDelay=0;this._touch={"prevClientX":null,"ignore":false};if(this._controller){this.i18n=this._controller.getStrings();}f.publish("VideoPlayer.Carousel.thumbnailClick",{broadcast:2});f.publish("VideoPlayer.Carousel.touch",{broadcast:2});if(this._showNavigation!==false){f.publish("VideoPlayer.Carousel.navigationClick",{broadcast:2});}},_calculateLayout:function(ar){var Y=ar.get("offsetWidth"),aq=ar.get("offsetHeight"),at,ao,ap;ap=this._calculateLayoutAxis(aq,this._dimensions.itemHeight,this._dimensions.verticalSpacing);this._layout.rows=ap.dimension;this._layout.remainingVerticalSpacing=ap.remainingSpace;ao=this._calculateLayoutAxis(Y,this._dimensions.itemWidth,this._dimensions.horizontalSpacing);this._layout.cols=ao.dimension;this._layout.remainingHorizontalSpacing=ao.remainingSpace;at=this._layout.rows*this._layout.cols;if(this._showNavigation===false&&at<this._itemCount){this._itemCount=at;}this._layout.itemsInRow=(parseInt(this._itemCount/at,10)*this._layout.cols);},_calculateLayoutAxis:function(av,Y,ar){var at,aw,au,ao,aq,ax,ap=av%Y;at=Math.floor(av/Y);ao=(at-1)*ar;aq=(at*Y)+ao;if(aq>av){at=at-1;ao=aw-ar;}au=(at*Y)+((at-1)*ar);ax=av-au;return{"dimension":at,"margin":ap,"remainingSpace":ax};},render:function(Y){this._calculateLayout(Y);this.renderContainer(Y);this.loadItems();this.showPage(0);if(this._showNavigation!==false){this._syncNavigation();}this._bindUI();},renderContainer:function(ap){var aq=h.NS,Y,ar=0,ao,at,au,av,aw;this.container=this.createNode("div","container",aq);this.viewport=this.createNode("ul","viewport",aq);for(Y=0;Y<this._itemCount;Y++){ao=this._mediaItems[Y];this._addMediaItem(Y,ao);}this.container.append(this.viewport);if(this._showNavigation!==false){at=this.createNode("div","carousel-left-container");at.addClass("yui3-videoplayer-arrow-container");au=this.createNode("div","carousel-left arrow");au.addClass("yui3-videoplayer-arrow");at.append(au);av=this.createNode("div","carousel-right-container");av.addClass("yui3-videoplayer-arrow-container");aw=this.createNode("div","carousel-right");aw.addClass("yui3-videoplayer-arrow");av.append(aw);this.container.append(at);this.container.append(av);}ap.append(this.container);this.viewport.setStyle("margin",parseInt(this._layout.remainingVerticalSpacing/2,10)+"px "+parseInt(this._layout.remainingHorizontalSpacing/2,10)+"px");if(this._showNavigation!==false){if(f.UA.ie>=7&&f.UA.ie<8){this.container.all(".yui3-videoplayer-arrow-container").getStyle("height");this.container.all(".yui3-videoplayer-arrow-container").setStyle("height",this.container.get("offsetHeight")+"px");}}this.enable();},loadItems:function(){var aw=this._layout.cols,ax=this._layout.rows,ap,Y,ay,at,ar,az,ao,av,au,aq;if(this._showNavigation!==false){ap=parseInt(this._itemCount/aw,10);Y=(this._itemCount%aw)===0?parseInt(ap,10):(ap+1);}else{Y=1;}for(ay=0;ay<Y;ay++){aq=ay*this._dimensions.itemWidth*aw;for(at=0;at<aw;at++){ao=aq+(at*this._dimensions.itemWidth)+(at*this._dimensions.horizontalSpacing);for(ar=0;ar<ax;ar++){au=(ay*(aw*ax))+at+(ar*aw);az=this._mediaItemDomArray[au];if(!az){continue;}av=(ar*this._dimensions.itemHeight)+(ar*this._dimensions.verticalSpacing);az.setStyle("top",av);az.setStyle("left",Math.round(ao));}}}},_addMediaItem:function(ay,aq){var ao,au,aC,av,at,aw,ar,aB,Y,ap,ax,az,aA;ao=aq.images&&(aq.images.thumbnail||aq.images.small||aq.images.medium||aq.images.large)||K.PLAYER_ASSETS_URL+"video_thumb_nopic.png";au=this.createNode("li","carousel-viewport-item");if(this._showMetadata){if(this.pltype==="endScreen"&&ay===0){au.append(this._getThumbnailNode(ao));
au.addClass("replay");av=f.Node.create("<div/>");av.addClass("overlay");aB=f.Node.create("<button/>");aB.addClass("replay-button");Y=f.Node.create("<span/>");Y.addClass("replay-text");Y.set("innerHTML",this.i18n.REPLAY);av.append(aB);av.append(Y);au.append(av);}else{au.append(this._getThumbnailNode(ao));av=f.Node.create("<div/>");av.addClass("overlay");ax=f.Node.create("<button/>");ax.addClass("play-button");if(!K.isMobile()){az=f.Node.create("<p/>");az.addClass("play-video-text");az.set("innerHTML",this.i18n.PLAY_VIDEO);}if(f.UA.ie>0&&f.UA.ie<9){av.hide();au.on("hover",function(){aC=au.one(".overlay");aC.show();},function(){aC=au.one(".overlay");aC.hide();});aA=f.Node.create("<div/>");aA.addClass("overlay-background");av.append(aA);}av.append(ax);av.append(az);au.append(av);ap=f.Node.create("<div/>");ap.addClass("metadata");ar=f.Node.create("<p/>");ar.addClass("title");ar.set("innerHTML",aq.title);if(this.pltype==="endScreen"&&aq.streamVideoAd){at=f.Node.create("<p/>");at.addClass("sponsored");at.set("innerHTML","SPONSORED");aw=f.Node.create("<span/>");at.append(aw);ap.append(at);ap.addClass("vsa");ar.addClass("vsa-title");}ap.append(ar);au.append(ap);}}else{au.append(this._getThumbnailNode(ao));}au.setData("param",{"index":ay,"plType":this.pltype});au.setStyle("width",this._dimensions.itemWidth);au.setStyle("height",this._dimensions.itemHeight);this.viewport.append(au);this._mediaItemDomArray.push(au);},navLeft:function(Y){if(Y.isAnimating===true){return;}Y.isAnimating=true;Y.scrollTo(Y.index-Y._layout.cols);setTimeout(function(){Y.isAnimating=false;},Y.animDelay);},navRight:function(Y){if(Y.isAnimating===true){return;}Y.isAnimating=true;Y.scrollTo(Y.index+Y._layout.cols);setTimeout(function(){Y.isAnimating=false;},Y.animDelay);},_bindUI:function(){var Y=this;if(this._showNavigation!==false){Y.container.one(".yui3-videoplayer-carousel-left").on("click",function(){Y.navLeft(Y);f.fire("VideoPlayer.Carousel.navigationClick","pc-navl");});Y.container.one(".yui3-videoplayer-carousel-right").on("click",function(){Y.navRight(Y);f.fire("VideoPlayer.Carousel.navigationClick","pc-navr");});Y.viewport.on("touchstart",Y._touchStart,Y);Y.viewport.on("touchmove",Y._touchMove,Y);Y.viewport.on(["touchend","touchcancel"],Y._touchEnd,Y);}Y.container.one(".yui3-videoplayer-carousel-viewport").delegate("click",function(ao){f.fire("VideoPlayer.Carousel.thumbnailClick",ao.currentTarget.getData("param"));},"li.load");},showPage:function(ar){var at=this._layout.cols,au=this._layout.rows,aq=ar*at,av=100,ap,ao,aw,Y;this.container.all("li.load").removeClass("load");Y=ar*this._dimensions.itemWidth*at;for(ap=0;ap<at;ap++){for(ao=0;ao<au;ao++){av+=100;aq=(ar*(at*au))+ap+(ao*at);aw=this._mediaItemDomArray[aq];if(!aw){continue;}this._showItem(aw,av);}}this.animDelay=av;},_showItem:function(ao,Y){if(typeof ao!=="undefined"){setTimeout(function(){ao.addClass("load");},Y);}},scrollTo:function(Y){while(Y>this._itemCount){Y-=this._itemCount;}var ao=(Y*(this._dimensions.imageWidth*-1)+parseInt(this._layout.remainingHorizontalSpacing/2,10))+"px";if(ao===this.viewport.getStyle("marginLeft")){return;}this.viewport.setStyle("marginLeft",ao);this.showPage(Y/this._layout.cols);this.index=Y;this._syncNavigation();},_syncNavigation:function(){if((this._itemCount/this._layout.rows)>this._layout.cols){this.disableArrow("left");this.disableArrow("right");if(this.index>0){this.enableArrow("left");}if(this.index<(this._itemCount-this._layout.cols)){this.enableArrow("right");}}},disable:function(){this.container.removeClass("yui3-videoplayer-enabled");this.clearIndicator();},enable:function(){this.container.addClass("yui3-videoplayer-enabled");},enableArrow:function(Y){this.container.addClass("yui3-videoplayer-"+Y+"-enabled");},disableArrow:function(Y){this.container.removeClass("yui3-videoplayer-"+Y+"-enabled");},setIndicator:function(ao,ap){this.clearIndicator();if(typeof this._mediaItemDomArray[ao]==="undefined"){return;}var Y=this._view.createNode("span","viewport-item-indicator",h.NS);Y.set("innerHTML",ap);this._mediaItemDomArray[ao].append(Y);if(ao%(this._layout.rows*this._layout.cols)===0){this.scrollTo(ao);}},clearIndicator:function(){this.viewport.all(".yui3-videoplayer-carousel-viewport-item-indicator").remove();},maxItemCount:function(aq,Y,ar){var ap,ao;if(!ar){return 0;}ap=this._calculateLayoutAxis(Y,ar.itemHeight,ar.verticalSpacing);ao=this._calculateLayoutAxis(aq,ar.itemWidth,ar.horizontalSpacing);if(!ap||!ao){return 0;}return(ap.dimension*ao.dimension);},destructor:function(){this.container.remove();},createNode:function(at,ao,aq){var Y={img:true,input:true},ar=aq?"-"+aq:"",ap;if(at in Y){ap=f.Node.create("<"+at+' class="'+f.ClassNameManager.getClassName("videoplayer"+ar,ao)+'"/>');}else{ap=f.Node.create("<"+at+' class="'+f.ClassNameManager.getClassName("videoplayer"+ar,ao)+'"></'+at+">");}return ap;},_touchStart:function(Y){if(this._touch.prevClientX!==null){return;}this._touch.prevClientX=Y.touches[0].clientX;this._touch.offset=0;this._touch.viewportMarginLeft=parseInt(this.viewport.getStyle("marginLeft"),10);this.viewport.addClass("touch");this._touch.startPageX=Y.touches[0].pageX;this._touch.startPageY=Y.touches[0].pageY;},_touchMove:function(ap){var ao,Y;if(this._touch.prevClientX===null||this._touch.ignore){return;}Y=this._isTouchMoveVertical(this._touch.startPageX,ap.touches[0].pageX,this._touch.startPageY,ap.touches[0].pageY);if(this._touch.offset===0&&Y){this._touch.ignore=true;return;}ap.preventDefault();this._touch.offset+=this._touch.prevClientX-ap.touches[0].clientX;this._touch.prevClientX=ap.touches[0].clientX;this.viewport.setStyle("marginLeft",(this._touch.viewportMarginLeft-this._touch.offset)+"px");ao=this.viewport.all(".yui3-videoplayer-carousel-viewport-item:not(.load)");ao.setStyle("opacity",Math.min(0.6,Math.abs(this._touch.offset)/200));},_touchEnd:function(){if(this._touch.prevClientX===null){return;}var Y=100;this._touch.prevClientX=null;this._touch.ignore=false;this.viewport.removeClass("touch");this.viewport.all(".yui3-videoplayer-carousel-viewport-item:not(.load)").setStyle("opacity","");
if(this._touch.offset>Y&&this.index<(this._itemCount-this._layout.cols)){this.navRight(this);f.fire("VideoPlayer.Carousel.touch","pc-swipe");}else{if(this._touch.offset<-Y&&this.index>0){this.navLeft(this);f.fire("VideoPlayer.Carousel.touch","pc-swipe");}else{if(this._touch.offset!==0){this.viewport.setStyle("marginLeft",this._touch.viewportMarginLeft+"px");}}}},_isTouchMoveVertical:function(ao,aq,Y,ap){return((180/Math.PI)*Math.atan2(Math.abs(ap-Y),Math.abs(aq-ao)))>=60;},_getThumbnailNode:function(ao){var Y=f.Node.create("<img/>");Y.set("src",ao);Y.set("width",this._dimensions.imageWidth);Y.set("height",this._dimensions.imageHeight);return Y;}});f.namespace("VideoPlatform").Carousel=h;function s(){s.superclass.constructor.apply(this,arguments);}s.NAME="Graph";s.NS="graph";s.ATTRS={};f.extend(s,f.Base,{initializer:function(Y){this.color=Y.color;this.width=Y.width;this.height=Y.height;this.graphHeight=Y.graphHeight;},render:function(ao){var Y=f.Node.create('<canvas width="'+this.width+'" height="'+this.height+'"></canvas>');ao.append(Y);this.canvas=Y;this.context=Y._node.getContext("2d");},appendSwitchReasonLogs:function(at,ar){var ap=0,Y,aq,ao;this.context.font="8pt Monospace";for(Y=0;Y<at.length;Y++){if(at[Y]!=="None"){ap++;aq=Math.floor(Y/3600)+":"+Math.floor((Y%3600)/60)+":"+((Y%3600)%60);ao=aq+" - Switched to "+ar[Y]+" kbps. Reason: "+at[Y];this.context.fillText(ao,10,this.graphHeight+15*ap);}}},syncUI:function(at,ar,Y){if(at.length>=2){var au,av,ao,ap,aq=this.context;if(ar===undefined&&Y===undefined){ar=at[0];Y=at[0];for(av=1;av<at.length;av++){au=at[av];ar=Math.min(ar,au);Y=Math.max(Y,au);}}aq.clearRect(0,0,this.width,this.graphHeight);aq.save();aq.translate(40,this.graphHeight-2);ao=(Y-ar>0)?(this.graphHeight-4)/(Y-ar):1;ap=(this.width-40)/240;aq.scale(ap,-1*ao);aq.beginPath();aq.moveTo(0,at[0]-ar);for(av=1;av<at.length;av++){aq.lineTo(av,at[av]-ar);}aq.restore();aq.save();aq.lineWidth=3;aq.lineCap="round";aq.lineJoin="round";aq.strokeStyle=this.color;aq.stroke();aq.font="8pt Monospace";aq.fillStyle=this.color;aq.fillText(Y,0,10);aq.fillText(ar,0,this.graphHeight);aq.restore();}},destructor:function(){}});f.namespace("VideoPlatform").Graph=s;function v(){v.superclass.constructor.apply(this,arguments);}v.NAME="DetailScreen";v.NS="detailscreen";v.ATTRS={};f.extend(v,f.Base,{log:function(ao,Y){},initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(ap){var ao=v.NS,Y=this,aq=Y._view;Y._node=ap;Y._container=aq.createNode("div","container",ao);Y._close=aq.createNode("button","close",ao);Y._wrapper=aq.createNode("div","wrapper",ao);Y._tableWrapper=aq.createNode("div","table-wrapper",ao);Y._detailsTable=aq.createNode("table","details-table",ao);Y._tb=aq.createNode("tbody","details-table-body",ao);Y._version=aq.createNode("td","version",ao);Y._hostingBucket=aq.createNode("td","hosting-bucket",ao);Y._hostingColo=aq.createNode("td","hosting-colo",ao);Y._hostingEnv=aq.createNode("td","hosting-env",ao);Y._uuid=aq.createNode("td","uuid",ao);Y._guid=aq.createNode("td","guid",ao);Y._lang=aq.createNode("td","lang",ao);Y._offNetwork=aq.createNode("td","off-network",ao);Y._profileLogLink=aq.createNode("span","profile-log-link",ao);Y._close.addClass("close");Y._host=null;Y._streamUrl=null;Y._appendTitleRow("About Yahoo Video Player");Y._appendRow("version","Version");if(Y._model.get("rendererType")==="flash"){if(!!document.createElement("canvas").getContext){Y._appendTitleRow("Bit Rate History");Y._appendGraphRow("currentStreamBitrate");Y._appendTitleRow("Download Speed History");Y._appendGraphRow("currentKbps");Y._appendTitleRow("Buffer Length History");Y._appendGraphRow("bufferSample");Y._appendTitleRow("Frame Rate History");Y._appendGraphRow("frameRate");}Y._appendTitleRow("Current Media");Y._appendRow("uuid","UUID");Y._appendRow("currentStreamBitrate","Bit Rate");Y._appendRow("quality-levels","Total Quality Levels");Y._appendRow("high-quality-ratio","High Quality Play Ratio");Y._appendRow("frameRate","Frame Rate");Y._appendRow("dropped-frames","Dropped Frames");Y._appendRow("download-speed","Download Speed");Y._appendRow("buffer-length","Buffer length / time ");Y._appendRow("stream-playback-rate","Stream Playback Rate");Y._appendRow("buffering-ratio","Buffering Ratio");Y._appendRow("total-memory","Memory Used");Y._appendRow("hw-decoding","Hardware Decoding");Y._appendRow("hw-rendering","Hardware Rendering");Y._appendRow("media-size","Media Size");Y._appendRow("delivery-protocol","Delivery Protocol");Y._appendRow("cdn-name","CDN Name");}Y._appendTitleRow("Error");Y._appendRow("error-type","Error Type");Y._appendRow("error-code","Error Code");Y._appendRow("error-msg","Error Msg");Y._appendTitleRow("User Agent");Y._appendRow("os","OS");f.each(f.UA,function(at,ar){if(at!==undefined&&f.Lang.isNumber(at)&&at>0){Y._appendRow(ar,ar);}});Y._appendRow("flash","Adobe Flash");Y._appendTitleRow("Hosting");Y._appendRow("hosting-bucket","Bucket");Y._appendRow("hosting-colo","Colo");Y._appendRow("hosting-env","Env");Y._appendTitleRow("Instance");Y._appendRow("guid","GUID");Y._appendRow("lang","Lang");Y._appendRow("off-network","Off Network");Y._close.set("innerHTML","X");Y._close.setAttribute("alt","Close Detail Overlay");Y._profileLogLink.set("innerHTML","Profile");Y._detailsTable.append(Y._tb);Y._tableWrapper.append(Y._detailsTable);Y._wrapper.append(Y._tableWrapper);Y._container.append(Y._wrapper);Y._container.append(Y._close);Y._container.append(Y._profileLogLink);ap.append(Y._container);Y._bindUI();Y._syncUI();setTimeout(function(){Y._container.addClass("yui3-videoplayer-show");},10);},_appendGraphRow:function(Y){var aq=f.Node.create("<td></td>"),ap=f.Node.create("<tr></tr>"),ao;aq.addClass("graph");aq.setAttribute("colspan",2);ap.append(aq);this._tb.append(ap);ao=new s({color:"white",width:280,height:30,graphHeight:30});ao.render(aq);this[Y+"-graph"]=ao;},_appendTitleRow:function(ao){var ap=f.Node.create("<td></td>"),Y=f.Node.create("<tr></tr>");ap.addClass("title");ap.set("innerHTML",ao);
ap.setAttribute("colspan",2);Y.append(ap);this._tb.append(Y);},_appendRow:function(Y,ao){this[Y]=this._view.createNode("td",Y,v.NS);var aq=this[Y],ap=f.Node.create("<tr></tr>");aq.addClass("value");ap.append(f.Node.create('<td class="label">'+ao+":</td>"));ap.append(aq);this._tb.append(ap);},_bindUI:function(){var ap=this,ao=ap._view,Y=ap._model;ap._close.on("click",function(){ao.set("activeOverlay",undefined);});Y.after("currentMediaChange",function(){this._bindToCurrentMedia();ap._syncUI();},this);ap._bindToCurrentMedia();Y.after("errorChange",function(){ap._syncUI();},this);ap._addCanvasClickHandler("currentStreamBitrate");ap._addCanvasClickHandler("frameRate");ap._addCanvasClickHandler("currentKbps");ap._addCanvasClickHandler("bufferSample");ap._profileLogLink.on("click",function(){ao.openProfiler();});},_addCanvasClickHandler:function(Y){var ap=this,ao=Y+"-graph";if(this[ao]){this[ao].canvas.on("click",function(){var aq=f.Node.create("<div></div>"),ax=120,aw=ap._model.get("currentMedia").get("history"),at=aw[Y],av=0,az,ay,au,ar;if(Y==="currentStreamBitrate"){au=aw.streamSwitchReason;for(ar=0;ar<au.length;ar++){if(au[ar]!=="None"){av++;}}ax=120+av*15;}az=new s({color:"#333",width:520,height:ax,graphHeight:120});az.render(aq);az.syncUI(at);if(Y==="currentStreamBitrate"){az.appendSwitchReasonLogs(au,at);}ay=az.canvas._node.toDataURL();window.open(ay);});}},_bindToCurrentMedia:function(){var Y=this._model,ao=this;if(Y&&Y.get("currentMedia")){Y.get("currentMedia").after("mediaInfoChange",function(){ao._syncUI();},this);}},_syncUI:function(){var ar=this._model,ay=this,aw=ar.get("hostingData"),ax=ar.get("error"),ap=ar.get("currentMedia"),ao=f.UA,aq,Y,av,at,au;this.version.set("innerHTML",ar.get("version"));this.os.set("innerHTML",f.UA.os);this.flash.set("innerHTML",f.UA.flashMajor+"."+f.UA.flashMinor+"."+f.UA.flashRev);f.each(ao,function(aA,az){if(aA!==undefined&&f.Lang.isNumber(aA)&&aA>0){ay[az].set("innerHTML",aA);}});if(f.Lang.isObject(aw)){this["hosting-bucket"].set("innerHTML",aw.bucket);this["hosting-colo"].set("innerHTML",aw.colo);this["hosting-env"].set("innerHTML",aw.env);}this.guid.set("innerHTML",ar.get("guid"));this.lang.set("innerHTML",ar.get("lang"));this["off-network"].set("innerHTML",ar.get("isOffNetwork"));if(f.Lang.isObject(ax)){this["error-type"].set("innerHTML",ax.type);this["error-code"].set("innerHTML",ax.code||"");this["error-msg"].set("innerHTML",ax.message||"");}if(ap&&this.uuid){aq=ap;Y=aq.get("id");if(Y!==null){this.uuid.set("innerHTML",Y);}}if(ap&&ap.get("mediaInfo")&&ar.get("rendererType")==="flash"){aq=ar.get("currentMedia");av=aq.get("mediaInfo");if(av.currentStreamBitrate!==null){this.currentStreamBitrate.set("innerHTML",av.currentStreamBitrate+" kbps");}if(av.qualityLevels!==null){this["quality-levels"].set("innerHTML",av.qualityLevels);}if(av.highestQualityPlaybackRatio!==null){this["high-quality-ratio"].set("innerHTML",av.highestQualityPlaybackRatio+" %");}if(av.frameRate!==null){this.frameRate.set("innerHTML",av.frameRate+" fps");}if(av.droppedFrames!==null){this["dropped-frames"].set("innerHTML",av.droppedFrames);}if(av.currentKbps!==null){this["download-speed"].set("innerHTML",av.currentKbps+" kbps");}if(av.bufferLength!==null&&av.bufferTime!==null){this["buffer-length"].set("innerHTML",av.bufferLength+" sec / "+av.bufferTime+" sec");}if(av.playbackBytesPerSecond!==null){this["stream-playback-rate"].set("innerHTML",av.playbackBytesPerSecond+" kbps");}if(av.bufferingRatio!==null){this["buffering-ratio"].set("innerHTML",(av.bufferingRatio).toFixed(2)+" %");}if(av.totalMemory!==null){this["total-memory"].set("innerHTML",av.totalMemory+" MB");}if(av.hwDecoding!==null){at=(av.hwDecoding===true)?"Yes":"No";this["hw-decoding"].set("innerHTML",at);}if(av.hwRendering!==null){au=(av.hwRendering===true)?"Yes":"No";this["hw-rendering"].set("innerHTML",au);}if(av.mediaWidth!==null&&av.mediaHeight!==null){this["media-size"].set("innerHTML",av.mediaWidth+" x "+av.mediaHeight);}if(av.mediaWidth!==null&&av.mediaHeight!==null){this["delivery-protocol"].set("innerHTML",av.deliveryProtocol+"/"+ap.get("streamType"));}if(av.mediaWidth!==null&&av.mediaHeight!==null){this["cdn-name"].set("innerHTML",f.VideoPlatform.Utils.getMediaCDNName(ap));}if(this["currentStreamBitrate-graph"]){if(av.minBitRate&&av.maxBitRate){this["currentStreamBitrate-graph"].syncUI(aq.get("history").currentStreamBitrate,av.minBitRate,av.maxBitRate);}else{this["currentStreamBitrate-graph"].syncUI(aq.get("history").currentStreamBitrate);}}if(this["bufferSample-graph"]){this["bufferSample-graph"].syncUI(aq.get("history").bufferLength);}if(this["frameRate-graph"]){this["frameRate-graph"].syncUI(aq.get("history").frameRate);}if(this["currentKbps-graph"]){this["currentKbps-graph"].syncUI(aq.get("history").currentKbps);}}},destructor:function(){this._container.removeClass("yui3-videoplayer-show");var Y=this;setTimeout(function(){Y._container.remove();},500);}});f.namespace("VideoPlatform").DetailScreen=v;function ab(){ab.superclass.constructor.apply(this,arguments);}ab.NAME="InfoScreen";ab.NS="infoscreen";ab.ATTRS={};f.extend(ab,f.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(aC){this._node=aC;var aE=ab.NS,aw=this._view,aB=this,au=aw._controller.getStrings(),ao=aC.get("offsetWidth"),at=aC.get("offsetHeight"),ay=15,aH=3,aD=ao-(ay*3)-(aH*2),ax=this._view.createNode("div","container",aE),ar=this._view.createNode("div","tint",aE),aA=this._view.createNode("div","top",aE),Y=this._view.createNode("h3","now-playing",aE),aq=this._view.createNode("a","image-link",aE),ap=this._view.createNode("div","left",aE),aI=this._buildImage(aD),aF=this._buildRight(aD),az=this._view.createNode("button","close",aE),av=this._buildCcComplaintsLink(aD,at),aG=at-40;ax.set("offsetHeight",aG);this._container=ax;this.imgLink=aq;this.close=az;aq.append(aI);az.addClass("close");az.set("innerHTML","X");ap.append(aq);aA.append(Y);aA.append(ap);aA.append(aF);Y.set("innerHTML",au.NOW_PLAYING);aA.append(az);ax.append(ar);
ax.append(aA);if(av){ax.append(av);}aC.append(ax);this._bindUI();setTimeout(function(){aB._container.addClass("yui3-videoplayer-show");},5);if(this._model.get("rendererType")==="html"){this._view._hideVideoTag();}},_buildRight:function(at){var ap=this._model.get("currentMedia"),aC=0,ay=typeof(ap.get("title"))==="string"?ap.get("title"):"",Y=typeof(ap.get("description"))==="string"?ap.get("description"):"",ao=this._node.get("offsetHeight"),aq=ab.NS,ax=this._view.createNode("h3","title",aq),au=this._view.createNode("p","desc",aq),aB=this._view.createNode("table","share",aq),ar=this._view.createNode("tbody","share-body",aq),aw=this._buildLink(),av=this._buildEmbed(),aA=this._buildFbLink(),az=this._view.createNode("div","right",aq);az.set("offsetWidth",at*0.6);ax.set("innerHTML",ay);ax.setAttribute("tabIndex",-1);au.set("innerHTML",Y);if(this._view.get("screenSize")==="LARGE"){aC=(ao-140)>0?ao-140:0;}else{aC=(ao-60)>0?ao-60:0;}ax.setStyle("maxHeight",aC*0.4);au.setStyle("maxHeight",aC*0.6);az.append(ax);az.append(au);if(aw||av){if(aw){ar.append(aw);}if(av){ar.append(av);}aB.append(ar);az.append(aB);}if(aA){az.append(aA);}return az;},_buildFbLink:function(){var au=this._view._controller.getStrings(),aq=this._model.get("currentMedia"),at=aq.get("shareUrl"),ap=ab.NS,ar=this._view.createNode("a","fb-link",ap),ao=this._view.createNode("span","fb-icon",ap),Y=this._view.createNode("span","fb-share",ap);if(at){Y.set("innerHTML",au.SHARE_ON_FACEBOOK);ar.set("target","_blank");ar.set("href",f.substitute(t.FACEBOOK_URL_TEMPLATE,{title:encodeURIComponent(aq.get("title")),shareUrl:encodeURIComponent(at)}));ar.append(ao);ar.append(Y);return ar;}return false;},_buildLink:function(){var av=this._view._controller.getStrings(),at=this._model.get("currentMedia"),au=at.get("shareUrl"),ar=ab.NS,aq=this._view.createNode("tr","link",ar),Y=this._view.createNode("td","link-label",ar),ap=this._view.createNode("td","link-text-box-td",ar),ao=this._view.createNode("input","link-text-box",ar);if(au){Y.set("innerHTML",av.LINK_COLON);ao.set("value",au);ao.setAttribute("readonly","readonly");ap.append(ao);aq.append(Y);aq.append(ap);return aq;}return false;},_buildEmbed:function(){var aw=this._view._controller.getStrings(),ap=this._model.get("currentMedia"),ao=ap.get("embedCode"),av=ap.get("embeddable"),aq=ab.NS,au=this._view.createNode("tr","embed",aq),Y=this._view.createNode("td","embed-label",aq),at=this._view.createNode("td","embed-text-box-td",aq),ar=this._view.createNode("input","embed-text-box",aq);if(ao&&av){Y.set("innerHTML",aw.EMBED_COLON);ar.set("value",ao);ar.setAttribute("readonly","readonly");at.append(ar);au.append(Y);au.append(at);return au;}return false;},_buildImage:function(av){var ar=this._model.get("currentMedia"),Y=ar.get("images"),at=this._node.get("offsetHeight"),ao=null,aq=av*0.4,ap=ab.NS,au=new Image();if(Y&&typeof(Y.medium)==="string"){ao=this._view.createNode("img","image",ap);au.onload=function(){var ax=au.width,aw=au.height;ao.set("src",Y.medium);ao.set("offsetWidth",aq);ao.set("offsetHeight",aq*aw/ax);};au.src=Y.medium;}else{ao=this._view.createNode("div","image",ap);ao.set("offsetWidth",aq);ao.set("offsetHeight",at*0.4);}return ao;},_buildCcComplaintsLink:function(aq,Y){var at=this._view._controller.getStrings(),ar=ab.NS,ap=this._view.createNode("a","closed-captions-complaint-link",ar),av=this._model.get("ccAvailable"),au=this._model.get("lang"),ao="us";if(aq<250||Y<170){return false;}if(av&&(au==="en-US"||au==="es-US")){ap.set("innerHTML",at.CLOSED_CAPTION_COMPLAINTS);ap.set("target","_blank");if(au==="es-US"){ao="e1";}ap.set("href",f.substitute(t.CC_COMPLAINTS_URL_TEMPLATE,{region:ao,lang:au.toLowerCase()}));return ap;}return false;},_closeScreen:function(){var Y=this._model;if(Y.get("rendererType")==="html"){this._view._showVideoTag();}Y.set("activeScreenStr",undefined);},_bindUI:function(){var au=this._container,ao=this,Y=this._model,at=this.close,ar=this.imgLink,ap=au.all(".yui3-videoplayer-infoscreen-share input"),aq=au.one(".yui3-videoplayer-infoscreen-fb-link");if(f.Lang.isValue(at)){at.on("click",function(){ao._closeScreen();},this);}if(f.Lang.isValue(ar)){ar.on("click",function(){Y.fire("uiInteract",{source:this.constructor.NS+"Thumb"});ao._closeScreen();},this);}if(f.Lang.isValue(ap)){ap.on("click",function(av){var ax=av.target,aw=ax._node.className.match(/yui3-videoplayer-[\w]*-([\w]*)-text-box/)[1].replace(/^([\w])(.*)/,function(ay,aA,az){return this.constructor.NS+aA.toUpperCase()+az;});ax.focus();ax.select();Y.fire("uiInteract",{source:aw});},this);}if(f.Lang.isValue(aq)){aq.on("click",function(){Y.fire("uiInteract",{source:this.constructor.NS+"Facebook"});},this);}},destructor:function(ao){var Y=this;this._container.removeClass("yui3-videoplayer-show");if(f.UA.ie>0&&f.UA.ie<9){Y._container.remove();if(ao){ao();}}else{setTimeout(function(){Y._container.remove();if(ao){ao();}},300);}}});f.namespace("VideoPlatform").InfoScreen=ab;function r(){r.superclass.constructor.apply(this,arguments);}r.NAME="EndScreen";r.NS="endscreen";r.ATTRS={};r.DIMENSIONS={LARGE:{CONTAINER_PADDING:35,MIN_WIDTH:200,MIN_HEIGHT:200},MEDIUM:{CONTAINER_PADDING:35,MIN_WIDTH:200,MIN_HEIGHT:200},SMALL:{CONTAINER_PADDING:35,MIN_WIDTH:160,MIN_HEIGHT:100}};r.END_SCREEN_CAROUSEL_DIMENSIONS={LARGE:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:0},MEDIUM:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:0},SMALL:{ITEM_WIDTH:157,ITEM_HEIGHT:88,IMAGE_WIDTH:157,IMAGE_HEIGHT:88,HORIZONTAL_SPACING:2,VERTICAL_SPACING:1}};f.extend(r,f.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;this.mode="REPLAY";this._controller=Y.view._controller;this.i18n=this._controller.getStrings();this.screenSize=this._view.get("screenSize");this.dimensions=r.DIMENSIONS[this.screenSize];this._config=f.Lang.isObject(this._model.get("endscreen"))||{};this._useCarousel=(this._model.get("endScreenVideos").get("mediaItems")).length>1;
if(this._config&&this._config.on){this.on(this._config.on);}},render:function(ar){var ao=this,aq=r.NS,Y=ao._getMediaItem(),au,ap,at;if(ao.mode==="PLAY_NEXT"){ao._continue();return;}ao.renderView(ar,Y,aq);if(ao.mode==="REPLAY"&&this._model.get("carousel")){ao._hidePlaylistCarousel(ao.container);}ap=ao._model.get("endScreenVideos").get("mediaItems");if(Y&&Y.get("streamVideoAd")===false){ap.add(Y,0);}ap=ap.toArray();this._useCarousel=ap.length>1;if(this._isValidPlayerSize(ar)===true){if(this._useCarousel){setTimeout(function(){ao._renderCarousel(ap,aq);},20);}else{ao._renderWatchedView(Y,aq);}}else{au=ao._view.createNode("div","blank-node",aq);ao._setContainerHeight(au);ao.container.prepend(au);}ao.container.addClass("show");ao._bindUI();ao._model.set("activeScreenStr","endScreen");},_isValidPlayerSize:function(Y){return(this.dimensions.MIN_HEIGHT<=Y.get("offsetHeight")&&this.dimensions.MIN_WIDTH<=Y.get("offsetWidth"));},_getMediaItem:function(){var aq=this,Y=aq._model,at=aq._config.mediaItem||null,ap,ar,ao;if(at){ap=new p(at);if(ap.images){ap.images.large=ap.images.medium=ap.images.thumbnail;}}else{ar=Y.get("playlistPosition");ao=Y.get("playlist").items().item(ar+1);if(ao&&Y.get("continuousPlay")){aq.mode="PLAY_NEXT";ap=ao;}else{aq.mode="REPLAY";ap=Y.get("currentMedia");}}return ap;},_hidePlaylistCarousel:function(Y){var ao=Y.ancestor(".yui3-videoplayer-content");ao.one(".yui3-videoplayer-playlist-carousel").setStyle("display","none");ao.one(".yui3-videoplayer-carousel-title").removeClass("yui3-videoplayer-show");ao.one(".yui3-videoplayer-main").setStyle("height","100%");},renderView:function(aq,ao,ap){var ar=this._view,Y=ar.createNode("div","container",ap);aq.append(Y);this.container=Y;if(this._model.get("rendererType")==="html"){ar._hideVideoTag();}this._model.fire("uiView",{source:this.constructor.NS+"View",instrData:{linkContext:this._model.get("relatedVideosLinkContexts"),videoContext:this._model.get("relatedVideosVideoContext")}});},_renderWatchedView:function(ap,aq){var aA=this,ax=aA._view,ao=aA.container,aw=ap.get("images")||null,az=aw&&(aw.thumbnail||aw.small||aw.medium||aw.large)||K.PLAYER_ASSETS_URL+"video_thumb_nopic.png",ar=ax.createNode("img","watched-img",aq),au=f.Node.create("<div/>").setAttribute("class","overlay"),ay=f.Node.create("<button/>").setAttribute("class","replay-button"),Y=f.Node.create("<span/>").setAttribute("class","replay-text").set("innerHTML",aA.i18n.REPLAY),at=ax.createNode("div","watched",aq),av=ax.createNode("div","watched-wrapper",aq);au.append(ay);au.append(Y);ar.once("load",function(){aA._positionReplayViewNode(at);av.setStyle("visibility","visible");});ar.setAttribute("src",az);aA._resizeImage(ar);at.append(ar);at.append(au);av.append(at);av.setStyles({"width":r.END_SCREEN_CAROUSEL_DIMENSIONS[aA.screenSize].IMAGE_WIDTH,"visibility":"hidden","overflow":"auto"});ao.prepend(av);},_resizeImage:function(ap){var ao=this,ar=r.END_SCREEN_CAROUSEL_DIMENSIONS[ao.screenSize],Y=ao._useCarousel?ar.IMAGE_HEIGHT+"px":"auto",aq=ao._useCarousel?ar.IMAGE_WIDTH+"px":"100%";ap.setStyles({"height":Y,"width":aq});},_positionReplayViewNode:function(Y){var ao=0-Math.round(Y.get("region").height/2);Y.setStyle("marginTop",ao);},_setContainerHeight:function(Y){Y.setStyle("height",this.container.get("offsetHeight"));},_renderCarousel:function(ap,ar){var Y=this._view.createNode("div","carousel-node",ar),aq=this.screenSize,ao=new h({"view":this,"mediaItems":ap,"pltype":"endScreen","showMetadata":true,"showNavigation":false,"dimensions":{itemWidth:r.END_SCREEN_CAROUSEL_DIMENSIONS[aq].ITEM_WIDTH,itemHeight:r.END_SCREEN_CAROUSEL_DIMENSIONS[aq].ITEM_HEIGHT,imageWidth:r.END_SCREEN_CAROUSEL_DIMENSIONS[aq].IMAGE_WIDTH,imageHeight:r.END_SCREEN_CAROUSEL_DIMENSIONS[aq].IMAGE_HEIGHT,horizontalSpacing:r.END_SCREEN_CAROUSEL_DIMENSIONS[aq].HORIZONTAL_SPACING,verticalSpacing:r.END_SCREEN_CAROUSEL_DIMENSIONS[aq].VERTICAL_SPACING,carouselMargin:r.END_SCREEN_CAROUSEL_DIMENSIONS[aq].MARGIN}});this._setContainerHeight(Y);this.container.prepend(Y);ao.render(Y);},destructor:function(){var Y=this;Y._model.set("activeScreenStr","");if(f.UA.ie>0&&f.UA.ie<9){Y.container.remove();}else{Y.container.removeClass("show");setTimeout(function(){Y.container.remove();},500);}},_replayVideo:function(){if(this._model.get("rendererType")==="html"){this._view._showVideoTag();}this._view._model.set("activeScreenStr",undefined);this._model.fire("uiInteract",{source:"endscreenReplayButton"});},_bindUI:function(){var Y=this,ao;ao=f.one(".yui3-videoplayer-endscreen-watched");if(ao){ao.on(["click","touchstart"],Y._replayVideo,Y);}},_continue:function(){var Y=this;setTimeout(function(){if(Y._model.get("rendererType")==="html"){Y._view._showVideoTag();}if(Y.mode==="PLAY_NEXT"){Y._view._controller.playNext();}else{Y._view._model.set("activeScreenStr",undefined);}},500);}});f.namespace("VideoPlatform").EndScreen=r;function D(){D.superclass.constructor.apply(this,arguments);}D.NAME="CCOptions";D.NS="ccoptions";D.ATTRS={};D.FONT_SIZE_MAP={"0":16,"25":20,"50":24,"75":28,"100":32};D.PRESETS=[{"fontColor":"#cdcdcd","bgColor":"#060606"},{"fontColor":"#282828","bgColor":"#c8c8c8"},{"fontColor":"#fef149","bgColor":"#0a0908"},{"fontColor":"#29fd2f","bgColor":"#0a0908"},{"fontColor":"#ec369c","bgColor":"#0a0a09"},{"fontColor":"#2cfefe","bgColor":"#0a0a09"}];D.PRESET_FONT_COLORS=[{"color":"#E7E7E7","name":"grey"},{"color":"#000000","name":"black"},{"color":"#FC2525","name":"red"},{"color":"#29FD2F","name":"green"},{"color":"#2CFEFE","name":"turquoise"},{"color":"#EC369C","name":"pink"},{"color":"#FEF149","name":"yellow"},{"color":"#2524FB","name":"blue"}];D.PRESET_FONT_BG_COLORS=[{"color":"none","name":"none"},{"color":"#eaeaea","name":"grey1"},{"color":"#c7c7c7","name":"grey2"},{"color":"#919191","name":"grey3"},{"color":"#5b5b5b","name":"grey4"},{"color":"#000000","name":"black"},{"color":"#29FD2F","name":"green"},{"color":"#2424FB","name":"blue"},{"color":"#2CFDFD","name":"turquoise"},{"color":"#EC359B","name":"pink"},{"color":"#FDF048","name":"yellow"},{"color":"#FC2424","name":"red"}];
D.FONT_OPACITY_VALUES=[1,0.75,0.5,0.25];D.FONT_BG_OPACITY_VALUES=[1,0.75,0.5,0.25,0];D.FONT_EFFECTS=[{"name":"none","localizedStrKey":"CAPTIONS_EFFECT_NONE"},{"name":"dropshadow","localizedStrKey":"CAPTIONS_EFFECT_DROP_SHADOW"},{"name":"raised","localizedStrKey":"CAPTIONS_EFFECT_RAISED"},{"name":"depressed","localizedStrKey":"CAPTIONS_EFFECT_DEPRESSED"},{"name":"uniform","localizedStrKey":"CAPTIONS_EFFECT_OUTLINED"}];f.extend(D,f.Base,{log:function(ao,Y){},initializer:function(Y){this._model=Y.model;this._controller=Y.controller;this._view=Y.view;this.i18n=this._controller.getStrings();},render:function(ap){var Y=this,aq=Y._view,ao=D.NS;Y._node=ap;Y._oldCC=Y._model.get("ccSettings");Y.container=aq.createNode("div","container",ao);Y.header=aq.createNode("div","header",ao);Y.contentNode=aq.createNode("div","content",ao);Y.backBtn=aq.createNode("div","back",ao);Y.close=aq.createNode("div","close",ao);Y.title=aq.createNode("h2","title",ao);Y.close.setAttribute("alt","Close Captions Settings");Y.backBtn.setAttribute("alt","Go Back");Y.title.setAttribute("tabIndex",-1);if(f.UA.ie!==0&&f.UA.ie<=9){Y.container.setAttribute("onselectstart","return false");}Y.header.append(Y.title);Y.header.append(Y.close);Y.header.append(Y.backBtn);Y._populateSettingNodes();Y.container.append(Y.header);Y.container.append(Y.contentNode);ap.append(Y.container);Y._bindUI();Y._syncUI(null);setTimeout(function(){Y.container.addClass("cc-show");},10);},_bindUI:function(){var Y=this;Y.close.on("click",function(ao){Y._controller.fireUIInteractBeacon("cc-menu-x");Y.hideCCOptions();ao.preventDefault();});Y.backBtn.on("click",function(){if(Y.styleSettingsVisible){Y._controller.fireUIInteractBeacon("cc-arrow-style");Y._showCCRootSettings();}else{Y._controller.fireUIInteractBeacon("cc-arrow-options");Y.hideCCOptions();Y._controller.getControlsObj()._showSettings();}});Y.styleBtn.on("click",function(){Y._controller.fireUIInteractBeacon("cc-customize");Y._showCCStyleSettings();});Y.langSelector.onItemSelect=function(aq,ao){var ap={ccDialogSrc:Y.langSelector};Y._controller.setClosedCaptionsLanguage(this._langKeys[ao],ap);Y._controller.showClosedCaptionsPreviewText(this._langKeys[ao]);};Y.sizeSlider.onSliderChange=function(ao){var ap={ccDialogSrc:Y.sizeSlider};Y._controller.setClosedCaptionsCustomization("fontSize",D.FONT_SIZE_MAP[""+ao],ap);};Y.sizeSlider.afterSliderChange=function(ao){Y._controller.fireUIInteractBeacon("cc-size-"+ao);};Y.styleSettings.fontSelector.onItemSelect=function(aq){var ao=Y._model.get("ccSettings.fontName"),ap={ccDialogSrc:Y.styleSettings.fontSelector};if(ao!==aq){Y._controller.fireUIInteractBeacon("cc-font-"+aq);}Y._controller.setClosedCaptionsCustomization("fontName",aq,ap);};Y.styleSettings.fontColorPicker.onColorSelect=function(ap,ao){var aq=Y._model.get("ccSettings.fontColor"),ar={ccDialogSrc:Y.styleSettings.fontColorPicker};if(aq!==ap){Y._controller.fireUIInteractBeacon("cc-font-"+ao);}Y._controller.setClosedCaptionsCustomization("fontColor",ap,ar);};Y.styleSettings.fontBGOpacitySelector.onItemSelect=function(at,ap){var ar=D.FONT_BG_OPACITY_VALUES[ap],ao=Y._model.get("ccSettings.fontColor"),aq={ccDialogSrc:Y.styleSettings.fontBGOpacitySelector};if(ao!==at){Y._controller.fireUIInteractBeacon("cc-bg-"+ar*100);}Y._controller.setClosedCaptionsCustomization("bgOpacity",ar,aq);};Y.styleSettings.fontBGColorPicker.onColorSelect=function(ap,ao){var ar=Y._model.get("ccSettings.bgColor"),au=Y._controller,at={ccDialogSrc:Y.styleSettings.fontBGColorPicker};if(ar!==ap){au.fireUIInteractBeacon("cc-bg-"+ao);}if(ap==="none"){au.setClosedCaptionsCustomization("bgOpacity",0,at);}else{au.setClosedCaptionsCustomization("bgColor",ap,at);if(Y._model.get("ccSettings.bgOpacity")===0){var aq=Q.ATTRS.ccSettings.value.bgOpacity;au.setClosedCaptionsCustomization("bgOpacity",aq,at);}}};Y.styleSettings.onPresetSelect=function(ap,ao){Y._controller.setClosedCaptionsCustomizationObject(ap);if(f.Lang.isValue(ao)){Y._controller.fireUIInteractBeacon("cc-preset-"+ao);}};Y.styleSettings.fontEffectPicker.delegate("click",function(ar){var ap=Y._model.get("ccSettings.fontEffect"),ao=ar.currentTarget.effectName,aq={ccDialogSrc:Y.styleSettings.fontEffectPicker};if(ap!==ao){Y._controller.fireUIInteractBeacon("cc-effect-"+ao);}Y._setNodeSelected(ar.currentTarget);Y._controller.setClosedCaptionsCustomization("fontEffect",ao,aq);},".effect");Y.styleSettings.styleTabWidget.onTabChange=function(ap,ao){Y._controller.fireUIInteractBeacon("cc-tab-"+ap);};Y._model.after("ccSettingsChange",Y._syncUI,Y);Y._model.after("currentMediaChange",Y._mediaChangeHandler,Y);},_mediaChangeHandler:function(){var Y=this;Y._createOrUpdateLangSelector();Y._syncUI();},_setNodeSelected:function(Y){Y.get("parentNode").all(".selected").removeClass("selected");Y.addClass("selected");},_setSelectedLangAvailabilityIcon:function(){var ap=this.langSelector,ao=ap.getSelectedItem(),Y=f.Node.create('<div class="availblity-icon"></div>');if(ao.hasClass("yep-uiselector-disabled")){Y.addClass("unavailable");}ao.append(Y);},_syncUI:function(ax){var aA=this,ay=aA._model.get("ccSettings"),au=ax?ax.ccDialogSrc:null;if(au!==aA.sizeSlider){var aB=100,av;for(av in D.FONT_SIZE_MAP){if(f.Object.hasKey(D.FONT_SIZE_MAP,av)){var aC=D.FONT_SIZE_MAP[av];if(ay.fontSize<=aC){aB=av;break;}}}aA.sizeSlider.setSliderValue(aB);}if(au!==aA.langSelector){var aw=aA._controller.getCaptionsString(ay.lang,"LANG_NAME")||ay.lang;if(f.Array.indexOf(aA.langSelector._langKeys,ay.lang)===-1){aA.langSelector.setSelectedValue(aw,true);}else{aA.langSelector.setSelectedValue(aw);}}aA._setSelectedLangAvailabilityIcon();if(au!==aA.styleSettings.fontSelector){var Y=ay.fontName,at=Y.indexOf(",");if(at>1){Y=Y.substring(0,at);}aA.styleSettings.fontSelector.setSelectedValue(Y);}if(au!==aA.styleSettings.fontBGOpacitySelector){var az=aA._getOpacityString(ay.bgOpacity);aA.styleSettings.fontBGOpacitySelector.setSelectedValue(az);}if(au!==aA.styleSettings.fontEffectPicker){var aq=aA.styleSettings.fontEffectPicker.get("childNodes"),ap=aq.size(),ar;
for(ar=0;ar<ap;ar++){var ao=aq.item(ar);if(ao.effectName===ay.fontEffect){aA._setNodeSelected(ao);break;}}}if(au!==aA.styleSettings.fontBGColorPicker){aA.styleSettings.fontBGColorPicker.setSelectedColor(ay.bgOpacity!==0?ay.bgColor:"none");}if(au!==aA.styleSettings.fontColorPicker){aA.styleSettings.fontColorPicker.setSelectedColor(ay.fontColor);}},destructor:function(){var Y=this,ao=Y._model.get("ccSettings");Y.container.removeClass("cc-show");Y._model.detach("ccSettingsChange",Y._syncUI);Y._model.detach("currentMediaChange",Y._mediaChangeHandler);Y.enableControls();if(!f.UA.mobile&&Y._oldCC!==ao){Y._controller.storeCaptionConfig(ao);}Y._controller.setCaptionsCustomizationMode(false);setTimeout(function(){Y.container.remove().destroy(true);},400);},showCCOptions:function(){var Y=this;Y._view.set("activeOverlay",Y);Y._controller.setCaptionsCustomizationMode(true);},hideCCOptions:function(){this._view.set("activeOverlay",undefined);},enableControls:function(){var ao=this,Y=ao._controller.getControlsObj();Y.enableControls();Y._show();},_showCCStyleSettings:function(){var Y=this;Y.title.set("innerHTML",Y.i18n.CAPTIONS_STYLE_LC);Y.rootSettings.addClass("hidden");Y.styleSettings.removeClass("hidden");Y.styleSettingsVisible=true;},_showCCRootSettings:function(){var Y=this;Y.title.set("innerHTML",Y.i18n.CAPTIONS_OPTIONS);Y.styleSettings.addClass("hidden");Y.rootSettings.removeClass("hidden");Y.styleSettingsVisible=false;},_populateSettingNodes:function(){var Y=this,ap=this._view,ao=D.NS;Y.rootSettings=ap.createNode("div","settingswrapper",ao);Y.rootSettings.append(Y._getCCOptionNode({"type":"lang"}));Y.rootSettings.append(Y._getCCOptionNode({"type":"size"}));Y.rootSettings.append(Y._getCCOptionNode({"type":"style"}));Y.styleSettings=ap.createNode("div","settingswrapper",ao);Y._populateStyleOptions(Y.styleSettings,ap,ao);Y.contentNode.append(Y.rootSettings);Y.contentNode.append(Y.styleSettings);Y._showCCRootSettings();},_getCCOptionNode:function(au){au=au||{};var ao=this,ar=D.NS,at=ao._view,aq=at.createNode("div","title",ar),Y=f.Node.create("<div></div>"),ap=at.createNode("div","settingnode-small",ar);Y.addClass("settingnode-content");aq.addClass("node-title");ap.append(aq);ap.append(Y);if(au.type==="lang"){aq.set("innerHTML",ao.i18n.CAPTIONS_LANGUAGE_LC);ao._createOrUpdateLangSelector();Y.append(ao.langSelector);}else{if(au.type==="style"){aq.set("innerHTML",ao.i18n.CAPTIONS_STYLE_LC);ao.styleBtn=f.Node.create("<button></button>").addClass("style-btn");ao.styleBtn.set("innerHTML",ao.i18n.CAPTIONS_CUSTOMIZE_LC);ao.styleBtn.append(f.Node.create("<span></span>").addClass("fwd-icon"));Y.append(f.Node.create("<div></div>").addClass("style-node").append(f.Node.create("<div></div>").addClass("current-style").set("innerHTML","Aa")).append(ao.styleBtn)).addClass("style-link-box");}else{aq.set("innerHTML",ao.i18n.FONT_SIZE_LC);ao.sizeSlider=new ae.SliderWidget(at,{"marks":5,"minValue":0,"maxValue":100,"isDiscrete":true,"initialValue":50});Y.append(f.Node.create("<div></div>").addClass("sizetexts").append(f.Node.create("<div></div>").addClass("left").set("innerHTML","A")).append(f.Node.create("<div></div>").addClass("right").set("innerHTML","A"))).addClass("size-selector");Y.append(ao.sizeSlider);}}return ap;},_createOrUpdateLangSelector:function(){var ax=this,ao=ax._model.get("currentMedia").get("CC"),ap=K.getCaptionsStringID("LANG_NAME"),Y={},au,at,av,aq=[],aw=[],ar=0;if(ao&&ao.length>0){ap=K.getCaptionsStringID("LANG_NAME");Y={};f.Array.each(ao,function(ay){au={},at=ax._controller.getCaptionsString(ay.lang,"LANG_NAME",au)||ay.lang;Y[au.lang||ay.lang]=at;});for(av in ap){if(f.Object.hasKey(ap,av)&&Y[av]){aw[ar]=Y[av];aq[ar]=av;ar++;}}}else{aw[0]=ax.i18n.CAPTIONS_NOT_AVAILABLE_LC;aq[0]="--";}if(ax.langSelector){ax.langSelector.updateDropDownItems(aw);}else{ax.langSelector=new ae.SelectorWidget(ax._view,aw,function(az,ay){var aA=this._langKeys[ay];if(aA==="--"||aA===ax._model.get("ccSettings.lang")){return false;}return true;});}ax.langSelector._langKeys=aq;ax._addDrownDownLangAvailabilityIcons();},_addDrownDownLangAvailabilityIcons:function(){var Y=this.langSelector.getDropDownItems(),ao=this.langSelector._langKeys;f.each(Y,function(aq,ap){if(ao[ap]!=="--"){aq.append(f.Node.create('<span class="availblity-icon"></span>'));}});this._setSelectedLangAvailabilityIcon();},_populateStyleOptions:function(ap,at,ar){var ao=this,Y=at.createNode("div","presets",ar),aq=at.createNode("div","styleconfig",ar);ap.styleTabWidget=ao._createStyleTabWidget(ap,at,ar);Y.append(ao._createAllPresets(ap));aq.append(ap.styleTabWidget);ap.append(Y).append(aq);},_createAllPresets:function(ao){var Y=this,aq=f.Node.create("<div></div>"),at=D.PRESETS.length,ap,ar;for(ar=0;ar<at;ar++){ap=Y._createPreset(D.PRESETS[ar],ar+1);if(ar%3===0){ap.addClass("first-in-row");}aq.append(ap);if(ar===at/2-1){aq.append(f.Node.create("<div></div>").addClass("separator"));}}aq.delegate("click",function(aw){var av=aw.target.config,au=aw.target._presetIndex;if(typeof ao.onPresetSelect==="function"){ao.onPresetSelect.call(null,av,au);}},"div.preset");return aq.addClass("preset-container");},_createPreset:function(ao,Y){var ap=f.Node.create("<div></div>").addClass("preset");ap.set("innerHTML","Aa");ap.config=ao;ap._presetIndex=Y;ap.setStyle("color",ao.fontColor);ap.setStyle("backgroundColor",ao.bgColor);return ap;},_createStyleTabWidget:function(ap,ar){var ay=this,ao,Y=ay._controller.getFontList()||[],at=[],au=[],ax=ay._model.get("ccSettings.fontEffect"),av=D.FONT_EFFECTS.length,aw,aq;f.each(D.FONT_OPACITY_VALUES,function(az){at.push(az*100+"%");});f.each(D.FONT_BG_OPACITY_VALUES,function(az){var aA=ay._getOpacityString(az);au.push(aA);});ap.fontSelector=new ae.SelectorWidget(ar,Y);ap.fontColorPicker=new ae.ColorPickerWidget(ar,D.PRESET_FONT_COLORS);ap.fontBGColorPicker=new ae.ColorPickerWidget(ar,D.PRESET_FONT_BG_COLORS);ap.fontBGOpacitySelector=new ae.SelectorWidget(ar,au);ap.fontEffectPicker=f.Node.create("<div></div>");ap.fontSelector.addClass("fontselector");
ap.fontColorPicker.addClass("fontcolorpicker");ap.fontBGColorPicker.addClass("fontbgcolorpicker");ap.fontBGOpacitySelector.addClass("font-bg-opacityselector");ap.fontEffectPicker.addClass("effect-picker");for(aq=0;aq<av;aq++){aw=D.FONT_EFFECTS[aq];ap.fontEffectPicker.append(ay._createEffectIcon(aw.name,ay.i18n[aw.localizedStrKey],ax===aw.name));}ao=new ae.TabWidget(ar,[{"title":ay.i18n.FONT_NAME_LC},{"title":ay.i18n.CAPTIONS_BACKGROUND_SETTINGS_LC},{"title":ay.i18n.CAPTIONS_EFFECT_SETTINGS}]);ao.setContent(0,ap.fontSelector);ao.setContent(0,ap.fontColorPicker);ao.setContent(1,ap.fontBGColorPicker);ao.setContent(1,ap.fontBGOpacitySelector);ao.setContent(2,ap.fontEffectPicker);return ao;},_getOpacityString:function(Y){var ao=this.i18n,ap=Y===1?ao.CAPTIONS_OPAQUE:ao.CAPTIONS_TRANSPARENCY;return f.substitute(ao.CAPTIONS_OPACITY_PERCENTAGE,{number:Y*100,opacity:ap});},_createEffectIcon:function(ao,Y,aq){var ap=f.Node.create("<div></div>").addClass("effect"),ar=f.Node.create("<div></div>");ar.addClass("effect-"+ao);ar.addClass("preview-icon");if(aq===true){ap.addClass("selected");}ap.tooltip=f.Node.create("<div></div>").addClass("tooltip");ap.tooltip.append(f.Node.create("<div class='tooltip-content'></div>").set("innerHTML",Y));ap.append(ar);ap.append(ap.tooltip);ap.effectName=ao;return ap;}});f.namespace("VideoPlatform").CCOptions=D;function ae(){}ae.NAME="UIWidgets";ae.NS="uiwidget";ae.ATTRS={};ae.SliderWidget=function(ao,Y){this._config=Y;this.sliderNode=ao.createNode("div","slider",ae.NS);ae.SliderWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();this._addAPIFunctions();this._bindUI();this.sliderNode._sliderTrack._setValue(Y.initialValue||0);return this.sliderNode;};f.extend(ae.SliderWidget,ae,{_createWidgetUI:function(){var aq=this,ap=aq._config,ao=f.Node.create("<div></div>"),av,Y,at,ar,au;ao.addClass("track");ao.isDiscrete=ap.isDiscrete||false;ao.minVal=ap.minValue||0;ao.maxVal=ap.maxValue||100;ao.marksXPos=[];av=100/(ap.marks-1);Y=0;ap.marks=(ap.marks>=2)?ap.marks:2;for(au=0;au<ap.marks;au++){at=f.Node.create("<div></div>");at.addClass("mark");ao.append(at);at.setStyle("left",Y+"%");ao.marksXPos.push(Y);Y+=av;}ar=f.Node.create("<div></div>");ar.addClass("thumb");ao.append(ar);ao._sliderThumb=ar;aq.sliderNode.append(ao);aq.sliderNode._sliderTrack=ao;},_addAPIFunctions:function(){var ao=this.sliderNode,Y=ao._sliderTrack;Y._setValue=function(ar,ap){if(ar<0){ar=0;}else{if(ar>100){ar=100;}}var aq=this,at;at=(aq.maxVal-aq.minVal)*(ar/100)+aq.minVal;at=Math.round(at*10)/10;if(at!==aq.currentVal){if(typeof ap==="function"){ap(at,aq.currentVal);}aq.currentVal=at;aq._sliderThumb.setStyle("left",ar+"%");}};Y._onSliderDrag=function(aq){var ap=this,au=f.bind((ao.onSliderChange||function(){}),ao);if(!ap.hasClass("drag")){return;}ap.trackWidth=ap.get("offsetWidth");var at=(aq.pageX-ap.getX())/ap.trackWidth*100,ar,aw,av;if(ap.isDiscrete){av=100;for(ar=0;ar<ap.marksXPos.length;ar++){if((Math.abs(ap.marksXPos[ar]-at))<av){av=Math.abs(ap.marksXPos[ar]-at);aw=ap.marksXPos[ar];}}ap._setValue(aw,au);}else{ap._setValue(at,au);}};ao.setSliderValue=function(ap,ar){if(ar===true){var aq=f.bind((ao.onSliderChange||function(){}),ao);Y._setValue(ap,aq);}else{Y._setValue(ap);}};},_bindUI:function(){var Y=f.one(document),ap=this.sliderNode,ao=ap._sliderTrack;ao.on("mousedown",function(aq){var ar,at=ao.currentVal;this.addClass("drag");this._onSliderDrag(aq);ar=Y.on("mousemove",function(au){ao._onSliderDrag(au);});Y.once("mouseup",function(){var au=f.bind((ap.afterSliderChange||function(){}),ap);ao.removeClass("drag");Y.detach(ar);if(ao.currentVal!==at){au(ao.currentVal,at);}});});}});ae.SelectorWidget=function(ao,Y,ap){this._config=Y||[];this.selectorNode=ao.createNode("div","selector",ae.NS);this.selectorNode._validateSelection=ap||function(){return true;};ae.SelectorWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();this._addAPIFunctions();this._bindUI();this.selectorNode.setSelectedValue(Y[0]);return this.selectorNode;};f.extend(ae.SelectorWidget,ae,{_updateListItems:function(aq){var Y=this,ao=Y.selectorNode,ap;ao._optionNodes.length=0;Y.selectorOptionsList.get("childNodes").remove();f.each(aq,function(at,ar){ap=f.Node.create('<li class="yep-uiselector-listitem"></li>');ap.set("innerHTML",at);ap.set("title",at);ap.setAttribute("value",ar);Y.selectorOptionsList.append(ap);ao._optionNodes.push(ap);});},_createWidgetUI:function(){var Y=this,ao=Y.selectorNode,ar=f.Node.create("<div></div>"),ap=f.Node.create('<span class="yep-uiselector-selection"></span>'),aq=f.Node.create("<div></div>");Y._selectedItem=ap;Y.selectorOptionsList=f.Node.create('<ul class="yep-uiselector-listbox"></ul>');ao._optionNodes=[];aq.addClass("dropdownicon-bg").append(f.Node.create("<div></div>").addClass("dropdownicon"));ar.addClass("yep-uiselector-wrapper");ar.append(ap);ar.append(aq);ao.append(ar);ao.append(Y.selectorOptionsList);Y._updateListItems(Y._config);},_addAPIFunctions:function(){var Y=this,ao=Y.selectorNode,ap=Y._selectedItem;ao.setSelectedValue=function(ar,aq){ap.set("innerHTML",ar);ap.set("title",ar);if(ap.hasClass("yep-uiselector-disabled")){if(!aq){ap.removeClass("yep-uiselector-disabled");}}else{if(aq){ap.addClass("yep-uiselector-disabled");}}};ao.updateDropDownItems=function(aq){Y._updateListItems(aq);};ao.getDropDownItems=function(){return this._optionNodes;};ao.getSelectedItem=function(){return ap;};},_bindUI:function(){var Y=this.selectorNode,ao;Y.on("click",function(ap){if(ao){ao.detach();ao=null;}this.toggleClass("open");if(Y.hasClass("open")){ao=Y.once("clickoutside",function(){Y.removeClass("open");ao.detach();ao=null;});}ap.preventDefault();});Y.delegate("click",function(ap){var aq=ap.container,ar=aq.onItemSelect||function(){},av=this.get("text"),at=this.getAttribute("value"),au=aq._validateSelection.call(aq,av,at);if(au===false){return;}aq.setSelectedValue(av);ar.call(aq,av,at);},"li");}});ae.TabWidget=function(Y,ao){this._config=ao;this.tabsWidgetNode=Y.createNode("div","tab",ae.NS);
ae.TabWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();this._addAPIFunctions();this._bindUI();this.tabsWidgetNode._showTab(0);return this.tabsWidgetNode;};f.extend(ae.TabWidget,ae,{_createTab:function(ao){var ap=f.Node.create("<li></li>").addClass("yep-uitab"),Y=f.Node.create("<div></div>").addClass("tabcontent");ap.set("innerHTML",ao.title||"");ap.setStyle("width",ao.tabPercentWidth+"%");ap._tabContentNode=Y;return ap;},_createWidgetUI:function(){var ao=this,av=ao._config,ar=f.Node.create("<div></div>").addClass("tabs-content"),aq,ap,Y,au,at=f.UA.ie;ao._tabsNav=f.Node.create("<ul></ul>").addClass("yep-uitabs-nav");ao.tabsWidgetNode._tabs=[];ap=av.length;Y=Math.floor((100/ap)*100)/100;if(at>0&&at===7){Y=Math.floor(Y);}for(au=0;au<ap;au++){av[au].tabPercentWidth=Y;aq=ao._createTab(av[au]);ao._tabsNav.append(aq);ar.append(aq._tabContentNode);ao.tabsWidgetNode._tabs.push(aq);}ao.tabsWidgetNode.append(ao._tabsNav).append(ar);},_addAPIFunctions:function(){this.tabsWidgetNode.setContent=function(Y,ao){this._tabs[Y]._setContent(ao);};this.tabsWidgetNode._showTab=function(Y){var ap=this._tabs,ao=ap[Y];f.each(ap,function(aq){aq.removeClass("selected");aq._tabContentNode.removeClass("tab-show");});ao.addClass("selected");ao._tabContentNode.addClass("tab-show");this._currentTabIndex=Y;};},_bindUI:function(){var Y=this.tabsWidgetNode;f.each(Y._tabs,function(ap,ao){ap._tabIndex=ao;ap._setContent=function(aq){this._tabContentNode.append(aq);};});this._tabsNav.on("click",function(ao){setTimeout(function(){var aq=ao.target,ap=Y.onTabChange||function(){};if(Y._currentTabIndex!==aq._tabIndex){ap.call(Y,aq.get("text"),aq._tabIndex);Y._showTab(aq._tabIndex);}},1);});}});ae.ColorPickerWidget=function(ao,Y){this._config=Y;this.colorPickerNode=ao.createNode("div","colorpicker",ae.NS);ae.ColorPickerWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();this._addAPIFunctions();this._bindUI();return this.colorPickerNode;};f.extend(ae.ColorPickerWidget,ae,{_createWidgetUI:function(){var ao=this,at,aq,ap,Y,ar=ao._config.length;for(at=0;at<ar;at++){aq=f.Node.create("<div></div>").addClass("color-option");ap=ao._config[at];Y=ap.color;aq._colorInfo=ap;if(Y==="none"){aq.addClass("nocolor");aq.setStyle("backgroundColor","transparent");}else{aq.setStyle("backgroundColor",Y);}ao.colorPickerNode.append(aq);}},_addAPIFunctions:function(){var ao=this,Y=ao.colorPickerNode;Y._setNodeSelected=function(ap){ap.get("parentNode").all(".selected").removeClass("selected");ap.addClass("selected");};Y.setSelectedColor=function(aq){var ar=Y.get("childNodes"),ap=ar.size(),at;aq=aq.toLowerCase();Y.all(".selected").removeClass("selected");for(at=0;at<ap;at++){var au=ar.item(at);if(au._colorInfo.color.toLowerCase()===aq){Y._setNodeSelected(au);break;}}};},_bindUI:function(){var Y=this.colorPickerNode;Y.delegate("click",function(aq){var ap=aq.target._colorInfo,ao=f.bind((Y.onColorSelect||function(){}),Y);Y._setNodeSelected(aq.target);ao(ap.color,ap.colorName);},".color-option");}});f.namespace("VideoPlatform").UIWidgets=ae;function w(){w.superclass.constructor.apply(this,arguments);}w.NAME="HotkeyOverlay";w.NS="hotkeyoverlay";w.ATTRS={};f.extend(w,f.Base,{log:function(ao,Y){},initializer:function(Y){this._view=Y.view;},render:function(ap){var Y=this,aq=Y._view,ao=w.NS;Y._node=ap;Y.container=aq.createNode("div","container",ao);Y.wrapper=aq.createNode("div","table-wrapper",ao);Y.table=aq.createNode("table","table",ao);Y.close=aq.createNode("button","close",ao);Y.title=aq.createNode("h2","title",ao);Y._tb=f.Node.create("<tbody></tbody>");Y.close.set("innerHTML","X");Y.close.setAttribute("alt","Close Hotkey Menu");Y.close.addClass("close");Y.title.set("innerHTML","Hotkey Menu");Y.title.setAttribute("tabIndex",-1);Y._appendRow("Question Mark:","Open Hotkey Menu");Y._appendRow("Esc:","Close Menu");Y._appendRow("Shift + Space Bar:","Play / Pause");Y._appendRow("Ctrl + Shift + M:","Mute / Un-Mute");Y._appendRow("Ctrl + Shift + N:","Next Video");Y.table.append(Y._tb);Y.wrapper.append(Y.title);Y.wrapper.append(Y.table);Y.wrapper.append(Y.close);Y.container.append(Y.wrapper);ap.append(Y.container);Y._bindUI();setTimeout(function(){if(Y.container){Y.container.addClass("yui3-videoplayer-show");}},10);},_bindUI:function(){var Y=this._view;this.close.on("click",function(ao){Y.set("activeOverlay",undefined);ao.preventDefault();});},_appendRow:function(ao,Y){var ar=f.Node.create('<td class="label" align="left"></td>'),ap=f.Node.create('<td class="value" align="left"></td>'),aq=f.Node.create("<tr></tr>");ar.set("innerHTML",ao);ap.set("innerHTML",Y);aq.append(ar);aq.append(ap);this._tb.append(aq);},destructor:function(){this.container.removeClass("yui3-videoplayer-show");var Y=this;setTimeout(function(){if(Y.container){Y.container.remove();}},400);}});f.namespace("VideoPlatform").HotkeyOverlay=w;function I(){I.superclass.constructor.apply(this,arguments);}I.NAME="Controls";I.NS="controls";I.ATTRS={};I.VOLUME_INCREMENT=0.1;I.SEEK_INCREMENT=5;I.VISUAL_SEEK_COLLAGE_ROWS=10;I.VISUAL_SEEK_COLLAGE_COLS=10;I.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION=480;f.extend(I,f.Base,{initializer:function(Y){var ao=document.createElement("p").style;this._model=Y.model;this._controller=Y.controller;this._view=Y.view;this.i18n=this._controller.getStrings();this._controller.setControlsObj(this);this.controlsAPI=new x(this._model,this._controller);this.playlistAPI=new X(this._model,this._controller);this._isIE9OrEarlier=f.UA.ie>0&&f.UA.ie<10;this._transitionsSupported="transition" in ao||"WebkitTransition" in ao||"MozTransition" in ao||"msTransition" in ao||"OTransition" in ao;this._node=null;this._controlsNode=null;this._barNode=null;this._playPauseNode=null;this._seekNode=null;this._seekBufferNode=null;this._seekProgressNode=null;this._seekHandleNode=null;this._seekTimeNode=null;this._settingsNode=null;this._accessibilityCCIconNode=null;this._matureContentIconNode=null;this._settingsPanelNode=null;this._sizeNode=null;this._volumeBarsNode=null;
this._muteNode=null;this._ccOnNode=null;this._ccOffNode=null;this._captionOption=null;this._controlsDisabled=false;this._idleTimer=null;this._settingsPanelTimer=null;this._settingsTimer=null;this._totalSecs=null;if(f.UA.gecko>0&&f.UA.os==="macintosh"){this._lastPlayTime=0;}this._settingsContextMenuIsOpen=false;},destructor:function(){var Y=this;Y._clearBufferTimer();f.one(document).detachAll();if(Y.accessibleControlsTimer){clearTimeout(Y.accessibleControlsTimer);Y.accessibleControlsTimer=null;}if(Y._startIdleTimer){clearTimeout(Y._startIdleTimer);Y._startIdleTimer=null;}if(Y._settingsTimer){clearTimeout(Y._settingsTimer);Y._settingsTimer=null;}if(Y._settingsPanelTimer){clearTimeout(Y._settingsPanelTimer);Y._settingsPanelTimer=null;}},render:function(az){var av=this,aq=null,Y=null,au=null,aB=null,aF=null,ap=null,aE=null,aG=null,aA=null,ao=null,at=null,aC=null,ar=null,ay=null,aw=this._model.get("chromeless"),aD=null,ax=null;av._playerNode=f.one(".yui3-videoplayer-main");av._node=az;av._barNode=av._createNode("div","bar");av._seekNode=av._createNode("div","seek");aq=av._createNode("div","main");av._playPauseNode=av._addButton("item play-pause yui3-videoplayer-transparent","","span");aq.append(av._playPauseNode);au=av._createNode("div","slider");av._sliderNode=au;av._seekBufferNode=av._createNode("div","buffer");au.append(av._seekBufferNode);av._seekProgressNode=av._createNode("div","progress");au.append(av._seekProgressNode);av._seekHandleNode=av._createNode("div","handle");au.append(av._seekHandleNode);av._seekNode.append(au);av._seekTimeNode=av._createNode("div","time show");av._seekNode.append(av._seekTimeNode);if(av._model.get("isVisualSeekEnabled")===true){av._visualSeekNode=av._createNode("div","vseek");av._visualSeekThumbNode=av._createNode("div","vseek-thumb");av._visualSeekNode.append(av._visualSeekThumbNode);av._visualSeekTimeNode=av._createNode("div","vseek-time");av._visualSeekNode.append(av._visualSeekTimeNode);av._seekNode.append(av._visualSeekNode);}av._settingsNode=av._createNode("div","item settings yui3-videoplayer-transparent");av._settingsNode.append(av._createNode("span",""));av._sizeNode=av._createNode("div","size");av._sizeIconNode=av._createNode("span","full");av._sizeNode.append(av._sizeIconNode);av._accessibilityCCIconNode=av._createNode("div","accessibility-cc-icon disable");av._matureContentIconNode=av._createNode("div","mature-content-marker disable");av._matureContentIconNode.append(f.Node.create("<div></div>").addClass("maturity-icon"));av._matureContentIconNode.append(f.Node.create("<div>"+this.i18n["MATURE"]+"</div>").addClass("maturity-text"));Y=av._createNode("div","aux");Y.append(av._settingsNode);Y.append(av._sizeNode);aF=av._createNode("tbody","");aF.append(av._getShareEmbedNode());aF.append(av._getEmbedLinkNode());aF.append(av._getEmbedCodeNode());aF.append(av._getClosedCaptionsNode());if(av._model.get("rendererType")==="html"){aF.append(av._getResolutionNode());}ar=av._createNode("div","bars");ar.append(av._createNode("div","bar-1"));ar.append(av._createNode("div","bar-2"));ar.append(av._createNode("div","bar-3"));ar.append(av._createNode("div","bar-4"));ar.append(av._createNode("div","bar-5"));ar.append(av._createNode("div","bar-6"));av._volumeBarsNode=ar;av._muteNode=av._addButton("mute","Mute");av._yahooLogoNode=av._getYahooLogoNode();aC=av._createNode("td","");av._muteNode=av._addButton("mute","","span");aC.append(av._muteNode);aC.append(av._volumeBarsNode);aC.append(av._yahooLogoNode);at=av._createNode("th","");at.set("innerHTML",this.i18n.VOLUME_LC);ao=av._createNode("tr","volume");ao.append(at);ao.append(aC);aF.append(ao);aB=av._createNode("table","");aB.append(aF);av._settingsPanelNode=av._createNode("div","settings-panel");ap=av._createNode("div","settings-panel-box embed-hidden yui3-videoplayer-transparent");av._settingsPanelNode.append(aB);ap.append(av._settingsPanelNode);av._barNode.append(aq);av._barNode.append(av._seekNode);av._barNode.append(Y);if(this._isIE9OrEarlier){ay=av._createNode("div","ie-gradient");av._node.append(ay);}av._node.append(av._barNode);av._node.append(av._accessibilityCCIconNode);av._node.append(av._matureContentIconNode);av._node.append(ap);if(f.UA.mobile!==null||aw===true){az.setStyle("display","none");}ax=av._node.ancestor();if(ax){aD=av._createNode("div","accessible-controls");aD.append(av._addButton("play","Play"));aD.append(av._addButton("seek-back","Seek Back 5 Seconds"));aD.append(av._addButton("seek-forward","Seek Forward 5 Seconds"));aD.append(av._addButton("volume-up","Volume Up"));aD.append(av._addButton("volume-down","Volume Down"));aD.append(av._addButton("mute","Mute"));aD.append(av._addButton("next-video","Next Video"));aD.append(av._addButton("hotkey-menu","Open Hotkey Menu"));aD.setStyle("display","none");av._node.insert(aD,"before");}if(av._isIE9OrEarlier){av._node.all("*").setAttribute("unselectable","on");}av._bindUI();av._syncUI();av.accessibleControlsTimer=setTimeout(function(){var aH;if(av._view._node){aH=av._view._node.one(".accessible-controls");if(aH){aH.setStyle("display","block");}}},300);av._show();},inAdContext:function(){var Y=this._model.get("yvapState");if((Y===YVAPEvents.AD_START)||(Y===YVAPEvents.AD_PROGRESS)){return true;}return false;},_play:function(){if(!this._model.get("isPlaying")&&!this.inAdContext()){this.controlsAPI.play();}else{this.controlsAPI.pause();}},_volumeUp:function(){this.controlsAPI.setVolume(this.controlsAPI.getVolume()+I.VOLUME_INCREMENT);},_volumeDown:function(){this.controlsAPI.setVolume(this.controlsAPI.getVolume()-I.VOLUME_INCREMENT);},_nextVideo:function(){var Y=this.playlistAPI.getPosition(),ao=this.playlistAPI.getSize()-1;if(Y<ao){this.playlistAPI.setPosition(Y+1);}},_hotkeyMenu:function(){var Y=this._view,ao;if(Y.get("activeOverlay")&&Y.get("activeOverlay").name==="HotkeyOverlay"){Y.set("activeOverlay",undefined);}else{ao=new w({view:Y});Y.set("activeOverlay",ao);}},_openCCOptionsEditor:function(){var Y=this._view,ao;ao=new D({model:this._model,controller:this._controller,view:Y});
this._hideSettings();ao.showCCOptions();},enableControls:function(){var Y=this,ao=Y._view._node;Y._controlsDisabled=false;ao.on("mousemove",Y._show,Y);ao.on("mouseleave",Y._hide,Y);Y._controlsNode.on("hover",Y._controlsMouseEnter,Y._controlsMouseLeave,Y);},disableControls:function(){var ao=this,ap=ao._view._node,Y=ao._controlsNode;if(!Y){return false;}Y.removeClass("show");ao._barNode.addClass("disable");Y.removeClass("active");ao._model.set("showControls",false);ao._controlsDisabled=true;Y.detach("hover",ao._controlsMouseEnter,ao._controlsMouseLeave,ao);ap.detach("mousemove",ao._show,ao);ap.detach("mouseleave",ao._hide,ao);return true;},_bindUI:function(){var az=this,ap=az._model,at=az._controller,ax=az._model.get("rendererType"),aq=f.one(document),ay=az._view._node,ao=null,aw=null,av=null,au=null,ar=null,Y=null;az._controlsNode=az._node;az._barNode=az._controlsNode.one(".bar");ao=az._barNode.one(".main");aw=az._barNode.one(".aux");az._settingsPanelNode=az._controlsNode.one(".settings-panel-box");az._hotkeyNode=ay.one(".hotkey-menu");az._idleTimer=null;az._settingsPanelTimer=null;az._settingsTimer=null;az._bufferTimer=null;az._bufferTimerStarted=false;az._controlsNode.addClass("hide");aq.on("mousemove",function(aA){az._seekDragChange(aA);az._volumeDragChange(aA);},this);aq.on("mouseup",function(aA){az._seekDragEnd(aA);az._volumeDragEnd(aA);},this);az.enableControls();az._playPauseNode.on("click",az._playPauseChange,az);az._seekNode.on("mouseenter",function(){az._seekTimeNode.addClass("show");});az._settingsPanelNode.on("hover",null,az._hideSettingsAfterDelay,az);az._settingsPanelNode.on("mouseenter",az._stopSettingsPanelTimer,az);if(f.Lang.isNumber(f.UA.gecko)&&(f.UA.gecko>0)){az._settingsPanelNode.on("contextmenu",az._showSettingsContextMenu,az);}az._settingsNode.on("click",az._settingsClick,az);az._accessibilityCCIconNode.on("click",az._accessibilityCCIconClick,az);az._sizeNode.on("click",az._sizeClick,az);ap.after("rendererReadyChange",function(){if(!az._model.get("rendererReady")){return;}az._controller._renderer.after(ai.FULLSCREEN_ENTER,az._setFullSizeButton,az);az._controller._renderer.after(ai.FULLSCREEN_EXIT,az._setSmallSizeButton,az);},az);az._muteNode.on("click",az._muteClick,az);az._volumeBarsNode.on("mousedown",az._volumeDragStart,az);az._seekNode.on("mousedown",az._seekDragStart,az);if(ap.get("isVisualSeekEnabled")===true){Y=az._sliderNode;Y.on("mouseenter",az._onVisualSeekMouseEnter,this);Y.on("mouseleave",az._onVisualSeekMouseLeave,this);Y.on("mousemove",az._moveVisualSeek,this);}ap.after("fullscreenChange",function(){if(ax==="html"||(az._playerNode.get("offsetWidth")<I.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!az._model.get("isOffNetwork"))){az._captionOption.addClass("disable");}else{az._captionOption.removeClass("disable");}});ap.after("durationChange",function(aA){az._updateDuration(aA.newVal);});ap.after("isPlayingChange",function(aA){az._setShareUrlEmbedCode();az._volumeBarsChange(az.controlsAPI.getVolume());az._updateSeekBarState();az._syncUI();if(ap.get("rendererType")==="html"&&ap.get("currentMedia")){az._updateResolutions();az._setCurrentResolution();}if(ap.get("isVisualSeekEnabled")===true){az._updateVisualSeek();}if(az._matureContentIconNode&&ap.get("currentMedia")&&ap.get("currentMedia").get("ageGate")){if(ap.get("currentMedia").get("ageGate")!=="none"){az._matureContentIconNode.removeClass("disable");}else{az._matureContentIconNode.addClass("disable");}}},az);ap.after("streamBitrateChange",function(){if(ap.get("rendererType")==="html"&&ap.get("streamBitrate")){az._setCurrentResolution();}},az);ap.after("yvapStateChange",function(aA){if(aA.newVal===YVAPEvents.AD_START){az._setShareUrlEmbedCode();az._volumeBarsChange(az.controlsAPI.getVolume());az._syncUI();az._hideVisualSeek();az._matureContentIconNode&&az._matureContentIconNode.addClass("disable");ap.set("ccAvailable",false);}else{if(aA.newVal===YVAPEvents.AD_PROGRESS||aA.newVal===YVAPEvents.AD_PAUSE){az._syncUI();}}},az);ap.after("ccAvailableChange",function(){if(az._accessibilityCCIconNode){if(ap.get("ccAvailable")){az._accessibilityCCIconNode.removeClass("disable");az._matureContentIconNode.addClass("marker-shift-right");}else{az._accessibilityCCIconNode.addClass("disable");az._matureContentIconNode.removeClass("marker-shift-right");}}});ap.after("muteChange",function(){az._syncUI();},az);ap.after("currentTimeChange",function(aA){az.playTimeChange(aA.newVal,az._totalSecs);if(ap.get("isPlaying")&&az._bufferTimerStarted===false){az._bufferTimerStarted=true;az._startBufferTimer();}},az);ap.after("adPlaybackPositionChange",function(aA){az.playTimeChange(aA.newVal,az.adTotalSecs);},az);ap.after("currentMediaChange",function(){az._setShareUrlEmbedCode();az._updateSeekBarState();az._bufferTimeChange(0);if(ap.get("rendererType")==="html"){ap.get("currentMedia").after("selectableStreamsChange",function(){az._updateResolutions();ap.set("streamBitrate",null);});}if(ap.get("isVisualSeekEnabled")===true){az._resetVisualSeek();}},az);ap.after("ccSettingsChange",function(aA){if((!f.Lang.isValue(aA.subAttrName)||aA.subAttrName==="ccSettings.show")&&f.Lang.isValue(aA.newVal)&&f.Lang.isValue(aA.newVal.show)){az._updateClosedCaptionButtons(aA.newVal.show);}},az);ap.after("playerStateChange",function(aA){if(aA.newVal==="playbackComplete"){az._clearBufferTimer();}},az);ap.after("widthChange",function(aA){if(ax==="html"||(az._playerNode.get("offsetWidth")<I.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!az._model.get("isOffNetwork"))){az._captionOption.addClass("disable");}else{az._captionOption.removeClass("disable");}},az);az._settingsPanelNode.setStyle("display","none");if(f.UA.mobile!==null){az._settingsPanelNode.one(".volume").addClass("disable");}if(f.UA.mobile===null&&ap.get("rendererType")==="html"){ar=ay.one(".yui3-videoplayer-video");ar.on("click",az._playPauseChange,az);}az._settingsPanelNode.one(".tumblr-icon").on("click",function(){at.fireUIInteractBeacon("ctrl-Tumblr");});az._settingsPanelNode.one(".fb-icon").on("click",function(){at.fireUIInteractBeacon("ctrl-Facebook");
});az._settingsPanelNode.one(".twitter-icon").on("click",function(){at.fireUIInteractBeacon("ctrl-Twitter");});az._settingsPanelNode.one(".mail-icon").on("click",function(){at.fireUIInteractBeacon("ctrl-Mail");});az._settingsPanelNode.one(".y-logo").on("click",function(){at.fireUIInteractBeacon("yahoo-logo");});az._settingsPanelNode.one(".cc-options").on("click",az._ccOptionsClick,az);az._bindAccessibleControls();az._startIdleTimer();if(!K.isFullscreenSupported()){au=az._barNode;av=az._sizeNode;au.addClass("no-fullscr");av.addClass("disable");}},_syncUI:function(){var ap=this,Y=ap._model,ao=ap._view;setTimeout(function(){if(ao.get("activeOverlay")&&ao.get("activeOverlay").name==="HotkeyOverlay"){ap._hotkeyNode.set("innerHTML","Close Hotkey Menu");}else{ap._hotkeyNode.set("innerHTML","Open Hotkey Menu");}if(!ap.controlsAPI.getMute()){ap._muteNode.removeClass("on");}else{ap._muteNode.addClass("on");}},50);if(Y.get("isPlaying")||Y.get("yvapState")===YVAPEvents.AD_START||Y.get("yvapState")===YVAPEvents.AD_PROGRESS){ap._playPauseNode.removeClass("play");ap._playPauseNode.addClass("pause");}else{ap._playPauseNode.removeClass("pause");ap._playPauseNode.addClass("play");}ap._syncSizeButton();},_startIdleTimer:function(){var Y=this;if(Y._idleTimer){clearTimeout(Y._idleTimer);Y._idleTimer=null;}if(Y._seekNode.hasClass("drag")||Y._controlsNode.hasClass("active")){return;}Y._idleTimer=setTimeout(function(){Y._hide();Y._idleTimer=null;},3000);},_startBufferTimer:function(){var Y=this,ao=Y._controller.getRenderer();Y._bufferTimer=setInterval(function(){if(Y._model.get("changingResolution")){return;}var aq=ao.getBuffered(),ap;if(aq){ap=Math.floor(aq.end);}else{Y._clearBufferTimer();return;}Y._bufferTimeChange(ap);},1000);},_clearBufferTimer:function(){var Y=this;Y._bufferTimerStarted=false;if(Y._bufferTimer){clearInterval(Y._bufferTimer);}},_show:function(){var Y=this;if(Y._controlsDisabled||!Y._controlsNode){return;}if(!Y._controlsNode.hasClass("show")){Y._barNode.removeClass("disable");if(Y._transitionsSupported){setTimeout(function(){Y._controlsNode.addClass("show");Y._model.set("showControls",true);},1);}else{Y._controlsNode.addClass("show");Y._model.set("showControls",true);}}Y._startIdleTimer();},_hide:function(){var ao=this,Y=ao._settingsContextMenuIsOpen;ao._settingsContextMenuIsOpen=false;if(Y){ao._hideSettingsAfterDelay();return;}if(ao._seekNode.hasClass("drag")||ao._controlsNode.hasClass("active")){return;}if(ao._idleTimer){clearTimeout(ao._idleTimer);ao._idleTimer=null;}if(ao._seekTimeNode.hasClass("show")&&ao._transitionsSupported){ao._seekTimeNode.removeClass("show");setTimeout(function(){ao._hideControls();},700);}else{ao._hideControls();}},_hideControls:function(){var Y=this;if(Y._idleTimer||Y._controlsNode.hasClass("active")){return;}Y._controlsNode.removeClass("show");Y._hideSettings();if(Y._transitionsSupported){setTimeout(function(){if(!Y._controlsNode.hasClass("show")){Y._barNode.addClass("disable");Y._seekTimeNode.addClass("show");Y._model.set("showControls",false);}},200);}else{Y._barNode.addClass("disable");Y._seekTimeNode.addClass("show");Y._model.set("showControls",false);}},_controlsMouseEnter:function(){this._controlsNode.addClass("active");},_controlsMouseLeave:function(){this._controlsNode.removeClass("active");this._startIdleTimer();},_bindAccessibleControls:function(){var ax=this,ao=ax._view._node.one(".accessible-controls"),au=ao.one(".play"),aw=ao.one(".seek-back"),at=ao.one(".seek-forward"),ar=ao.one(".volume-up"),aq=ao.one(".volume-down"),Y=ao.one(".mute"),ap=ao.one(".next-video"),av=ao.one(".hotkey-menu");au.on("click",function(){ax._play();if(ax._model.get("isPlaying")){au.set("innerHTML","Pause");}else{au.set("innerHTML","Play");}});aw.on("click",function(){ax.controlsAPI.seek(ax.controlsAPI.getCurrentTime()-I.SEEK_INCREMENT);});at.on("click",function(){ax.controlsAPI.seek(ax.controlsAPI.getCurrentTime()+I.SEEK_INCREMENT);});ar.on("click",function(){ax._volumeUp();});aq.on("click",function(){ax._volumeDown();});Y.on("click",function(){ax.controlsAPI.setMute(!ax.controlsAPI.getMute());if(!ax.controlsAPI.getMute()){Y.set("innerHTML","Mute");}else{Y.set("innerHTML","Unmute");}});ap.on("click",function(){ax._nextVideo();});av.on("click",function(){ax._hotkeyMenu();});ax._syncUI();},_updateDuration:function(Y){this._totalSecs=Y;},_updateSeekBarState:function(){var Y=this,ao=Y._model.get("currentMedia"),ap=Y._controller.getRenderer().getDuration();if(ao){if(ao.get("isLive")===true||ao.get("isRTX")===true||ap===Infinity||ap===0){Y._seekNode.addClass("disable");}else{Y._seekNode.removeClass("disable");}}},enableMaxMin:function(Y){return Y;},_bufferTimeChange:function(Y){var ao=this,ap;if(!ao._totalSecs){ao._clearBufferTimer();return;}if(typeof Y==="undefined"||Y===null){ao._clearBufferTimer();return;}if(Y>=Math.floor(ao._totalSecs)){Y=ao._totalSecs;}ap=Y/ao._totalSecs;ao._seekBufferNode.setStyle("width",(ap*100)+"%");},setAdDuration:function(Y){if(Y){this.adTotalSecs=Y;}},playTimeChange:function(aq,Y){if(!Y){return;}if(f.UA.gecko>0&&f.UA.os==="macintosh"){if(aq>this._lastPlayTime&&aq-this._lastPlayTime<=0.25){return;}this._lastPlayTime=aq;}if(aq>Y){aq=Y;}if(typeof aq!=="undefined"){var ao=this,ap=aq/Y;if(!isNaN(ap)){ao._seekProgressReposition(ap);if(!ao._seekNode.hasClass("drag")){ao._setSeekTime(aq,Y);ao._seekHandleReposition(ap);}}}},_setSeekTime:function(ar,Y){if(isNaN(Y)||Y===Number.POSITIVE_INFINITY){return;}var ao=this,ap=ao._formatSecs(Y-Math.min(ar,Y)),aq=ap.length*12;ao._seekTimeNode.set("innerHTML",ap);ao._seekTimeNode.setStyle("width",aq+"px");ao._seekTimeNode.setStyle("marginLeft","-"+Math.floor(aq/2)+"px");},_seekProgressReposition:function(Y){this._seekProgressNode.setStyle("width",Y*100+"%");},_seekDragStart:function(ao){var Y=this;if(Y._seekNode.hasClass("disable-drag")){return;}Y._seekNode.addClass("drag");f.one("body").addClass("yui3-videoplayer-drag");Y._seekDragChange(ao);Y._controller.fireUIInteractBeacon("ctrl-Seek");},_seekDragEnd:function(ao){var Y=this;
if(Y._seekNode.hasClass("disable-drag")){return;}Y._seekNode.removeClass("drag");f.one("body").removeClass("yui3-videoplayer-drag");Y._startIdleTimer();if(Y._isVisualSeekEnabled()&&(Y._sliderNode.contains(ao.target)===false)){Y._hideVisualSeek();}},_seekDragChange:function(aq){if(!this._seekNode.hasClass("drag")||this._seekNode.hasClass("disable-drag")){return;}var Y=this,ap=aq.pageX-Y._seekNode.getXY()[0],ao=Math.max(0,Math.min(Y._seekNode.get("offsetWidth"),ap))/Y._seekNode.get("offsetWidth"),ar=ao*Y._totalSecs;Y._setSeekTime(ar,Y._totalSecs);Y._seekHandleReposition(ao);Y._seekProgressReposition(ao);Y.controlsAPI.seek(ar);if(Y._model.get("isVisualSeekEnabled")===true){Y._moveVisualSeek(aq);}},_seekHandleReposition:function(ap){var ao=this,Y=(ap*100)+"%";ao._seekHandleNode.setStyle("left",Y);ao._seekTimeNode.setStyle("left",Y);},_formatSecs:function(ao){var aq=Math.floor(ao/3600),Y=Math.floor((ao-aq*3600)/60),ap=Math.floor(ao-(aq*3600)-(Y*60));if(ap<10){ap="0"+ap;}if(aq>0){if(Y<10){Y="0"+Y;}return aq+":"+Y+":"+ap;}else{return Y+":"+ap;}},_muteChange:function(){var Y=this;if(Y._muteNode.hasClass("disable")){return;}if(Y._muteNode.hasClass("on")){Y._muteOff();}else{Y._muteOn();}},_muteOff:function(){var Y=this;Y._muteNode.removeClass("on");if(Y.inAdContext()){Y._controller._renderer.onMuteChange(false);}Y.controlsAPI.setMute(false);Y._volumeBarsChange(Y.controlsAPI.getVolume());},_muteOn:function(){var Y=this;Y._muteNode.addClass("on");if(Y.inAdContext()){Y._controller._renderer.onMuteChange(true);}Y.controlsAPI.setMute(true);Y._volumeBarsChange(0);},_volumeBarsChange:function(ar){var ao=this,Y,aq,ap=6;if(ao.controlsAPI.getMute()){Y=0;}else{Y=Math.floor(ar*ap);}for(aq=1;aq<=Y;aq++){ao._volumeBarsNode.one(".bar-"+aq).addClass("on");}for(aq=Y+1;aq<=ap;aq++){ao._volumeBarsNode.one(".bar-"+aq).removeClass("on");}},volumeChange:function(ao){var Y=this;if(ao===0){Y._muteOn();}else{Y.controlsAPI.setVolume(ao);if(Y.controlsAPI.getMute()){Y._muteOff();}Y._volumeBarsChange(ao);}},_getVolumeFromPixelPosition:function(ao){var Y=this._volumeBarsNode.get("clientWidth")-5;ao=Math.min(Y,Math.max(0,ao));return ao/Y*1;},_volumeDragStart:function(ao){var Y=this;Y._volumeBarsNode.addClass("drag");Y._volumeDragChange(ao);Y._controller.fireUIInteractBeacon("ctrl-Volume");},_volumeDragChange:function(ao){var Y=this;if(!Y._volumeBarsNode.hasClass("drag")){return;}Y.volumeChange(Y._getVolumeFromPixelPosition(ao.pageX-Y._volumeBarsNode.getXY()[0]));},_volumeDragEnd:function(){var Y=this;if(!Y._volumeBarsNode.hasClass("drag")){return;}Y._volumeBarsNode.removeClass("drag");Y._startIdleTimer();},_playPauseChange:function(){var ao=this,Y=ao._controller;if(ao._playPauseNode.hasClass("disable")){return;}if(ao._playPauseNode.hasClass("play")){ao._playPauseNode.removeClass("play");ao._playPauseNode.addClass("pause");Y.fireUIInteractBeacon("ctrl-Play");}else{ao._playPauseNode.removeClass("pause");ao._playPauseNode.addClass("play");Y.fireUIInteractBeacon("ctrl-Pause");}ao._play();},_stopSettingsPanelTimer:function(){var Y=this;if(Y._settingsPanelTimer){clearTimeout(Y._settingsPanelTimer);Y._settingsPanelTimer=null;}},_showSettings:function(){var Y=this,ao=Y._model.get("rendererType");Y._stopSettingsPanelTimer();if(ao==="html"||(Y._playerNode.get("offsetWidth")<I.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!Y._model.get("isOffNetwork"))){Y._captionOption.addClass("disable");}else{Y._captionOption.removeClass("disable");}if(Y._settingsNode.hasClass("on")||Y._seekNode.hasClass("drag")){return;}Y._settingsNode.addClass("on");Y._settingsPanelNode.show("fadeIn",{duration:0.1});Y._controller.fireUIInteractBeacon("ctrl-SettingsView");Y._controller.setSettingsMenuVisibility(true);},_showSettingsAfterDelay:function(){var Y=this;Y._settingsTimer=setTimeout(function(){Y._showSettings();},300);},_hideSettings:function(){var Y=this;if(!Y._settingsNode.hasClass("on")){return;}Y._settingsNode.removeClass("on");Y._settingsPanelNode.addClass("embed-hidden");Y._settingsPanelNode.hide("fadeOut",{duration:0.2});Y._controller.setSettingsMenuVisibility(false);},_hideSettingsAfterDelay:function(){var Y=this;if(Y._settingsTimer){clearTimeout(Y._settingsTimer);Y._settingsTimer=null;}Y._stopSettingsPanelTimer();Y._settingsPanelTimer=setTimeout(function(){Y._hideSettings();},1500);},_showSettingsContextMenu:function(){var Y=this;Y._settingsContextMenuIsOpen=true;},_settingsClick:function(){var Y=this;if(Y._settingsNode.hasClass("on")){Y._hideSettings();}else{Y._showSettings();}},_accessibilityCCIconClick:function(){var Y=this;if(!Y._settingsNode.hasClass("on")){Y._showSettings();}Y._controller.fireUIInteractBeacon("cc-hot-btn");},_sizeSmallClick:function(){var Y=this;if(Y.inAdContext()){Y._controller._renderer.setFullscreen(false);}else{Y.controlsAPI.setFullscreen(false);}Y._controller.fireUIInteractBeacon("ctrl-Fullscreen-off");},_sizeFullClick:function(){var Y=this;if(Y.inAdContext()){Y._controller._renderer.setFullscreen(true);}else{Y.controlsAPI.setFullscreen(true);}Y._controller.fireUIInteractBeacon("ctrl-Fullscreen-on");},_sizeClick:function(){var Y=this;if(Y._sizeIconNode.hasClass("small")){Y._sizeSmallClick();}else{Y._sizeFullClick();}},_setSmallSizeButton:function(){var Y=this;Y._sizeIconNode.removeClass("small").addClass("full");},_setFullSizeButton:function(){var Y=this;Y._sizeIconNode.removeClass("full").addClass("small");},_getClosedCaptionsNode:function(){var aw=this,ay=aw.i18n,ap=aw._createNode("tr","captions"),ar=aw._createNode("th","caption-hdr"),au=aw._createNode("td","caption-buttons"),ao=aw._addButton("text cc-feedback",ay.CAPTIONS_FEEDBACK),aq="en-us",av="us",at=aw._model.get("rendererType"),Y=aw._playerNode?aw._playerNode.get("offsetWidth"):0,ax;aw._captionOption=aw._addButton("text cc-options",ay.CAPTIONS_OPTIONS);au.append(aw._addButton("text cc-on",ay.ON_LC));au.append(aw._addButton("text cc-off on",ay.OFF_LC));au.append(aw._captionOption);au.append(ao);ar.set("innerHTML",ay.CAPTIONS_LC);ap.append(ar);ap.append(au);if(at==="html"||(Y<I.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!aw._model.get("isOffNetwork"))){aw._captionOption.addClass("disable");
}aw._ccOnNode=au.one(".cc-on");aw._ccOffNode=au.one(".cc-off");aw._ccOnNode.on("click",aw._ccOnClick,aw);aw._ccOffNode.on("click",aw._ccOffClick,aw);aw._updateClosedCaptionButtons(aw._model.get("ccSettings.show"));ax=function(){aw._controller.fireUIInteractBeacon("ctrl-CC-feedback");window.open(f.Lang.sub(t.CC_COMPLAINTS_URL_TEMPLATE,{region:av,lang:aq.toLowerCase()}));};ao.on("click",ax);return ap;},_ccOnClick:function(){var Y=this;if(!Y._ccOffNode.hasClass("on")){return;}Y.controlsAPI.displayClosedCaptions(true);Y._controller.fireUIInteractBeacon("ctrl-CC-on");},_ccOffClick:function(){var Y=this;if(!Y._ccOnNode.hasClass("on")){return;}Y.controlsAPI.displayClosedCaptions(false);Y._controller.fireUIInteractBeacon("ctrl-CC-off");},_ccOptionsClick:function(){var Y=this,ap=Y._playerNode.get("offsetWidth"),ao=Y._model.get("currentMedia"),aq=ao.get("shareUrl");if(Y._model.get("isOffNetwork")&&ap<I.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&aq){window.open(aq,"_blank");return;}Y._controller.fireUIInteractBeacon("ctrl-cc-options");Y.disableControls();Y._openCCOptionsEditor();},_updateClosedCaptionButtons:function(ao){var Y=this;if(ao){Y._ccOnNode.addClass("on");Y._ccOffNode.removeClass("on");}else{Y._ccOffNode.addClass("on");Y._ccOnNode.removeClass("on");}},enableCloseCaptions:function(Y){var ao=this._settingsPanelNode.one(".captions");if(Y){ao.removeClass("disable");}else{ao.addClass("disable");}},_tumblrShareUrl:function(ao,at,aq){var ar="https://www.tumblr.com/share/",ap=[],au="",Y="";if(at!==""||(at.length<150&&at.length<aq.length&&aq.indexOf(at)!==-1)){au='<header><b><a href="'+ao+'">'+at+"</a></b></header><br/><br/>";}Y="<article>"+au+"<section>"+aq+"</section></article>";Y=(aq.length>0)?aq:at;ar+="video?";ap.push("embed="+encodeURIComponent(ao));ap.push("caption="+encodeURIComponent(Y));ar+=ap.join("&");return ar;},_setShareUrlEmbedCode:function(){var ay=this,ao=ay._model.get("currentMedia"),aD=ay._model.get("config"),aH=ao.get("title")||"",av=K.stripHtmlFromString(aH),Y=av,aF=ao.get("shareUrl"),aA=ao.get("description")||"",ar=K.stripHtmlFromString(aA),aI=ao.get("embedCode"),au=ao.get("embeddable"),aC=ar,aq=ay._settingsPanelNode,aG=aq.one(".tumblr-icon"),aw=aq.one(".fb-icon"),ax=aq.one(".twitter-icon"),az=aq.one(".mail-icon"),ap=aq.one(".y-logo"),at=aq.one(".embed-link-text"),aB=aq.one(".embed-code-text");if(au===undefined||(!aF&&!aI)||this.inAdContext()){aq.one(".share-embeds").hide();return;}if(Y.length>100){Y=Y.substr(0,97)+"...";}aq.one(".share-embeds").show();if(aF){var aE={title:encodeURIComponent(aH),titleNoHtml:av,shareUrl:encodeURIComponent(aF),descNoHtml:encodeURIComponent(ar||""),bodyText:aC||"",twitterTitle:encodeURIComponent(Y)};aG.set("target","_blank");aG.set("href",ay._tumblrShareUrl(aF,aH,aA));aw.set("target","_blank");aw.set("href",f.substitute(t.FACEBOOK_URL_TEMPLATE,aE));ax.set("target","_blank");ax.set("href",f.substitute(t.TWITTER_URL_TEMPLATE,aE));az.set("href",f.substitute(t.MAIL_URL_TEMPLATE,aE));ap.set("target","_blank");ap.set("href",aF);at.set("value",aF).setAttribute("readonly","readonly");}if(!ay._model.get("isOffNetwork")||(aD&&aD.ybang!==undefined&&aD.ybang===false)){ap.hide();}if(au===true&&aI){aB.set("value",aI).setAttribute("readonly","readonly");aq.one(".embed-valid-code").show();aq.one(".embed-error").hide();}else{aq.one(".embed-valid-code").hide();aq.one(".embed-error").show();}},_getShareEmbedNode:function(){var ap=this,aq=ap.i18n,Y=ap._createNode("tr","share-embeds"),at=ap._createNode("td","share-embeds-hdr"),ar=ap._createNode("td","share-embeds-buttons"),ao=null;ao=ap._addButton("button embed-button",aq.EMBED_UCF);ao.on("click",ap._toggleEmbedCode,ap);ar.append(ap._createNode("a","button tumblr-icon",""));ar.append(ap._createNode("a","button fb-icon",""));ar.append(ap._createNode("a","button twitter-icon",""));ar.append(ap._createNode("a","button mail-icon",""));ar.append(ao);at.set("innerHTML",aq.SHARE_LC);Y.append(at);Y.append(ar);return Y;},_getYahooLogoNode:function(){var Y=this;return Y._createNode("a","button y-logo");},_getEmbedLinkNode:function(){var aq=this,at=aq._createNode("tr","embed-link"),av=aq._createNode("th",""),ar=aq._createNode("td",""),Y=aq._createNode("div","text",""),ao=aq._createNode("input","text embed-link-text",""),au=aq._createNode("span","text embed-link-button",""),ap=aq._addButton("button embed-chainlink-button","");au.append(ap);au.on("click",aq._onLinkClick,aq);ao.on("click",aq._onLinkClick,aq);Y.append(ao);Y.append(au);ar.append(Y);av.set("innerHTML",aq.i18n.LINK_LC);at.append(av);at.append(ar);return at;},_getResolutionNode:function(){var Y=this,ap,ao;ap=Y._createNode("tr","resolution","");ao="<th>resolution</th>"+"<td></td>";ap.set("innerHTML",ao);return ap;},_onResolutionClick:function(ao){var Y=this,aq=Y._model.get("currentMedia").get("selectableStreams"),ap;ap=parseInt(ao.currentTarget.getAttribute("data-res-id"),10);Y.controlsAPI.setResolution(ap);Y._controller.fireUIInteractBeacon("sr-"+aq[ap].height+"p");},_updateResolutions:function(){var ao=this,ar=ao._model.get("currentMedia").get("selectableStreams"),ap,Y,aq;Y=ao._settingsPanelNode.one(".resolution");if(!Y){return;}if(ar&&ar.length>1){aq=ar.map(function(aw,at){var av="res-"+at,au;if(at===ar.length-1){av+=" last";}if(aw.height>=720){au="<span class='hd-icon'></span>";}else{au="";}return"<span class='"+av+"' data-res-id="+at+">"+aw.height+"p"+au+"</span>";}).join("");ap=ao._settingsPanelNode.one(".resolution td");if(!ap){return;}Y.show();ap.set("innerHTML",aq);ao._settingsPanelNode.all(".resolution td > span").on("click",ao._onResolutionClick,ao);}else{Y.hide();}},_setCurrentResolution:function(){var Y=this,ao=Y._model.get("streamBitrate"),aq=Y._model.get("currentMedia").get("selectableStreams"),ap;if(!aq||aq.length<=1){return;}f.each(aq,function(at,ar){if(at.bitrate===ao){ap=ar;}});if(ap!==undefined){Y._updateResolutionUI(ap);}},_updateResolutionUI:function(ap){var Y=this,ao=Y._settingsPanelNode.one(".resolution td > span.res-"+ap);Y._settingsPanelNode.all(".resolution td > span").removeClass("selected");
if(ao){ao.addClass("selected");}},_getEmbedCodeNode:function(){var ay=this,az=ay.i18n,av=ay._createNode("tr","embed-code"),Y=ay._createNode("th",""),at=ay._createNode("td",""),ap=ay._createNode("div","text embed-valid-code",""),ax=ay._createNode("input","text embed-code-text",""),au=ay._createNode("span","text embed-code-button",""),aq=ay._addButton("button embed-chainlink-button",""),ao=ay._createNode("div","text embed-error",""),aw=ay._createNode("input","text embed-error-text",""),ar=az.ERR_EMBED;au.append(aq);au.on("click",ay._onEmbedClick,ay);ax.on("click",ay._onEmbedClick,ay);ap.append(ax);ap.append(au);ao.append(aw);aw.set("value",ar).setAttribute("readonly","readonly");at.append(ap);at.append(ao);Y.set("innerHTML",az.EMBED_LC);av.append(Y);av.append(at);return av;},_onLinkClick:function(ao){ao.preventDefault();ao.stopPropagation();var Y=this,ap=Y._settingsPanelNode.one(".embed-link-text");ap.select();Y._controller.fireUIInteractBeacon("ctrl-Link");},_onEmbedClick:function(ao){ao.preventDefault();ao.stopPropagation();var Y=this,ap=Y._settingsPanelNode.one(".embed-code-text");ap.select();Y._controller.fireUIInteractBeacon("ctrl-EmbedLink");},_toggleEmbedCode:function(){this._settingsPanelNode.toggleClass("embed-hidden");this._controller.fireUIInteractBeacon("ctrl-Embed");},_muteClick:function(){var ao=this,Y=ao._controller;if(ao._muteNode.hasClass("disable")){return;}if(ao._muteNode.hasClass("on")){ao._muteOff();Y.fireUIInteractBeacon("ctrl-Mute-off");}else{ao._muteOn();Y.fireUIInteractBeacon("ctrl-Mute-on");}},_syncSizeButton:function(){var Y=this;if(Y._model.get("fullscreen")){Y._sizeIconNode.removeClass("full").addClass("small");}else{Y._sizeIconNode.removeClass("small").addClass("full");}},seekEnable:function(Y){if(Y){this._seekNode.removeClass("disable");}else{this._seekNode.addClass("disable");}},seekDragEnable:function(Y){if(Y){this._seekNode.removeClass("disable-drag");}else{this._seekNode.addClass("disable-drag");}},playPauseEnable:function(Y){if(Y){this._playPauseNode.removeClass("disable");}else{this._playPauseNode.addClass("disable");}},_addButton:function(Y,ap,ar){var ao=this,aq;ao[Y]=ao._createNode("button",Y);if(ar){aq=ao._createNode(ar,"");aq.set("innerHTML",ap);ao[Y].append(aq);}else{ao[Y].set("innerHTML",ap);}return ao[Y];},getControlBarHeight:function(){var Y=this,ap=Y._controlsNode.one(".bar"),ao=0;if(f.Lang.isValue(ap)&&Y._controlsNode.hasClass("show")){ao=K.calculateElementHeight(ap);}return ao;},_createNode:function(ao,Y){return f.Node.create("<"+ao+' class="'+Y+'"/>');},_onVisualSeekMouseEnter:function(ao){var Y=this;if(!Y._isVisualSeekEnabled()){return;}Y._showVisualSeek();Y._moveVisualSeek(ao);},_onVisualSeekMouseLeave:function(){var Y=this;if(!Y._isVisualSeekEnabled()||Y._seekNode.hasClass("drag")){return;}Y._hideVisualSeek();},_showVisualSeek:function(){var Y=this._visualSeekNode;if(Y){Y.setStyle("display","block");}},_hideVisualSeek:function(){var Y=this._visualSeekNode;if(Y){Y.setStyle("display","none");}},_moveVisualSeek:function(ao){var Y=this,ap;if(!Y._isVisualSeekEnabled()){return;}if(Y._visualSeekNode.getStyle("display")==="none"){Y._showVisualSeek();}ap=ao.pageX-Y._seekNode.getX();Y._visualSeekReposition(ap);Y._loadVisualSeekThumb(ap);},_updateVisualSeek:function(){var Y=this,ap=Y._model.get("currentMedia"),ao=ap.get("visualseek"),aq=Y._visualSeekNode;Y._visualSeek=ao;delete Y._visualSeekImages;if(ao&&aq){Y._visualSeekImages=ao.images;if(aq.getStyle("backgroundSize")===undefined){Y._resizeVisualSeekNode(ao);}}},_resetVisualSeek:function(){var Y=this;delete Y._visualSeek;delete Y._visualSeekImages;Y._hideVisualSeek();},_resizeVisualSeekNode:function(ar){var ap=this,at=ap._visualSeekNode,ao=ar.width,Y=ar.height,aq=parseInt(at.getStyle("width"),10);if(ao<aq){at.setStyle("width",ao+"px");at.setStyle("height",Y+"px");at.setStyle("top",-(Y+3)+"px");ap._visualSeekTimeNode.setStyle("left",(ao/2)+"px");}},_isVisualSeekEnabled:function(){var Y=this;if((Y._visualSeekImages&&Y._visualSeekImages.length>0)&&!Y._playPauseNode.hasClass("disable")){return true;}return false;},_loadVisualSeekThumb:function(av){var ay=this,au=ay._visualSeek,aw=Math.max(0,Math.min(ay._seekNode.get("offsetWidth"),av))/ay._seekNode.get("offsetWidth"),aq=aw*ay._totalSecs,ap=Math.ceil(Math.floor(aq)/au.frequency),ar=ay._visualSeekThumbNode,ao=au._thumbSize,ax,at,Y;if(ao===undefined){ao=ay._getVisualSeekThumbSize();ax=ao.width;at=ao.height;au._thumbSize=ao;ar.setStyles({"width":ax,"height":at,"backgroundSize":(ax*I.VISUAL_SEEK_COLLAGE_COLS)+"px "+(at*I.VISUAL_SEEK_COLLAGE_ROWS)+"px"});}Y=ay._getVisualSeekCollage(ap,ao);if(!ar.getStyle("backgroundImage").match(Y.url)){ar.setStyle("background","url("+Y.url+")");}ar.setStyle("backgroundPosition","-"+Y.x+"px -"+Y.y+"px");ay._updateVisualSeekTime(aq);},_updateVisualSeekTime:function(aq){var Y=this,ap=Y._visualSeekTimeNode,ar=Y._formatSecs(aq),ao=ar.length*12;ap.set("innerHTML",ar);ap.setStyles({"width":ao+"px","marginLeft":"-"+Math.floor(ao/2)+"px"});},_getVisualSeekThumbSize:function(){var aw=this,aq=aw._visualSeek,ap=aw._visualSeekNode,at=aq.width,au=aq.height,Y=at/au,av=parseInt(ap.getStyle("width"),10),ar=parseInt(ap.getStyle("height"),10),ao=av/ar;if(Y>ao){ar=(au/at)*av;}else{av=(at/au)*ar;}return{width:av,height:ar};},_getVisualSeekCollage:function(at,ar){var aA=this,ao={},ay=I.VISUAL_SEEK_COLLAGE_ROWS,aw=I.VISUAL_SEEK_COLLAGE_COLS,aq=ay*aw,ax=aA._visualSeekImages,ap=Math.floor(at/aq),au=ax[ap],av,Y,az;if(au){av=at%aq;Y=av%aw;az=Math.floor(av/aw);ao={url:au.url,x:Y*ar.width,y:az*ar.height};}return ao;},_visualSeekReposition:function(au){var Y=this,aq=Y._visualSeekNode.get("offsetWidth"),ao=Math.round(aq/2),ap=au-ao,ar=au+ao,at=Y._seekNode.get("offsetWidth");if(ap<0){ap=0;}else{if(ar>at){ap=at-aq;}}Y._visualSeekNode.setStyle("left",ap);}});f.namespace("VideoPlatform").Controls=I;function y(){y.superclass.constructor.apply(this,arguments);}y.NAME="ErrorScreen";y.NS="errorscreen";y.ATTRS={};y.ERRORSCREEN_VIDEOS_DIMENSIONS={LARGE:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:20},MEDIUM:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:20},SMALL:{ITEM_WIDTH:157,ITEM_HEIGHT:88,IMAGE_WIDTH:157,IMAGE_HEIGHT:88,HORIZONTAL_SPACING:2,VERTICAL_SPACING:1,MARGIN:12}};
f.extend(y,f.Base,{log:function(ao,Y){},initializer:function(Y){this._model=Y.model;this._view=Y.view;this._controller=Y.view._controller;this.screenSize=this._view.get("screenSize");f.publish("VideoPlayer.ErrorScreen.flashDownloadClick",{broadcast:2});f.publish("VideoPlayer.ErrorScreen.tryAgainLink",{broadcast:2});},render:function(ar){var az=this,at=y.NS,ax,ap,ay,au,av,ao=this._view.createNode("div","container",at),aq=this._model.get("currentMedia"),aw=this._model.get("endScreenVideos").get("mediaItems").toArray(),Y=this._view.createNode("div","wrapper",at);this._node=ar;this.container=ao;this._error=this._model.get("error");this.desc=this._view.createNode("p","desc",at);this.subDesc=this._view.createNode("p","sub-desc",at);this.errorTag=this._view.createNode("p","tag",at);this.typeCode=this._view.createNode("p","type-code",at);this._flashDownloadNode=null;this._retStr=null;this._wrapper=Y;Y.append(this.desc);Y.append(this.subDesc);ao.append(Y);this._model.fire("uiInteract",{source:"err-view"});if(this._error.type==="400"&&(this._error.code==="200"||this._error.code==="201")){ax=this._view.createNode("div","flash-download-node",at);ap=this._view.createNode("a","download-flash",at);ay=this._view.createNode("p","download-link",at);au=this._view.createNode("span","download-flash-title",at);av=this._view.createNode("span","download-flash-button",at);this._flashDownloadNode=ap;this._retStr=(this._error.code==="200")?"no_flash_error":"old_flash_error";au.set("innerHTML",this._getString("DOWNLOAD_FLASH"));ap.setAttribute("href","http://get.adobe.com/flashplayer/");ap.setAttribute("target","_blank");ay.append(au);ap.append(ay);ap.append(av);ax.append(ap);this.flashDownloadNode=ax;this.container.append(ax);this._renderUI();}else{if(this._error.type==="400"&&((typeof this._error.code==="string")&&parseInt(this._error.code)>=202&&parseInt(this._error.code)<=207)){az._renderUI();}else{this._loadVideos(aq,aw,function(aC,aA){if(aC){az._controller.warn(aC);az._retStr=undefined;var aB=aC.type+"-"+aC.code;az.typeCode.set("innerHTML",aB);}else{if(aA.length!==0){setTimeout(function(){az._renderVideos(aA);},20);}else{az._retStr=undefined;}}az._renderUI();});}}},_renderUI:function(){if(!this.container){return;}this.container.append(this.typeCode);this.container.append(this.errorTag);this._syncUI();this._bindUI();this._node.append(this.container);this.container.addClass("show");},_loadVideos:function(ap,ao,aq){var Y=this;if(ao.length===0){if(ap!==null&&ap!==undefined){Y._controller._states.started.loadEndScreenVideos(ap,{success:function(ar){Y._model.set("endScreenVideos",ar);ao=Y._model.get("endScreenVideos").get("mediaItems").toArray();aq(null,ao);},failure:function(ar){aq(ar);}});}else{aq(null,ao);}}else{aq(null,ao);}},_renderVideos:function(Y){if(!this.container){return;}var ap=y.NS,ar=this._view.createNode("div","videos-node",ap),ao=this.screenSize,aq=new h({"view":this,"mediaItems":Y,"pltype":"errorScreen","showNavigation":false,"showMetadata":true,"dimensions":{itemWidth:y.ERRORSCREEN_VIDEOS_DIMENSIONS[ao].ITEM_WIDTH,itemHeight:y.ERRORSCREEN_VIDEOS_DIMENSIONS[ao].ITEM_HEIGHT,imageWidth:y.ERRORSCREEN_VIDEOS_DIMENSIONS[ao].IMAGE_WIDTH,imageHeight:y.ERRORSCREEN_VIDEOS_DIMENSIONS[ao].IMAGE_HEIGHT,horizontalSpacing:y.ERRORSCREEN_VIDEOS_DIMENSIONS[ao].HORIZONTAL_SPACING,verticalSpacing:y.ERRORSCREEN_VIDEOS_DIMENSIONS[ao].VERTICAL_SPACING,carouselMargin:y.ERRORSCREEN_VIDEOS_DIMENSIONS[ao].MARGIN}});ar.setStyle("height",(this.container.get("offsetHeight")-parseInt(this.container.get("offsetHeight")/2,10)));this.container.append(ar);aq.render(ar);this.errorScreenVideos=ar;},_bindUI:function(){var Y=this;if(this._flashDownloadNode!==null){this._flashDownloadNode.one(".yui3-videoplayer-errorscreen-download-link").on("click",function(){f.fire("VideoPlayer.ErrorScreen.flashDownloadClick","err-adobe-link");});this._flashDownloadNode.one(".yui3-videoplayer-errorscreen-download-flash-button").on("click",function(){f.fire("VideoPlayer.ErrorScreen.flashDownloadClick","err-adobe-CTA");});}else{if(this._retStr==="ERR_REL_TECH_ERR"){this.subDesc.one(".yui3-videoplayer-errorscreen-sub-desc-try").on("click",function(){f.fire("VideoPlayer.ErrorScreen.tryAgainLink","err-try");Y._reload();});}}},_reload:function(){setTimeout(function(){location.reload();},500);},_syncUI:function(){var ap=this._error,ao=this._errorToResourceKey(ap),Y=ap.type+"-"+ap.code;this.desc.set("innerHTML",this._getString(ao.key));if(this._retStr!==undefined&&this._retStr!=="no_flash_error"){this.subDesc.set("innerHTML",this._getString(ao.rel));this._retStr=ao.rel;}this.typeCode.set("innerHTML",Y);this.errorTag.set("innerHTML","Tag: "+this._model.get("guid"));},_getString:function(Y){return this._view._controller.getStrings()[Y];},_errorToResourceKey:function(ap){var aq="ERR_TECH_DIFFICULTIES",Y="ERR_REL_TECH_ERR",ao=ap.code;switch(ap.type){case"500":case"501":case"502":case"503":case"504":switch(ao){case"200":case"201":aq="ERR_UNAVAILABLE_TEMP";Y="ERR_REL";break;case"202":aq="ERR_GEO";Y="ERR_REL";break;case"203":aq="ERR_DEVICE";Y="ERR_REL";break;case"204":aq="ERR_EMBED";Y="ERR_REL";break;case"300":aq="ERR_UNSUPPORTED_FORMAT";Y="ERR_REL";break;case"400":aq="ERR_NOT_FOUND";Y="ERR_REL_VIDEO";break;default:aq="ERR_TECH_DIFFICULTIES";Y="ERR_REL_TECH_ERR";break;}break;case"400":switch(ao){case"14":aq="ERR_SESSION_TIMEOUT";Y="ERR_REL_VIDEO";break;case"200":aq="ERR_FLASH_NOT_ENABLED";Y="undefined";break;case"201":aq="ERR_FLASH_NOT_UPTO_DATE";Y="FLASH_UPGRADE_NOTE";break;case"202":case"203":case"204":case"206":case"207":aq="ERR_FLASH_IS_BLOCKED";Y="ERR_REL_FLASH_IS_BLOCKED";break;case"301":aq="ERR_TECH_DIFFICULTIES";Y="ERR_REL_TECH_ERR";break;default:aq="ERR_TECH_DIFFICULTIES";Y="ERR_REL_TECH_ERR";break;}break;}return{"key":aq,"rel":Y};},destructor:function(){if(this.container){this.container.remove();this.container=null;}}});f.namespace("VideoPlatform").ErrorScreen=y;function o(){o.superclass.constructor.apply(this,arguments);}o.NAME="AgeGateScreen";o.NS="agegate";
o.ATTR={};o.SCREEN_TYPES={login:"login",birthday:"birthday",warning:"warning",block:"block"};o.LOCAL_STORAGE_KEY="vpReleaseTime";o.MILLIS_PER_DAY=24*60*60*1000;o.LOGIN_AUTH_URL="https://login.yahoo.com/?.src=vp"+"&.intl={region}"+"&.lang={language}"+"&.done={referrer}";f.extend(o,f.Base,{log:function(ao,Y){},initializer:function(Y){this._model=Y.model;this._view=Y.view;this._controller=Y.controller;this._i18n=this._controller.getStrings();this._mediaAgeGateType=null;this.activeScreenType=null;this._user24HrsBanned=false;this._controlsDisabled=false;},render:function(ar){var ao=this,at=ao._view.createNode,aq=o.NS,Y=at("div","info-wrapper",aq),au=at("h3","title",aq),ap=ao._model.get("width"),av=ao._model.get("height");ao._node=ar;ao.container=at("div","container",aq);ao.description=at("p","desc",aq);ao.actionWrapper=at("div","action-wrapper",aq);ao.button=at("button","btn",aq);ao.gateIcon=at("div","icon",aq);(ap<470)&&ao.container.addClass("narrow");if(ap<350||av<222){ao.container.addClass("small").addClass("xsmall");}else{if(ap<401||av<271){ao.container.addClass("small");}}au.set("innerHTML",ao._getLocalizedString("CONTENT_RESTRICTED"));ao.actionWrapper.append(ao.button);Y.append(au);Y.append(ao.description);Y.append(ao.actionWrapper);ao.container.append(Y);ao.container.append(ao.gateIcon);ao._node.append(ao.container);ao._bindUI();ao._syncUI();if(this._model.get("rendererType")==="html"){this._view._hideVideoTag();}},_renderBirthdayInputBoxes:function(){var ap=this,aq=f.Node.create("<input type='text' name='month' class='vp-agegate-input' maxlength='2' placeholder='MM'/>"),Y=f.Node.create("<input type='text' name='day' class='vp-agegate-input' maxlength='2' placeholder='DD'/>"),ao=f.Node.create("<input type='text' name='year' class='vp-agegate-input' maxlength='4' placeholder='YYYY'/>");ap.inputWrapper=ap._view.createNode("p","input",o.NS);ap.inputWrapper.append(aq);ap.inputWrapper.append(Y);ap.inputWrapper.append(ao);ap.actionWrapper.prepend(ap.inputWrapper);},_syncUI:function(){var av=this,ar=av._model,at=o.LOCAL_STORAGE_KEY,Y,ap,aq,ao,aw,au;if(K.isLocalStorageAvailable()){Y=localStorage[at]&&parseInt(localStorage[at]);if(!isNaN(Y)){av._user24HrsBanned=(new Date().getTime()-Y)<0;}}av._mediaAgeGateType=ar.get("currentMedia").get("ageGate");ap=ar.get("userAuthenticated")&&(ar.get("userPreferencesAvailable")||ar.get("config").userAuthenticated===true);aq=!ar.get("isOffNetwork");ao=ar.get("canPlayMatureContent");aw=av._user24HrsBanned;au=av._getApplicableAgeGateScreen(ap,aq,ao,aw);if(au&&av._mediaAgeGateType!=="none"){av.setActiveAgeGateScreen(au);}else{this._continuePlayerFlow();}},_bindUI:function(){var Y=this,ao=Y.actionWrapper.getDOMNode();Y.button.on(["click","tap"],Y._onBtnClick,Y);Y._model.after("currentMediaChange",Y._syncUI,Y);Y._model.after("userAuthenticatedChange",Y._syncUI,Y);Y._model.after("canPlayMatureContentChange",Y._syncUI,Y);if(typeof ao.addEventListener!=="undefined"){ao.addEventListener("keydown",Y.filterNonDigitInput,false);}else{if(typeof ao.attachEvent!=="undefined"){ao.attachEvent("onkeydown",Y.filterNonDigitInput);}}},destructor:function(){var Y=this,ao=Y.actionWrapper.getDOMNode();Y._enableControls();if(!Y.container){return;}Y.button.detachAll();Y._model.detach("currentMediaChange",Y._syncUI,Y);Y._model.detach("userAuthenticatedChange",Y._syncUI,Y);Y._model.detach("canPlayMatureContentChange",Y._syncUI,Y);if(typeof ao.removeEventListener!=="undefined"){ao.removeEventListener("keydown",Y.filterNonDigitInput,false);}else{if(typeof ao.detachEvent!=="undefined"){ao.detachEvent("onkeydown",Y.filterNonDigitInput);}}Y.container.remove().destroy();Y.container=null;if(this._model.get("rendererType")==="html"){this._view._showVideoTag();}Y._model.set("agegatescreen",false);},_continuePlayerFlow:function(){this.destructor();},_enableControls:function(){var ao=this,Y=ao._controller.getControlsObj();if(!ao._controlsDisabled){return;}Y.enableControls();Y._show();ao._controlsDisabled=false;},_disableControls:function(){var Y=this;if(Y._controlsDisabled){return;}Y._controlsDisabled=Y._controller.getControlsObj().disableControls();},filterNonDigitInput:function(Y){var at,aq,ar,ap,ao=[9,37,39];if(Y){ar=Y.keyCode;ap=Y.shiftKey;if(Y.stopPropagation){Y.stopPropagation();}else{Y.cancelBubble=true;}at=(ar>=48&&ar<=57)||(ar>=96&&ar<=105)||ar===8||ar===46;aq=ao.indexOf(ar)>-1;if((!ap&&at)||aq){return true;}else{if(Y.preventDefault){Y.preventDefault();}else{Y.returnValue=false;}return false;}}return false;},getInvalidDateInputNodes:function(ar,aw,au){var ap,av,at,ax,ao,Y,ay=[];try{ap=parseInt(ar.get("value"));ax=ap>=1&&ap<=12;}catch(aq){ax=false;}try{av=parseInt(aw.get("value"));ao=av>=1&&av<=31;}catch(aq){ao=false;}try{at=parseInt(au.get("value"));Y=at>=1900&&at<=new Date().getFullYear();}catch(aq){Y=false;}if(!ax){ay.push(ar);}if(!ao){ay.push(aw);}if(!Y){ay.push(au);}return ay;},_onBtnClick:function(){var aA=this,au=o.SCREEN_TYPES,ax=o.LOCAL_STORAGE_KEY,aq,av,ay,aw,ap,at,Y,az,ar,ao;if(aA.activeScreenType===au.login){aq=f.Lang.sub(o.LOGIN_AUTH_URL,{"region":aA._model.get("region"),"language":aA._model.get("lang"),"referrer":K.getHostUrl()});if(f.UA.ie>0&&f.UA.ie<8){window.location.replace(aq);}else{window.location.href=aq;}}else{if(aA.activeScreenType===au.birthday){av=aA.container.one("input[name='month']");az=av.get("value");ay=aA.container.one("input[name='day']");ar=ay.get("value");aw=aA.container.one("input[name='year']");ao=aw.get("value");ap=K.isValidDate(az,ar,ao);aA.inputWrapper.all("input").removeClass("validate-error");Y=aA.getInvalidDateInputNodes(av,ay,aw);for(at=0;at<Y.length;at++){Y[at].addClass("validate-error");}if(!ap||Y.length>0){return;}if(K.isUserAdult(new Date(ao,az-1,ar),aA._model.get("region"))){aA._continuePlayerFlow();}else{aA.setActiveAgeGateScreen(au.block);if(K.isLocalStorageAvailable()){localStorage[ax]=new Date().getTime()+o.MILLIS_PER_DAY;}}}else{if(aA.activeScreenType===au.warning){aA._continuePlayerFlow();}}}aA._controller.fireUIInteractBeacon("age-"+aA.activeScreenType+"-btn");
},_getApplicableAgeGateScreen:function(at,ao,aq,Y){var ap=this,ar=o.SCREEN_TYPES;if(!at&&!Y){if(ao){return ar[ap._mediaAgeGateType];}else{return ar.warning;}}else{if(!Y&&aq){return null;}else{return ar.block;}}},setActiveAgeGateScreen:function(ao){var Y=this;Y._disableControls();if(!ao||Y.activeScreenType===ao){return;}Y.activeScreenType=ao;Y._model.set("agegatescreen",true);Y._showScreenUI(ao);Y._controller.fireUIInteractBeacon("age-"+o.SCREEN_TYPES[ao]);},_showScreenUI:function(aq){aq=aq||this.activeScreenType;var Y=this,ap=o.SCREEN_TYPES,ao=Y._getAgeGateScreenProperties(aq);if(Y.inputWrapper){Y.inputWrapper.remove();Y.inputWrapper=null;}Y.description.set("innerHTML",ao.desc);if(aq!==ap.block){Y.button.set("innerHTML",ao.action);Y.button.removeClass("disable");Y.gateIcon.removeClass("restricted");}else{Y.button.addClass("disable");Y.gateIcon.addClass("restricted");}if(aq===ap.birthday){Y._renderBirthdayInputBoxes();Y.container.addClass("gatebday");}else{Y.container.removeClass("gatebday");}},_getAgeGateScreenProperties:function(aq){var Y=this,ap=o.SCREEN_TYPES,ar,ao;if(aq===ap.login){ar="AGE_GATE_DESC";ao="SIGN_IN_TO_VIEW_ACTION";}else{if(aq===ap.warning){ar="AGE_GATE_DESC";ao="CONTINUE_ACTION";}else{if(aq===ap.birthday){ar="AGE_GATE_BDAY_DESC";ao="SUBMIT_ACTION";}else{if(aq===ap.block){ar="AGE_GATE_NOT_ALLOWED_DESC";ao="";}}}}return{desc:Y._getLocalizedString(ar),action:Y._getLocalizedString(ao)};},_getLocalizedString:function(Y){return this._i18n[Y];}});f.namespace("VideoPlatform").AgeGateScreen=o;function a(){a.superclass.constructor.apply(this,arguments);}a.NAME="StartScreen";a.NS="startscreen";a.ATTRS={};a.DIMENSIONS={LARGE:{DESCRIPTION_HEIGHT:40},MEDIUM:{DESCRIPTION_HEIGHT:40},SMALL:{DESCRIPTION_HEIGHT:20}};f.extend(a,f.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(aG){this._node=aG;var aI=a.NS,aD=this._view,aA=this._model.get("startscreen")||false,ax=typeof aA.showProvider!=="undefined"?aA.showProvider:false,aB=typeof aA.showTitle!=="undefined"?aA.showTitle:true,az=typeof aA.showDesc!=="undefined"?aA.showDesc:true,aH=typeof aA.showButton!=="undefined"?aA.showButton:true,aE=this,ar=this._view.createNode("div","container",aI),ay=this._view.createNode("div","bar-wrapper",aI),aL=this._view.createNode("div","bar",aI),aK=this._view.createNode("div","bar-right",aI),aP=this._view.createNode("img","image",aI),aw=this._view.createNode("div","title-wrapper",aI),aF=aD.get("screenSize"),aN=a.DIMENSIONS[aF].DESCRIPTION_HEIGHT,av,ap=this._model.get("currentMedia"),aC=ap.get("images"),ao,aM,au,aJ,at,aO,Y,aq;if(aH){ao=this._view.createNode("div","button",aI);this.button=ao;}if(aB){Y=typeof(ap.get("title"))==="string"?ap.get("title"):"";if(Y){aO=this._view.createNode("h3","title",aI);this.title=aO;aO.set("innerHTML",Y);}}if(ax){au=typeof ap.get("provider")==="object"&&typeof ap.get("provider").name==="string"?ap.get("provider").name:false;if(au){aM=this._view.createNode("h4","provider",aI);this.provider=aM;aM.set("innerHTML",au);}}if(az){at=typeof(ap.get("description"))==="string"?ap.get("description"):false;at=K.stripHtmlFromString(at);if(at){aJ=this._view.createNode("p","desc",aI);this.desc=aJ;}}this._container=ar;this.wrapper=ay;if(aC){aq=aC.large||aC.thumbnail;if(aq){aP.set("src",aq);this._view._resizeAndPositionImage(aP,aG);}}if(ax&&aM){aw.append(aM);}if(Y&&aB){aw.append(aO);}if(az&&aJ){aw.append(aJ);}aK.append(aw);aL.append(aK);ay.append(aL);ar.append(aP);ar.append(ay);if(aH){ar.append(ao);}if(this._model.get("ybang")===true){av=this._view.createNode("div","ybang",aI);aL.append(av);}aG.append(ar);if(az&&aJ&&at){K.ellipsis(aJ,at,aN);}this._bindUI();if(this._model.get("rendererType")==="html"){this._view._hideVideoTag();}aE._container.addClass("yui3-videoplayer-show");aE.vpTransitionTimer=setTimeout(function(){if(aE._container){aE._container.addClass("yui3-videoplayer-transition");}if(aE.wrapper){aE.wrapper.addClass("yui3-videoplayer-transition");}},5);},_bindUI:function(){var ap=this._container,Y=this,ao;ao=ap.on(["click","tap"],function(){ao.detach();Y._playVideo();});},_playVideo:function(){var Y=this._model,aq=this,ao=aq._view.getController(),ap=ao?ao.getProfiler():null;this.clickToStartTimer=new l({model:Y});this.clickToStartTimer.start();if(ap){ap.add(am.VP_CLICK_TO_START);}if(Y.get("YVAPRequired")===true){Y.once("yvapStateChange",function(ar){switch(ar.newVal){case YVAPEvents.AD_START:case YVAPEvents.AD_PROGRESS:aq._stopTimer(am.VP_CLICK_TO_START);this.clickToStartTimer.stop(am.VP_CLICK_TO_START.type,am.VP_CLICK_TO_START.desc);break;case YVAPEvents.AD_NONE:case YVAPEvents.AD_ERROR:case YVAPEvents.PLUGIN_REMOVED:case YVAPEvents.AD_COMPLETE:case YVAPEvents.AD_END:Y.once("playerStateChange",function(at){if(at.newVal===ad.STARTED){aq._stopTimer(am.VP_CLICK_TO_START);this.clickToStartTimer.stop(am.VP_CLICK_TO_START.type,am.VP_CLICK_TO_START.desc);}},this);break;}},this);}else{Y.once("playerStateChange",function(ar){if(ar.newVal===ad.STARTED){aq._stopTimer(am.VP_CLICK_TO_START);this.clickToStartTimer.stop(am.VP_CLICK_TO_START.type,am.VP_CLICK_TO_START.desc);}},this);}aq._view._controller.play();Y.fire("uiInteract",{source:this.constructor.NS+"Play"});},_stopTimer:function(ap){var Y=this._view.getController(),ao=Y?Y.getProfiler():null;if(ao){ao.setEndTime(ap.type);}},destructor:function(){var Y=this;if(Y.vpTransitionTimer){clearTimeout(Y.vpTransitionTimer);Y.vpTransitionTimer=null;}if(f.UA.ie>0&&f.UA.ie<9){Y._container.remove();}else{Y._container.removeClass("yui3-videoplayer-show");setTimeout(function(){Y._container.remove();},500);}if(this._model.get("rendererType")==="html"){this._view._showVideoTag();}}});f.namespace("VideoPlatform").StartScreen=a;var P=f.VideoPlatform.Metrics;var V={_commonQoSParams:"env={PLAYER_HOSTING_ENV}"+"&yuiver={YUI_VERSION}"+"&yuiua={YUI_UA}"+"&pver={PLAYER_VERSION}"+"&pltype=yep"+"&vp={PLAYER_INT32_GUID}"+"&b={PLAYER_BUCKET}"+"&r={RENDERER_TYPE}"+"&vid={VIDEO_CLIP_ID}"+"&vtyp={VIDEO_TYPE}"+"&drm=0"+"&sp={STREAM_PROTOCOL}"+"&vn={VIDEO_TITLE}"+"&reg={REGION}"+"&site={SITE}"+"&sn={SHOW_NAME}"+"&st={STREAM_TYPE}"+"&lid={LICENSE_ID}"+"&loc={PLAYER_LOCATION}"+"&cfgpsid={CONFIG_PSPID}"+"&apl={AUTOPLAY}"+"&psid={PAGE_SPACE_ID}"+"&fver={FLASH_VERSION}"+"&expn={EXPERIENCE_NAME}"+"&expt={EXPERIENCE_TYPE}"+"&expb={EXPERIENCE_BUCKET}"+"&vpurl={PAGE_URL}"+"&ba={BANDWIDTH}"+"&pglt={PAGE_LATENCY}"+"&pgdns={TIMING_DNS}"+"&pgcon={TIMING_CONNECT}"+"&pgttfb={TIMING_TTFB}"+"&pgbp={TIMING_BASE_PAGE}"+"&pgfe={TIMING_FRONTEND}"+"&pgjsst={PAGE_PLAYERJS_DL_START}"+"&pgjstm={PAGE_PLAYERJS_DL_TIME}"+"&pgitmtm={PAGE_MEDIA_ITEM_PREFETCH_TIME}"+"&lm={LIVE_MODE}"+"&cdn={CONTENT_DIST_NET}",_generateBeaconList:function(ao,aw,at,aq,au,ap){var ar=0,av=[],Y;
ap=!f.Lang.isUndefined(ap)?ap:[];if(typeof ao!=="string"){ao="";}f.each(aw,function(ax){Y={urlTemplate:ao,target:at};if(ax.param){Y.urlTemplate+=ax.param;}if(aq){Y.urlTemplate+="&"+aq+"={RANDOM_VALUE}";}Y.events=[{"name":ax.name}];if(au===true){if(ax.samplePerct){Y.samplePerct=ax.samplePerct;}else{Y.samplePerct=100;}}av[ar]=Y;ar+=1;});if(ap.length>0){av=av.concat(ap);}return av;},init:function(){var ao=this._beaconComscore(),ap=this._beaconQOS(),at=this._beaconYvapQoS(),ar=this._beaconYwaPageView(),aq=this._beaconYWA(),Y=this._beaconULT();return ao.concat(ar,aq,Y,ap,at);},_beaconComscore:function(){var Y=(document.location.protocol==="https:"?"https://sb":"http://b")+".scorecardresearch.com/p?C1=1&C2=7241469&C4={COMSCORE_C4}",ao=[{"name":"PLAYBACK_START","param":"&C5={COMSCORE_C5}&C6={COMSCORE_C6}&cv=2.0"},{"name":"AD_START","param":"&C5=09&C6={COMSCORE_C6}&cv=2.0"}];return this._generateBeaconList(Y,ao,P.SERVICES.COMSCORE,"rn");},_beaconYwaPageView:function(){var ao=(document.location.protocol==="https:"?"https://z.analytics.yahoo.com/p.pl":"http://z.analytics.yahoo.com/p.pl")+"?a=1000{YWA_PROJECT_ID}&dpid={YWA_DPID}&vp={PLAYER_INT32_GUID}&vpm={MASTERPLAYER_INT32_GUID}",Y=[{"name":"PAGE_VIEW","param":"&cf12={FLASH_VERSION}&cf08={PLAYER_HOSTING_ENV}&cf01={PLAYER_BUCKET}&cf07={PLAYER_VERSION}&cf09={EXPERIENCE_TYPE}&cf10={EXPERIENCE_NAME}&.ys={PAGE_SPACE_ID}&cf13={RENDERER_TYPE}&cf71={EXPERIENCE_BUCKET}&b={PAGE_TITLE}&f={PAGE_URL}&e={PAGE_REFERRER}"}];return this._generateBeaconList(ao,Y,P.SERVICES.YWA,"rn");},_beaconYWA:function(){var ao=(document.location.protocol==="https:"?"https://z.analytics.yahoo.com/p.pl":"http://z.analytics.yahoo.com/p.pl")+"?a=1000{YWA_PROJECT_ID}&dpid={YWA_DPID}&vp={PLAYER_INT32_GUID}&vpm={MASTERPLAYER_INT32_GUID}&vid={VIDEO_CLIP_ID}&vn={VIDEO_TITLE}&cf58={ARTIST_NAME}&cf97={SYNDICATION_ID}",Y=[{"name":"PLAYER_ERR","param":"&vx=3&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}&vb={PAGE_TITLE}&vf={PAGE_URL}&cf50={PLAYER_ERR_TYPE}&cf51={PLAYER_ERR_CODE}&cf63={AUTOPLAY}&cf99={MATURE_CONTENT}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf205={LICENSOR_NAME}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&sp={STREAM_PROTOCOL}&ve={PAGE_REFERRER}"},{"name":"VIDEO_LOADED","param":"&vlng={VIDEO_LENGTH}&vx=215&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&cf99={MATURE_CONTENT}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf205={LICENSOR_NAME}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&cf15={CONTINUOUS_PLAY}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&ve={PAGE_REFERRER}"},{"name":"VP_INIT_TO_START","param":"&vlng={VIDEO_LENGTH}&vx=13&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&cf99={MATURE_CONTENT}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf205={LICENSOR_NAME}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf54={VP_INIT_TO_START}&ve={PAGE_REFERRER}"},{"name":"VP_CLICK_TO_START","param":"&vlng={VIDEO_LENGTH}&vx=14&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&cf99={MATURE_CONTENT}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf205={LICENSOR_NAME}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf55={VP_CLICK_TO_START}&vb={PAGE_TITLE}&vf={PAGE_URL}&ve={PAGE_REFERRER}"},{"name":"PLAYBACK_REQUEST","param":"&vx=216&cf51={CMS_STATUS_CODE}&cf63={AUTOPLAY}&cf99={MATURE_CONTENT}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf205={LICENSOR_NAME}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&cf15={CONTINUOUS_PLAY}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}"},{"name":"PLAYBACK_START","param":"&vpos=1&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}&vt={IS_LIVE}&vbt={PLAYBACK_START_DELAY}&cf63={AUTOPLAY}&cf99={MATURE_CONTENT}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf205={LICENSOR_NAME}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&cf15={CONTINUOUS_PLAY}&cf53={CONTINUOUS_PLAY_COUNT}&cf62={PLAYER_WIDTH}x{PLAYER_HEIGHT}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}"},{"name":"PLAYBACK_PROGRESS","param":"&vlng={VIDEO_LENGTH}&vss={EVENT_BEGIN}&vse={EVENT_END}&vpos={VIDEO_PLAYBACK_POS}&vt={IS_LIVE}&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_SEEK","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=210&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_COMPLETE","param":"&vpos={VIDEO_LENGTH}&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYER_FULLSCREEN","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=213&vq={VIDEO_SEQ_NUMBER}"},{"name":"AD_PLUGIN_METRIC","param":"&aplc{CUSTOM_PARAMS}&cf63={AUTOPLAY}&cf99={MATURE_CONTENT}&cf201={SITE}&cf202={REGION}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&.ys={PAGE_SPACE_ID}&cf09={EXPERIENCE_TYPE}&cf10={EXPERIENCE_NAME}&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}"},{"name":"VP_INIT_TO_STARTSCREEN","param":"&vx=15&vpl={PLAYER_LOCATION}&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}&vf={PAGE_URL}&vsn={SHOW_NAME}&cf99={MATURE_CONTENT}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf206={MEDIA_META_TAGS}&cf208={LICENSE_ID}&ve={PAGE_REFERRER}"},{"name":"UI_INTERACT","param":"&vx=5&cf57={UI_INTERACT_PAYLOAD}&cf99={MATURE_CONTENT}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf206={MEDIA_META_TAGS}&vsn={SHOW_NAME}&cf87={PROVIDER_ID}&cf91={PROVIDER_VIDEO_ID}&cf88={PUBLISHER_ID}&cf59={GENRE}&vf={PAGE_URL}"}];
return this._generateBeaconList(ao,Y,P.SERVICES.YWA,"rn");},_beaconULT:function(){var ao,ap=document.location.protocol+"//geo.yahoo.com/p?t={RANDOM_VALUE}&_V=V&s={PAGE_SPACE_ID}&",Y="vid={VIDEO_CLIP_ID}&pstaid={VIDEO_CLIP_ID}&cfgpsid={CONFIG_PSPID}&"+"lcnsr_nm={LICENSOR_NAME}&lms_id={LICENSE_ID}&mtr={MATURE_CONTENT}&"+"pls={PLAYER_INT32_GUID}&A_sid={PAGE_SID}&plist={CCM_PLAYLIST_ID}&site={SITE}&"+"lang={COUNTRY_LANGUAGE_CODE}&intl={REGION}&juris={JURISDICTION}&synd={SYNDICATION}&"+"_w={PAGE_URL}&pver={PLAYER_VERSION}&expn={EXPERIENCE_NAME}&expt={EXPERIENCE_TYPE}&"+"expb={EXPERIENCE_BUCKET}&loc={PLAYER_LOCATION}&type={VIDEO_TYPE}&auto={AUTOPLAY}&"+"cont={CONTINUOUS_PLAY}&contcnt={CONTINUOUS_PLAY_COUNT}&bckt={PLAYER_BUCKET}&"+"pub={PROVIDER_ID}&pvid={PROVIDER_VIDEO_ID}&pub_id={PUBLISHER_ID}&gnre={GENRE}&_R={PAGE_REFERRER}";ao=[{"name":"PAGE_VIEW","param":ap+"V_sec=pb&evt=p_load&"+Y},{"name":"PLAYBACK_REQUEST","param":ap+"V_sec=pb&evt=v_req&V_slk=pr&"+Y},{"name":"AD_START","param":ap+"V_sec=pb&evt=ad_start&V_slk=as0&"+Y},{"name":"PLAYBACK_START","param":ap+"V_sec=pb&evt=v_start&V_slk=ps{VIDEO_WATCHED_PERCT}&"+Y},{"name":"PLAYBACK_PROGRESS","param":ap+"V_sec=pb&evt=v_prog&dur={VIDEO_PLAYBACK_POS}&V_slk=ps{VIDEO_WATCHED_PERCT}&"+Y},{"name":"PLAYBACK_COMPLETE","param":ap+"V_sec=pb&evt=v_comp&dur={VIDEO_PLAYBACK_POS}&V_slk=ps100&"+Y},{"name":"PLAYER_ERR","param":ap+"V_sec=err&evt=err&V_slk={PLAYER_ERR_TYPE}%23{PLAYER_ERR_CODE}&"+Y},{"name":"UI_MODULE_VIEW","param":ap+"V_sec={SECTION_NAME}&V_slk=view&lctxt={LINK_CONTEXT}&vctxt={VIDEO_CONTEXT}&"+Y},{"name":"UI_INTERACT","param":ap+"V_sec={SECTION_NAME}&evt={SECTION_NAME}&V_slk={SECTION_LINK_NAME}&lctxt={LINK_CONTEXT}&vctxt={VIDEO_CONTEXT}&pos={UI_INTERACT_VIDEO_POSITION}&"+Y}];return this._generateBeaconList(false,ao,P.SERVICES.ULT);},_beaconYvapQoS:function(){var ao=(document.location.protocol==="https:")?1:0,ap=((ao)?"https:":"http:")+"//qos.video.yimg.com/yvap/4/qos?"+this._commonQoSParams,Y=[{"name":"AD_PLUGIN_QOS_METRIC","param":"&qaplc{CUSTOM_PARAMS}&ln={LICENSE_NAME}"}];return this._generateBeaconList(ap,Y,P.SERVICES.QOS,"rn",true);},_beaconQOS:function(){var ao=(document.location.protocol==="https:")?1:0,Y=((ao)?"https:":"http:")+"//qos.video.yimg.com/yep/3/qos?"+this._commonQoSParams,ap=[{"name":"PLAYBACK_START","param":"&bId=p3&hd={HD_AVAILABLE}&tpb={PLAYBACK_START_DELAY}"},{"name":"PLAYER_ERR","param":"&bId=p1&e={PLAYER_ERR_TYPE}.{PLAYER_ERR_CODE}&e.{PLAYER_ERR_TYPE}.{PLAYER_ERR_CODE}&vm={PLAYER_ERR_MSG}"},{"name":"YVAP_ADSTARTED","param":"&bId=a1&hd={HD_AVAILABLE}&tyvapads={QOS_TIMER_DIFF}"},{"name":"YVAP_NOAD","param":"&bId=a2&hd={HD_AVAILABLE}&tyvapadn={QOS_TIMER_DIFF}"},{"name":"YVAP_ERROR","param":"&bId=a3&hd={HD_AVAILABLE}&tyvape={QOS_TIMER_DIFF}"},{"name":"AD_PROGRESS","param":"&bId=a4&hd={HD_AVAILABLE}&dur={AD_DURATION}"},{"name":"VP_INIT_TO_START","param":"&bId=p8&secure="+ao+"&hd={HD_AVAILABLE}&vpf={VIDEO_PREFETCH}&ttsapt{VP_INIT_TO_START_SUFFIX}={QOS_TIMER_DIFF}&{QOS_TIME_BREAKUP}"},{"name":"PLAYBACK_REQUEST","param":"&bId=p2&cno={VSA_CELL_NO}&hd={HD_AVAILABLE}&pr&status={CMS_STATUS_CODE}"},{"name":"VP_CLICK_TO_START","param":"&bId=p9&hd={HD_AVAILABLE}&vpf={VIDEO_PREFETCH}&ttsapf={QOS_TIMER_DIFF}&{QOS_TIME_BREAKUP}"},{"name":"LIVE_CDN_FAILOVER","param":"&bId=p10&hd={HD_AVAILABLE}&e={PLAYER_ERR_TYPE}.{PLAYER_ERR_CODE}&vm={PLAYER_ERR_MSG}"},{"name":"VP_MEDIA_CHANGE","param":"&bId=p7&hd={HD_AVAILABLE}&vpmc={QOS_TIMER_DIFF}&vpf={VIDEO_PREFETCH}&acnt={AUTOCONTINUE}"},{"name":"SAPI_LOADRELATED","param":"&bId=s1&hd={HD_AVAILABLE}&tsapilr={QOS_TIMER_DIFF}&rcnt={RETRY_COUNT}"},{"name":"PLAYBACK_PROGRESS","param":"&bId=p4&hd={HD_AVAILABLE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={BUFFERING_TIME}&br={BITRATE}&pp"},{"name":"PLAYBACK_COMPLETE","param":"&bId=p6&hd={HD_AVAILABLE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={BUFFERING_TIME}&br={BITRATE}&pp"},{"name":"DISPLAY_ENDSCREEN","param":"&bId=p11&cno={VSA_CELL_NO}"},{"name":"PLAYBACK_SEEK","param":"&bId=p5&hd={HD_AVAILABLE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={BUFFERING_TIME}&br={BITRATE}&pp"},{"name":"YQL_LOAD_CC","param":"&bId=u1&hd={HD_AVAILABLE}&tyqlcc={QOS_TIMER_DIFF}"},{"name":"SET_CC_PREF","param":"&bId=u2&hd={HD_AVAILABLE}&tsetcc={QOS_TIMER_DIFF}"},{"name":"SET_WATCH_HISTORY","param":"&bId=u3&hd={HD_AVAILABLE}&tsetwh={QOS_TIMER_DIFF}"}];return this._generateBeaconList(Y,ap,P.SERVICES.QOS,"rn",true);}};f.namespace("VideoPlatform").PlayerBeaconList=V;function ak(){this._playerStartTime=(new Date()).getTime();this._profileItems=[];}ak.NAME="Profiler";ak.NS="Profiler";ak.prototype.getProfileItems=function(){return this._profileItems;};ak.prototype.setMetricsModule=function(Y){this._metricsModule=Y;};ak.prototype.getPlayerStartTime=function(){return this._playerStartTime;};ak.prototype.add=function(aq){if(!aq){return;}var ap=this._createProfileItem(aq),ao="@",Y=ap.type,ar=ap.startTime;ap.key=Y+ao+ar;this._profileItems.push(ap);return ap.key;};ak.prototype.remove=function(ap,aq){var ao=0,Y=this._profileItems;if(!this._isValidType(ap)||Y.length===0){return;}for(;ao<Y.length;ao++){if((aq&&aq===Y[ao].key)||(!aq&&ap===Y[ao].type)){Y.splice(ao,1);break;}}};ak.prototype.setStartTime=function(ap,Y,aq){var ao=this.getItem(ap,aq);if(ao===null){return;}ao.startTime=Y;};ak.prototype.setEndTime=function(ap,aq,Y){var ao=this.getItem(ap,aq);if(ao===null){return;}ao.endTime=Y||((new Date()).getTime()-this._playerStartTime);ao.timeDiff=ao.endTime-ao.startTime;if(this._metricsModule&&(ap===am.VP_INIT_TO_START.type||ap===am.VP_CLICK_TO_START.type)){ao.queryStringExtn=this._createQueryStringExtension();this._metricsModule.handleQOSProfiling(ao);}};ak.prototype.setDelta=function(ao,aq,ap){var Y=this.getItem(ao,ap);if(Y===null){return;}Y.endTime=aq?(Y.startTime+aq):NaN;Y.timeDiff=aq;};ak.prototype.getItem=function(ap,aq){var ao=0,Y=this._profileItems;if(!this._isValidType(ap)||Y.length===0){return null;}for(;ao<Y.length;ao++){if((aq&&aq===Y[ao].key)||(!aq&&ap===Y[ao].type)){return Y[ao];}}return null;};
ak.prototype.draw=function(){var ao="",Y=this._profileItems;if(!Y||Y.length===0){return ao;}ao+='<p><table border="1">';ao+="<tr><td>Key</td><td>Description</td><td>START</td><td>END</td><td>DIFF</td></tr>";f.each(Y,function(ap){ao+="<tr><td>"+ap.type+"</td><td>"+ap.message+"</td><td>"+ap.startTime+"</td><td>"+ap.endTime+"</td><td>"+ap.timeDiff+"</td>"+'<td style="white-space: nowrap;">'+'<div style="display: inline-block; width:'+Math.floor(ap.startTime/3)+'px; height: 25px;"></div>'+'<div style="display: inline-block; background-color: '+ap.color+"; "+"width:"+Math.floor(ap.timeDiff/3)+'px; height:25px; border:1px solid #000"></div></td></tr>';});ao+="</table></p>";return ao;};ak.prototype._createProfileItem=function(Y){return{type:Y.type,message:Y.desc,color:Y.color||"white",qosMetric:Y.qosMetric===true,startTime:Y.start||(new Date()).getTime()-this._playerStartTime,endTime:NaN,timeDiff:NaN};};ak.prototype._createQueryStringExtension=function(){var Y="",ao="&",ar="_s",aq="_d",ap=this._profileItems;f.each(ap,function(at){if(at.qosMetric===true){if(Y!==""){Y+=ao;}Y+=at.type+ar+"="+at.startTime;Y+=ao;Y+=at.type+aq+"="+at.timeDiff;}});return Y;};ak.prototype._isValidType=function(Y){return(Y&&Y!==""&&typeof Y==="string");};f.namespace("VideoPlatform").Profiler=ak;function u(){u.superclass.constructor.apply(this,arguments);}u.NAME="Comscore";u.NS="comscore";u.ATTRS={streamsenseJs:{value:"https://s.yimg.com/rx/builds/4.69.0.1415767921/assets/streamsense.min.js"},baseUrl:{value:"scorecardresearch.com/p?c1={comscoreC1}&c2={comscoreC2}"},comscoreC1:{value:"2",validator:f.Lang.isString},comscoreC2:{value:"7241469",validator:f.Lang.isString}};f.extend(u,f.Base,{initializer:function(ao){var Y=this;Y._metrics=ao.metricsModule;Y._model=ao.model;Y._controller=ao.controller;Y._streamSenceTag=null;Y.skipJsLoadingCheck=Y._model.get("skipComscoreJsLoading");if(window.ns_&&window.ns_.StreamSense){Y.createStreamingTag();}else{Y.loadScript(Y.get("streamsenseJs"),function(ap){if(ap){console.error("Failed to load comscore streamsense js:-"+ap);return;}Y.createStreamingTag();});}},loadScript:function(ao,az){var aB=this,av,ar,aA=false,ap,ax=aB.constructor.NAME,aq=aB._controller,aw=f.VideoPlatform.ErrorObject,Y=aw.ERROR.COMSCORE_STREAMSENSE_ERROR,ay=aw.ERROR.COMSCORE_STREAMSENSE_TIMEOUT,au=document.createElement("script");au.async=true;au.src=ao;av=window.setTimeout(function(){if(ar){clearTimeout(ar);ar=null;}ap=new aw(ay.type,ay.code,ax,"streamsense script timeout",aw.LEVEL.WARNING);aq.warn(ap);az("Script load timeout");},10000);function aC(aE,aD){if(window.ns_&&window.ns_.StreamSense){if(ar){clearTimeout(ar);ar=null;}aD(null);}else{ar=window.setTimeout(function(){aC(au,aD);},100);}}function at(aD){if(!aA){aA=true;az(aD);}clearTimeout(av);}if(f.UA.ie>0&&f.UA.ie<9){aC(au,at);}else{au.onload=function(){at(null);};}au.onerror=function(aD){at("Failed to load script");ap=new aw(Y.type,Y.code,ax,"sctreamsense script loading error: "+aD.msg+";"+aD.description,aw.LEVEL.WARNING);aq.warn(ap);};document.body.appendChild(au);if(aB.skipJsLoadingCheck){at("Cancelling script execution");}return function(){at("Cancelling script execution");};},createStreamingTag:function(){var Y=this,ao;ao=f.Lang.sub(Y.get("baseUrl"),{comscoreC1:Y.get("comscoreC1"),comscoreC2:Y.get("comscoreC2")});ao=(document.location.protocol==="https:"?"https://sb.":"http://b.")+ao;Y._streamSenceTag=new window.ns_.StreamSense({},ao);},getStreamingTag:function(){return this._streamSenceTag;},setPersistentLabels:function(ao){var Y=this;if(!Y._streamSenceTag){return;}Y._streamSenceTag.setLabels(ao);},setPlaylist:function(ao){var Y=this;if(!Y._streamSenceTag){return;}Y._streamSenceTag.setPlaylist(ao);},setClip:function(ao){var Y=this;if(!Y._streamSenceTag){return;}Y._streamSenceTag.setClip(ao);},notifyState:function(ap,ar,Y){var ao=this,aq={"play":window.ns_.StreamSense.PlayerEvents.PLAY,"pause":window.ns_.StreamSense.PlayerEvents.PAUSE,"buffer":window.ns_.StreamSense.PlayerEvents.BUFFER,"end":window.ns_.StreamSense.PlayerEvents.END};if(!ao._streamSenceTag){return;}ao._streamSenceTag.notify(aq[ap],ar,Y);},updateClipAttrs:function(ap){var ao=this,Y;if(!ao._streamSenceTag){return;}Y=ao._streamSenceTag.getClip();if(Y){Y.setLabels(ap);}}});f.namespace("VideoPlatform").Comscore=u;},"4.69.0.1415767921",{requires:["arraylist","arraylist-add","arraylist-filter","array-extras","jsonp","base","substitute","io-xdr","io-base","json-parse","swf","event-mouseenter","event-key","event-hover","event-custom","node","json-stringify","classnamemanager","event-tap","event-touch","cookie","escape","yepswf","async-queue","transition","VideoAdPlugin"]});;YAHOO.VideoPlatform.i18n = {"ADVERTISEMENT":"Advertisement","ARROW_DOWN":"Arrow Down:","ARROW_LEFT":"Arrow Left:","ARROW_RIGHT":"Arrow Right:","ARROW_UP":"Arrow Up:","AUTO_UCF":"Auto","CAPTIONS_LC":"captions","CAPTIONS_BACKGROUND_SETTINGS_LC":"background","CAPTIONS_CUSTOMIZE_LC":"customize","CAPTIONS_EFFECT_SETTINGS":"effects","CAPTIONS_EFFECT_NONE":"none","CAPTIONS_EFFECT_DROP_SHADOW":"drop shadow","CAPTIONS_EFFECT_RAISED":"raised","CAPTIONS_EFFECT_DEPRESSED":"depressed","CAPTIONS_EFFECT_OUTLINED":"uniform","CAPTIONS_FEEDBACK":"feedback","CAPTIONS_LANGUAGE_LC":"language","CAPTIONS_LANGUAGE_NOT_AVAILABLE":"English captions unavailable","CAPTIONS_NOT_AVAILABLE":"No captions available","CAPTIONS_NOT_AVAILABLE_LC":"no captions available","CAPTIONS_OPAQUE":"opaque","CAPTIONS_OPACITY_PERCENTAGE":"{number}% ({opacity})","CAPTIONS_OPTIONS":"options","CAPTIONS_PREVIEW_TEXT_LC":"captions appear like this","CAPTIONS_STYLE_LC":"style","CAPTIONS_TRANSPARENCY":"transparency","CLIP":"Clip","CLOSE_HOTKEY_MENU":"Close Hotkey Menu","CLOSE_INFO":"Close Info","CLOSE_MENU":"Close Menu","CLOSED_CAPTION_COMPLAINTS":"Closed Caption Complaints","DOWNLOAD_FLASH":"Download the free Flash Player Now!","EMBED_UCF":"Embed","EMBED_LC":"embed","EMBED_COLON":"Embed:","ENDS":"ends","ERR_DEVICE":"This video is not available on your device due to provider license restrictions.","ERR_EMBED":"This video cannot be embedded due to provider license restrictions.","ERR_FLASH_IS_BLOCKED":"Unfortunately, Flash is blocked from loading.","ERR_REL_FLASH_IS_BLOCKED":"Verify Flash is not disabled in the browser or Flash blocker turned on, then reload the page.","ERR_FLASH_NOT_ENABLED":"You need Adobe Flash to play this video.","ERR_FLASH_NOT_UPTO_DATE":"Your Adobe Flash is an old version.","ERR_GEO":"This video is not available in your location due to provider license restrictions.","ERR_NOT_ALLOWED":"You must to be signed in and can watch this video at only one location.","ERR_NOT_FOUND":"We're so sorry! We're no longer able to display this video.","ERR_REL_VIDEO":"Please check out one of these related videos:","ERR_REL":"Feel free to check out one of these related videos:","ERR_REL_TECH_ERR":"Please check your internet connection or <span class=\"yui3-videoplayer-errorscreen-sub-desc-try\">try reloading</span> the video. Otherwise, check out one of these related videos:","ERR_TECH_DIFFICULTIES":"We are experiencing technical difficulties.","ERR_TITLE":"We're sorry...","ERR_UNAVAILABLE":"We're so sorry! We're no longer able to display this video.","ERR_UNAVAILABLE_TEMP":"This video is currently not available due to provider license restrictions.","ERR_UNSUPPORTED_FORMAT":"Oops, we made a programming error as this is not a valid video format.","ERR_UNAVAILABLE_SORRY":"Sorry, this video is no longer available.","ERR_LICENSE":"This video is no longer available due to provider license restrictions.","ERR_EXPIRED":"This video has expired and no longer available.","ERR_EMBARGOED":"This video has been removed at the provider's request.","ERR_USER":"This video is not available for the current user.","ERR_SESSION_TIMEOUT":"Your session has timed out.","FLASH_UPGRADE_NOTE":"Please upgrade to view this video.","FONT_NAME_LC":"font","FONT_SIZE_LC":"size","HD_NOT_AVAIL":"HD Not Available","HOTKEY_MENU":"Hotkey Menu","JUST_WATCHED":"Just Watched","LINK_LC":"link","LINK_COLON":"Link:","LOADING":"Loading","MUTE_OFF":"Unmute","MUTE_ON":"Mute","NEXT_VIDEO":"Next Video","NOW_PLAYING":"Now Playing","ON_LC":"on","OFF_LC":"off","OPEN_HOTKEY_MENU":"Open Hotkey Menu","OPEN_INFO":"Open Info","PAUSE":"Pause","PLAY":"Play","PLAY_PAUSE":"Play / Pause","PLAY_VIDEO":"Play Video","PREV_VIDEO":"Previous Video","QUALITY_LC":"quality","QUALITY_AUTO_LC":"auto","QUESTION_MARK":"Question Mark:","REPLAY":"Replay","SEEK_FIVE_BACK":"Seek Back 5 seconds","SEEK_FIVE_FWD":"Seek Forward 5 seconds","SHARE_LC":"share","SHARE_ON_FACEBOOK":"Share on Facebook","SIZE_LC":"size","SPACE_BAR":"Space Bar:","STARTS":"starts","SUBSCRIBE_TO":"Subscribe to","TURN_AUTO_PLAY_OFF":"Turn Autoplay Off","TURN_AUTO_PLAY_ON":"Turn Autoplay On","UPGRADE_FLASH":"Upgrade Flash","UP_NEXT":"Up Next:","VID_BEGIN_IN":"Your video will begin in {number} seconds","VID_PLAYER_CTRLS":"Video Player Controls","VIEW_AGAIN":"View Again","VISIT_LINK_FOR_NEW_VIDEOS":"Please visit {url_link} for new videos.","VOLUME_LC":"volume","VOL_DOWN":"Volume Down","VOL_UP":"Volume Up","AGE_GATE_DESC":"This content is intended for mature audiences. Viewer discretion advised.","SIGN_IN_TO_VIEW_ACTION":"Sign-in to view","AGE_GATE_BDAY_DESC":"This content is intended for mature audiences. Please enter your date of birth below to continue.","SUBMIT_ACTION":"Submit","AGE_GATE_NOT_ALLOWED_DESC":"Sorry. This content is intended for mature audiences.","BACK_ACTION":"Back","CONTINUE_ACTION":"Continue","CONTENT_RESTRICTED":"Content Restricted","MATURE":"Mature","LIVE_PLAYBACK_NATIVE_ANDROID":"Live playback on Android requires Chrome browser."};;YAHOO.VideoPlatform.PlayerHosting = {"bucket":50,"colo":"gq1","env":"p"};;YAHOO.VideoPlatform.WhiteListedDomains = {"abcnews.go.com":"","acc.independent.co.uk":"","agenciabrasil.ebc.com.br":"","and-hsk-molint-ets-uk.andintweb.dmgt.net":"","cma-nol.newsoftheworld.co.uk":"","cma.thetimes.co.uk":"","creative.dailymail.co.uk":"","dailyexpresstoby.calypso.netro42.com":"","etonline.com":"","expressandstar.com":"","fantasyfootball.metro.co.uk":"","guardian.com":"","hellogiggles.com":"","metrofantasy.qa.fsbtech.com":"","mol-uk.andweb.dmgt.net":"","self.ch1.apps.yahooapis.com":"","staging.gfm.metro.co.uk":"","telesto.netro42.net":"","thetimes.co.uk":"","video.maktoob.com":"","yahoo-the-dugout.dgtl.net":"","www.bridgnorthjournal.com":"","www.dailyexpress.co.uk":"","www.dailymail.co.uk":"","www.dailystar.co.uk":"","www.dev1.telegraph.co.uk":"","www.dev2.telegraph.co.uk":"","www.etonline.com":"","www.expressandstar.com":"","www.express.co.uk":"","www.grindtv.com":"","www.guardian.co.uk":"","www.herefordshirejournals.com":"","www.huffingtonpost.com":"","www.independent.co.uk":"","www.marketdraytonadvertiser.com":"","www.metro.co.uk":"","www.mirror.co.uk":"","www.newportadvertiser.com":"","www.newsoftheworld.co.uk":"","www.northshropshirechronicle.com":"","www.rivals.com":"","www.rivals.yahoo.com":"","www.shrewsburychronicle.com":"","www.shropshirestar.com":"","www.southshropshirejournals.com":"","www.standard.co.uk":"","www.talktalk.co.uk":"","www.telegraph.co.uk":"","www.telfordjournal.com":"","www.test1.telegraph.co.uk":"","www.test2.telegraph.co.uk":"","www.test3.telegraph.co.uk":"","www.test4.telegraph.co.uk":"","www.test5.telegraph.co.uk":"","www.test6.telegraph.co.uk":"","www.test7.telegraph.co.uk":"","www.test8.telegraph.co.uk":"","www.thepostgame.com":"","www.thesun.co.uk":"","www.thesundaytimes.co.uk":"","www.thetimes.co.uk":"","www.thisisbarton.co.uk":"","www.thisisbath.co.uk":"","www.thisisbelper.co.uk":"","www.thisisblackmorevale.co.uk":"","www.thisisboston.co.uk":"","www.thisisbridgwater.co.uk":"","www.thisisbrigg.co.uk":"","www.thisisbristol.co.uk":"","www.thisisburnham.co.uk":"","www.thisiscentralsomerset.co.uk":"","www.thisischeadle.co.uk":"","www.thisischeddarvalley.co.uk":"","www.thisisclevedon.co.uk":"","www.thisiscornwall.co.uk":"","www.thisiscourier.co.uk":"","www.thisiscrawley.co.uk":"","www.thisiscroydontoday.co.uk":"","www.thisisderbyshire.co.uk":"","www.thisisdevon.co.uk":"","www.thisisexeter.co.uk":"","www.thisisfosse-way.co.uk":"","www.thisisgloucestershire.co.uk":"","www.thisisgrimsby.co.uk":"","www.thisisguernsey.com":"","www.thisishullandeastriding.co.uk":"","www.thisisilkeston.com":"","www.thisisjersey.com":"","www.thisiskent.co.uk":"","www.thisisleek.co.uk":"","www.thisisleicestershire.co.uk":"","www.thisislichfield.co.uk":"","www.thisislincolnshire.co.uk":"","www.thisislondon.co.uk":"","www.thisislouth.co.uk":"","www.thisismiddevon.co.uk":"","www.thisisnorthdevon.co.uk":"","www.thisisnottingham.co.uk":"","www.thisisplymouth.co.uk":"","www.thisisretford.co.uk":"","www.thisisscunthorpe.co.uk":"","www.thisisshepton.co.uk":"","www.thisissomerset.co.uk":"","www.thisissomersetguardian.co.uk":"","www.thisissomersetstandard.co.uk":"","www.thisissouthderbyshire.co.uk":"","www.thisissouthdevon.co.uk":"","www.thisisstourandavon.co.uk":"","www.thisisstroudtoday.co.uk":"","www.thisissurreytoday.co.uk":"","www.thisissussex.co.uk":"","www.thisissuttoncoldfield.co.uk":"","www.thisisswansea.co.uk":"","www.thisistamworth.co.uk":"","www.thisistheforest.co.uk":"","www.thisisthesentinel.co.uk":"","www.thisistotalessex.co.uk":"","www.thisisuttoxeter.co.uk":"","www.thisiswalsallonline.co.uk":"","www.thisiswells.co.uk":"","www.thisiswesterndailypress.co.uk":"","www.thisiswesterngazette.co.uk":"","www.thisiswesternmorningnews.co.uk":"","www.thisiswestonsupermare.co.uk":"","www.timesonline.co.uk":"","www.uat1.telegraph.co.uk":"","www.uat2.telegraph.co.uk":"","www.uat3.telegraph.co.u":"","www.vosmeilleuresidees.yahoo.fr":"","www.yahoo-evenements.fr":"","www.ycorpblog.com":"","www.yourchronicle.com":"","www.zonalmarking.net":""};<!-- // p|gq1|pprd1-node30-lh2|50|4.69.0.1415767921|Fri Nov 14 2014 20:27:50 GMT+0000 (UTC)|600|0.295877086231485 -->